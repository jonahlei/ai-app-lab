/*
 * Copyright (c) 2025 Bytedance Ltd. and/or its affiliates
 * Licensed under the 【火山方舟】原型应用软件自用许可协议
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at 
 *     https://www.volcengine.com/docs/82379/1433703
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).vePhoneSDK=t()}(this,(function(){"use strict";function _arrayLikeToArray$1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _asyncIterator(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new AsyncFromSyncIterator(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}function asyncGeneratorStep(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){asyncGeneratorStep(a,r,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,r,i,o,s,"throw",e)}o(void 0)}))}}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _construct(e,t,n){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _createForOfIteratorHelper$1(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray$1(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _defineProperty$1(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_get.apply(null,arguments)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _isNativeFunction(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function(){return!!e})()}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty$1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof R?t:R,o=Object.create(a.prototype),s=new N(r||[]);return i(o,"_invoke",{value:g(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=d;var U="suspendedStart",F="suspendedYield",p="executing",Q="completed",h={};function R(){}function _(){}function S(){}var B={};c(B,o,(function(){return this}));var m=Object.getPrototypeOf,f=m&&m(m(b([])));f&&f!==n&&r.call(f,o)&&(B=f);var E=S.prototype=R.prototype=Object.create(B);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function n(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function g(t,n,r){var i=U;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===Q){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=T(s,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===U)throw i=Q,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=u(t,n,r);if("normal"===c.type){if(i=r.done?Q:F,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=Q,r.method="throw",r.arg=c.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=u(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function b(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return _.prototype=S,i(E,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:_,configurable:!0}),_.displayName=c(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},v(y.prototype),c(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new y(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(E),c(E,l,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=b,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:b(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray$1(e,t)||_nonIterableRest()}function _superPropBase(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _superPropGet(e,t,n,r){var i=_get(_getPrototypeOf(1&r?e.prototype:e),t,n);return 2&r?function(e){return i.apply(n,e)}:i}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread()}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _unsupportedIterableToArray$1(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$1(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$1(e,t):void 0}}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)},_wrapNativeSuper(e)}var commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace$1(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var eventEmitter={exports:{}},d$3={exports:{}},_undefined$1=void 0,is$4=function(e){return e!==_undefined$1&&null!==e},isValue$3=is$4,possibleTypes={object:!0,function:!0,undefined:!0},is$3=function(e){return!!isValue$3(e)&&hasOwnProperty.call(possibleTypes,_typeof$1(e))},isObject$a=is$3,is$2=function(e){if(!isObject$a(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}},isPrototype$5=is$2,is$1=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(t){return!1}return!isPrototype$5(e)},isFunction$6=is$1,classRe=/^\s*class[\s{/}]/,functionToString$1=Function.prototype.toString,is=function(e){return!!isFunction$6(e)&&!classRe.test(functionToString$1.call(e))},isImplemented$2=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},isImplemented$1,hasRequiredIsImplemented;function requireIsImplemented(){return hasRequiredIsImplemented?isImplemented$1:(hasRequiredIsImplemented=1,isImplemented$1=function(){try{return Object.keys("primitive"),!0}catch(e2){return!1}})}var noop$1=function(){},_undefined=noop$1(),isValue$2=function(e){return e!==_undefined&&null!==e},shim$2,hasRequiredShim$2,keys$5,hasRequiredKeys,validValue,hasRequiredValidValue,shim$1,hasRequiredShim$1;function requireShim$2(){if(hasRequiredShim$2)return shim$2;hasRequiredShim$2=1;var e=isValue$2,t=Object.keys;return shim$2=function(n){return t(e(n)?Object(n):n)}}function requireKeys(){return hasRequiredKeys?keys$5:(hasRequiredKeys=1,keys$5=requireIsImplemented()()?Object.keys:requireShim$2())}function requireValidValue(){if(hasRequiredValidValue)return validValue;hasRequiredValidValue=1;var e=isValue$2;return validValue=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t}}function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var e=requireKeys(),t=requireValidValue(),n=Math.max;return shim$1=function(r,i){var a,o,s,l=n(arguments.length,2);for(r=Object(t(r)),s=function(e){try{r[e]=i[e]}catch(e2){a||(a=e2)}},o=1;o<l;++o)e(i=arguments[o]).forEach(s);if(void 0!==a)throw a;return r},shim$1}var assign$3=isImplemented$2()?Object.assign:requireShim$1(),isValue$1=isValue$2,forEach$2=Array.prototype.forEach,create$2=Object.create,process$1=function(e,t){var n;for(n in e)t[n]=e[n]},normalizeOptions=function(e){var t=create$2(null);return forEach$2.call(arguments,(function(e){isValue$1(e)&&process$1(Object(e),t)})),t},str="razdwatrzy",isImplemented=function(){return"function"==typeof str.contains&&(!0===str.contains("dwa")&&!1===str.contains("foo"))},shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var e=String.prototype.indexOf;return shim=function(t){return e.call(this,t,arguments[1])>-1},shim}var contains$1=isImplemented()?String.prototype.contains:requireShim(),isValue=is$4,isPlainFunction=is,assign$2=assign$3,normalizeOpts=normalizeOptions,contains=contains$1,d$2=d$3.exports=function(e,t){var n,r,i,a,o;return arguments.length<2||"string"!=typeof e?(a=t,t=e,e=null):a=arguments[2],isValue(e)?(n=contains.call(e,"c"),r=contains.call(e,"e"),i=contains.call(e,"w")):(n=i=!0,r=!1),o={value:t,configurable:n,enumerable:r,writable:i},a?assign$2(normalizeOpts(a),o):o};d$2.gs=function(e,t,n){var r,i,a,o;return"string"!=typeof e?(a=n,n=t,t=e,e=null):a=arguments[3],isValue(t)?isPlainFunction(t)?isValue(n)?isPlainFunction(n)||(a=n,n=void 0):n=void 0:(a=t,t=n=void 0):t=void 0,isValue(e)?(r=contains.call(e,"c"),i=contains.call(e,"e")):(r=!0,i=!1),o={get:t,set:n,configurable:r,enumerable:i},a?assign$2(normalizeOpts(a),o):o};var dExports=d$3.exports,validCallable=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},module2,exports2,on,_once2,off,emit,methods,descriptors2,base,d2,callable,apply2,call2,create2,defineProperty2,defineProperties,hasOwnProperty2,descriptor;module2=eventEmitter,exports2=eventEmitter.exports,d2=dExports,callable=validCallable,apply2=Function.prototype.apply,call2=Function.prototype.call,create2=Object.create,defineProperty2=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty2=Object.prototype.hasOwnProperty,descriptor={configurable:!0,enumerable:!1,writable:!0},_once2=function(e,t){var n,r;return callable(t),r=this,on.call(this,e,n=function(){off.call(r,e,n),apply2.call(t,this,arguments)}),n.__eeOnceListener__=t,this},emit=function(e){var t,n,r,i,a;if(hasOwnProperty2.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"===_typeof$1(i)){for(n=arguments.length,a=new Array(n-1),t=1;t<n;++t)a[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)apply2.call(r,this,a)}else switch(arguments.length){case 1:call2.call(i,this);break;case 2:call2.call(i,this,arguments[1]);break;case 3:call2.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,a=new Array(n-1),t=1;t<n;++t)a[t-1]=arguments[t];apply2.call(i,this,a)}},methods={on:on=function(e,t){var n;return callable(t),hasOwnProperty2.call(this,"__ee__")?n=this.__ee__:(n=descriptor.value=create2(null),defineProperty2(this,"__ee__",descriptor),descriptor.value=null),n[e]?"object"===_typeof$1(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:_once2,off:off=function(e,t){var n,r,i,a;if(callable(t),!hasOwnProperty2.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===_typeof$1(r=n[e]))for(a=0;i=r[a];++a)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[a?0:1]:r.splice(a,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:emit},descriptors2={on:d2(on),once:d2(_once2),off:d2(off),emit:d2(emit)},base=defineProperties({},descriptors2),module2.exports=exports2=function(e){return null==e?create2(base):defineProperties(Object(e),descriptors2)},exports2.methods=methods;var eventEmitterExports=eventEmitter.exports,EventEmitter$2=getDefaultExportFromCjs$1(eventEmitterExports),_e$1=function(){return(_e$1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function t$2(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function i$3(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function o$1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i$3(arguments[t]));return e}var n$1,r$1=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function r(i){t(i),n.off(e,r)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o$1(this._hooks[e]).forEach((function(e){try{e(t)}catch(n){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),s$1=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},a$1=(n$1=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return n$1+=1}),c$2=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var r,i=[];n=n<=25?n:n%25;var a=String.fromCharCode(n+97);r=e.split(a);for(var o=0;o<r.length;o++){var s=parseInt(r[o],n);s=1*s^64;var l=String.fromCharCode(s);i.push(l)}return i.join("")}}(e,0,25)},l$1=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,r=Date.now()+t;return n=window.setTimeout((function i(){var a=Date.now()-r;e(),r+=t,n=window.setTimeout(i,Math.max(0,t-a))}),t),function(){window.clearTimeout(n)}},u$1=function(e){var t=document.createElement("a");return t.href=e,t},p$1=function(e){var t={};try{var n=u$1(e).search;if(!n)return t;(n=n.slice(1)).split("&").forEach((function(e){var n,r,i=e.split("=");i.length&&(n=i[0],r=i[1]);try{t[n]=decodeURIComponent(void 0===r?"":r)}catch(a){t[n]=r}}))}catch(r){}return t},h$1=function(e){for(var t=0,n=0,r=(e+="").length,i=0;i<r;i++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t},f$1,d$1=(e2=f$1={exports:{}},f$1.exports,i2=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,!0!==a[l]&&(s+="="+a[l].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(d){}if(i[c]=l,e===c)break}catch(d){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},e2.exports=i2(),f$1.exports),g$1=function(e,t){try{return e?d$1.get(e,{domain:t||document.domain}):d$1.get()}catch(n){return""}},m$1=function(e,t,n,r){try{var i=r||document.domain,a=+new Date+(n||6048e5);d$1.set(e,t,{expires:new Date(a),path:"/",domain:i})}catch(o){}},_=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return g$1(e,t)},e.prototype.setCookie=function(e,t,n,r){m$1(e,t,n,r)},e}(),e2,i2,y,v$2,b$1={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(r){}return n||{}}catch(r){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(r){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(t){}},getCookie:function(e,t){return g$1(e,t)},setCookie:function(e,t,n,r){m$1(e,t,n,r)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e2){return!1}}()},E$1={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(r){}return n||{}}catch(r){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(r){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(t){}},getCookie:function(e,t){return g$1(e,t)},setCookie:function(e,t,n,r){m$1(e,t,n,r)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e2){return!1}}()},S=function(){function e(e,t){this._storage=t&&"session"===t?E$1:!e&&b$1.isSupportLS?b$1:new _}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,r){this._storage.setCookie(e,t,n,r)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),w$1=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,r=n?u$1(n).hostname:"",i=p$1(window.location.href),a=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,r){var i=new S(!1),a=new S(!1,"session"),o=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",l={},c=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],d={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var u=!1;for(var U in d)d[U]&&(-1!==c.indexOf(U)?(l.hasOwnProperty("tracer_data")||(l.tracer_data={}),l.tracer_data[U]=d[U]):l[U]=d[U],u=!0);if(u)a.setItem(s,"1"),i.setCookie(o,JSON.stringify(l),r,n);else{var F=i.getCookie(o,n);F&&(l=JSON.parse(F))}a.getItem(s)&&(l.hasOwnProperty("tracer_data")||(l.tracer_data={}),l.tracer_data.$utm_from_url=1)}catch(p){return d}return l}(this.appid,i,this.domain,this.cookie_expire);var o=this.browser(),s=this.os();return{browser:o.browser,browser_version:o.browser_version,platform:a,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:r,utm:this.utm,latest_data:this.last(n,r)}},e.prototype.last=function(e,t){var n="",r="",i="",a=location.hostname,o=!1;if(e&&t&&a!==t){n=e,r=t,o=!0;var s=p$1(e);s.keyword&&(i=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:r,$latest_search_keyword:i,isLast:o}},e.prototype.browser=function(){var e,t,n="",r=""+parseFloat(this.appVersion),i=this.userAgent;return-1!==i.indexOf("Edge")||-1!==i.indexOf("Edg")?(n="Microsoft Edge",-1!==i.indexOf("Edge")?(e=i.indexOf("Edge"),r=i.substring(e+5)):(e=i.indexOf("Edg"),r=i.substring(e+4))):-1!==(e=i.indexOf("MSIE"))?(n="Microsoft Internet Explorer",r=i.substring(e+5)):-1!==(e=i.indexOf("Lark"))?(n="Lark",r=i.substring(e+5,e+11)):-1!==(e=i.indexOf("MetaSr"))?(n="sougoubrowser",r=i.substring(e+7,e+10)):-1!==i.indexOf("MQQBrowser")||-1!==i.indexOf("QQBrowser")?(n="qqbrowser",-1!==i.indexOf("MQQBrowser")?(e=i.indexOf("MQQBrowser"),r=i.substring(e+11,e+15)):-1!==i.indexOf("QQBrowser")&&(e=i.indexOf("QQBrowser"),r=i.substring(e+10,e+17))):-1!==i.indexOf("Chrome")?-1!==(e=i.indexOf("MicroMessenger"))?(n="weixin",r=i.substring(e+15,e+20)):-1!==(e=i.indexOf("360"))?(n="360browser",r=i.substring(i.indexOf("Chrome")+7)):-1!==i.indexOf("baidubrowser")||-1!==i.indexOf("BIDUBrowser")?(-1!==i.indexOf("baidubrowser")?(e=i.indexOf("baidubrowser"),r=i.substring(e+13,e+16)):-1!==i.indexOf("BIDUBrowser")&&(e=i.indexOf("BIDUBrowser"),r=i.substring(e+12,e+15)),n="baidubrowser"):-1!==(e=i.indexOf("xiaomi"))?-1!==i.indexOf("openlanguagexiaomi")?(n="openlanguage xiaomi",r=i.substring(e+7,e+13)):(n="xiaomi",r=i.substring(e-7,e-1)):-1!==(e=i.indexOf("TTWebView"))?(n="TTWebView",r=i.substring(e+10,e+23)):(-1!==(e=i.indexOf("Chrome"))||-1!==(e=i.indexOf("Chrome")))&&(n="Chrome",r=i.substring(e+7)):-1!==i.indexOf("Safari")?-1!==(e=i.indexOf("QQ"))?(n="qqbrowser",r=i.substring(e+10,e+16)):-1!==(e=i.indexOf("Safari"))&&(n="Safari",r=i.substring(e+7),-1!==(e=i.indexOf("Version"))&&(r=i.substring(e+8))):-1!==(e=i.indexOf("Firefox"))?(n="Firefox",r=i.substring(e+8)):-1!==(e=i.indexOf("MicroMessenger"))?(n="weixin",r=i.substring(e+15,e+20)):-1!==(e=i.indexOf("QQ"))&&(n="qqbrowser",r=i.substring(e+3,e+8)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(")"))&&(r=r.substring(0,t)),{browser:n,browser_version:r}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"chromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],r=0;r<n.length;r++){var i=n[r];if(i.r.test(this.userAgent)){"Mac OS X"===(e=i.s)&&this.isNewIpad()&&(e="iOS");break}}var a,o,s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},l=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=s(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=l("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(o=s(/Android ([\.\_\d]+)/,a=this.userAgent))||(o=s(/Android\/([\.\_\d]+)/,a)),t=o,e="android";break;case"iOS":t=this.isNewIpad()?l("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var c=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(c+7,c+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),r=n.indexOf(";");t=n.slice(0,r)}}catch(i){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),k={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},D={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az28z1gz1hz1gz1cz18z1nz1gz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},G="5.1.10",z=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var n=e[0];if(!n)return!1;var r=n.events,i=n.header;if(!r||!r.length)return!1;var a=!0;return r.forEach((function(e){if(!e)return a=!1,void(e.checkEvent="事件异常");t.checkEventName(e.event)||(a=!1,e.checkEvent="事件名不能以 $ or __开头"),t.checkEventParams(e.params)||(a=!1,e.checkParams="属性名不能以 $ or __开头")})),this.checkEventParams(i)||(a=!1),a},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var n in t)return!(!this.calculate(n,"params")||"string"==typeof t[n]&&t[n].length>1024&&(console.warn("params: "+n+" can not over 1024 byte, please check;"),1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}();!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.UnReady="un-ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.SetSessionId="set-session-id",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report",e.DestoryInstance="destory-instance",e.VisualCollectReady="visual-collect-ready",e.VisualApiReady="visual-api-ready",e.VisualApiUpdate="visual-api-update"}(y||(y={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(v$2||(v$2={}));var A=y,I=void 0,M=(new Date).getTimezoneOffset(),O=parseInt(""+-M/60,10),T=60*M,R=7776e6,x=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new w$1(t.app_id,t.cookie_domain||"",t.cookie_expire||R).init();this.eventCheck=new z(e,t);var r="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new S(!1,"session"),this.localStorage=new S(!1,"local"),t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var i=this.localStorage.getItem(r);i&&1==i?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(r,"1")),this.envInfo={user:{user_unique_id:I,user_type:I,user_id:I,user_is_auth:I,user_is_login:I,device_id:I,web_id:I,ip_addr_id:I,user_unique_id_type:I},header:{app_id:I,app_name:I,app_install_id:I,install_id:I,app_package:I,app_channel:I,app_version:I,ab_version:I,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:I,traffic_type:I,client_ip:I,device_brand:I,os_api:I,access:I,language:n.language,region:I,app_language:I,app_region:I,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:I,rnd:I,platform:n.platform,sdk_version:G,sdk_lib:"js",province:I,city:I,timezone:O,tz_offset:T,tz_name:I,sim_region:I,carrier:I,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{},wechat_unionid:I,wechat_openid:I}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(){var e=this.initConfig.channel_domain;if(e)this.domain=e;else{var t=this.initConfig.channel;this.domain=c$2(D[t])}},e.prototype.setDomain=function(e){this.domain=e},e.prototype.getDomain=function(){return this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=n?JSON.parse(n):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.clearAbCache=function(){this.ab_version="",this.ab_cache={}},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t="/list";break;case"webid":t="/webid";break;case"tobid":t="/tobid"}var n="";return this.initConfig.caller&&(n="?sdk_version="+G+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&null!==e[n]||t.delete(n);try{t.eventCheck.calculate(n,"config")}catch(e2){}if("traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=_e$1({},t.evtParams||{},e.evtParams||{});else if("_staging_flag"===n)t.evtParams=_e$1({},t.evtParams||{},{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var r="",i="";if(n.indexOf(".")>-1){var a=n.split(".");r=a[0],i=a[1]}r?"user"===r||"header"===r?t.envInfo[r][i]=e[n]:t.envInfo.header.custom[i]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(t){console.log("get config stringify error "),this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(r){console.log("setStore error"),this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:r.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(t){return this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(n){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:n.message}),console.log("delete error")}},e}(),C=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[AppLog WEB SDK] [instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[AppLog WEB SDK] [instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[AppLog WEB SDK] [instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),B=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),U=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(r){console.log("AppLogBridge, error:"+JSON.stringify(r.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(t){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(n){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(t){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(n){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(t){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(t){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge埋点上报",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(n){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(t){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(t){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(t){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(t){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(t){console.error("profileAppend error")}},e}(),P=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},N=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new S(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(A.SessionReset,(function(e){n.resetSessionId(e)})),this.collect.on(A.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:P(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:P(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||P(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:P(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),j=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new z(e,t),this.cacheStorgae=new S(!0),this.localStorage=new S(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||t.report_time||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.pageId=P(),this.collect.on(A.Ready,(function(){n.reportAll(!1)})),this.collect.on(A.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(A.Event,(function(e){n.event(e)})),this.collect.on(A.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(A.CleanEvents,(function(){n.reportAll(!1)}));var r=this.linster();this.collect.on(A.DestoryInstance,(function(){r&&r()}))},e.prototype.linster=function(){var e,t=this,n=function(){t.reportAll(!0)};window.addEventListener("unload",n,!1),e=n,navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1);var r=function(){"hidden"===document.visibilityState&&t.reportAll(!0)};return document.addEventListener("visibilitychange",r,!1),function(){window.removeEventListener("unload",n),window.removeEventListener("pagehide",n,!1),window.removeEventListener("beforeunload",n,!1),document.removeEventListener("visibilitychange",r,!1)}},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=o$1(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var r=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),r)}}catch(i){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:i.message})}},e.prototype.beconEvent=function(e){var t=o$1(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroy||this.collect.sdkStop||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var r;r=e.slice(n,n+this.eventLimit);var i=this.split(this.merge(r));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(n){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,r=this.configManager.get(),i=r.header,a=r.user;this.config.enable_pageid&&(i.custom.page_id=this.pageId),i.referrer=this.handleRefer(),i.custom=JSON.stringify(i.custom);var o=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),l=e.map((function(e){try{Object.keys(o).length&&!t&&(e.params=_e$1({},o,e.params)),s&&(e.params.$user_unique_id_type=s);var r=n.configManager.getAbCache(),i=a[n.config.ab_user_mode]||a.user_unique_id;return r&&r.uuid&&r.uuid===i&&n.configManager.getAbVersion()&&(e.ab_sdk_version=n.configManager.getAbVersion()),e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(e2){return n.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e2.message}),e}})),c=JSON.parse(JSON.stringify({events:l,user:a,header:i}));c.local_time=Math.floor(Date.now()/1e3),c.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,c.verbose=1;var d=[];return d.push(c),d},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var r=JSON.parse(JSON.stringify(e));n.config.filter&&((r=n.config.filter(r))||console.warn("filter must return data !!")),n.collect.eventFilter&&r&&((r=n.collect.eventFilter(r))||console.warn("filterEvent api must return data !!"));var i=r||e,a=JSON.parse(JSON.stringify(i));if(n.eventCheck.checkVerify(a),!i.length)return;var o=!0;if(i.forEach((function(e){e.events.length||(o=!1)})),!o)return;n.collect.emit(A.SubmitBefore,i),n.collect.requestManager.useRequest({url:n.reportUrl,data:i,success:function(e,t){e&&0!==e.e?(n.collect.emit(A.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_EVENT,info:"埋点上报失败",time:Date.now(),data:a,code:e.e,failType:"数据异常失败",status:"fail"})):(n.collect.emit(A.SubmitScuess,{eventData:t,res:e}),n.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:a,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(A.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_EVENT,info:"埋点上报网络异常",time:Date.now(),data:a,code:t,failType:"网络异常失败",status:"fail"})},timeout:n.timeout,useBeacon:t,withCredentials:n.enable_ttwebid}),n.collect.emit(A.SubmitAfter,i)}catch(s){console.warn("something error, "+JSON.stringify(s.stack)),n.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:s.message})}})))},e}(),q$1=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},K=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new S(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(A.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(A.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(A.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(A.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:q$1(),user_unique_id:this.configManager.get("user_unique_id")||q$1()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=p$1(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 发起WEBID请求",logType:"fetch",level:"info",time:Date.now(),data:n}),this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;if(t&&0===t.e)n=t.web_id,e.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"WEBID请求成功",logType:"fetch",level:"info",time:Date.now(),data:t});else{var r=q$1();n=r,e.collect.configManager.set({localWebId:r}),e.collect.emit(A.TokenError),e.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"WEBID请求返回值异常",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")}e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){var t=q$1();e.complete({web_id:e.configManager.get("web_id")||t,user_unique_id:e.configManager.get("user_unique_id")||t}),e.collect.configManager.set({localWebId:t}),e.collect.emit(A.TokenError),e.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"WEBID请求网络异常",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(A.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(A.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),r=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===r)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(A.TokenChange,"uuid"),this.collect.emit(A.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&this.configManager.get("user_unique_id")!==this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(A.TokenReset,"uuid"))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(A.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(A.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},success:function(e){e&&0===e.e?t(e.tobid):t("")},fail:function(){t("")},time:3e4,withCredentials:e.enable_ttwebid})}))},e}(),L=function(){return!(!window.navigator||!window.navigator.sendBeacon)},V=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type||"xhr",this.supportBeacon=L(),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,r=e.method,i=e.success,a=e.fail,o={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var s in this.customHeader)o[s]=this.customHeader[s];window.fetch?fetch(t,{method:r||"POST",headers:o,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){i&&i(e)})).catch((function(e){a&&a(n,e)})):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:r,success:i,fail:a}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,r=e.success,i=e.fail;window.navigator.sendBeacon(t,JSON.stringify(n))?r&&r():i&&i(n,this.errorCode.BEACON_FALSE)},e.prototype.useRequest=function(e){var t=this,n=e.url,r=e.data,i=e.method,a=e.success,o=e.fail,s=e.timeout,l=e.useBeacon,c=e.withCredentials,d=e.app_key,u=e.forceXhr;if(l&&this.supportBeacon)this.useBeacon({url:n,data:r,method:i,success:a,fail:o});else if("fetch"!==this.requestType||u)try{var U=new XMLHttpRequest,F=i||"POST";if(U.open(F,""+n,!0),U.setRequestHeader("Content-Type","application/json; charset=utf-8"),d&&U.setRequestHeader("X-MCS-AppKey",""+d),Object.keys(this.customHeader).length)for(var p in this.customHeader)U.setRequestHeader(p,this.customHeader[p]);c&&(U.withCredentials=!0),s&&(U.timeout=s,U.ontimeout=function(){o&&o(r,t.errorCode.TIMEOUT)}),U.onload=function(){if(a){var e=null;if(U.responseText){try{e=JSON.parse(U.responseText)}catch(t){e={}}a(e,r)}}},U.onerror=function(){U.abort(),o&&o(r,t.errorCode.XHR_ON)},U.send(JSON.stringify(r))}catch(Q){}else this.useFetch({url:n,data:r,method:i,success:a,fail:o})},e}(),W=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.eventVerifyReady=!1,t.enable_debug){var n=e.adapters.storage;this.collect=e,this.config=t,this.app_id=t.app_id,this.cacheStorgae=new n(!1,"session"),this.eventVerifyInfo=[],this.sdk_type=G.includes("tob")?"tob":"inner",this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(n){console.log("devTool load fail, "+n.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}))}catch(n){}return e},e.prototype.load=function(){return e=this,n=function(){var e,t,n;return t$2(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),(e=this.parseUrl()).open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return[2]}else if(!this.getStorage())return[2];return this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool(),[4,this.fetchEventInfo()];case 1:return t=r.sent(),this.sendData("devtool:web:verify",t.verifyStatus),this.eventVerifyInfo=t.data,[3,3];case 2:return n=r.sent(),console.log("debug fail, "+n.message),[3,3];case 3:return[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):new t((function(t){t(e.value)})).then(a,o)}s((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript("https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/devtool/debug-web.0.0.2.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"基本信息",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,"上报域名":this.collect.configManager.getDomain(),"SDK版本":G,"SDK引入方式":"npm"}},{title:"用户信息",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"点击获取SSID"}},{title:"公共参数信息",type:2,infoName:{"浏览器":this.collect.configManager.get("browser"),"浏览器版本":this.collect.configManager.get("browser_version"),"平台":this.collect.configManager.get("platform"),"设备型号":this.collect.configManager.get("device_model"),"操作系统":this.collect.configManager.get("os_name"),"操作系统版本":this.collect.configManager.get("os_version"),"屏幕分辨率":this.collect.configManager.get("resolution"),"来源":this.collect.configManager.get("referrer"),"自定义信息":""}},{title:"配置信息",type:3,infoName:{"全埋点":!!this.config.autotrack,"停留时长":!!this.config.enable_stay_duration}},{title:"A/B配置信息",type:4,infoName:{"A/B实验":!!this.config.enable_ab_test}},{title:"客户端信息",type:3,infoName:{"打通开关":!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(A.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["自定义信息"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["已曝光VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B域名"]=e.config.ab_channel_domain||c$2(k[e.config.channel]),e.info[4].infoName["全部配置"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["是否打通"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.stop(),this.collect.on(v$2.DEBUGGER_MESSAGE,(function(t){switch(t.type){case v$2.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["已曝光VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["全部配置"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case v$2.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var r=t.data[0],i=r.events,a=r.header;if(a.custom=JSON.parse(a.custom),!i.length)return;i.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.params=JSON.parse(n.params),"fail"===t.status&&(n.info={message:"code: "+t.code+"， msg: "+t.failType},n.failType=t.failType);var r=!1,i=!1,a=[];e.eventVerifyInfo&&e.eventVerifyInfo.length&&(e.eventVerifyInfo.forEach((function(e){e.eventStatus=!1})),e.eventVerifyInfo.forEach((function(t){n.event===t.name&&(i=!0,r=!0,n.verifyStatus=t.status,Object.keys(n.params).forEach((function(r){if("event_index"!==r){var o={};o.paramsKey=r,o.paramsKeyValue=n.params[""+r],o.paramsStatus=!1,o.paramsStatusInfo="属性未录入",t.params.forEach((function(t){r===t.name&&(t.checked=!0,_typeof$1(n.params[""+r])!==e.formatParamsType(t.value_type)?o.paramsStatusInfo="属性类型错误，应为"+e.formatParamsType(t.value_type):(o.paramsStatus=!0,o.paramsStatusInfo=""))})),a.push(o),o.paramsStatusInfo&&(i=!1)}})),t.params.forEach((function(e){e.checked||(i=!1,a.push({paramsKey:e.name,paramsStatus:!1,paramsStatusInfo:"缺少属性"+e.name}))})))}))),n.reportStatus="success"===t.status,n.paramsInfo=a,n.eventStatus=i&&"success"===t.status,n.eventRecord=r})),e.updateEvent(r)}return}}))},e.prototype.formatParamsType=function(e){switch(e){case 0:return"string";case 1:case 2:return"number";case 3:return"boolean"}},e.prototype.fetchEventInfo=function(){var e=this;try{return new Promise((function(t){var n=c$2("1fz22z22z1nz21z4mz4bz4bz18z1nz1nz1jz1mz1ez1fz1mz1kz1cz4az19z27z22z1cz1bz18z1lz1az1cz4az1lz1cz22z4bz18z1nz1nz1jz1mz1ez1bz1cz24z22z1mz1mz1jz21z4bz1mz1nz1cz1lz18z1nz1gz4bz24z4dz4bz18z1nz1nz16z1jz1mz1ez16z1kz1cz22z18")+"?app_id="+e.app_id+"&t="+e.sdk_type+"&nc=false";e.collect.requestManager.useRequest({url:n,method:"GET",success:function(n){e.eventVerifyReady=!0,e.collect.reStart(),t({data:n.data,verifyStatus:!0})},fail:function(){e.eventVerifyReady=!0,e.collect.reStart(),t({data:[],verifyStatus:!1})},timeout:3e3})}))}catch(t){return{data:[],verifyStatus:!1}}},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event,appid:e.app_id}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()})),t&&t.data&&t.data.type}}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(r){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady||this.eventVerifyReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: fixed;\n      width: 50px;\n      height: 50px;\n      background-image: url('https://lf-cdn-tos.bytescm.com/obj/static/log-sdk/collect/devtool/applog.png');;\n      bottom: 5%;\n      right: 10%;\n      cursor: pointer;\n      z-index:100;\n      background-size: 50px;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var r=document.createElement("div");r.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),J={autotrack:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/autotrack.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/ab.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/stay.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/route.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/cep.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/tracer.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/retry.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/visual.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},H=["et","profile","heartbeat","monitor"],$=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new r$1,this.remotePlugin=new Map,this.Types=A,this.adapters.storage=S}return e.usePlugin=function(t,n,r){if(n){for(var i=!1,a=0,o=e.plugins.length;a<o;a++)if(e.plugins[a].name===n){e.plugins[a].plugin=t,e.plugins[a].options=r||{},i=!0;break}i||e.plugins.push({name:n,plugin:t,options:r})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&H.includes(e)?console.info("your sdk version has "+e+" plugin already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,r=this;this.logger=new C(this.name,t.log),this.inited?this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!"):t&&s$1(t)?t.app_id&&"number"==typeof(n=t.app_id)&&!isNaN(n)?t.app_key&&"string"!=typeof t.app_key?this.logger.warn("app_key param is error, must be string, please check!"):(t.channel_domain||-1!==["cn","sg","va"].indexOf(t.channel)||(this.logger.warn("channel must be `cn`, `sg`,`va` !"),t.channel="cn"),this.spider=new B,this.spider.checkSpider(t)?this.logger.warn("your env may be a spider, can not report!"):(this.appBridge=new U(this,t.enable_native),this.requestManager=new V(this,t),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new x(this,t),this.debugger=new W(this,t),this.initConfig=t,this.emit(A.Init),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行INIT",data:t,level:"info",time:Date.now()}),this.destroy=!1,t.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.set({app_id:t.app_id}),this.eventManager=new j,this.tokenManager=new K,this.sessionManager=new N,Promise.all([new Promise((function(e){r.once(A.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){r.once(A.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,a=Object.assign(r.initConfig,i),o=new n;return o.apply(r,a),e.push(o),e}),r.pluginInstances)}catch(n){console.warn("load plugin error, "+n.message),r.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:n.message})}r.sdkReady=!0,r.emit(A.Ready),r.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 初始化完成",time:Date.now(),level:"info",data:r.configManager.get("user")}),r.logger.info("appid: "+t.app_id+", userInfo:"+JSON.stringify(r.configManager.get("user"))),r.logger.info("appid: "+t.app_id+", sdk is ready, version type is "+r.loadType+", version is "+G+", you can report now !!!"),t.disable_auto_pv&&(r.disableAutoPageView=!0);try{"full"===r.loadType&&(t.enable_ab_test||t.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(n){r.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:n.message})}r.pageView(),r.on(A.TokenChange,(function(e){"webid"===e&&r.pageView(),r.logger.info("appid: "+t.app_id+" token change, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 设置了用户信息",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(A.TokenReset,(function(){r.logger.info("appid: "+t.app_id+" token reset, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 重置了用户信息",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(A.RouteChange,(function(e){e.init||t.disable_route_report||r.pageView()}))})),this.tokenManager.apply(this,t),this.eventManager.apply(this,t),this.sessionManager.apply(this,t)),this.inited=!0)):this.logger.warn("app_id param is error, must be number, please check!"):this.logger.warn("init params error,please check!")},e.prototype.config=function(e){if(this.inited)if(e&&s$1(e))if(this.bridgeReport)this.appBridge.setConfig(e);else{e._staging_flag&&1===e._staging_flag&&(this.staging=!0),e.disable_auto_pv&&(this.disableAutoPageView=!0,delete e.disable_auto_pv);var t=_e$1({},e),n=this.initConfig.configPersist||this.initConfig.config_persist||!1;if(this.initConfig&&n){var r=this.configManager.getStore();r&&(t=Object.assign(r,e)),this.configManager.setStore(e)}t.web_id,t.user_unique_id;var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(t,["web_id","user_unique_id"]);this.configManager.set(i),t.hasOwnProperty("web_id")&&this.emit(A.ConfigWebId,t.web_id),t.hasOwnProperty("user_unique_id")&&this.emit(A.ConfigUuid,t.user_unique_id),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行CONFIG",level:"info",time:Date.now(),data:t})}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},e.prototype.setUserUniqueID=function(e){this.config({user_unique_id:e})},e.prototype.setHeaderInfo=function(e,t){var n={};n[e]=t,this.config(n)},e.prototype.removeHeaderInfo=function(e){var t={};t[e]=void 0,this.config(t)},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(A.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.started=!0,this.emit(A.Start),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行START",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(A.Ready)))},e.prototype.event=function(e,t){var n=this;try{var r=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&r.push(t)}));else{var i=this.processEvent(e,t);if(!i)return;r.push(i)}this.bridgeReport?r.forEach((function(e){var t=e.event,r=e.params;n.appBridge.onEventV3(t,JSON.stringify(r))})):r.length&&(this.emit(A.Event,r),this.emit(A.SessionResetTime))}catch(a){this.logger.warn("something error, please check"),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:a.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))console.warn("beconEvent not support batch report, please check");else{var n=[],r=this.processEvent(e,t||{});r&&(n.push(r),n.length&&(this.emit(A.BeconEvent,n),this.emit(A.SessionResetTime)))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null， please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var r=t;"object"!=_typeof$1(r)&&(r={}),r.profile?delete r.profile:r.event_index=a$1();var i=void 0;return r.local_ms?(i=r.local_ms,delete r.local_ms):i=+new Date,{event:n,params:r,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(a){return this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:a.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=_e$1({},t,e);this.event("predefine_pageview",n)}else console.warn("predefinePageView must be use after function init")},e.prototype.clearEventCache=function(){this.emit(A.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=h$1(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(A.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=h$1(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(A.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return P()},e.prototype.setSessionId=function(e){this.emit(A.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(A.ResetStay,{url_path:e,title:t,url:n},A.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(A.SetStay,{url_path:e,title:t,url:n},A.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var r=!1,i=function(t){if(!r){r=!0;var i=n.configManager.get().user;return t&&(i.tobid=t,i["diss".split("").reverse().join("")]=t),e(_e$1({},i))}},a=function(){n.tokenManager.getTobId().then((function(e){i(e)}))};this.sdkReady?a():(t&&setTimeout((function(){i()}),t),this.on(A.Ready,(function(){a()})))}else console.warn("getToken must be use after function init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(A.ProfileSet,e,A.Profile),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(A.ProfileSetOnce,e,A.Profile),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(A.ProfileIncrement,e,A.Profile),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(A.ProfileUnset,e,A.Profile),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(A.ProfileAppend,e,A.Profile),this.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(A.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,A.Ab)},e.prototype.getVar=function(e,t,n){this.emit(A.AbVar,{name:e,defaultValue:t,callback:n},A.Ab)},e.prototype.getABconfig=function(e,t){this.emit(A.AbConfig,{params:e,callback:t},A.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(A.AbVersionChangeOn,e,A.Ab),function(){t.emit(A.AbVersionChangeOff,e,A.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(A.AbVersionChangeOff,e,A.Ab)},e.prototype.openOverlayer=function(){this.emit(A.AbOpenLayer,"",A.Ab)},e.prototype.closeOverlayer=function(){this.emit(A.AbCloseLayer,"",A.Ab)},e.prototype.getAllVars=function(e){this.emit(A.AbAllVars,e,A.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(A.TokenComplete),this.emit(A.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(A.TokenComplete),this.emit(A.DestoryInstance))},e.plugins=[],e}(),F=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;t.event_verify_url&&("string"==typeof t.event_verify_url?(this.url=t.event_verify_url+"/v1/list_test",e.on(e.Types.SubmitBefore,(function(t){e.requestManager.useBeacon({url:n.url,data:t})}))):console.log("please use correct et_test url"))},e}(),X=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var r=e.Types;this.eventCheck=new z(e,t),this.cache={},this.collect.on(r.ProfileSet,(function(e){n.setProfile(e)})),this.collect.on(r.ProfileSetOnce,(function(e){n.setOnceProfile(e)})),this.collect.on(r.ProfileUnset,(function(e){n.unsetProfile(e)})),this.collect.on(r.ProfileIncrement,(function(e){n.incrementProfile(e)})),this.collect.on(r.ProfileAppend,(function(e){n.appendProfile(e)})),this.collect.on(r.ProfileClear,(function(){n.cache={}})),this.ready(r.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var r=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var i in n)r(i)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(e,t));var r=this.collect.eventManager.merge(n);this.collect.requestManager.useRequest({url:this.reportUrl,data:r}),this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:r,code:200,status:"success"})}catch(i){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:i.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set",_e$1({},t,{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set_once",_e$1({},t,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",_e$1({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",_e$1({},t,{profile:!0}))}else console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t={};for(var n in e)"string"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?t[n]=e[n]:console.warn("please check the value of param: "+n+", must be string or array !!!");Object.keys(t).length&&this.report("__profile_append",_e$1({},t,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach((function(n){t.cache[n]={val:t.clone(e[n]),timestamp:Date.now()}}))},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return void console.warn("please check the params type, must be object !!!");var r={};for(var i in e)"string"==typeof e[i]||"number"==typeof e[i]||"Array"===Object.prototype.toString.call(e[i]).slice(8,-1)?r[i]=e[i]:console.warn("please check the value of params:"+i+", must be string,number,Array !!!");var a=Object.keys(r);if(!a.length)return;if(!this.eventCheck.checkEventParams(r))return;var o=Date.now();return a.filter((function(r){var i=n.cache[r];return t?!i:!(i&&n.compare(i.val,e[r])&&o-i.timestamp<n.duration)})).reduce((function(e,t){return e[t]=r[t],e}),{})}catch(s){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:s.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(n){return this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:n.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),e}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}(),Q=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=l$1((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var r=this.collect.Types;this.collect.on(r.SessionResetTime,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),Z=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;t.channel_domain||t.disable_track_event||t.disable_sdk_monitor||(this.collect=e,this.config=t,this.url=e.configManager.getUrl("event"),this.collect.on(e.Types.Ready,(function(){n.sdkOnload()})),this.collect.on(e.Types.SubmitError,(function(e){var t=e.type,r=e.eventData,i=e.errorCode;"f_data"===t&&n.sdkError(r,i)})))},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,r=t.user,i=n.app_id,a=n.app_name,o=n.sdk_version,s=r.web_id,l={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:a||"",sdk_version:o,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC",url:location.href}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout((function(){e.collect.requestManager.useRequest({url:e.url,data:[l],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(c){}},e.prototype.sdkError=function(e,t){var n=this;try{var r=e[0],i=r.user,a=r.header,o=[];e.forEach((function(e){e.events.forEach((function(e){o.push(e)}))}));var s={events:o.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:a.app_id,app_name:a.app_name||"",error_event:e.event,sdk_version:a.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(a),user:JSON.stringify(i)}),local_time_ms:Date.now()}})),user:{user_unique_id:i.user_unique_id},header:{}};setTimeout((function(){n.collect.requestManager.useRequest({url:n.url,data:[s],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(l){}},e}(),Y="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,ee=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(J.hasOwnProperty(n)){var r=J[n].object,i=J[n].src[e.channel]+"?query="+Date.now();e.exist(n,r,i)}else console.warn("your "+n+" is not exist，please check plugin name");else"object"==_typeof$1(t)&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(t){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var r=this;Y[t]?(this.process(e,Y[t]),console.log("已有"+e+"插件，避免重复加载~")):this.loadPlugin(e,n,(function(){r.process(e,Y[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","–","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","–","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var r=new t;r.apply&&r.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(i){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:i.message}),console.log("excude "+e+" error, message:"+i.message)}},e.prototype.loadPlugin=function(e,t,n,r){var i=this;try{var a=document.createElement("script");a.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),a.onerror=function(){r(t)},a.onload=function(){i._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(a)}catch(o){this.collect.emit(v$2.DEBUGGER_MESSAGE,{type:v$2.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:o.message})}},e}();$.usePlugin(ee,"extend"),$.usePlugin(F,"et"),$.usePlugin(X,"profile"),$.usePlugin(Q,"heartbeat"),$.usePlugin(Z,"monitor"),new $("default");var ie=$,level=["error","warning","info"],WarningErrors={1e4:0,10001:0,10002:0,10003:0,10004:0,10005:0,10006:0,10007:0,10008:1,10009:0,10010:1,10011:0,10012:0,10013:0,10014:0,10015:0,10016:0,10017:0,10018:0,10019:1,10022:1,10023:1,10024:1,10025:1,10026:0,10027:0,2e4:0,20001:0,20002:0,20003:1,3e4:0,30001:0,30002:0,30007:1,30008:0,30009:0,30201:0,30203:0,30204:0,30205:0,31e3:1,31001:1,31002:1,31003:1,31004:1,31005:1,4e4:1,40001:1,40002:1,40003:1,40004:1,40005:1,40006:1,40007:1,40008:1,40044:1,40010:0,40023:1,40024:1,40026:0,40027:0,40028:0,40029:0,40047:1,40048:1,40049:1,40050:0,40031:1,40032:0,40033:0,40037:1,40038:1,40039:1,40040:1,40041:1,40043:1,5e4:0,50001:0,50002:0,50003:0,50007:1,50008:0,50009:1,60001:0,60002:0,71001:0,71002:0,71003:0,71004:0,71005:0,71006:0};function assignErrorLevel(e){var t,n=e.errc;if(void 0===n)return e;var r=null!==(t=WarningErrors[n])&&void 0!==t?t:2;return e.level=level[r]||"info",e}var RemoteLogger=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),EventEmitter$2(this),this.userId=t.userId,this.commonParams={},this.startEventTime=null,this.teaLog=new ie("tracker"),this.teaLog.init({app_id:3138,channel:"cn",channel_domain:t.channelDomain,log:!1,disable_sdk_monitor:!0}),this.teaLog.config({evtParams:{SDKVersion:t.SDKVersion},user_unique_id:this.userId,disable_auto_pv:!0}),this.teaLog.start()}),[{key:"setCommonParams",value:function(e){this.commonParams=Object.assign(this.commonParams,_objectSpread2({},e))}},{key:"setSingleParam",value:function(e,t){this.commonParams[e]=t}},{key:"getCommonParams",value:function(){return this.commonParams}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=assignErrorLevel(_objectSpread2(_objectSpread2(_objectSpread2({ts:(new Date).getTime()},t),this.commonParams),n));e="event_"+e,this.emit("logger",{eventName:e,eventParams:r});try{this.teaLog.event(e,r)}catch(e2){console.warn("[teaLog send catch]",e2)}}},{key:"beaconSend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=assignErrorLevel(_objectSpread2(_objectSpread2({ts:(new Date).getTime()},t),this.commonParams));e="event_"+e,this.emit("logger",{eventName:e,eventParams:n});try{this.teaLog.beconEvent(e,n)}catch(e2){console.warn("[teaLog send catch]",e2)}}},{key:"destroy",value:function(){this.teaLog.destroyInstance()}}])}();function getUrlQuery$1(e){var t={};if(/\?/g.test(e))for(var n=e.substr(e.indexOf("?")+1).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");t[i[0]]=i[1]||"0"}return t}var DB_NAME$2="vegamedb",STORE_NAME$1="vegame",STORE_CACHED_SIZE_KEY$1="vegame-cache-size",IDB$1=function(){return _createClass$1((function e(){var t,n,r,i;return _classCallCheck$1(this,e),this._getSize=function(e){return new Blob(e).size/1048576},null!=e&&e.instance||(this.storeKey="test",this.logId=1,this.cacheLog="",this.LogfileSize=50,this.indexedDB=(null===(t=window)||void 0===t?void 0:t.indexedDB)||(null===(n=window)||void 0===n?void 0:n.mozIndexedDB)||(null===(r=window)||void 0===r?void 0:r.webkitIndexedDB)||(null===(i=window)||void 0===i?void 0:i.msIndexedDB),this._createStore(),this.isSupportIndexedDB=!0,e.instance=this),e.instance}),[{key:"_createStore",value:function(){var e=this;if("undefined"!=typeof window){var t;try{var n;t=null===(n=this.indexedDB)||void 0===n?void 0:n.open(DB_NAME$2)}catch(r){console.warn("当前环境不支持indexDb"),this.isSupportIndexedDB=!1}t.onupgradeneeded=function(){t.result.createObjectStore(STORE_NAME$1);try{sessionStorage.removeItem(STORE_CACHED_SIZE_KEY$1)}catch(r){}},t.onerror=function(t){console.warn("当前环境不支持indexDb"),e.isSupportIndexedDB=!1},t.onsuccess=function(){e.db=t.result,e._getCachedSize()}}}},{key:"_getCachedSize",value:function(){var e=this;try{var t=sessionStorage.getItem(STORE_CACHED_SIZE_KEY$1);t?this.cachedSize=+t:this.values().then((function(t){e.cachedSize=e._getSize(t),e._setCachedSize()}))}catch(n){}}},{key:"_setCachedSize",value:function(){try{sessionStorage.setItem(STORE_CACHED_SIZE_KEY$1,"".concat(this.cachedSize))}catch(e){}}},{key:"_getStore",value:function(e){if(this.db)return this.db.transaction(STORE_NAME$1,e).objectStore(STORE_NAME$1)}},{key:"set",value:function(e){var t=this;return new Promise((function(n,r){if(!t.isSupportIndexedDB)return!1;if(e&&t.preCacheTime&&t.preCacheTime-Date.now()<1e3)return t.cacheLog+="\n\n".concat(t.logId,": ").concat(e),t.logId++,t.timer||(t.timer=setTimeout((function(){t.set("")}),1e3-(t.preCacheTime-Date.now()))),n();clearTimeout(t.timer),t.timer=null;var i=t._getStore("readwrite");if(!i)return!1;t.cachedSize&&t.cachedSize>t.LogfileSize&&t.keyEarliest().then((function(e){t.get(e).then((function(n){t.del(e).then((function(){t.cachedSize=t.cachedSize-t._getSize(["".concat(n)]),t._setCachedSize()}))}))}));var a=i.get(t.storeKey);a.onsuccess=function(){try{var o="".concat(a.result||"").concat(t.cacheLog),s=e?"".concat(o?"\n\n":"").concat(t.logId,": ").concat(e):"";i.put("".concat(o).concat(s),t.storeKey),e&&t.logId++,t.cacheLog="",t.cachedSize=(t.cachedSize||0)+t._getSize(["".concat(t.cacheLog).concat(s)]),t._setCachedSize(),t.preCacheTime=Date.now(),n()}catch(l){if(!e)return r(l);t.cacheLog+="\n\n".concat(t.logId,": ").concat(e),t.logId++,r(l)}},a.onerror=function(n){if(!e)return r(n);t.cacheLog+="\n\n".concat(t.logId,": ").concat(e),t.logId++,r(n)}}))}},{key:"get",value:function(e){var t=this;return new Promise((function(n,r){var i=t._getStore("readonly");if(!i)return r();var a=i.get(e);a.onsuccess=function(){n(a.result)},a.onerror=function(e){r(e)}}))}},{key:"del",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.storeKey;return new Promise((function(n,r){var i=e._getStore("readwrite");if(!i)return r();var a=i.delete(t);a.onsuccess=function(){return n(a.result)},a.onerror=function(e){return r(e)}}))}},{key:"keyEarliest",value:function(){return this.keys().then((function(e){var t,n=Date.now();return e.forEach((function(e){if(e&&e.length){var r=e.split("-")[0];Number(r)<n&&(n=Number(r),t=e)}})),t}))}},{key:"keys",value:function(){var e=this;return new Promise((function(t,n){var r=e._getStore("readonly");if(!r)return n();if(r.getAllKeys){var i=r.getAllKeys();return i.onsuccess=function(){t(i.result)},void(i.onerror=function(){n()})}var a=[];r.openCursor().onsuccess=function(){this.result&&(a.push(this.result.key),this.result.continue())},r.transaction.oncomplete=function(){return t(a)}}))}},{key:"values",value:function(){var e=this;return new Promise((function(t,n){var r=e._getStore("readonly");if(!r)return n();if(r.getAll){var i=r.getAll();return i.onsuccess=function(){t(i.result)},void(i.onerror=function(){n()})}var a=[];r.openCursor().onsuccess=function(){this.result&&(a.push(this.result.value),this.result.continue())},r.transaction.oncomplete=function(){return t(a)}}))}},{key:"download",value:function(e){e=e||this.storeKey,this.get(e).then((function(t){var n=document.createElement("a");n.download="".concat(e,".txt"),n.href="data:text/paint;utf-8,"+(t||""),n.click()}))}}])}(),LocalDB=IDB$1,Stage$1=function(e){return e[e.ALL=0]="ALL",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.PodTrigger=3]="PodTrigger",e[e.Reconnect=4]="Reconnect",e[e.Stopped=5]="Stopped",e[e.ClientTrigger=6]="ClientTrigger",e}(Stage$1||{}),Logger$2=function(e){function t(e){var n,r,i,a;return _classCallCheck$1(this,t),(a=_callSuper(this,t,[e])).urlQuery=getUrlQuery$1(null===(n=window)||void 0===n||null===(n=n.location)||void 0===n?void 0:n.href),a.state={colorGroup:{1:"#cf1322",2:"#ffc069",3:"#237804",4:"#595959",36:"#0958d9"}},a.isSupportIDB="indexeddb"===(null===(r=a.urlQuery)||void 0===r?void 0:r._vegame_debuglog)||"indexeddb"===(null===(i=sessionStorage)||void 0===i?void 0:i.getItem("_vegame_debuglog")),"undefined"!=typeof window&&a.isSupportIDB&&(a.idb=new LocalDB,window.veGamelLogDB=a.idb),a}return _inherits(t,e),_createClass$1(t,[{key:"getTime",value:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),i=e.getMilliseconds();return"".concat(t,":").concat(n,":").concat(r,":").concat(i)}},{key:"print",value:function(e,t,n,r){var i,a,o,s,l=(null===(i=this.state.colorGroup)||void 0===i?void 0:i[e])||(null===(a=this.state.colorGroup)||void 0===a?void 0:a[4]);((o=console).log.apply(o,["%c".concat(this.getTime(),"~").concat(n),"color:".concat(l,";")].concat(_toConsumableArray(r))),this.isSupportIDB)&&(null===(s=this.idb)||void 0===s||s.set(" ".concat(this.getTime(),"~").concat(n," ").concat(JSON.stringify(r))))}},{key:"getLocalShowGroup",value:function(){var e,t=[""],n=[""],r=!1,i=this.urlQuery;if(null!=i&&i._vegame_debuglog){var a,o;if(r=!0,null!=i&&i._vegame_debuglog_level)t=null==i||null===(a=i._vegame_debuglog_level)||void 0===a?void 0:a.split("_");if(null!=i&&i._vegame_debuglog_stage)n=null==i||null===(o=i._vegame_debuglog_stage)||void 0===o?void 0:o.split("_")}if(null!==(e=sessionStorage)&&void 0!==e&&e.getItem("_vegame_debuglog")){var s,l,c,d;if(r=!0,null!==(s=sessionStorage)&&void 0!==s&&s.getItem("_vegame_debuglog_level"))t=null===(c=sessionStorage)||void 0===c||null===(c=c.getItem("_vegame_debuglog_level"))||void 0===c?void 0:c.split("_");if(null!==(l=sessionStorage)&&void 0!==l&&l.getItem("_vegame_debuglog_stage"))n=null===(d=sessionStorage)||void 0===d||null===(d=d.getItem("_vegame_debuglog_stage"))||void 0===d?void 0:d.split("_")}return{logShowFlag:r,levelList:t,stageList:n}}},{key:"localLog",value:function(e,t,n,r){var i=this.getLocalShowGroup();if(null!=i&&i.logShowFlag){if(!(null!=i&&i.levelList.includes("0")||null!=i&&i.levelList.includes("")||null!=i&&i.levelList.includes("".concat(e))))return!1;if(null!=i&&i.levelList.includes("")&&"4"==e)return!1;if(!(null!=i&&i.stageList.includes("0")||null!=i&&i.stageList.includes("")||null!=i&&i.stageList.includes("".concat(Stage$1[t]))))return!1;this.print(e,t,"[".concat(e,"][").concat(t,"](").concat(n,") "),r)}}},{key:"localWarnLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(2,e,t,r)}},{key:"localErrorLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(1,e,t,r)}},{key:"localInfoLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(3,e,t,r)}},{key:"localTraceLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(4,e,t,r)}}])}(RemoteLogger),LOG_TAG="",LOG_CHANNEL_DOMAIN="",SDK_TYPE="";function setSdkType(e){e&&(SDK_TYPE=e,LOG_TAG="[".concat(e,"]"),LOG_CHANNEL_DOMAIN="veGame"===e?"https://vegamemon.volces.com/event/collect":"https://vephonemon.volces.com/event/collect")}var NATIVE_MOUSE_PRE="NATIVE_MOUSE_PREA",MOUSE_SCROLL_VIRTUAL_CLICK="MOUSE_SCROLL_VIRTUAL_CLICK",CONTAINER_DOM_ID="cc-player-container",DID_LOCALSTORAGE_KEY="veDid",SUBSCRIBE_TYPE={VIDEO:"Video",AUDIO:"Audio",PAUSE:"Pause",RESUME:"Resume"},COMMUNICATION_MODE={RTC:"bytertc",WS:"llama_websocket",AUTO:"auto",WTS:"webts"},RTC_HOST={cn:"rtc.bytedance.com"},GAME_HOST={PROD:"https://veGame.volcengineapi.com",PROD_BACKUP:"https://open.volcengineapi.com"},GET_RESOURCE_HOST={PROD:"https://vegameapi.volces.com",PROD_BACKUP:"https://vegameapi-bak.volces.com"},VEPHONE_GET_RESOURCE_HOST={PROD:"https://vephone.cn-beijing.volces.com",PROD_BACKUP:"https://vegameapi-bak.volces.com"},PHONE_HOST={PROD:"https://acep.volcengineapi.com",PROD_BACKUP:"https://open.volcengineapi.com"},PLATFORM={PC:3,IOS:4,ANDROID:5},MODE=function(e){return e[e.CLOUD_PHONE_GAME=0]="CLOUD_PHONE_GAME",e[e.CLOUD_PHONE=1]="CLOUD_PHONE",e[e.CLOUD_PC=2]="CLOUD_PC",e}(MODE||{}),LOCATION_SERVICE_MODE=function(e){return e[e.MODE_AUTO=0]="MODE_AUTO",e[e.MODE_MANUAL=1]="MODE_MANUAL",e}(LOCATION_SERVICE_MODE||{}),ACTION=function(e){return e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e[e.MOVE=2]="MOVE",e[e.TOUCH_START=0]="TOUCH_START",e[e.TOUCH_END=1]="TOUCH_END",e[e.TOUCH_MOVE=2]="TOUCH_MOVE",e[e.WHEEL=8]="WHEEL",e[e.PC_TOUCH_UP=0]="PC_TOUCH_UP",e[e.PC_TOUCH_DOWN=1]="PC_TOUCH_DOWN",e[e.PC_TOUCH_MOVE=2]="PC_TOUCH_MOVE",e}(ACTION||{}),MOUSE_BUTTON=function(e){return e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT",e}(MOUSE_BUTTON||{}),KEYCODE=function(e){return e[e.KEYCODE_HOME=3]="KEYCODE_HOME",e[e.KEYCODE_BACK=4]="KEYCODE_BACK",e[e.KEYCODE_MENU=82]="KEYCODE_MENU",e[e.KEYCODE_APP_SWITCH=187]="KEYCODE_APP_SWITCH",e}(KEYCODE||{}),INNER_KEYCODE={KEYCODE_VOLUME_UP:24,KEYCODE_VOLUME_DOWN:25,KEYCODE_POWER:26,KEYCODE_ALT_LEFT:57,KEYCODE_ALT_RIGHT:58,KEYCODE_SHIFT_LEFT:59,KEYCODE_SHIFT_RIGHT:60,KEYCODE_TAB:61,KEYCODE_SPACE:62,KEYCODE_ENTER:66,KEYCODE_DEL:67,KEYCODE_BACKSLASH:73,KEYCODE_CAPS_LOCK:115},GAMEPAD_BUTTON={KEYCODE_BUTTON_A:96,KEYCODE_BUTTON_B:97,KEYCODE_BUTTON_X:99,KEYCODE_BUTTON_Y:100,KEYCODE_BUTTON_START:108,KEYCODE_BUTTON_SELECT:109,KEYCODE_BUTTON_L1:102,KEYCODE_BUTTON_R1:103,KEYCODE_BUTTON_L2:104,KEYCODE_BUTTON_R2:105,KEYCODE_BUTTON_THUMBL:106,KEYCODE_BUTTON_THUMBR:107,KEYCODE_DPAD_UP:19,KEYCODE_DPAD_DOWN:20,KEYCODE_DPAD_LEFT:21,KEYCODE_DPAD_RIGHT:22,KEYCODE_DPAD_UP_LEFT:268,KEYCODE_DPAD_DOWN_LEFT:269,KEYCODE_DPAD_UP_RIGHT:270,KEYCODE_DPAD_DOWN_RIGHT:271},PACKET_TYPE={AUTH_PACKET:0,VIDEO_PACKET:1,AUDIO_PACKET:2,CONTROL_PACKET:3,STREAM_CONTROL_PACKET:4,AUDIO_FORMAT_PACKET:10,VIDEO_FORMAT_PACKET:11,GAME_FORMAT_PACKET:12,CLIENT_INFO_PACKET:13,GAMEPAD_VIBRATION_PACKET:14,WEBSOCKET_CUSTOM_PING:23,WEBSOCKET_CUSTOM_PONG:24,REQUEST_I_FRAME:22},LOCAL_KEYBOARD_STATUS={BLUR:0,NEED_INTERACTION:1,FOCUS:2},STREAM_TYPE={STREAM_INDEX_MAIN:0,STREAM_INDEX_SCREEN:1},VIDEO_SOURCE_TYPE={VIDEO_SOURCE_TYPE_EXTERNAL:0,VIDEO_SOURCE_TYPE_INTERNAL:1},AUDIO_SOURCE_TYPE={AUDIO_SOURCE_TYPE_EXTERNAL:0,AUDIO_SOURCE_TYPE_INTERNAL:1},DISLAY_POLICY_REASON={SERVER_SWITCH:0,CLIENT_GET:1,CLIENT_SET:2,ERROR_PARAMETER:3},VIDEO_RENDER_MODE=function(e){return e[e.CONTAIN=0]="CONTAIN",e[e.FILL=1]="FILL",e[e.COVER=2]="COVER",e}(VIDEO_RENDER_MODE||{}),KEYCODE_ANDROID_ORIGIN={KEYCODE_UNKNOWN:0,KEYCODE_SOFT_LEFT:1,KEYCODE_SOFT_RIGHT:2,KEYCODE_HOME:3,KEYCODE_BACK:4,KEYCODE_CALL:5,KEYCODE_ENDCALL:6,KEYCODE_0:7,KEYCODE_1:8,KEYCODE_2:9,KEYCODE_3:10,KEYCODE_4:11,KEYCODE_5:12,KEYCODE_6:13,KEYCODE_7:14,KEYCODE_8:15,KEYCODE_9:16,KEYCODE_STAR:17,KEYCODE_POUND:18,KEYCODE_DPAD_UP:19,KEYCODE_DPAD_DOWN:20,KEYCODE_DPAD_LEFT:21,KEYCODE_DPAD_RIGHT:22,KEYCODE_DPAD_CENTER:23,KEYCODE_VOLUME_UP:24,KEYCODE_VOLUME_DOWN:25,KEYCODE_POWER:26,KEYCODE_CAMERA:27,KEYCODE_CLEAR:28,KEYCODE_A:29,KEYCODE_B:30,KEYCODE_C:31,KEYCODE_D:32,KEYCODE_E:33,KEYCODE_F:34,KEYCODE_G:35,KEYCODE_H:36,KEYCODE_I:37,KEYCODE_J:38,KEYCODE_K:39,KEYCODE_L:40,KEYCODE_M:41,KEYCODE_N:42,KEYCODE_O:43,KEYCODE_P:44,KEYCODE_Q:45,KEYCODE_R:46,KEYCODE_S:47,KEYCODE_T:48,KEYCODE_U:49,KEYCODE_V:50,KEYCODE_W:51,KEYCODE_X:52,KEYCODE_Y:53,KEYCODE_Z:54,KEYCODE_COMMA:55,KEYCODE_PERIOD:56,KEYCODE_ALT_LEFT:57,KEYCODE_ALT_RIGHT:58,KEYCODE_SHIFT_LEFT:59,KEYCODE_SHIFT_RIGHT:60,KEYCODE_TAB:61,KEYCODE_SPACE:62,KEYCODE_SYM:63,KEYCODE_EXPLORER:64,KEYCODE_ENVELOPE:65,KEYCODE_ENTER:66,KEYCODE_DEL:67,KEYCODE_GRAVE:68,KEYCODE_MINUS:69,KEYCODE_EQUALS:70,KEYCODE_LEFT_BRACKET:71,KEYCODE_RIGHT_BRACKET:72,KEYCODE_BACKSLASH:73,KEYCODE_SEMICOLON:74,KEYCODE_APOSTROPHE:75,KEYCODE_SLASH:76,KEYCODE_AT:77,KEYCODE_NUM:78,KEYCODE_HEADSETHOOK:79,KEYCODE_FOCUS:80,KEYCODE_PLUS:81,KEYCODE_MENU:82,KEYCODE_NOTIFICATION:83,KEYCODE_SEARCH:84,KEYCODE_MEDIA_PLAY_PAUSE:85,KEYCODE_MEDIA_STOP:86,KEYCODE_MEDIA_NEXT:87,KEYCODE_MEDIA_PREVIOUS:88,KEYCODE_MEDIA_REWIND:89,KEYCODE_MEDIA_FAST_FORWARD:90,KEYCODE_MUTE:91,KEYCODE_PAGE_UP:92,KEYCODE_PAGE_DOWN:93,KEYCODE_PICTSYMBOLS:94,KEYCODE_SWITCH_CHARSET:95,KEYCODE_BUTTON_A:96,KEYCODE_BUTTON_B:97,KEYCODE_BUTTON_C:98,KEYCODE_BUTTON_X:99,KEYCODE_BUTTON_Y:100,KEYCODE_BUTTON_Z:101,KEYCODE_BUTTON_L1:102,KEYCODE_BUTTON_R1:103,KEYCODE_BUTTON_L2:104,KEYCODE_BUTTON_R2:105,KEYCODE_BUTTON_THUMBL:106,KEYCODE_BUTTON_THUMBR:107,KEYCODE_BUTTON_START:108,KEYCODE_BUTTON_SELECT:109,KEYCODE_BUTTON_MODE:110,KEYCODE_ESCAPE:111,KEYCODE_FORWARD_DEL:112,KEYCODE_CTRL_LEFT:113,KEYCODE_CTRL_RIGHT:114,KEYCODE_CAPS_LOCK:115,KEYCODE_SCROLL_LOCK:116,KEYCODE_META_LEFT:117,KEYCODE_META_RIGHT:118,KEYCODE_FUNCTION:119,KEYCODE_SYSRQ:120,KEYCODE_BREAK:121,KEYCODE_MOVE_HOME:122,KEYCODE_MOVE_END:123,KEYCODE_INSERT:124,KEYCODE_FORWARD:125,KEYCODE_MEDIA_PLAY:126,KEYCODE_MEDIA_PAUSE:127,KEYCODE_MEDIA_CLOSE:128,KEYCODE_MEDIA_EJECT:129,KEYCODE_MEDIA_RECORD:130,KEYCODE_F1:131,KEYCODE_F2:132,KEYCODE_F3:133,KEYCODE_F4:134,KEYCODE_F5:135,KEYCODE_F6:136,KEYCODE_F7:137,KEYCODE_F8:138,KEYCODE_F9:139,KEYCODE_F10:140,KEYCODE_F11:141,KEYCODE_F12:142,KEYCODE_NUM_LOCK:143,KEYCODE_NUMPAD_0:144,KEYCODE_NUMPAD_1:145,KEYCODE_NUMPAD_2:146,KEYCODE_NUMPAD_3:147,KEYCODE_NUMPAD_4:148,KEYCODE_NUMPAD_5:149,KEYCODE_NUMPAD_6:150,KEYCODE_NUMPAD_7:151,KEYCODE_NUMPAD_8:152,KEYCODE_NUMPAD_9:153,KEYCODE_NUMPAD_DIVIDE:154,KEYCODE_NUMPAD_MULTIPLY:155,KEYCODE_NUMPAD_SUBTRACT:156,KEYCODE_NUMPAD_ADD:157,KEYCODE_NUMPAD_DOT:158,KEYCODE_NUMPAD_COMMA:159,KEYCODE_NUMPAD_ENTER:160,KEYCODE_NUMPAD_EQUALS:161,KEYCODE_NUMPAD_LEFT_PAREN:162,KEYCODE_NUMPAD_RIGHT_PAREN:163,KEYCODE_VOLUME_MUTE:164,KEYCODE_INFO:165,KEYCODE_CHANNEL_UP:166,KEYCODE_CHANNEL_DOWN:167,KEYCODE_ZOOM_IN:168,KEYCODE_ZOOM_OUT:169,KEYCODE_TV:170,KEYCODE_WINDOW:171,KEYCODE_GUIDE:172,KEYCODE_DVR:173,KEYCODE_BOOKMARK:174,KEYCODE_CAPTIONS:175,KEYCODE_SETTINGS:176,KEYCODE_TV_POWER:177,KEYCODE_TV_INPUT:178,KEYCODE_STB_POWER:179,KEYCODE_STB_INPUT:180,KEYCODE_AVR_POWER:181,KEYCODE_AVR_INPUT:182,KEYCODE_PROG_RED:183,KEYCODE_PROG_GREEN:184,KEYCODE_PROG_YELLOW:185,KEYCODE_PROG_BLUE:186,KEYCODE_APP_SWITCH:187,KEYCODE_BUTTON_1:188,KEYCODE_BUTTON_2:189,KEYCODE_BUTTON_3:190,KEYCODE_BUTTON_4:191,KEYCODE_BUTTON_5:192,KEYCODE_BUTTON_6:193,KEYCODE_BUTTON_7:194,KEYCODE_BUTTON_8:195,KEYCODE_BUTTON_9:196,KEYCODE_BUTTON_10:197,KEYCODE_BUTTON_11:198,KEYCODE_BUTTON_12:199,KEYCODE_BUTTON_13:200,KEYCODE_BUTTON_14:201,KEYCODE_BUTTON_15:202,KEYCODE_BUTTON_16:203,KEYCODE_LANGUAGE_SWITCH:204,KEYCODE_MANNER_MODE:205,KEYCODE_3D_MODE:206,KEYCODE_CONTACTS:207,KEYCODE_CALENDAR:208,KEYCODE_MUSIC:209,KEYCODE_CALCULATOR:210,KEYCODE_ZENKAKU_HANKAKU:211,KEYCODE_EISU:212,KEYCODE_MUHENKAN:213,KEYCODE_HENKAN:214,KEYCODE_KATAKANA_HIRAGANA:215,KEYCODE_YEN:216,KEYCODE_RO:217,KEYCODE_KANA:218,KEYCODE_ASSIST:219,KEYCODE_BRIGHTNESS_DOWN:220,KEYCODE_BRIGHTNESS_UP:221,KEYCODE_MEDIA_AUDIO_TRACK:222,KEYCODE_SLEEP:223,KEYCODE_WAKEUP:224,KEYCODE_PAIRING:225,KEYCODE_MEDIA_TOP_MENU:226,KEYCODE_11:227,KEYCODE_12:228,KEYCODE_LAST_CHANNEL:229,KEYCODE_TV_DATA_SERVICE:230,KEYCODE_VOICE_ASSIST:231,KEYCODE_TV_RADIO_SERVICE:232,KEYCODE_TV_TELETEXT:233,KEYCODE_TV_NUMBER_ENTRY:234,KEYCODE_TV_TERRESTRIAL_ANALOG:235,KEYCODE_TV_TERRESTRIAL_DIGITAL:236,KEYCODE_TV_SATELLITE:237,KEYCODE_TV_SATELLITE_BS:238,KEYCODE_TV_SATELLITE_CS:239,KEYCODE_TV_SATELLITE_SERVICE:240,KEYCODE_TV_NETWORK:241,KEYCODE_TV_ANTENNA_CABLE:242,KEYCODE_TV_INPUT_HDMI_1:243,KEYCODE_TV_INPUT_HDMI_2:244,KEYCODE_TV_INPUT_HDMI_3:245,KEYCODE_TV_INPUT_HDMI_4:246,KEYCODE_TV_INPUT_COMPOSITE_1:247,KEYCODE_TV_INPUT_COMPOSITE_2:248,KEYCODE_TV_INPUT_COMPONENT_1:249,KEYCODE_TV_INPUT_COMPONENT_2:250,KEYCODE_TV_INPUT_VGA_1:251,KEYCODE_TV_AUDIO_DESCRIPTION:252,KEYCODE_TV_AUDIO_DESCRIPTION_MIX_UP:253,KEYCODE_TV_AUDIO_DESCRIPTION_MIX_DOWN:254,KEYCODE_TV_ZOOM_MODE:255,KEYCODE_TV_CONTENTS_MENU:256,KEYCODE_TV_MEDIA_CONTEXT_MENU:257,KEYCODE_TV_TIMER_PROGRAMMING:258,KEYCODE_HELP:259,KEYCODE_NAVIGATE_PREVIOUS:260,KEYCODE_NAVIGATE_NEXT:261,KEYCODE_NAVIGATE_IN:262,KEYCODE_NAVIGATE_OUT:263,KEYCODE_STEM_PRIMARY:264,KEYCODE_STEM_1:265,KEYCODE_STEM_2:266,KEYCODE_STEM_3:267,KEYCODE_DPAD_UP_LEFT:268,KEYCODE_DPAD_DOWN_LEFT:269,KEYCODE_DPAD_UP_RIGHT:270,KEYCODE_DPAD_DOWN_RIGHT:271,KEYCODE_MEDIA_SKIP_FORWARD:272,KEYCODE_MEDIA_SKIP_BACKWARD:273,KEYCODE_MEDIA_STEP_FORWARD:274,KEYCODE_MEDIA_STEP_BACKWARD:275,KEYCODE_SOFT_SLEEP:276,KEYCODE_CUT:277,KEYCODE_COPY:278,KEYCODE_PASTE:279,KEYCODE_SYSTEM_NAVIGATION_UP:280,KEYCODE_SYSTEM_NAVIGATION_DOWN:281,KEYCODE_SYSTEM_NAVIGATION_LEFT:282,KEYCODE_SYSTEM_NAVIGATION_RIGHT:283,KEYCODE_ALL_APPS:284,KEYCODE_REFRESH:285,KEYCODE_THUMBS_UP:286,KEYCODE_THUMBS_DOWN:287,KEYCODE_PROFILE_SWITCH:288,KEYCODE_VIDEO_APP_1:289,KEYCODE_VIDEO_APP_2:290,KEYCODE_VIDEO_APP_3:291,KEYCODE_VIDEO_APP_4:292,KEYCODE_VIDEO_APP_5:293,KEYCODE_VIDEO_APP_6:294,KEYCODE_VIDEO_APP_7:295,KEYCODE_VIDEO_APP_8:296,KEYCODE_FEATURED_APP_1:297,KEYCODE_FEATURED_APP_2:298,KEYCODE_FEATURED_APP_3:299,KEYCODE_FEATURED_APP_4:300,KEYCODE_DEMO_APP_1:301,KEYCODE_DEMO_APP_2:302,KEYCODE_DEMO_APP_3:303,KEYCODE_DEMO_APP_4:304},FUNCTION_KEYCODE_CONVERT_ANDROID={ArrowUp:"KEYCODE_DPAD_UP",ArrowDown:"KEYCODE_DPAD_DOWN",ArrowLeft:"KEYCODE_DPAD_LEFT",ArrowRight:"KEYCODE_DPAD_RIGHT",Enter:"KEYCODE_ENTER",Backspace:"KEYCODE_DEL",NumpadEnter:"KEYCODE_ENTER",Delete:"KEYCODE_FORWARD_DEL"},POD_KEYBOARD_STATUS={VIRTUAL_KEYBOARD:0,LOCAL_KEYBOARD:1},START_CONNECTION_STATUS=function(e){return e[e.STARTED=1]="STARTED",e[e.PODSTART_SUCCESS=2]="PODSTART_SUCCESS",e[e.CLIENT_JOIN_ROOM_SUCCESS=3]="CLIENT_JOIN_ROOM_SUCCESS",e[e.POD_JOIN_ROOM_SUCCESS=4]="POD_JOIN_ROOM_SUCCESS",e[e.POD_HAS_PUBLISH_STREAM=5]="POD_HAS_PUBLISH_STREAM",e[e.CLIENT_SUBSCRIBE_STREAM=6]="CLIENT_SUBSCRIBE_STREAM",e[e.CLIENT_PLAY_SUCCESS=7]="CLIENT_PLAY_SUCCESS",e[e.CLIENT_FRAME_RENDER_SUCCESS=8]="CLIENT_FRAME_RENDER_SUCCESS",e[e.CLIENT_START_SUCCESS=9]="CLIENT_START_SUCCESS",e[e.PODSTART_ERROR=10]="PODSTART_ERROR",e[e.CLIENT_JOIN_ROOM_FAILED=11]="CLIENT_JOIN_ROOM_FAILED",e}(START_CONNECTION_STATUS||{}),START_ERROR_MAP={ERROR_START_AUTHENTICATION_FAILED:[10001,[7e5,700001,700002,71e3]],ERROR_START_GENERAL:[1e4,3e6],ERROR_START_GAME_ID_OR_CUSTOM_GAME_ID_NOT_EXIST:[10002,3530001],ERROR_START_GAME_ID_NOT_READY:[10003,3530002],ERROR_START_CONFIGURATION_CODE_NOT_EXIST:[10004,600003],ERROR_START_CONFIGURATION_CODE_NOT_REDAY:[10005,[3560001,3560002]],ERROR_START_RESOURCE_NOT_READY:[10006,3560005],ERROR_START_RESOURCE_CAPACITY_NOT_ENOUGH:[10007,[3560007,3560008]],ERROR_START_STREAM_AUTO_PLAY_FAILED:[10008],ERROR_START_AUTHENTICATION_KEY_FAILED:[10009,100026],ERROR_START_RESERVED_ID_NOT_FOUND:[10012,3561001],ERROR_START_RESERVED_ID_EXPIRED:[10013,3561002],ERROR_START_RESERVED_ID_ALREADY_USED_RELEASE:[10014,3561003],ERROR_START_RESERVED_ID_USING:[10015,3561004],ERROR_START_RESERVED_ID_MISMATCH_PREPARE:[10016,3561005],ERROR_START_NO_SUFFICIENT_FUND:[10017,3200002],ERROR_START_USER_CONFLICT:[10018,3560009],ERROR_START_MISMATCH_ACCOUNTID_VEGAME:[10026,700003,"ERROR_START_MISMATCH_ACCOUNTID"],ERROR_START_INVALID_LOCAL_TIME:[10027,100006],ERROR_START_CONTAINER_SIZE_INVALID:[10050,3510001],ERROR_START_POD_IS_NOT_STREAMING:[10060,3570001],ERROR_START_PRODUCT_NOT_EXIST:[11001,2000001],ERROR_START_APPLICATION_NOT_EXIST:[11002,3000001],ERROR_START_PHONE_CONFIGURATION_CODE_NOT_EXIST:[11003,6e6],ERROR_START_POD_NOT_EXIST:[11004,11000001],ERROR_REQUEST_PARAMETER_BINDING_ERROR:[11005,1000001],ERROR_INVALID_REQUEST_PARAMETER:[11006,1000007],ERROR_BUSINESS_ID_ERROR:[11007,2e6],ERROR_DOWN_STREAM_UNKNOWN_ERROR:[11021,1000008],ERROR_ACCOUNT_ID_INIT_ERROR:[11008,7e6],ERROR_ACCOUNT_ID_IS_INVALID:[11009,7000001],ERROR_USER_IS_INVALID:[11010,71e5],ERROR_GENERIC_INSTANCE_ERROR:[11011,11e6],ERROR_INSTANCE_OFFLINE:[11012,11000002],ERROR_UNIVERSAL_STARTUP_FAILED:[11013,15e6],ERROR_INTERNAL_POD_START_FAILED:[11014,15000001],ERROR_INTERNAL_POD_MUTE_FAILED:[11015,15000002],ERROR_INTERNAL_CONFIG_FAILED:[11016,15000003],ERROR_START_MISMATCH_ACCOUNTID_VEPHONE:[11019,7000003,"ERROR_ACCOUNTID_MISMATCH"],ERROR_STREAM_GENERAL:[2e4,["ERROR_STATUS","ERROR_BYTE_RTC_ERROR"]],ERROR_STREAM_CONNECTION_FAILED:[20001,[300002,300003]],ERROR_STREAM_CHANGE_CLARITY_ID_NOT_IN_START_STATE:[20002],ERROR_SDK_INIT_FAILED:[30001],ERROR_SDK_LACK_OF_LOCATION_PERMISSION:[30007],ERROR_SDK_GENERAL:[3e4],ERROR_GAME_VIDEO_STREAM_PROFILE_NOT_IN_RANGE:[200005],ERROR_INIT_ACCOUNT_ID_ILLEGAL:[30009],ERROR_NET_REQUEST_ERROR:[60001],ERROR_HTTP_REQUEST_ERROR:[60002],ERROR_QUEUE_REQUEST_ERROR:[60003],ERROR_HTTP_RESPONSE_ERROR:[60004],ERROR_START_INVALID_ROLE:[10028,3560017],ERROR_USER_NOT_IN_QUEUE:[10029,3565002],ERROR_SDK_MANY_CONNECTION:[30012],ERROR_SDK_USER_HAS_LEAVE_ROOM:[30013],ERROR_SDK_JOIN_ROOM_FAILED:[30014],ERROR_SDK_USER_FORBIDDEN:[30015],ERROR_SDK_JOIN_ROOM_NET_ABNORMAL:[30016]},GAME_START_ERROR_TRANSFER_PHONE_ERROR={ERROR_START_PHONE_CONFIGURATION_CODE_NOT_EXIST:"ERROR_START_CONFIGURATION_CODE_NOT_EXIST"},START_ERROR=(object=START_ERROR_MAP,result={},Object.keys(object).forEach((function(e){var t=_slicedToArray(object[e],3),n=t[0],r=t[1],i=t[2];result[e]={CODE:n,ORIGIN:r,MESSAGE:i||e}})),result),object,result;function findStartError(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)for(var n=0,r=Object.keys(START_ERROR);n<r.length;n++){var i=r[n],a=START_ERROR[i];if(void 0!==a.ORIGIN){var o=a.ORIGIN instanceof Array?a.ORIGIN.includes(e):a.ORIGIN===e,s=t&&(null==GAME_START_ERROR_TRANSFER_PHONE_ERROR?void 0:GAME_START_ERROR_TRANSFER_PHONE_ERROR[a.MESSAGE])||a.MESSAGE;if(o)return{errorCode:a.CODE,message:s}}}return{errorCode:START_ERROR.ERROR_START_GENERAL.CODE,message:START_ERROR.ERROR_START_GENERAL.MESSAGE}}var POD_WARNING=fillErrorMessage({WARNING_START_NO_STOP_BEFORE:10010,WARNING_START_INVALID_AUTO_RECYCLE_TIME:10019,WARNING_START_AUDIO_AUTO_PLAY_FAILED:10022,WARNING_START_WITH_FRAMEWORK_NOT_FOUND:10023,WARNING_START_WITH_FRAMEWORK_PART_MATCH:10024,WARNING_START_WITH_FRAMEWORK_WRONG_INPUT_FORMAT:10025,WARNING_VIEWER_METHOD_CALLED:30011,WARNING_QUEUEING_LACK_RESOURCE:10030,WARNING_NATIVE_IME_DISABLED:40054,WARNING_START_RTC_ICE_TIMEOUT:30016,WARNING_TOKEN_WILL_EXPIRE:34001}),POD_ERROR$1=fillErrorMessage({ERROR_GAME_ABNORMAL_EXIT:4e4,ERROR_POD_REMOTE_OFFLINE:4e4,ERROR_GAME_CRASH:40001,ERROR_GAME_OFFLINE:40002,ERROR_GAME_EXIT_TIMEOUT:40003,ERROR_GAME_STOPPED_IDLE:40004,ERROR_GAME_STOPPED_RESET:40005,ERROR_GAME_STOPPED_API:40006,ERROR_GAME_STOPPED_DUPLICATE_START:40007,ERROR_POD_STOPPED_BACKGROUND_TIMEOUT:40008,ERROR_POD_EXIT_GENERAL:40009,ERROR_GAME_ALREADY_STOPPED:40010,ERROR_REMOTE_POWER_OFF:40011,ERROR_RECONNECT_FAILED:40013,WARNING_LOCAL_ALREADY_SET_BACKGROUND:40037,WARNING_LOCAL_ALREADY_SET_FOREGROUND:40038,ERROR_SET_INVALID_AUTO_RECYCLE_TIME:40039,ERROR_SET_IDLE_REMINDER_TIME:40100,WARNING_GAME_STOPPED_INGAME_EXIT:40044,ERROR_STORAGE_NOT_ENOUGH:40045,ERROR_POD_UNKNOWN_FAILURE:40046,WARNING_VIDEO_PROFILE_NOT_SUPPORT_CURRENT_PLAN:40052,ERROR_REMOTE_STOPPED_TOKEN_EXPIRED:40055,ERROR_REMOTE_UPDATE_TOKEN_FAILED:40056,ERROR_FILE_CHANNEL_FILE_NOT_FOUND:71001,ERROR_FILE_CHANNEL_FILE_NO_ACCESS:71002,ERROR_FILE_CHANNEL_NETWORK_ABORT:71003,ERROR_FILE_CHANNEL_TIMEOUT:71004,ERROR_FILE_CHANNEL_STORAGE_NOT_ENOUGH:71005,ERROR_FILE_CHANNEL_INTERNAL_ERROR:71006}),GAME_ERROR_TRANSFER_PHONE_ERROR={ERROR_GAME_ABNORMAL_EXIT:"ERROR_REMOTE_ABNORMAL_EXIT",ERROR_GAME_CRASH:"ERROR_REMOTE_OPENAPI_EXIT",ERROR_GAME_STOPPED_IDLE:"ERROR_STREAM_STOPPED_AUTO_RECYCLE",ERROR_GAME_STOPPED_RESET:"ERROR_REMOTE_EXIT",ERROR_GAME_STOPPED_API:"ERROR_REMOTE_STOPPED_API",ERROR_GAME_OFFLINE:"ERROR_REMOTE_INVISIVLE",ERROR_GAME_EXIT_TIMEOUT:"ERROR_REMOTE_KICKOFF",ERROR_GAME_STOPPED_DUPLICATE_START:"ERROR_DUPLICATE_USER"},POD_ERROR_PHONE_EXTEND=Object.keys(GAME_ERROR_TRANSFER_PHONE_ERROR).reduce((function(e,t){return _objectSpread2(_objectSpread2({},e),{},_defineProperty$1({},t,_objectSpread2(_objectSpread2({},null==POD_ERROR$1?void 0:POD_ERROR$1[t]),{},{MESSAGE:null==GAME_ERROR_TRANSFER_PHONE_ERROR?void 0:GAME_ERROR_TRANSFER_PHONE_ERROR[t]})))}),{}),BUILDER_KEYS={WARNING_REMOTE_$_FOREGROUND_FAILURE_NO_SUCH_PACKAGE_NAME:40040,WARNING_REMOTE_$_ALREADY_FOREGROUND:40041,WARNING_REMOTE_$_FOREGROUND_FAILURE_NO_PACKAGE_NAME_BACKGROUND:40043,ERROR_SDK_$_EMPTY:30002,ERROR_SDK_$_ERROR:50006},ERROR_BUILDER=function(){var e={};return Object.keys(BUILDER_KEYS).forEach((function(t){var n=BUILDER_KEYS[t];e[t]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=e?t.replace("$",e):t.replace("$_","");return{CODE:n,MESSAGE:r}}})),e}(),MESSAGE_CHANNEL_ERROR=fillErrorMessage({ERROR_MESSAGE_GENERAL_ERROR:5e4,ERROR_MESSAGE_NOT_READY:50001,ERROR_MESSAGE_FAILED_TO_PARSE_MSG:50002,ERROR_MESSAGE_CHANNEL_UID_ILLEGAL:50003,ERROR_MESSAGE_FAILED:50004,ERROR_MESSAGE_NOT_CLOUD_RUNTIME:50005,ERROR_MESSAGE_CONNECT_VERIFY_FAILED:50006,ERROR_MESSAGE_OVER_SIZED:50007,ERROR_MESSAGE_NOT_CONNECTED:50008,ERROR_MESSAGE_TIMEOUT_ILLEGAL:50009}),STATUS_ERROR={786:[40004,"ERROR_GAME_STOPPED_IDLE"],794:[40008,"ERROR_POD_STOPPED_BACKGROUND_TIMEOUT"],5:[40006,"ERROR_GAME_STOPPED_API"],1:[40014,"MESSAGE_RESOURCE_OFFLINE"],3:[40015,"MESSAGE_RESOURCE_UPDATING"],4:[40016,"MESSAGE_RESOURCE_REBOOTING"],6:[40017,"MESSAGE_RESOURCE_MAINTANENCE"],7:[40018,"MESSAGE_RESOURCE_SERVICE_UPDATING"],784:[40023,"MESSAGE_RESOURCE_RELEASED_NORMAL"],785:[40024,"MESSAGE_RESOURCE_RELEASED_NO_USER"],787:[40026,"MESSAGE_RESOURCE_RELEASED_OS_MISSED"],788:[40027,"MESSAGE_RESOURCE_RELEASED_GAME_START_FAILURE"],789:[40028,"MESSAGE_RESOURCE_RELEASED_STREAMING_ERROR"],790:[40029,"MESSAGE_RESOURCE_RELEASED_3RD_APP_MISSED"],1030:[40047,"MESSAGE_RESOURCE_RELEASED_INVALID_PARAMETER"],1031:[40048,"MESSAGE_RESOURCE_RELEASED_HEART_BEAT_TIMEOUT"],1032:[40049,"MESSAGE_RESOURCE_RELEASED_INGAME_EXIT"],1033:[40050,"MESSAGE_RESOURCE_RELEASED_START_ERROR_ARCHIVE_DOWNLOAD_FAILURE"],1027:[40032,"MESSAGE_CLOUD_GAME_CRASH_OFTEN"],1028:[40033,"MESSAGE_GAME_STEAMING_FAILURE"],768:[40019,"MESSAGE_RESOURCE_OCCUPIED"],769:[40020,"MESSAGE_RESOURCE_LAUNCHING_GAME"],770:[40021,"MESSAGE_RESOURCE_IS_RUNNING"],771:[40022,"MESSAGE_RESOURCE_IS_PUBLISH"],1024:[40030,"MESSAGE_RESOURCE_ERROR"],1025:[40031,"MESSAGE_3RD_APP_START_FAILURE"],9:[40034,"MESSAGE_RESOURCE_CLOUD_SERVICE_UPDATING"],12:[40035,"MESSAGE_RESOURCE_POD_NODE_UPDATING"],256:[40036,"MESSAGE_RESOURCE_POD_AVAILABLE"],816:[40037,"MESSAGE_3RD_APP_EXCEPTION"],1026:[40038,"MESSAGE_RESOURCE_START_FAIL"],1e4:[40042,"MESSAGE_RESOURCE_RID_OVERDUE"],10001:[40043,"MESSAGE_RESOURCE_RID_NOT_USED"],10002:[40044,"MESSAGE_RESOURCE_RID_POD_QUIT"],772:[40045,"MESSAGE_RESOURCE_RESTORE_ARCHIVE"],791:[40046,"MESSAGE_RESOURCE_START_RELEASE_NO_ARCHIVE"],792:[40051,"MESSAGE_RESOURCE_START_RELEASE_WITH_ARCHIVE"],793:[40052,"MESSAGE_RESOURCE_FINISH_ARCHIVE"]},SDK_CUSTOM_ERROR=fillErrorMessage({CLIENT_NOT_INIT:[6e3,"CLIENT_NOT_EXIT"],RTC_CLIENT_NOT_CREATE:[6001,"CLIENT_NOT_EXIT"],RTC_CLIENT_SUBSCRIBE_FAILED:[6002,"CLIENT_SUBSCRIBE_FAILED"],PUBLISH_STREAM_RTC_FAIL:7001,GET_USER_MEDIA_FAIL:7002,UNPUBLISH_STREAM_RTC_FAIL:7003});function buildCustomError(){return{errorCode:80002,errorMessage:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CUSTOM_ERROR"}}function fillErrorMessage(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n]="number"==typeof r?{CODE:r,MESSAGE:n}:{CODE:r[0],MESSAGE:r[1]}})),t}var dist={exports:{}};!function(e,t){e.exports=function(){function e(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function t(e){var t=function(e,t){if("object"!=_typeof$1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof$1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_typeof$1(t)?t:t+""}function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var r,i,a,o=n((function(e,t){var n;e.exports=n=n||function(e){var t=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),n={},r=n.lib={},i=r.Base={extend:function(e){var n=t(this);return e&&n.mixIn(e),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*l,i);if(l){for(var d=0;d<l;d+=o)this._doProcessBlock(r,d);var u=r.splice(0,l);n.sigBytes-=c}return new a.init(u,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}});var u=n.algo={};return n}(Math)})),s=n((function(e,t){var n;e.exports=(n=o,function(e){var t=n,r=t.lib,i=r.WordArray,a=r.Hasher,o=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),l[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],d=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],d=n[5],u=n[6],U=n[7],F=0;F<64;F++){if(F<16)c[F]=0|e[t+F];else{var p=c[F-15],Q=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,h=c[F-2],R=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;c[F]=Q+c[F-7]+R+c[F-16]}var _=r&i^r&a^i&a,S=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),B=U+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&u)+l[F]+c[F];U=u,u=d,d=s,s=o+B|0,o=a,a=i,i=r,r=B+(S+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+U|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(d),t.HmacSHA256=a._createHmacHelper(d)}(Math),n.SHA256)})),l=(n((function(e,t){var n,r,i;e.exports=(r=(n=o).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),n((function(e,t){e.exports=o.HmacSHA256}))),c={hmac:function(e,t){return l(t,e)},sha256:function(e){return s(e)}},d=["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],u=function(e){try{return encodeURIComponent(e).replace(/[^A-Za-z0-9_.~\-%]+/g,escape).replace(/[*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}catch(t){return""}},U=function(e){return Object.keys(e).sort().map((function(t){var n=e[t];if(null!=n){var r=u(t);if(r)return Array.isArray(n)?"".concat(r,"=").concat(n.map(u).sort().join("&".concat(r,"="))):"".concat(r,"=").concat(u(n))}})).filter((function(e){return e})).join("&")};return r=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.request=t,this.request.headers=t.headers||{},this.serviceName=n,r=r||{},this.signatureCache="boolean"!=typeof r.signatureCache||r.signatureCache,this.operation=r.operation,this.signatureVersion=r.signatureVersion,this.constant=r.isVolcengine?{algorithm:"HMAC-SHA256",v4Identifier:"request",dateHeader:"X-Date",tokenHeader:"x-security-token",contentSha256Header:"X-Content-Sha256",kDatePrefix:""}:{algorithm:"AWS4-HMAC-SHA256",v4Identifier:"aws4_request",dateHeader:"X-Amz-Date",tokenHeader:"x-amz-security-token",contentSha256Header:"X-Amz-Content-Sha256",kDatePrefix:"AWS4"},this.bodySha256=r.bodySha256,this.shouldSerializeBody="boolean"!=typeof r.shouldSerializeBody||r.shouldSerializeBody},(i=[{key:"addAuthorization",value:function(e,t){var n=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)}},{key:"addAuthorizationToBody",value:function(e,t){var n=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addParams(e,n),this.authorizationParams(e,n)}},{key:"addParams",value:function(e,t){if(this.request.params[this.constant.dateHeader]=t,e.sessionToken&&(this.request.params["X-Security-Token"]=e.sessionToken),this.request.body){var n=this.request.body;"string"!=typeof n&&this.shouldSerializeBody&&(n=n instanceof URLSearchParams?n.toString():JSON.stringify(n));var r=this.bodySha256||c.sha256(n).toString();this.request.params[this.constant.contentSha256Header]=r}}},{key:"authorizationParams",value:function(e,t){var n=this.credentialString(t);this.request.params["X-Algorithm"]=this.constant.algorithm,this.request.params["X-Credential"]="".concat(e.accessKeyId,"/").concat(n),this.request.params["X-Signature"]="".concat(this.signature(e,t))}},{key:"addHeaders",value:function(e,t){if(this.request.headers[this.constant.dateHeader]=t,e.sessionToken&&(this.request.headers[this.constant.tokenHeader]=e.sessionToken),this.request.body){var n=this.request.body;"string"!=typeof n&&this.shouldSerializeBody&&(n=n instanceof URLSearchParams?n.toString():JSON.stringify(n)),this.request.headers[this.constant.contentSha256Header]=this.bodySha256||c.sha256(n).toString()}}},{key:"authorization",value:function(e,t){var n=[],r=this.credentialString(t);return n.push("".concat(this.constant.algorithm," Credential=").concat(e.accessKeyId,"/").concat(r)),n.push("SignedHeaders=".concat(this.signedHeaders())),n.push("Signature=".concat(this.signature(e,t))),n.join(", ")}},{key:"signature",value:function(e,t){var n=this.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return c.hmac(n,this.stringToSign(t),"hex")}},{key:"stringToSign",value:function(e){var t=[];return t.push(this.constant.algorithm),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")}},{key:"canonicalString",value:function(){var e=[],t=this.request.pathname||"/";return e.push(this.request.method.toUpperCase()),e.push(t),e.push(U(this.request.params)||""),e.push("".concat(this.canonicalHeaders(),"\n")),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")}},{key:"canonicalHeaders",value:function(){var e=this,t=[];Object.keys(this.request.headers).forEach((function(n){t.push([n,e.request.headers[n]])})),t.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var n=[];return t.forEach((function(t){var r=t[0].toLowerCase();if(e.isSignableHeader(r)){var i=t[1];if(null==i||"function"!=typeof i.toString)throw new Error("Header ".concat(r," contains invalid value"));n.push("".concat(r,":").concat(e.canonicalHeaderValues(i.toString())))}})),n.join("\n")}},{key:"canonicalHeaderValues",value:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}},{key:"signedHeaders",value:function(){var e=this,t=[];return Object.keys(this.request.headers).forEach((function(n){n=n.toLowerCase(),e.isSignableHeader(n)&&t.push(n)})),t.sort().join(";")}},{key:"credentialString",value:function(e){return this.createScope(e.substr(0,8),this.request.region,this.serviceName)}},{key:"hexEncodedHash",value:function(e){return c.sha256(e)}},{key:"hexEncodedBodyHash",value:function(){return this.request.headers[this.constant.contentSha256Header]?this.request.headers[this.constant.contentSha256Header]:this.request.params[this.constant.contentSha256Header]?this.request.params[this.constant.contentSha256Header]:this.request.body?this.hexEncodedHash(U(this.request.body)):this.hexEncodedHash("")}},{key:"isSignableHeader",value:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||d.indexOf(e)<0}},{key:"iso8601",value:function(e){return void 0===e&&(e=new Date),e.toISOString().replace(/\.\d{3}Z$/,"Z")}},{key:"getSigningKey",value:function(e,t,n,r){var i=c.hmac("".concat(this.constant.kDatePrefix).concat(e.secretAccessKey),t),a=c.hmac(i,n),o=c.hmac(a,r);return c.hmac(o,this.constant.v4Identifier)}},{key:"createScope",value:function(e,t,n){return[e.substr(0,8),t,n,this.constant.v4Identifier].join("/")}}])&&e(r.prototype,i),a&&e(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}()}(dist);var distExports=dist.exports,AWSSignersV4=getDefaultExportFromCjs$1(distExports),getRandomValues$2,rnds8$2=new Uint8Array(16);function rng$2(){if(!getRandomValues$2&&!(getRandomValues$2="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$2(rnds8$2)}var REGEX$1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(e){return"string"==typeof e&&REGEX$1.test(e)}for(var byteToHex$2=[],i$2=0;i$2<256;++i$2)byteToHex$2.push((i$2+256).toString(16).substr(1));function stringify$5(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(byteToHex$2[e[t+0]]+byteToHex$2[e[t+1]]+byteToHex$2[e[t+2]]+byteToHex$2[e[t+3]]+"-"+byteToHex$2[e[t+4]]+byteToHex$2[e[t+5]]+"-"+byteToHex$2[e[t+6]]+byteToHex$2[e[t+7]]+"-"+byteToHex$2[e[t+8]]+byteToHex$2[e[t+9]]+"-"+byteToHex$2[e[t+10]]+byteToHex$2[e[t+11]]+byteToHex$2[e[t+12]]+byteToHex$2[e[t+13]]+byteToHex$2[e[t+14]]+byteToHex$2[e[t+15]]).toLowerCase();if(!validate$1(n))throw TypeError("Stringified UUID is invalid");return n}function v4$2(e,t,n){var r=(e=e||{}).random||(e.rng||rng$2)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return stringify$5(r)}function isPC(){return!/Android|Alicar|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)}function isiOS(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||/Macintosh/i.test(navigator.userAgent)&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>0}function isIOSUniApp(){return/iPhone.*?uni-app/i.test(window.navigator.userAgent)}function isWxApp(){return/MicroMessenger/i.test(window.navigator.userAgent)}function isAndroid$1(){var e=navigator.userAgent;return-1!==e.search(/Safari/)&&(-1!==e.search(/Android[\s\/]([\d\.]+)/)||/Alicar/i.test(e))}function isMac$1(){var e=navigator.userAgent;return/macintosh|mac os x/i.test(e)}function getIOSVersion(){try{var e=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/)[1];return parseInt(null==e?void 0:e.split("_")[0])}catch(t){return null}}function isPwa(){return["standalone"].some((function(e){return window.matchMedia("(display-mode: "+e+")").matches}))}function getPlatform(){return isiOS()?PLATFORM.IOS:isAndroid$1()?PLATFORM.ANDROID:PLATFORM.PC}function keyCodeConvertPCtoAndroid(e){var t=e.keyCode,n=e.shiftKey,r=e.ctrlKey,i=e.metaKey;if(t>=65&&t<=90)return(r||i)&&86===t?null:n||i?-1:t-36;if(t>=48&&t<=57)return n?-1:t-41;if(192===t||187===t||189===t||219===t||221===t||220===t||186===t||222===t||188===t||190===t||191===t)return-1;switch(t){case 32:return INNER_KEYCODE.KEYCODE_SPACE;case 13:return INNER_KEYCODE.KEYCODE_ENTER;case 8:return INNER_KEYCODE.KEYCODE_DEL;case 20:return INNER_KEYCODE.KEYCODE_CAPS_LOCK;case 16:return INNER_KEYCODE.KEYCODE_SHIFT_LEFT}}function toQueryString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}function randomNumString$1(e){e=e||32;for(var t="0123456789",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(10*Math.random()));return n}var fsCompatMap={fullscreenEnabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],fullscreenElement:["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],requestFullscreen:["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],exitFullscreen:["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],fullscreenchange:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],fullscreenerror:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"],pseudoClass:["fullscreen","-webkit-full-screen","-moz-full-screen","-ms-fullscreen"]},fullscreenHelper={get fullscreenElement(){var e=fsCompatMap.fullscreenElement.find((function(e){return e in document}));return e?document[e]:null},set fullscreenElement(e){},get fullscreenEnabled(){var e=fsCompatMap.fullscreenEnabled.find((function(e){return e in document}));return!!e&&document[e]},set fullscreenEnabled(e){},get fullscreenPseudoClass(){return fsCompatMap.pseudoClass.find((function(e,t){return 0!==t&&fsCompatMap.fullscreenEnabled[t]in document}))},set fullscreenPseudoClass(e){},requestFullscreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=fsCompatMap.requestFullscreen.find((function(t){return"function"==typeof e[t]}));t&&e[t]()},exitFullscreen:function(){var e=fsCompatMap.exitFullscreen.find((function(e){return"function"==typeof document[e]}));e&&document[e]()},bindFullscreenchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0,n=fsCompatMap.fullscreenchange.find((function(t){return"on".concat(t)in e}));return n&&e.addEventListener(n,t),function(){return fullscreenHelper.unbindFullscreenchange(e,t)}},unbindFullscreenchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0,n=fsCompatMap.fullscreenchange.find((function(t){return"on".concat(t)in e}));n&&e.removeEventListener(n,t)},bindFullscreenerror:function(e){var t=fsCompatMap.fullscreenerror.find((function(e){return"on".concat(e)in document}));return t&&document.addEventListener(t,e),function(){return fullscreenHelper.unbindFullscreenerror(e)}},unbindFullscreenerror:function(e){var t=fsCompatMap.fullscreenerror.find((function(e){return"on".concat(e)in document}));t&&document.removeEventListener(t,e)}};function arraybufferConcatenate(){for(var e=0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){e+=a[i].byteLength}for(var o=new Uint8Array(e),s=0,l=0,c=n;l<c.length;l++){var d=c[l],u=new Uint8Array(d);o.set(u,s),s+=d.byteLength}return o.buffer}function debounce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,i=!1;return function(){var a=this,o=Array.prototype.slice.call(arguments);r&&(clearTimeout(r),r=null),!i&&n?(e.apply(a,o),i=!0):r=setTimeout((function(){e.apply(a,o),i=!1}),t)}}function limitRange(e,t,n){return e>n?n:e<t?t:e}function clearUndf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in e){if(e.hasOwnProperty(n))(t?!e[n]:void 0===e[n])&&delete e[n]}return e}function setDeviceId(e){localStorage.setItem(DID_LOCALSTORAGE_KEY,e)}function getDeviceId(){var e=localStorage.getItem(DID_LOCALSTORAGE_KEY);return e||setDeviceId(e="uuid_".concat(v4$2())),e}function pick(e,t){var n,r={},i=_createForOfIteratorHelper$1(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a]=e[a]}}catch(o){i.e(o)}finally{i.f()}return r}function delay$1(e,t){return new Promise((function(n){var r=setTimeout(n,e);null==t||t(r)}))}function withResolve$1(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}}var CommonHeader={"Content-Type":"application/json"},CommonHeaderByBodyFetch={"Content-Type":"text/plain"},CommonParam={"X-Expires":604800,Version:"2022-02-10"};function fetchBase(e,t){return _fetchBase.apply(this,arguments)}function _fetchBase(){return _fetchBase=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,i=void 0===r?null:r,a=t.host,o=t.signKey,s=void 0===o?"veGame":o,l=t.url,c=void 0===l?"":l,d=t.params,u=void 0===d?{}:d,U=t.body,F=void 0===U?null:U,p=t.method,Q=void 0===p?"POST":p,h=t.timeout,R=void 0===h?3e4:h,_=t.extraRequiredParam,S=void 0===_?{}:_,B=t.headers,m=void 0===B?{}:B,f=t.defaultHosts,E=void 0===f?{PROD:"",PROD_BACKUP:""}:f,v=t.name,y=void 0===v?"":v,g=t.noSendExtra,T=void 0===g?{mode:MODE.CLOUD_PHONE_GAME}:g,V=t.customHandleReturn,k=void 0===V?null:V,N=t.useCommonParams,b=void 0===N||N,C=t.useCommonHeader,J=void 0===C||C,W=t.isSimpleFetch,D=void 0!==W&&W,y||(y=u.Action||"fetch_default"),b&&(u=createObject(_objectSpread2(_objectSpread2({},CommonParam),u))),F&&(F=createObject(F,isNullOrUdf)),n.send("openApiFetchStart",{name:y,params:u,body:F}),!1!==i&&checkParamsIsEmpty(_objectSpread2(_objectSpread2({},S),{},{token:i},pickProperties(i,["AccessKeyID","SecretAccessKey","SessionToken"]))),Z=toQueryString(u),M=0,I=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,o,l,d,U,p,h,_,S,B,f,v,g,V,N,b,C=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.length>1&&void 0!==C[1]&&C[1],r=C.length>0&&void 0!==C[0]&&C[0]?E.PROD_BACKUP:E.PROD,o={method:Q,url:"".concat(a||r).concat(c).concat(Z?"?":"").concat(Z),timeout:R,region:"cn-north-1",params:u,body:F,headers:J?createObject(_objectSpread2(_objectSpread2({},D?CommonHeaderByBodyFetch:CommonHeader),m)):m},null!==s&&signAuthorization(o,i,s,D),l=null,e.prev=6,d={method:o.method,headers:o.headers,mode:"cors",body:null},F&&(d.body=JSON.stringify(o.body)),D&&(o.url="".concat(a||r).concat(c).concat(toQueryString(o.params)?"?":"").concat(toQueryString(o.params))),e.next=12,fetch(o.url,d);case 12:if((U=e.sent).ok&&(t=!0),l=U.status,p=U.headers,_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=START_ERROR.ERROR_HTTP_RESPONSE_ERROR;return fetchFail({originalErrorCode:e,originalMessage:t||e,requestId:"",errorCode:n.CODE,message:n.MESSAGE,success:!1},o,l,h)},"text/html"!==(null==p?void 0:p.get("content-type"))){e.next=19;break}return e.abrupt("return",_("header_equal_html"));case 19:return S={},e.prev=20,e.next=23,U.json();case 23:h=e.sent,S=h,e.next=30;break;case 27:return e.prev=27,e.t0=e.catch(20),e.abrupt("return",fetchFail({errorCode:START_ERROR.ERROR_HTTP_RESPONSE_ERROR.CODE,message:START_ERROR.ERROR_HTTP_RESPONSE_ERROR.MESSAGE,originalErrorCode:l,originalMessage:U,isNetError:!1,httpStatus:l},o,l));case 30:if(n.send("openApiFetchSuccess",{http_info:{name:y,httpStatus:l,isOk:t,statusText:U.statusText,response:h,request:o,headers:p,params:u,body:F}}),!k){e.next=37;break}if(!(B=k(h))){e.next=35;break}return e.abrupt("return",fetchSuccess(B,o,l,U,p));case 35:case 42:e.next=46;break;case 37:if(!h.ResponseMetadata){e.next=44;break}if(v=(f=h).Result,g=f.ResponseMetadata,S=g,!v){e.next=42;break}return e.abrupt("return",fetchSuccess(v,o,l,h,p));case 44:if(0!==h.status_code){e.next=46;break}return e.abrupt("return",fetchSuccess(h.data,o,l,h,p));case 46:return e.abrupt("return",fetchFail(handleFetchError(S,U,{mode:(null==T?void 0:T.mode)||MODE.CLOUD_PHONE_GAME}),o,l,h));case 49:if(e.prev=49,e.t1=e.catch(6),!(M<2)){e.next=57;break}return M++,n.send("openApiFetchRetry",{name:y,err:e.t1.toString(),params:u,body:F,req:o,retryCount:M}),e.abrupt("return",I(!0,t));case 57:return n.send("openApiFetchError",{name:y,err:e.t1.toString(),params:u,body:F,req:o}),V="queryQueue"===y?START_ERROR.ERROR_QUEUE_REQUEST_ERROR:t?START_ERROR.ERROR_NET_REQUEST_ERROR:START_ERROR.ERROR_HTTP_REQUEST_ERROR,N=V.CODE,b=V.MESSAGE,e.abrupt("return",fetchFail({errorCode:N,message:b,originalErrorCode:l,originalMessage:t?"unknown network error":null===e.t1||void 0===e.t1?void 0:e.t1.toString(),isNetError:!0,httpStatus:l},o,l));case 61:case"end":return e.stop()}}),e,null,[[6,49],[20,27]])})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",I(!1));case 10:case"end":return e.stop()}}),e)}))),_fetchBase.apply(this,arguments)}function createObject(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:isEmpty$1,n={};for(var r in e)t(e[r])||(n[r]=e[r]);return n}function parseResponseMetadataError(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.Error){var n=e.Error.CodeN,r=e.Error.Message,i=e.RequestId,a=findStartError(n,t);return{originalErrorCode:n,originalMessage:r,requestId:i,errorCode:a.errorCode,message:a.message,success:!1}}return null}function handleFetchError(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{mode:MODE.CLOUD_PHONE_GAME},r=parseResponseMetadataError(e,(null==n?void 0:n.mode)===MODE.CLOUD_PHONE);if(r)return r;var i=t.ok,a=t.status,o=t.statusText,s=i?START_ERROR.ERROR_START_GENERAL:START_ERROR.ERROR_HTTP_REQUEST_ERROR;return{originalErrorCode:a,originalMessage:o,errorCode:s.CODE,message:s.MESSAGE,httpStatus:a}}function signAuthorization(e,t,n,r){var i=t.AccessKeyID,a=t.SecretAccessKey,o=t.SessionToken,s=new AWSSignersV4(e,n,{isVolcengine:!0});null==s||s[r?"addAuthorizationToBody":"addAuthorization"]({accessKeyId:i,secretAccessKey:a,sessionToken:o},new Date)}function fetchReturn(e){var t=e.data,n=void 0===t?null:t,r=e.req,i=e.error,a=void 0===i?null:i,o=e.success,s=void 0===o||o,l=e.httpStatus,c=e.origin,d=e.headers;return{success:s,data:n,error:a,req:r,httpStatus:l,origin:c,headers:void 0===d?null:d}}function fetchSuccess(e,t,n,r,i){return fetchReturn({data:e,req:t,httpStatus:n,origin:r,headers:i})}function fetchFail(e,t,n,r){return fetchReturn({req:t,error:e,success:!1,httpStatus:n,origin:r})}function pickProperties(e){var t={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){t[n]=e[n]})),t}function isEmpty$1(e){return null==e||""===e}function isNullOrUdf(e){return null==e}function checkParamsIsEmpty(e){checkParamsCommon((function(){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(isEmpty$1(r))t=n;else if(Array.isArray(r))for(var i=0;i<r.length;i++)isEmpty$1(r[i])&&(t=n);if(t)break}return t}))}function checkParamsCommon(e){var t=e();if(t){var n=ERROR_BUILDER.ERROR_SDK_$_EMPTY(t);throw{errorCode:n.CODE,message:n.MESSAGE}}}function fetchInnerApi(e,t){return _fetchInnerApi.apply(this,arguments)}function _fetchInnerApi(){return _fetchInnerApi=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.name,a=t.host,o=t.body,s=void 0===o?"":o,l=t.method,c=void 0===l?"GET":l,d=t.params,u=void 0===d?{}:d,U=t.extraRequiredParam,F=void 0===U?{}:U,p=t.customHandleReturn,Q=t.headers,h=void 0===Q?{}:Q,R=t.defaultHosts,_=void 0===R?GET_RESOURCE_HOST:R,i||(i=r),e.next=4,fetchBase({token:!1,host:a,defaultHosts:_,url:r,method:c,headers:h,signKey:null,extraRequiredParam:F,body:s,params:u,useCommonParams:!1,customHandleReturn:function(e){if(e.Result)return void 0===e.Result.success&&(e.Result.success=!0),e.Result.responseMetadata=e.ResponseMetadata,e.Result;var t=parseResponseMetadataError(e.ResponseMetadata);return t||(t=0===e.status_code?Object.assign({success:!0},e.data||{}):{originalErrorCode:e.status_code,originalMessage:"",success:!1}),"OK"===(null==e?void 0:e.Msg)&&0===(null==e?void 0:e.StatusCode)?null==e?void 0:e.Data:p?p(t):t},name:i},n);case 4:if(S=e.sent,B=S.success,m=S.data,f=S.error,B){e.next=11;break}throw n.localErrorLog("fetchInnerApi",r,"".concat(i," error:"),f),f;case 11:return e.abrupt("return",m);case 12:case"end":return e.stop()}}),e)}))),_fetchInnerApi.apply(this,arguments)}var SERVICE_VERSION=20220813,SERVER_COMMAND={CMD_INPUT_START:0,CMD_INPUT_SHOW:1,CMD_INPUT_DESTROY:2,CMD_ORIENTATION_IND:3,CMD_MSGSDK:5,CMD_VIBRATOR_START:6,CMD_VIBRATOR_STOP:7,CMD_GAME_OVERDUE:8,CMD_START_LOCATION_REQUEST:9,CMD_STOP_LOCATION_REQUEST:10,CMD_OPEN_CAMERA:11,CMD_AUD_UPSTREAM:12,CMD_MOUSE_STATE:13,CMD_KEYBOARD_STATE:14,CMD_CONTACT:15,CMD_CLIPBOARD:16,CMD_DEVICE_STATUS:18,CMD_CLARITY_INDEX:20,CMD_MSG_CHANNEL:21,CMD_CAMERA_UPSTREAM:22,CMD_USERSTATUS:23,CMD_AUTO_RECYCLE_TIME:24,CMD_PROFILE_STATUS:25,CMD_PROFILE_PATH:26,CMD_LOCATION_UPDATE:28,CMD_FOREGROUND_CHANGE_STATUS:29,CMD_BACKGROUND_APP_LIST:30,CMD_SCREENSHOT_RESPONSE:31,CMD_USER_APP_FRAMEWORK_WARNING:32,CMD_FOCUSED_WINDOW:34,CMD_SHAKE_RESPONSE:37,CMD_SCREENRECORD_RESPONSE:38,CMD_FILE_CHANNEL:39,CMD_KEYBOARD_ENABLE_RESULT:40,CMD_DISLAY_POLICY:42,CMD_TEXT_INPUT_CONTROL:43,CMD_USER_SET_FULL_SCREEN:44,CMD_USER_NOTIFY_SCREEN_ATTRS:45,CMD_CAMERA_INJECT_STATUS:51,CMD_USER_CONTROL:53,CMD_KEYCODE_TYPE:54,CMD_SYNCPOD_ROOM_STATE:55,CMD_INJECTION_CTRL:57,CMD_KEEP_ALIVE_TIME:58,CMD_GENERAL_PURPOSE:512,CMD_UPDATE_TOKEN_RESP:67,CMD_TOKEN_WILL_EXPIRE:68},CLIENT_EVENT_TYPE={EVENT_TYPE_TOUCH:0,EVENT_TYPE_KEY:1,EVENT_TYPE_SENSORS:2,EVENT_TYPE_INPUTMETHOD:3,EVENT_TYPE_ORIENTATION:4,EVENT_TYPE_MSGSDK:5,EVENT_TYPE_APP_MANAGER:6,EVENT_TYPE_USEROFFLINE:7,EVENT_TYPE_USERPAUSE:8,EVENT_TYPE_USERRESUME:9,EVENT_TYPE_GDAP_JOYSTICK:10,EVENT_TYPE_STARTUP:11,EVENT_TYPE_LOCATION:12,EVENT_TYPE_KEYBOARD:13,EVENT_TYPE_MOUSE:14,EVENT_TYPE_CAMERA:15,EVENT_TYPE_CONTACTS:16,EVENT_TYPE_CLIPBOARD:17,EVENT_TYPE_CLARITY_INDEX:20,EVENT_TYPE_MSG_CHANNEL:21,EVENT_TYPE_USERSTATUS:22,EVENT_TYPE_KEEP_ALIVE_TIME:23,EVENT_TYPE_AUTO_RECYCLE_TIME:24,EVENT_TYPE_SET_PROFILE_PATH:25,EVENT_TYPE_GET_PROFILE_PATH:26,EVENT_TYPE_FIX_LOCATION:27,EVENT_TYPE_BRING_BACK_APP:28,EVENT_TYPE_GET_BACKGROUND_APPS:29,EVENT_TYPE_SCREENSHOT:31,EVENT_TYPE_INPUTMETHOD_DIRECT_TEXT:33,EVENT_TYPE_GET_FOCUSED_WINDOW:35,EVENT_TYPE_SHAKE:36,EVENT_TYPE_SCREENRECORD:38,EVENT_TYPE_FILE_CHANNEL:39,EVENT_TYPE_KEYBOARD_ENABLE:40,EVENT_TYPE_DISLAY_POLICY:42,EVENT_TYPE_USER_ROTATION:44,EVENT_TYPE_TEXT_INPUT:45,EVENT_TYPE_ENABLE_FULL_SCREEN:46,EVENT_TYPE_VIDEO_PLAY_CAMERA_INJECT:52,EVENT_TYPE_USER_CONTROL:53,EVENT_TYPE_KEYCODE_TYPE:54,EVENT_TYPE_INJECTION_CTRL:56,EVENT_TYPE_HOSTSTATISTICS:254,EVENT_TEST_DELAY:255,EVENT_TEST_NET:256,EVENT_TYPE_GENERAL_PURPOSE:512,EVENT_TYPE_UPDATE_TOKEN:61},EVENT_SYNC_CODE=[CLIENT_EVENT_TYPE.EVENT_TYPE_DISLAY_POLICY,CLIENT_EVENT_TYPE.EVENT_TYPE_TOUCH,CLIENT_EVENT_TYPE.EVENT_TYPE_SHAKE,CLIENT_EVENT_TYPE.EVENT_TYPE_INJECTION_CTRL,CLIENT_EVENT_TYPE.EVENT_TYPE_KEY,CLIENT_EVENT_TYPE.EVENT_TYPE_TEXT_INPUT],COMMON_TYPE={string:"string",float:"float",double:"double",sint32:"sint32",sint64:"sint64",uint64:"uint64",int32:"int32",uint32:"uint32",int64:"int64",bool:"bool",bytes:"bytes",repeated:function(e){return"repeated ".concat(e)},map:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string";return"map ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string"," ").concat(e)}};function createPBField(e){var t={},n=1;for(var r in e){var i={id:n++},a=e[r];if(0===a.indexOf("repeated"))i.rule="repeated",i.type=a.replace("repeated","").trim();else if(0===a.indexOf("map")){var o=a.split(" ");i.keyType=o[1],i.type=o[2]}else i.type=a;t[r]=i}return{fields:t}}function createPBTypeValue(e){return{values:e}}var GoogleWrapTypes={DoubleValue:"DoubleValue",FloatValue:"FloatValue",Int64Value:"Int64Value",UInt64Value:"UInt64Value",Int32Value:"Int32Value",UInt32Value:"UInt32Value",BoolValue:"BoolValue",StringValue:"StringValue",BytesValue:"BytesValue"},protoTypes=[COMMON_TYPE.double,COMMON_TYPE.float,COMMON_TYPE.int64,COMMON_TYPE.uint64,COMMON_TYPE.int32,COMMON_TYPE.uint32,COMMON_TYPE.bool,COMMON_TYPE.string,COMMON_TYPE.bytes],GoogleWrapProto={};Object.keys(GoogleWrapTypes).forEach((function(e,t){GoogleWrapProto[e]=createPBField({value:protoTypes[t]})}));var wrapSingle=function(e){return{value:e}},wrapData=commonWrapRead(wrapSingle),readSingle=function(e){return e?e.value:e},readData=commonWrapRead(readSingle);function commonWrapRead(e){return function(t,n){var r=copyData(t);return n.forEach((function(n){r[n]=e(t[n])})),r}}function copyData(e){var t={};for(var n in e)t[n]=e[n];return t}var CONTROL_ROLE_TYPE={Viewer:0,Player:1},CONTROL_SUBTYPES={ControlStart:0,ControlChange:1,ControlPlayerUpdate:2,ControlNotify:3},MSG_VALUE_NAMES$3={BusinessControlRoleType:"BusinessControlRoleType"},MSG_VALUES$3=_defineProperty$1({},MSG_VALUE_NAMES$3.BusinessControlRoleType,createPBTypeValue(CONTROL_ROLE_TYPE)),MSG_NAMES$3={BusinessControlStart:"BusinessControlStart",BusinessControlChange:"BusinessControlChange",BusinessControlChangeResp:"BusinessControlChangeResp",BusinessControlPlayerUpdate:"BusinessControlPlayerUpdate",BusinessControlNotify:"BusinessControlNotify"},MSG_FIELDS$3=_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},MSG_NAMES$3.BusinessControlStart,createPBField({role:MSG_VALUE_NAMES$3.BusinessControlRoleType,result:COMMON_TYPE.sint32,players:COMMON_TYPE.repeated(COMMON_TYPE.string)})),MSG_NAMES$3.BusinessControlChange,createPBField({role:MSG_VALUE_NAMES$3.BusinessControlRoleType,user_id:COMMON_TYPE.string})),MSG_NAMES$3.BusinessControlChangeResp,createPBField({role:MSG_VALUE_NAMES$3.BusinessControlRoleType,result:COMMON_TYPE.sint32,user_id:COMMON_TYPE.string})),MSG_NAMES$3.BusinessControlPlayerUpdate,createPBField({players:COMMON_TYPE.repeated(COMMON_TYPE.string)})),MSG_NAMES$3.BusinessControlNotify,createPBField({role:MSG_VALUE_NAMES$3.BusinessControlRoleType})),PB_BUSINESS_CONTROL={SUBTYPES:CONTROL_SUBTYPES,MSG_VALUES:MSG_VALUES$3,MSG_VALUE_NAMES:MSG_VALUE_NAMES$3,MSG_NAMES:MSG_NAMES$3,MSG_FIELDS:MSG_FIELDS$3},SEI_SUBTYPES={MsgBusinessDelayTest:8},SEI_TYPE={Delay_PB:0,VRPoseInfo_JSON:1,Custom_JSON:10},MSG_VALUE_NAMES$2={SeiType:"SeiType",SeiNode:"SeiNode"},MSG_VALUES$2=_defineProperty$1({},MSG_VALUE_NAMES$2.SeiType,createPBTypeValue(SEI_TYPE)),MSG_NAMES$2={BusinessDelayTestClient:"BusinessDelayTestClient",BusinessDelayTestPod:"BusinessDelayTestPod",SeiNode:"SeiNode",SeiList:"SeiList"},MSG_FIELDS$2=_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},MSG_NAMES$2.BusinessDelayTestClient,createPBField({frames:COMMON_TYPE.int32,check_id:COMMON_TYPE.string})),MSG_NAMES$2.BusinessDelayTestPod,createPBField({frame_index:COMMON_TYPE.int32,interval_ms:COMMON_TYPE.int64,check_id:COMMON_TYPE.string,has_touch_delay:COMMON_TYPE.bool,min_check_id:COMMON_TYPE.int32,max_check_id:COMMON_TYPE.int32})),MSG_NAMES$2.SeiNode,createPBField({type:MSG_VALUE_NAMES$2.SeiType,sei_data:COMMON_TYPE.bytes})),MSG_NAMES$2.SeiList,createPBField({sei_node:COMMON_TYPE.repeated(MSG_VALUE_NAMES$2.SeiNode)})),PB_BUSINESS_SEI={SUBTYPES:SEI_SUBTYPES,MSG_VALUES:MSG_VALUES$2,MSG_VALUE_NAMES:MSG_VALUE_NAMES$2,MSG_NAMES:MSG_NAMES$2,MSG_FIELDS:MSG_FIELDS$2},_MSG_FIELDS,_BusinessNameMap,MsgNames$2={BusinessClipboard:"BusinessClipboard",BusinessStartUpClient:"BusinessStartUpClient",BusinessAppManager:"BusinessAppManager",BusinessOrientationClient:"BusinessOrientationClient",BusinessOrientationPod:"BusinessOrientationPod",BusinessLocationClient:"BusinessLocationClient",BusinessLocationPod:"BusinessLocationPod",BusinessAppPauseResume:"BusinessAppPauseResume",BusinessUserStatusClient:"BusinessUserStatusClient",BusinessUserStatusPod:"BusinessUserStatusPod",BusinessKeepAliveTimeClient:"BusinessKeepAliveTimeClient",BusinessAutoRecycleTimeClient:"BusinessAutoRecycleTimeClient",BusinessAutoRecycleTimePod:"BusinessAutoRecycleTimePod",BusinessUserProfileClient:"BusinessUserProfileClient",BusinessUserProfilePod:"BusinessUserProfilePod",BusinessBackgroundAppClient:"BusinessBackgroundAppClient",BusinessBackgroundAppPod:"BusinessBackgroundAppPod",BusinessScreenshotClient:"BusinessScreenshotClient",BusinessScreenshotPod:"BusinessScreenshotPod",BusinessMsgChannel:"BusinessMsgChannel",BusinessDelayTestClient:"BusinessDelayTestClient",BusinessFocusWindowClient:"BusinessFocusWindowClient",BusinessFocusWindowPod:"BusinessFocusWindowPod",BusinessShakeClient:"BusinessShakeClient",BusinessShakePod:"BusinessShakePod",BusinessScreenRecordClient:"BusinessScreenRecordClient",BusinessScreenRecordPod:"BusinessScreenRecordPod",BusinessFileChannelClient:"BusinessFileChannelClient",BusinessFileChannelPod:"BusinessFileChannelPod",BusinessSessionClosePod:"BusinessSessionClosePod",SessionMode:"BusinessSessionMode",SessionModeResp:"BusinessSessionModeResp",PodStreamChange:"BusinessPodStreamChange",PodStreamChangeResp:"BusinessPodStreamChangeResp",Shield:"BusinessShield",BusinessMsgChannelBinary:"BusinessMsgChannelBinary",BusinessMsgCountDown:"BusinessMsgCountDown",BusinessMsgResetCountDownClient:"BusinessMsgResetCountDownClient",BusinessMsgResetCountDownPod:"BusinessMsgResetCountDownPod"},EnumNames$3={AppManagerAction:"AppManagerAction",OrientationType:"OrientationType",Action:"Action",BackgroundAppAction:"BackgroundAppAction",SessionCloseReasonPod:"SessionCloseReasonPod"},CommonConfig$2={ENUMS:_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},EnumNames$3.AppManagerAction,createPBTypeValue({AppStop:0,AppStart:1,AppRestart:2})),EnumNames$3.OrientationType,createPBTypeValue({ROTATION_0:0,ROTATION_90:90,ROTATION_180:180,ROTATION_270:270})),EnumNames$3.Action,createPBTypeValue({pause:0,resume:1})),EnumNames$3.BackgroundAppAction,createPBTypeValue({BringToFront:0,GetList:1})),EnumNames$3.SessionCloseReasonPod,createPBTypeValue({GameCrash:0,NoTouch:3,PaasStop:5,BackgroundRtcDisconnectTimeout:6,GameExit:7,ReserveTimeout:8})),MSG_FIELDS:(_MSG_FIELDS={},_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_MSG_FIELDS,MsgNames$2.BusinessStartUpClient,createPBField({local_capabilities:COMMON_TYPE.int64})),MsgNames$2.BusinessClipboard,createPBField({mime_type:COMMON_TYPE.string,clip_data:COMMON_TYPE.repeated(COMMON_TYPE.string)})),MsgNames$2.BusinessAppManager,createPBField({action:EnumNames$3.AppManagerAction,package_name:COMMON_TYPE.string})),MsgNames$2.BusinessOrientationClient,createPBField({reserved:COMMON_TYPE.int32})),MsgNames$2.BusinessOrientationPod,createPBField({orientation:EnumNames$3.OrientationType,tempt:COMMON_TYPE.bool})),"GnssSvInfo",createPBField({types:COMMON_TYPE.repeated(COMMON_TYPE.int32),prn:COMMON_TYPE.repeated(COMMON_TYPE.int32),snr:COMMON_TYPE.repeated(COMMON_TYPE.float),azimuths:COMMON_TYPE.repeated(COMMON_TYPE.float),gnss_flags:COMMON_TYPE.repeated(COMMON_TYPE.int32),cn0dbhz:COMMON_TYPE.repeated(COMMON_TYPE.float),elevations:COMMON_TYPE.repeated(COMMON_TYPE.float),svids:COMMON_TYPE.repeated(COMMON_TYPE.int32)})),MsgNames$2.BusinessLocationClient,createPBField({provider:COMMON_TYPE.string,time:COMMON_TYPE.int64,elapsed_realtime_nanos:COMMON_TYPE.float,latitude:COMMON_TYPE.float,altitude:COMMON_TYPE.float,longitude:COMMON_TYPE.float,speed:COMMON_TYPE.float,bearing:COMMON_TYPE.float,accuracy_meters:COMMON_TYPE.float,vertical_accuracy_meters:COMMON_TYPE.float,speed_accuracy_meters_per_second:COMMON_TYPE.float,bearing_accuracy_degrees:COMMON_TYPE.float,gnss_sv_info:"GnssSvInfo",nmea:COMMON_TYPE.repeated(COMMON_TYPE.string)})),"StartAction",createPBTypeValue({start:0,stop:1})),MsgNames$2.BusinessLocationPod,createPBField({action:"StartAction",provider:COMMON_TYPE.string,package_name:COMMON_TYPE.string,quality:COMMON_TYPE.int32,interval:COMMON_TYPE.int64,fastest_interval:COMMON_TYPE.int64,expire_at:COMMON_TYPE.int64,num_updates:COMMON_TYPE.int32,smallest_displacement:COMMON_TYPE.float})),MsgNames$2.BusinessAppPauseResume,createPBField({action:EnumNames$3.Action})),_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_MSG_FIELDS,MsgNames$2.BusinessUserStatusClient,createPBField({reason:COMMON_TYPE.int32})),MsgNames$2.BusinessUserStatusPod,createPBField({result:COMMON_TYPE.int32,from:COMMON_TYPE.int32,current:COMMON_TYPE.int32,duration_countdown:COMMON_TYPE.int32})),MsgNames$2.BusinessKeepAliveTimeClient,createPBField({duration_seconds:COMMON_TYPE.int64})),MsgNames$2.BusinessAutoRecycleTimeClient,createPBField({action:EnumNames$3.Action,duration_seconds:COMMON_TYPE.int64,duration_countdown:COMMON_TYPE.int32})),MsgNames$2.BusinessAutoRecycleTimePod,createPBField({action:EnumNames$3.Action,result:COMMON_TYPE.int32,current:COMMON_TYPE.int32,duration_countdown:COMMON_TYPE.int32})),MsgNames$2.BusinessUserProfileClient,createPBField({action:EnumNames$3.Action,path:COMMON_TYPE.repeated(COMMON_TYPE.string),reason:COMMON_TYPE.int32})),MsgNames$2.BusinessUserProfilePod,createPBField({action:EnumNames$3.Action,path:COMMON_TYPE.repeated(COMMON_TYPE.string),result:COMMON_TYPE.int32,type:COMMON_TYPE.int32})),MsgNames$2.BusinessBackgroundAppClient,createPBField({action:EnumNames$3.BackgroundAppAction,package_name:COMMON_TYPE.string,reason:COMMON_TYPE.int32})),MsgNames$2.BusinessBackgroundAppPod,createPBField({action:EnumNames$3.BackgroundAppAction,result:COMMON_TYPE.int32,foreground:COMMON_TYPE.int32,package_name:COMMON_TYPE.string,app_list:COMMON_TYPE.repeated(COMMON_TYPE.string)})),MsgNames$2.BusinessScreenshotClient,createPBField({sequence:COMMON_TYPE.string})),_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_MSG_FIELDS,MsgNames$2.BusinessScreenshotPod,createPBField({result:COMMON_TYPE.int32,sequence:COMMON_TYPE.string,save_path:COMMON_TYPE.string})),"MsgChannelMsg",createPBField({mid:COMMON_TYPE.string,text:COMMON_TYPE.string,time_ms:COMMON_TYPE.int64})),MsgNames$2.BusinessMsgChannel,createPBField({payload:"MsgChannelMsg",type:COMMON_TYPE.int32,user_id:COMMON_TYPE.string,ack_id:COMMON_TYPE.string,version:COMMON_TYPE.string,dest_user_id:COMMON_TYPE.string})),"MsgChannelMsgBinary",createPBField({mid:COMMON_TYPE.string,data:COMMON_TYPE.bytes,time_ms:COMMON_TYPE.int64})),MsgNames$2.BusinessMsgChannelBinary,createPBField({payload:"MsgChannelMsgBinary",type:COMMON_TYPE.int32,user_id:COMMON_TYPE.string,ack_id:COMMON_TYPE.string,version:COMMON_TYPE.string,dest_user_id:COMMON_TYPE.string})),MsgNames$2.BusinessDelayTestClient,createPBField({frames:COMMON_TYPE.int32,check_id:COMMON_TYPE.string})),MsgNames$2.BusinessFocusWindowClient,createPBField({uid:COMMON_TYPE.string,sequence:COMMON_TYPE.string})),MsgNames$2.BusinessFocusWindowPod,createPBField({package_name:COMMON_TYPE.string,result:COMMON_TYPE.int32,sequence:COMMON_TYPE.string})),MsgNames$2.BusinessShakeClient,createPBField({duration_ms:COMMON_TYPE.int64})),MsgNames$2.BusinessShakePod,createPBField({result:COMMON_TYPE.int32,message:COMMON_TYPE.string})),_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_MSG_FIELDS,MsgNames$2.BusinessScreenRecordClient,createPBField({action:EnumNames$3.Action,duration:COMMON_TYPE.int64})),MsgNames$2.BusinessScreenRecordPod,createPBField({status:COMMON_TYPE.int32,save_path:COMMON_TYPE.string})),"Carries",createPBField({folder:COMMON_TYPE.string,name:COMMON_TYPE.string,md5:COMMON_TYPE.string,expires:GoogleWrapTypes.Int64Value})),"CloudStorage",createPBField({ak:COMMON_TYPE.string,sk:COMMON_TYPE.string,bucket:COMMON_TYPE.string,region:COMMON_TYPE.string,endpoint:COMMON_TYPE.string,security_token:COMMON_TYPE.string,object:COMMON_TYPE.string})),"PodCarries",createPBField({result:GoogleWrapTypes.Int32Value,progress:GoogleWrapTypes.Int32Value,folder:COMMON_TYPE.string,name:COMMON_TYPE.string,url:COMMON_TYPE.string,md5:COMMON_TYPE.string,cloud_storage:"CloudStorage",options:COMMON_TYPE.map()})),MsgNames$2.BusinessFileChannelClient,createPBField({action:COMMON_TYPE.int32,carries:"Carries"})),MsgNames$2.BusinessFileChannelPod,createPBField({action:COMMON_TYPE.int32,carries:"PodCarries"})),MsgNames$2.BusinessSessionClosePod,createPBField({reason:EnumNames$3.SessionCloseReasonPod,package_name:COMMON_TYPE.string})),MsgNames$2.SessionMode,createPBField({sessionMode:GoogleWrapTypes.Int32Value})),MsgNames$2.SessionModeResp,createPBField({sessionMode:COMMON_TYPE.int32,result:COMMON_TYPE.bool})),_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_MSG_FIELDS,MsgNames$2.PodStreamChange,createPBField({status:GoogleWrapTypes.Int32Value})),MsgNames$2.PodStreamChangeResp,createPBField({status:COMMON_TYPE.int32,result:COMMON_TYPE.bool})),MsgNames$2.Shield,createPBField({type:COMMON_TYPE.int32,subType:COMMON_TYPE.int32})),MsgNames$2.BusinessMsgCountDown,createPBField({status:COMMON_TYPE.int32,count_down:COMMON_TYPE.int32})),MsgNames$2.BusinessMsgResetCountDownClient,createPBField({status:COMMON_TYPE.int32})),MsgNames$2.BusinessMsgResetCountDownPod,createPBField({status:COMMON_TYPE.int32}))),SUBTYPES:{StartUp:10,Clipboard:11,AppManager:5,MsgBusinessOrientation:4,Location:28,AppPauseResume:30,UserStatus:12,MsgBusinessKeepAliveTime:13,MsgBusinessAutoRecycleTime:14,MsgBusinessUserProfile:15,MsgBusinessBackgroundApp:16,MsgBusinessScreenshot:18,MsgBusinessMsgChannel:26,MsgBusinessDelayTest:8,MsgBusinessSessionClose:7,MsgBusinessPodStatus:21,MsgBusinessFocusWindow:22,MsgBusinessShake:24,MsgBusinessScreenRecord:29,MsgBusinessFileChannel:33,MsgBusinessSessionMode:37,MsgBusinessPodStreamChange:38,MsgBusinessShield:39,MsgBusinessBinaryMsgChannel:42,MsgBusinessNoActionCountDown:45,MsgBusinessResetCountDown:46}},PB_BUSINESS={SUBTYPES:_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS_CONTROL.SUBTYPES),PB_BUSINESS_SEI.SUBTYPES),CommonConfig$2.SUBTYPES),MSG_VALUES:_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS_CONTROL.MSG_VALUES),PB_BUSINESS_SEI.MSG_VALUES),CommonConfig$2.ENUMS),MSG_VALUE_NAMES:_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS_CONTROL.MSG_VALUE_NAMES),PB_BUSINESS_SEI.MSG_VALUE_NAMES),EnumNames$3),MSG_NAMES:_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS_CONTROL.MSG_NAMES),PB_BUSINESS_SEI.MSG_NAMES),MsgNames$2),MSG_FIELDS:_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS_CONTROL.MSG_FIELDS),PB_BUSINESS_SEI.MSG_FIELDS),CommonConfig$2.MSG_FIELDS)},ST=PB_BUSINESS.SUBTYPES,MN=PB_BUSINESS.MSG_NAMES,BusinessNameMap=(_BusinessNameMap={},_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_BusinessNameMap,ST.Clipboard,MN.BusinessClipboard),ST.AppManager,MN.BusinessAppManager),ST.MsgBusinessOrientation,MN.BusinessOrientationPod),ST.Location,MN.BusinessLocationPod),ST.UserStatus,MN.BusinessUserStatusPod),ST.MsgBusinessAutoRecycleTime,MN.BusinessAutoRecycleTimePod),ST.MsgBusinessUserProfile,MN.BusinessUserProfilePod),ST.MsgBusinessBackgroundApp,MN.BusinessBackgroundAppPod),ST.MsgBusinessScreenshot,MN.BusinessScreenshotPod),ST.MsgBusinessMsgChannel,MN.BusinessMsgChannel),_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_BusinessNameMap,ST.MsgBusinessDelayTest,PB_BUSINESS_SEI.MSG_NAMES.SeiList),ST.MsgBusinessSessionClose,MN.BusinessSessionClosePod),ST.MsgBusinessFocusWindow,MN.BusinessFocusWindowPod),ST.MsgBusinessShake,MN.BusinessShakePod),ST.MsgBusinessScreenRecord,MN.BusinessScreenRecordPod),ST.MsgBusinessFileChannel,MN.BusinessFileChannelPod),ST.ControlChange,PB_BUSINESS_CONTROL.MSG_NAMES.BusinessControlChangeResp),ST.ControlNotify,PB_BUSINESS_CONTROL.MSG_NAMES.BusinessControlNotify),ST.ControlPlayerUpdate,PB_BUSINESS_CONTROL.MSG_NAMES.BusinessControlPlayerUpdate),ST.ControlStart,PB_BUSINESS_CONTROL.MSG_NAMES.BusinessControlStart),_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_BusinessNameMap,ST.MsgBusinessSessionMode,MN.SessionModeResp),ST.MsgBusinessPodStreamChange,MN.PodStreamChangeResp),ST.MsgBusinessShield,MN.Shield),ST.MsgBusinessBinaryMsgChannel,MN.BusinessMsgChannelBinary),ST.MsgBusinessNoActionCountDown,MN.BusinessMsgCountDown),ST.MsgBusinessResetCountDown,MN.BusinessMsgResetCountDownPod)),MsgNames$1={IMEControl:"IMEControl",IMEData:"IMEData"},EnumNames$2={IMEControlType:"IMEControlType"},CommonConfig$1={ENUMS:_defineProperty$1({},EnumNames$2.IMEControlType,createPBTypeValue({IMEStart:0,IMEShow:1,IMEDestroy:2,IMEAllow:3})),MSG_FIELDS:_defineProperty$1(_defineProperty$1({},MsgNames$1.IMEControl,createPBField({type:EnumNames$2.IMEControlType,version:GoogleWrapTypes.Int32Value,input_type:GoogleWrapTypes.Int32Value,ime_options:GoogleWrapTypes.Int32Value,selection_start:GoogleWrapTypes.Int32Value,selection_end:GoogleWrapTypes.Int32Value,action_id:GoogleWrapTypes.Int32Value,current_text:COMMON_TYPE.string,action_label:COMMON_TYPE.string,hint_text:COMMON_TYPE.string,package_name:COMMON_TYPE.string,is_allow:GoogleWrapTypes.BoolValue})),MsgNames$1.IMEData,createPBField({version:GoogleWrapTypes.Int32Value,selection_start:GoogleWrapTypes.Int32Value,selection_end:GoogleWrapTypes.Int32Value,action_id:GoogleWrapTypes.Int32Value,key_code:GoogleWrapTypes.Int32Value,key_action:GoogleWrapTypes.Int32Value,encoder:COMMON_TYPE.string,char_sequence:COMMON_TYPE.string,direct_input:GoogleWrapTypes.BoolValue,visibility:GoogleWrapTypes.BoolValue})),SUBTYPES:{MsgIMEControl:0,MsgIMEData:1}},PB_IME={SUBTYPES:_objectSpread2({},CommonConfig$1.SUBTYPES),MSG_VALUES:_objectSpread2({},CommonConfig$1.ENUMS),MSG_VALUE_NAMES:_objectSpread2({},EnumNames$2),MSG_NAMES:_objectSpread2({},MsgNames$1),MSG_FIELDS:_objectSpread2({},CommonConfig$1.MSG_FIELDS)},IMENameMap=_defineProperty$1({},CommonConfig$1.SUBTYPES.MsgIMEControl,MsgNames$1.IMEControl),IME_COMPOSITION_TYPE={ImeCompositionBegin:0,ImeCompositionEnd:1,ImeComposition:2},IME_INPUT_SUBTYPES={MsgInputImeComposition:0},MSG_VALUE_NAMES$1={ImeCompositionType:"ImeCompositionType"},MSG_VALUES$1=_defineProperty$1({},MSG_VALUE_NAMES$1.ImeCompositionType,createPBTypeValue(IME_COMPOSITION_TYPE)),MSG_NAMES$1={InputImeComposition:"InputImeComposition"},MSG_FIELDS$1=_defineProperty$1({},MSG_NAMES$1.InputImeComposition,createPBField({type:MSG_VALUE_NAMES$1.ImeCompositionType,str:COMMON_TYPE.string})),PB_INPUT_IME={SUBTYPES:IME_INPUT_SUBTYPES,MSG_VALUES:MSG_VALUES$1,MSG_VALUE_NAMES:MSG_VALUE_NAMES$1,MSG_NAMES:MSG_NAMES$1,MSG_FIELDS:MSG_FIELDS$1},MsgNames={InputMouseARM:"InputMouseARM",InputKeyARM:"InputKeyARM",InputGCGamePad:"InputGCGamePad",InputTouchARM:"InputTouchARM",InputTouchARMArray:"InputTouchARMArray"},EnumNames$1={MouseKeyType:"MouseKeyType",AVVideoFormatLevelType:"AVVideoFormatLevelType"},CommonConfig={ENUMS:{},MSG_FIELDS:_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},MsgNames.InputMouseARM,createPBField({x:COMMON_TYPE.float,y:COMMON_TYPE.float,action:COMMON_TYPE.int32,axis_v:COMMON_TYPE.float,axis_h:COMMON_TYPE.float,key:EnumNames$1.MouseKeyType})),MsgNames.InputKeyARM,createPBField({key_code:COMMON_TYPE.int32,action:COMMON_TYPE.int32,value:COMMON_TYPE.string})),MsgNames.InputGCGamePad,createPBField({index:COMMON_TYPE.sint32,buttons:COMMON_TYPE.sint32,lt:COMMON_TYPE.sint32,rt:COMMON_TYPE.sint32,lx:COMMON_TYPE.sint32,ly:COMMON_TYPE.sint32,rx:COMMON_TYPE.sint32,ry:COMMON_TYPE.sint32,key:COMMON_TYPE.sint32,action:COMMON_TYPE.sint32})),MsgNames.InputTouchARM,createPBField({x:COMMON_TYPE.float,y:COMMON_TYPE.float,action:COMMON_TYPE.int32,pointer_id:COMMON_TYPE.int32})),MsgNames.InputTouchARMArray,createPBField({touches:COMMON_TYPE.repeated(MsgNames.InputTouchARM),check_id:COMMON_TYPE.int32})),SUBTYPES:_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},MsgNames.InputKeyARM,9),MsgNames.InputMouseARM,10),MsgNames.InputGCGamePad,6),MsgNames.InputTouchARM,8)},PB_INPUT={SUBTYPES:_objectSpread2(_objectSpread2({},PB_INPUT_IME.SUBTYPES),CommonConfig.SUBTYPES),MSG_VALUES:_objectSpread2(_objectSpread2({},PB_INPUT_IME.MSG_VALUES),CommonConfig.ENUMS),MSG_VALUE_NAMES:_objectSpread2(_objectSpread2({},PB_INPUT_IME.MSG_VALUE_NAMES),EnumNames$1),MSG_NAMES:_objectSpread2(_objectSpread2({},PB_INPUT_IME.MSG_NAMES),MsgNames),MSG_FIELDS:_objectSpread2(_objectSpread2({},PB_INPUT_IME.MSG_FIELDS),CommonConfig.MSG_FIELDS)},IME_OUTPUT_SUBTYPES={MsgOutputImeState:0},MSG_VALUE_NAMES={},MSG_VALUES={},MSG_NAMES={OutputImeState:"OutputImeState"},MSG_FIELDS=_defineProperty$1({},MSG_NAMES.OutputImeState,createPBField({state:COMMON_TYPE.bool,w:COMMON_TYPE.sint32,h:COMMON_TYPE.sint32,x:COMMON_TYPE.sint32,y:COMMON_TYPE.sint32,fw:COMMON_TYPE.sint32,fh:COMMON_TYPE.sint32})),PB_OUTPUT_IME={SUBTYPES:IME_OUTPUT_SUBTYPES,MSG_VALUES:MSG_VALUES,MSG_VALUE_NAMES:MSG_VALUE_NAMES,MSG_NAMES:MSG_NAMES,MSG_FIELDS:MSG_FIELDS},MsgOutputType={MsgOutputCursorPos:2,MsgOutputCursorImage:4,MsgOutputGCVibration:5},OutputNames={OutputCursorPos:"OutputCursorPos",OutputGCVibration:"OutputGCVibration",OutputCursorImage:"OutputCursorImage"},OutputFields=_defineProperty$1({},OutputNames.OutputGCVibration,createPBField({index:COMMON_TYPE.sint32,l:COMMON_TYPE.sint32,r:COMMON_TYPE.sint32})),PB_OUTPUT={SUBTYPES:_objectSpread2(_objectSpread2({},PB_OUTPUT_IME.SUBTYPES),MsgOutputType),MSG_VALUES:_objectSpread2({},PB_OUTPUT_IME.MSG_VALUES),MSG_VALUE_NAMES:_objectSpread2({},PB_OUTPUT_IME.MSG_VALUE_NAMES),MSG_NAMES:_objectSpread2(_objectSpread2({},PB_OUTPUT_IME.MSG_NAMES),OutputNames),MSG_FIELDS:_objectSpread2(_objectSpread2({},PB_OUTPUT_IME.MSG_FIELDS),OutputFields)},TYPES={MsgRaw:0,MsgHeartBeat:1,MsgState:2,MsgDevice:3,MsgAVInput:4,MsgAVOutput:5,MsgInput:6,MsgOutput:7,MsgSensors:8,MsgXR:9,MsgIME:10,MsgBusiness:66,MsgVR:100},MsgAVOutputType={MsgAVOutputAudioParams:0,MsgAVOutputAudioFormatLevel:1,MsgAVOutputAudio:2,MsgAVOutputVideoParams:10,MsgAVOutputVideoFormatLevel:11,MsgAVOutputVideo:12,MsgAVOutputVideoSceneChange:13},EnumNames={SensorType:"SensorType"},Enums=_defineProperty$1({},EnumNames.SensorType,createPBTypeValue({SensorLocation:0,SensorAcceleration:1,SensorGravity:2,SensorAttitude:3,SensorGyro:4,SensorMagnetic:5,SensorProximity:6,SensorPedometer:7,SensorAltitude:8,SensorPressure:9,SensorLight:10,SensorTemprature:11})),createXYZ=function(){return createPBField({x:COMMON_TYPE.float,y:COMMON_TYPE.float,z:COMMON_TYPE.float})},CommonFields={SensorData:createPBField({type:EnumNames.SensorType,data:COMMON_TYPE.bytes}),SensorDataLocation:createPBField({longitude:COMMON_TYPE.float,latitude:COMMON_TYPE.float}),SensorDataAcceleration:createXYZ(),SensorDataGravity:createXYZ(),SensorDataAttitude:createXYZ(),SensorDataGyro:createXYZ(),SensorDataMagnetic:createXYZ(),SensorDataProximity:createPBField({state:COMMON_TYPE.bool})},CommonSubTypes={MsgSensorControl:0,MsgSensorData:1},PB_MESSAGE={TYPES:TYPES,SUBTYPES:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS.SUBTYPES),PB_INPUT.SUBTYPES),PB_OUTPUT.SUBTYPES),PB_IME.SUBTYPES),MsgAVOutputType),CommonSubTypes),MSG_VALUES:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS.MSG_VALUES),PB_INPUT.MSG_VALUES),PB_OUTPUT.MSG_VALUES),PB_IME.MSG_VALUES),Enums),MSG_VALUE_NAMES:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS.MSG_VALUE_NAMES),PB_INPUT.MSG_VALUE_NAMES),PB_OUTPUT.MSG_VALUE_NAMES),PB_IME.MSG_VALUE_NAMES),EnumNames),MSG_NAMES:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS.MSG_NAMES),PB_INPUT.MSG_NAMES),PB_OUTPUT.MSG_NAMES),PB_IME.MSG_NAMES),MSG_FIELDS:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},PB_BUSINESS.MSG_FIELDS),PB_INPUT.MSG_FIELDS),PB_OUTPUT.MSG_FIELDS),PB_IME.MSG_FIELDS),CommonFields)},PBT=PB_MESSAGE.TYPES,PBDecodeMap=_defineProperty$1(_defineProperty$1(_defineProperty$1({},PBT.MsgBusiness,BusinessNameMap),PBT.MsgIME,IMENameMap),PBT.MsgDevice,{3:"DeviceState"}),indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){a&&(a=!1,o(s))}}))}var base64$1={};!function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var n=new Array(64),r=new Array(123),i=0;i<64;)r[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,r){for(var i,a=null,o=[],s=0,l=0;t<r;){var c=e[t++];switch(l){case 0:o[s++]=n[c>>2],i=(3&c)<<4,l=1;break;case 1:o[s++]=n[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[s++]=n[i|c>>6],o[s++]=n[63&c],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=n[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,n){for(var i,o=n,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=r[c]))throw Error(a);switch(s){case 0:i=c,s=1;break;case 1:t[n++]=i<<2|(48&c)>>4,i=c,s=2;break;case 2:t[n++]=(15&i)<<4|(60&c)>>2,i=c,s=3;break;case 3:t[n++]=(3&i)<<6|c,s=0}}if(1===s)throw Error(a);return n-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var float=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=n.bind(null,readUintLE),e.readFloatBE=n.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=r*Math.pow(2,-l))>>>0,i,a+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function n(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,l=o>>>20&2047,c=4294967296*(1048575&o)+a;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=n.bind(null,readUintLE,0,4),e.readDoubleBE=n.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function writeUintBE(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e2){}return null}var utf8$2={};!function(e){var t=e;t.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},t.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},t.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}}(utf8$2);var pool_1=pool,longbits,hasRequiredLongbits,hasRequiredMinimal;function pool(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var e=requireMinimal();function t(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=t.zero=new t(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var r=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(e){if(0===e)return n;var r=e<0;r&&(e=-e);var i=e>>>0,a=(e-i)/4294967296>>>0;return r&&(a=~a>>>0,i=~i>>>0,++i>4294967295&&(i=0,++a>4294967295&&(a=0))),new t(i,a)},t.from=function(r){if("number"==typeof r)return t.fromNumber(r);if(e.isString(r)){if(!e.Long)return t.fromNumber(parseInt(r,10));r=e.Long.fromString(r)}return r.low||r.high?new t(r.low>>>0,r.high>>>0):n},t.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},t.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var i=String.prototype.charCodeAt;return t.fromHash=function(e){return e===r?n:new t((i.call(e,0)|i.call(e,1)<<8|i.call(e,2)<<16|i.call(e,3)<<24)>>>0,(i.call(e,4)|i.call(e,5)<<8|i.call(e,6)<<16|i.call(e,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},t.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},t.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10},longbits}function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(e){var t=e;function n(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=aspromise,t.base64=base64$1,t.EventEmitter=eventemitter,t.float=float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=requireLongbits(),t.isNode=Boolean(void 0!==commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),t.global=t.isNode&&commonjsGlobal$1||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||commonjsGlobal$1,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===_typeof$1(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==_typeof$1(n)||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e2){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){var r=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(minimal$1)),minimal$1}var writer$2=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(e,t,n){t[n]=255&e}function writeVarint32(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function writeFixed32(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}Writer$1.create=create$1(),Writer$1.alloc=function(e){return new util$4.Array(e)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(e,t,n){return this.tail=this.tail.next=new Op(e,t,n),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer$1.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer$1.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer$1.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer$1.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(e){return this._push(util$4.float.writeFloatLE,4,e)},Writer$1.prototype.double=function(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};Writer$1.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var n=Writer$1.alloc(t=base64.length(e));base64.decode(e,n,0),e=n}return this.uint32(t)._push(writeBytes,t,e)},Writer$1.prototype.string=function(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},Writer$1.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer$2;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}function writeStringBuffer(e,t,n){e.length<40?util$3.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&"set"===util$3.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},BufferWriter.prototype.bytes=function(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this},BufferWriter.prototype.string=function(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this},BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function(){return util$2.Buffer?function(e){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(e)}:create_array},value;function readLongVarint(){var e=new LongBits(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},Reader$1.prototype.bool=function(){return 0!==this.uint32()},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader$1.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},Reader$1.prototype.string=function(){var e=this.bytes();return utf8.read(e,0,e.length)},Reader$1.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure();var rpc={},service=Service,util=requireMinimal();function Service(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,n,r,i,a){if(!i)throw TypeError("request must be specified");var o=this;if(!a)return util.asPromise(e,o,t,n,r,i);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return o.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof r))try{n=r[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(i){return o.emit("error",i,t),a(i)}return o.emit("data",n,t),a(null,n)}o.end(!0)}))}catch(s){return o.emit("error",s,t),void setTimeout((function(){a(s)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){e.Service=service}(rpc);var roots={};!function(e){var t=e;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=writer$2,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=requireMinimal(),t.rpc=rpc,t.roots=roots,t.configure=n,n()}(indexMinimal);var minimal=indexMinimal,protobuf=getDefaultExportFromCjs$1(minimal),protobuf_min={exports:{}};(function(module){!function(g){var r,e,t,i;r={1:[function(e,t,n){t.exports=function(e,t){for(var n=Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){a&&(a=!1,o(s))}}))}},{}],2:[function(e,t,n){n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="==(e[0|t]||"");)++n;return Math.ceil(3*e.length)/4-n};for(var r=Array(64),i=Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var i,a=null,o=[],s=0,l=0;t<n;){var c=e[t++];switch(l){case 0:o[s++]=r[c>>2],i=(3&c)<<4,l=1;break;case 1:o[s++]=r[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[s++]=r[i|c>>6],o[s++]=r[63&c],l=0}8191<s&&((a=a||[]).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=r[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,a=n,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61==c&&1<s)break;if((c=i[c])===g)throw Error(o);switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){(t.exports=function e(t,n){"string"==typeof t&&(n=t,t=g);var r=[];function i(t){if("string"!=typeof t){var n=a();if(e.verbose&&console.log("codegen: "+n),n="return "+n,t){for(var o=Object.keys(t),s=Array(o.length+1),l=Array(o.length),c=0;c<o.length;)s[c]=o[c],l[c]=t[o[c++]];return s[c]=n,Function.apply(null,s).apply(null,l)}return Function(n)()}for(var d=Array(arguments.length-1),u=0;u<d.length;)d[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,(function(e,t){var n=d[u++];switch(t){case"d":case"f":return""+ +(""+n);case"i":return""+Math.floor(n);case"j":return JSON.stringify(n);case"s":return""+n}return"%"})),u!==d.length)throw Error("parameter count mismatch");return r.push(t),i}function a(e){return"function "+(e||n||"")+"("+(t&&t.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=a,i}).verbose=!1},{}],4:[function(e,t,n){function r(){this.t={}}(t.exports=r).prototype.on=function(e,t,n){return(this.t[e]||(this.t[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===g)this.t={};else if(t===g)this.t[e]=[];else for(var n=this.t[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this.t[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=a;var r=e(1),i=e(7)("fs");function a(e,t,n){return t="function"==typeof t?(n=t,{}):t||{},n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?a.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):a.xhr(e,t,n):r(a,this,e,t)}a.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return g;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){if(!(e=r.response))for(var e=[],i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i));return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},{1:1,7:7}],6:[function(e,t,n){function r(e){function t(e,t,n,r){var i=t<0?1:0;e(0===(t=i?-t:t)?0<1/t?0:2147483648:isNaN(t)?2143289344:34028234663852886e22<t?(i<<31|2139095040)>>>0:t<11754943508222875e-54?(i<<31|Math.round(t/1401298464324817e-60))>>>0:(i<<31|127+(i=Math.floor(Math.log(t)/Math.LN2))<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}function n(e,t,n){return t=2*((e=e(t,n))>>31)+1,n=e>>>23&255,e&=8388607,255==n?e?NaN:1/0*t:0==n?1401298464324817e-60*t*e:t*Math.pow(2,n-150)*(8388608+e)}function r(e,t,n){u[0]=e,t[n]=U[0],t[n+1]=U[1],t[n+2]=U[2],t[n+3]=U[3]}function l(e,t,n){u[0]=e,t[n]=U[3],t[n+1]=U[2],t[n+2]=U[1],t[n+3]=U[0]}function c(e,t){return U[0]=e[t],U[1]=e[t+1],U[2]=e[t+2],U[3]=e[t+3],u[0]}function d(e,t){return U[3]=e[t],U[2]=e[t+1],U[1]=e[t+2],U[0]=e[t+3],u[0]}var u,U,F,p,Q;function h(e,t,n,r,i,a){var o,s=r<0?1:0;0===(r=s?-r:r)?(e(0,i,a+t),e(0<1/r?0:2147483648,i,a+n)):isNaN(r)?(e(0,i,a+t),e(2146959360,i,a+n)):17976931348623157e292<r?(e(0,i,a+t),e((s<<31|2146435072)>>>0,i,a+n)):r<22250738585072014e-324?(e((o=r/5e-324)>>>0,i,a+t),e((s<<31|o/4294967296)>>>0,i,a+n)):(e(4503599627370496*(o=r*Math.pow(2,-(r=1024===(r=Math.floor(Math.log(r)/Math.LN2))?1023:r)))>>>0,i,a+t),e((s<<31|r+1023<<20|1048576*o&1048575)>>>0,i,a+n))}function R(e,t,n,r,i){return t=e(r,i+t),i=2*((r=e(r,i+n))>>31)+1,t=4294967296*(1048575&r)+t,2047==(n=r>>>20&2047)?t?NaN:1/0*i:0==n?5e-324*i*t:i*Math.pow(2,n-1075)*(t+4503599627370496)}function _(e,t,n){F[0]=e,t[n]=p[0],t[n+1]=p[1],t[n+2]=p[2],t[n+3]=p[3],t[n+4]=p[4],t[n+5]=p[5],t[n+6]=p[6],t[n+7]=p[7]}function S(e,t,n){F[0]=e,t[n]=p[7],t[n+1]=p[6],t[n+2]=p[5],t[n+3]=p[4],t[n+4]=p[3],t[n+5]=p[2],t[n+6]=p[1],t[n+7]=p[0]}function B(e,t){return p[0]=e[t],p[1]=e[t+1],p[2]=e[t+2],p[3]=e[t+3],p[4]=e[t+4],p[5]=e[t+5],p[6]=e[t+6],p[7]=e[t+7],F[0]}function m(e,t){return p[7]=e[t],p[6]=e[t+1],p[5]=e[t+2],p[4]=e[t+3],p[3]=e[t+4],p[2]=e[t+5],p[1]=e[t+6],p[0]=e[t+7],F[0]}return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),Q=128===(U=new Uint8Array(u.buffer))[3],e.writeFloatLE=Q?r:l,e.writeFloatBE=Q?l:r,e.readFloatLE=Q?c:d,e.readFloatBE=Q?d:c):(e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,a),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,s)),"undefined"!=typeof Float64Array?(F=new Float64Array([-0]),Q=128===(p=new Uint8Array(F.buffer))[7],e.writeDoubleLE=Q?_:S,e.writeDoubleBE=Q?S:_,e.readDoubleLE=Q?B:m,e.readDoubleBE=Q?m:B):(e.writeDoubleLE=h.bind(null,i,0,4),e.writeDoubleBE=h.bind(null,a,4,0),e.readDoubleLE=R.bind(null,o,0,4),e.readDoubleBE=R.bind(null,s,4,0)),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function a(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)},{}],7:[function(t,i,n){function r(t){try{var i=eval("require")(t);if(i&&(i.length||Object.keys(i).length))return i}catch(t2){}return null}i.exports=r},{}],8:[function(e,t,n){var r=(n=n).isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e);e="";n&&(e=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?0<i&&".."!==t[i-1]?t.splice(--i,2):n?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return e+t.join("/")};n.resolve=function(e,t,n){return n||(t=i(t)),!r(t)&&(e=(e=n?e:i(e)).replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t}},{}],9:[function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){return n<1||i<n?e(n):(r<o+n&&(a=e(r),o=0),n=t.call(a,o,o+=n),7&o&&(o=1+(7|o)),n)}}},{}],10:[function(e,t,n){n.length=function(e){for(var t,n=0,r=0;r<e.length;++r)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:191<r&&r<224?a[o++]=(31&r)<<6|63&e[t++]:239<r&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<o&&((i=i||[]).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(++o,t[n++]=(r=65536+((1023&r)<<10)+(1023&i))>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-a}},{}],11:[function(e,t,n){var r=e(14),i=e(33);function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(d%s){",i);for(var a=t.resolvedType.values,o=Object.keys(a),s=0;s<o.length;++s)t.repeated&&a[o[s]]===t.typeDefault&&e("default:"),e("case%j:",o[s])("case %i:",a[o[s]])("m%s=%j",i,a[o[s]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,n,i);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,l)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i)}}return e}function o(e,t,n,i){if(t.resolvedType)t.resolvedType instanceof r?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,n,i,i):e("d%s=types[%i].toObject(m%s,o)",i,n,i);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,a?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i)}}return e}n.fromObject=function(e){var t=e.fieldsArray,n=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var o=0;o<t.length;++o){var s=t[o].resolve(),l=i.safeProp(s.name);s.map?(n("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),a(n,s,o,l+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),a(n,s,o,l+"[i]")("}")("}")):(s.resolvedType instanceof r||n("if(d%s!=null){",l),a(n,s,o,l),s.resolvedType instanceof r||n("}"))}return n("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var n=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),a=[],s=[],l=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?a:t[c].map?s:l).push(t[c]);if(a.length){for(n("if(o.arrays||o.defaults){"),c=0;c<a.length;++c)n("d%s=[]",i.safeProp(a[c].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),c=0;c<s.length;++c)n("d%s={}",i.safeProp(s[c].name));n("}")}if(l.length){for(n("if(o.defaults){"),c=0;c<l.length;++c){var d,u=l[c],U=i.safeProp(u.name);u.resolvedType instanceof r?n("d%s=o.enums===String?%j:%j",U,u.resolvedType.valuesById[u.typeDefault],u.typeDefault):u.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",U)("}else")("d%s=o.longs===String?%j:%i",U,u.typeDefault.toString(),u.typeDefault.toNumber()):u.bytes?(d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]",n("if(o.bytes===String)d%s=%j",U,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",U,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",U,U)("}")):n("d%s=%j",U,u.typeDefault)}n("}")}var F=!1;for(c=0;c<t.length;++c){u=t[c];var p=e.i.indexOf(u);U=i.safeProp(u.name);u.map?(F||(F=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",U,U)("d%s={}",U)("for(var j=0;j<ks2.length;++j){"),o(n,u,p,U+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",U,U)("d%s=[]",U)("for(var j=0;j<m%s.length;++j){",U),o(n,u,p,U+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",U,u.name),o(n,u,p,U),u.partOf&&n("if(o.oneofs)")("d%s=%j",i.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},{14:14,33:33}],12:[function(e,t,n){t.exports=function(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var o=e.i[n].resolve(),s=o.resolvedType instanceof r?"int32":o.type,l="m"+a.safeProp(o.name);t("case %i:",o.id),o.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),i.defaults[o.keyType]!==g?t("k=%j",i.defaults[o.keyType]):t("k=null"),i.defaults[s]!==g?t("value=%j",i.defaults[s]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),i.basic[s]===g?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",s),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),i.long[o.keyType]!==g?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):o.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),i.packed[s]!==g&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,s)("}else"),i.basic[s]===g?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,s)):i.basic[s]===g?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,s),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e.i.length;++n){var c=e.i[n];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+c.name+"'")}return t("return m")};var r=e(14),i=e(32),a=e(33)},{14:14,32:32,33:33}],13:[function(e,t,n){t.exports=function(e){for(var t,n=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(a.compareFieldsById),l=0;l<s.length;++l){var c=s[l].resolve(),d=e.i.indexOf(c),u=c.resolvedType instanceof r?"int32":c.type,U=i.basic[u];t="m"+a.safeProp(c.name),c.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|i.mapKey[c.keyType],c.keyType),U===g?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",d,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|U,u,t),n("}")("}")):c.repeated?(n("if(%s!=null&&%s.length){",t,t),c.packed&&i.packed[u]!==g?n("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",u,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),U===g?o(n,c,d,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(c.id<<3|U)>>>0,u,t)),n("}")):(c.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),U===g?o(n,c,d,t):n("w.uint32(%i).%s(%s)",(c.id<<3|U)>>>0,u,t))}return n("return w")};var r=e(14),i=e(32),a=e(33);function o(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},{14:14,32:32,33:33}],14:[function(e,t,n){t.exports=o;var r=e(22);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var i=e(21),a=e(33);function o(e,t,n,i,a){if(r.call(this,e,n),t&&"object"!=_typeof$1(t))throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=a||{},this.reserved=g,t)for(var o=Object.keys(t),s=0;s<o.length;++s)"number"==typeof t[o[s]]&&(this.valuesById[this.values[o[s]]=t[o[s]]]=o[s])}o.fromJSON=function(e,t){return(e=new o(e,t.values,t.options,t.comment,t.comments)).reserved=t.reserved,e},o.prototype.toJSON=function(e){return e=!!e&&!!e.keepComments,a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:g,"comment",e?this.comment:g,"comments",e?this.comments:g])},o.prototype.add=function(e,t,n){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==g)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==g){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},o.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{21:21,22:22,33:33}],15:[function(e,t,n){t.exports=c;var r=e(22);((c.prototype=Object.create(r.prototype)).constructor=c).className="Field";var i,a=e(14),o=e(32),s=e(33),l=/^required|optional|repeated$/;function c(e,t,n,i,a,c,d){if(s.isObject(i)?(d=a,c=i,i=a=g):s.isObject(a)&&(d=c,c=a,a=g),r.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(i!==g&&!l.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(a!==g&&!s.isString(a))throw TypeError("extend must be a string");this.rule=(i="proto3_optional"===i?"optional":i)&&"optional"!==i?i:g,this.type=n,this.id=t,this.extend=a||g,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&o.long[n]!==g,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.n=null,this.comment=d}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this.n&&(this.n=!1!==this.getOption("packed")),this.n}}),c.prototype.setOption=function(e,t,n){return"packed"===e&&(this.n=null),r.prototype.setOption.call(this,e,t,n)},c.prototype.toJSON=function(e){return e=!!e&&!!e.keepComments,s.toObject(["rule","optional"!==this.rule&&this.rule||g,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:g])},c.prototype.resolve=function(){return this.resolved?this:((this.typeDefault=o.defaults[this.type])===g&&(this.resolvedType=(this.declaringField||this).parent.lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===g||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=g)),this.long?(this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"==(this.type[0]||"")),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e),this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this));var e},c.d=function(e,t,n,r){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==_typeof$1(t)&&(t=s.decorateEnum(t).name),function(i,a){s.decorateType(i.constructor).add(new c(a,e,t,n,{default:r}))}},c.r=function(e){i=e}},{14:14,22:22,32:32,33:33}],16:[function(e,t,n){var r=t.exports=e(17);r.build="light",r.load=function(e,t,n){return(t="function"==typeof t?(n=t,new r.Root):t||new r.Root).load(e,n)},r.loadSync=function(e,t){return(t=t||new r.Root).loadSync(e)},r.encoder=e(13),r.decoder=e(12),r.verifier=e(36),r.converter=e(11),r.ReflectionObject=e(22),r.Namespace=e(21),r.Root=e(26),r.Enum=e(14),r.Type=e(31),r.Field=e(15),r.OneOf=e(23),r.MapField=e(18),r.Service=e(30),r.Method=e(20),r.Message=e(19),r.wrappers=e(37),r.types=e(32),r.util=e(33),r.ReflectionObject.r(r.Root),r.Namespace.r(r.Type,r.Service,r.Enum),r.Root.r(r.Type),r.Field.r(r.Type)},{11:11,12:12,13:13,14:14,15:15,17:17,18:18,19:19,20:20,21:21,22:22,23:23,26:26,30:30,31:31,32:32,33:33,36:36,37:37}],17:[function(e,t,n){var r=n;function i(){r.util.r(),r.Writer.r(r.BufferWriter),r.Reader.r(r.BufferReader)}r.build="minimal",r.Writer=e(38),r.BufferWriter=e(39),r.Reader=e(24),r.BufferReader=e(25),r.util=e(35),r.rpc=e(28),r.roots=e(27),r.configure=i,i()},{24:24,25:25,27:27,28:28,35:35,38:38,39:39}],18:[function(e,t,n){t.exports=o;var r=e(15);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var i=e(32),a=e(33);function o(e,t,n,i,o,s){if(r.call(this,e,t,i,g,g,o,s),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){return e=!!e&&!!e.keepComments,a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:g])},o.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===g)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},o.d=function(e,t,n){return"function"==typeof n?n=a.decorateType(n).name:n&&"object"==_typeof$1(n)&&(n=a.decorateEnum(n).name),function(r,i){a.decorateType(r.constructor).add(new o(i,e,t,n))}}},{15:15,32:32,33:33}],19:[function(e,t,n){t.exports=i;var r=e(35);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},{35:35}],20:[function(e,t,n){t.exports=a;var r=e(22);((a.prototype=Object.create(r.prototype)).constructor=a).className="Method";var i=e(33);function a(e,t,n,a,o,s,l,c,d){if(i.isObject(o)?(l=o,o=s=g):i.isObject(s)&&(l=s,s=g),t!==g&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(a))throw TypeError("responseType must be a string");r.call(this,e,l),this.type=t||"rpc",this.requestType=n,this.requestStream=!!o||g,this.responseType=a,this.responseStream=!!s||g,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=d}a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},a.prototype.toJSON=function(e){return e=!!e&&!!e.keepComments,i.toObject(["type","rpc"!==this.type&&this.type||g,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",e?this.comment:g,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},{22:22,33:33}],21:[function(e,t,n){t.exports=d;var r=e(22);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var i,a,o,s=e(15),l=e(33);function c(e,t){if(!e||!e.length)return g;for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}function d(e,t){r.call(this,e,t),this.nested=g,this.e=null}function u(e){return e.e=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=c,d.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this.e||(this.e=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((t.fields!==g?i:t.values!==g?o:t.methods!==g?a:t.id!==g?s:d).fromJSON(n[r],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof s&&e.extend!==g||e instanceof i||e instanceof o||e instanceof a||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof i||t instanceof a)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return(this.nested[e.name]=e).onAdd(this),u(this)},d.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=g),e.onRemove(this),u(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;0<e.length;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}return t&&n.addJSON(t),n},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=g):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||~t.indexOf(r.constructor))return r}else if(r instanceof d&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this.e[i]instanceof d&&(r=this.e[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d.r=function(e,t,n){i=e,a=t,o=n}},{15:15,22:22,33:33}],22:[function(e,t,n){(t.exports=a).className="ReflectionObject";var r,i=e(33);function a(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1,(e=e.root)instanceof r&&e.u(this)},a.prototype.onRemove=function(e){(e=e.root)instanceof r&&e.o(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},a.prototype.getOption=function(e){return this.options?this.options[e]:g},a.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==g||((this.options||(this.options={}))[e]=t),this},a.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r,a,o=this.parsedOptions;return n?(a=o.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)})))?(r=a[e],i.setProperty(r,n,t)):((a={})[e]=i.setProperty({},n,t),o.push(a)):((a={})[e]=t,o.push(a)),this},a.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},a.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},a.r=function(e){r=e}},{33:33}],23:[function(e,t,n){t.exports=o;var r=e(22);((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf";var i=e(15),a=e(33);function o(e,t,n,i){if(Array.isArray(t)||(n=t,t=g),r.call(this,e,n),t!==g&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){return e=!!e&&!!e.keepComments,a.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:g])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),s(e.partOf=this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),-1<(t=this.oneof.indexOf(e.name))&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}s(this)},o.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},o.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){a.decorateType(t.constructor).add(new o(n,e)),Object.defineProperty(t,n,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}}},{15:15,22:22,33:33}],24:[function(e,t,n){t.exports=l;var r,i=e(35),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}function c(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u}var d,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")};function U(){var e=new a(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function F(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new a(F(this.buf,this.pos+=4),F(this.buf,this.pos+=4))}l.create=c(),l.prototype.h=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return d;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return d}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return F(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|F(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this.h.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l.r=function(e){r=e,l.create=c(),r.r();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return U.call(this)[t](!1)},uint64:function(){return U.call(this)[t](!0)},sint64:function(){return U.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},{35:35}],25:[function(e,t,n){t.exports=a;var r=e(24);(a.prototype=Object.create(r.prototype)).constructor=a;var i=e(35);function a(e){r.call(this,e)}a.r=function(){i.Buffer&&(a.prototype.h=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a.r()},{24:24,35:35}],26:[function(e,t,n){t.exports=u;var r=e(21);((u.prototype=Object.create(r.prototype)).constructor=u).className="Root";var i,a,o,s=e(15),l=e(14),c=e(23),d=e(33);function u(e){r.call(this,"",e),this.deferred=[],this.files=[]}function U(){}u.fromJSON=function(e,t){return t=t||new u,e.options&&t.setOptions(e.options),t.addJSON(e.nested)},u.prototype.resolvePath=d.path.resolve,u.prototype.fetch=d.fetch,u.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=g);var i=this;if(!r)return d.asPromise(e,i,t,n);var s=r===U;function l(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");return-1<t&&(t=e.substring(t))in o?t:null}function u(e,t){try{if(d.isString(t)&&"{"==(t[0]||"")&&(t=JSON.parse(t)),d.isString(t)){a.filename=e;var r,o=a(t,i,n),u=0;if(o.imports)for(;u<o.imports.length;++u)(r=c(o.imports[u])||i.resolvePath(e,o.imports[u]))&&F(r);if(o.weakImports)for(u=0;u<o.weakImports.length;++u)(r=c(o.weakImports[u])||i.resolvePath(e,o.weakImports[u]))&&F(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(U){l(U)}s||p||l(null,i)}function F(e,t){if(!~i.files.indexOf(e))if(i.files.push(e),e in o)s?u(e,o[e]):(++p,setTimeout((function(){--p,u(e,o[e])})));else if(s){var n;try{n=d.fs.readFileSync(e).toString("utf8")}catch(a){return void(t||l(a))}u(e,n)}else++p,i.fetch(e,(function(n,a){--p,r&&(n?t?p||l(null,i):l(n):u(e,a))}))}var p=0;d.isString(t)&&(t=[t]);for(var Q,h=0;h<t.length;++h)(Q=i.resolvePath("",t[h]))&&F(Q);return s?i:(p||l(null,i),g)},u.prototype.loadSync=function(e,t){if(!d.isNode)throw Error("not supported");return this.load(e,t,U)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var F=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,g,t.options);return(r.declaringField=t).extensionField=r,n.add(r),1}}u.prototype.u=function(e){if(e instanceof s)e.extend===g||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof l)F.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof i)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this.u(e.e[n]);F.test(e.name)&&(e.parent[e.name]=e)}},u.prototype.o=function(e){var t;if(e instanceof s)e.extend!==g&&(e.extensionField?(e.extensionField.parent.remove(e.extensionField),e.extensionField=null):-1<(t=this.deferred.indexOf(e))&&this.deferred.splice(t,1));else if(e instanceof l)F.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this.o(e.e[n]);F.test(e.name)&&delete e.parent[e.name]}},u.r=function(e,t,n){i=e,a=t,o=n}},{14:14,15:15,21:21,23:23,33:33}],27:[function(e,t,n){t.exports={}},{}],28:[function(e,t,n){n.Service=e(29)},{29:29}],29:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}((i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i).prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(!s.rpcImpl)return setTimeout((function(){o(Error("already ended"))}),0),g;try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null===n)return s.end(!0),g;if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(r){return s.emit("error",r,t),o(r)}return s.emit("data",n,t),o(null,n)}))}catch(l){return s.emit("error",l,t),setTimeout((function(){o(l)}),0),g}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{35:35}],30:[function(e,t,n){t.exports=s;var r=e(21);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var i=e(20),a=e(33),o=e(28);function s(e,t){r.call(this,e,t),this.methods={},this.f=null}function l(e){return e.f=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),a=0;a<r.length;++a)n.add(i.fromJSON(r[a],t.methods[r[a]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&!!e.keepComments;return a.toObject(["options",t&&t.options||g,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||g,"comment",n?this.comment:g])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this.f||(this.f=a.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?l((this.methods[e.name]=e).parent=this):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new o.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var l=a.lcFirst((r=this.f[s]).resolve().name).replace(/[^$\w_]/g,"");i[l]=a.codegen(["r","c"],a.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},{20:20,21:21,28:28,33:33}],31:[function(e,t,n){t.exports=_;var r=e(21);((_.prototype=Object.create(r.prototype)).constructor=_).className="Type";var i=e(14),a=e(23),o=e(15),s=e(18),l=e(30),c=e(19),d=e(24),u=e(38),U=e(33),F=e(13),p=e(12),Q=e(36),h=e(11),R=e(37);function _(e,t){r.call(this,e,t),this.fields={},this.oneofs=g,this.extensions=g,this.reserved=g,this.group=g,this.c=null,this.i=null,this.a=null,this.l=null}function S(e){return e.c=e.i=e.a=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(_.prototype,{fieldsById:{get:function(){if(this.c)return this.c;this.c={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this.c[r])throw Error("duplicate id "+r+" in "+this);this.c[r]=n}return this.c}},fieldsArray:{get:function(){return this.i||(this.i=U.toArray(this.fields))}},oneofsArray:{get:function(){return this.a||(this.a=U.toArray(this.oneofs))}},ctor:{get:function(){return this.l||(this.ctor=_.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,U.merge(e.prototype,t)),e.$type=e.prototype.$type=this,U.merge(e,c,!0),this.l=e;for(var n=0;n<this.fieldsArray.length;++n)this.i[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this.a[n].resolve().name]={get:U.oneOfGetter(this.a[n].oneof),set:U.oneOfSetter(this.a[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),_.generateConstructor=function(e){for(var t,n=U.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e.i[r]).map?n("this%s={}",U.safeProp(t.name)):t.repeated&&n("this%s=[]",U.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},_.fromJSON=function(e,t){var n=new _(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var c=Object.keys(t.fields),d=0;d<c.length;++d)n.add((void 0!==t.fields[c[d]].keyType?s:o).fromJSON(c[d],t.fields[c[d]]));if(t.oneofs)for(c=Object.keys(t.oneofs),d=0;d<c.length;++d)n.add(a.fromJSON(c[d],t.oneofs[c[d]]));if(t.nested)for(c=Object.keys(t.nested),d=0;d<c.length;++d){var u=t.nested[c[d]];n.add((u.id!==g?o:u.fields!==g?_:u.values!==g?i:u.methods!==g?l:r).fromJSON(c[d],u))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},_.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&!!e.keepComments;return U.toObject(["options",t&&t.options||g,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:g,"reserved",this.reserved&&this.reserved.length?this.reserved:g,"group",this.group||g,"nested",t&&t.nested||g,"comment",n?this.comment:g])},_.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},_.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},_.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&e.extend===g){if((this.c||this.fieldsById)[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),(this.fields[e.name]=e).message=this,e.onAdd(this),S(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),(this.oneofs[e.name]=e).onAdd(this),S(this)):r.prototype.add.call(this,e)},_.prototype.remove=function(e){if(e instanceof o&&e.extend===g){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),S(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),S(this)}return r.prototype.remove.call(this,e)},_.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},_.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},_.prototype.create=function(e){return new this.ctor(e)},_.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this.i[n].resolve().resolvedType);this.encode=F(this)({Writer:u,types:t,util:U}),this.decode=p(this)({Reader:d,types:t,util:U}),this.verify=Q(this)({types:t,util:U}),this.fromObject=h.fromObject(this)({types:t,util:U}),this.toObject=h.toObject(this)({types:t,util:U});var r=R[e];return r&&((e=Object.create(this)).fromObject=this.fromObject,this.fromObject=r.fromObject.bind(e),e.toObject=this.toObject,this.toObject=r.toObject.bind(e)),this},_.prototype.encode=function(e,t){return this.setup().encode(e,t)},_.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},_.prototype.decode=function(e,t){return this.setup().decode(e,t)},_.prototype.decodeDelimited=function(e){return e instanceof d||(e=d.create(e)),this.decode(e,e.uint32())},_.prototype.verify=function(e){return this.setup().verify(e)},_.prototype.fromObject=function(e){return this.setup().fromObject(e)},_.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},_.d=function(e){return function(t){U.decorateType(t,e)}}},{11:11,12:12,13:13,14:14,15:15,18:18,19:19,21:21,23:23,24:24,30:30,33:33,36:36,37:37,38:38}],32:[function(e,t,n){e=e(33);var r=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function i(e,t){var n=0,i={};for(t|=0;n<e.length;)i[r[n+t]]=e[n++];return i}n.basic=i([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=i([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",e.emptyArray,null]),n.long=i([0,0,0,1,1],7),n.mapKey=i([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=i([1,5,0,0,0,5,5,0,0,0,1,1,0])},{33:33}],33:[function(e,t,n){var r,i,a=t.exports=e(35),o=e(27);a.codegen=e(3),a.fetch=e(5),a.path=e(8),a.fs=a.inquire("fs"),a.toArray=function(e){if(e){for(var t=Object.keys(e),n=Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},a.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];i!==g&&(t[r]=i)}return t};var s=/\\/g,l=/"/g;a.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},a.safeProp=function(e){return!/^[$\w_]+$/.test(e)||a.isReserved(e)?'["'+e.replace(s,"\\\\").replace(l,'\\"')+'"]':"."+e},a.ucFirst=function(e){return(e[0]||"").toUpperCase()+e.substring(1)};var c=/_([a-z])/g;a.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},a.compareFieldsById=function(e,t){return e.id-t.id},a.decorateType=function(t,n){return t.$type?(n&&t.$type.name!==n&&(a.decorateRoot.remove(t.$type),t.$type.name=n,a.decorateRoot.add(t.$type)),t.$type):(n=new(r=r||e(31))(n||t.name),a.decorateRoot.add(n),n.ctor=t,Object.defineProperty(t,"$type",{value:n,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:n,enumerable:!1}),n)};var d=0;a.decorateEnum=function(t){if(t.$type)return t.$type;var n=new(i=i||e(14))("Enum"+d++,t);return a.decorateRoot.add(n),Object.defineProperty(t,"$type",{value:n,enumerable:!1}),n},a.setProperty=function(e,t,n){if("object"!=_typeof$1(e))throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();return 0<n.length?t[i]=e(t[i]||{},n,r):((n=t[i])&&(r=[].concat(n).concat(r)),t[i]=r),t}(e,t=t.split("."),n)},Object.defineProperty(a,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(e(26)))}})},{14:14,26:26,27:27,3:3,31:31,35:35,5:5,8:8}],34:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1},i.zeroHash="\0\0\0\0\0\0\0\0",i.fromNumber=function(e){if(0===e)return a;var t=e<0,n=(e=t?-e:e)>>>0;e=(e-n)/4294967296>>>0;return t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new i(n,e)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0;e=~this.hi>>>0;return-(t+4294967296*(e=t?e:e+1>>>0))}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return"\0\0\0\0\0\0\0\0"===e?a:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{35:35}],35:[function(e,t,n){var r=n;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)e[r[i]]!==g&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=e(1),r.base64=e(2),r.EventEmitter=e(4),r.float=e(6),r.inquire=e(7),r.utf8=e(10),r.pool=e(9),r.LongBits=e(34),r.isNode=!!(void 0!==commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),r.global=r.isNode&&commonjsGlobal$1||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==_typeof$1(e)},r.isset=r.isSet=function(e,t){var n=e[t];return null!=n&&e.hasOwnProperty(t)&&("object"!=_typeof$1(n)||0<(Array.isArray(n)?n:Object.keys(n)).length)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r.v=null,r.b=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r.b(e):new r.Array(e):r.Buffer?r.v(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){return e=r.LongBits.fromHash(e),r.Long?r.Long.fromBits(e.lo,e.hi,t):e.toNumber(!!t)},r.merge=i,r.lcFirst=function(e){return(e[0]||"").toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&this[e[n]]!==g&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.r=function(){var e=r.Buffer;e?(r.v=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r.b=e.allocUnsafe||function(t){return new e(t)}):r.v=r.b=null}},{1:1,10:10,2:2,34:34,4:4,6:6,7:7,9:9}],36:[function(e,t,n){t.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var s,l=e.i[r].resolve(),c="m"+i.safeProp(l.name);l.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map?(t("if(!util.isObject(%s))",c)("return%j",a(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),function(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",a(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",a(t,"boolean key"))}}(t,l,"k[i]"),o(t,l,r,c+"[k[i]]")("}")):l.repeated?(t("if(!Array.isArray(%s))",c)("return%j",a(l,"array"))("for(var i=0;i<%s.length;++i){",c),o(t,l,r,c+"[i]")("}")):(l.partOf&&(s=i.safeProp(l.partOf.name),1===n[l.partOf.name]&&t("if(p%s===1)",s)("return%j",l.partOf.name+": multiple values"),n[l.partOf.name]=1,t("p%s=1",s)),o(t,l,r,c)),l.optional&&t("}")}return t("return null")};var r=e(14),i=e(33);function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",a(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",a(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",a(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",a(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",a(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",a(t,"buffer"))}return e}},{14:14,33:33}],37:[function(e,t,n){var r=e(19);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(1+e["@type"].lastIndexOf("/")),n=this.lookup(t);if(n)return~(t="."==(e["@type"][0]||"")?e["@type"].substr(1):e["@type"]).indexOf("/")||(t="/"+t),this.create({type_url:t,value:n.encode(n.fromObject(e)).finish()})}return this.fromObject(e)},toObject:function(e,t){var n,i="",a="";return t&&t.json&&e.type_url&&e.value&&(a=e.type_url.substring(1+e.type_url.lastIndexOf("/")),i=e.type_url.substring(0,1+e.type_url.lastIndexOf("/")),(n=this.lookup(a))&&(e=n.decode(e.value))),e instanceof this.ctor||!(e instanceof r)?this.toObject(e,t):(t=e.$type.toObject(e,t),e="."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName,t["@type"]=a=(i=""===i?"type.googleapis.com/":i)+e,t)}}},{19:19}],38:[function(e,t,n){t.exports=u;var r,i=e(35),a=i.LongBits,o=i.base64,s=i.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=g,this.val=n}function c(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}function U(){return i.Buffer?function(){return(u.create=function(){return new r})()}:function(){return new u}}function F(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=g,this.val=t}function Q(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function h(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}u.create=U(),u.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(u.alloc=i.pool(u.alloc,i.Array.prototype.subarray)),u.prototype.p=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},(p.prototype=Object.create(l.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this.p(Q,10,a.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.int64=u.prototype.uint64=function(e){return e=a.from(e),this.p(Q,e.length(),e)},u.prototype.sint64=function(e){return e=a.from(e).zzEncode(),this.p(Q,e.length(),e)},u.prototype.bool=function(e){return this.p(F,1,e?1:0)},u.prototype.sfixed32=u.prototype.fixed32=function(e){return this.p(h,4,e>>>0)},u.prototype.sfixed64=u.prototype.fixed64=function(e){return e=a.from(e),this.p(h,4,e.lo).p(h,4,e.hi)},u.prototype.float=function(e){return this.p(i.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this.p(i.float.writeDoubleLE,8,e)};var R=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};u.prototype.bytes=function(e){var t,n=e.length>>>0;return n?(i.isString(e)&&(t=u.alloc(n=o.length(e)),o.decode(e,t,0),e=t),this.uint32(n).p(R,n,e)):this.p(F,1,0)},u.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t).p(s.write,t,e):this.p(F,1,0)},u.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new l(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},u.r=function(e){r=e,u.create=U(),r.r()}},{35:35}],39:[function(e,t,n){t.exports=a;var r=e(38);(a.prototype=Object.create(r.prototype)).constructor=a;var i=e(35);function a(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a.r=function(){a.alloc=i.b,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){var t=(e=i.isString(e)?i.v(e,"base64"):e).length>>>0;return this.uint32(t),t&&this.p(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this.p(o,t,e),this},a.r()},{35:35,38:38}]},e={},t=[16],i=function t(n){var i=e[n];return i||r[n][0].call(i=e[n]={exports:{}},t,i,i.exports),i.exports}(t[0]),i.util.global.protobuf=i,module&&module.exports&&(module.exports=i)}()})(protobuf_min);var protobuf_minExports=protobuf_min.exports,$protobuf=getDefaultExportFromCjs$1(protobuf_minExports),proto=($protobuf.roots.default||($protobuf.roots.default=new $protobuf.Root)).addJSON({cg:{nested:{protocol:{nested:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},GoogleWrapProto),PB_MESSAGE.MSG_VALUES),PB_MESSAGE.MSG_FIELDS),{},{MsgType:{values:PB_MESSAGE.TYPES},KeyboardKeyType:{values:{KeyboardKeyNone:0,KeyboardKeyBack:8,KeyboardKeyTab:9,KeyboardKeyClear:12,KeyboardKeyReturn:13,KeyboardKeyShift:16,KeyboardKeyControl:17,KeyboardKeyMenu:18,KeyboardKeyPause:19,KeyboardKeyCapital:20,KeyboardKeyKana:21,KeyboardKeyImeOn:22,KeyboardKeyJunja:23,KeyboardKeyFinal:24,KeyboardKeyHanja:25,KeyboardKeyImeOff:26,KeyboardKeyEscape:27,KeyboardKeyConvert:28,KeyboardKeyNonConvert:29,KeyboardKeyAccept:30,KeyboardKeyModeChange:31,KeyboardKeySpace:32,KeyboardKeyPrior:33,KeyboardKeyNext:34,KeyboardKeyEnd:35,KeyboardKeyHome:36,KeyboardKeyLeft:37,KeyboardKeyUp:38,KeyboardKeyRight:39,KeyboardKeyDown:40,KeyboardKeySelect:41,KeyboardKeyPrint:42,KeyboardKeyExecute:43,KeyboardKeySnapshot:44,KeyboardKeyInsert:45,KeyboardKeyDelete:46,KeyboardKeyHelp:47,KeyboardKey0:48,KeyboardKey1:49,KeyboardKey2:50,KeyboardKey3:51,KeyboardKey4:52,KeyboardKey5:53,KeyboardKey6:54,KeyboardKey7:55,KeyboardKey8:56,KeyboardKey9:57,KeyboardKeyA:65,KeyboardKeyB:66,KeyboardKeyC:67,KeyboardKeyD:68,KeyboardKeyE:69,KeyboardKeyF:70,KeyboardKeyG:71,KeyboardKeyH:72,KeyboardKeyI:73,KeyboardKeyJ:74,KeyboardKeyK:75,KeyboardKeyL:76,KeyboardKeyM:77,KeyboardKeyN:78,KeyboardKeyO:79,KeyboardKeyP:80,KeyboardKeyQ:81,KeyboardKeyR:82,KeyboardKeyS:83,KeyboardKeyT:84,KeyboardKeyU:85,KeyboardKeyV:86,KeyboardKeyW:87,KeyboardKeyX:88,KeyboardKeyY:89,KeyboardKeyZ:90,KeyboardKeyLwin:91,KeyboardKeyRwin:92,KeyboardKeyApps:93,KeyboardKeySleep:95,KeyboardKeyNumpad0:96,KeyboardKeyNumpad1:97,KeyboardKeyNumpad2:98,KeyboardKeyNumpad3:99,KeyboardKeyNumpad4:100,KeyboardKeyNumpad5:101,KeyboardKeyNumpad6:102,KeyboardKeyNumpad7:103,KeyboardKeyNumpad8:104,KeyboardKeyNumpad9:105,KeyboardKeyMultiply:106,KeyboardKeyAdd:107,KeyboardKeySeparator:108,KeyboardKeySubtract:109,KeyboardKeyDecimal:110,KeyboardKeyDivide:111,KeyboardKeyF1:112,KeyboardKeyF2:113,KeyboardKeyF3:114,KeyboardKeyF4:115,KeyboardKeyF5:116,KeyboardKeyF6:117,KeyboardKeyF7:118,KeyboardKeyF8:119,KeyboardKeyF9:120,KeyboardKeyF10:121,KeyboardKeyF11:122,KeyboardKeyF12:123,KeyboardKeyF13:124,KeyboardKeyF14:125,KeyboardKeyF15:126,KeyboardKeyF16:127,KeyboardKeyF17:128,KeyboardKeyF18:129,KeyboardKeyF19:130,KeyboardKeyF20:131,KeyboardKeyF21:132,KeyboardKeyF22:133,KeyboardKeyF23:134,KeyboardKeyF24:135,KeyboardKeyNavigationView:136,KeyboardKeyNavigationMenu:137,KeyboardKeyNavigationUp:138,KeyboardKeyNavigationDown:139,KeyboardKeyNavigationLeft:140,KeyboardKeyNavigationRight:141,KeyboardKeyNavigationAccept:142,KeyboardKeyNavigationCancel:143,KeyboardKeyNumlock:144,KeyboardKeyScroll:145,KeyboardKeyOemNecEqual:146,KeyboardKeyOemFjMasshou:147,KeyboardKeyOemFjTouroku:148,KeyboardKeyOemFjLoya:149,KeyboardKeyOemFjRoya:150,KeyboardKeyLshift:160,KeyboardKeyRshift:161,KeyboardKeyLcontrol:162,KeyboardKeyRcontrol:163,KeyboardKeyLmenu:164,KeyboardKeyRmenu:165,KeyboardKeyBrowserBack:166,KeyboardKeyBrowserForward:167,KeyboardKeyBrowserRefresh:168,KeyboardKeyBrowserStop:169,KeyboardKeyBrowserSearch:170,KeyboardKeyBrowserFavorites:171,KeyboardKeyBrowserHome:172,KeyboardKeyVolumeMute:173,KeyboardKeyVolumeDown:174,KeyboardKeyVolumeUp:175,KeyboardKeyMediaNextTrack:176,KeyboardKeyMediaPrevTrack:177,KeyboardKeyMediaStop:178,KeyboardKeyMediaPlayPause:179,KeyboardKeyLaunchMail:180,KeyboardKeyLaunchMediaSelect:181,KeyboardKeyLaunchApp1:182,KeyboardKeyLaunchApp2:183,KeyboardKeyOem1:186,KeyboardKeyOemPlus:187,KeyboardKeyOemComma:188,KeyboardKeyOemMinus:189,KeyboardKeyOemPeriod:190,KeyboardKeyOem2:191,KeyboardKeyOem3:192,KeyboardKeyGamepadA:195,KeyboardKeyGamepadB:196,KeyboardKeyGamepadX:197,KeyboardKeyGamepadY:198,KeyboardKeyGamepadRightShoulder:199,KeyboardKeyGamepadLeftShoulder:200,KeyboardKeyGamepadLeftTrigger:201,KeyboardKeyGamepadRightTrigger:202,KeyboardKeyGamepadDpadUp:203,KeyboardKeyGamepadDpadDown:204,KeyboardKeyGamepadDpadLeft:205,KeyboardKeyGamepadDpadRight:206,KeyboardKeyGamepadMenu:207,KeyboardKeyGamepadView:208,KeyboardKeyGamepadLeftThumbStickButton:209,KeyboardKeyGamepadRightThumbStickButton:210,KeyboardKeyGamepadLeftThumbStickUp:211,KeyboardKeyGamepadLeftThumbStickDown:212,KeyboardKeyGamepadLeftThumbStickRight:213,KeyboardKeyGamepadLeftThumbStickLeft:214,KeyboardKeyGamepadRightThumbStickUp:215,KeyboardKeyGamepadRightThumbStickDown:216,KeyboardKeyGamepadRightThumbStickRight:217,KeyboardKeyGamepadRightThumbStickLeft:218,KeyboardKeyOem4:219,KeyboardKeyOem5:220,KeyboardKeyOem6:221,KeyboardKeyOem7:222,KeyboardKeyOem8:223,KeyboardKeyOemAx:225,KeyboardKeyOem102:226,KeyboardKeyIcoHelp:227,KeyboardKeyIco00:228,KeyboardKeyProcessKey:229,KeyboardKeyIcoClear:230,KeyboardKeyPacket:231,KeyboardKeyOemReset:233,KeyboardKeyOemJump:234,KeyboardKeyOemPa1:235,KeyboardKeyOemPa2:236,KeyboardKeyOemPa3:237,KeyboardKeyOemWsCtrl:238,KeyboardKeyOemCuSel:239,KeyboardKeyOemAttn:240,KeyboardKeyOemFinish:241,KeyboardKeyOemCopy:242,KeyboardKeyOemAuto:243,KeyboardKeyOemEnlw:244,KeyboardKeyOemBackTab:245,KeyboardKeyAttn:246,KeyboardKeyCrSel:247,KeyboardKeyExSel:248,KeyboardKeyErEof:249,KeyboardKeyPlay:250,KeyboardKeyZoom:251,KeyboardKeyNoName:252,KeyboardKeyPa1:253,KeyboardKeyOemClear:254}},MouseKeyType:{values:{MouseKeyNone:0,MouseKeyLBUTTON:1,MouseKeyRBUTTON:2,MouseKeyMBUTTON:4,MouseKeyXBUTTON1:5,MouseKeyXBUTTON2:6}},GCKeyType:{values:{GCKeyNone:0,GCKeyDPAD_UP:1,GCKeyDPAD_DOWN:2,GCKeyDPAD_LEFT:4,GCKeyDPAD_RIGHT:8,GCKeySTART:16,GCKeyBACK:32,GCKeyLEFT_THUMB:64,GCKeyRIGHT_THUMB:128,GCKeyLEFT_SHOULDER:256,GCKeyRIGHT_SHOULDER:512,GCKeyA:4096,GCKeyB:8192,GCKeyX:16384,GCKeyY:32768,GCKeyXBOX:65536,GCKeySHARE:131072}},ImeCompositionType:{values:{ImeCompositionBegin:0,ImeCompositionEnd:1,ImeComposition:2}},TouchType:{values:{TouchUp:0,TouchDown:1,TouchMove:2,TouchCancel:3}},MsgInputType:{values:{MsgInputImeComposition:0,MsgInputCursorPos:1,MsgInputKeyboardKey:2,MsgInputMouseKey:3,MsgInputMouseMove:4,MsgInputMouseWheel:5,InputGCGamePad:6,MsgInputTouch:7}},InputImeComposition:{fields:{type:{type:"ImeCompositionType",id:1},str:{type:"string",id:2}}},InputCursorPos:{fields:{w:{type:"sint32",id:1},h:{type:"sint32",id:2},x:{type:"sint32",id:3},y:{type:"sint32",id:4}}},InputKeyboard:{fields:{key:{type:"KeyboardKeyType",id:1},state:{type:"bool",id:2}}},InputMouseKey:{fields:{key:{type:"MouseKeyType",id:1},state:{type:"bool",id:2}}},InputMouseMove:{fields:{x:{type:"sint32",id:1},y:{type:"sint32",id:2}}},InputMouseWheel:{fields:{wheel:{type:"sint32",id:1},hwheel:{type:"sint32",id:2}}},InputTouch:{fields:{id:{type:"sint32",id:1},type:{type:"TouchType",id:2},w:{type:"sint32",id:3},h:{type:"sint32",id:4},x:{type:"sint32",id:5},y:{type:"sint32",id:6},radius:{type:"float",id:7},pressure:{type:"float",id:8}}},InputTouchArray:{fields:{touches:{rule:"repeated",type:"InputTouch",id:1}}},MsgOutputType:{values:{MsgOutputImeState:0,MsgOutputUrl:1,MsgOutputCursorPos:2,MsgOutputCursorVisibility:3,MsgOutputCursorImage:4,MsgOutputGCVibration:5}},OutputImeState:{fields:{state:{type:"bool",id:1},w:{type:"sint32",id:2},h:{type:"sint32",id:3},x:{type:"sint32",id:4},y:{type:"sint32",id:5},fw:{type:"sint32",id:6},fh:{type:"sint32",id:7}}},OutputUrl:{fields:{url:{type:"string",id:1},data:{type:"bytes",id:2}}},OutputCursorPos:{fields:{w:{type:"sint32",id:1},h:{type:"sint32",id:2},x:{type:"sint32",id:3},y:{type:"sint32",id:4}}},OutputCursorVisibility:{fields:{visible:{type:"bool",id:1}}},OutputCursorImage:{fields:{id:{type:"sint32",id:1},w:{type:"sint32",id:2},h:{type:"sint32",id:3},x:{type:"sint32",id:4},y:{type:"sint32",id:5},data:{type:"bytes",id:6}}},MsgRawType:{values:{MsgRawBinary:0,MsgRawString:1}},RawBinary:{fields:{bin:{type:"bytes",id:1}}},RawString:{fields:{str:{type:"string",id:1}}},MsgHeartBeatType:{values:{MsgHeartBeatDefault:0}},HeartBeat:{fields:{client:{type:"bool",id:1},ts:{type:"sint64",id:2}}},MsgStateType:{values:{MsgStateBegin:0,MsgStateEnd:1,MsgStateActive:2}},StateBegin:{fields:{code:{type:"sint64",id:1},msg:{type:"string",id:2}}},StateEnd:{fields:{code:{type:"sint64",id:1},msg:{type:"string",id:2}}},StateActive:{fields:{active:{type:"bool",id:1}}},DeviceType:{values:{DeviceMicrophone:0,DeviceCamara:1,DeviceKeyboard:2,DeviceMouse:3,DeviceGC:4,DeviceTouchScreen:5,DeviceHeadset:100,DeviceDisplay:101,DeviceSensorLocation:200,DeviceSensorAcceleration:201,DeviceSensorGravity:202,DeviceSensorAttitude:203,DeviceSensorGyro:204,DeviceSensorMagnetic:205,DeviceSensorProximity:206,DeviceSensorPedometer:207,DeviceSensorAltitude:208,DeviceSensorPressure:209,DeviceSensorLight:210,DeviceSensorTemprature:211}},MsgDeviceType:{values:{MsgDevicePlugin:0,MsgDeviceUnplug:1,MsgDeviceControl:2,MsgDeviceState:3}},Device:{fields:{index:{type:"sint32",id:1},type:{type:"DeviceType",id:2},name:{type:"string",id:3},vid:{type:"sint32",id:4},pid:{type:"sint32",id:5},state:{type:"bool",id:6},info:{type:"bytes",id:8}}},DeviceInfoMicrophone:{fields:{format:{type:"AudioSampleFormatType",id:1},rate:{type:"sint32",id:2},channels:{type:"sint32",id:3},channelLayout:{type:"AudioChannelLayout",id:4}}},DeviceInfoCamera:{fields:{format:{type:"VideoPixelFormatType",id:1},range:{type:"VideoColorRangeType",id:2},space:{type:"VideoColorSpaceType",id:3},bitdepth:{type:"sint32",id:4},width:{type:"sint32",id:5},height:{type:"sint32",id:6},fpsNom:{type:"sint32",id:7},fpsDen:{type:"sint32",id:8}}},DeviceInfoGC:{fields:{index:{type:"sint32",id:1}}},DeviceInfoHeadset:{fields:{format:{type:"AudioSampleFormatType",id:1},rate:{type:"sint32",id:2},channels:{type:"sint32",id:3},channelLayout:{type:"AudioChannelLayout",id:4}}},DeviceInfoDisplay:{fields:{format:{type:"VideoPixelFormatType",id:1},range:{type:"VideoColorRangeType",id:2},space:{type:"VideoColorSpaceType",id:3},bitdepth:{type:"sint32",id:4},width:{type:"sint32",id:5},height:{type:"sint32",id:6},fpsNom:{type:"sint32",id:7},fpsDen:{type:"sint32",id:8}}},DeviceControl:{fields:{type:{type:"DeviceType",id:1},enable:{type:"bool",id:2},params:{type:"bytes",id:3}}},DeviceControlMicrophone:{fields:{format:{type:"AudioSampleFormatType",id:1},rate:{type:"sint32",id:2},channels:{type:"sint32",id:3},channelLayout:{type:"AudioChannelLayout",id:4}}},DeviceControlCamera:{fields:{width:{type:"sint32",id:1},height:{type:"sint32",id:2},id:{type:"sint32",id:3}}},DeviceState:{fields:{index:{type:"sint32",id:1},type:{type:"DeviceType",id:2},enabled:{type:"bool",id:3}}},AudioCodecType:{values:{AudioCodecAAC:0}},AudioSampleFormatType:{values:{AudioSampleFormatU8:0,AudioSampleFormatS16:1,AudioSampleFormatS32:2,AudioSampleFormatFlt:3,AudioSampleFormatDbl:4,AudioSampleFormatU8p:5,AudioSampleFormatS16p:6,AudioSampleFormatS32p:7,AudioSampleFormatFltp:8,AudioSampleFormatDblp:9,AudioSampleFormatS64:10,AudioSampleFormatS64p:11}},AudioChannelLayout:{values:{AudioChannelLayoutUnknown:0,AudioChannelLayoutMono:1,AudioChannelLayoutStereo:2,AudioChannelLayout2Point1:3,AudioChannelLayout5Point1:4,AudioChannelLayout5Point1Back:5,AudioChannelLayout7Point1:6,AudioChannelLayout7Point1Wide:7,AudioChannelLayout7Point1WideBack:8}},VideoCodecType:{values:{VideoCodecAVC:0,VideoCodecHEVC:1,VideoCodecVVC:2}},VideoPixelFormatType:{values:{VideoPixelFormatYUV420P:0,VideoPixelFormatYUV422P:1,VideoPixelFormatYUV444P:2,VideoPixelFormatYUVNV12:3,VideoPixelFormatYUVNV21:4}},VideoColorRangeType:{values:{VideoColorRangeLIMITED:0,VideoColorRangeFULL:1}},VideoColorSpaceType:{values:{VideoColorSpaceSDR:0,VideoColorSpaceHLG:1,VideoColorSpacePQ:2}},MsgAVInputType:{values:{MsgAVInputAudio:0,MsgAVInputVideo:1}},MsgAVOutputType:{values:{MsgAVOutputAudioFormat:0,MsgAVOutputAudioFormatLevel:1,MsgAVOutputAudio:2,MsgAVOutputVideoFormat:10,MsgAVOutputVideoFormatLevel:11,MsgAVOutputVideo:12,MsgAVOutputVideoSceneChange:13}},AVTS:{fields:{gbts:{type:"sint64",id:1},gpts:{type:"sint64",id:2},gsts:{type:"sint64",id:3},lrts:{type:"sint64",id:4},lcts:{type:"sint64",id:5},lets:{type:"sint64",id:6},ldts:{type:"sint64",id:7},lsts:{type:"sint64",id:8},trts:{type:"sint64",id:9},tcts:{type:"sint64",id:10},tsts:{type:"sint64",id:11}}},AVAudioFormat:{fields:{format:{type:"AudioCodecType",id:1},rate:{type:"sint32",id:2},channels:{type:"sint32",id:3},channelLayout:{type:"AudioChannelLayout",id:4},samples:{type:"sint32",id:5},bitrate:{type:"sint32",id:6}}},AVAudioFrame:{fields:{format:{type:"AVAudioFormat",id:1},ts:{type:"AVTS",id:2},data:{type:"bytes",id:3}}},AVVideoFormatLevelType:{values:{AVVideoFormatLevelNone:0,AVVideoFormatLevel360p30r3000:1,AVVideoFormatLevel480p30r4000:2,AVVideoFormatLevel540p30r4000:3,AVVideoFormatLevel576p30r4000:4,AVVideoFormatLevel576p60r4000:5,AVVideoFormatLevel720p30r4000:6,AVVideoFormatLevel720p60r4000:7,AVVideoFormatLevel720p30r5000:8,AVVideoFormatLevel720p60r5000:9,AVVideoFormatLevel720p30r6000:10,AVVideoFormatLevel720p60r6000:11,AVVideoFormatLevel720p30r8000:12,AVVideoFormatLevel720p60r8000:13,AVVideoFormatLevel1080p30r4000:14,AVVideoFormatLevel1080p60r4000:15,AVVideoFormatLevel1080p30r5000:16,AVVideoFormatLevel1080p60r5000:17,AVVideoFormatLevel1080p30r6000:18,AVVideoFormatLevel1080p60r6000:19,AVVideoFormatLevel1080p30r8000:20,AVVideoFormatLevel1080p60r8000:21,AVVideoFormatLevel1080p30r10000:22,AVVideoFormatLevel1080p60r10000:23,AVVideoFormatLevel1080p30r12000:24,AVVideoFormatLevel1080p60r12000:25,AVVideoFormatLevel1440p30r8000:26,AVVideoFormatLevel1440p60r8000:27,AVVideoFormatLevel1440p30r10000:28,AVVideoFormatLevel1440p60r10000:29,AVVideoFormatLevel1440p30r12000:30,AVVideoFormatLevel1440p60r12000:31,AVVideoFormatLevel1440p30r14000:32,AVVideoFormatLevel1440p60r14000:33,AVVideoFormatLevel1440p30r16000:34,AVVideoFormatLevel1440p60r16000:35,AVVideoFormatLevel1440p30r18000:36,AVVideoFormatLevel1440p60r18000:37,AVVideoFormatLevel1440p30r20000:38,AVVideoFormatLevel1440p60r20000:39,AVVideoFormatLevel2160p30r20000:40,AVVideoFormatLevel2160p60r20000:41,AVVideoFormatLevel2160p30r25000:42,AVVideoFormatLevel2160p60r25000:43,AVVideoFormatLevel2160p30r30000:44,AVVideoFormatLevel2160p60r30000:45,AVVideoFormatLevel2160p30r35000:46,AVVideoFormatLevel2160p60r35000:47,AVVideoFormatLevel2160p30r40000:48,AVVideoFormatLevel2160p60r40000:49}},AVVideoFormatLevel:{fields:{level:{type:"sint32",id:1}}},AVVideoFormatLevelResp:{fields:{ok:{type:"bool",id:1},levelFrom:{type:"sint32",id:2},levelTo:{type:"sint32",id:3},format:{type:"AVVideoFormat",id:4},result:{type:"sint32",id:5}}},AVVideoFormat:{fields:{format:{type:"VideoCodecType",id:1},width:{type:"sint32",id:2},height:{type:"sint32",id:3},fpsNom:{type:"sint32",id:4},fpsDen:{type:"sint32",id:5},range:{type:"VideoColorRangeType",id:6},space:{type:"VideoColorSpaceType",id:7},npl:{type:"sint32",id:8},bitdepth:{type:"sint32",id:9},bitrate:{type:"sint32",id:10}}},AVVideoFrame:{fields:{format:{type:"AVVideoFormat",id:1},ts:{type:"AVTS",id:2},data:{type:"bytes",id:3}}}})}}}}),Stream=function(){function e(t){if(_classCallCheck$1(this,e),!(t instanceof ArrayBuffer))throw new Error("class Stream: buffer is invalid");this.buffer=t,this.dataview=new DataView(t),this.dataview.position=0}return _createClass$1(e,[{key:"length",get:function(){return this.buffer.byteLength}},{key:"position",get:function(){return this.dataview.position},set:function(e){this.dataview.position=e}},{key:"back",value:function(e){this.position-=e}},{key:"backTo",value:function(e){this.position=e}},{key:"skip",value:function(t){for(var n=Math.floor(t/4),r=t%4,i=0;i<n;i++)e.readByte(this.dataview,4);r>0&&e.readByte(this.dataview,r)}},{key:"readBuffer",value:function(e){return this.dataview.position+=e,this.buffer.slice(this.dataview.position-e,this.dataview.position)}},{key:"readFloat32",value:function(){var e=this.dataview;return e.getFloat32(e.position)}},{key:"readFloat64",value:function(){var e=this.dataview;return e.getFloat64(e.position)}},{key:"readString",value:function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(this.readUint8());return t}},{key:"readUint8",value:function(){return e.readByte(this.dataview,1)}},{key:"readUint16",value:function(t){return e.readByte(this.dataview,2,!1,t)}},{key:"readUint24",value:function(t){return e.readByte(this.dataview,3,!1,t)}},{key:"readUint32",value:function(t){return e.readByte(this.dataview,4,!1,t)}},{key:"readUint64",value:function(){return e.readByte(this.dataview,8)}},{key:"readInt8",value:function(t){return e.readByte(this.dataview,1,!0,t)}},{key:"readInt16",value:function(t){return e.readByte(this.dataview,2,!0,t)}},{key:"readInt32",value:function(t){return e.readByte(this.dataview,4,!0,t)}},{key:"writeUint32",value:function(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}}],[{key:"readByte",value:function(e,t,n,r){var i;switch(t){case 1:i=n?e.getInt8(e.position):e.getUint8(e.position);break;case 2:i=n?e.getInt16(e.position,r):e.getUint16(e.position,r);break;case 3:if(n)throw"not supported for readByte 3";r?(i=e.getUint8(e.position),i|=e.getUint16(e.position+1,r)<<8):(i=e.getUint16(e.position)<<8,i|=e.getUint8(e.position+2));break;case 4:i=n?e.getInt32(e.position,r):e.getUint32(e.position,r);break;case 8:if(n)throw"not supported for readBody 8";i=e.getUint32(e.position)*Math.pow(2,32),i+=e.getUint32(e.position+4);break;default:i=""}return e.position+=t,i}}])}(),KEYCODE_MAP={KeyA:"KeyboardKeyA",KeyB:"KeyboardKeyB",KeyC:"KeyboardKeyC",KeyD:"KeyboardKeyD",KeyE:"KeyboardKeyE",KeyF:"KeyboardKeyF",KeyG:"KeyboardKeyG",KeyH:"KeyboardKeyH",KeyI:"KeyboardKeyI",KeyJ:"KeyboardKeyJ",KeyK:"KeyboardKeyK",KeyL:"KeyboardKeyL",KeyM:"KeyboardKeyM",KeyN:"KeyboardKeyN",KeyO:"KeyboardKeyO",KeyP:"KeyboardKeyP",KeyQ:"KeyboardKeyQ",KeyR:"KeyboardKeyR",KeyS:"KeyboardKeyS",KeyT:"KeyboardKeyT",KeyU:"KeyboardKeyU",KeyV:"KeyboardKeyV",KeyW:"KeyboardKeyW",KeyX:"KeyboardKeyX",KeyY:"KeyboardKeyY",KeyZ:"KeyboardKeyZ",Digit0:"KeyboardKey0",Digit1:"KeyboardKey1",Digit2:"KeyboardKey2",Digit3:"KeyboardKey3",Digit4:"KeyboardKey4",Digit5:"KeyboardKey5",Digit6:"KeyboardKey6",Digit7:"KeyboardKey7",Digit8:"KeyboardKey8",Digit9:"KeyboardKey9",Backquote:"KeyboardKeyOem3",Minus:"KeyboardKeyOemMinus",Equal:"KeyboardKeyOemPlus",BracketLeft:"KeyboardKeyOem4",BracketRight:"KeyboardKeyOem6",Backslash:"KeyboardKeyOem5",Semicolon:"KeyboardKeyOem1",Quote:"KeyboardKeyOem7",Comma:"KeyboardKeyOemComma",Period:"KeyboardKeyOemPeriod",Slash:"KeyboardKeyOem2",Escape:"KeyboardKeyEscape",Enter:"KeyboardKeyReturn",Backspace:"KeyboardKeyBack",Tab:"KeyboardKeyTab",CapsLock:"KeyboardKeyCapital",ShiftLeft:"KeyboardKeyLshift",ShiftRight:"KeyboardKeyRshift",ControlLeft:"KeyboardKeyLcontrol",ControlRight:"KeyboardKeyRcontrol",AltLeft:"KeyboardKeyLmenu",AltRight:"KeyboardKeyRmenu",MetaLeft:"KeyboardKeyLwin",MetaRight:"KeyboardKeyRwin",Space:"KeyboardKeySpace",Numpad0:"KeyboardKeyNumpad0",Numpad1:"KeyboardKeyNumpad1",Numpad2:"KeyboardKeyNumpad2",Numpad3:"KeyboardKeyNumpad3",Numpad4:"KeyboardKeyNumpad4",Numpad5:"KeyboardKeyNumpad5",Numpad6:"KeyboardKeyNumpad6",Numpad7:"KeyboardKeyNumpad7",Numpad8:"KeyboardKeyNumpad8",Numpad9:"KeyboardKeyNumpad9",NumLock:"KeyboardKeyNumlock",NumpadDivide:"KeyboardKeyDivide",NumpadMultiply:"KeyboardKeyMultiply",NumpadSubtract:"KeyboardKeySubtract",NumpadAdd:"KeyboardKeyAdd",NumpadDecimal:"KeyboardKeyDecimal",NumpadEnter:"KeyboardKeyReturn",ArrowUp:"KeyboardKeyUp",ArrowDown:"KeyboardKeyDown",ArrowLeft:"KeyboardKeyLeft",ArrowRight:"KeyboardKeyRight",PageUp:"KeyboardKeyPrior",PageDown:"KeyboardKeyNext",Home:"KeyboardKeyHome",End:"KeyboardKeyEnd",Insert:"KeyboardKeyInsert",Delete:"KeyboardKeyDelete",F1:"KeyboardKeyF1",F2:"KeyboardKeyF2",F3:"KeyboardKeyF3",F4:"KeyboardKeyF4",F5:"KeyboardKeyF5",F6:"KeyboardKeyF6",F7:"KeyboardKeyF7",F8:"KeyboardKeyF8",F9:"KeyboardKeyF9",F10:"KeyboardKeyF10",F11:"KeyboardKeyF11",F12:"KeyboardKeyF12",F13:"KeyboardKeyF13",F14:"KeyboardKeyF14",F15:"KeyboardKeyF15"},MOUSE_BUTTON_MAP={0:"MouseKeyLBUTTON",1:"MouseKeyMBUTTON",2:"MouseKeyRBUTTON",3:"MouseKeyXBUTTON1",4:"MouseKeyXBUTTON2"},JSBI=function(e){function t(e,n){var r;if(_classCallCheck$1(this,t),(r=_callSuper(this,t,[e])).sign=n,Object.setPrototypeOf(_assertThisInitialized(r),t.prototype),e>t.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return _assertThisInitialized(r)}return _inherits(t,e),_createClass$1(t,[{key:"toDebugString",value:function(){var e,t=["BigInt["],n=_createForOfIteratorHelper$1(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push((r?(r>>>0).toString(16):r)+", ")}}catch(i){n.e(i)}finally{n.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?t.__toStringGeneric(this,e,!1):t.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new t(this.length,this.sign),n=0;n<this.length;n++)e[n]=this[n];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return t.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,n,r){r>this.length&&(r=this.length);for(var i=32767&e,a=e>>>15,o=0,s=n,l=0;l<r;l++){var c=this.__digit(l),d=32767&c,u=c>>>15,U=t.__imul(d,i),F=t.__imul(d,a),p=t.__imul(u,i),Q=s+U+o;o=Q>>>30,Q&=1073741823,o+=(Q+=((32767&F)<<15)+((32767&p)<<15))>>>30,s=t.__imul(u,a)+(F>>>15)+(p>>>15),this.__setDigit(l,1073741823&Q)}if(0!=o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r=0,i=0;i<n;i++){var a=this.__halfDigit(t+i)+e.__halfDigit(i)+r;r=a>>>15,this.__setHalfDigit(t+i,32767&a)}return r}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var i=this.__digit(t),a=32767&i,o=0;o<n-1>>>1;o++){var s=e.__digit(o),l=(i>>>15)-(32767&s)-r;r=1&l>>>15,this.__setDigit(t+o,(32767&l)<<15|32767&a),r=1&(a=(32767&(i=this.__digit(t+o+1)))-(s>>>15)-r)>>>15}var c=e.__digit(o),d=(i>>>15)-(32767&c)-r;if(r=1&d>>>15,this.__setDigit(t+o,(32767&d)<<15|32767&a),t+o+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(r=1&(a=(32767&(i=this.__digit(t+o+1)))-(c>>>15)-r)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&a))}else{t>>=1;for(var u=0;u<e.length-1;u++){var U=this.__digit(t+u),F=e.__digit(u),p=(32767&U)-(32767&F)-r,Q=(U>>>15)-(F>>>15)-(r=1&p>>>15);r=1&Q>>>15,this.__setDigit(t+u,(32767&Q)<<15|32767&p)}var h=this.__digit(t+u),R=e.__digit(u),_=(32767&h)-(32767&R)-r;r=1&_>>>15;var S=0;!(1&n)&&(r=1&(S=(h>>>15)-(R>>>15)-r)>>>15),this.__setDigit(t+u,(32767&S)<<15|32767&_)}return r}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t=this.__digit(0)>>>e,n=this.length-1,r=0;r<n;r++){var i=this.__digit(r+1);this.__setDigit(r,1073741823&i<<30-e|t),t=i>>>e}this.__setDigit(n,t)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),i=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,i)}}],[{key:"BigInt",value:function(e){var n=Math.floor,r=Number.isFinite;if("number"==typeof e){if(0===e)return t.__zero();if(t.__isOneDigitInt(e))return 0>e?t.__oneDigit(-e,!0):t.__oneDigit(e,!1);if(!r(e)||n(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return t.__fromDouble(e)}if("string"==typeof e){var i=t.__fromString(e);if(null===i)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if("boolean"==typeof e)return!0===e?t.__oneDigit(1,!1):t.__zero();if("object"==_typeof$1(e)){if(e.constructor===t)return e;var a=t.__toPrimitive(e);return t.BigInt(a)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var n=e.length;if(0===n)return 0;if(1===n){var r=e.__unsignedDigit(0);return e.sign?-r:r}var i=e.__digit(n-1),a=t.__clz30(i),o=30*n-a;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,l=i,c=n-1,d=a+3,u=32===d?0:l<<d;u>>>=12;var U=d-12,F=12<=d?0:l<<20+d,p=20+d;for(0<U&&0<c&&(c--,u|=(l=e.__digit(c))>>>30-U,F=l<<U+2,p=U+2);0<p&&0<c;)c--,l=e.__digit(c),F|=30<=p?l<<p-30:l>>>30-p,p-=30;var Q=t.__decideRounding(e,p,c,l);if((1===Q||0===Q&&!(1&~F))&&(0===(F=F+1>>>0)&&(0!=++u>>>20&&(u=0,1023<++s))))return e.sign?-1/0:1/0;var h=e.sign?-2147483648:0;return s=s+1023<<20,t.__kBitConversionInts[1]=h|s|u,t.__kBitConversionInts[0]=F,t.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?t.__absoluteSubOne(e).__trim():t.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,n){if(n.sign)throw new RangeError("Exponent must be positive");if(0===n.length)return t.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&n.__digit(0)?e:t.unaryMinus(e);if(1<n.length)throw new RangeError("BigInt too big");var r=n.__unsignedDigit(0);if(1===r)return e;if(r>=t.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var i=1+(0|r/30),a=new t(i,e.sign&&!!(1&r));a.__initializeDigits();var o=1<<r%30;return a.__setDigit(i-1,o),a}var s=null,l=e;for(!!(1&r)&&(s=e),r>>=1;0!==r;r>>=1)l=t.multiply(l,l),1&r&&(s=null===s?l:t.multiply(s,l));return s}},{key:"multiply",value:function(e,n){if(0===e.length)return e;if(0===n.length)return n;var r=e.length+n.length;30<=e.__clzmsd()+n.__clzmsd()&&r--;var i=new t(r,e.sign!==n.sign);i.__initializeDigits();for(var a=0;a<e.length;a++)t.__multiplyAccumulate(n,e.__digit(a),i,a);return i.__trim()}},{key:"divide",value:function(e,n){if(0===n.length)throw new RangeError("Division by zero");if(0>t.__absoluteCompare(e,n))return t.__zero();var r,i=e.sign!==n.sign,a=n.__unsignedDigit(0);if(1===n.length&&32767>=a){if(1===a)return i===e.sign?e:t.unaryMinus(e);r=t.__absoluteDivSmall(e,a,null)}else r=t.__absoluteDivLarge(e,n,!0,!1);return r.sign=i,r.__trim()}},{key:"remainder",value:function(e,n){if(0===n.length)throw new RangeError("Division by zero");if(0>t.__absoluteCompare(e,n))return e;var r=n.__unsignedDigit(0);if(1===n.length&&32767>=r){if(1===r)return t.__zero();var i=t.__absoluteModSmall(e,r);return 0===i?t.__zero():t.__oneDigit(i,e.sign)}var a=t.__absoluteDivLarge(e,n,!1,!0);return a.sign=e.sign,a.__trim()}},{key:"add",value:function(e,n){var r=e.sign;return r===n.sign?t.__absoluteAdd(e,n,r):0<=t.__absoluteCompare(e,n)?t.__absoluteSub(e,n,r):t.__absoluteSub(n,e,!r)}},{key:"subtract",value:function(e,n){var r=e.sign;return r===n.sign?0<=t.__absoluteCompare(e,n)?t.__absoluteSub(e,n,r):t.__absoluteSub(n,e,!r):t.__absoluteAdd(e,n,r)}},{key:"leftShift",value:function(e,n){return 0===n.length||0===e.length?e:n.sign?t.__rightShiftByAbsolute(e,n):t.__leftShiftByAbsolute(e,n)}},{key:"signedRightShift",value:function(e,n){return 0===n.length||0===e.length?e:n.sign?t.__leftShiftByAbsolute(e,n):t.__rightShiftByAbsolute(e,n)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,n){return 0>t.__compareToBigInt(e,n)}},{key:"lessThanOrEqual",value:function(e,n){return 0>=t.__compareToBigInt(e,n)}},{key:"greaterThan",value:function(e,n){return 0<t.__compareToBigInt(e,n)}},{key:"greaterThanOrEqual",value:function(e,n){return 0<=t.__compareToBigInt(e,n)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,n){return!t.equal(e,n)}},{key:"bitwiseAnd",value:function(e,n){var r,i=Math.max;if(!e.sign&&!n.sign)return t.__absoluteAnd(e,n).__trim();if(e.sign&&n.sign){var a=i(e.length,n.length)+1,o=t.__absoluteSubOne(e,a),s=t.__absoluteSubOne(n);return o=t.__absoluteOr(o,s,o),t.__absoluteAddOne(o,!0,o).__trim()}return e.sign&&(e=(r=[n,e])[0],n=r[1]),t.__absoluteAndNot(e,t.__absoluteSubOne(n)).__trim()}},{key:"bitwiseXor",value:function(e,n){var r,i=Math.max;if(!e.sign&&!n.sign)return t.__absoluteXor(e,n).__trim();if(e.sign&&n.sign){var a=i(e.length,n.length),o=t.__absoluteSubOne(e,a),s=t.__absoluteSubOne(n);return t.__absoluteXor(o,s,o).__trim()}var l=i(e.length,n.length)+1;e.sign&&(e=(r=[n,e])[0],n=r[1]);var c=t.__absoluteSubOne(n,l);return c=t.__absoluteXor(c,e,c),t.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,n){var r,i=(0,Math.max)(e.length,n.length);if(!e.sign&&!n.sign)return t.__absoluteOr(e,n).__trim();if(e.sign&&n.sign){var a=t.__absoluteSubOne(e,i),o=t.__absoluteSubOne(n);return a=t.__absoluteAnd(a,o,a),t.__absoluteAddOne(a,!0,a).__trim()}e.sign&&(e=(r=[n,e])[0],n=r[1]);var s=t.__absoluteSubOne(n,i);return s=t.__absoluteAndNot(s,e,s),t.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,n){var r=Math.floor;if(0===n.length)return n;if(0>(e=r(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return t.__zero();if(e>=t.__kMaxLengthBits)return n;var i=0|(e+29)/30;if(n.length<i)return n;var a=n.__unsignedDigit(i-1),o=1<<(e-1)%30;if(n.length===i&&a<o)return n;if((a&o)!==o)return t.__truncateToNBits(e,n);if(!n.sign)return t.__truncateAndSubFromPowerOfTwo(e,n,!0);if(!(a&o-1)){for(var s=i-2;0<=s;s--)if(0!==n.__digit(s))return t.__truncateAndSubFromPowerOfTwo(e,n,!1);return n.length===i&&a===o?n:t.__truncateToNBits(e,n)}return t.__truncateAndSubFromPowerOfTwo(e,n,!1)}},{key:"asUintN",value:function(e,n){var r=Math.floor;if(0===n.length)return n;if(0>(e=r(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return t.__zero();if(n.sign){if(e>t.__kMaxLengthBits)throw new RangeError("BigInt too big");return t.__truncateAndSubFromPowerOfTwo(e,n,!1)}if(e>=t.__kMaxLengthBits)return n;var i=0|(e+29)/30;if(n.length<i)return n;var a=e%30;if(n.length==i){if(0===a)return n;if(0==n.__digit(i-1)>>>a)return n}return t.__truncateToNBits(e,n)}},{key:"ADD",value:function(e,n){if(e=t.__toPrimitive(e),n=t.__toPrimitive(n),"string"==typeof e)return"string"!=typeof n&&(n=n.toString()),e+n;if("string"==typeof n)return e.toString()+n;if(e=t.__toNumeric(e),n=t.__toNumeric(n),t.__isBigInt(e)&&t.__isBigInt(n))return t.add(e,n);if("number"==typeof e&&"number"==typeof n)return e+n;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,n){return t.__compare(e,n,0)}},{key:"LE",value:function(e,n){return t.__compare(e,n,1)}},{key:"GT",value:function(e,n){return t.__compare(e,n,2)}},{key:"GE",value:function(e,n){return t.__compare(e,n,3)}},{key:"EQ",value:function(e,n){for(;;){if(t.__isBigInt(e))return t.__isBigInt(n)?t.equal(e,n):t.EQ(n,e);if("number"==typeof e){if(t.__isBigInt(n))return t.__equalToNumber(n,e);if("object"!=_typeof$1(n))return e==n;n=t.__toPrimitive(n)}else if("string"==typeof e){if(t.__isBigInt(n))return null!==(e=t.__fromString(e))&&t.equal(e,n);if("object"!=_typeof$1(n))return e==n;n=t.__toPrimitive(n)}else if("boolean"==typeof e){if(t.__isBigInt(n))return t.__equalToNumber(n,+e);if("object"!=_typeof$1(n))return e==n;n=t.__toPrimitive(n)}else if("symbol"==_typeof$1(e)){if(t.__isBigInt(n))return!1;if("object"!=_typeof$1(n))return e==n;n=t.__toPrimitive(n)}else{if("object"!=_typeof$1(e))return e==n;if("object"==_typeof$1(n)&&n.constructor!==t)return e==n;e=t.__toPrimitive(e)}}}},{key:"NE",value:function(e,n){return!t.EQ(e,n)}},{key:"DataViewGetBigInt64",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.asIntN(64,t.DataViewGetBigUint64(e,n,r))}},{key:"DataViewGetBigUint64",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=_slicedToArray(r?[4,0]:[0,4],2),a=i[0],o=i[1],s=e.getUint32(n+a,r),l=e.getUint32(n+o,r),c=new t(3,!1);return c.__setDigit(0,1073741823&l),c.__setDigit(1,(268435455&s)<<2|l>>>30),c.__setDigit(2,s>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.DataViewSetBigUint64(e,n,r,i)}},{key:"DataViewSetBigUint64",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=0,o=0;if(0<(r=t.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var s=r.__digit(1);o|=s<<30,a=s>>>2,2<r.length&&(a|=r.__digit(2)<<28)}var l=_slicedToArray(i?[4,0]:[0,4],2),c=l[0],d=l[1];e.setUint32(n+c,a,i),e.setUint32(n+d,o,i)}},{key:"__zero",value:function(){return new t(0,!1)}},{key:"__oneDigit",value:function(e,n){var r=new t(1,n);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),i=29}var a=1<<i;if(!(r&a))return-1;if(r&(a-=1))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){t.__kBitConversionDouble[0]=e;var n,r=(2047&t.__kBitConversionInts[1]>>>20)-1023,i=1+(0|r/30),a=new t(i,0>e),o=1048575&t.__kBitConversionInts[1]|1048576,s=t.__kBitConversionInts[0],l=r%30,c=0;if(l<20){var d=20-l;c=d+32,n=o>>>d,o=o<<32-d|s>>>d,s<<=32-d}else if(20===l)c=32,n=o,o=s,s=0;else{var u=l-20;c=32-u,n=o<<u|s>>>32-u,o=s<<u,s=0}a.__setDigit(i-1,n);for(var U=i-2;0<=U;U--)0<c?(c-=30,n=o>>>2,o=o<<30|s>>>2,s<<=30):n=0,a.__setDigit(U,n);return a.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0,i=e.length,a=0;if(a===i)return t.__zero();for(var o=e.charCodeAt(a);t.__isWhitespace(o);){if(++a===i)return t.__zero();o=e.charCodeAt(a)}if(43===o){if(++a===i)return null;o=e.charCodeAt(a),r=1}else if(45===o){if(++a===i)return null;o=e.charCodeAt(a),r=-1}if(0===n){if(n=10,48===o){if(++a===i)return t.__zero();if(88===(o=e.charCodeAt(a))||120===o){if(n=16,++a===i)return null;o=e.charCodeAt(a)}else if(79===o||111===o){if(n=8,++a===i)return null;o=e.charCodeAt(a)}else if(66===o||98===o){if(n=2,++a===i)return null;o=e.charCodeAt(a)}}}else if(16===n&&48===o){if(++a===i)return t.__zero();if(88===(o=e.charCodeAt(a))||120===o){if(++a===i)return null;o=e.charCodeAt(a)}}if(0!=r&&10!==n)return null;for(;48===o;){if(++a===i)return t.__zero();o=e.charCodeAt(a)}var s=i-a,l=t.__kMaxBitsPerChar[n],c=t.__kBitsPerCharTableMultiplier-1;if(s>1073741824/l)return null;var d=new t(0|((l*s+c>>>t.__kBitsPerCharTableShift)+29)/30,!1),u=10>n?n:10,U=10<n?n-10:0;if(n&n-1){d.__initializeDigits();var F=!1,p=0;do{for(var Q=0,h=1;;){var R=void 0;if(o-48>>>0<u)R=o-48;else{if(!((32|o)-97>>>0<U)){F=!0;break}R=(32|o)-87}var _=h*n;if(1073741823<_)break;if(h=_,Q=Q*n+R,p++,++a===i){F=!0;break}o=e.charCodeAt(a)}var S=0|(l*p+(c=30*t.__kBitsPerCharTableMultiplier-1)>>>t.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(h,Q,S)}while(!F)}else{l>>=t.__kBitsPerCharTableShift;var B=[],m=[],f=!1;do{for(var E=0,v=0;;){var y=void 0;if(o-48>>>0<u)y=o-48;else{if(!((32|o)-97>>>0<U)){f=!0;break}y=(32|o)-87}if(v+=l,E=E<<l|y,++a===i){f=!0;break}if(o=e.charCodeAt(a),30<v+l)break}B.push(E),m.push(v)}while(!f);t.__fillFromParts(d,B,m)}if(a!==i){if(!t.__isWhitespace(o))return null;for(a++;a<i;a++)if(o=e.charCodeAt(a),!t.__isWhitespace(o))return null}return d.sign=-1==r,d.__trim()}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,i=0,a=0,o=t.length-1;0<=o;o--){var s=t[o],l=n[o];i|=s<<a,30===(a+=l)?(e.__setDigit(r++,i),a=0,i=0):30<a&&(e.__setDigit(r++,1073741823&i),i=s>>>l-(a-=30))}if(0!==i){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,i)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,n){var r=e.length,i=n-1,a=i=(15&(i=(51&(i=(85&i>>>1)+(85&i))>>>2)+(51&i))>>>4)+(15&i),o=n-1,s=e.__digit(r-1),l=0|(30*r-t.__clz30(s)+a-1)/a;if(e.sign&&l++,268435456<l)throw new Error("string too long");for(var c=Array(l),d=l-1,u=0,U=0,F=0;F<r-1;F++){var p=e.__digit(F),Q=(u|p<<U)&o;c[d--]=t.__kConversionChars[Q];var h=a-U;for(u=p>>>h,U=30-h;U>=a;)c[d--]=t.__kConversionChars[u&o],u>>>=a,U-=a}var R=(u|s<<U)&o;for(c[d--]=t.__kConversionChars[R],u=s>>>a-U;0!==u;)c[d--]=t.__kConversionChars[u&o],u>>>=a;if(e.sign&&(c[d--]="-"),-1!=d)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(e,n,r){var i=e.length;if(0===i)return"";if(1===i){var a=e.__unsignedDigit(0).toString(n);return!1===r&&e.sign&&(a="-"+a),a}var o,s,l=30*i-t.__clz30(e.__digit(i-1)),c=t.__kMaxBitsPerChar[n]-1,d=l*t.__kBitsPerCharTableMultiplier,u=(d=0|(d+=c-1)/c)+1>>1,U=t.exponentiate(t.__oneDigit(n,!1),t.__oneDigit(u,!1)),F=U.__unsignedDigit(0);if(1===U.length&&32767>=F){(o=new t(e.length,!1)).__initializeDigits();for(var p=0,Q=2*e.length-1;0<=Q;Q--){var h=p<<15|e.__halfDigit(Q);o.__setHalfDigit(Q,0|h/F),p=0|h%F}s=p.toString(n)}else{var R=t.__absoluteDivLarge(e,U,!0,!0);o=R.quotient;var _=R.remainder.__trim();s=t.__toStringGeneric(_,n,!0)}o.__trim();for(var S=t.__toStringGeneric(o,n,!0);s.length<u;)s="0"+s;return!1===r&&e.sign&&(S="-"+S),S+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,n){var r=e.sign;if(r!==n.sign)return t.__unequalSign(r);var i=t.__absoluteCompare(e,n);return 0<i?t.__absoluteGreater(r):0>i?t.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,n){if(t.__isOneDigitInt(n)){var r=e.sign,i=0>n;if(r!==i)return t.__unequalSign(r);if(0===e.length){if(i)throw new Error("implementation bug");return 0===n?0:-1}if(1<e.length)return t.__absoluteGreater(r);var a=Math.abs(n),o=e.__unsignedDigit(0);return o>a?t.__absoluteGreater(r):o<a?t.__absoluteLess(r):0}return t.__compareToDouble(e,n)}},{key:"__compareToDouble",value:function(e,n){if(n!=n)return n;if(n===1/0)return-1;if(n===-1/0)return 1;var r=e.sign;if(r!==0>n)return t.__unequalSign(r);if(0===n)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;t.__kBitConversionDouble[0]=n;var i=2047&t.__kBitConversionInts[1]>>>20;if(2047==i)throw new Error("implementation bug: handled elsewhere");var a=i-1023;if(0>a)return t.__absoluteGreater(r);var o=e.length,s=e.__digit(o-1),l=t.__clz30(s),c=30*o-l,d=a+1;if(c<d)return t.__absoluteLess(r);if(c>d)return t.__absoluteGreater(r);var u=1048576|1048575&t.__kBitConversionInts[1],U=t.__kBitConversionInts[0],F=29-l;if(F!==(0|(c-1)%30))throw new Error("implementation bug");var p,Q=0;if(20>F){var h=20-F;Q=h+32,p=u>>>h,u=u<<32-h|U>>>h,U<<=32-h}else if(20===F)Q=32,p=u,u=U,U=0;else{var R=F-20;Q=32-R,p=u<<R|U>>>32-R,u=U<<R,U=0}if((s>>>=0)>(p>>>=0))return t.__absoluteGreater(r);if(s<p)return t.__absoluteLess(r);for(var _=o-2;0<=_;_--){0<Q?(Q-=30,p=u>>>2,u=u<<30|U>>>2,U<<=30):p=0;var S=e.__unsignedDigit(_);if(S>p)return t.__absoluteGreater(r);if(S<p)return t.__absoluteLess(r)}if(0!==u||0!==U){if(0===Q)throw new Error("implementation bug");return t.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,n){var r=Math.abs;return t.__isOneDigitInt(n)?0===n?0===e.length:1===e.length&&e.sign===0>n&&e.__unsignedDigit(0)===r(n):0===t.__compareToDouble(e,n)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,n,r){if(e=t.__toPrimitive(e),n=t.__toPrimitive(n),"string"==typeof e&&"string"==typeof n)switch(r){case 0:return e<n;case 1:return e<=n;case 2:return e>n;case 3:return e>=n}if(t.__isBigInt(e)&&"string"==typeof n)return null!==(n=t.__fromString(n))&&t.__comparisonResultToBool(t.__compareToBigInt(e,n),r);if("string"==typeof e&&t.__isBigInt(n))return null!==(e=t.__fromString(e))&&t.__comparisonResultToBool(t.__compareToBigInt(e,n),r);if(e=t.__toNumeric(e),n=t.__toNumeric(n),t.__isBigInt(e)){if(t.__isBigInt(n))return t.__comparisonResultToBool(t.__compareToBigInt(e,n),r);if("number"!=typeof n)throw new Error("implementation bug");return t.__comparisonResultToBool(t.__compareToNumber(e,n),r)}if("number"!=typeof e)throw new Error("implementation bug");if(t.__isBigInt(n))return t.__comparisonResultToBool(t.__compareToNumber(n,e),2^r);if("number"!=typeof n)throw new Error("implementation bug");return 0===r?e<n:1===r?e<=n:2===r?e>n:3===r?e>=n:void 0}},{key:"__absoluteAdd",value:function(e,n,r){if(e.length<n.length)return t.__absoluteAdd(n,e,r);if(0===e.length)return e;if(0===n.length)return e.sign===r?e:t.unaryMinus(e);var i=e.length;(0===e.__clzmsd()||n.length===e.length&&0===n.__clzmsd())&&i++;for(var a=new t(i,r),o=0,s=0;s<n.length;s++){var l=e.__digit(s)+n.__digit(s)+o;o=l>>>30,a.__setDigit(s,1073741823&l)}for(;s<e.length;s++){var c=e.__digit(s)+o;o=c>>>30,a.__setDigit(s,1073741823&c)}return s<a.length&&a.__setDigit(s,o),a.__trim()}},{key:"__absoluteSub",value:function(e,n,r){if(0===e.length)return e;if(0===n.length)return e.sign===r?e:t.unaryMinus(e);for(var i=new t(e.length,r),a=0,o=0;o<n.length;o++){var s=e.__digit(o)-n.__digit(o)-a;a=1&s>>>30,i.__setDigit(o,1073741823&s)}for(;o<e.length;o++){var l=e.__digit(o)-a;a=1&l>>>30,i.__setDigit(o,1073741823&l)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.length;null===r?r=new t(i,n):r.sign=n;for(var a=1,o=0;o<i;o++){var s=e.__digit(o)+a;a=s>>>30,r.__setDigit(o,1073741823&s)}return 0!=a&&r.__setDigitGrow(i,1),r}},{key:"__absoluteSubOne",value:function(e,n){for(var r=e.length,i=new t(n=n||r,!1),a=1,o=0;o<r;o++){var s=e.__digit(o)-a;a=1&s>>>30,i.__setDigit(o,1073741823&s)}if(0!=a)throw new Error("implementation bug");for(var l=r;l<n;l++)i.__setDigit(l,0);return i}},{key:"__absoluteAnd",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.length,a=n.length,o=a;if(i<a){o=i;var s=e,l=i;e=n,i=a,n=s,a=l}var c=o;null===r?r=new t(c,!1):c=r.length;for(var d=0;d<o;d++)r.__setDigit(d,e.__digit(d)&n.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}},{key:"__absoluteAndNot",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.length,a=n.length,o=a;i<a&&(o=i);var s=i;null===r?r=new t(s,!1):s=r.length;for(var l=0;l<o;l++)r.__setDigit(l,e.__digit(l)&~n.__digit(l));for(;l<i;l++)r.__setDigit(l,e.__digit(l));for(;l<s;l++)r.__setDigit(l,0);return r}},{key:"__absoluteOr",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.length,a=n.length,o=a;if(i<a){o=i;var s=e,l=i;e=n,i=a,n=s,a=l}var c=i;null===r?r=new t(c,!1):c=r.length;for(var d=0;d<o;d++)r.__setDigit(d,e.__digit(d)|n.__digit(d));for(;d<i;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}},{key:"__absoluteXor",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.length,a=n.length,o=a;if(i<a){o=i;var s=e,l=i;e=n,i=a,n=s,a=l}var c=i;null===r?r=new t(c,!1):c=r.length;for(var d=0;d<o;d++)r.__setDigit(d,e.__digit(d)^n.__digit(d));for(;d<i;d++)r.__setDigit(d,e.__digit(d));for(;d<c;d++)r.__setDigit(d,0);return r}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,n,r,i){if(0!==n){for(var a,o=32767&n,s=n>>>15,l=0,c=0,d=0;d<e.length;d++,i++){a=r.__digit(i);var u=e.__digit(d),U=32767&u,F=u>>>15,p=t.__imul(U,o),Q=t.__imul(U,s),h=t.__imul(F,o);l=(a+=c+p+l)>>>30,a&=1073741823,l+=(a+=((32767&Q)<<15)+((32767&h)<<15))>>>30,c=t.__imul(F,s)+(Q>>>15)+(h>>>15),r.__setDigit(i,1073741823&a)}for(;0!=l||0!==c;i++){var R=r.__digit(i);R+=l+c,c=0,l=R>>>30,r.__setDigit(i,1073741823&R)}}}},{key:"__internalMultiplyAdd",value:function(e,n,r,i,a){for(var o=r,s=0,l=0;l<i;l++){var c=e.__digit(l),d=t.__imul(32767&c,n),u=t.__imul(c>>>15,n),U=d+((32767&u)<<15)+s+o;o=U>>>30,s=u>>>15,a.__setDigit(l,1073741823&U)}if(a.length>i)for(a.__setDigit(i++,o+s);i<a.length;)a.__setDigit(i++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new t(e.length,!1));for(var i,a=0,o=2*e.length-1;0<=o;o-=2){var s=0|(i=(a<<15|e.__halfDigit(o))>>>0)/n,l=0|(i=((a=0|i%n)<<15|e.__halfDigit(o-1))>>>0)/n;a=0|i%n,r.__setDigit(o>>>1,s<<15|l)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--){n=0|((n<<15|e.__halfDigit(r))>>>0)%t}return n}},{key:"__absoluteDivLarge",value:function(e,n,r,i){var a=n.__halfDigitLength(),o=n.length,s=e.__halfDigitLength()-a,l=null;r&&(l=new t(s+2>>>1,!1)).__initializeDigits();var c=new t(a+2>>>1,!1);c.__initializeDigits();var d=t.__clz15(n.__halfDigit(a-1));0<d&&(n=t.__specialLeftShift(n,d,0));for(var u,U=t.__specialLeftShift(e,d,1),F=n.__halfDigit(a-1),p=0,Q=s;0<=Q;Q--){u=32767;var h=U.__halfDigit(Q+a);if(h!==F){var R=(h<<15|U.__halfDigit(Q+a-1))>>>0;u=0|R/F;for(var _=0|R%F,S=n.__halfDigit(a-2),B=U.__halfDigit(Q+a-2);t.__imul(u,S)>>>0>(_<<16|B)>>>0&&(u--,!(32767<(_+=F))););}t.__internalMultiplyAdd(n,u,0,o,c);var m=U.__inplaceSub(c,Q,a+1);0!==m&&(m=U.__inplaceAdd(n,Q,a),U.__setHalfDigit(Q+a,32767&U.__halfDigit(Q+a)+m),u--),r&&(1&Q?p=u<<15:l.__setDigit(Q>>>1,p|u))}if(i)return U.__inplaceRightShift(d),r?{quotient:l,remainder:U}:U;if(r)return l;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return t.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,n,r){var i=e.length,a=new t(i+r,!1);if(0===n){for(var o=0;o<i;o++)a.__setDigit(o,e.__digit(o));return 0<r&&a.__setDigit(i,0),a}for(var s=0,l=0;l<i;l++){var c=e.__digit(l);a.__setDigit(l,1073741823&c<<n|s),s=c>>>30-n}return 0<r&&a.__setDigit(i,s),a}},{key:"__leftShiftByAbsolute",value:function(e,n){var r=t.__toShiftAmount(n);if(0>r)throw new RangeError("BigInt too big");var i=0|r/30,a=r%30,o=e.length,s=0!==a&&0!=e.__digit(o-1)>>>30-a,l=o+i+(s?1:0),c=new t(l,e.sign);if(0===a){for(var d=0;d<i;d++)c.__setDigit(d,0);for(;d<l;d++)c.__setDigit(d,e.__digit(d-i))}else{for(var u=0,U=0;U<i;U++)c.__setDigit(U,0);for(var F=0;F<o;F++){var p=e.__digit(F);c.__setDigit(F+i,1073741823&p<<a|u),u=p>>>30-a}if(s)c.__setDigit(o+i,u);else if(0!==u)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,n){var r=e.length,i=e.sign,a=t.__toShiftAmount(n);if(0>a)return t.__rightShiftByMaximum(i);var o=0|a/30,s=a%30,l=r-o;if(0>=l)return t.__rightShiftByMaximum(i);var c=!1;if(i)if(e.__digit(o)&(1<<s)-1)c=!0;else for(var d=0;d<o;d++)if(0!==e.__digit(d)){c=!0;break}c&&0===s&&(0==~e.__digit(r-1)&&l++);var u=new t(l,i);if(0===s){u.__setDigit(l-1,0);for(var U=o;U<r;U++)u.__setDigit(U-o,e.__digit(U))}else{for(var F=e.__digit(o)>>>s,p=r-o-1,Q=0;Q<p;Q++){var h=e.__digit(Q+o+1);u.__setDigit(Q,1073741823&h<<30-s|F),F=h>>>s}u.__setDigit(p,F)}return c&&(u=t.__absoluteAddOne(u,!0,u)),u.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?t.__oneDigit(1,!0):t.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var n=e.__unsignedDigit(0);return n>t.__kMaxLengthBits?-1:n}},{key:"__toPrimitive",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("object"!=_typeof$1(e))return e;if(e.constructor===t)return e;if("undefined"!=typeof Symbol&&"symbol"==_typeof$1(Symbol.toPrimitive)){var r=e[Symbol.toPrimitive];if(r){var i=r(n);if("object"!=_typeof$1(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var a=e.valueOf;if(a){var o=a.call(e);if("object"!=_typeof$1(o))return o}var s=e.toString;if(s){var l=s.call(e);if("object"!=_typeof$1(l))return l}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return t.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"==_typeof$1(e)&&null!==e&&e.constructor===t}},{key:"__truncateToNBits",value:function(e,n){for(var r=0|(e+29)/30,i=new t(r,n.sign),a=r-1,o=0;o<a;o++)i.__setDigit(o,n.__digit(o));var s=n.__digit(a);if(0!=e%30){var l=32-e%30;s=s<<l>>>l}return i.__setDigit(a,s),i.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,n,r){for(var i=Math.min,a=0|(e+29)/30,o=new t(a,r),s=0,l=a-1,c=0,d=i(l,n.length);s<d;s++){var u=0-n.__digit(s)-c;c=1&u>>>30,o.__setDigit(s,1073741823&u)}for(;s<l;s++)o.__setDigit(s,1073741823&-c);var U,F=l<n.length?n.__digit(l):0,p=e%30;if(0==p)U=0-F-c,U&=1073741823;else{var Q=32-p,h=1<<32-Q;U=h-(F=F<<Q>>>Q)-c,U&=h-1}return o.__setDigit(l,U),o.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}])}(_wrapNativeSuper(Array));JSBI.__kMaxLength=33554432,JSBI.__kMaxLengthBits=JSBI.__kMaxLength<<5,JSBI.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],JSBI.__kBitsPerCharTableShift=5,JSBI.__kBitsPerCharTableMultiplier=1<<JSBI.__kBitsPerCharTableShift,JSBI.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],JSBI.__kBitConversionBuffer=new ArrayBuffer(8),JSBI.__kBitConversionDouble=new Float64Array(JSBI.__kBitConversionBuffer),JSBI.__kBitConversionInts=new Int32Array(JSBI.__kBitConversionBuffer),JSBI.__clz30=Math.clz32?function(e){return Math.clz32(e)-2}:function(e){return 0===e?30:0|29-(0|Math.log(e>>>0)/Math.LN2)},JSBI.__imul=Math.imul||function(e,t){return 0|e*t};var _ProtoBufMessage2=function(){return _createClass$1((function e(){_classCallCheck$1(this,e)}),null,[{key:"setHeader",value:function(e,t,n){var r=new ArrayBuffer(26),i=new DataView(r),a=JSBI.BigInt((new Date).getTime()),o=JSBI.BigInt("0x1988030620210507");return JSBI.DataViewSetBigInt64(i,0,o,!0),i.setInt16(8,1,!0),JSBI.DataViewSetBigInt64(i,10,a,!0),i.setInt16(18,e,!0),i.setInt16(20,t,!0),i.setInt32(22,n,!0),r}},{key:"getHeader",value:function(e){var t=new Stream(e);return{magic:t.readUint64(!0),ver:t.readInt16(!0),time:t.readUint64(!0),type:t.readInt16(!0),subtype:t.readInt16(!0),len:t.readInt32(!0)}}},{key:"encodeMsgCommon",value:function(e){var t=e.msgName,n=e.payload,r=e.type,i=e.subType,a=_ProtoBufMessage2.encodePayloadCommon(t,n);return arraybufferConcatenate(_ProtoBufMessage2.setHeader(r,i,a.length),a)}},{key:"encodePayloadCommon",value:function(e,t){var n=_ProtoBufMessage2.protoRoot[e],r=n.verify(t);if(r)throw Error(r);var i=n.create(t);return n.encode(i).finish()}},{key:"encodeMsgBusiness",value:function(){}},{key:"encodeImeMsg",value:function(e){var t=e.type,n=void 0===t?2:t,r=e.str;return _ProtoBufMessage2.encodeMsgCommon({msgName:PB_INPUT.MSG_NAMES.InputImeComposition,payload:{type:n,str:r},type:PB_MESSAGE.TYPES.MsgInput,subType:PB_INPUT.SUBTYPES.MsgInputImeComposition})}},{key:"encodeControlChangeMsg",value:function(e){var t=e.role,n=e.userId;return _ProtoBufMessage2.encodeMsgCommon({msgName:PB_MESSAGE.MSG_NAMES.BusinessControlChange,payload:{role:t,user_id:n},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_MESSAGE.SUBTYPES.ControlChange})}},{key:"encodeControlNotifyMsg",value:function(){return _ProtoBufMessage2.encodeMsgCommon({msgName:PB_MESSAGE.MSG_NAMES.BusinessControlNotify,payload:{role:CONTROL_ROLE_TYPE.Player},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_MESSAGE.SUBTYPES.ControlNotify})}},{key:"encodeDelayTestMsg",value:function(e){return _ProtoBufMessage2.encodeMsgCommon({msgName:PB_MESSAGE.MSG_NAMES.BusinessDelayTestClient,payload:{frames:5,check_id:e},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_MESSAGE.SUBTYPES.MsgBusinessDelayTest})}},{key:"encodeMouseMovementMsg",value:function(e){var t=e.x,n=e.y;return _ProtoBufMessage2.encodeMsgCommon({msgName:"InputMouseMove",payload:{x:t,y:n},type:_ProtoBufMessage2.protoRoot.MsgType.MsgInput,subType:_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputMouseMove})}},{key:"encodeMouseMoveMsg",value:function(e){var t=e.movementX,n=e.movementY,r=e.clientWidth,i=e.clientHeight,a=e.offsetX,o=e.offsetY,s=_ProtoBufMessage2.protoRoot.InputMouseMove,l={x:t,y:n},c=s.verify(l);if(c)throw Error(c);var d=s.create(l),u=s.encode(d).finish(),U=arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgInput,_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputMouseMove,u.length),u),F=_ProtoBufMessage2.protoRoot.InputCursorPos,p={w:r,h:i,x:a,y:o},Q=F.verify(p);if(Q)throw Error(Q);var h=F.create(p),R=F.encode(h).finish();return{movePBMessage:U,cursorPosPBMessage:arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgInput,_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputCursorPos,R.length),R)}}},{key:"encodeMouseKeyMsg",value:function(e,t){var n=_ProtoBufMessage2.protoRoot.InputMouseKey,r={key:_ProtoBufMessage2.protoRoot.MouseKeyType[MOUSE_BUTTON_MAP[e]],state:!!t},i=n.verify(r);if(i)throw Error(i);var a=n.create(r),o=n.encode(a).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgInput,_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputMouseKey,o.length),o)}},{key:"encodeWheelMsg",value:function(e,t){var n=_ProtoBufMessage2.protoRoot.InputMouseWheel,r={};"number"==typeof e&&(r.hwheel=parseInt(e)),"number"==typeof t&&(r.wheel=parseInt(t));var i=n.verify(r);if(i)throw Error(i);var a=n.create(r),o=n.encode(a).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgInput,_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputMouseWheel,o.length),o)}},{key:"encodeKeyMsg",value:function(e,t){var n=_ProtoBufMessage2.protoRoot.InputKeyboard,r=_ProtoBufMessage2.protoRoot.KeyboardKeyType,i=KEYCODE_MAP[e];if(i){var a={key:r[i],state:t},o=n.verify(a);if(o)throw Error(o);var s=n.create(a),l=n.encode(s).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgInput,_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputKeyboardKey,l.length),l)}console.warn("no keyboard map:",e)}},{key:"encodeVideoStreamProfileMsg",value:function(e){var t=_ProtoBufMessage2.protoRoot.AVVideoFormatLevel,n={level:e},r=t.verify(n);if(r)throw Error(r);var i=t.create(n),a=t.encode(i).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgAVOutput,_ProtoBufMessage2.protoRoot.MsgAVOutputType.MsgAVOutputVideoFormatLevel,a.length),a)}},{key:"encodeRawStringMessage",value:function(e){var t=_ProtoBufMessage2.protoRoot.RawString,n={str:e},r=t.verify(n);if(r)throw Error(r);var i=t.create(n),a=t.encode(i).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgRaw,_ProtoBufMessage2.protoRoot.MsgRawType.MsgRawString,a.length),a)}},{key:"encodeBinaryMessage",value:function(e){var t=Array.prototype.slice.call(new Uint8Array(e)),n=_ProtoBufMessage2.protoRoot.RawBinary,r={bin:t},i=n.verify(r);if(i)throw Error(i);var a=n.create(r),o=n.encode(a).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgRaw,_ProtoBufMessage2.protoRoot.MsgRawType.MsgRawBinary,o.length),o)}},{key:"encodeTouchMsg",value:function(e){var t=_ProtoBufMessage2.protoRoot.InputTouchArray,n={touches:e},r=t.verify(n);if(r)throw Error(r);var i=t.create(n),a=t.encode(i).finish();return arraybufferConcatenate(_ProtoBufMessage2.setHeader(_ProtoBufMessage2.protoRoot.MsgType.MsgInput,_ProtoBufMessage2.protoRoot.MsgInputType.MsgInputTouch,a.length),a)}},{key:"encodeGamePadMsg",value:function(e){return _ProtoBufMessage2.encodeMsgCommon({msgName:PB_MESSAGE.MSG_NAMES.InputGCGamePad,payload:e,type:PB_MESSAGE.TYPES.MsgInput,subType:PB_MESSAGE.SUBTYPES.InputGCGamePad})}},{key:"encodeDeviceTypeMsg",value:function(e){var t=e.deviceType,n=e.isConnected,r=e.index,i=e.name,a=void 0===i?"":i,o=e.vid,s=void 0===o?0:o,l=e.pid,c=void 0===l?0:l,d=e.info,u=void 0===d?"":d,U=_ProtoBufMessage2.protoRoot;return _ProtoBufMessage2.encodeMsgCommon({msgName:"Device",payload:{index:r,type:t,name:a,vid:s,pid:c,state:n,info:(new TextEncoder).encode(u)},type:PB_MESSAGE.TYPES.MsgDevice,subType:U.MsgDeviceType[n?"MsgDevicePlugin":"MsgDeviceUnplug"]})}},{key:"decodePBMessage",value:function(e){var t=_ProtoBufMessage2.getHeader(e),n=_ProtoBufMessage2.protoRoot;if(t.type===n.MsgType.MsgRaw&&t.subtype===n.MsgRawType.MsgRawString)return{type:t.type,subtype:t.subtype,msg:this.decodeRawStringMessage(e.slice(26)).str};if(t.type===n.MsgType.MsgRaw&&t.subtype===n.MsgRawType.MsgRawBinary)return{type:t.type,subtype:t.subtype,msg:this.decodeRawBinaryMessage(e.slice(26)).bin};if(t.type===n.MsgType.MsgAVOutput&&t.subtype===n.MsgAVOutputType.MsgAVOutputVideoFormatLevel)return{type:t.type,subtype:t.subtype,msg:this.decodeVideoStreamProfileMsg(e.slice(26))};if(t.type===n.MsgType.MsgOutput&&t.subtype===n.MsgOutputType.MsgOutputCursorVisibility)return{type:t.type,subtype:t.subtype,msg:this.decodeCursorVisibilityMsg(e.slice(26))};if(t.type===n.MsgType.MsgOutput){if(t.subtype===n.MsgOutputType.MsgOutputCursorImage)return{type:t.type,subtype:t.subtype,msg:this.decodeCursorImageMsg(e.slice(26))};var r="";switch(t.subtype){case PB_OUTPUT_IME.SUBTYPES.MsgOutputImeState:r=PB_OUTPUT_IME.MSG_NAMES.OutputImeState;break;case PB_OUTPUT.SUBTYPES.MsgOutputGCVibration:r=PB_OUTPUT.MSG_NAMES.OutputGCVibration;break;case PB_OUTPUT.SUBTYPES.MsgOutputCursorPos:r=PB_OUTPUT.MSG_NAMES.OutputCursorPos}return _ProtoBufMessage2.decodeCommonMessage(r,t,e)}if(t.type===n.MsgType.MsgDevice&&t.subtype===n.MsgDeviceType.MsgDeviceControl){var i,a=protobuf.util.newBuffer(e.slice(26)),o=n.DeviceControl.decode(a);return i=o.type===n.DeviceType.DeviceCamara?n.DeviceControlCamera.decode(o.params):n.DeviceControlMicrophone.decode(o.params),o.params=i,{type:t.type,subtype:t.subtype,msg:o}}var s=PBDecodeMap[t.type];return s?this._decodeTypeWithMap(e,t,s):null}},{key:"_decodeTypeWithMap",value:function(e,t,n){var r=protobuf.util.newBuffer(e.slice(26)),i=n[t.subtype],a=_ProtoBufMessage2.protoRoot[i];if(!a)return null;var o=null;try{o=a.decode(r)}catch(e2){throw new Error("pb解析失败 ".concat(i))}return{type:t.type,subtype:t.subtype,msg:o}}},{key:"decodeCommonMessage",value:function(e,t,n){if(!e)return null;var r=protobuf.util.newBuffer(n.slice(26)),i=_ProtoBufMessage2.protoRoot[e].decode(r);return{type:t.type,subtype:t.subtype,msg:i}}},{key:"decodeDelayTestMessagePodData",value:function(e){return _ProtoBufMessage2.protoRoot[PB_BUSINESS_SEI.MSG_NAMES.BusinessDelayTestPod].decode(e)}},{key:"decodeRawStringMessage",value:function(e){var t=protobuf.util.newBuffer(e);return _ProtoBufMessage2.protoRoot.RawString.decode(t)}},{key:"decodeRawBinaryMessage",value:function(e){var t=protobuf.util.newBuffer(e);return _ProtoBufMessage2.protoRoot.RawBinary.decode(t)}},{key:"decodeVideoStreamProfileMsg",value:function(e){var t=protobuf.util.newBuffer(e);return _ProtoBufMessage2.protoRoot.AVVideoFormatLevelResp.decode(t)}},{key:"decodeCursorVisibilityMsg",value:function(e){var t=protobuf.util.newBuffer(e);return _ProtoBufMessage2.protoRoot.OutputCursorVisibility.decode(t)}},{key:"decodeCursorImageMsg",value:function(e){var t=protobuf.util.newBuffer(e);return _ProtoBufMessage2.protoRoot.OutputCursorImage.decode(t)}},{key:"keycodeMap",value:function(e){var t=_ProtoBufMessage2.protoRoot.KeyboardKeyType,n=KEYCODE_MAP[e];if(n)return t[n];console.warn("no keyboard map:",e)}}])}(),ProtoBufMessage=_ProtoBufMessage2;ProtoBufMessage.protoRoot=proto.lookup("cg.protocol");var PB_MESSAGE_CHANNEL_PROTOCOL_VERSION=20231024,_MessageFactory2=function(){return _createClass$1((function e(){_classCallCheck$1(this,e)}),null,[{key:"eventTypeClipboard",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessClipboard,payload:{mime_type:"text/plain",clip_data:[e]},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.Clipboard}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_CLIPBOARD,event_data:{mimeType:"text/plain",clipData:[e]}}}},{key:"eventTypeStartUp",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessStartUpClient,payload:{local_capabilities:e?6:7},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.StartUp}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_STARTUP,event_data:{local_capabilities:e?6:7}}}},{key:"eventTypeAppManager",value:function(e,t){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessAppManager,payload:{action:t,package_name:e},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.AppManager}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_APP_MANAGER,event_data:{game_pkg:e,action:t}}}},{key:"eventTypeMouse",value:function(e){var t=e.x,n=e.y,r=e.action,i=e.deltaX,a=e.deltaY,o=e.button;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_INPUT.MSG_NAMES.InputMouseARM,payload:{action:r,key:o,axis_v:a,axis_h:i,x:t,y:n},type:PB_MESSAGE.TYPES.MsgInput,subType:PB_INPUT.SUBTYPES.InputMouseARM}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_MOUSE,event_data:{action:r,button:o,axis_v:a,axis_h:i,x:t,y:n}}}},{key:"eventTypeGdapJoystick",value:function(e){var t=e.leftX,n=e.leftY,r=e.rightX,i=e.rightY,a=e.leftT,o=e.rightT,s=e.index,l=void 0===s?0:s;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_INPUT.MSG_NAMES.InputGCGamePad,payload:{index:l,lt:a,rt:o,lx:t,ly:n,rx:r,ry:i},type:PB_MESSAGE.TYPES.MsgInput,subType:PB_INPUT.SUBTYPES.InputGCGamePad}):Object.assign({index:l,op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_GDAP_JOYSTICK},{event_data:{left_x:t,left_y:n,right_x:r,right_y:i,left_t:a,right_t:o}})}},{key:"eventTypeOrientation",value:function(){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessOrientationClient,payload:{},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessOrientation}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_ORIENTATION}}},{key:"eventTypeLocation",value:function(e){var t=e.timestamp,n=e.latitude,r=e.altitude,i=e.longitude,a=e.speed,o=e.accuracy,s=e.altitudeAccuracy;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessLocationClient,payload:{provider:"gps",time:t,elapsed_realtime_nanos:1e3*t*1e3,latitude:n,altitude:r||0,longitude:i,speed:a||0,bearing:0,accuracy_meters:o||0,vertical_accuracy_meters:s||0,speed_accuracy_meters_per_second:0,bearing_accuracy_degrees:0},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.Location}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_LOCATION,event_data:{provider:"gps",time:t,elapsedRealtimeNanos:1e3*t*1e3,latitude:n,altitude:r||0,longitude:i,speed:a||0,bearing:0,accuracyMeters:o||0,verticalAccuracyMeters:s||0,speedAccuracyMetersPerSecond:0,bearingAccuracyDegrees:0}}}},{key:"eventTypeInputMethod",value:function(e){var t=e.isPodLxc,n=e.charSequence,r=void 0===n?"":n;e.selectionStart,e.selectionEnd;var i=e.actionId,a=e.visibility,o=e.directInput;if(_MessageFactory2.usePB){var s={version:wrapSingle(3),action_id:wrapSingle(i),encoder:"UTF-8",char_sequence:t?r:encodeURIComponent(r)};return o&&(s.direct_input=wrapSingle(o)),!1===a&&(s.visibility=wrapSingle(a)),ProtoBufMessage.encodeMsgCommon({msgName:PB_IME.MSG_NAMES.IMEData,payload:s,type:PB_MESSAGE.TYPES.MsgIME,subType:PB_IME.SUBTYPES.MsgIMEData})}return{op_type:o?CLIENT_EVENT_TYPE.EVENT_TYPE_INPUTMETHOD_DIRECT_TEXT:CLIENT_EVENT_TYPE.EVENT_TYPE_INPUTMETHOD,event_data:{charSequence:t?r:encodeURIComponent(r),actionId:i,encoder:"UTF-8",visibility:a,version:3}}}},{key:"eventTypeInputMethodVersion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_INPUTMETHOD,event_data:{encoder:"UTF-8",version:e}}}},{key:"eventTypeInputCombineMethod",value:function(e){var t=e.inputContext,n=e.type,r=void 0===n?0:n;return _MessageFactory2.usePB,{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_TEXT_INPUT,event_data:{charSequence:encodeURIComponent(t),encoder:"UTF-8",type:r}}}},{key:"eventTypeKey",value:function(e){var t=e.keycode,n=e.action,r=e.index,i=e.value;if(_MessageFactory2.usePB){var a={action:n,key_code:t};return void 0!==i&&(a.value=i),ProtoBufMessage.encodeMsgCommon({msgName:PB_INPUT.MSG_NAMES.InputKeyARM,payload:a,type:PB_MESSAGE.TYPES.MsgInput,subType:PB_INPUT.SUBTYPES.InputKeyARM})}return _objectSpread2({op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_KEY,event_data:_objectSpread2({action:n,key_code:t},void 0!==i&&{value:i})},void 0!==r&&{index:r})}},{key:"eventTypeKeyCustom",value:function(e){var t=e.keycode,n=e.action;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_INPUT.MSG_NAMES.InputKeyARM,payload:{key_code:t,action:n},type:PB_MESSAGE.TYPES.MsgInput,subType:PB_INPUT.SUBTYPES.InputKeyARM}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_KEY,event_data:{action:n,key_code:t}}}},{key:"eventTypeClarityIndex",value:function(e){var t=e.id,n=e.action,r=void 0===n?0:n;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:"AVVideoFormatLevel",payload:{level:t},type:PB_MESSAGE.TYPES.MsgAVOutput,subType:MsgAVOutputType.MsgAVOutputVideoFormatLevel}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_CLARITY_INDEX,event_data:{clarity:t,action:r}}}},{key:"eventTypeTouch",value:function(e){var t=e.eventData,n=e.checkId;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_INPUT.MSG_NAMES.InputTouchARMArray,payload:{touches:t,check_id:n},type:PB_MESSAGE.TYPES.MsgInput,subType:PB_INPUT.SUBTYPES.InputTouchARM}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_TOUCH,extra_data:{check_id:n},event_data:t}}},{key:"eventTypeUserPause",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessAppPauseResume,payload:{action:0},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.AppPauseResume}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_USERPAUSE}}},{key:"eventTypeUserResume",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessAppPauseResume,payload:{action:1},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.AppPauseResume}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_USERRESUME}}},{key:"eventTypeDislayPolicy",value:function(e){var t=e.action,n=void 0===t?0:t,r=e.displayContent,i=e.status;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_DISLAY_POLICY,event_data:{action:n,status:i,display_content:r}}}},{key:"eventTypeRestart",value:function(){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessAppManager,payload:{action:2},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.AppManager}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_APP_MANAGER,event_data:{action:2}}}},{key:"eventTypeUserStatus",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessUserStatusClient,payload:{reason:e?0:1},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.UserStatus}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_USERSTATUS,event_data:{reason:e?0:1}}}},{key:"eventTypeKeepAliveTime",value:function(e){var t=e.duration,n=e.action,r=void 0===n?0:n;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessKeepAliveTimeClient,payload:{duration_seconds:t},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessKeepAliveTime}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_KEEP_ALIVE_TIME,event_data:{duration:t,action:r}}}},{key:"eventTypeAutoRecycleTime",value:function(e,t,n){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessAutoRecycleTimeClient,payload:clearUndf({action:e?0:1,duration_seconds:t,duration_countdown:n}),type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessAutoRecycleTime}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_AUTO_RECYCLE_TIME,event_data:clearUndf({action:e?0:1,duration:t})}}},{key:"eventResetIdleReminder",value:function(){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgResetCountDownClient,payload:{status:1},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessResetCountDown}):null}},{key:"eventTypeProfilePath",value:function(e,t){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessUserProfileClient,payload:clearUndf({action:e?0:1,path:t}),type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessUserProfile}):{op_type:e?CLIENT_EVENT_TYPE.EVENT_TYPE_SET_PROFILE_PATH:CLIENT_EVENT_TYPE.EVENT_TYPE_GET_PROFILE_PATH,event_data:e?{user_profile_path:t}:{reason:0}}}},{key:"eventTypeFixLocation",value:function(e){var t=e.latitude,n=e.longitude;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:"SensorDataLocation",payload:{latitude:t,longitude:n},type:PB_MESSAGE.TYPES.MsgSensors,subType:PB_MESSAGE.SUBTYPES.MsgSensorData}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_FIX_LOCATION,event_data:{latitude:t,longitude:n}}}},{key:"eventTypeBackgroundAppClient",value:function(e,t){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessBackgroundAppClient,payload:clearUndf({action:e?0:1,package_name:t,reason:e?void 0:0}),type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessBackgroundApp}):{op_type:e?CLIENT_EVENT_TYPE.EVENT_TYPE_BRING_BACK_APP:CLIENT_EVENT_TYPE.EVENT_TYPE_GET_BACKGROUND_APPS,event_data:e?{packageName:t}:{reason:0}}}},{key:"eventTypeScreenShot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessScreenshotClient,payload:{sequence:e},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessScreenshot}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_SCREENSHOT,event_data:{sequence:e,isSavedOnPod:t}}}},{key:"eventTypeSensors",value:function(e,t){var n=["","acceleration","","orientation","gyroscope","magnetic"].indexOf(e);if(""===e||-1===n)return null;if(_MessageFactory2.usePB){var r=["","SensorDataAcceleration","","SensorDataAttitude","SensorDataGyro","SensorDataMagnetic"][n],i=null;if([1,3,4,5].includes(n)){var a=_slicedToArray(t,3);i={x:a[0],y:a[1],z:a[2]}}var o=ProtoBufMessage.encodePayloadCommon(r,i);return ProtoBufMessage.encodeMsgCommon({msgName:"SensorData",payload:{type:n,data:o},type:PB_MESSAGE.TYPES.MsgSensors,subType:PB_MESSAGE.SUBTYPES.MsgSensorData})}return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_SENSORS,event_data:{type:e,data:t}}}},{key:"veMessage",value:function(e){var t=e.payload,n=e.userId,r=e.mid,i=e.needAck,a=void 0!==i&&i,o=e.destUserId,s=void 0===o?"":o,l=e.type,c=void 0===l?"":l,d=e.time,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"string"!=typeof t&&(t=JSON.stringify(t)),d||(d=Date.now()),r||(r=Date.now().toString()+randomNumString$1(4)),u&&_MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannel,payload:{payload:{mid:r,text:t,time:d},type:"number"==typeof c?c:a?0:3,user_id:n,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:s},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_MSG_CHANNEL,event_data:{message:{mid:r,text:t,time:d},type:"number"==typeof c?c:a?0:3,user_id:n,dest_user_id:s,version:"".concat(SERVICE_VERSION)}}}},{key:"veMessageBinary",value:function(e){var t=e.payload,n=e.userId,r=e.mid,i=e.needAck,a=void 0!==i&&i,o=e.destUserId,s=e.time;return ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannelBinary,payload:{payload:{mid:r,data:Array.from(new Uint8Array(t)),time_ms:s},type:a?8:9,user_id:n,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:o},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessBinaryMsgChannel})}},{key:"veMessageResponse",value:function(e){var t=e.userId,n=e.ackId,r=e.destUserId;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannel,payload:{type:1,user_id:t,ack_id:n,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:r},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_MSG_CHANNEL,event_data:{type:1,user_id:t,ack_id:n,dest_user_id:r,version:SERVICE_VERSION}}}},{key:"veMessageBinaryResponse",value:function(e){var t=e.userId,n=e.ackId,r=e.destUserId;return ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannelBinary,payload:{type:108,user_id:t,ack_id:n,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:r},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessBinaryMsgChannel})}},{key:"veMessageStatusChangeResponse",value:function(e){var t=e.userId,n=e.ackId,r=e.destUserId;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannel,payload:{type:105,user_id:t,ack_id:n,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:r},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_MSG_CHANNEL,event_data:{type:105,user_id:t,ack_id:n,dest_user_id:r,version:SERVICE_VERSION}}}},{key:"veMessageReadyResponse",value:function(e){var t=e.userId,n=e.destUserId;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannel,payload:{type:4,user_id:t,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:n},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel}):{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_MSG_CHANNEL,event_data:{type:4,user_id:t,dest_user_id:n,version:SERVICE_VERSION}}}},{key:"veMessageHearBeatResponse",value:function(e){var t=e.userId,n=e.mid,r=e.ackId,i=e.destUserId;if(_MessageFactory2.usePB)return ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessMsgChannel,payload:{payload:{mid:n,time:Date.now()},type:106,user_id:t,ack_id:r,version:"".concat(PB_MESSAGE_CHANNEL_PROTOCOL_VERSION),dest_user_id:i},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel});var a=(new Date).getTime();return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_MSG_CHANNEL,event_data:{message:{mid:n,time:a},type:106,user_id:t,ack_id:r,dest_user_id:i,version:SERVICE_VERSION}}}},{key:"eventTestDelay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessDelayTestClient,payload:{check_id:e,frames:t},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessDelayTest}):{op_type:CLIENT_EVENT_TYPE.EVENT_TEST_DELAY,event_data:{check_id:e,frames:t}}}},{key:"eventGetFocusedWindow",value:function(e){var t=e.uid;return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessFocusWindowClient,payload:{uid:t},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessFocusWindow}):{event_data:{uid:t},op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_GET_FOCUSED_WINDOW}}},{key:"eventShakeEvent",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessShakeClient,payload:{duration_ms:e},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessShake}):_MessageFactory2.createMessageData(CLIENT_EVENT_TYPE.EVENT_TYPE_SHAKE,{duration:e})}},{key:"eventRotatePhoneEvent",value:function(e,t){return _MessageFactory2.usePB,_MessageFactory2.createMessageData(CLIENT_EVENT_TYPE.EVENT_TYPE_USER_ROTATION,{rotation:e,duration:t})}},{key:"eventKeyboardEnable",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_IME.MSG_NAMES.IMEControl,payload:{type:3,is_allow:wrapSingle(e)},type:PB_MESSAGE.TYPES.MsgIME,subType:PB_IME.SUBTYPES.MsgIMEControl}):_MessageFactory2.createMessageData(CLIENT_EVENT_TYPE.EVENT_TYPE_KEYBOARD_ENABLE,{enable:e})}},{key:"eventScreenRecordStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessShakeClient,payload:{action:0,duration:e,is_saved_on_pod:t},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessShake}):_MessageFactory2.createMessageData(CLIENT_EVENT_TYPE.EVENT_TYPE_SCREENRECORD,{action:"start",duration:e,is_saved_on_pod:t})}},{key:"eventScreenRecordStop",value:function(e){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessShakeClient,payload:{action:1},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessShake}):_MessageFactory2.createMessageData(CLIENT_EVENT_TYPE.EVENT_TYPE_SCREENRECORD,{action:"stop"})}},{key:"eventFileChannelSend",value:function(e,t){return _MessageFactory2.usePB?ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.BusinessFileChannelClient,payload:{action:e,carries:wrapData(t,["expires"])},type:PB_MESSAGE.TYPES.MsgBusiness,subType:PB_BUSINESS.SUBTYPES.MsgBusinessFileChannel}):_MessageFactory2.createMessageData(CLIENT_EVENT_TYPE.EVENT_TYPE_FILE_CHANNEL,{action:e,carries:t})}},{key:"createMessageData",value:function(e,t){return{event_data:t,op_type:e}}},{key:"eventTypeVideoPlayInject",value:function(e){var t=e.action,n=void 0===t?0:t,r=e.path,i=e.mode;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_VIDEO_PLAY_CAMERA_INJECT,event_data:{cmd:n,path:r,mode:i}}}},{key:"eventTypeUserControl",value:function(e){var t=e.action,n=e.userId,r=e.enable;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_USER_CONTROL,event_data:{action:t,enable:r,userId:n}}}},{key:"eventTypeEnableFullScreen",value:function(e){var t=e.enable,n=e.width,r=e.height,i=e.density;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_ENABLE_FULL_SCREEN,event_data:{enable:t,width:n,height:r,density:i}}}},{key:"eventTypeKeyboardChange",value:function(e){var t=e.keyboard,n=void 0===t?"":t,r=e.action;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_KEYCODE_TYPE,event_data:{type:"pod"===n?0:1,action:r}}}},{key:"eventTypeInjectionCtrl",value:function(e){var t=e.action,n=e.type,r=e.enable;return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_INJECTION_CTRL,event_data:{action:t,type:n,enable:r}}}},{key:"eventTypeUpdateRTCTokenExpireTime",value:function(e){return{op_type:CLIENT_EVENT_TYPE.EVENT_TYPE_UPDATE_TOKEN,event_data:{expire_time:e}}}}])}(),MessageFactory$1=_MessageFactory2;MessageFactory$1.usePB=!1;var _excluded$2=["message"],_excluded2$1=["msg"],_excluded3$1=["ele","fakeEle"],_excluded4$1=["orgTrack","mediaTrack","preprocessingTrack"],_excluded5$1=["orgTrack","mediaTrack","preprocessingTrack"],_ref,_ref15,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,__defProp$1=Object.defineProperty,__defNormalProp=function(e,t,n){return t in e?__defProp$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},__publicField=function(e,t,n){return __defNormalProp(e,"symbol"!=_typeof$1(t)?t+"":t,n),n};function _mergeNamespaces$1(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var detectorResults={};function getObjectFunctions(e,t){return e?Object.getOwnPropertyNames(e).filter((function(t){if("peerIdentity"===t)return!1;try{return"function"==typeof e[t]||void 0===e[t]}catch(n){return!1}})).map((function(n){return{obj:e,prefix:t,attr:n}})):[]}function isNativeCode(e,t){try{return e[t].toString().includes("[native code]")?"native":"non-native"}catch(n){return"untouchable"}}var detectorList=("undefined"!=typeof window?[[null==(_a=window.RTCPeerConnection)?void 0:_a.prototype,"RTCPeerConnection.prototype"],[window.RTCPeerConnection,"RTCPeerConnection"],[null==(_b=window.RTCDataChannel)?void 0:_b.prototype,"RTCDataChannel.prototype"],[window.RTCDataChannel,"RTCDataChannel"],[null==(_c=window.MediaStreamTrack)?void 0:_c.prototype,"MediaStreamTrack.prototype"],[window.MediaStreamTrack,"MediaStreamTrack"],[null==(_d=window.MediaStream)?void 0:_d.prototype,"MediaStream.prototype"],[window.MediaStream,"MediaStream"],[null==(_e=window.HTMLAudioElement)?void 0:_e.prototype,"HTMLAudioElement.prototype"],[null==(_f=window.HTMLVideoElement)?void 0:_f.prototype,"HTMLVideoElement.prototype"],[null==(_g=window.HTMLMediaElement)?void 0:_g.prototype,"HTMLMediaElement.prototype"],[null!==(_ref=null==(_h=window.AudioContext)?void 0:_h.prototype)&&void 0!==_ref?_ref:null==(_i=window.webkitAudioContext)?void 0:_i.prototype,"AudioContext.prototype"],[null==(_j=window.BaseAudioContext)?void 0:_j.prototype,"BaseAudioContext.prototype"],[null==(_k=window.AudioNode)?void 0:_k.prototype,"AudioNode.prototype"],[window.navigator.mediaDevices,"navigator.mediaDevices"],[window.console,"console"]]:[]).reduce((function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return e.concat(getObjectFunctions(r,i))}),[]);"undefined"!=typeof window&&detectorList.push({obj:window.navigator.mediaDevices,prefix:"navigator.mediaDevices",attr:"getUserMedia"},{obj:window.navigator.mediaDevices,prefix:"navigator.mediaDevices",attr:"getDisplayMedia"},{obj:window.navigator.mediaDevices,prefix:"navigator.mediaDevices",attr:"enumerateDevices"},{obj:window.navigator.mediaDevices,prefix:"navigator.mediaDevices",attr:"getSupportedConstraints"});var _iterator2=_createForOfIteratorHelper$1(detectorList),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_step2.value,_e146=_step2$value.obj,t$1=_step2$value.prefix,i$1=_step2$value.attr;detectorResults["".concat(t$1,".").concat(i$1)]=isNativeCode(_e146,i$1)}}catch(err2){_iterator2.e(err2)}finally{_iterator2.f()}var DEBUG$2="undefined"!=typeof window&&(window.location.search.includes("_rtc_debug_")||(null==(_l=window.localStorage)?void 0:_l.getItem("_rtc_debug_")));DEBUG$2&&console.log("RTC_AMBULANCE",detectorResults);var filtedResult=Object.entries(detectorResults).filter((function(e){var t=_slicedToArray(e,2);return t[0],"non-native"===t[1]})).map((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1],n}));Object.keys(filtedResult).length&&console.warn("RTC_AMBULANCE","have non-native code:\n",filtedResult.join("\n"));var logDisabled_=!0,deprecationWarnings_=!0;function extractVersion(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function wrapPeerConnectionEvent(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var a=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,a),i.apply(this,[e,a])};var a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function disableLog(e){return"boolean"!=typeof e?new Error("Argument type: "+_typeof$1(e)+". Please use a boolean."):(logDisabled_=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function disableWarnings(e){return"boolean"!=typeof e?new Error("Argument type: "+_typeof$1(e)+". Please use a boolean."):(deprecationWarnings_=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function log(){if("object"==("undefined"==typeof window?"undefined":_typeof$1(window))){if(logDisabled_)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function deprecated(e,t){deprecationWarnings_&&console.warn(e+" is deprecated, please use "+t+" instead.")}function detectBrowser(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=extractVersion(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=extractVersion(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=extractVersion(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function isObject$1$1(e){return"[object Object]"===Object.prototype.toString.call(e)}function compactObject(e){return isObject$1$1(e)?Object.keys(e).reduce((function(t,n){var r=isObject$1$1(e[n]),i=r?compactObject(e[n]):e[n],a=r&&!Object.keys(i).length;return void 0===i||a?t:Object.assign(t,_defineProperty$1({},n,i))}),{}):e}function walkStats(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?walkStats(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){walkStats(e,e.get(t),n)}))})))}function filterStats(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&walkStats(e,n,i)}))})),i}var logging=log;function shimGetUserMedia$2(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!=_typeof$1(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==_typeof$1(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[i("min",n)]=r.ideal,t.optional.push(a),(a={})[i("max",n)]=r.ideal,t.optional.push(a)):(a[i("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==_typeof$1(e.audio)){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==_typeof$1(e.video)){var o=e.video.facingMode;o=o&&("object"==_typeof$1(o)?o:{ideal:o});var s,l=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||l))if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?s=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(s=["front"]),s)return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=o.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),logging("chrome: "+JSON.stringify(e)),i(e)}));e.video=r(e.video)}return logging("chrome: "+JSON.stringify(e)),i(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(a(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}function shimGetDisplayMedia$1(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function shimMediaStream(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function shimOnTrack$1(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var a=new Event("track");a.track=r.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var a=new Event("track");a.track=r,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function shimGetSendersWithDtmf(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"==_typeof$1(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function shimGetStats(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],a=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){return t.apply(this,[function(e){i(s(o(e)))},r])}return new Promise((function(n,r){t.apply(e,[function(e){n(s(o(e)))},r])})).then(i,a)}}}function shimSenderReceiverGetStats(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,a=arguments[0];return this.getSenders().forEach((function(e){e.track===a&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===a&&(n?r=!0:n=e),e.track===a})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function shimAddTrackRemoveTrackWithNative(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function shimAddTrackRemoveTrack(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return shimAddTrackRemoveTrackWithNative(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new e.MediaStream([t]);this._streams[n.id]=o,this._reverseStreams[o.id]=n,this.addStream(o)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty$1({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var r=s(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,n=(t=arguments[0]).sdp,Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})),a.apply(this,arguments)):a.apply(this,arguments);var e,t,n};var o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function shimPeerConnection$1(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty$1({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}))}function fixNegotiationNeeded(e,t){wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var chromeShim=Object.freeze({__proto__:null,fixNegotiationNeeded:fixNegotiationNeeded,shimAddTrackRemoveTrack:shimAddTrackRemoveTrack,shimAddTrackRemoveTrackWithNative:shimAddTrackRemoveTrackWithNative,shimGetDisplayMedia:shimGetDisplayMedia$1,shimGetSendersWithDtmf:shimGetSendersWithDtmf,shimGetStats:shimGetStats,shimGetUserMedia:shimGetUserMedia$2,shimMediaStream:shimMediaStream,shimOnTrack:shimOnTrack$1,shimPeerConnection:shimPeerConnection$1,shimSenderReceiverGetStats:shimSenderReceiverGetStats});function shimGetUserMedia$1(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==_typeof$1(e)&&"object"==_typeof$1(e.audio)&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},r&&r.prototype.getSettings){var o=r.prototype.getSettings;r.prototype.getSettings=function(){var e=o.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==_typeof$1(e)&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function shimGetDisplayMedia(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function shimOnTrack(e){"object"==_typeof$1(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function shimPeerConnection(e,t){if("object"==_typeof$1(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty$1({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],a=e[1],o=e[2];return r.apply(this,[i||null]).then((function(e){if(t.version<53&&!a)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(a,o)}}}function shimSenderGetStats(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function shimReceiverGetStats(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function shimRemoveStream(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function shimRTCDataChannel(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function shimAddTransceiver(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);var n=(e=_toConsumableArray(e)).length>0;n&&e.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,a=i.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=e,i.sendEncodings=e,this.setParametersPromises.push(i.setParameters(a).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function shimGetParameters(e){if("object"==_typeof$1(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function shimCreateOffer(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function shimCreateAnswer(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}var firefoxShim=Object.freeze({__proto__:null,shimAddTransceiver:shimAddTransceiver,shimCreateAnswer:shimCreateAnswer,shimCreateOffer:shimCreateOffer,shimGetDisplayMedia:shimGetDisplayMedia,shimGetParameters:shimGetParameters,shimGetUserMedia:shimGetUserMedia$1,shimOnTrack:shimOnTrack,shimPeerConnection:shimPeerConnection,shimRTCDataChannel:shimRTCDataChannel,shimReceiverGetStats:shimReceiverGetStats,shimRemoveStream:shimRemoveStream,shimSenderGetStats:shimSenderGetStats});function shimLocalStreamsAPI(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function shimRemoteStreamsAPI(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function shimCallbacksAPI(e){if("object"==_typeof$1(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}}function shimGetUserMedia(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(shimConstraints(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function shimConstraints(e){return e&&void 0!==e.video?Object.assign({},e,{video:compactObject(e.video)}):e}function shimRTCIceServerUrls(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,r.push(a)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function shimTrackEventTransceiver(e){"object"==_typeof$1(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function shimCreateOfferLegacy(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function shimAudioContext(e){"object"!=_typeof$1(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var safariShim=Object.freeze({__proto__:null,shimAudioContext:shimAudioContext,shimCallbacksAPI:shimCallbacksAPI,shimConstraints:shimConstraints,shimCreateOfferLegacy:shimCreateOfferLegacy,shimGetUserMedia:shimGetUserMedia,shimLocalStreamsAPI:shimLocalStreamsAPI,shimRTCIceServerUrls:shimRTCIceServerUrls,shimRemoteStreamsAPI:shimRemoteStreamsAPI,shimTrackEventTransceiver:shimTrackEventTransceiver}),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var sdp$1={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==_typeof$1(e.keyParams)?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var a=r[i],o=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=t.parseRtpMap(o),l=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=l.length?t.parseFmtp(l[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=s.length>0&&s[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===l&&(n=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&n&&(t.rtx={ssrc:n}),r.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&l&&r.push({ssrc:l});var d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=d}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};var o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){var s=o[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(sdp$1);var sdpExports=sdp$1.exports,SDPUtils=getDefaultExportFromCjs(sdpExports),sdp=_mergeNamespaces$1({__proto__:null,default:SDPUtils},[sdpExports]);function shimRTCIceCandidate(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==_typeof$1(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=SDPUtils.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function shimRTCIceCandidateRelayProtocol(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||wrapPeerConnectionEvent(e,"icecandidate",(function(e){if(e.candidate){var t=SDPUtils.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function shimMaxMessageSize(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,r;(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(function(e){if(!e||!e.sdp)return!1;var t=SDPUtils.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=SDPUtils.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var i,a=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),o=(e=a,r=65536,"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r),s=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=SDPUtils.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],a);i=0===o&&0===s?Number.POSITIVE_INFINITY:0===o||0===s?Math.max(o,s):Math.min(o,s);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return i}}),this._sctp=l}return n.apply(this,arguments)}}}function shimSendThrowTypeError(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e),e},wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){return n.apply(e,arguments)}}}function shimConnectionState(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function removeExtmapAllowMixed(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function shimAddIceCandidateNullOrEmpty(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}function shimParameterlessSetLocalDescription(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!=_typeof$1(t)||t.type&&t.sdp)return n.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}return t.sdp||"offer"!==t.type&&"answer"!==t.type?n.apply(this,[t]):("offer"===t.type?this.createOffer:this.createAnswer).apply(this).then((function(t){return n.apply(e,[t])}))})}}var commonShim=Object.freeze({__proto__:null,removeExtmapAllowMixed:removeExtmapAllowMixed,shimAddIceCandidateNullOrEmpty:shimAddIceCandidateNullOrEmpty,shimConnectionState:shimConnectionState,shimMaxMessageSize:shimMaxMessageSize,shimParameterlessSetLocalDescription:shimParameterlessSetLocalDescription,shimRTCIceCandidate:shimRTCIceCandidate,shimRTCIceCandidateRelayProtocol:shimRTCIceCandidateRelayProtocol,shimSendThrowTypeError:shimSendThrowTypeError});function adapterFactory(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=log,r=detectBrowser(e),i={browserDetails:r,commonShim:commonShim,extractVersion:extractVersion,disableLog:disableLog,disableWarnings:disableWarnings,sdp:sdp};switch(r.browser){case"chrome":if(!chromeShim||!shimPeerConnection$1||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=chromeShim,shimAddIceCandidateNullOrEmpty(e,r),shimParameterlessSetLocalDescription(e),shimGetUserMedia$2(e,r),shimMediaStream(e),shimPeerConnection$1(e,r),shimOnTrack$1(e),shimAddTrackRemoveTrack(e,r),shimGetSendersWithDtmf(e),shimGetStats(e),shimSenderReceiverGetStats(e),fixNegotiationNeeded(e,r),shimRTCIceCandidate(e),shimRTCIceCandidateRelayProtocol(e),shimConnectionState(e),shimMaxMessageSize(e,r),shimSendThrowTypeError(e),removeExtmapAllowMixed(e,r);break;case"firefox":if(!firefoxShim||!shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=firefoxShim,shimAddIceCandidateNullOrEmpty(e,r),shimParameterlessSetLocalDescription(e),shimGetUserMedia$1(e,r),shimPeerConnection(e,r),shimOnTrack(e),shimRemoveStream(e),shimSenderGetStats(e),shimReceiverGetStats(e),shimRTCDataChannel(e),shimAddTransceiver(e),shimGetParameters(e),shimCreateOffer(e),shimCreateAnswer(e),shimRTCIceCandidate(e),shimConnectionState(e),shimMaxMessageSize(e,r),shimSendThrowTypeError(e);break;case"safari":if(!safariShim||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=safariShim,shimAddIceCandidateNullOrEmpty(e,r),shimParameterlessSetLocalDescription(e),shimRTCIceServerUrls(e),shimCreateOfferLegacy(e),shimCallbacksAPI(e),shimLocalStreamsAPI(e),shimRemoteStreamsAPI(e),shimTrackEventTransceiver(e),shimGetUserMedia(e),shimAudioContext(e),shimRTCIceCandidate(e),shimRTCIceCandidateRelayProtocol(e),shimMaxMessageSize(e,r),shimSendThrowTypeError(e),removeExtmapAllowMixed(e,r);break;default:n("Unsupported browser!")}return i}if(adapterFactory({window:"undefined"==typeof window?void 0:window}),"undefined"!=typeof MediaStreamTrack){var e$1=MediaStreamTrack.prototype.getSettings;MediaStreamTrack.prototype.getSettings=function(){var e=e$1.call(this);return e.width&&(e.width=Math.floor(e.width)),e.height&&(e.height=Math.floor(e.height)),e.frameRate&&(e.frameRate=Math.floor(e.frameRate)),e}}var getRandomValues$1,ErrorCode=function(e){return e.INVALID_ENGINE="INVALID_ENGINE",e.INVALID_PARAMS="INVALID_PARAMS",e.INVOKED_BEFORE_JOIN_ROOM="INVOKED_BEFORE_JOIN_ROOM",e.INVALID_TOKEN="INVALID_TOKEN",e.JOIN_ROOM_FAILED="JOIN_ROOM_FAILED",e.UPDATE_TOKEN_WITH_INVALID_TOKEN="UPDATE_TOKEN_WITH_INVALID_TOKEN",e.UPDATE_TOKEN_BEFORE_JOIN="UPDATE_TOKEN_BEFORE_JOIN",e.REPEAT_JOIN="REPEAT_JOIN",e.REPEAT_PUBLISH="REPEAT_PUBLISH",e.REPEAT_PUSH="REPEAT_PUSH",e.REPEAT_PLAY="REPEAT_PLAY",e.PUBLISH_BEFORE_JOIN="PUBLISH_BEFORE_JOIN",e.UNPUBLISH_BEFORE_JOIN="UNPUBLISH_BEFORE_JOIN",e.SUBSCRIBE_BEFORE_JOIN="SUBSCRIBE_BEFORE_JOIN",e.UNSUBSCRIBE_BEFORE_JOIN="UNSUBSCRIBE_BEFORE_JOIN",e.NO_PUBLISH_PERMISSION="NO_PUBLISH_PERMISSION",e.STREAM_NOT_EXIST="STREAM_NOT_EXIST",e.EMPTY_STREAM="EMPTY_STREAM",e.NOT_CONNECTED_YET="NOT_CONNECTED_YET",e.IM_BEFORE_JOIN="IM_BEFORE_JOIN",e.USER_NOT_EXIST="USER_NOT_EXIST",e.ALREADY_IN_ROOM="ALREADY_IN_ROOM",e.KICKED_OUT="KICKED_OUT",e.ROOM_DISMISS="ROOM_DISMISS",e.TOKEN_EXPIRED="TOKEN_EXPIRED",e.TOKEN_NO_PUBLISH_PERMISSION="TOKEN_NO_PUBLISH_PERMISSION",e.TOKEN_NO_SUBSCRIBE_PERMISSION="TOKEN_NO_SUBSCRIBE_PERMISSION",e.DUPLICATE_LOGIN="DUPLICATE_LOGIN",e.INVOKED_BEFORE_CAPTURE="INVOKED_BEFORE_CAPTURE",e.REPEAT_CAPTURE="REPEAT_CAPTURE",e.GET_VIDEO_TRACK_FAILED="GET_VIDEO_TRACK_FAILED",e.GET_AUDIO_TRACK_FAILED="GET_AUDIO_TRACK_FAILED",e.GET_SCREEN_TRACK_FAILED="GET_SCREEN_TRACK_FAILED",e.STREAM_TYPE_NOT_MATCH="STREAM_TYPE_NOT_MATCH",e.CANT_FIND_DOM="CANT_FIND_DOM",e.INVALID_DEVICE_ID="INVALID_DEVICE_ID",e.NO_PERMISSION="NO_PERMISSION",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INTERRUPT="INTERRUPT",e.ICE_SERVER_WRONG="ICE_SERVER_WRONG",e.ESTABLISH_DATACHANNEL_FAILED="ESTABLISH_DATACHANNEL_FAILED",e.LOAD_RESOURCES_FAILED="LOAD_RESOURCES_FAILED",e.SIGNALING_CHANNEL_NOT_OPEN="SIGNALING_CHANNEL_NOT_OPEN",e.TIME_OUT="TIME_OUT",e.REFUSE_OPERATION_IN_DISCONNECT="REFUSE_OPERATION_IN_DISCONNECT",e.ADD_TRANSCEIVER_FAILED="ADD_TRANSCEIVER_FAILED",e.UPDATE_TRACK_FAILED="UPDATE_TRACK_FAILED",e.PUBLISH_FAILED="PUBLISH_FAILED",e.UNPUBLISH_FAILED="UNPUBLISH_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.OPERATION_CANCEL="OPERATION_CANCEL",e.START_CLOUD_PROXY_AFTER_JOIN="START_CLOUD_PROXY_AFTER_JOIN",e.STOP_CLOUD_PROXY_BEFORE_LEAVE="STOP_CLOUD_PROXY_BEFORE_LEAVE",e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.REPEAT_DEVICE_TEST="REPEAT_DEVICE_TEST",e.AUDIO_DEVICE_TEST_FAILED="AUDIO_DEVICE_RECORD_FAILED",e.ALREADY_LOGIN="ALREADY_LOGIN",e.LOGIN_FAILED="LOGIN_FAILED",e.NOT_LOGIN="NOT_LOGIN",e.RTM_DUPLICATE_LOGIN="RTM_DUPLICATE_LOGIN",e.RTM_TOKEN_ERROR="RTM_TOKEN_ERROR",e.USER_MESSAGE_TIMEOUT="USER_MESSAGE_TIMEOUT",e.USER_MESSAGE_BROKEN="USER_MESSAGE_BROKEN",e.USER_MESSAGE_NO_RECEIVER="USER_MESSAGE_NO_RECEIVER",e.USER_MESSAGE_NO_RELAYPATH="USER_MESSAGE_NO_RELAYPATH",e.USER_MESSAGE_EXCEED_QPS="USER_MESSAGE_EXCEED_QPS",e.USER_MESSAGE_SEND_TO_SERVER_ERROR="USER_MESSAGE_SEND_TO_SERVER_ERROR",e.USER_MESSAGE_SERVER_RESPONSE_ERROR="USER_MESSAGE_SERVER_RESPONSE_ERROR",e.USER_MESSAGE_NOT_JOIN="USER_MESSAGE_NOT_JOIN",e.USER_MESSAGE_INIT="USER_MESSAGE_INIT",e.USER_MESSAGE_NO_CONNECTION="USER_MESSAGE_NO_CONNECTION",e.USER_MESSAGE_NOT_LOGIN="USER_MESSAGE_NOT_LOGIN",e.USER_MESSAGE_SERVER_PARAMS_NOTSET="USER_MESSAGE_SERVER_PARAMS_NOTSET",e.USER_MESSAGE_UNKNOWN="USER_MESSAGE_UNKNOWN",e.START_PUBLIC_STREAM_BEFORE_JOIN="START_PUBLIC_STREAM_BEFORE_JOIN",e.RECONNECT_FAILED="RECONNECT_FAILED",e.SUBTITLE_ALREADY_ON="SUBTITLE_ALREADY_ON",e.SUBTITLE_NOT_TURNED_ON="SUBTITLE_NOT_TURNED_ON",e.SUBTITLE_ERR_POSTPROCESS="SUBTITLE_ERR_POSTPROCESS",e.SUBTITLE_ERR_CONNECTION_ERROR="SUBTITLE_ERR_CONNECTION_ERROR",e.SUBTITLE_ERR_PROCESS_ERROR="SUBTITLE_ERR_PROCESS_ERROR",e.SUBTITLE_ERR_UNKNOWN="SUBTITLE_ERR_UNKNOWN",e.UNEXPECTED_INVOKE_FORWARD_STREAM="UNEXPECTED_INVOKE_FORWARD_STREAM",e.ROOM_FORBIDDEN="ROOM_FORBIDDEN",e.USER_FORBIDDEN="USER_FORBIDDEN",e}(ErrorCode||{}),AudioMixingError=function(e){return e[e.AUDIO_MIXING_ERROR_OK=0]="AUDIO_MIXING_ERROR_OK",e[e.AUDIO_MIXING_ERROR_PRELOAD_FAILED=1]="AUDIO_MIXING_ERROR_PRELOAD_FAILED",e[e.AUDIO_MIXING_ERROR_START_FAILED=2]="AUDIO_MIXING_ERROR_START_FAILED",e[e.AUDIO_MIXING_ERROR_ID_NOT_FOUND=3]="AUDIO_MIXING_ERROR_ID_NOT_FOUND",e[e.AUDIO_MIXING_ERROR_SET_POSITION_FAILED=4]="AUDIO_MIXING_ERROR_SET_POSITION_FAILED",e[e.AUDIO_MIXING_ERROR_INVALID_VOLUME=5]="AUDIO_MIXING_ERROR_INVALID_VOLUME",e[e.AUDIO_MIXING_ERROR_LOAD_CONFLICT=6]="AUDIO_MIXING_ERROR_LOAD_CONFLICT",e[e.AUDIO_MIXING_ERROR_ID_TYPE_NOT_MATCH=7]="AUDIO_MIXING_ERROR_ID_TYPE_NOT_MATCH",e[e.AUDIO_MIXING_ERROR_ID_TYPE_INVALID_PITCH=8]="AUDIO_MIXING_ERROR_ID_TYPE_INVALID_PITCH",e[e.AUDIO_MIXING_ERROR_INVALID_AUDIO_TRACK=9]="AUDIO_MIXING_ERROR_INVALID_AUDIO_TRACK",e}(AudioMixingError||{}),VideoSourceType=function(e){return e[e.VIDEO_SOURCE_TYPE_EXTERNAL=0]="VIDEO_SOURCE_TYPE_EXTERNAL",e[e.VIDEO_SOURCE_TYPE_INTERNAL=1]="VIDEO_SOURCE_TYPE_INTERNAL",e}(VideoSourceType||{}),AudioSourceType=function(e){return e[e.AUDIO_SOURCE_TYPE_EXTERNAL=0]="AUDIO_SOURCE_TYPE_EXTERNAL",e[e.AUDIO_SOURCE_TYPE_INTERNAL=1]="AUDIO_SOURCE_TYPE_INTERNAL",e}(AudioSourceType||{}),UserOfflineReason=function(e){return e[e.QUIT=0]="QUIT",e[e.DROPPED=1]="DROPPED",e[e.SWITCH_TO_INVISIBLE=2]="SWITCH_TO_INVISIBLE",e[e.KICKED_BY_ADMIN=3]="KICKED_BY_ADMIN",e}(UserOfflineReason||{}),ChannelProfile=function(e){return e[e.CHANNEL_PROFILE_COMMUNICATION=0]="CHANNEL_PROFILE_COMMUNICATION",e[e.CHANNEL_PROFILE_LIVE_BROADCASTING=1]="CHANNEL_PROFILE_LIVE_BROADCASTING",e}(ChannelProfile||{}),SubscribeMode=function(e){return e[e.AUTO_SUBSCRIBE_MODE=0]="AUTO_SUBSCRIBE_MODE",e[e.MANUAL_SUBSCRIBE_MODE=1]="MANUAL_SUBSCRIBE_MODE",e}(SubscribeMode||{}),SubscribeState=function(e){return e[e.SUBSCRIBE_SUCC=0]="SUBSCRIBE_SUCC",e[e.SUBSCRIBE_FAIL=1]="SUBSCRIBE_FAIL",e}(SubscribeState||{}),PublishState=function(e){return e[e.PUBLISH_SUCC=0]="PUBLISH_SUCC",e[e.PUBLISH_FAIL=1]="PUBLISH_FAIL",e}(PublishState||{}),MirrorMode=function(e){return e[e.MIRROR_MODE_OFF=0]="MIRROR_MODE_OFF",e[e.MIRROR_MODE_ON=1]="MIRROR_MODE_ON",e}(MirrorMode||{}),VideoRenderMode=function(e){return e[e.RENDER_MODE_HIDDEN=0]="RENDER_MODE_HIDDEN",e[e.RENDER_MODE_FIT=1]="RENDER_MODE_FIT",e[e.RENDER_MODE_FILL=2]="RENDER_MODE_FILL",e}(VideoRenderMode||{}),StreamIndex=function(e){return e[e.STREAM_INDEX_MAIN=0]="STREAM_INDEX_MAIN",e[e.STREAM_INDEX_SCREEN=1]="STREAM_INDEX_SCREEN",e}(StreamIndex||{}),MediaType$1=function(e){return e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",e}(MediaType$1||{}),StreamRemoveReason=function(e){return e[e.STREAM_REMOVE_REASON_UNPUBLISH=0]="STREAM_REMOVE_REASON_UNPUBLISH",e[e.STREAM_REMOVE_REASON_PUBLISH_FAILED=1]="STREAM_REMOVE_REASON_PUBLISH_FAILED",e[e.STREAM_REMOVE_REASON_KEEP_LIVE_FAILED=2]="STREAM_REMOVE_REASON_KEEP_LIVE_FAILED",e[e.STREAM_REMOVE_REASON_CLIENT_DISCONNECTED=3]="STREAM_REMOVE_REASON_CLIENT_DISCONNECTED",e[e.STREAM_REMOVE_REASON_REPUBLISH=4]="STREAM_REMOVE_REASON_REPUBLISH",e[e.STREAM_REMOVE_REASON_OTHER=5]="STREAM_REMOVE_REASON_OTHER",e[e.STREAM_REMOVE_REASON_TOKEN_PRIVILEGE_EXPIRED=6]="STREAM_REMOVE_REASON_TOKEN_PRIVILEGE_EXPIRED",e}(StreamRemoveReason||{}),ConnectionState=function(e){return e[e.CONNECTION_START=0]="CONNECTION_START",e[e.CONNECTION_STATE_DISCONNECTED=1]="CONNECTION_STATE_DISCONNECTED",e[e.CONNECTION_STATE_CONNECTING=2]="CONNECTION_STATE_CONNECTING",e[e.CONNECTION_STATE_CONNECTED=3]="CONNECTION_STATE_CONNECTED",e[e.CONNECTION_STATE_RECONNECTING=4]="CONNECTION_STATE_RECONNECTING",e[e.CONNECTION_STATE_RECONNECTED=5]="CONNECTION_STATE_RECONNECTED",e[e.CONNECTION_STATE_LOST=6]="CONNECTION_STATE_LOST",e}(ConnectionState||{}),MirrorType=function(e){return e[e.MIRROR_TYPE_NONE=0]="MIRROR_TYPE_NONE",e[e.MIRROR_TYPE_RENDER=1]="MIRROR_TYPE_RENDER",e}(MirrorType||{}),LocalMainReportMode=function(e){return e[e.NORMAL=0]="NORMAL",e[e.DISCONNECT=1]="DISCONNECT",e[e.RESET=2]="RESET",e}(LocalMainReportMode||{}),AudioReportMode=function(e){return e[e.MICROPHONE=0]="MICROPHONE",e[e.AUDIOMIXING=1]="AUDIOMIXING",e}(AudioReportMode||{}),LogChannel=function(e){return e[e.domestic=0]="domestic",e[e.overseas=1]="overseas",e}(LogChannel||{}),USER_ONLINE_STATUS=function(e){return e[e.OFFLINE=0]="OFFLINE",e[e.ONLINE=1]="ONLINE",e[e.UNREACHABLE=2]="UNREACHABLE",e}(USER_ONLINE_STATUS||{}),PublicStreamType=function(e){return e[e.AUDIO_AND_VIDEO=0]="AUDIO_AND_VIDEO",e[e.AUDIO_ONLY=1]="AUDIO_ONLY",e[e.VIDEO_ONLY=2]="VIDEO_ONLY",e}(PublicStreamType||{}),PublicInterpolationMode=function(e){return e[e.PREV_FRAME=0]="PREV_FRAME",e[e.OTHER_FRAME=1]="OTHER_FRAME",e}(PublicInterpolationMode||{}),SubscribeFallbackOption=function(e){return e[e.DISABLE=0]="DISABLE",e[e.VIDEO_STREAM_LOW=1]="VIDEO_STREAM_LOW",e[e.AUDIO_ONLY=2]="AUDIO_ONLY",e}(SubscribeFallbackOption||{}),RemoteUserPriority=function(e){return e[e.LOW=0]="LOW",e[e.MEDIUM=100]="MEDIUM",e[e.HIGH=200]="HIGH",e}(RemoteUserPriority||{}),NetworkQuality$1=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.EXCELLENT=1]="EXCELLENT",e[e.GOOD=2]="GOOD",e[e.POOR=3]="POOR",e[e.BAD=4]="BAD",e[e.VBAD=5]="VBAD",e[e.DOWN=6]="DOWN",e}(NetworkQuality$1||{}),FallbackOrRecoverReason=function(e){return e[e.Unknown=-1]="Unknown",e[e.SubscribeFallbackByBandwidth=0]="SubscribeFallbackByBandwidth",e[e.SubscribeRecoverByBandwidth=2]="SubscribeRecoverByBandwidth",e}(FallbackOrRecoverReason||{}),RoomProfileType=function(e){return e[e.communication=0]="communication",e[e.chat=5]="chat",e[e.chatRoom=6]="chatRoom",e[e.coHost=9]="coHost",e[e.meeting=16]="meeting",e[e.classRoom=18]="classRoom",e}(RoomProfileType||{}),AudioProfileType=function(e){return e[e.default=0]="default",e[e.fluent=1]="fluent",e[e.standard=2]="standard",e[e.hd=3]="hd",e[e.standardStereo=4]="standardStereo",e[e.hdMono=5]="hdMono",e}(AudioProfileType||{}),RTCAutoPlayPolicy=function(e){return e[e.AUTO_PLAY=0]="AUTO_PLAY",e[e.VIDEO_ONLY=1]="VIDEO_ONLY",e[e.PLAY_MANUALLY=2]="PLAY_MANUALLY",e}(RTCAutoPlayPolicy||{}),AAC_PROFILE=function(e){return e.LC="LC",e.HEv1="HEv1",e.HEv2="HEv2",e}(AAC_PROFILE||{}),TRANSCODING_VIDEO_CODEC=function(e){return e.H264="H264",e.H265="H265",e}(TRANSCODING_VIDEO_CODEC||{}),SUBTITLE_MODE=function(e){return e[e.ASR_ONLY=0]="ASR_ONLY",e[e.ASR_AND_TRANSLATION=1]="ASR_AND_TRANSLATION",e}(SUBTITLE_MODE||{}),SubtitleEventType=function(e){return e[e.STARTED=0]="STARTED",e[e.STOPPED=1]="STOPPED",e[e.ERROR=2]="ERROR",e[e.UPDATED=3]="UPDATED",e}(SubtitleEventType||{}),ForwardStreamState=function(e){return e[e.FORWARD_STREAM_STATE_SUCCESS=0]="FORWARD_STREAM_STATE_SUCCESS",e[e.FORWARD_STREAM_STATE_FAILURE=1]="FORWARD_STREAM_STATE_FAILURE",e}(ForwardStreamState||{}),ForwardStreamError=function(e){return e[e.FORWARD_STREAM_ERROR_OK=0]="FORWARD_STREAM_ERROR_OK",e[e.FORWARD_STREAM_ERROR_INVALID_TOKEN=1202]="FORWARD_STREAM_ERROR_INVALID_TOKEN",e[e.FORWARD_STREAM_ERROR_RESPONSE=1203]="FORWARD_STREAM_ERROR_RESPONSE",e[e.FORWARD_STREAM_ERROR_REMOTE_KICKED=1204]="FORWARD_STREAM_ERROR_REMOTE_KICKED",e[e.FORWARD_STREAM_ERROR_NOT_SUPPORT=1205]="FORWARD_STREAM_ERROR_NOT_SUPPORT",e}(ForwardStreamError||{}),AudioSelectionPriority=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.HIGH=1]="HIGH",e}(AudioSelectionPriority||{}),SDKError=function(e){function t(e,n,r){var i;return _classCallCheck$1(this,t),i=_callSuper(this,t,[n]),__publicField(_assertThisInitialized(i),"code"),__publicField(_assertThisInitialized(i),"message"),__publicField(_assertThisInitialized(i),"error"),i.code=e,i.message=n,i.error=r,Object.setPrototypeOf(_assertThisInitialized(i),t.prototype),i}return _inherits(t,e),_createClass$1(t,[{key:"toString",value:function(){return"SDKError: ".concat(this.code," ").concat(this.message)}}])}(_wrapNativeSuper(Error)),rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&!(getRandomValues$1="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return"string"==typeof e&&REGEX.test(e)}for(var byteToHex$1=[],i$1=0;i$1<256;++i$1)byteToHex$1.push((i$1+256).toString(16).substr(1));function stringify$4(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(byteToHex$1[e[t+0]]+byteToHex$1[e[t+1]]+byteToHex$1[e[t+2]]+byteToHex$1[e[t+3]]+"-"+byteToHex$1[e[t+4]]+byteToHex$1[e[t+5]]+"-"+byteToHex$1[e[t+6]]+byteToHex$1[e[t+7]]+"-"+byteToHex$1[e[t+8]]+byteToHex$1[e[t+9]]+"-"+byteToHex$1[e[t+10]]+byteToHex$1[e[t+11]]+byteToHex$1[e[t+12]]+byteToHex$1[e[t+13]]+byteToHex$1[e[t+14]]+byteToHex$1[e[t+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}function v4$1(e,t,n){var r=(e=e||{}).random||(e.rng||rng$1)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return stringify$4(r)}var isSSR$1=function(){return"undefined"==typeof window},genUuid$1=function(){return v4$1()},promiseAny$1=function(e){return new Promise((function(t,n){var r=(e=Array.isArray(e)?e:[]).length,i=[];0===r?n([]):e.forEach((function(e){e.then((function(e){t(e)}),(function(e){r--,i.push(e),0===r&&n(i)}))}))}))},assertValidMsgId=function(e){return"number"==typeof e};function mediaTrackStringify(e){return null==e?"undefined | null":"string"==typeof e?e:JSON.stringify({contentHint:e.contentHint,enabled:e.enabled,id:e.id,kind:e.kind,label:e.label,muted:e.muted,readyState:e.readyState})}function mediaStreamStringify(e){return null==e?"undefined | null":"string"==typeof e?e:JSON.stringify({id:e.id,active:e.active})}function mediaSenderStringify(e){return null==e?"undefined | null":"string"==typeof e?e:JSON.stringify({track:mediaTrackStringify(e.track)})}function mediaReceiverStringify(e){return null==e?"undefined | null":"string"==typeof e?e:JSON.stringify({track:mediaTrackStringify(e.track)})}function mediaTransceiverStringify(e){return null==e?"undefined | null":"string"==typeof e?e:JSON.stringify({currentDirection:e.currentDirection,direction:e.direction,mid:e.mid,stopped:e.stopped,receiver:mediaReceiverStringify(e.receiver),sender:mediaSenderStringify(e.sender)})}var DB_NAME$1="@byted/ve-rtc",STORE_NAME="@byted/ve-rtc",STORE_CACHED_SIZE_KEY="@byted/ve-rtc-cache-size",IDB=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"storeKey"),__publicField(this,"logLevel"),__publicField(this,"LogfileSize"),__publicField(this,"db"),__publicField(this,"logId"),__publicField(this,"cacheLog"),__publicField(this,"cachedSize"),__publicField(this,"preCacheTime"),__publicField(this,"timer"),__publicField(this,"_getSize",(function(e){return new Blob(e).size/1048576})),this.storeKey="",this.logId=1,this.cacheLog="",this.logLevel="none",this.LogfileSize=100,this._createStore()}),[{key:"_createStore",value:function(){var e=this;if(!isSSR$1()&&window.indexedDB){var t=indexedDB.open(DB_NAME$1);t.onupgradeneeded=function(){t.result.createObjectStore(STORE_NAME);try{localStorage.removeItem(STORE_CACHED_SIZE_KEY)}catch(e){}},t.onerror=function(e){},t.onsuccess=function(){e.db=t.result,e._getCachedSize()}}}},{key:"_getCachedSize",value:function(){var e=this;try{var t=localStorage.getItem(STORE_CACHED_SIZE_KEY);t?this.cachedSize=Number(t):this.values().then((function(t){e.cachedSize=e._getSize(t),e._setCachedSize()}))}catch(e2){}}},{key:"_setCachedSize",value:function(){try{localStorage.setItem(STORE_CACHED_SIZE_KEY,"".concat(this.cachedSize))}catch(e2){}}},{key:"_getStore",value:function(e){if(this.db)return this.db.transaction(STORE_NAME,e).objectStore(STORE_NAME)}},{key:"set",value:function(e){var t=this;return new Promise((function(n,r){if("none"===t.logLevel)return n();if(e&&t.preCacheTime&&t.preCacheTime-Date.now()<1e3)return t.cacheLog+="\n\n".concat(t.logId,": ").concat(e),t.logId++,t.timer||(t.timer=setTimeout((function(){t.set("")}),1e3-(t.preCacheTime-Date.now()))),n();clearTimeout(t.timer),t.timer=null;var i=t._getStore("readwrite");if(!i)return r("get store fail");t.cachedSize&&t.cachedSize>t.LogfileSize&&t.keyEarliest().then((function(e){t.get(e).then((function(n){t.del(e).then((function(){t.cachedSize=t.cachedSize-t._getSize(["".concat(n)]),t._setCachedSize()}))}))}));var a=i.get(t.storeKey);a.onsuccess=function(){try{var o="".concat(a.result||"").concat(t.cacheLog),s=e?"".concat(o?"\n\n":"").concat(t.logId,": ").concat(e):"";i.put("".concat(o).concat(s),t.storeKey),e&&t.logId++,t.cacheLog="",t.cachedSize=(t.cachedSize||0)+t._getSize(["".concat(t.cacheLog).concat(s)]),t._setCachedSize(),t.preCacheTime=Date.now(),n()}catch(l){if(!e)return r(l);t.cacheLog+="\n\n".concat(t.logId,": ").concat(e),t.logId++,r(l)}},a.onerror=function(n){if(!e)return r(n);t.cacheLog+="\n\n".concat(t.logId,": ").concat(e),t.logId++,r(n)}}))}},{key:"get",value:function(e){var t=this;return new Promise((function(n,r){var i=t._getStore("readonly");if(!i)return r();var a=i.get(e);a.onsuccess=function(){n(a.result)},a.onerror=function(e){r(e)}}))}},{key:"del",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.storeKey;return new Promise((function(n,r){var i=e._getStore("readwrite");if(!i)return r();var a=i.delete(t);a.onsuccess=function(){return n(a.result)},a.onerror=function(e){return r(e)}}))}},{key:"keyEarliest",value:function(){return this.keys().then((function(e){var t,n=Date.now();return e.forEach((function(e){if(e&&e.length){var r=e.split("-")[0];Number(r)<n&&(n=Number(r),t=e)}})),t}))}},{key:"keys",value:function(){var e=this;return new Promise((function(t,n){var r=e._getStore("readonly");if(!r)return n();if(r.getAllKeys){var i=r.getAllKeys();return i.onsuccess=function(){t(i.result)},void(i.onerror=function(){n()})}var a=[];r.openCursor().onsuccess=function(){this.result&&(a.push(this.result.key),this.result.continue())},r.transaction.oncomplete=function(){return t(a)}}))}},{key:"values",value:function(){var e=this;return new Promise((function(t,n){var r=e._getStore("readonly");if(!r)return n();if(r.getAll){var i=r.getAll();return i.onsuccess=function(){t(i.result)},void(i.onerror=function(){n()})}var a=[];r.openCursor().onsuccess=function(){this.result&&(a.push(this.result.value),this.result.continue())},r.transaction.oncomplete=function(){return t(a)}}))}},{key:"download",value:function(e){e=e||this.storeKey,this.get(e).then((function(t){var n=document.createElement("a");n.download="".concat(e,".txt"),n.href="data:text/paint;utf-8,".concat(t||""),n.click()}))}}])}(),iDB=new IDB,EventEmitter$1=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"_all",{})}),[{key:"on",value:function(e,t){var n=this._all[e];n?n.push(t):this._all[e]=[t]}},{key:"once",value:function(e,t){var n=this,r=function(){t.apply(void 0,arguments),n.off(e,r)};this.on(e,r)}},{key:"off",value:function(e,t){var n=this._all[e];null==n||n.splice(n.indexOf(t)>>>0,1)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._all[e];null==i||i.slice().forEach((function(e){return e.apply(void 0,n)}))}},{key:"safeEmit",value:function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.emit.apply(this,[e].concat(n))}catch(i){console.error(i)}}},{key:"destroy",value:function(){this._all={}}}])}(),configNumberKeys=["UPLOAD_CONSOLE_LENGTH_CUT","UPLOAD_REPORT_LIMIT"];function needToNumber(e){return configNumberKeys.includes(e)}var Config$2=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"config",{UPLOAD_CONSOLE_ON:!1,UPLOAD_CONSOLE_LENGTH_CUT:200,UPLOAD_REPORT_LIMIT:45e4,ENABLE_REPORT_IDB_BUFFER:!1}),e}return _inherits(t,e),_createClass$1(t,[{key:"setParameter",value:function(e,t){if(needToNumber(e))try{var n=Number(t);if(Number.isNaN(n))return;this.config[e]=n}catch(r){return void console.warn("Cannot convert core lib parameter ".concat(e,":").concat(t," into number"))}else this.config[e]=t;this.emit(e,this.config[e])}},{key:"getParameter",value:function(e){return this.config[e]}},{key:"getKeys",value:function(){return Object.keys(this.config)}}])}(EventEmitter$1),CoreConfig=new Config$2,common$1={};!function(e){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=_typeof$1(r))throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},e.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},i={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)}(common$1);var deflate$4={},deflate$3={},trees$1={},utils$6$1=common$1,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(e){for(var t=e.length;--t>=0;)e[t]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES$1+2));zero$1(static_ltree);var static_dtree=new Array(2*D_CODES$1);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES$1);function StaticTreeDesc(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function d_code(e){return e<256?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function send_bits(e,t,n){e.bi_valid>Buf_size-n?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=n-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function send_code(e,t,n){send_bits(e,n[2*t],n[2*t+1])}function bi_reverse(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function bi_flush(e){16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,t){var n,r,i,a,o,s,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,U=t.stat_desc.extra_bits,F=t.stat_desc.extra_base,p=t.stat_desc.max_length,Q=0;for(a=0;a<=MAX_BITS$1;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<HEAP_SIZE$1;n++)(a=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(a=p,Q++),l[2*r+1]=a,r>c||(e.bl_count[a]++,o=0,r>=F&&(o=U[r-F]),s=l[2*r],e.opt_len+=s*(a+o),u&&(e.static_len+=s*(d[2*r+1]+o)));if(0!==Q){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,Q-=2}while(Q>0);for(a=p;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}function gen_codes(e,t,n){var r,i,a=new Array(MAX_BITS$1+1),o=0;for(r=1;r<=MAX_BITS$1;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=bi_reverse(a[s]++,s))}}function tr_static_init(){var e,t,n,r,i,a=new Array(MAX_BITS$1+1);for(n=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=n,e=0;e<1<<extra_lbits[r];e++)_length_code[n++]=r;for(_length_code[n-1]=r,i=0,r=0;r<16;r++)for(base_dist[r]=i,e=0;e<1<<extra_dbits[r];e++)_dist_code[i++]=r;for(i>>=7;r<D_CODES$1;r++)for(base_dist[r]=i<<7,e=0;e<1<<extra_dbits[r]-7;e++)_dist_code[256+i++]=r;for(t=0;t<=MAX_BITS$1;t++)a[t]=0;for(e=0;e<=143;)static_ltree[2*e+1]=8,e++,a[8]++;for(;e<=255;)static_ltree[2*e+1]=9,e++,a[9]++;for(;e<=279;)static_ltree[2*e+1]=7,e++,a[7]++;for(;e<=287;)static_ltree[2*e+1]=8,e++,a[8]++;for(gen_codes(static_ltree,L_CODES$1+1,a),e=0;e<D_CODES$1;e++)static_dtree[2*e+1]=5,static_dtree[2*e]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(e){var t;for(t=0;t<L_CODES$1;t++)e.dyn_ltree[2*t]=0;for(t=0;t<D_CODES$1;t++)e.dyn_dtree[2*t]=0;for(t=0;t<BL_CODES$1;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*END_BLOCK]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,t,n,r){bi_windup(e),r&&(put_short(e,n),put_short(e,~n)),utils$6$1.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function smaller(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function pqdownheap(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&smaller(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function compress_block(e,t,n){var r,i,a,o,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?send_code(e,i,t):(send_code(e,(a=_length_code[i])+LITERALS$1+1,t),0!==(o=extra_lbits[a])&&send_bits(e,i-=base_length[a],o),send_code(e,a=d_code(--r),n),0!==(o=extra_dbits[a])&&send_bits(e,r-=base_dist[a],o))}while(s<e.last_lit);send_code(e,END_BLOCK,t)}function build_tree(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)pqdownheap(e,a,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,pqdownheap(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(a,c,e.bl_count)}function scan_tree(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*REP_3_6]++):s<=10?e.bl_tree[2*REPZ_3_10]++:e.bl_tree[2*REPZ_11_138]++,s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))}function send_tree(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<c)do{send_code(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(send_code(e,i,e.bl_tree),s--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,s-3,2)):s<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,s-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,s-11,7));s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}}function build_bl_tree(e){var t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES$1-1;t>=3&&0===e.bl_tree[2*bl_order[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function send_all_trees(e,t,n,r){var i;for(send_bits(e,t-257,5),send_bits(e,n-1,5),send_bits(e,r-4,4),i=0;i<r;i++)send_bits(e,e.bl_tree[2*bl_order[i]+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,n-1)}function detect_data_type(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return Z_BINARY;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Z_TEXT;for(t=32;t<LITERALS$1;t++)if(0!==e.dyn_ltree[2*t])return Z_TEXT;return Z_BINARY}zero$1(base_dist);var static_init_done=!1;function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,t,n,r){send_bits(e,(STORED_BLOCK<<1)+(r?1:0),3),copy_block(e,t,n,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,t,n,r){var i,a,o=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),o=build_bl_tree(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?_tr_stored_block(e,t,n,r):e.strategy===Z_FIXED$1||a===i?(send_bits(e,(STATIC_TREES<<1)+(r?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),r&&bi_windup(e)}function _tr_tally(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_length_code[n]+LITERALS$1+1)]++,e.dyn_dtree[2*d_code(t)]++),e.last_lit===e.lit_bufsize-1}function adler32$2(e,t,n,r){for(var i=65535&e,a=e>>>16&65535,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16}trees$1._tr_init=_tr_init,trees$1._tr_stored_block=_tr_stored_block,trees$1._tr_flush_block=_tr_flush_block,trees$1._tr_tally=_tr_tally,trees$1._tr_align=_tr_align;var adler32_1=adler32$2;function makeTable(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var crcTable=makeTable();function crc32$2(e,t,n,r){var i=crcTable,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^i[255&(e^t[o])];return~e}var configuration_table,crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5$1=common$1,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(e,t){return e.msg=msg$2[t],t}function rank(e){return(e<<1)-(e>4?9:0)}function zero(e){for(var t=e.length;--t>=0;)e[t]=0}function flush_pending(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(utils$5$1.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function flush_block_only(e,t){trees._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)}function put_byte(e,t){e.pending_buf[e.pending++]=t}function putShortMSB(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function read_buf(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,utils$5$1.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=adler32$1(e.adler,t,i,n):2===e.state.wrap&&(e.adler=crc32$1(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function longest_match(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,c=e.window,d=e.w_mask,u=e.prev,U=e.strstart+MAX_MATCH,F=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===F&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<U);if(r=MAX_MATCH-(U-a),a=U-MAX_MATCH,r>o){if(e.match_start=t,o=r,r>=s)break;F=c[a+o-1],p=c[a+o]}}}while((t=u[t&d])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function fill_window(e){var t,n,r,i,a,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-MIN_LOOKAHEAD)){utils$5$1.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);i+=o}if(0===e.strm.avail_in)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+MIN_MATCH-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&0!==e.strm.avail_in)}function deflate_stored(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),0===e.lookahead&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE;if(e.strstart-e.block_start>=e.w_size-MIN_LOOKAHEAD&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$2?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out),BS_NEED_MORE)}function deflate_fast(e,t){for(var n,r;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===e.lookahead)break}if(n=0,e.lookahead>=MIN_MATCH&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n)),e.match_length>=MIN_MATCH)if(r=trees._tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$2?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(e,t){for(var n,r,i;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===e.lookahead)break}if(n=0,e.lookahead>=MIN_MATCH&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-MIN_MATCH,r=trees._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}else if(e.match_available){if((r=trees._tr_tally(e,0,e.window[e.strstart-1]))&&flush_block_only(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=trees._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$2?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(r=o[i=e.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=e.strstart+MAX_MATCH;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=MAX_MATCH-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(n=trees._tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$2?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(e,t){for(var n;;){if(0===e.lookahead&&(fill_window(e),0===e.lookahead)){if(t===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(e.match_length=0,n=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$2?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config$1(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function lm_init(e){e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5$1.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils$5$1.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils$5$1.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5$1.Buf16(MAX_BITS+1),this.heap=new utils$5$1.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5$1.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?INIT_STATE:BUSY_STATE,e.adler=2===t.wrap?0:1,t.last_flush=Z_NO_FLUSH$1,trees._tr_init(t),Z_OK$2):err(e,Z_STREAM_ERROR$1)}function deflateReset(e){var t=deflateResetKeep(e);return t===Z_OK$2&&lm_init(e.state),t}function deflateSetHeader(e,t){return e&&e.state?2!==e.state.wrap?Z_STREAM_ERROR$1:(e.state.gzhead=t,Z_OK$2):Z_STREAM_ERROR$1}function deflateInit2(e,t,n,r,i,a){if(!e)return Z_STREAM_ERROR$1;var o=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>MAX_MEM_LEVEL||n!==Z_DEFLATED$2||r<8||r>15||t<0||t>9||a<0||a>Z_FIXED)return err(e,Z_STREAM_ERROR$1);8===r&&(r=9);var s=new DeflateState;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils$5$1.Buf8(2*s.w_size),s.head=new utils$5$1.Buf16(s.hash_size),s.prev=new utils$5$1.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils$5$1.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,deflateReset(e)}function deflateInit(e,t){return deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(e,t){var n,r,i,a;if(!e||!e.state||t>Z_BLOCK$1||t<0)return e?err(e,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===FINISH_STATE&&t!==Z_FINISH$2)return err(e,0===e.avail_out?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===INIT_STATE)if(2===r.wrap)e.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead?(put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,255&r.gzhead.time),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,9===r.level?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,255&r.gzhead.extra.length),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE):(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,9===r.level?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE);else{var o=Z_DEFLATED$2+(r.w_bits-8<<4)<<8;o|=(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=PRESET_DICT),o+=31-o%31,r.status=BUSY_STATE,putShortMSB(r,o),0!==r.strstart&&(putShortMSB(r,e.adler>>>16),putShortMSB(r,65535&e.adler)),e.adler=1}if(r.status===EXTRA_STATE)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending-i,i)),flush_pending(e),i=r.pending,r.pending!==r.pending_buf_size));)put_byte(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=NAME_STATE)}else r.status=NAME_STATE;if(r.status===NAME_STATE)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending-i,i)),flush_pending(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,put_byte(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending-i,i)),0===a&&(r.gzindex=0,r.status=COMMENT_STATE)}else r.status=COMMENT_STATE;if(r.status===COMMENT_STATE)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending-i,i)),flush_pending(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,put_byte(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32$1(e.adler,r.pending_buf,r.pending-i,i)),0===a&&(r.status=HCRC_STATE)}else r.status=HCRC_STATE;if(r.status===HCRC_STATE&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&flush_pending(e),r.pending+2<=r.pending_buf_size&&(put_byte(r,255&e.adler),put_byte(r,e.adler>>8&255),e.adler=0,r.status=BUSY_STATE)):r.status=BUSY_STATE),0!==r.pending){if(flush_pending(e),0===e.avail_out)return r.last_flush=-1,Z_OK$2}else if(0===e.avail_in&&rank(t)<=rank(n)&&t!==Z_FINISH$2)return err(e,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&0!==e.avail_in)return err(e,Z_BUF_ERROR$1);if(0!==e.avail_in||0!==r.lookahead||t!==Z_NO_FLUSH$1&&r.status!==FINISH_STATE){var s=r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,t):r.strategy===Z_RLE?deflate_rle(r,t):configuration_table[r.level].func(r,t);if(s!==BS_FINISH_STARTED&&s!==BS_FINISH_DONE||(r.status=FINISH_STATE),s===BS_NEED_MORE||s===BS_FINISH_STARTED)return 0===e.avail_out&&(r.last_flush=-1),Z_OK$2;if(s===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?trees._tr_align(r):t!==Z_BLOCK$1&&(trees._tr_stored_block(r,0,0,!1),t===Z_FULL_FLUSH&&(zero(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(e),0===e.avail_out))return r.last_flush=-1,Z_OK$2}return t!==Z_FINISH$2?Z_OK$2:r.wrap<=0?Z_STREAM_END$2:(2===r.wrap?(put_byte(r,255&e.adler),put_byte(r,e.adler>>8&255),put_byte(r,e.adler>>16&255),put_byte(r,e.adler>>24&255),put_byte(r,255&e.total_in),put_byte(r,e.total_in>>8&255),put_byte(r,e.total_in>>16&255),put_byte(r,e.total_in>>24&255)):(putShortMSB(r,e.adler>>>16),putShortMSB(r,65535&e.adler)),flush_pending(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(e){var t;return e&&e.state?(t=e.state.status)!==INIT_STATE&&t!==EXTRA_STATE&&t!==NAME_STATE&&t!==COMMENT_STATE&&t!==HCRC_STATE&&t!==BUSY_STATE&&t!==FINISH_STATE?err(e,Z_STREAM_ERROR$1):(e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR$1):Z_OK$2):Z_STREAM_ERROR$1}function deflateSetDictionary(e,t){var n,r,i,a,o,s,l,c,d=t.length;if(!e||!e.state)return Z_STREAM_ERROR$1;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR$1;for(1===a&&(e.adler=adler32$1(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new utils$5$1.Buf8(n.w_size),utils$5$1.arraySet(c,t,d-n.w_size,n.w_size,0),t=c,d=n.w_size),o=e.avail_in,s=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,fill_window(n);n.lookahead>=MIN_MATCH;){r=n.strstart,i=n.lookahead-(MIN_MATCH-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+MIN_MATCH-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=o,n.wrap=a,Z_OK$2}configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)],deflate$3.deflateInit=deflateInit,deflate$3.deflateInit2=deflateInit2,deflate$3.deflateReset=deflateReset,deflate$3.deflateResetKeep=deflateResetKeep,deflate$3.deflateSetHeader=deflateSetHeader,deflate$3.deflate=deflate$2,deflate$3.deflateEnd=deflateEnd,deflate$3.deflateSetDictionary=deflateSetDictionary,deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4$1=common$1,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(e2){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e2){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils$4$1.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(e,t){if(t<65534&&(e.subarray&&STR_APPLY_UIA_OK||!e.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4$1.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}_utf8len[254]=_utf8len[254]=1,strings$2.string2buf=function(e){var t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new utils$4$1.Buf8(s),a=0,i=0;a<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},strings$2.buf2binstring=function(e){return buf2binstring(e,e.length)},strings$2.binstring2buf=function(e){for(var t=new utils$4$1.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},strings$2.buf2string=function(e,t){var n,r,i,a,o=t||e.length,s=new Array(2*o);for(r=0,n=0;n<o;)if((i=e[n++])<128)s[r++]=i;else if((a=_utf8len[i])>4)s[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<o;)i=i<<6|63&e[n++],a--;a>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return buf2binstring(s,r)},strings$2.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+_utf8len[e[n]]>t?n:t};var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3$1=common$1,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);this.options=utils$3$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var n=zlib_deflate.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Z_OK$1)throw new Error(msg$1[n]);if(t.header&&zlib_deflate.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?strings$1.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$1$1.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=zlib_deflate.deflateSetDictionary(this.strm,r))!==Z_OK$1)throw new Error(msg$1[n]);this._dict_set=!0}}function deflate$1(e,t){var n=new Deflate(t);if(n.push(e,!0),n.err)throw n.msg||msg$1[n.err];return n.result}function deflateRaw(e,t){return(t=t||{}).raw=!0,deflate$1(e,t)}function gzip(e,t){return(t=t||{}).gzip=!0,deflate$1(e,t)}Deflate.prototype.push=function(e,t){var n,r,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?Z_FINISH$1:Z_NO_FLUSH,"string"==typeof e?i.input=strings$1.string2buf(e):"[object ArrayBuffer]"===toString$1$1.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new utils$3$1.Buf8(a),i.next_out=0,i.avail_out=a),(n=zlib_deflate.deflate(i,r))!==Z_STREAM_END$1&&n!==Z_OK$1)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||r!==Z_FINISH$1&&r!==Z_SYNC_FLUSH)||("string"===this.options.to?this.onData(strings$1.buf2binstring(utils$3$1.shrinkBuf(i.output,i.next_out))):this.onData(utils$3$1.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==Z_STREAM_END$1);return r===Z_FINISH$1?(n=zlib_deflate.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Z_OK$1):r!==Z_SYNC_FLUSH||(this.onEnd(Z_OK$1),i.avail_out=0,!0)},Deflate.prototype.onData=function(e){this.chunks.push(e)},Deflate.prototype.onEnd=function(e){e===Z_OK$1&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils$3$1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},deflate$4.Deflate=Deflate,deflate$4.deflate=deflate$1,deflate$4.deflateRaw=deflateRaw,deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function(e,t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g;n=e.state,r=e.next_in,y=e.input,i=r+(e.avail_in-5),a=e.next_out,g=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,U=n.window,F=n.hold,p=n.bits,Q=n.lencode,h=n.distcode,R=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{p<15&&(F+=y[r++]<<p,p+=8,F+=y[r++]<<p,p+=8),S=Q[F&R];t:for(;;){if(F>>>=B=S>>>24,p-=B,0==(B=S>>>16&255))g[a++]=65535&S;else{if(!(16&B)){if(!(64&B)){S=Q[(65535&S)+(F&(1<<B)-1)];continue t}if(32&B){n.mode=TYPE$1;break e}e.msg="invalid literal/length code",n.mode=BAD$1;break e}m=65535&S,(B&=15)&&(p<B&&(F+=y[r++]<<p,p+=8),m+=F&(1<<B)-1,F>>>=B,p-=B),p<15&&(F+=y[r++]<<p,p+=8,F+=y[r++]<<p,p+=8),S=h[F&_];n:for(;;){if(F>>>=B=S>>>24,p-=B,!(16&(B=S>>>16&255))){if(!(64&B)){S=h[(65535&S)+(F&(1<<B)-1)];continue n}e.msg="invalid distance code",n.mode=BAD$1;break e}if(f=65535&S,p<(B&=15)&&(F+=y[r++]<<p,(p+=8)<B&&(F+=y[r++]<<p,p+=8)),(f+=F&(1<<B)-1)>l){e.msg="invalid distance too far back",n.mode=BAD$1;break e}if(F>>>=B,p-=B,f>(B=a-o)){if((B=f-B)>d&&n.sane){e.msg="invalid distance too far back",n.mode=BAD$1;break e}if(E=0,v=U,0===u){if(E+=c-B,B<m){m-=B;do{g[a++]=U[E++]}while(--B);E=a-f,v=g}}else if(u<B){if(E+=c+u-B,(B-=u)<m){m-=B;do{g[a++]=U[E++]}while(--B);if(E=0,u<m){m-=B=u;do{g[a++]=U[E++]}while(--B);E=a-f,v=g}}}else if(E+=u-B,B<m){m-=B;do{g[a++]=U[E++]}while(--B);E=a-f,v=g}for(;m>2;)g[a++]=v[E++],g[a++]=v[E++],g[a++]=v[E++],m-=3;m&&(g[a++]=v[E++],m>1&&(g[a++]=v[E++]))}else{E=a-f;do{g[a++]=g[E++],g[a++]=g[E++],g[a++]=g[E++],m-=3}while(m>2);m&&(g[a++]=g[E++],m>1&&(g[a++]=g[E++]))}break}}break}}while(r<i&&a<s);r-=m=p>>3,F&=(1<<(p-=m<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=F,n.bits=p},utils$2$1=common$1,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(e,t,n,r,i,a,o,s){var l,c,d,u,U,F,p,Q,h,R=s.bits,_=0,S=0,B=0,m=0,f=0,E=0,v=0,y=0,g=0,T=0,V=null,k=0,N=new utils$2$1.Buf16(MAXBITS+1),b=new utils$2$1.Buf16(MAXBITS+1),C=null,J=0;for(_=0;_<=MAXBITS;_++)N[_]=0;for(S=0;S<r;S++)N[t[n+S]]++;for(f=R,m=MAXBITS;m>=1&&0===N[m];m--);if(f>m&&(f=m),0===m)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(B=1;B<m&&0===N[B];B++);for(f<B&&(f=B),y=1,_=1;_<=MAXBITS;_++)if(y<<=1,(y-=N[_])<0)return-1;if(y>0&&(e===CODES$1||1!==m))return-1;for(b[1]=0,_=1;_<MAXBITS;_++)b[_+1]=b[_]+N[_];for(S=0;S<r;S++)0!==t[n+S]&&(o[b[t[n+S]]++]=S);if(e===CODES$1?(V=C=o,F=19):e===LENS$1?(V=lbase,k-=257,C=lext,J-=257,F=256):(V=dbase,C=dext,F=-1),T=0,S=0,_=B,U=a,E=f,v=0,d=-1,u=(g=1<<f)-1,e===LENS$1&&g>ENOUGH_LENS$1||e===DISTS$1&&g>ENOUGH_DISTS$1)return 1;for(;;){p=_-v,o[S]<F?(Q=0,h=o[S]):o[S]>F?(Q=C[J+o[S]],h=V[k+o[S]]):(Q=96,h=0),l=1<<_-v,B=c=1<<E;do{i[U+(T>>v)+(c-=l)]=p<<24|Q<<16|h}while(0!==c);for(l=1<<_-1;T&l;)l>>=1;if(0!==l?(T&=l-1,T+=l):T=0,S++,0==--N[_]){if(_===m)break;_=t[n+o[S]]}if(_>f&&(T&u)!==d){for(0===v&&(v=f),U+=B,y=1<<(E=_-v);E+v<m&&!((y-=N[E+v])<=0);)E++,y<<=1;if(g+=1<<E,e===LENS$1&&g>ENOUGH_LENS$1||e===DISTS$1&&g>ENOUGH_DISTS$1)return 1;i[d=T&u]=f<<24|E<<16|U-a}}return 0!==T&&(i[U+T]=_-v<<24|64<<16),s.bits=f,0},utils$1$1=common$1,adler32=adler32_1,crc32=crc32_1,inflate_fast2=inffast,inflate_table2=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1$1.Buf16(320),this.work=new utils$1$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new utils$1$1.Buf32(ENOUGH_LENS),t.distcode=t.distdyn=new utils$1$1.Buf32(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):Z_STREAM_ERROR}function inflateReset2(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,inflateReset(e))):Z_STREAM_ERROR}function inflateInit2(e,t){var n,r;return e?(r=new InflateState,e.state=r,r.window=null,(n=inflateReset2(e,t))!==Z_OK&&(e.state=null),n):Z_STREAM_ERROR}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}var lenfix,distfix,virgin=!0;function fixedtables(e){if(virgin){var t;for(lenfix=new utils$1$1.Buf32(512),distfix=new utils$1$1.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inflate_table2(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inflate_table2(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new utils$1$1.Buf8(a.wsize)),r>=a.wsize?(utils$1$1.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>r&&(i=r),utils$1$1.arraySet(a.window,t,n-r,i,a.wnext),(r-=i)?(utils$1$1.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function inflate$2(e,t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g=0,T=new utils$1$1.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR;(n=e.state).mode===TYPE&&(n.mode=TYPEDO),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,d=n.bits,u=s,U=l,E=Z_OK;e:for(;;)switch(n.mode){case HEAD:if(0===n.wrap){n.mode=TYPEDO;break}for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(2&n.wrap&&35615===c){n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=crc32(n.check,T,2,0),c=0,d=0,n.mode=FLAGS;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=BAD;break}if((15&c)!==Z_DEFLATED){e.msg="unknown compression method",n.mode=BAD;break}if(d-=4,f=8+(15&(c>>>=4)),0===n.wbits)n.wbits=f;else if(f>n.wbits){e.msg="invalid window size",n.mode=BAD;break}n.dmax=1<<f,e.adler=n.check=1,n.mode=512&c?DICTID:TYPE,c=0,d=0;break;case FLAGS:for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==Z_DEFLATED){e.msg="unknown compression method",n.mode=BAD;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=BAD;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=crc32(n.check,T,2,0)),c=0,d=0,n.mode=TIME;case TIME:for(;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=crc32(n.check,T,4,0)),c=0,d=0,n.mode=OS;case OS:for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=crc32(n.check,T,2,0)),c=0,d=0,n.mode=EXLEN;case EXLEN:if(1024&n.flags){for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=crc32(n.check,T,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(1024&n.flags&&((F=n.length)>s&&(F=s),F&&(n.head&&(f=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),utils$1$1.arraySet(n.head.extra,r,a,F,f)),512&n.flags&&(n.check=crc32(n.check,r,F,a)),s-=F,a+=F,n.length-=F),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(2048&n.flags){if(0===s)break e;F=0;do{f=r[a+F++],n.head&&f&&n.length<65536&&(n.head.name+=String.fromCharCode(f))}while(f&&F<s);if(512&n.flags&&(n.check=crc32(n.check,r,F,a)),s-=F,a+=F,f)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(4096&n.flags){if(0===s)break e;F=0;do{f=r[a+F++],n.head&&f&&n.length<65536&&(n.head.comment+=String.fromCharCode(f))}while(f&&F<s);if(512&n.flags&&(n.check=crc32(n.check,r,F,a)),s-=F,a+=F,f)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(512&n.flags){for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=BAD;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=TYPE;break;case DICTID:for(;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}e.adler=n.check=zswap32(c),c=0,d=0,n.mode=DICT;case DICT:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,Z_NEED_DICT;e.adler=n.check=1,n.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(n.last){c>>>=7&d,d-=7&d,n.mode=CHECK;break}for(;d<3;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}switch(n.last=1&c,d-=1,3&(c>>>=1)){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,t===Z_TREES){c>>>=2,d-=2;break e}break;case 2:n.mode=TABLE;break;case 3:e.msg="invalid block type",n.mode=BAD}c>>>=2,d-=2;break;case STORED:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=BAD;break}if(n.length=65535&c,c=0,d=0,n.mode=COPY_,t===Z_TREES)break e;case COPY_:n.mode=COPY;case COPY:if(F=n.length){if(F>s&&(F=s),F>l&&(F=l),0===F)break e;utils$1$1.arraySet(i,r,a,F,o),s-=F,a+=F,l-=F,o+=F,n.length-=F;break}n.mode=TYPE;break;case TABLE:for(;d<14;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=BAD;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;d<3;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.lens[V[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,v={bits:n.lenbits},E=inflate_table2(CODES,n.lens,0,19,n.lencode,0,n.work,v),n.lenbits=v.bits,E){e.msg="invalid code lengths set",n.mode=BAD;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;R=(g=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,_=65535&g,!((h=g>>>24)<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(_<16)c>>>=h,d-=h,n.lens[n.have++]=_;else{if(16===_){for(y=h+2;d<y;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(c>>>=h,d-=h,0===n.have){e.msg="invalid bit length repeat",n.mode=BAD;break}f=n.lens[n.have-1],F=3+(3&c),c>>>=2,d-=2}else if(17===_){for(y=h+3;d<y;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}d-=h,f=0,F=3+(7&(c>>>=h)),c>>>=3,d-=3}else{for(y=h+7;d<y;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}d-=h,f=0,F=11+(127&(c>>>=h)),c>>>=7,d-=7}if(n.have+F>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=BAD;break}for(;F--;)n.lens[n.have++]=f}}if(n.mode===BAD)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=BAD;break}if(n.lenbits=9,v={bits:n.lenbits},E=inflate_table2(LENS,n.lens,0,n.nlen,n.lencode,0,n.work,v),n.lenbits=v.bits,E){e.msg="invalid literal/lengths set",n.mode=BAD;break}if(n.distbits=6,n.distcode=n.distdyn,v={bits:n.distbits},E=inflate_table2(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,v),n.distbits=v.bits,E){e.msg="invalid distances set",n.mode=BAD;break}if(n.mode=LEN_,t===Z_TREES)break e;case LEN_:n.mode=LEN;case LEN:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,inflate_fast2(e,U),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,d=n.bits,n.mode===TYPE&&(n.back=-1);break}for(n.back=0;R=(g=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,_=65535&g,!((h=g>>>24)<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(R&&!(240&R)){for(S=h,B=R,m=_;R=(g=n.lencode[m+((c&(1<<S+B)-1)>>S)])>>>16&255,_=65535&g,!(S+(h=g>>>24)<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}c>>>=S,d-=S,n.back+=S}if(c>>>=h,d-=h,n.back+=h,n.length=_,0===R){n.mode=LIT;break}if(32&R){n.back=-1,n.mode=TYPE;break}if(64&R){e.msg="invalid literal/length code",n.mode=BAD;break}n.extra=15&R,n.mode=LENEXT;case LENEXT:if(n.extra){for(y=n.extra;d<y;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;R=(g=n.distcode[c&(1<<n.distbits)-1])>>>16&255,_=65535&g,!((h=g>>>24)<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(!(240&R)){for(S=h,B=R,m=_;R=(g=n.distcode[m+((c&(1<<S+B)-1)>>S)])>>>16&255,_=65535&g,!(S+(h=g>>>24)<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}c>>>=S,d-=S,n.back+=S}if(c>>>=h,d-=h,n.back+=h,64&R){e.msg="invalid distance code",n.mode=BAD;break}n.offset=_,n.extra=15&R,n.mode=DISTEXT;case DISTEXT:if(n.extra){for(y=n.extra;d<y;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=BAD;break}n.mode=MATCH;case MATCH:if(0===l)break e;if(F=U-l,n.offset>F){if((F=n.offset-F)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=BAD;break}F>n.wnext?(F-=n.wnext,p=n.wsize-F):p=n.wnext-F,F>n.length&&(F=n.length),Q=n.window}else Q=i,p=o-n.offset,F=n.length;F>l&&(F=l),l-=F,n.length-=F;do{i[o++]=Q[p++]}while(--F);0===n.length&&(n.mode=LEN);break;case LIT:if(0===l)break e;i[o++]=n.length,l--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;d<32;){if(0===s)break e;s--,c|=r[a++]<<d,d+=8}if(U-=l,e.total_out+=U,n.total+=U,U&&(e.adler=n.check=n.flags?crc32(n.check,i,U,o-U):adler32(n.check,i,U,o-U)),U=l,(n.flags?c:zswap32(c))!==n.check){e.msg="incorrect data check",n.mode=BAD;break}c=0,d=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=BAD;break}c=0,d=0}n.mode=DONE;case DONE:E=Z_STREAM_END;break e;case BAD:E=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;default:return Z_STREAM_ERROR}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,(n.wsize||U!==e.avail_out&&n.mode<BAD&&(n.mode<CHECK||t!==Z_FINISH))&&updatewindow(e,e.output,e.next_out,U-e.avail_out),u-=e.avail_in,U-=e.avail_out,e.total_in+=u,e.total_out+=U,n.total+=U,n.wrap&&U&&(e.adler=n.check=n.flags?crc32(n.check,i,U,e.next_out-U):adler32(n.check,i,U,e.next_out-U)),e.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(0===u&&0===U||t===Z_FINISH)&&E===Z_OK&&(E=Z_BUF_ERROR),E}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK}function inflateGetHeader(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?(n.head=t,t.done=!1,Z_OK):Z_STREAM_ERROR}function inflateSetDictionary(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==DICT?Z_STREAM_ERROR:n.mode===DICT&&adler32(1,t,r,0)!==n.check?Z_DATA_ERROR:updatewindow(e,t,r,r)?(n.mode=MEM,Z_MEM_ERROR):(n.havedict=1,Z_OK):Z_STREAM_ERROR}inflate$3.inflateReset=inflateReset,inflate$3.inflateReset2=inflateReset2,inflate$3.inflateResetKeep=inflateResetKeep,inflate$3.inflateInit=inflateInit,inflate$3.inflateInit2=inflateInit2,inflate$3.inflate=inflate$2,inflate$3.inflateEnd=inflateEnd,inflate$3.inflateGetHeader=inflateGetHeader,inflate$3.inflateSetDictionary=inflateSetDictionary,inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils$h=common$1,strings=strings$2,c$1=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString$4=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=utils$h.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var n=zlib_inflate.inflateInit2(this.strm,t.windowBits);if(n!==c$1.Z_OK)throw new Error(msg[n]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$4.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=zlib_inflate.inflateSetDictionary(this.strm,t.dictionary))!==c$1.Z_OK))throw new Error(msg[n])}function inflate$1(e,t){var n=new Inflate(t);if(n.push(e,!0),n.err)throw n.msg||msg[n.err];return n.result}function inflateRaw(e,t){return(t=t||{}).raw=!0,inflate$1(e,t)}Inflate.prototype.push=function(e,t){var n,r,i,a,o,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,d=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?c$1.Z_FINISH:c$1.Z_NO_FLUSH,"string"==typeof e?s.input=strings.binstring2buf(e):"[object ArrayBuffer]"===toString$4.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new utils$h.Buf8(l),s.next_out=0,s.avail_out=l),(n=zlib_inflate.inflate(s,c$1.Z_NO_FLUSH))===c$1.Z_NEED_DICT&&c&&(n=zlib_inflate.inflateSetDictionary(this.strm,c)),n===c$1.Z_BUF_ERROR&&!0===d&&(n=c$1.Z_OK,d=!1),n!==c$1.Z_STREAM_END&&n!==c$1.Z_OK)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==c$1.Z_STREAM_END&&(0!==s.avail_in||r!==c$1.Z_FINISH&&r!==c$1.Z_SYNC_FLUSH)||("string"===this.options.to?(i=strings.utf8border(s.output,s.next_out),a=s.next_out-i,o=strings.buf2string(s.output,i),s.next_out=a,s.avail_out=l-a,a&&utils$h.arraySet(s.output,s.output,i,a,0),this.onData(o)):this.onData(utils$h.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(d=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==c$1.Z_STREAM_END);return n===c$1.Z_STREAM_END&&(r=c$1.Z_FINISH),r===c$1.Z_FINISH?(n=zlib_inflate.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c$1.Z_OK):r!==c$1.Z_SYNC_FLUSH||(this.onEnd(c$1.Z_OK),s.avail_out=0,!0)},Inflate.prototype.onData=function(e){this.chunks.push(e)},Inflate.prototype.onEnd=function(e){e===c$1.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils$h.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},inflate$4.Inflate=Inflate,inflate$4.inflate=inflate$1,inflate$4.inflateRaw=inflateRaw,inflate$4.ungzip=inflate$1;var assign$1=common$1.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign$1(pako,deflate,inflate,constants);var pako_1=pako,pako$1=getDefaultExportFromCjs(pako_1),lockId$1=1,PromiseLock$1=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"lockingPromise",Promise.resolve()),__publicField(this,"locks",0),__publicField(this,"name",""),__publicField(this,"lockId"),this.lockId=lockId$1++,t&&(this.name=t)}),[{key:"isLocked",get:function(){return this.locks>0}},{key:"lock",value:function(){var e,t=this;this.locks+=1;var n=new Promise((function(n){e=function(){t.locks-=1,n()}})),r=this.lockingPromise.then((function(){return e}));return this.lockingPromise=this.lockingPromise.then((function(){return n})),r}}])}(),DB_NAME="VERTC",indexedDB$1=function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},_IndexedDBInterface2=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"storeName"),__publicField(this,"pendingList",[]),this.storeName=t,!isSSR$1()&&indexedDB$1()&&this._checkAndCreateStore(t)}),[{key:"_checkAndCreateStore",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_IndexedDBInterface2._promiseLock.lock();case 2:if(r=e.sent,!indexedDB$1.databases){e.next=6;break}return e.next=6,new Promise((function(e){var t=function(){return indexedDB$1.databases().finally(e)};i=setInterval(t,100),t()})).finally((function(){return clearInterval(i)}));case 6:return e.abrupt("return",new Promise((function(e){_IndexedDBInterface2.db&&(_IndexedDBInterface2.db.close(),delete _IndexedDBInterface2.db);var i=n?indexedDB$1().open(DB_NAME,n):indexedDB$1().open(DB_NAME);i.onupgradeneeded=function(){i.result.createObjectStore(t)},i.onerror=function(){console.error("IndexedDBInterface error",i.error)},i.onsuccess=function(){var n=i.result;_IndexedDBInterface2.db=n;try{_IndexedDBInterface2.db.transaction(a.storeName,"readonly"),a.pendingList.forEach(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.txMode,r=t.pendResolve,i=t.pendReject,e.prev=1,e.t0=r,e.next=5,a._getStore(n);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),i();case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),e()}catch(o){e(a._checkAndCreateStore(t,n.version+1))}finally{r()}}})));case 7:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"_getStore",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_IndexedDBInterface2._promiseLock.lock();case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){if(!_IndexedDBInterface2.db)return r.pendingList.push({txMode:t,pendResolve:e,pendReject:i}),void n();try{e(_IndexedDBInterface2.db.transaction(r.storeName,t).objectStore(r.storeName))}catch(a){return void r.pendingList.push({txMode:t,pendResolve:e,pendReject:i})}finally{n()}})));case 4:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"put2String",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=JSON.stringify(t)}catch(i){r=t}return e.next=3,this.put(r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"get4String",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:n=e.sent;try{r=JSON.parse(n)}catch(i){r=n}return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"put",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getStore("readwrite");case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){var a=r.put(t,n);a.onsuccess=function(){e()},a.onerror=function(e){i(e)}})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"get",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getStore("readonly");case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,r){var i=n.get(t);i.onsuccess=function(){e(i.result)},i.onerror=function(e){r(e)}})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"del",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getStore("readwrite");case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,r){var i=n.delete(t);i.onsuccess=function(){e()},i.onerror=function(e){r(e)}})));case 4:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,n,r,i,a,o}(),IndexedDBInterface=_IndexedDBInterface2;function isOutBufferItem(e){return void 0!==e.report_id}__publicField(IndexedDBInterface,"db"),__publicField(IndexedDBInterface,"state","init"),__publicField(IndexedDBInterface,"_promiseLock",new PromiseLock$1("iDB"));var LongStringReportor=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"name","LongStringReportor"),__publicField(this,"inBuffer",[]),__publicField(this,"outBuffer",[])}),[{key:"push",value:function(e){e.message&&this.inBuffer.push(_objectSpread2(_objectSpread2({},e),{},{message:{id:genUuid$1().slice(0,3),index:0,end:!0,msg:e.message}}))}},{key:"splice",value:function(e){for(var t=[],n=0;this.outBuffer.length;){var r=JSON.stringify(this.outBuffer[0]).length;if(!(r<e))break;e-=r,n+=r,t.push(this.outBuffer.shift())}for(;this.inBuffer[0]&&e>0;){var i=this.inBuffer[0],a=i.message,o=_objectSpread2(_objectSpread2({},_objectWithoutProperties(i,_excluded$2)),{},{message:_objectSpread2(_objectSpread2({},a),{},{msg:""})}),s=JSON.stringify(o).length,l=e-s,c=_objectSpread2({},o);if(l>a.msg.length)c.message.msg=a.msg,this.inBuffer.shift();else{if(!(l>=10))break;var d=a.msg.slice(0,l);c.message.msg=d,c.message.end=!1,this.inBuffer[0].message.msg=a.msg.slice(l),this.inBuffer[0].message.index++}var u=JSON.stringify(c.message),U=u.length;e-=U+s,n+=U+s,t.push(_objectSpread2(_objectSpread2({},c),{},{message:u}))}return{payload:t,payloadSize:n}}},{key:"unshift",value:function(e){this.outBuffer=e.concat(this.outBuffer)}},{key:"get",value:function(){return[].concat(_toConsumableArray(this.outBuffer),_toConsumableArray(this.inBuffer.map((function(e){return _objectSpread2(_objectSpread2({},e),{},{message:JSON.stringify(e.message)})}))))}},{key:"set",value:function(e){var t=this;e.forEach((function(e){isOutBufferItem(e)?t.outBuffer.push(e):(e.message||(e.message=""),t.inBuffer.push(_objectSpread2(_objectSpread2({},e),{},{message:JSON.parse(e.message)})))})),this.outBuffer=[].concat(this.outBuffer),this.inBuffer=[].concat(this.inBuffer)}},{key:"isEmpty",value:function(){return 0===this.inBuffer.length&&0===this.outBuffer.length}}])}(),longStringReportor=new LongStringReportor,defaultCommonStats={product_line:"rtc",report_version:"5",os:"web",user_agent:isSSR$1()?"":null==navigator?void 0:navigator.userAgent,platform:"web",product:"webrtc",app_state:"active"},DEBUG$1="undefined"!=typeof window&&(window.location.search.includes("_rtc_debug_")||(null==(_m=window.localStorage)?void 0:_m.getItem("_rtc_debug_"))),ReportorDBBuffer=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_buffer"),this._buffer=new IndexedDBInterface(t)}),[{key:"set",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._buffer.put2String(t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"get",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,this._buffer.get4String(t);case 4:r=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.abrupt("return",null!==(n=r)&&void 0!==n?n:[]);case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(t){return e.apply(this,arguments)})}]);var e,t}(),Reportor=function(){return _createClass$1((function e(){var t=this;_classCallCheck$1(this,e),__publicField(this,"reportCommon",defaultCommonStats),__publicField(this,"reportIds",new Map),__publicField(this,"dataBuffer",[]),__publicField(this,"reportorList",[]),__publicField(this,"dbBuffer"),__publicField(this,"posting",!1),__publicField(this,"sucSendTimer"),__publicField(this,"preSucTime",0),__publicField(this,"errSendTimer"),__publicField(this,"errSendDelay",100),__publicField(this,"_logServerUrl"),__publicField(this,"_retryCount",0),__publicField(this,"_reportLimit",5e5),__publicField(this,"_disableTimeout",!1),isSSR$1()||(window.addEventListener("beforeunload",(function(){clearTimeout(t.errSendTimer),clearTimeout(t.sucSendTimer),t.send(void 0,!0)})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?t.setCommonStats({app_state:"active"}):"hidden"===document.visibilityState&&t.setCommonStats({app_state:"background"})})),DEBUG$1&&(window.__rtc_debug_reportor__=this)),CoreConfig.on("UPLOAD_REPORT_LIMIT",(function(e){t.setReportLimit(e)})),CoreConfig.on("ENABLE_REPORT_IDB_BUFFER",(function(e){e&&t.enableIndexedDBBuffer()})),setTimeout((function(){t.reportorList.push(consoleReportor),t.reportorList.push(longStringReportor)}))}),[{key:"setUrl",value:function(e){this._logServerUrl=e}},{key:"setCommonStats",value:function(e){this.reportCommon=Object.assign(this.reportCommon,e)}},{key:"getCommonStats",value:function(){return this.reportCommon}},{key:"setReportLimit",value:function(e){this._reportLimit=Math.max(e,5e4),this._reportLimit=Math.min(e,5e5)}},{key:"getReportId",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:"__global__",this.reportIds.has(e)||this.reportIds.set(e,0);var n=this.reportIds.get(e);return void 0===n&&(reportGlobalError("no reportId in reportId map with engine-session-id ".concat(e),0,{}),n=0),this.reportIds.set(e,n+1),n}},{key:"push",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])this.send(e);else{var t,n=null!==(t=e.engine_session_id)&&void 0!==t?t:"__global__";this.reportIds.has(n)||this.reportIds.set(n,0),this.dataBuffer.push(e),!this.posting&&!this.errSendTimer&&Date.now()-this.preSucTime>2e3&&(clearTimeout(this.sucSendTimer),this.send())}}},{key:"enableIndexedDBBuffer",value:function(){var e=this;this.dbBuffer||(this.dbBuffer=new ReportorDBBuffer("ReportorDBBuffer"),this.dbBuffer.get("LogReportor").then((function(t){t.forEach((function(t){e.push(t)}))})),this.reportorList.forEach((function(t){var n;null==(n=e.dbBuffer)||n.get(t.name).then((function(e){t.set(e)}))})))}},{key:"backup",value:function(){var e,t=this;try{null==(e=this.dbBuffer)||e.set(_toConsumableArray(this.dataBuffer),"LogReportor"),this.reportorList.forEach((function(e){var n;null==(n=t.dbBuffer)||n.set(_toConsumableArray(e.get()),e.name)}))}catch(n){reportGlobalError("Error when save log into IDB",-1,n)}}},{key:"unshift",value:function(e){this.dataBuffer=e[0].concat(this.dataBuffer),this.reportorList.forEach((function(t,n){var r;t.unshift(null!==(r=e[n+1])&&void 0!==r?r:[])}))}},{key:"_splice",value:function(){var e=this,t=findSizeIndex$1(this.dataBuffer,this._reportLimit);0===t&&this.dataBuffer.length>0&&(this._reportLimit=JSON.stringify(this.dataBuffer[0]).length+10,t=1,reportGlobalError("update report limit to ".concat(this._reportLimit),0,null));var n=this.dataBuffer.splice(0,t),r=JSON.stringify(n).length,i=[n],a=this._reportLimit-r;return this.reportorList.forEach((function(t){var n=t.splice(a),r=n.payload,o=n.payloadSize;r.forEach((function(t){var n,r;void 0===t.report_id&&(t.report_id=e.getReportId(t.engine_session_id),!isSSR$1()&&window.__onRTCReport&&(null==(r=window.__onRTCReport)||r.call(window,null!==(n=t.engine_session_id)&&void 0!==n?n:"global",t,e.getCommonStats())))})),i.push(r),a-=o})),i}},{key:"send",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backup(),r=this.reportorList.reduce((function(e,t){return e&&t.isEmpty()}),!0),(t||this.dataBuffer.length||!r)&&this._logServerUrl){e.next=4;break}return e.abrupt("return");case 4:if(t||(this.posting=!0),i=[],t||(i=this._splice()),a=DEBUG$1,o={data:t||i.flat(),header:_objectSpread2(_objectSpread2({},this.reportCommon),{},{http_retry_count:this._retryCount}),from:"web",os:"web",version:"1"},s={method:"POST",body:a?JSON.stringify(o):pako$1.gzip(JSON.stringify(o))},!this._disableTimeout)try{l=new AbortController,s.signal=l.signal,setTimeout((function(){l.abort()}),1e4)}catch(U){console.warn("AbortController is not supported"),this._disableTimeout=!0}return a||(s.headers={"Content-Encoding":"gzip","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),u=null,e.prev=11,e.next=14,fetch(this._logServerUrl,s);case 14:if(c=e.sent,e.t0=200!==c.status&&304!==c.status,e.t0){e.next=22;break}return e.t1=JSON,e.next=20,c.text();case 20:e.t2=e.sent,u=e.t1.parse.call(e.t1,e.t2);case 22:e.next=27;break;case 24:e.prev=24,e.t3=e.catch(11),d=e.t3;case 27:t||(this.posting=!1),u&&0===u.StatusCode?t||n||this.sucSend():(setTimeout((function(){var e;reportGlobalError("reportor post error, resJSON:".concat(null==u?void 0:u.toString()," err:").concat(d),null!==(e=null==c?void 0:c.status)&&void 0!==e?e:-1,d)}),0),t?this.send(t):(this.unshift(i),n?this.send():this.errSend()));case 28:case"end":return e.stop()}}),e,this,[[11,24]])}))),function(t,n){return e.apply(this,arguments)})},{key:"sucSend",value:function(){this.errSendDelay=100,this._retryCount=0,this.preSucTime=Date.now(),this.sucSendTimer=window.setTimeout(this.send.bind(this),2e3)}},{key:"errSend",value:function(){var e=this;this.errSendTimer=window.setTimeout((function(){e.send(),delete e.errSendTimer}),this.errSendDelay),this.errSendDelay*=2,this._retryCount++}}]);var e}();function findSizeIndex$1(e,t){for(var n=0,r=0;r<e.length;r++)if((n+=JSON.stringify(e[r]).length)>t)return r;return e.length}var commonReportor=new Reportor,Monitor=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"modifyIds",{}),this.id=t}),[{key:"report",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=_objectSpread2(_objectSpread2(_objectSpread2({event_key:e,rtc_timestamp:Date.now()},this.modifyIds),t),{},{common_extra_info:JSON.stringify(r),report_id:commonReportor.getReportId(this.modifyIds.engine_session_id)});!isSSR$1()&&window.__onRTCReport&&(null==(n=window.__onRTCReport)||n.call(window,this.modifyIds.engine_session_id,i,commonReportor.getCommonStats())),commonReportor.push(i)}},{key:"reportLog",value:function(e){var t=_objectSpread2(_objectSpread2({event_key:"rtc_invoke_status",sdk_api_name:"console_log",rtc_timestamp:Date.now()},this.modifyIds),{},{message:e});consoleReportor.push(t)}},{key:"reportLongString",value:function(e,t){var n=_objectSpread2(_objectSpread2({event_key:"rtc_invoke_status",sdk_api_name:"sdk_long_string_".concat(e),rtc_timestamp:Date.now()},this.modifyIds),{},{message:t});longStringReportor.push(n)}},{key:"set",value:function(e){this.modifyIds=Object.assign(this.modifyIds,e)}},{key:"destroy",value:function(){}}])}(),_MessageReportor2=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_preTime",Date.now()),__publicField(this,"_one2oneNum",0),__publicField(this,"_one2manyNum",0),__publicField(this,"_one2oneMsgCache",new Map),__publicField(this,"_one2manyMsgCache",new Map),__publicField(this,"roomId",""),__publicField(this,"userId",""),__publicField(this,"rtsSessionId",""),__publicField(this,"logger"),__publicField(this,"serverUrl","server"),this.id=t,this.logger=new Logger$1$1("MessageReportor",1)}),[{key:"needReport",value:function(e){return!!_MessageReportor2.config&&(Date.now()-this._preTime>=36e5&&(this._preTime=Date.now(),this._one2oneNum=0,this._one2manyNum=0),"one2one"===e&&this._one2oneNum<_MessageReportor2.config.max_one2one_fpt_per_hour&&Math.random()<=_MessageReportor2.config.one2one_fpt_ratio/100||"one2many"===e&&this._one2manyNum<_MessageReportor2.config.max_one2many_fpt_per_hour&&Math.random()<=_MessageReportor2.config.one2many_fpt_ratio/100)}},{key:"cacheP2PMsg",value:function(e){var t;this._one2oneMsgCache.set(e.msg_id,_objectSpread2({config_version:(null==(t=_MessageReportor2.config)?void 0:t.version)||""},e))}},{key:"updateP2PMsg",value:function(e,t){var n=this._one2oneMsgCache.get(e);n&&this._one2oneMsgCache.set(e,_objectSpread2(_objectSpread2({},n),t))}},{key:"cacheCustomMsg",value:function(e){var t;this._one2manyMsgCache.set(e.msg_id,_objectSpread2({config_version:(null==(t=_MessageReportor2.config)?void 0:t.version)||""},e))}},{key:"updateOne2ManyMsg",value:function(e,t){var n=this._one2manyMsgCache.get(e);n&&this._one2manyMsgCache.set(e,_objectSpread2(_objectSpread2({},n),t))}},{key:"reportP2PMsg",value:function(e){var t,n=this._one2oneMsgCache.get(e);n&&(this.logger.info("reportP2PMsg",n.type,JSON.stringify(n)),null==(t=getMonitor(this.id))||t.report("rts_message",n))}},{key:"reportOne2ManyMsg",value:function(e){var t,n=this._one2manyMsgCache.get(e);n&&(this.logger.info("reportOne2ManyMsg",n.type,JSON.stringify(n)),null==(t=getMonitor(this.id))||t.report("rts_message",n))}},{key:"reportMsgRecv",value:function(e){var t,n;e.config_version=(null==(t=_MessageReportor2.config)?void 0:t.version)||"",this.logger.info("reportMsgRecv",e.type,JSON.stringify(e)),null==(n=getMonitor(this.id))||n.report("rts_message",e)}},{key:"destroy",value:function(){this._one2manyNum=0,this._one2oneNum=0,this._one2manyMsgCache.clear(),this._one2oneMsgCache.clear(),this._preTime=Date.now(),this.roomId="",this.userId="",this.rtsSessionId=""}}])}(),MessageReportor=_MessageReportor2;__publicField(MessageReportor,"config");var _cache=new Map,setConfig=function(e){new Logger$1$1("MessageReportor",1).info("setConfig","get config: ".concat(JSON.stringify(e))),MessageReportor.config=e},createRTSMsgReportor=function(e){var t=_cache.get(e)||new MessageReportor(e);return _cache.set(e,t),t},destroyRTSMsgReportor=function(e){var t=_cache.get(e);t&&(t.destroy(),_cache.delete(e))},setServerUrl=function(e,t){var n=_cache.get(e);n&&(n.serverUrl=t)},setRoomId=function(e,t){var n=_cache.get(e);n&&(n.roomId=t||"")},setUserId=function(e,t){var n=_cache.get(e);n&&(n.userId=t||"")},setRtsSessionId=function(e,t){var n=_cache.get(e);n&&(n.rtsSessionId=t)},samplingP2PMsg=function(e,t){var n=_cache.get(e);if(null==n?void 0:n.needReport("one2one")){var r=t.to?"one2one":"one2server";t.enable_report=!0,t.report_msg_id=t.id,n.cacheP2PMsg({rts_session_id:n.rtsSessionId,msg_id:"".concat(t.id),node_role:"src_sdk",from:t.from,to:t.to||n.serverUrl,msg_type:r,type:r,rts_room_id:t.room,req_ts:Date.now(),send_ts:Date.now(),ack_ts:Date.now(),msg_size:0,error_code:0,recv_msg_ts:0,fwd_msg_ts:0,reply_ack_ts:0,cur_dst_uid:""})}return t},updateP2PMsgReq=function(e,t,n){var r;t.enable_report&&assertValidMsgId(t.report_msg_id)&&(null==(r=_cache.get(e))||r.updateP2PMsg("".concat(t.report_msg_id),{send_ts:Date.now(),msg_size:n}))},updateP2PMsgAck=function(e,t,n){if(t.enable_report&&assertValidMsgId(t.report_msg_id)){var r=_cache.get(e);null==r||r.updateP2PMsg("".concat(t.report_msg_id),{ack_ts:Date.now(),error_code:n}),null==r||r.reportP2PMsg("".concat(t.report_msg_id))}},samplingOne2ManyMsg=function(e,t,n){var r=_cache.get(e);return(null==r?void 0:r.needReport("one2many"))&&(n.enable_report=!0,n.report_msg_id=t,r.cacheCustomMsg({rts_session_id:r.rtsSessionId,msg_id:"".concat(t),node_role:"src_sdk",from:n.clientId,to:r.roomId||n.roomId,msg_type:"one2many",type:"one2many",rts_room_id:r.roomId,req_ts:Date.now(),send_ts:Date.now(),ack_ts:Date.now(),msg_size:0,error_code:0,recv_msg_ts:0,fwd_msg_ts:0,reply_ack_ts:0,cur_dst_uid:""})),n},updateOne2ManyMsgReq=function(e,t,n){if(t.enable_report&&assertValidMsgId(t.report_msg_id)){var r=_cache.get(e);r&&r.updateOne2ManyMsg("".concat(t.report_msg_id),{send_ts:Date.now(),msg_size:n})}},updateOne2ManyMsgAck=function(e,t,n){if(t.enable_report&&assertValidMsgId(t.report_msg_id)){var r=_cache.get(e);r&&(null==r||r.updateOne2ManyMsg("".concat(t.report_msg_id),{ack_ts:Date.now(),error_code:n}),null==r||r.reportOne2ManyMsg("".concat(t.report_msg_id)))}},reportP2PMsgRecv=function(e,t,n){if(t.enable_report&&assertValidMsgId(t.report_msg_id)){var r=_cache.get(e),i=t.to?"one2one":"one2many";null==r||r.reportMsgRecv({rts_session_id:r.rtsSessionId,msg_id:"".concat(t.report_msg_id),msg_size:n.msg_size,node_role:"dst_sdk",msg_type:i,type:i,rts_room_id:t.room,from:t.from,to:t.to||t.room,error_code:0,recv_msg_ts:n.recv_msg_ts,fwd_msg_ts:n.fwd_msg_ts,reply_ack_ts:Date.now(),cur_dst_uid:t.to?"":r.userId,config_version:"",req_ts:0,send_ts:0,ack_ts:0})}},reportOne2ManyMsgRecv=function(e,t,n){if(t.enable_report&&assertValidMsgId(t.report_msg_id)){var r=_cache.get(e);null==r||r.reportMsgRecv({rts_session_id:r.rtsSessionId,msg_id:"".concat(t.report_msg_id),msg_size:n.msg_size,node_role:"dst_sdk",msg_type:"one2many",type:"one2many",rts_room_id:t.roomId,from:t.clientId,to:t.roomId,error_code:0,recv_msg_ts:n.recv_msg_ts,fwd_msg_ts:n.fwd_msg_ts,reply_ack_ts:Date.now(),cur_dst_uid:r.userId,config_version:"",req_ts:0,send_ts:0,ack_ts:0})}},RTSMsgReportor={_cache:_cache,setServerUrl:setServerUrl,setConfig:setConfig,setRtsSessionId:setRtsSessionId,createRTSMsgReportor:createRTSMsgReportor,destroyRTSMsgReportor:destroyRTSMsgReportor,setRoomId:setRoomId,setUserId:setUserId,samplingP2PMsg:samplingP2PMsg,updateP2PMsgReq:updateP2PMsgReq,updateP2PMsgAck:updateP2PMsgAck,samplingOne2ManyMsg:samplingOne2ManyMsg,reportP2PMsgRecv:reportP2PMsgRecv,updateOne2ManyMsgAck:updateOne2ManyMsgAck,updateOne2ManyMsgReq:updateOne2ManyMsgReq,reportOne2ManyMsgRecv:reportOne2ManyMsgRecv},MessageStatisticsObserver=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_timer"),__publicField(this,"userMessage",{}),__publicField(this,"roomMessage",{}),this.id=t,this._setTimer()}),[{key:"_setTimer",value:function(){var e=this,t=function(){e._reportAndgReset(),clearTimeout(e._timer),e._timer=setTimeout(t,1e4)};t()}},{key:"_reportAndgReset",value:function(){(Object.keys(this.userMessage).length||Object.keys(this.roomMessage).length)&&(this._report(),this._reset())}},{key:"_report",value:function(){var e,t=this;null==(e=getMonitor(this.id))||e.report("rtc_message_statistics",{dc_user_message:Object.keys(this.userMessage).map((function(e){return t.userMessage[e]})),dc_room_message:Object.keys(this.roomMessage).map((function(e){return t.roomMessage[e]})),media_server_ip:""})}},{key:"_reset",value:function(){this.userMessage={},this.roomMessage={}}},{key:"_checkInitUserMessage",value:function(e,t){this.userMessage["".concat(t,"-").concat(e)]||(this.userMessage["".concat(t,"-").concat(e)]={dc_peer_user_id:e,dc_send_total:0,dc_recv_total:0,dc_send_ack:0,dc_send_fail:0,dc_fail_timeout:0,dc_fail_no_receiver:0,dc_fail_no_relay_path:0,dc_cost_time:0,dc_cost_e2s:0,dc_cost_s2s:0,dc_least_time:Number(1/0),dc_most_time:0,dc_cost_peer_s2e:0,dc_send_ack_100:0,dc_send_ack_200:0,dc_send_ack_400:0,dc_send_ack_1s:0,dc_message_type:t,dc_send_binary:0})}},{key:"_sendUserMessage",value:function(e,t,n){this._checkInitUserMessage(e,t),this.userMessage["".concat(t,"-").concat(e)].dc_send_total++,n&&this.userMessage["".concat(t,"-").concat(e)].dc_send_binary++}},{key:"_recvUserMessage",value:function(e,t){this._checkInitUserMessage(e,t),this.userMessage["".concat(t,"-").concat(e)].dc_recv_total++}},{key:"_sendUserFail",value:function(e,t,n){var r=this.userMessage["".concat(t,"-").concat(e)];r&&(r.dc_send_fail++,this._handleUserFail(r,n))}},{key:"_handleUserFail",value:function(e,t){t&&(t.code||t.err)&&(["TIME_OUT","USER_MESSAGE_TIMEOUT"].includes(t.code)?e.dc_fail_timeout++:3===t.err?e.dc_fail_no_receiver++:4===t.err?e.dc_fail_no_relay_path++:1===t.err&&e.dc_fail_timeout++)}},{key:"_sendUserAck",value:function(e,t,n,r,i){var a=this.userMessage["".concat(t,"-").concat(e)];a&&(a.dc_send_ack++,a.dc_cost_time+=n,a.dc_cost_s2s+=r||0,a.dc_cost_peer_s2e+=i,a.dc_cost_e2s+=n-(r||0)-i,n/2<=100?(a.dc_send_ack_100++,a.dc_send_ack_200++,a.dc_send_ack_400++,a.dc_send_ack_1s++):n/2<=200?(a.dc_send_ack_200++,a.dc_send_ack_400++,a.dc_send_ack_1s++):n/2<=400?(a.dc_send_ack_400++,a.dc_send_ack_1s++):n/2<=1e3&&a.dc_send_ack_1s++,n<a.dc_least_time&&(a.dc_least_time=n),n>a.dc_most_time&&(a.dc_most_time=n))}},{key:"sendRoomMessage",value:function(e,t){this.roomMessage[e]||(this.roomMessage[e]={dc_room_id:e,dc_send_total:0,dc_send_ack:0,dc_cost_time:0,dc_least_time:Number(1/0),dc_most_time:0,dc_send_fail:0,dc_send_ack_100:0,dc_send_ack_200:0,dc_send_ack_400:0,dc_send_ack_1s:0,dc_send_binary:0}),this.roomMessage[e].dc_send_total++,t&&this.roomMessage[e].dc_send_binary++}},{key:"sendRoomFail",value:function(e){var t=this.roomMessage[e];t&&t.dc_send_fail++}},{key:"sendRoomAck",value:function(e,t){var n=this.roomMessage[e];n&&(n.dc_send_ack++,n.dc_cost_time+=t,t<n.dc_least_time&&(n.dc_least_time=t),t>n.dc_most_time&&(n.dc_most_time=t),t/2<=100?(n.dc_send_ack_100++,n.dc_send_ack_200++,n.dc_send_ack_400++,n.dc_send_ack_1s++):t/2<=200?(n.dc_send_ack_200++,n.dc_send_ack_400++,n.dc_send_ack_1s++):t/2<=400?(n.dc_send_ack_400++,n.dc_send_ack_1s++):t/2<=1e3&&n.dc_send_ack_1s++)}},{key:"sendP2PMessage",value:function(e,t){this._sendUserMessage(e,"p2p",t)}},{key:"recvP2PMessage",value:function(e){this._recvUserMessage(e,"p2p")}},{key:"sendP2PFail",value:function(e,t){this._sendUserFail(e,"p2p",t)}},{key:"sendP2PAck",value:function(e,t,n,r){this._sendUserAck(e,"p2p",t,n,r)}},{key:"sendP2POutRoomMessage",value:function(e,t){this._sendUserMessage(e,"p2p_outside_room",t)}},{key:"recvP2POutRoomMessage",value:function(e){this._recvUserMessage(e,"p2p_outside_room")}},{key:"sendP2POutRoomFail",value:function(e,t){this._sendUserFail(e,"p2p_outside_room",t)}},{key:"sendP2POutRoomAck",value:function(e,t,n,r){this._sendUserAck(e,"p2p_outside_room",t,n,r)}},{key:"sendP2serverMessage",value:function(e){this._sendUserMessage("","p2server",e)}},{key:"sendP2serverFail",value:function(e){this._sendUserFail("","p2server",e)}},{key:"sendP2serveAck",value:function(e,t,n){this._sendUserAck("","p2server",e,t,n)}},{key:"countP2PMessage",value:function(e,t,n,r,i){this.sendP2PMessage(t,n),e?this.sendP2PAck(t,Date.now()-r,i.s2s_time||0,i.s2e_time||0):this.sendP2PFail(t,i)}},{key:"countRoomMessage",value:function(e,t,n,r){this.sendRoomMessage(t,n),e?this.sendRoomAck(t,Date.now()-r):this.sendRoomFail(t)}},{key:"countUserMessageOutsideRoom",value:function(e,t,n,r,i){this.sendP2POutRoomMessage(t,n),e?this.sendP2POutRoomAck(t,Date.now()-r,i.s2s_time,i.s2e_time):this.sendP2POutRoomFail(t,i)}},{key:"countServerMessage",value:function(e,t,n,r){this.sendP2serverMessage(t),e?(r=r||{},this.sendP2serveAck(Date.now()-n,r.s2s_time||0,r.s2e_time||0)):this.sendP2serverFail(r)}},{key:"destroy",value:function(){this._reset(),clearTimeout(this._timer)}}])}(),setGlobalStats=function(e){commonReportor.setCommonStats(e)},setReportUrl=function(e){commonReportor.setUrl(e)},globalMonitor=new Monitor("global"),reportGlobalApiCall=function(e,t,n){globalMonitor.report("rtc_sdk_api_call",{sdk_api_name:e,error_code:t,message:n})},reportGlobalCallback=function(e,t,n){globalMonitor.report("rtc_sdk_callback",{sdk_callback_name:e,error_code:t,message:n})},reportGlobalError=function(e,t,n){globalMonitor.report("rtc_error",{message:e,error_code:t},n)},reportGlobalInvokeStatus=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;globalMonitor.report("rtc_invoke_status",{sdk_api_name:e,message:t,error_code:n,stream_id:r,elapse:0},i)};function reportGlobalLog(e){globalMonitor.reportLog(e)}var monitorMap=new Map,getMonitor=function(e){return monitorMap.get(e)},createMonitor=function(e,t){var n=new Monitor(e);return n.set(_objectSpread2(_objectSpread2({},t),{},{engine_session_id:genUuid$1()})),n.report("sdk_init_engine",{start:Date.now(),type:"begin"}),monitorMap.set(e,n),n};function reportRtcSdkApiCall(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){if("function"==typeof r.value){var i=r.value;r.value=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var o,s,l,c=this.engineId||this.id,d={};t.forEach((function(e,t){d[e]=r[t]})),"joinRoom"===n&&(null==(s=getMonitor(c))||s.set({room_id:r[1],user_id:null==(o=r[2])?void 0:o.userId})),null==(l=getMonitor(c))||l.report("rtc_sdk_api_call",{sdk_api_name:n,message:JSON.stringify(reportParamsCheck(r)),error_code:0},d);var u=i.apply(this,r);return"function"==typeof(null==u?void 0:u.then)?u.then((function(e){return reportRtcSdkCallback(c,n,[e||{}]),e})).catch((function(e){throw reportRtcSdkCallback(c,n,e.message,e.code),e})):(reportRtcSdkCallback(c,n,[u||{}]),u)}}}}var reportRtcSdkCallback=function(e,t,n){var r,i=arguments.length>4?arguments[4]:void 0,a={sdk_callback_name:t,error_code:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,message:JSON.stringify(Array.isArray(n)?reportParamsCheck(n):n)};i&&(a.room_id=i),null==(r=getMonitor(e))||r.report("rtc_sdk_callback",a)},reportRtcInvokeStatus=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5?arguments[5]:void 0;null==(r=getMonitor(e))||r.report("rtc_invoke_status",{sdk_api_name:t,message:n,error_code:i,stream_id:a,elapse:0},o)},maxBinaryLength=10;function reportParamsCheck(e){var t=function(e){if(null==e?void 0:e._reportName)return e._reportName;if(e instanceof HTMLElement)return e.toString();if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var n=ArrayBuffer.isView(e)?e.buffer:e,r=n.byteLength,i=[];if(r>maxBinaryLength){var a=new DataView(n),o=Array.from({length:maxBinaryLength/2}).map((function(e,t){return a.getUint8(t)})),s=Array.from({length:maxBinaryLength/2}).map((function(e,t){return r-1-t})).reverse().map((function(e){return a.getUint8(e)}));i=[].concat(_toConsumableArray(o),["..."],_toConsumableArray(s))}else i=Array.from(new Uint8Array(n));return"".concat(e.constructor.name,"(").concat(r,") [").concat(i.join(", "),"]")}if(e instanceof ImageData)return"ImageData";if(Array.isArray(e))return e.map(t);if(["[object Object]","[object MediaStreamTrack]"].includes(Object.prototype.toString.call(e))){var l={};for(var c in e)l[c]=t(e[c]);return l}return e};return e.map(t)}var ENABLE_CONSOLE_UPLOAD="undefined"!=typeof window&&window.location.search.includes("_rtc_upload_console_"),ConsoleReportor=function(){return _createClass$1((function e(){var t=this;_classCallCheck$1(this,e),__publicField(this,"name","ConsoleReportor"),__publicField(this,"_uuid","".concat(Math.floor(899*Math.random())+100)),__publicField(this,"_consoleReportId",0),__publicField(this,"_engineReportIdMap",new Map),__publicField(this,"_enabled","NULL"),__publicField(this,"_consoleCutLength",CoreConfig.getParameter("UPLOAD_CONSOLE_LENGTH_CUT")),__publicField(this,"buffer",[]),ENABLE_CONSOLE_UPLOAD&&setTimeout((function(){t.switchOn()}),0),CoreConfig.on("UPLOAD_CONSOLE_ON",(function(e){e?t.switchOn():t.turnOff()})),CoreConfig.on("UPLOAD_CONSOLE_LENGTH_CUT",(function(e){t._consoleCutLength=e}))}),[{key:"enabled",get:function(){return"OFF"!==this._enabled}},{key:"switchOn",value:function(){"NULL"===this._enabled&&(console.log("[LoggerReportor.constructor] console upload switch ON"),this._enabled="ON")}},{key:"turnOff",value:function(){"NULL"===this._enabled&&(console.log("[LoggerReportor.constructor] console upload switch OFF"),this._enabled="OFF",this.buffer=[])}},{key:"getEngineConsoleId",value:function(e){var t,n=null!==(t=this._engineReportIdMap.get(e))&&void 0!==t?t:0;return this._engineReportIdMap.set(e,n+1),n}},{key:"report",value:function(e,t,n,r,i,a,o,s,l){var c=this;if("OFF"!==this._enabled){var d=getMonitor(t),u=this._consoleReportId++,U=this.getEngineConsoleId(t),F=shallowJson(l,this._consoleCutLength),p=_toConsumableArray(l),Q="".concat(s).replace(/%o|%s/gi,(function(){return shallowJson([p.shift()],c._consoleCutLength)})),h="[".concat(this._uuid,"-").concat(u,"][").concat(t,"-").concat(U,"]-").concat(n,"-").concat(e,"[").concat(r,"]").concat(i,"[").concat(a,".").concat(o,"] ").concat(Q," ").concat(F);d?d.reportLog(h):reportGlobalLog(h)}}},{key:"push",value:function(e){"OFF"!==this._enabled&&this.buffer.push(e)}},{key:"splice",value:function(e){if("ON"!==this._enabled)return{payload:[],payloadSize:0};var t=findSizeIndex(this.buffer,e),n=t.index,r=t.size;return{payload:this.buffer.splice(0,n),payloadSize:r}}},{key:"unshift",value:function(e){this.buffer=e.concat(this.buffer)}},{key:"get",value:function(){return this.buffer}},{key:"set",value:function(e){this.buffer=e.concat(this.buffer)}},{key:"isEmpty",value:function(){return"OFF"===this._enabled||0===this.buffer.length}}])}();function shallowJson(e,t){return e.map((function(e){var n="";try{if("string"==typeof e)return e;if(void 0===e)return"undefined";if(null===e)return"null";if(e instanceof MediaStreamTrack)return mediaTrackStringify(e);if(e instanceof MediaStream)return mediaStreamStringify(e);if(e instanceof RTCRtpSender)return mediaSenderStringify(e);if(e instanceof RTCRtpReceiver)return mediaReceiverStringify(e);if(e instanceof RTCRtpTransceiver)return mediaTransceiverStringify(e);n=JSON.stringify(e)}catch(r){n=e.toString()}return n&&n.length>=t&&(n=n.slice(0,t)),n})).join(", ")}function findSizeIndex(e,t){for(var n=0,r=0;r<e.length;r++){var i=JSON.stringify(e[r]).length;if((n+=i)>t)return{index:r,size:n-i}}return{index:e.length,size:n}}var consoleReportor=new ConsoleReportor,colorMap={DEBUG:"rgba(0, 0, 0, 0)"," INFO":"rgba(93, 173, 226, 0)"," WARN":"rgba(255, 119, 0, 0.3)",ERROR:"rgba(255, 0, 0, 0.3)"," SUCC":"rgba(0, 119, 0, 0.3)"},DEBUG="undefined"!=typeof window&&(window.location.search.includes("_rtc_debug_")||(null==(_n=window.localStorage)?void 0:_n.getItem("_rtc_debug_"))),Logger$1=function(){return _createClass$1((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"global";_classCallCheck$1(this,e),__publicField(this,"indent"),__publicField(this,"module"),__publicField(this,"_engineId"),this.module=t,this.indent=n,this._engineId=r}),[{key:"_print",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o=i.shift();try{var s=[].concat(i),l="".concat(o).replace(/%o/gi,(function(){var e=s.shift();return JSON.stringify(e)}));iDB.set("[VERTC][".concat(this.module,".").concat(t,"] ").concat(l," ").concat(s.map((function(e){return JSON.stringify(e)})).join(", ")))}catch(U){}for(var c="",d=0;d<this.indent;d++)c+="    ";var u=getTimestamp();consoleReportor.report("[VERTC]",this._engineId,u,e,c,this.module,t,o,i),DEBUG&&(n=console).log.apply(n,["%c".concat(u,"-[VERTC]%c[").concat(e,"]%c").concat(c,"[").concat(this.module,".").concat(t,"] ").concat(o),"color:#0050b3;","background-color:".concat(colorMap[e],";"),"color:#0050b3;"].concat(i))}},{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._print.apply(this,[" INFO",e].concat(n))}},{key:"debug",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._print.apply(this,["DEBUG",e].concat(n))}},{key:"info",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._print.apply(this,[" INFO",e].concat(n))}},{key:"warn",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._print.apply(this,[" WARN",e].concat(n))}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._print.apply(this,["ERROR",e].concat(n))}},{key:"success",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._print.apply(this,[" SUCC",e].concat(n))}}])}(),getTimestamp=function(){var e=new Date;return"".concat(e.toTimeString().split(" ")[0],":").concat(e.getMilliseconds().toString().padStart(3,"0"))},Logger$1$1=Logger$1,getServerConfig=function(e){var t=getMonitor(e.engineId),n={keys:e.keys,labelSelector:"",sdkVersion:e.sdkVersion,deviceType:"web",appId:e.appId,deviceId:e.deviceId,userAgent:"undefined"!=typeof navigator?navigator.userAgent:void 0},r=e.requestDomains.map((function(e){return"https://".concat(e,"/decision/v1/multi")}));null==t||t.report("rtc_get_config",{error_code:0,message:JSON.stringify(n),elapse:0,host:r.join(","),type:"request",config_id:"",enable_cloud_proxy:!1});var i=r.map(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()}));case 2:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,index:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return new Promise((function(e){promiseAny$1(i).then((function(n){var i=n.result,a=n.index;null==t||t.report("rtc_get_config",{error_code:200,message:JSON.stringify(i),elapse:0,host:r[a],type:"response",config_id:"",enable_cloud_proxy:!1}),e(i)})).catch((function(e){var n;null==t||t.report("rtc_get_config",{error_code:500,message:null==(n=e[0])?void 0:n.message,elapse:0,host:"",type:"response",config_id:"",enable_cloud_proxy:!1})}))}))},getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var byteToHex=[],_e26=0;_e26<256;++_e26)byteToHex.push((_e26+256).toString(16).slice(1));function unsafeStringify(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}var randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID:randomUUID};function v4(e,t,n){if(native.randomUUID&&!t&&!e)return native.randomUUID();var r=(e=e||{}).random||(e.rng||rng)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return unsafeStringify(r)}var libTypedarrays={exports:{}};function commonjsRequire$1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hasRequiredCore$1,core$1={exports:{}},__viteBrowserExternal$2=new Proxy({},{get:function(e,t){throw new Error('Module "" has been externalized for browser compatibility. Cannot access ".'.concat(t,'" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.'))}}),__viteBrowserExternal$1$1=Object.freeze({__proto__:null,default:__viteBrowserExternal$2}),require$$0$2=getAugmentedNamespace(__viteBrowserExternal$1$1);function requireCore$1(){return hasRequiredCore$1||(hasRequiredCore$1=1,core$1.exports=(e=e||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==commonjsGlobal&&commonjsGlobal.crypto&&(t=commonjsGlobal.crypto),!t&&"function"==typeof commonjsRequire$1)try{t=require$$0$2}catch(p){}var n=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(p){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(p){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},a=i.lib={},o=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new s.init(t,e)}}),l=i.enc={},c=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},u=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},U=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,l=a/(4*o),c=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*o,d=e.min(4*c,a);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(i,u);n=i.splice(0,c),r.sigBytes-=d}return new s.init(n,d)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=U.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){U.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new F.HMAC.init(e,n).finalize(t)}}});var F=i.algo={};return i}(Math),e)),core$1.exports;var e}!function(e,t){var n;libTypedarrays.exports=(n=requireCore$1(),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)}();var hasRequiredEncBase64,libTypedarraysExports=libTypedarrays.exports,WordArray=getDefaultExportFromCjs(libTypedarraysExports),aes={exports:{}},encBase64$1={exports:{}};function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,encBase64$1.exports=(e=requireCore$1(),function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,r){for(var i=[],a=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return n.create(i,a)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),encBase64$1.exports;var e}var hasRequiredMd5,md5$1={exports:{}};function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,md5$1.exports=(e=requireCore$1(),function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],F=e[t+2],p=e[t+3],Q=e[t+4],h=e[t+5],R=e[t+6],_=e[t+7],S=e[t+8],B=e[t+9],m=e[t+10],f=e[t+11],E=e[t+12],v=e[t+13],y=e[t+14],g=e[t+15],T=a[0],V=a[1],k=a[2],N=a[3];T=c(T,V,k,N,o,7,s[0]),N=c(N,T,V,k,l,12,s[1]),k=c(k,N,T,V,F,17,s[2]),V=c(V,k,N,T,p,22,s[3]),T=c(T,V,k,N,Q,7,s[4]),N=c(N,T,V,k,h,12,s[5]),k=c(k,N,T,V,R,17,s[6]),V=c(V,k,N,T,_,22,s[7]),T=c(T,V,k,N,S,7,s[8]),N=c(N,T,V,k,B,12,s[9]),k=c(k,N,T,V,m,17,s[10]),V=c(V,k,N,T,f,22,s[11]),T=c(T,V,k,N,E,7,s[12]),N=c(N,T,V,k,v,12,s[13]),k=c(k,N,T,V,y,17,s[14]),T=d(T,V=c(V,k,N,T,g,22,s[15]),k,N,l,5,s[16]),N=d(N,T,V,k,R,9,s[17]),k=d(k,N,T,V,f,14,s[18]),V=d(V,k,N,T,o,20,s[19]),T=d(T,V,k,N,h,5,s[20]),N=d(N,T,V,k,m,9,s[21]),k=d(k,N,T,V,g,14,s[22]),V=d(V,k,N,T,Q,20,s[23]),T=d(T,V,k,N,B,5,s[24]),N=d(N,T,V,k,y,9,s[25]),k=d(k,N,T,V,p,14,s[26]),V=d(V,k,N,T,S,20,s[27]),T=d(T,V,k,N,v,5,s[28]),N=d(N,T,V,k,F,9,s[29]),k=d(k,N,T,V,_,14,s[30]),T=u(T,V=d(V,k,N,T,E,20,s[31]),k,N,h,4,s[32]),N=u(N,T,V,k,S,11,s[33]),k=u(k,N,T,V,f,16,s[34]),V=u(V,k,N,T,y,23,s[35]),T=u(T,V,k,N,l,4,s[36]),N=u(N,T,V,k,Q,11,s[37]),k=u(k,N,T,V,_,16,s[38]),V=u(V,k,N,T,m,23,s[39]),T=u(T,V,k,N,v,4,s[40]),N=u(N,T,V,k,o,11,s[41]),k=u(k,N,T,V,p,16,s[42]),V=u(V,k,N,T,R,23,s[43]),T=u(T,V,k,N,B,4,s[44]),N=u(N,T,V,k,E,11,s[45]),k=u(k,N,T,V,g,16,s[46]),T=U(T,V=u(V,k,N,T,F,23,s[47]),k,N,o,6,s[48]),N=U(N,T,V,k,_,10,s[49]),k=U(k,N,T,V,y,15,s[50]),V=U(V,k,N,T,h,21,s[51]),T=U(T,V,k,N,E,6,s[52]),N=U(N,T,V,k,p,10,s[53]),k=U(k,N,T,V,m,15,s[54]),V=U(V,k,N,T,l,21,s[55]),T=U(T,V,k,N,S,6,s[56]),N=U(N,T,V,k,g,10,s[57]),k=U(k,N,T,V,R,15,s[58]),V=U(V,k,N,T,v,21,s[59]),T=U(T,V,k,N,Q,6,s[60]),N=U(N,T,V,k,f,10,s[61]),k=U(k,N,T,V,F,15,s[62]),V=U(V,k,N,T,B,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+V|0,a[2]=a[2]+k|0,a[3]=a[3]+N|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var a=t.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var d=l[c];l[c]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function u(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function U(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}n.MD5=a._createHelper(l),n.HmacMD5=a._createHmacHelper(l)}(Math),e.MD5)),md5$1.exports;var e}var hasRequiredSha1,evpkdf={exports:{}},sha1={exports:{}};function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,sha1.exports=(t=(e=s=requireCore$1()).lib,n=t.WordArray,r=t.Hasher,i=e.algo,a=[],o=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var d=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=d<<1|d>>>31}var u=(r<<5|r>>>27)+l+a[c];u+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,l=s,s=o,o=i<<30|i>>>2,i=r,r=u}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=r._createHelper(o),e.HmacSHA1=r._createHmacHelper(o),s.SHA1)),sha1.exports;var e,t,n,r,i,a,o,s}var hasRequiredHmac$1,hasRequiredEvpkdf,hmac$1={exports:{}};function requireHmac$1(){return hasRequiredHmac$1||(hasRequiredHmac$1=1,hmac$1.exports=(t=(e=requireCore$1()).lib.Base,n=e.enc.Utf8,void(e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,c=0;c<r;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))),hmac$1.exports;var e,t,n}function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,evpkdf.exports=(s=requireCore$1(),requireSha1(),requireHmac$1(),n=(t=(e=s).lib).Base,r=t.WordArray,a=(i=e.algo).MD5,o=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,a=i.hasher.create(),o=r.create(),s=o.words,l=i.keySize,c=i.iterations;s.length<l;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var d=1;d<c;d++)n=a.finalize(n),a.reset();o.concat(n)}return o.sigBytes=4*l,o}}),e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)},s.EvpKDF)),evpkdf.exports;var e,t,n,r,i,a,o,s}var hasRequiredCipherCore,cipherCore={exports:{}};function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,cipherCore.exports=(e=requireCore$1(),requireEvpkdf(),void(e.lib.Cipher||function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,o=t.enc;o.Utf8;var s=o.Base64,l=t.algo.EvpKDF,c=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:h}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()});n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=t.mode={},u=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),U=d.CBC=function(){var e=u.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=undefined):r=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=a}}),e}(),F=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,a=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(a);var l=i.create(o,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:U,padding:F}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var p=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),Q=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(s)},parse:function(e){var t,n=s.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},h=n.SerializableCipher=r.extend({cfg:r.extend({format:Q}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return p.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),R=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,a){if(r||(r=i.random(8)),a)o=l.create({keySize:t+n,hasher:a}).compute(e,r);else var o=l.create({keySize:t+n}).compute(e,r);var s=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,p.create({key:o,iv:s,salt:r})}},_=n.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:R}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var a=h.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,h.decrypt.call(this,e,t,i.key,r)}})}()))),cipherCore.exports;var e}!function(e,t){var n;aes.exports=(n=requireCore$1(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],a=[],o=[],s=[],l=[],c=[],d=[],u=[],U=[],F=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,a[p]=n;var Q=e[n],h=e[Q],R=e[h],_=257*e[p]^16843008*p;o[n]=_<<24|_>>>8,s[n]=_<<16|_>>>16,l[n]=_<<8|_>>>24,c[n]=_,_=16843009*R^65537*h^257*Q^16843008*n,d[p]=_<<24|_>>>8,u[p]=_<<16|_>>>16,U[p]=_<<8|_>>>24,F[p]=_,n?(n=Q^e[e[e[R^Q]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],Q=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<r;o++)o<n?a[o]=t[o]:(c=a[o-1],o%n?n>6&&o%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[o/n|0]<<24),a[o]=a[o-n]^c);for(var s=this._invKeySchedule=[],l=0;l<r;l++){if(o=r-l,l%4)var c=a[o];else c=a[o-4];s[l]=l<4||o<=4?c:d[i[c>>>24]]^u[i[c>>>16&255]]^U[i[c>>>8&255]]^F[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,u,U,F,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var l=this._nRounds,c=e[t]^n[0],d=e[t+1]^n[1],u=e[t+2]^n[2],U=e[t+3]^n[3],F=4,p=1;p<l;p++){var Q=r[c>>>24]^i[d>>>16&255]^a[u>>>8&255]^o[255&U]^n[F++],h=r[d>>>24]^i[u>>>16&255]^a[U>>>8&255]^o[255&c]^n[F++],R=r[u>>>24]^i[U>>>16&255]^a[c>>>8&255]^o[255&d]^n[F++],_=r[U>>>24]^i[c>>>16&255]^a[d>>>8&255]^o[255&u]^n[F++];c=Q,d=h,u=R,U=_}Q=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&U])^n[F++],h=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[U>>>8&255]<<8|s[255&c])^n[F++],R=(s[u>>>24]<<24|s[U>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^n[F++],_=(s[U>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[F++],e[t]=Q,e[t+1]=h,e[t+2]=R,e[t+3]=_},keySize:8});e.AES=t._createHelper(Q)}(),n.AES)}();var aesExports=aes.exports,encHex$1={exports:{}};encHex$1.exports=requireCore$1().enc.Hex;var encHexExports$1=encHex$1.exports,encHex$2=getDefaultExportFromCjs(encHexExports$1),modeCtr={exports:{}};!function(e,t){var n,r,i;modeCtr.exports=(i=requireCore$1(),requireCipherCore(),i.mode.CTR=(r=(n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var o=a.slice(0);n.encryptBlock(o,0),a[r-1]=a[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=o[s]}}),n.Decryptor=r,n),i.mode.CTR)}();var modeCtrExports=modeCtr.exports,ModeCTR=getDefaultExportFromCjs(modeCtrExports),padNopadding={exports:{}};!function(e,t){var n;padNopadding.exports=(n=requireCore$1(),requireCipherCore(),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)}();var padNopaddingExports=padNopadding.exports,PadNoPadding=getDefaultExportFromCjs(padNopaddingExports),textDecoder=new TextDecoder,textEncoder=new TextEncoder,genUuid=function(){return v4()},getServerNow=function(){return Date.now()};function concatenate(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t+=o[a].length}for(var s=new e(t),l=0,c=0,d=r;c<d.length;c++){var u=d[c];s.set(u,l),l+=u.length}return s}var Utils=function(){function e(){_classCallCheck$1(this,e)}return _createClass$1(e,null,[{key:"token2auth",value:function(t,n,r,i){return i?"Bearer ".concat(i):"Basic ".concat(e.createUnsafeToken(t,n,r))}},{key:"createUnsafeToken",value:function(e,t,n){return window.btoa([e,t,n].filter((function(e){return null!==e})).join(":"))}},{key:"merge",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0,i=Object.entries(t);r<i.length;r++){var a=_slicedToArray(i[r],2),o=a[0],s=a[1];null!==s&&"object"==_typeof$1(s)?e.merge(t[o],n[o]):void 0!==n[o]&&(t[o]=n[o])}}},{key:"ab2str",value:function(e){return textDecoder.decode(e)}},{key:"ab2obj",value:function(t){try{var n=e.ab2str(t);return JSON.parse(n)}catch(r){return{}}}},{key:"str2ab",value:function(e){return textEncoder.encode(e).buffer}},{key:"ab2b64strSync",value:function(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return window.btoa(t)}},{key:"ab2b64str",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsDataURL(new Blob([t]))}));case 2:return e.abrupt("return",e.sent.split(",",2)[1]);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"b64str2ab",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("data:application/octet;base64,".concat(t)).then((function(e){return e.arrayBuffer()})).catch((function(e){throw n&&n.report("rtc_error",{error_code:2001,message:"".concat(e.message," -> ").concat(t)}),e})));case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]);var t,n}();function createRandomId(){for(var e=Number("".concat(Math.random()).slice(-7).padEnd(7,"0")).toString(2).padEnd(28,"1").split(""),t=[];e.length;)t.push(e.splice(0,7));return t.map((function(e,n){var r=n===t.length-1?"0":"1";return Number.parseInt(r+e.join(""),2)}))}var genEventSessionId=function(){return Math.floor(65535*Math.random())};function isByteId(e){return!(128&~e)}function isRttMessage(e){return"string"==typeof e&&e.indexOf("__web__rtc__rtt__")>-1}function randomNum(e){for(var t="",n=0;n<e;n++)t+=Math.floor(10*Math.random());return t}var createDefaultSdp=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],(n=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"})).createDataChannel("default"),n.addTransceiver("audio",{direction:"recvonly"}),n.addTransceiver("video",{direction:"recvonly"}),t&&(n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"sendonly"})),e.next=5,n.createOffer();case 5:return r=e.sent,e.abrupt("return",(n.close(),r.sdp));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),promiseAny=function(e){return new Promise((function(t,n){var r=(e=Array.isArray(e)?e:[]).length,i=[];0===r?n([]):e.forEach((function(e){e.then((function(e){t(e)}),(function(e){r--,i.push(e),0===r&&n(i)}))}))}))};function getNonlinearVolume(e){return Number(Math.max(-127,10*Math.log10(Math.pow(e/255,2))).toFixed(2))}function audioInMediaType(e){return(e&MediaType$1.AUDIO)===MediaType$1.AUDIO}function videoInMediaType(e){return(e&MediaType$1.VIDEO)===MediaType$1.VIDEO}function getPublicStats(e){var t={};return Object.keys(e).forEach((function(n){"object"==_typeof$1(e[n])?t[n]=getPublicStats(e[n]):n.startsWith("_")||(t[n]=e[n])})),t}function splitPublicStreamSei(e){var t=new DataView(e.buffer);if(t.byteLength<=4||65535!==t.getUint16(0))return{seiCount:1,seis:[e]};for(var n={seiCount:0,seis:[]},r=!1,i=2;i<t.byteLength;){var a=t.getUint16(i);if(i+=2,t.byteLength-i<a){r=!0;break}var o=new Uint8Array(e.buffer,i,a);if(i+=a,t.byteLength-i>0&&t.byteLength-i<=2){r=!0;break}n.seiCount++,n.seis.push(o)}return r&&(n.seiCount=1,n.seis=[e]),n}function isUndefined$2(e){return void 0===e}function warnDeprecatedApi(e){return function(t,n,r){var i=r.value;r.value=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return console.warn("[RTC WebSDK]: Api: ".concat(n," has been abandoned from version ").concat(e)),i.apply(this,r)}}}function warnDevelopers(e){console.warn("[RTC WebSDK]: ".concat(e))}function constraints2number(e){return"number"==typeof e?e:"number"==typeof(null==e?void 0:e.exact)?e.exact:"number"==typeof(null==e?void 0:e.ideal)?e.ideal:"number"==typeof(null==e?void 0:e.max)?e.max:"number"==typeof(null==e?void 0:e.min)?e.min:1}function setJoinRoomInfo(e,t,n){if("function"==typeof n.value){var r=n.value;n.value=function(){for(var e,t=getMonitor(this.id),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return null==t||t.set({room_id:i[1],user_id:null==(e=i[2])?void 0:e.userId}),r.apply(this,i)}}}var MessageId=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"_id"),this._id=Math.ceil(Math.random()*Number.MAX_SAFE_INTEGER)}),[{key:"getMessageId",value:function(){return++this._id>Number.MAX_SAFE_INTEGER&&(this._id=0),this._id}}])}();function base64ToUint8(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function uint8ToBase64(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function aesCtrEncrypt(e,t,n){var r=uint8ArrayToWordArray(e),i=uint8ArrayToWordArray(t),a=uint8ArrayToWordArray(n);return wordArrayToUint8Array(aesExports.encrypt(r,i,{iv:a,mode:ModeCTR,padding:PadNoPadding}).ciphertext)}function wordArrayToUint8Array(e){for(var t=e.toString(encHex$2),n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=parseInt(t.substr(r,2),16);return n}function uint8ArrayToWordArray(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|(e[n+1]||0)<<16|(e[n+2]||0)<<8|(e[n+3]||0));return WordArray.create(t,e.length)}var EngineEventsTypes=function(e){return e.onTrackEnded="onTrackEnded",e.onTrackMute="onTrackMute",e.onTrackUnmute="onTrackUnmute",e.onPlayerEvent="onPlayerEvent",e.onAutoplayFailed="onAutoplayFailed",e.onUserJoined="onUserJoined",e.onUserLeave="onUserLeave",e.onConnectionStateChanged="onConnectionStateChanged",e.onUserPublishStream="onUserPublishStream",e.onUserUnpublishStream="onUserUnpublishStream",e.onUserPublishScreen="onUserPublishScreen",e.onUserUnpublishScreen="onUserUnpublishScreen",e.onRoomMessageReceived="onRoomMessageReceived",e.onRoomBinaryMessageReceived="onRoomBinaryMessageReceived",e.onUserMessageReceived="onUserMessageReceived",e.onUserBinaryMessageReceived="onUserBinaryMessageReceived",e.onVideoFirstFrameRendered="onVideoFirstFrameRendered",e.onVideoFirstFrameDecoded="onVideoFirstFrameDecoded",e.onRemoteVideoFirstFrame="onRemoteVideoFirstFrame",e.onAudioFirstFrameDecoded="onAudioFirstFrameDecoded",e.onRemoteAudioFirstFrame="onRemoteAudioFirstFrame",e.onFirstPublicStreamVideoFrameRendered="onFirstPublicStreamVideoFrameRendered",e.onFirstPublicStreamVideoFrameDecoded="onFirstPublicStreamVideoFrameDecoded",e.onFirstPublicStreamAudioFrameDecoded="onFirstPublicStreamAudioFrameDecoded",e.onVideoDeviceStateChanged="onVideoDeviceStateChanged",e.onAudioDeviceStateChanged="onAudioDeviceStateChanged",e.onRemoteStreamStats="onRemoteStreamStats",e.onPublicStreamStats="onPublicStreamStats",e.onLocalStreamStats="onLocalStreamStats",e.onAudioVolumeIndication="onAudioVolumeIndication",e.onLocalAudioPropertiesReport="onLocalAudioPropertiesReport",e.onRemoteAudioPropertiesReport="onRemoteAudioPropertiesReport",e.onActiveSpeaker="onActiveSpeaker",e.onAudioPlaybackDeviceChanged="onAudioPlaybackDeviceChanged",e.onUserStartVideoCapture="onUserStartVideoCapture",e.onUserStopVideoCapture="onUserStopVideoCapture",e.onUserStartAudioCapture="onUserStartAudioCapture",e.onUserStopAudioCapture="onUserStopAudioCapture",e.onAutoPublishResult="onAutoPublishResult",e.onAutoSubscribeResult="onAutoSubscribeResult",e.onLiveTranscodingResult="onLiveTranscodingResult",e.onStreamMixingEvent="onStreamMixingEvent",e.onAudioPlaybackDeviceTestVolume="onAudioPlaybackDeviceTestVolume",e.onSEIMessageReceived="onSEIMessageReceived",e.onError="onError",e.onAudioMixingStateChanged="onAudioMixingStateChanged",e.onUserMessageReceivedOutsideRoom="onUserMessageReceivedOutsideRoom",e.onUserBinaryMessageReceivedOutsideRoom="onUserBinaryMessageReceivedOutsideRoom",e.onTokenWillExpire="onTokenWillExpire",e.onTokenPublishPrivilegeWillExpire="onTokenPublishPrivilegeWillExpire",e.onTokenPublishPrivilegeDidExpired="onTokenPublishPrivilegeDidExpired",e.onTokenSubscribePrivilegeWillExpire="onTokenSubscribePrivilegeWillExpire",e.onTokenSubscribePrivilegeDidExpired="onTokenSubscribePrivilegeDidExpired",e.onCloudProxyConnected="onCloudProxyConnected",e.onPushPublicStreamResult="onPushPublicStreamResult",e.onPublicStreamSEIMessageReceived="onPublicStreamSEIMessageReceived",e.onNetworkQuality="onNetworkQuality",e.onSimulcastSubscribeFallback="onSimulcastSubscribeFallback",e.onRemoteVideoSizeChanged="onRemoteVideoSizeChanged",e.onVideoStreamBanned="onVideoStreamBanned",e.onAudioStreamBanned="onAudioStreamBanned",e.onLocalVideoSizeChanged="onLocalVideoSizeChanged",e.onSubtitleStateChanged="onSubtitleStateChanged",e.onSubtitleMessageReceived="onSubtitleMessageReceived",e.onServerParamsSetResult="onServerParamsSetResult",e.onLocalStreamTrackChangedByExtension="onLocalStreamTrackChangedByExtension",e.onVendorConnectionStateChanged="onVendorConnectionStateChanged",e.onForwardStreamError="onForwardStreamError",e.onRejoinWithTcp="onRejoinWithTcp",e.onIceConnectWithTcp="onIceConnectWithTcp",e.onPublishRetry="onPublishRetry",e.onSubscribeRetry="onSubscribeRetry",e.onPublishResult="onPublishResult",e.onSubscribeResult="onSubscribeResult",e.onSEIStreamUpdate="onSEIStreamUpdate",e}(EngineEventsTypes||{}),isSSR=function(){return"undefined"==typeof window},userAgentString=isSSR()?"":window.navigator.userAgent;function getBrowser(){var e="none";return isSSR()||(null!==userAgentString.match("Firefox")?e="mozilla":null!==userAgentString.match("Chrome")?(e="chrome-stable",null!==userAgentString.match("Electron")&&(e="electron")):(null!==userAgentString.match("Safari")||null!==userAgentString.match("AppleWebKit"))&&(e="safari")),e}var isFirefox="mozilla"===getBrowser(),isSafari="safari"===getBrowser(),isChrome="chrome-stable"===getBrowser(),isCriOS=!isSSR()&&/CriOS/i.test(userAgentString),isEdgeForDesktop=!isSSR()&&/Edg\//i.test(userAgentString),isEdgeForAndroid=!isSSR()&&/EdgA/i.test(userAgentString),isEdgeForIOS=!isSSR()&&/EdgiOS/i.test(userAgentString),isEdge=isEdgeForDesktop||isEdgeForAndroid||isEdgeForIOS,isDingTalk=!isSSR()&&/DingTalk/i.test(navigator.userAgent),isIPad=!isSSR()&&(!!/(iPad)/i.exec(userAgentString)||/Macintosh/i.test(userAgentString)&&"ontouchend"in document),isMac=!isSSR()&&/Macintosh/i.test(userAgentString),isWeChat=!isSSR()&&/MicroMessenger/i.test(userAgentString),isMobile$2=!isSSR()&&userAgentString.toLowerCase().includes("mobile"),isIOS=!isSSR()&&!!/(iPhone|iPad|iPod)/i.exec(userAgentString),isAndroid=!isSSR()&&/Android/i.test(userAgentString),isWindows=!isSSR()&&/Windows/i.test(userAgentString),sv=0,sv2="0",v$1=!isSSR()&&(null==(_o=userAgentString.match(/version\/(\d+)/i))?void 0:_o[1]);isSafari&&v$1&&(sv=Number(v$1),sv2=null==(_p=navigator.userAgent.match(/version\/(\d+\.\d+)/i))?void 0:_p[1]);var v2=!isSSR()&&(null==(_q=userAgentString.match(/Firefox\/(\d+)/i))?void 0:_q[1]);isFirefox&&v2&&(sv=Number(v2));var safariVersion=sv,firefoxVersion=sv,safariMinorVersion=sv2,iOSVersion=null!==(_ref15=!isSSR()&&(null==(_s=null==(_r=userAgentString.match(/ ([\d_]+) like Mac OS X/i))?void 0:_r[1])?void 0:_s.split("_").map((function(e){return parseInt(e)}))))&&void 0!==_ref15?_ref15:[],cv=0,cvs=!isSSR()&&(null==(_t=userAgentString.match(/Chrome\/(\d+)/i))?void 0:_t[1]);cvs&&(cv=Number(cvs));var chromeVersion=cv,PLATFORM_KEY="VolcEngine",RTC_DEVICE_ID="RTC_DEVICE_ID",RTC_ACCESS_NODE="RTC_ACCESS_NODE",RTC_ACCESS_URLS="RTC_ACCESS_URLS",ENGINE_WEB_CONFIG="ENGINE_WEB_CONFIG",SERVER_CONFIG="SERVER_CONFIG",Cache=function(){return _createClass$1((function e(){_classCallCheck$1(this,e)}),[{key:"get",value:function(e){var t=localStorage.getItem(e);if(!t)return null;try{var n=JSON.parse(t);return n.ttl>0&&Date.now()-n.saveTime>n.ttl?(this.delete(e),null):n.message}catch(r){return null}}},{key:"set",value:function(e,t){var n={ttl:arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,saveTime:Date.now(),message:t};try{return localStorage.setItem(e,JSON.stringify(n)),!0}catch(r){return!1}}},{key:"getTtl",value:function(e){var t=localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t).ttl}catch(n){return null}}},{key:"delete",value:function(e){try{return localStorage.removeItem(e),!0}catch(t){return!1}}}])}(),SDKCache=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"_accessVersion","v2"),e}return _inherits(t,e),_createClass$1(t,[{key:"getDeviceId",value:function(){if(isSSR())return"";var e=this.get(RTC_DEVICE_ID);return e&&!/^[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}$/.test(e)||(e=randomNum(30)),this.setDeviceId(e),e}},{key:"setDeviceId",value:function(e){return setGlobalStats({device_id:e}),this.set(RTC_DEVICE_ID,e),e}},{key:"getAccessKey",value:function(e){return"".concat(RTC_ACCESS_NODE,"_").concat(e,"-").concat(PLATFORM_KEY,"-").concat(this._accessVersion)}},{key:"getAccessNode",value:function(e){return this.get(this.getAccessKey(e))}},{key:"setAccessNode",value:function(e,t,n){return this.set(this.getAccessKey(e),t,1e3*n)}},{key:"deleteAccessNode",value:function(e,t){var n=this.getAccessNode(e),r=this.getTtl(this.getAccessKey(e));Array.isArray(n)&&n.length>0&&((n=n.filter((function(e){return e.mediaID!==t.mediaID&&e.msgKey!==t.msgKey}))).length>0?this.setAccessNode(e,n,r||0):this.clearAccessNode(e))}},{key:"clearAccessNode",value:function(e){this.delete(this.getAccessKey(e))}},{key:"getAccessUrls",value:function(){return this.get("".concat(RTC_ACCESS_URLS,"-").concat(PLATFORM_KEY))}},{key:"setAccessUrls",value:function(e){var t=e.map((function(e){var t=e.host,n=e.path;return"https://".concat(t).concat(n)}));return this.set("".concat(RTC_ACCESS_URLS,"-").concat(PLATFORM_KEY),t)}},{key:"clearAccessUrls",value:function(){this.delete("".concat(RTC_ACCESS_URLS,"-").concat(PLATFORM_KEY))}},{key:"getEngineWebConfig",value:function(e,t){var n,r="".concat(e,"_").concat(t,"_").concat(this.getDeviceId()),i=this.get(ENGINE_WEB_CONFIG);return(null==(n=null==i?void 0:i.find((function(e){return e.key===r})))?void 0:n.config)||{}}},{key:"setEngineWebConfig",value:function(e,t,n){if(n){var r="".concat(e,"_").concat(t,"_").concat(this.getDeviceId()),i=this.get(ENGINE_WEB_CONFIG)||[];return(i=i.filter((function(e){return e.key!==r}))).push({key:r,config:n}),this.set(ENGINE_WEB_CONFIG,i.slice(-5))}}},{key:"getServerConfig",value:function(e){var t,n="".concat(e),r=this.get(SERVER_CONFIG);return(null==(t=null==r?void 0:r.find((function(e){return e.key===n})))?void 0:t.config)||{}}},{key:"setServerConfig",value:function(e,t){if(t){var n="".concat(e),r=this.get(SERVER_CONFIG)||[];return(r=r.filter((function(e){return e.key!==n}))).push({key:n,config:t}),this.set(SERVER_CONFIG,r.slice(-5))}}}])}(Cache),sdkCache=new SDKCache,logger$b=new Logger$1$1("JoinRoomConfig",0),_JoinRoomConfig2=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_useTcpAfterJoinTimeout",_JoinRoomConfig2.DEFAULT_CONF.useTcpAfterJoinTimeout),__publicField(this,"_joinWithTcpOnly",_JoinRoomConfig2.DEFAULT_CONF.joinWithTcpOnly),__publicField(this,"_joinWithTcpOnlyDelay",_JoinRoomConfig2.DEFAULT_CONF.joinWithTcpOnlyDelay),__publicField(this,"_blackBrowserRegexList",[]),this._engineId=t,location.search.indexOf("__rtc_tcp_only__")>-1&&(this._joinWithTcpOnly=!0,this._joinWithTcpOnlyDelay=0),this._report()}),[{key:"useTcpAfterJoinTimeout",get:function(){return this._useTcpAfterJoinTimeout}},{key:"useTcpJoin",get:function(){return this._joinWithTcpOnly}},{key:"useTcpJoinDelay",get:function(){return this._joinWithTcpOnlyDelay}},{key:"isBlackBrower",value:function(){return this._blackBrowserRegexList.find((function(e){return new RegExp(e).test(navigator.userAgent)}))}},{key:"setServerConfig",value:function(e){var t,n,r,i,a,o,s=!1;"boolean"==typeof(null==(t=null==e?void 0:e.use_tcp_after_join_timeout)?void 0:t.enable)&&(this._useTcpAfterJoinTimeout=null==(n=e.use_tcp_after_join_timeout)?void 0:n.enable,s=!0),"boolean"==typeof(null==(r=null==e?void 0:e.join_with_tcp_only)?void 0:r.enable)&&(this._joinWithTcpOnly=null==(i=e.join_with_tcp_only)?void 0:i.enable,s=!0),"number"==typeof(null==(a=null==e?void 0:e.join_with_tcp_only)?void 0:a.delay_ms)&&(this._joinWithTcpOnlyDelay=null==(o=e.join_with_tcp_only)?void 0:o.delay_ms,s=!0),e&&Array.isArray(e.black_browser_regex_list)&&(this._blackBrowserRegexList=e.black_browser_regex_list,s=!0),s&&this._report()}},{key:"toString",value:function(){return JSON.stringify({use_tcp_after_join_timeout:this._useTcpAfterJoinTimeout,join_with_tcp_only:this._joinWithTcpOnly,join_with_tcp_only_delay:this._joinWithTcpOnlyDelay,black_browser_regex_list:this._blackBrowserRegexList})}},{key:"_report",value:function(){logger$b.print("_report",this.toString()),reportRtcInvokeStatus(this._engineId,"web_join_room_config",this.toString())}}],[{key:"setDefaulConf",value:function(e){var t=e.useTcpAfterJoinTimeout,n=e.joinWithTcpOnly,r=e.joinWithTcpOnlyDelay;return"boolean"==typeof t&&(_JoinRoomConfig2.DEFAULT_CONF.useTcpAfterJoinTimeout=t),"boolean"==typeof n&&(_JoinRoomConfig2.DEFAULT_CONF.joinWithTcpOnly=n),"number"==typeof r&&(_JoinRoomConfig2.DEFAULT_CONF.joinWithTcpOnlyDelay=Math.max(0,r)),_JoinRoomConfig2.DEFAULT_CONF}}])}(),JoinRoomConfig=_JoinRoomConfig2;__publicField(JoinRoomConfig,"DEFAULT_CONF",{useTcpAfterJoinTimeout:!0,joinWithTcpOnly:!1,joinWithTcpOnlyDelay:5e3});var isSupported$1=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=!(isSSR()||!window.RTCPeerConnection||!window.RTCPeerConnection.prototype.addTransceiver||!window.RTCPeerConnection.prototype.createDataChannel),!e.t0){e.next=11;break}return e.next=5,isH264DecodeSupported();case 5:if(e.t1=e.sent,!e.t1){e.next=10;break}return e.next=9,isH264EncodeSupported();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:return e.abrupt("return",e.t0);case 14:return e.prev=14,e.t2=e.catch(0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),internalGetSupportedCodecs=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,isH264DecodeSupported();case 3:if(e.t0=e.sent,!e.t0){e.next=8;break}return e.next=7,isH264EncodeSupported();case 7:e.t0=e.sent;case 8:if(e.t1=e.t0,!e.t1){e.next=11;break}t.push("H264");case 11:return e.next=13,isVP8DecodeSupported();case 13:if(e.t2=e.sent,!e.t2){e.next=18;break}return e.next=17,isVP8EncodeSupported();case 17:e.t2=e.sent;case 18:if(e.t3=e.t2,!e.t3){e.next=21;break}t.push("vp8");case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSupportedCodecs=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,internalGetSupportedCodecs();case 2:return e.abrupt("return",e.sent.map((function(e){return e.toUpperCase()})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),codecsSupportMap={};function supportH264(e){var t,n=!1,r=_createForOfIteratorHelper$1(e.split("\n"));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.includes("level-asymmetry-allowed=1")&&i.includes("packetization-mode=1")&&i.includes("profile-level-id=42e0")){n=!0;break}}}catch(err2){r.e(err2)}finally{r.f()}if(n){var a,o=navigator.userAgent.toLowerCase(),s=!1,l=_createForOfIteratorHelper$1(getParameter("H264_BLACK_LIST"));try{for(l.s();!(a=l.n()).done;){a.value.test(o)&&(s=!0)}}catch(err2){l.e(err2)}finally{l.f()}return!s}return!1}var createOfferSdp=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new RTCPeerConnection).addTransceiver("video",{direction:t}),e.next=4,n.createOffer();case 4:return r=e.sent,e.abrupt("return",(n.close(),r.sdp.toLowerCase()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),checkCodecsEncodeSupport=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,createOfferSdp("sendonly");case 2:if(t=e.sent,e.t0=navigator.userAgent.includes("VivoBrowser"),!e.t0){e.next=8;break}return e.next=7,createOfferSdp("sendonly");case 7:t=e.sent;case 8:return codecsSupportMap.h264encode=supportH264(t),codecsSupportMap.vp8encode=t.indexOf("vp8")>-1,e.abrupt("return",codecsSupportMap);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkCodecsDecodeSupport=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,createOfferSdp("recvonly");case 2:if(t=e.sent,e.t0=navigator.userAgent.includes("VivoBrowser"),!e.t0){e.next=8;break}return e.next=7,createOfferSdp("recvonly");case 7:t=e.sent;case 8:return codecsSupportMap.h264decode=supportH264(t),codecsSupportMap.vp8decode=t.indexOf("vp8")>-1,e.abrupt("return",codecsSupportMap);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isH264EncodeSupported=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==codecsSupportMap.h264encode){e.next=9;break}return e.prev=1,e.next=4,checkCodecsEncodeSupport();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",!1);case 9:return e.abrupt("return",codecsSupportMap.h264encode||!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),isH264DecodeSupported=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==codecsSupportMap.h264decode){e.next=9;break}return e.prev=1,e.next=4,checkCodecsDecodeSupport();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",!1);case 9:return e.abrupt("return",codecsSupportMap.h264decode||!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),isVP8EncodeSupported=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==codecsSupportMap.vp8encode){e.next=9;break}return e.prev=1,e.next=4,checkCodecsEncodeSupport();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",!1);case 9:return e.abrupt("return",codecsSupportMap.vp8encode||!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),isVP8DecodeSupported=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==codecsSupportMap.vp8decode){e.next=9;break}return e.prev=1,e.next=4,checkCodecsDecodeSupport();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",!1);case 9:return e.abrupt("return",codecsSupportMap.vp8decode||!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),isEncodedTransformSupported=function(){return"undefined"!=typeof TransformStream&&"undefined"!=typeof RTCRtpSender&&"undefined"!=typeof RTCRtpReceiver&&void 0!==RTCRtpSender.prototype.createEncodedStreams&&void 0!==RTCRtpReceiver.prototype.createEncodedStreams},isWebAudioSupported=function(){return isMac?isChrome&&chromeVersion>=70||isFirefox&&firefoxVersion>=80||isSafari&&safariVersion>=14:isWindows?isChrome&&chromeVersion>=70||isFirefox&&firefoxVersion>=80:isIOS?iOSVersion[0]>=14:!!isAndroid&&isChrome&&chromeVersion>=86},isStatsCallbackSupport=isChrome&&chromeVersion<=114,isTransportCCSupport=!isFirefox||firefoxVersion>=96,isRRTRSupported=!(isSafari&&safariVersion<=14),unsupportedSimultaneousCapture=isAndroid&&isChrome||isIOS&&iOSVersion[0]>=16,internalAccessDomains="access.rtc.volcvideo.com,access2-hl.rtc.volcvideo.com,rtcg-access.volcvideos.com".split(",");function getFullAccessUrl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^https?:\/\/.+/.test(e)||(e="https://".concat(e)),"".concat(e,"/dispatch/v1/AccessInfo?Action=GetAccessInfo")}function getFullLogServerUrl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^https?:\/\/.+/.test(e)||(e="https://".concat(e)),"".concat(e,"/video/v1/webrtc_log/")}var domesticLogServerUrl="https://web-log-report.rtc.volcvideo.com/video/v1/webrtc_log/",overseasLogServerUrl="https://web-log-report.volcvideos.com/video/v1/webrtc_log/",configDomains="common.rtc.volcvideo.com,rtcg.volcvideos.com".split(","),Config2={VERSION:"4.60.24",ICE_CONFIG_REQUEST_URLS_INTERNAL:internalAccessDomains.map(getFullAccessUrl),ICE_CONFIG_REQUEST_URLS:[],EXPECTED_ADDR:"",LOG_SERVER_URL:domesticLogServerUrl,CONFIG_REQUEST_DOMAINS:configDomains,DEVICE_ID:"",OVERSEA:!1,PLATFORM:"",PRODUCT:"",FORCE_ENABLED_REPORT_CALLBACKS:[],SKIP_WEB_AUDIO_IN_TRACK:!1,AUDIO_STALL:!0,VIDEO_STALL:!0,VIDEO_STALL_100MS:!1,STATS_SCALLBACK_SUPPORT:!0,JOIN_ROOM_CONFIG:JoinRoomConfig.DEFAULT_CONF,SIGNAL_COMPRESSION:!0,SIGNAL_CROP_JOINROOM:!0,VIDEO_STALL_DATA:500,AUDIO_STALL_DATA:200,IOS_SAFARI_ORIENTATION:!1,BLACK_FRAME_LIFETIME:6e4,FALLBACK_ENCODE_CODEC:"",SEI_TIME_OUT:2e3,SEI_COUNT_FPS:1,HIDDEN_STATS:!1,H264_BLACK_LIST:[/miuibrowser/,/70.*HeyTapBrowser/i],ENABLE_FALLBACK_HANDLER:!1,ENABLE_STANDARD_HANDLER:!1,PC_KILLSWITCH:{}};function setParameter(e,t){if(reportGlobalApiCall("setParameter",0,"key: ".concat(e,", value: ").concat(t)),"VERSION"!==e){if("JOIN_ROOM_CONFIG"===e)return JoinRoomConfig.setDefaulConf(t);if("ICE_CONFIG_REQUEST_URLS"!==e)if("VIDEO_STALL_DATA"!==e)if("AUDIO_STALL_DATA"!==e)if("VIDEO_STALL_100MS"!==e)if("PLATFORM"!==e||"string"!=typeof t)if("PRODUCT"!==e||"string"!=typeof t)if("FORCE_ENABLED_REPORT_CALLBACKS"!==e){if("LOG_SERVER_URL"===e){var n=t===LogChannel.overseas?overseasLogServerUrl:t===LogChannel.domestic?domesticLogServerUrl:"string"==typeof t?t:void 0;n&&(Config2.LOG_SERVER_URL=n,setReportUrl(n))}else if("OVERSEA"===e)return setGlobalStats({extra_is_oversea:t?"1":"0"}),void(Config2.OVERSEA=t);"CONFIG_REQUEST_DOMAINS"===e&&Array.isArray(t)&&t.length>0?Config2.CONFIG_REQUEST_DOMAINS=t:"SEI_TIME_OUT"===e&&"number"!=typeof t||"SEI_COUNT_FPS"===e&&"number"!=typeof t||("DEVICE_ID"===e&&sdkCache.setDeviceId(t),CoreConfig.getKeys().includes(e)?CoreConfig.setParameter(e,t):(Config2[e]=t,"H264_BLACK_LIST"===e&&(checkCodecsEncodeSupport(),checkCodecsDecodeSupport())))}else{var r="string"==typeof t?[t]:t;Config2.FORCE_ENABLED_REPORT_CALLBACKS=r}else setGlobalStats({product:t});else setGlobalStats({platform:t});else Config2.VIDEO_STALL_100MS=checkVideoFrameCallback()&&!!t;else Config2.AUDIO_STALL_DATA=Math.max(200,Number(t));else Config2.VIDEO_STALL_DATA=Math.max(500,Number(t));else{var i="string"==typeof t?[t]:t;Config2.ICE_CONFIG_REQUEST_URLS=i.map(getFullAccessUrl)}}}function getParameter(e){return"DEVICE_ID"===e?sdkCache.getDeviceId():Config2[e]}function getPublicStreamControlMessage(e,t,n){var r,i,a,o,s,l,c,d,u;return{type:"publicstream",action:t,publicStreamID:e,publicStreamMeta:{audio:{},video:{fps:(null==(r=n.video)?void 0:r.fps)||15,bitrate:1e3*((null==(i=n.video)?void 0:i.kBitRate)||40),width:(null==(a=n.video)?void 0:a.width)||640,height:(null==(o=n.video)?void 0:o.height)||360},layout:{layoutMode:2,interpolationMode:(null==(s=n.layout)?void 0:s.interpolationMode)||PublicInterpolationMode.PREV_FRAME,canvas:{bgColor:(null==(l=n.layout)?void 0:l.backgroundColor)||"#000000",bgImage:(null==(c=n.layout)?void 0:c.backgroundImage)||""},regions:(null==(u=null==(d=n.layout)?void 0:d.regions)?void 0:u.map((function(e){return{roomId:e.roomId,userId:e.userId,alterImage:e.alertImage||"",alpha:!e.alpha||Number(e.alpha)>1||Number(e.alpha)<=0?1:Number(e.alpha),x:!e.x||Number(e.x)>=1||Number(e.x)<0?0:Number(e.x),y:!e.y||Number(e.y)>=1||Number(e.y)<0?0:Number(e.y),w:!e.w||Number(e.w)>1||Number(e.w)<=0?1:Number(e.w),h:!e.h||Number(e.h)>1||Number(e.h)<=0?1:Number(e.h),zorder:!e.zorder||Number(e.zorder)<0||Number(e.zorder)>100?0:Number(e.zorder),renderMode:void 0===e.renderMode?1:e.renderMode,streamType:e.isScreenStream?1:0,mediaType:e.mediaType||0,sourceCrop:e.sourceCrop}})))||[]}}}}var videoEncoderAutoConfigList=[];function getVideoEncoderAutoConfigList(){return videoEncoderAutoConfigList}function _setVideoEncoderAutoConfigList(e){videoEncoderAutoConfigList=e}var defaultVideoEncoderConfig={width:640,height:480,frameRate:15,maxKbps:600},defaultScreenEncoderConfig={width:1920,height:1080,frameRate:15,maxKbps:3e3};function checkBoolean(e,t){if("boolean"!=typeof e)throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid ".concat(t,": The value should be boolean type."))}var checkVideoFrameCallback=function(){return!isSSR$1()&&"function"==typeof HTMLVideoElement.prototype.requestVideoFrameCallback};function checkNumber(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.POSITIVE_INFINITY;if(e<n||e>r||"number"!=typeof e)throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function checkString(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.POSITIVE_INFINITY;if(null==e)throw new SDKError(ErrorCode.INVALID_PARAMS,"".concat(t," cannot be empty"));if(!isValidString(e,n,r))throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid ".concat(t,": The value should be string type. Length of the string: [").concat(n,",").concat(r,"]"))}function checkEnum(e,t,n){if(!n.includes(e))throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid ".concat(t,": The value can only be set as ").concat(JSON.stringify(n)))}function checkMediaStreamTrack(e){if(!(e instanceof MediaStreamTrack))throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid track, The value should be MediaStreamTrack type.")}function checkEmpty(e,t){if(isEmpty(e))throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid ".concat(t,", should not be empty"))}function checkArrayBuffer(e,t){if(!(e instanceof ArrayBuffer))throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid ".concat(t,", should be ArrayBuffer"))}function checkSupportedConstraints(e){try{for(var t=navigator.mediaDevices.getSupportedConstraints(),n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]||delete e[i]}}catch(a){}}function isValidString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"string"==typeof e&&e.length<=n&&e.length>=t}function isEmpty(e){return null==e}function checkRoomId(e){if("string"!=typeof e||!/^[a-zA-Z0-9@._\-]{1,128}$/.test(e))throw new SDKError(ErrorCode.INVALID_PARAMS,"The RoomId must be within 128 bytes. The supported characters: a-z,A-Z,0-9,@,-,_,.")}function checkUserId(e){if("string"!=typeof e||!/^[a-zA-Z0-9@._\-]{1,128}$/.test(e))throw new SDKError(ErrorCode.INVALID_PARAMS,"The userId must be within 128 bytes. The supported characters: a-z,A-Z,0-9,@,-,_,.")}function checkPublicStreamId(e){if("string"!=typeof e||!/^[a-zA-Z0-9@._\-]{1,128}$/.test(e))throw new SDKError(ErrorCode.INVALID_PARAMS,"The publicStreamId must be within 128 bytes. The supported characters: a-z,A-Z,0-9,@,-,_,.")}function illegalBusinessId(e){return"string"!=typeof e}function checkUserInfo(e){checkEmpty(e,"userInfo"),checkUserId(e.userId),isEmpty(e.extraInfo)||checkString(e.extraInfo,"userInfo.extraInfo",1,200)}function checkRoomConfig(e){checkEmpty(e,"roomConfig"),checkBoolean(e.isAutoPublish,"roomConfig.isAutoPublish"),checkBoolean(e.isAutoSubscribeAudio,"roomConfig.isAutoSubscribeAudio"),checkBoolean(e.isAutoSubscribeVideo,"roomConfig.isAutoSubscribeVideo"),isEmpty(e.roomProfileType)||checkEnum(e.roomProfileType,"roomConfig",[RoomProfileType.communication,RoomProfileType.chat,RoomProfileType.chatRoom,RoomProfileType.coHost,RoomProfileType.meeting,RoomProfileType.classRoom])}function checkVideoPlayerOption(e){checkEmpty(e,"videoPlayerOption")}function checkBufferSize(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;if(!e||0===(null==e?void 0:e.byteLength))throw new SDKError(ErrorCode.INVALID_PARAMS,"The message cannot be empty");if((null==(t=e instanceof ArrayBuffer?e:Utils.str2ab(JSON.stringify(e)))?void 0:t.byteLength)>1e3*n)throw new SDKError(ErrorCode.INVALID_PARAMS,"The message length must be less than ".concat(n,"K"))}function isReportCallback(e){var t=getParameter("FORCE_ENABLED_REPORT_CALLBACKS");return!!(null==t?void 0:t.includes(e))||![EngineEventsTypes.onRemoteStreamStats,EngineEventsTypes.onLocalStreamStats,EngineEventsTypes.onAudioVolumeIndication,EngineEventsTypes.onLocalAudioPropertiesReport,EngineEventsTypes.onRemoteAudioPropertiesReport].includes(e)}function checkRemoteConfig(e){if("number"!=typeof(null==e?void 0:e.width)||"number"!=typeof(null==e?void 0:e.height))throw new SDKError(ErrorCode.INVALID_PARAMS,"remoteVideoConfig must contain width, height, frameRate")}function checkConstrainULongg(e,t){if("number"!=typeof e||Number.isNaN(e)||!(e>=1)){var n=e;if(!((null==n?void 0:n.min)||(null==n?void 0:n.max)||(null==n?void 0:n.exact)||(null==n?void 0:n.ideal)))throw new SDKError(ErrorCode.INVALID_PARAMS,"".concat(t," is not a valid ConstrainULong"))}}function checkVideoEncoderConfig(e){var t,n=_createForOfIteratorHelper$1(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;checkNumber(null==r?void 0:r.maxKbps,"maxKbps"),checkConstrainULongg(null==r?void 0:r.width,"width"),checkConstrainULongg(null==r?void 0:r.height,"height"),checkConstrainULongg(null==r?void 0:r.frameRate,"frameRate")}}catch(err2){n.e(err2)}finally{n.f()}}function numberRangeGuide(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NEGATIVE_INFINITY,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.POSITIVE_INFINITY;return checkNumber(e,t,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),(e=e>n?e:n)<r?e:r}var eventemitter3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,a),!0;case 6:return d.fn.call(d.context,t,r,i,a,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var U,F=d.length;for(c=0;c<F;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,i);break;default:if(!l)for(U=1,l=new Array(u-1);U<u;U++)l[U-1]=arguments[U];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(eventemitter3);var eventemitter3Exports=eventemitter3.exports,EventEmitter2=getDefaultExportFromCjs(eventemitter3Exports),logger$a=new Logger$1$1("VERTC",0),EnhancedEventEmitter=function(e){function t(){return _classCallCheck$1(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass$1(t,[{key:"safeEmit",value:function(e){var n=this.listenerCount(e);try{for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return _superPropGet(t,"emit",this,3)([e].concat(i))}catch(o){return logger$a.error("safeEmit","safeEmit() | event listener threw an error [event:%s]:%o",e,o),console.error(o),Boolean(n)}}}])}(eventemitter3Exports.EventEmitter),simulcastFormats=[{maxLayers:3,totalPixels:2073600},{maxLayers:3,totalPixels:921600},{maxLayers:3,totalPixels:518400},{maxLayers:2,totalPixels:230400},{maxLayers:2,totalPixels:129600},{maxLayers:1,totalPixels:57600},{maxLayers:1,totalPixels:0}];function getSimulcastLayers(e){for(var t=0,n=e.width*e.height,r=0;r<simulcastFormats.length;r++)if(n>=simulcastFormats[r].totalPixels){t=r;break}if(0===t)return simulcastFormats[t].maxLayers;var i=simulcastFormats[t-1].totalPixels;return(i-n)/(i-simulcastFormats[t].totalPixels)<.1?simulcastFormats[t-1].maxLayers:simulcastFormats[t].maxLayers}function fillSimulcastLayers(e,t){var n=[];if(t<=1)return n;var r=Math.min(e.width,e.height)/90;return n.push({scaleResolutionDownBy:r,width:Math.floor(e.width/r),height:Math.floor(e.height/r),maxkbps:100,frameRate:10}),t<=2||n.unshift({scaleResolutionDownBy:2,width:Math.floor(e.width/2),height:Math.floor(e.height/2),maxkbps:Math.floor(e.maxKbps/2),frameRate:e.frameRate>=30?Math.floor(e.frameRate/2):e.frameRate}),n}function calculateKbps(e,t,n){var r,i=e?null==(r=n.find((function(t){return t.rid===e})))?void 0:r.maxkbps:n[0].maxkbps;return Math.min(null!=i?i:Number.POSITIVE_INFINITY,t)}var STATS_CACHE=new Map,canIUseGetStatsCallback=!0,getExtraChromeStatsReport=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n,r,i,a,o={all:[],getTrackStats:function(){return[]}},s=getParameter("STATS_SCALLBACK_SUPPORT");if(canIUseGetStatsCallback&&isChrome&&void 0===window.InstallTrigger&&isStatsCallbackSupport&&s)try{null==(a=null==(i=null==(r=null==(n=t.getStats((function(t){var n=[];t.result().forEach((function(e){if(!stasType.includes(e.type)){var t={};e.names().forEach((function(n){t[n]=e.stat(n)})),n.push(_objectSpread2(_objectSpread2({},t),{},{id:e.id,type:e.type,timestamp:e.timestamp}))}})),e({all:n,getTrackStats:function(e){return n.filter((function(t){return"ssrc"!==t.type||t.googTrackId===e}))}})})))?void 0:n.then)?void 0:r.call(n,(function(){e(o)})))?void 0:i.catch)||a.call(i,(function(){canIUseGetStatsCallback=!1,e(o)}))}catch(l){canIUseGetStatsCallback=!1,e(o)}else e(o)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllStatsReport=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStats();case 2:return a=e.sent,o={all:[]},s=new Map,a.forEach((function(e){var t=s.get(e.type)||new Map;t.set(e.id,e),s.set(e.type,t),o.all.push(e)})),l=function(e,t){e.forEach((function(e){var n,r,i,a,o,l,c,d,u,U,F=e.codecId,p=e.transportId,Q=e.trackId,h=e.playoutId;if(null==(n=s.get(RTCStatsType.codec))||n.forEach((function(e){e.id===F&&t.add(e)})),null==(r=s.get(RTCStatsType.transport))||r.forEach((function(e){e.id===p&&(u=e,t.add(e))})),null==(i=s.get(RTCStatsType.track))||i.forEach((function(e){e.id===Q&&t.add(e)})),null==(a=s.get(RTCStatsType.mediaPlayout))||a.forEach((function(e){e.id===h&&t.add(e)})),u){var R=u,_=R.localCertificateId,S=R.remoteCertificateId,B=R.selectedCandidatePairId;null==(o=s.get(RTCStatsType.certificate))||o.forEach((function(e){(e.id===_||e.id===S)&&t.add(e)})),null==(l=s.get(RTCStatsType.candidatePair))||l.forEach((function(e){e.id===B&&(U=e,t.add(e))}))}if(U){var m=U,f=m.localCandidateId,E=m.remoteCandidateId;null==(c=s.get(RTCStatsType.localCandidate))||c.forEach((function(e){e.id===f&&t.add(e)})),null==(d=s.get(RTCStatsType.remoteCandidate))||d.forEach((function(e){e.id===E&&t.add(e)}))}}))},e.abrupt("return",(s.get(RTCStatsType.mediaSource)?null==(n=s.get(RTCStatsType.mediaSource))||n.forEach((function(e){var t,n=new Set;n.add(e);var r=[];null==(t=s.get(RTCStatsType.outboundRtp))||t.forEach((function(t){var i;t.mediaSourceId===e.id&&(n.add(t),r.push(t),null==(i=s.get(RTCStatsType.remoteInboundRtp))||i.forEach((function(e){e.localId===t.id&&n.add(e)})))})),l(r,n),o[e.trackIdentifier]=Array.from(n)})):s.get(RTCStatsType.track)&&(null==(r=s.get(RTCStatsType.track))||r.forEach((function(e){var t,n=new Set;n.add(e);var r=[];null==(t=s.get(RTCStatsType.outboundRtp))||t.forEach((function(t){var i;t.trackId===e.id&&(n.add(t),r.push(t),null==(i=s.get(RTCStatsType.remoteInboundRtp))||i.forEach((function(e){e.localId===t.id&&n.add(e)})))})),l(r,n),o[e.trackIdentifier]=Array.from(n)}))),null==(i=s.get(RTCStatsType.inboundRtp))||i.forEach((function(e){var t,n,r=new Set;r.add(e),null==(t=s.get(RTCStatsType.remoteOutboundRtp))||t.forEach((function(t){t.localId===e.id&&r.add(t)})),l([e],r);var i=e.trackIdentifier;i||null==(n=s.get(RTCStatsType.track))||n.forEach((function(t){t.id===e.trackId&&(i=t.trackIdentifier)})),o[i]=Array.from(r)})),o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStats$1=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null==n?void 0:n.id,t instanceof RTCPeerConnection){e.next=3;break}return e.abrupt("return",[]);case 3:if(!isFirefox&&!isSafari){e.next=21;break}if(o=[],e.prev=5,!i){e.next=12;break}return e.next=9,i.getStats();case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,t.getStats(n);case 14:e.t0=e.sent;case 15:e.t0.forEach((function(e){o.push(e)})),e.next=20;break;case 18:e.prev=18,e.t1=e.catch(5);case 20:return e.abrupt("return",o);case 21:return(!(s=STATS_CACHE.get(t))||Date.now()-s.timestamp>150)&&(s={timestamp:Date.now(),statsPromise:getAllStatsReport(t),extraStatsPromise:getExtraChromeStatsReport(t)},STATS_CACHE.set(t,s)),e.next=25,s.statsPromise;case 25:if(l=e.sent,c=(a?l[a]:l.all)||[],r){e.next=32;break}return e.next=30,s.extraStatsPromise;case 30:d=e.sent,c=c.concat((a?d.getTrackStats(a):d.all)||[]);case 32:return e.abrupt("return",c);case 33:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),RTCStatsType=function(e){return e.codec="codec",e.inboundRtp="inbound-rtp",e.outboundRtp="outbound-rtp",e.remoteInboundRtp="remote-inbound-rtp",e.remoteOutboundRtp="remote-outbound-rtp",e.mediaSource="media-source",e.csrc="csrc",e.peerConnection="peer-connection",e.dataChannel="data-channel",e.stream="stream",e.track="track",e.transceiver="transceiver",e.sender="sender",e.receiver="receiver",e.transport="transport",e.sctpTransport="sctp-transport",e.candidatePair="candidate-pair",e.localCandidate="local-candidate",e.remoteCandidate="remote-candidate",e.certificate="certificate",e.iceServer="ice-server",e.mediaPlayout="media-playout",e}(RTCStatsType||{}),stasType=["codec","inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp","media-source","csrc","peer-connection","data-channel","stream","track","transceiver","sender","receiver","transport","sctp-transport","candidate-pair","local-candidate","remote-candidate","certificate","ice-server"],AudioMixingDualMonoMode=function(e){return e[e.AUTO=0]="AUTO",e[e.MODE_L=1]="MODE_L",e[e.MODE_R=2]="MODE_R",e[e.MODE_MIX=3]="MODE_MIX",e}(AudioMixingDualMonoMode||{}),AudioMixingType=function(e){return e[e.PLAYOUT=0]="PLAYOUT",e[e.PUBLISH=1]="PUBLISH",e[e.PLAYOUT_AND_PUBLISH=2]="PLAYOUT_AND_PUBLISH",e}(AudioMixingType||{}),AudioMixingState=function(e){return e[e.AUDIO_MIXING_STATE_PRELOADED=0]="AUDIO_MIXING_STATE_PRELOADED",e[e.AUDIO_MIXING_STATE_PLAYING=1]="AUDIO_MIXING_STATE_PLAYING",e[e.AUDIO_MIXING_STATE_PAUSED=2]="AUDIO_MIXING_STATE_PAUSED",e[e.AUDIO_MIXING_STATE_STOPPED=3]="AUDIO_MIXING_STATE_STOPPED",e[e.AUDIO_MIXING_STATE_FAILED=4]="AUDIO_MIXING_STATE_FAILED",e[e.AUDIO_MIXING_STATE_FINISHED=5]="AUDIO_MIXING_STATE_FINISHED",e[e.AUDIO_MIXING_STATE_PCM_ENABLED=6]="AUDIO_MIXING_STATE_PCM_ENABLED",e[e.AUDIO_MIXING_STATE_PCM_DISABLED=7]="AUDIO_MIXING_STATE_PCM_DISABLED",e}(AudioMixingState||{}),lib$1={},parser$1={},grammar$2={exports:{}},grammar$1=grammar$2.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(grammar$1).forEach((function(e){grammar$1[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}));var grammarExports=grammar$2.exports;!function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,r){var i=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:i&&!n[e.name]&&(n[e.name]={});var a=e.push?{}:i?n[e.name]:n;!function(e,n,r,i){if(i&&!r)n[i]=t(e[1]);else for(var a=0;a<r.length;a+=1)null!=e[a+1]&&(n[r[a]]=t(e[a+1]))}(r.match(e.reg),a,e.names,e.name),e.push&&n[e.push].push(a)},r=grammarExports,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},a=[],o=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(a.push({rtp:[],fmtp:[]}),o=a[a.length-1]);for(var s=0;s<(r[t]||[]).length;s+=1){var l=r[t][s];if(l.reg.test(i))return n(l,o,i)}})),t.media=a,t};var a=function(e,n){var r=n.split(/=(.+)/,2);return 2===r.length?e[r[0]]=t(r[1]):1===r.length&&n.length>1&&(e[r[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],r=e.split(" ").map(t),i=0;i<r.length;i+=3)n.push({component:r[i],ip:r[i+1],port:r[i+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var n,r=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),r=!0),{scid:n,paused:r}}))}))}}(parser$1);var grammar=grammarExports,formatRegExp=/%[sdv%]/g,format$2=function(e){var t=1,n=arguments,r=n.length;return e.replace(formatRegExp,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},makeLine=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return format$2.apply(null,r)},defaultOuterOrder=["v","o","s","i","u","e","p","c","b","t","r","z","a"],defaultInnerOrder=["i","c","b","a"],writer$1=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||defaultOuterOrder,r=t.innerOrder||defaultInnerOrder,i=[];return n.forEach((function(t){grammar[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(makeLine(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(makeLine(t,n,e))}))}))})),e.media.forEach((function(e){i.push(makeLine("m",grammar.m[0],e)),r.forEach((function(t){grammar[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(makeLine(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(makeLine(t,n,e))}))}))}))})),i.join("\r\n")+"\r\n"},parser=parser$1,writer=writer$1;lib$1.write=writer,lib$1.parse=parser.parse,lib$1.parseParams=parser.parseParams,lib$1.parseFmtpConfig=parser.parseFmtpConfig,lib$1.parsePayloads=parser.parsePayloads,lib$1.parseRemoteCandidates=parser.parseRemoteCandidates,lib$1.parseImageAttributes=parser.parseImageAttributes,lib$1.parseSimulcastStreamList=parser.parseSimulcastStreamList;var logger$9=new Logger$1$1("FirefoxHandler",3),SSRC_MAX=Math.pow(2,32),clientCname="kp34Za0H+aVf862l",serverCname="o/i14u9pJrxRKAsu";function generateAllSsrc(e){return e>SSRC_MAX-18?(logger$9.warn("generateAllSsrc","reset start id",e),generateAllSsrc(e=e-SSRC_MAX+1e4+18)):{audio:e,audioFec:e+1,audioRtx:e+2,video:e+3,videoFec:e+4,videoRtx:e+5,next:e+18}}var generateSsrc=function(e,t,n){return[{id:n,attribute:"cname",value:arguments.length>3&&void 0!==arguments[3]?arguments[3]:serverCname},{id:n,attribute:"msid",value:"".concat(e," ").concat(e,"-").concat(t)},{id:n,attribute:"mslabel",value:"".concat(e)},{id:n,attribute:"label",value:"".concat(e,"-").concat(t)}]},generateSsrcs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.video,i=t.videoRtx,a=t.videoFec,o=[r,i],s=n.cname,l=n.flexfec;l&&o.push(a);var c=o.reduce((function(t,n){return t.concat(generateSsrc(e,"video",n,s))}),[]),d=[{semantics:"FID",ssrcs:"".concat(r," ").concat(i)}];return l&&d.push({semantics:"FEC-FR",ssrcs:"".concat(r," ").concat(a)}),{ssrcs:c,ssrcGroups:d}};function closeMline(e){return e.direction="inactive",e.port=0,delete e.ext,delete e.ssrcs,delete e.ssrcGroups,delete e.simulcast,delete e.simulcast_03,delete e.rids,delete e.extmapAllowMixed,delete e.msid,delete e.bundleOnly,e}var getLocalPartialSdp=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=_objectSpread2(_objectSpread2({},e),{},{media:[]});return r&&(i.invalid=[{value:"realx-exts:rscp"}]),t&&i.media.push(t),n&&i.media.push(n),delete i.groups,delete i.msidSemantic,lib$1.write(i)};function parseAnswerIceParams(e){return _parseAnswerIceParams.apply(this,arguments)}function _parseAnswerIceParams(){return _parseAnswerIceParams=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=t.publicIPs,i=t.certFingerprint,a=t.iceParams,o=t.iceConfig,n.fingerprint={type:"sha-256",hash:i},n.icePwd=a.serverIcePwd,e.next=5,getServerUfrag(a.serverIceUfrag);case 5:return n.iceUfrag=e.sent,n.candidates=genCandidates(r,o),n.setup="active",n.iceOptions="renomination",e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),_parseAnswerIceParams.apply(this,arguments)}function genCandidates(e,t){if(!Array.isArray(e))return[];var n=0,r=[];return e.forEach((function(e){var i={component:1,ip:e.ip,type:"host",generation:e.generation};e.udpPorts&&!t.tcpOnly&&e.udpPorts.forEach((function(e){r.push(_objectSpread2(_objectSpread2({},i),{},{foundation:n++,transport:"udp",port:e,priority:2130706431}))})),e.tcpPorts&&e.tcpPorts.forEach((function(e){r.push(_objectSpread2(_objectSpread2({},i),{},{foundation:n++,transport:"tcp",port:e,tcptype:"passive",priority:2130705431}))}))})),r}var getServerUfrag=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode("PREC"),e.t0=Uint8Array,e.next=4,Utils.b64str2ab(t);case 4:return e.t1=e.sent,r=new e.t0(e.t1),i=new Uint8Array(4),crypto.getRandomValues(i),(a=new Uint8Array(2))[0]=0,a[1]=1,o=concatenate(Uint8Array,n,r,i,a),e.next=13,Utils.ab2b64str(o.buffer);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ICEConfigType=function(e){return e[e.kICEConfigTypeSrtpDtlsType=0]="kICEConfigTypeSrtpDtlsType",e[e.kICEConfigTypeRenominationType=1]="kICEConfigTypeRenominationType",e[e.kICEConfigTypeTcpType=2]="kICEConfigTypeTcpType",e[e.kICEConfigTypeMultiSendType=3]="kICEConfigTypeMultiSendType",e[e.kICEConfigTypeKcpType=4]="kICEConfigTypeKcpType",e[e.kICEConfigTypeSrtpSdesType=5]="kICEConfigTypeSrtpSdesType",e}(ICEConfigType||{});function getServerUfragV2(e){var t=e.random,n=e.serverUfrag,r=e.serverPwd,i=e.clientPwd,a=e.options,o=(new TextEncoder).encode("WPRE");t||(t=new Uint8Array(4),crypto.getRandomValues(t));var s=base64ToUint8(n);s.byteLength;var l=aesCtrEncrypt(base64ToUint8(i),base64ToUint8(r).subarray(0,16),base64ToUint8(n).subarray(0,16));l.byteLength;var c=new Uint8Array(Object.keys(a).reduce((function(e,t){var n=Number(t);return e.push(n),e.push(a[n]?1:0),e}),[]));c.byteLength;var d=concatenate(Uint8Array,o,t,[s.byteLength],s,[l.byteLength],l,c);return d.byteLength%3!=0&&(d=concatenate(Uint8Array,d,new Uint8Array(3-d.byteLength%3).fill(255))),[uint8ToBase64(d),uint8ToBase64(concatenate(Uint8Array,t,s.subarray(0,20)))]}var setAudioCodecPreferences=function(e,t){if(Array.isArray(e.fmtp)&&Array.isArray(e.rtp)){for(var n=0;n<e.rtp.length;n++)if(e.rtp[n].codec.toUpperCase()===t.toUpperCase()){e.rtp.unshift(e.rtp.splice(n,1)[0]);break}var r=[];e.rtp.forEach((function(e){return r.push(e.payload)})),e.payloads=r.join(" ")}},setCodecPreferences=function(e,t){var n=0;if(Array.isArray(e.fmtp)&&Array.isArray(e.rtp)){var r,i=_createForOfIteratorHelper$1(e.fmtp);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.config.includes("level-asymmetry-allowed=1")&&a.config.includes("packetization-mode=1")&&a.config.includes("profile-level-id=42e0")){n=a.payload;break}}}catch(err2){i.e(err2)}finally{i.f()}for(var o=0;o<e.rtp.length;o++){var s=e.rtp[o];if("H264"===t){if(s.payload===n){e.rtp.unshift(e.rtp.splice(o,1)[0]);break}}else if(s.codec===t){e.rtp.unshift(e.rtp.splice(o,1)[0]);break}}var l=[];e.rtp.forEach((function(e){return l.push(e.payload)})),e.payloads=l.join(" ")}},cropSdpMediaSection=function(e){var t=lib$1.parse(e);return t.media=t.media.map((function(e){return"audio"===e.type?cropAudioMediaSection(e,t):cropVideoMediaSection(e,["H264","VP8"],t)})),lib$1.write(t)},pushRRTR=function(e){e.media.forEach((function(e){"audio"!==e.type&&"video"!==e.type||e.rtp.forEach((function(t){e.rtcpFb||(e.rtcpFb=[]),e.rtcpFb.find((function(e){return e.payload===t.payload&&"rrtr"===e.type}))||e.rtcpFb.push({payload:t.payload,type:"rrtr"})}))}))},cropVideoMediaSection=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{rrtr:!1},i={},a={},o=-1,s=[];return Array.isArray(e.fmtp)&&e.fmtp.forEach((function(e){var t=e.payload,n=e.config;if(n.startsWith("apt=")){var r=n.slice(4);i[t]=r}else n.includes("42e0")&&n.includes("packetization-mode=1")&&(o=t)})),Array.isArray(e.rtp)&&(e.rtp=e.rtp.filter((function(e){var n,r=e.codec,l=e.payload;switch(r){case"H264":return n=!1,t.map((function(e){"H264"===e&&l===o&&(a[l]=l,s.push(l),n=!0)})),n;case"rtx":return!!a[i[l]]&&(a[l]=l,!0);case"red":case"ulpfec":case"flexfec-03":return a[l]=l,!0;default:return n=!1,t.map((function(e){e===r&&(a[l]=l,s.push(l),n=!0)})),n}}))),Array.isArray(e.fmtp)&&(e.fmtp=e.fmtp.filter((function(e){return a[e.payload]}))),Array.isArray(e.rtcpFb)?e.rtcpFb=e.rtcpFb.filter((function(e){return a[e.payload]})):e.rtcpFb=[],r.rrtr&&s.forEach((function(t){var n;null==(n=e.rtcpFb)||n.push({payload:t,type:"rrtr"})})),deleteProperty(e,n),Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){if("http://www.webrtc.org/experiments/rtp-hdrext/video-content-type"!==e.uri&&"http://www.webrtc.org/experiments/rtp-hdrext/video-timing"!==e.uri&&"http://www.webrtc.org/experiments/rtp-hdrext/color-space"!==e.uri)return e}))),"string"==typeof e.payloads&&(e.payloads=e.payloads.split(" ").filter((function(e){return a[e]})).join(" ")),e},cropAudioMediaSection=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{rrtr:!1},r={};if(Array.isArray(e.rtp)&&(e.rtp=e.rtp.filter((function(e){var t=e.codec,n=e.payload;return("opus"===t||"red"===t)&&(r[n]=n,!0)}))),Array.isArray(e.rtcpFb)||(e.rtcpFb=[]),n.rrtr&&Object.keys(r).forEach((function(t){var n;null==(n=e.rtcpFb)||n.push({payload:Number(t),type:"rrtr"})})),deleteProperty(e,t),"string"==typeof e.payloads){var i=[];e.payloads.split(" ").forEach((function(e){r[e]&&i.push(e)})),e.payloads=i.join(" ")}return e},deleteProperty=function(e,t){e.iceOptions&&delete e.iceOptions,e.icePwd&&(t.icePwd=e.icePwd,delete e.icePwd),e.iceUfrag&&(t.iceUfrag=e.iceUfrag,delete e.iceUfrag),e.fingerprint&&(t.fingerprint=e.fingerprint,delete e.fingerprint)},BasicHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"_peerConnection"),__publicField(_assertThisInitialized(r),"_dataChannel"),__publicField(_assertThisInitialized(r),"_context"),__publicField(_assertThisInitialized(r),"peerConnectionMode",0),__publicField(_assertThisInitialized(r),"id"),__publicField(_assertThisInitialized(r),"_monitor"),__publicField(_assertThisInitialized(r),"logger"),__publicField(_assertThisInitialized(r),"_nextSsrc",Math.floor(Math.random()*SSRC_MAX+1e4)),__publicField(_assertThisInitialized(r),"_aSendonlyAnswerTpl"),__publicField(_assertThisInitialized(r),"_vSendonlyAnswerTpl"),__publicField(_assertThisInitialized(r),"_enableSubFlexfec",!1),__publicField(_assertThisInitialized(r),"audioTrack4ff"),__publicField(_assertThisInitialized(r),"setLocalDescription"),__publicField(_assertThisInitialized(r),"setRemoteDescription"),r.peer=n,r.id=e.id,r._monitor=getMonitor(r.id),r.logger=new Logger$1$1("BasicHandler",3,e.id),r._peerConnection=n.getOriginRTCPeerConnection(),r._dataChannel=n.getOriginRTCDataChannel(),r.setLocalDescription=n.setLocalDescription.bind(n),r.setRemoteDescription=n.setRemoteDescription.bind(n),r._context=e,r.peer.on("ontrack",(function(e){r.emit("ontrack",e)})),r}return _inherits(t,e),_createClass$1(t,[{key:"destroy",value:function(){this.logger.info("destroy",this.peerConnectionId||""),_superPropGet(t,"removeAllListeners",this,3)([])}},{key:"getTransceivers",value:function(){return this._peerConnection.getTransceivers()}},{key:"getConnectionState",value:function(){return this._peerConnection.connectionState}},{key:"_simulcast",value:function(e,t,n,r,i){var a=[];1===e.videoEncodeConfig.length?(a=fillSimulcastLayers(t,i),this.logger.info("simulcast() ","simulcastLayers: %o",a)):(a=e.videoEncodeConfig.slice(1).slice(1-i).map((function(e){if(e.width>e.height&&t.width<t.height||e.width<e.height&&t.width>t.height){var n=e.width;e.width=e.height,e.height=n}var r=constraints2number(e.width),i=t.width/r;return{width:r,height:Math.floor(t.height/i),scaleResolutionDownBy:i,frameRate:constraints2number(e.frameRate)||15,maxkbps:e.maxKbps||600}})),this.logger.info("simulcast() ","simulcastLayers2: %o",a));var o=[!0];a.forEach((function(e,t){var i,a={maxBitrate:1e3*e.maxkbps,scaleResolutionDownBy:e.scaleResolutionDownBy,rid:"".concat(t+1),maxFramerate:e.frameRate};null==(i=n.sendEncodings)||i.unshift(a),r.push({width:e.width,height:e.height,framerate:e.frameRate,maxkbps:e.maxkbps,rid:"".concat(t+1)}),o.push(!0)})),this._context&&(this._context.activeSimStreams=o)}},{key:"internalPublish",value:function(e){var t,n,r,i,a,o,s=e.stream,l=e.videoTrack,c=e.audioTrack,d=e.enableSimulcast,u=e.pubAudio,U=e.pubVideo,F={direction:"sendonly",streams:[s]},p={direction:"sendonly",streams:[s]},Q=[],h=[];if(Array.isArray(null==e?void 0:e.videoEncodeConfig)&&e.videoEncodeConfig.length){var R=null==l?void 0:l.preprocessingTrack,_=_objectSpread2({},defaultVideoEncoderConfig);if(R){var S=null==R?void 0:R.getSettings();_={width:Math.floor(S.width),height:Math.floor(S.height),frameRate:Math.floor(S.frameRate)}}"number"!=typeof _.frameRate&&(_.frameRate=30);var B=null==e?void 0:e.videoEncodeConfig[0],m={maxBitrate:1e3*B.maxKbps,rid:"0"};if(e.prevBitrate=B.maxKbps,p.sendEncodings=[m],Q.push({width:_.width,height:_.height,framerate:_.frameRate,maxkbps:B.maxKbps,rid:"0"}),d&&(!isFirefox||"VP8"===(null==(n=null==(t=this._context)?void 0:t.serverConfig)?void 0:n.videoCodec))){var f=getSimulcastLayers(_);this.logger.info("simulcast() ","maxLayers: %o",f),f>1&&(this._simulcast(e,_objectSpread2(_objectSpread2({},_),{},{maxKbps:B.maxKbps}),p,Q,f),(null==(i=null==(r=this._context)?void 0:r.serverConfig)?void 0:i.simulcastOnDemand)&&(h=Q.map((function(e,t){return _objectSpread2(_objectSpread2({},e),{},{video_index:t,sub_index:t})}))))}}(null==(o=null==(a=this._context)?void 0:a.serverConfig)?void 0:o.e2eFeedback)&&(h=Q.map((function(e,t){return _objectSpread2(_objectSpread2({},e),{},{video_index:t,sub_index:t})}))),this.logger.info("publish videoTransceiverInit videoDescriptions","",p,Q);var E=null==c?void 0:c.preprocessingTrack;(null==c?void 0:c.mixType)!==AudioMixingType.PLAYOUT&&(null==c?void 0:c.mixedAudioTrack)&&(E=null==c?void 0:c.mixedAudioTrack),E=u&&E?E:"audio";var v=null==l?void 0:l.preprocessingTrack;v=U&&v?v:"video";try{this._reportRtcInvokeStatus("Handler.internalPublish",JSON.stringify({aTrack:mediaTrackStringify(E),vTrack:mediaTrackStringify(v),audioTransceiverInit:F,videoTransceiverInit:p}))}catch(y){}return{semantics:"unified-plan",videoDescriptions:Q,subVideoDescriptions:h,audioTransceiverInit:{track:E,init:F},videoTransceiverInit:{track:v,init:p}}}},{key:"updateMaxBitrate",value:function(e){var t,n,r,i,a;this.logger.info("updateMaxBitrate()");var o=null==(t=e.videoTrack)?void 0:t.preprocessingTrack,s=e.videoTransceiver;if(o&&e.pubVideo&&s){var l=null==(r=null==(n=e.videoEncodeConfig)?void 0:n[0])?void 0:r.maxKbps;if(l){if(l===e.prevBitrate)return void this.logger.warn("updateMaxBitrate()","no change");e.prevBitrate=l}var c=null==(i=s.sender)?void 0:i.getParameters();if(c){c.encodings=null==(a=null==c?void 0:c.encodings)?void 0:a.map((function(t){var n,r=Number(t.rid)||0,i=null==(n=e.videoEncodeConfig[r])?void 0:n.maxKbps;return"number"==typeof i&&(t.maxBitrate=1e3*i),t})),null==s||s.sender.setParameters(c);try{this._reportRtcInvokeStatus("Handler.updateScaleResolutionDownBy",JSON.stringify(c.encodings))}catch(d){}}}else this.logger.warn("updateMaxBitrate()","no pub")}},{key:"getStats",value:function(e,t,n){return getStats$1(this._peerConnection,e,t,n)}},{key:"setCurrentDescription",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"createAVMlineAnswerTpl",value:function(e){var t=this,n=lib$1.parse(e);n.media.forEach((function(e){if("audio"===e.type){if("sendonly"===e.direction){var n=null==e?void 0:e.rtp.find((function(e){return"opus"===e.codec}));if(n&&(null==e?void 0:e.fmtp)){var r=null==e?void 0:e.fmtp.find((function(e){return e.payload===n.payload}));r&&t._context&&(r.config+=";stereo=1;sprop-stereo=1")}t._aSendonlyAnswerTpl=e}}else"video"===e.type&&("sendonly"===e.direction&&(t._vSendonlyAnswerTpl=e),Array.isArray(e.rtp)&&e.rtp.forEach((function(e){var n;(null==(n=e.codec)?void 0:n.includes("flexfec"))&&(t._enableSubFlexfec=!0)})))})),isRRTRSupported&&pushRRTR(n)}},{key:"pc",get:function(){return this._peerConnection}},{key:"peerConnectionId",get:function(){return this.peer.getConnectionId()||""}},{key:"addBitrateLimit",value:function(e,t){null==e||e.rtp.forEach((function(n){var r=n.codec,i=n.payload;if(["vp8","h264"].includes(r.toLocaleLowerCase())){var a=e.fmtp.find((function(e){return e.payload===i}));a?a.config=[].concat(_toConsumableArray(a.config.split(";")),["x-google-min-bitrate=100","x-google-start-bitrate=".concat(t)]).join(";"):e.fmtp.push({payload:i,config:"x-google-min-bitrate=100;x-google-start-bitrate=".concat(t)})}}))}},{key:"_report",value:function(e,t,n){var r;null==(r=this._monitor)||r.report(e,_objectSpread2(_objectSpread2({},t),{},{connection_id:this.peer.getConnectionId(),group_connection_id:this.peer.getGroupConnectionId()}),n)}},{key:"_reportRtcInvokeStatus",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;this._report("rtc_invoke_status",{sdk_api_name:e,message:t,error_code:n,stream_id:r,elapse:0},i)}}]);var n}(eventemitter3Exports.EventEmitter),DeviceDetector=function(e){function t(){var e,n;return _classCallCheck$1(this,t),e=_callSuper(this,t),__publicField(_assertThisInitialized(e),"deviceMap",{audioinput:new Map,audiooutput:new Map,videoinput:new Map}),__publicField(_assertThisInitialized(e),"checkDeviceChangeTimer",null),__publicField(_assertThisInitialized(e),"isSupportedPermissionsQuery",!1),__publicField(_assertThisInitialized(e),"isGrantedMicrophonePermission",!1),__publicField(_assertThisInitialized(e),"isGrantedCameraPermission",!1),e.isSupportedPermissionsQuery=!isSSR()&&!!(null==(n=null==navigator?void 0:navigator.permissions)?void 0:n.query),e._handleDeviceChange=e._handleDeviceChange.bind(_assertThisInitialized(e)),!isSSR()&&e.initListener().then((function(){e.updateDeviceListInSilent()})),e}return _inherits(t,e),_createClass$1(t,[{key:"refreshDevices",value:(F=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=this,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"audio",navigator.mediaDevices){e.next=3;break}return e.abrupt("return");case 3:if(!isFirefox){e.next=19;break}if(e.prev=4,"audio"!==t){e.next=11;break}return e.next=8,navigator.mediaDevices.getUserMedia({audio:!0});case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,navigator.mediaDevices.getUserMedia({video:!0});case 13:e.t0=e.sent;case 14:n=e.t0,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(4);case 19:return e.next=21,navigator.mediaDevices.enumerateDevices();case 21:r=e.sent,n&&n.getTracks().forEach((function(e){return e.stop()})),r.forEach((function(e){var t;e.deviceId&&(null==(t=i.deviceMap[e.kind])||t.set(e.deviceId,e))}));case 23:case"end":return e.stop()}}),e,null,[[4,17]])}))),function(){return F.apply(this,arguments)})},{key:"initListener",value:(U=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null==(t=navigator.mediaDevices)?void 0:t.ondevicechange)&&"function"==typeof(null==(n=navigator.mediaDevices)?void 0:n.addEventListener)?navigator.mediaDevices.addEventListener("devicechange",(function(){a._handleDeviceChange(),setTimeout((function(){a._handleDeviceChange()}),300)})):this.checkDeviceChangeTimer=window.setInterval((function(){a._handleDeviceChange()}),3e3),!this.isSupportedPermissionsQuery){e.next=19;break}return e.prev=1,e.next=4,navigator.permissions.query({name:"microphone"});case 4:r=e.sent,this.isGrantedMicrophonePermission="granted"===r.state,r.addEventListener("change",(function(){a.isGrantedMicrophonePermission="granted"===r.state})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,e.next=13,navigator.permissions.query({name:"camera"});case 13:i=e.sent,this.isGrantedCameraPermission="granted"===i.state,i.addEventListener("change",(function(){a.isGrantedCameraPermission="granted"===i.state})),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(10);case 19:case"end":return e.stop()}}),e,this,[[1,8],[10,17]])}))),function(){return U.apply(this,arguments)})},{key:"_handleDeviceChange",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=isFirefox,!e.t0){e.next=7;break}return e.next=6,navigator.mediaDevices.getUserMedia({audio:!0});case 6:t=e.sent;case 7:return e.next=9,navigator.mediaDevices.enumerateDevices();case 9:n=(n=e.sent).filter((function(e){return!!e.deviceId})),t&&t.getTracks().forEach((function(e){return e.stop()})),r=Array.from([].concat(_toConsumableArray(this.deviceMap.audioinput.values()),_toConsumableArray(this.deviceMap.videoinput.values()),_toConsumableArray(this.deviceMap.audiooutput.values()))),(isMobile$2||isIPad)&&!r.length&&n.length&&n.forEach((function(e){var t;null==(t=i.deviceMap[e.kind])||t.set(e.deviceId,e)})),n.forEach((function(e){var t=i.deviceMap[e.kind].get(e.deviceId);i.deviceMap[e.kind].set(e.deviceId,e),t||(e.kind.includes("video")?i.emit(EngineEventsTypes.onVideoDeviceStateChanged,{mediaDeviceInfo:e,deviceState:"active"}):e.kind.includes("audio")&&i.emit(EngineEventsTypes.onAudioDeviceStateChanged,{mediaDeviceInfo:e,deviceState:"active"}))})),r.forEach((function(e){n.find((function(t){return t.deviceId===e.deviceId&&t.kind===e.kind}))||(i.deviceMap[e.kind].delete(e.deviceId),e.kind.includes("video")?i.emit(EngineEventsTypes.onVideoDeviceStateChanged,{mediaDeviceInfo:e,deviceState:"inactive"}):e.kind.includes("audio")&&i.emit(EngineEventsTypes.onAudioDeviceStateChanged,{mediaDeviceInfo:e,deviceState:"inactive"}))}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getUserMedia",value:(d=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(t);case 2:return n=e.sent,e.abrupt("return",((null==t?void 0:t.audio)&&(this.isGrantedMicrophonePermission=!0),(null==t?void 0:t.video)&&(this.isGrantedCameraPermission=!0),(null==t?void 0:t.video)?this.refreshDevices("video"):this.refreshDevices("audio"),n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"checkPermissionsByDevices",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={audio:!1,video:!1},navigator.mediaDevices){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,navigator.mediaDevices.enumerateDevices();case 5:return n=e.sent,e.abrupt("return",(t.audio=n.filter((function(e){return"audioinput"===e.kind&&e.label&&e.deviceId})).length>0,t.video=n.filter((function(e){return"videoinput"===e.kind&&e.label&&e.deviceId})).length>0,t));case 7:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"getPermissions",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(t=u.length>0&&void 0!==u[0]?u[0]:{}).audio,o=t.video,s=t.force,a||o||(a=!0,o=!0),l={audio:!1,video:!1,reason:void 0},s){e.next=26;break}if(!this.isSupportedPermissionsQuery){e.next=16;break}if(!a||!o){e.next=12;break}if(!this.isGrantedMicrophonePermission||!this.isGrantedCameraPermission){e.next=10;break}return e.abrupt("return",(l.audio=!0,l.video=!0,l));case 10:e.next=14;break;case 12:if(!(a&&this.isGrantedMicrophonePermission||o&&this.isGrantedCameraPermission)){e.next=14;break}return e.abrupt("return",(l.audio=this.isGrantedMicrophonePermission,l.video=this.isGrantedCameraPermission,l));case 14:e.next=26;break;case 16:return e.next=18,this.checkPermissionsByDevices();case 18:if(c=e.sent,!a||!o){e.next=24;break}if(!c.audio||!c.video){e.next=22;break}return e.abrupt("return",c);case 22:e.next=26;break;case 24:if(!(a&&c.audio||o&&c.video)){e.next=26;break}return e.abrupt("return",c);case 26:if(!(null==(n=navigator.mediaDevices)?void 0:n.getUserMedia)){e.next=63;break}return e.prev=27,e.next=30,navigator.mediaDevices.getUserMedia({audio:a,video:o});case 30:(d=e.sent)&&(d.getTracks().forEach((function(e){return e.stop()})),a&&(l.audio=!0,this.isGrantedMicrophonePermission=!0),o&&(l.video=!0,this.isGrantedCameraPermission=!0)),e.next=63;break;case 34:if(e.prev=34,e.t0=e.catch(27),l.reason=e.t0,e.t1=this.isSupportedPermissionsQuery,!e.t1){e.next=63;break}if(e.t2=a,!e.t2){e.next=51;break}return e.next=43,navigator.permissions.query({name:"microphone"}).catch((function(){}));case 43:if(e.t3=r=e.sent,null!=e.t3){e.next=48;break}e.t4=void 0,e.next=49;break;case 48:e.t4=r.state;case 49:e.t5=e.t4,l.audio="granted"===e.t5;case 51:if(e.t6=o,!e.t6){e.next=63;break}return e.next=55,navigator.permissions.query({name:"camera"}).catch((function(){}));case 55:if(e.t7=i=e.sent,null!=e.t7){e.next=60;break}e.t8=void 0,e.next=61;break;case 60:e.t8=i.state;case 61:e.t9=e.t8,l.video="granted"===e.t9;case 63:if(!a){e.next=68;break}return e.next=66,this.refreshDevices("audio");case 66:e.next=70;break;case 68:return e.next=70,this.refreshDevices("video");case 70:return e.abrupt("return",l);case 71:case"end":return e.stop()}}),e,this,[[27,34]])}))),function(){return l.apply(this,arguments)})},{key:"updateDeviceListInSilent",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isGrantedCameraPermission&&this.isGrantedMicrophonePermission&&this.refreshDevices("audio");case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"enumerateDevices",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPermissions();case 2:return e.next=4,this.refreshDevices();case 4:return e.abrupt("return",Array.from([].concat(_toConsumableArray(this.deviceMap.audioinput.values()),_toConsumableArray(this.deviceMap.videoinput.values()),_toConsumableArray(this.deviceMap.audiooutput.values()))));case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"enumerateAudioCaptureDevices",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPermissions({audio:!0});case 2:return e.next=4,this.refreshDevices();case 4:return e.abrupt("return",Array.from(this.deviceMap.audioinput.values()));case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"enumerateVideoCaptureDevices",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPermissions({video:!0});case 2:return e.next=4,this.refreshDevices("video");case 4:return e.abrupt("return",Array.from(this.deviceMap.videoinput.values()));case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"enumerateAudioPlaybackDevices",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPermissions({audio:!0});case 2:return e.next=4,this.refreshDevices("audio");case 4:return e.abrupt("return",Array.from(this.deviceMap.audiooutput.values()));case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getAudioPlaybackDeviceById",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateAudioPlaybackDevices();case 2:return e.abrupt("return",e.sent.find((function(e){return e.deviceId===t})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]);var n,r,i,a,o,s,l,c,d,u,U,F}(EnhancedEventEmitter),dd$1=new DeviceDetector;!isSSR()&&(window.__rtc_dd__=dd$1);var logger$8=new Logger$1$1("InternalEventBus",1),InternalEvent=function(e){return e.ON_IOS_INTERRUPTION_START="ON_IOS_INTERRUPTION_START",e.ON_IOS_INTERRUPTION_END="ON_IOS_INTERRUPTION_END",e.ON_IOS_LOCAL_TRACK_MUTE="ON_IOS_LOCAL_TRACK_MUTE",e.ON_IOS_LOCAL_TRACK_UNMUTE="ON_IOS_LOCAL_TRACK_UNMUTE",e}(InternalEvent||{}),InternalEventBus=function(e){function t(){return _classCallCheck$1(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass$1(t,[{key:"emit",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return logger$8.info(e),_superPropGet(t,"emit",this,3)([e].concat(r))}}])}(eventemitter3Exports.EventEmitter),internalEventBus=new InternalEventBus,logger$7=new Logger$1$1("AudioContext",1),WebAudioManager=function(){return _createClass$1((function e(){var t=this;_classCallCheck$1(this,e),__publicField(this,"_audioContextInstance"),__publicField(this,"_previousState",""),__publicField(this,"_currentState",""),__publicField(this,"_contextStuckAt",0);var n=0;isSSR()||setInterval((function(){if(t._audioContextInstance){var e=t._audioContextInstance.currentTime;t._contextStuckAt?t._contextStuckAt!==e&&(t._contextStuckAt=0,logger$7.info("currentTime resume"),reportGlobalInvokeStatus("currentTime resume","")):e&&n===e&&(t._contextStuckAt=e,logger$7.warn("currentTime stuck",t._contextStuckAt),t._audioContextInstance.suspend(),t._audioContextInstance.resume(),reportGlobalInvokeStatus("AudioContext currentTime stuck",t._contextStuckAt)),n=e}}),3e3)}),[{key:"getAudioContextInstance",value:function(){var e=this;if(!this._audioContextInstance){var t=window.AudioContext||window.webkitAudioContext;this._audioContextInstance=new t,this._audioContextInstance.onstatechange=function(){var t,n,r;logger$7.warn("state change",null==(t=e._audioContextInstance)?void 0:t.state),e._previousState=e._currentState,e._currentState=(null==(n=e._audioContextInstance)?void 0:n.state)||"","interrupted"===(null==(r=e._audioContextInstance)?void 0:r.state)&&e._audioContextInstance.resume(),(isIOS||isIPad)&&("running"===e._previousState&&"interrupted"===e._currentState&&internalEventBus.emit(InternalEvent.ON_IOS_INTERRUPTION_START),"interrupted"===e._previousState&&"running"===e._currentState&&internalEventBus.emit(InternalEvent.ON_IOS_INTERRUPTION_END))}}return this._audioContextInstance}}])}(),AudioLevelFetcher=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_ctx"),__publicField(this,"_analyserNode"),__publicField(this,"_audioSource"),__publicField(this,"currentTrackId"),this.currentTrackId=t.id;var n=audioContextManager.getAudioContextInstance();if(t instanceof MediaStreamTrack){var r=new MediaStream;r.addTrack(t),this._audioSource=n.createMediaStreamSource(r)}else this._audioSource=n.createMediaElementSource(t),this._audioSource.connect(n.destination);var i=n.createAnalyser();this._audioSource.connect(i),this._analyserNode=i,this._ctx=n}),[{key:"getAudioLevel",value:function(){var e;"suspended"===(null==(e=this._ctx)?void 0:e.state)&&this._ctx.resume();var t=new Uint8Array(2048);this._analyserNode.getByteTimeDomainData(t);var n=0;t.forEach((function(e){return n=Math.max(n,Math.abs(e-128))}));var r=n/128*255;return r>2?r:0}},{key:"resume",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this._ctx)?void 0:t.resume();case 2:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){this._audioSource.disconnect(),this._analyserNode.disconnect()}}]);var e}(),audioContextManager=new WebAudioManager,RTCExtensionType=function(e){return e[e.CAPTURE=0]="CAPTURE",e[e.PRE_PROCESSING=1]="PRE_PROCESSING",e[e.ENCODE=2]="ENCODE",e[e.TRANSFER=3]="TRANSFER",e[e.POST_PROCESSING=4]="POST_PROCESSING",e[e.DECODE=5]="DECODE",e[e.RENDERING=6]="RENDERING",e}(RTCExtensionType||{}),ExtensionManager=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_plugins",new Map),this.id=t}),[{key:"register",value:function(e){var t=this._plugins.get(e.type)||[];if(t.findIndex((function(t){return t.name===e.name}))>-1)throw new Error("Failed to register ".concat(e.name,": name is repeated."));t.push(e),this._plugins.set(e.type,t)}},{key:"getPluginsByType",value:function(e){return this._plugins.get(e)||[]}},{key:"getPluginByName",value:function(e,t){return(this._plugins.get(e)||[]).find((function(e){return e.name===t}))}},{key:"getPreProcessingTrack",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this._plugins.get(1)||[],r=t.mediaTrack,i=_createForOfIteratorHelper$1(n),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=12;break}return o=a.value,e.next=9,o.effect(t,r);case 9:r=e.sent;case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,this,[[3,14,17,20]])}))),function(t){return e.apply(this,arguments)})},{key:"destroy",value:function(){this._plugins.forEach((function(e){e.forEach((function(e){return e.destroy()}))})),this._plugins.clear()}}]);var e}(),SourceType=function(e){return e[e.EXTERNAL=0]="EXTERNAL",e[e.INTERNAL=1]="INTERNAL",e}(SourceType||{}),logger$6=new Logger$1$1("VERTC",0),AudioProcessor=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"_ac"),__publicField(this,"_sourceNode"),__publicField(this,"_gainNode"),__publicField(this,"_destNode"),this._ac=audioContextManager.getAudioContextInstance(),this._gainNode=this._ac.createGain(),this._destNode=this._ac.createMediaStreamDestination(),this._gainNode.connect(this._destNode)}),[{key:"setVolume",value:function(e){this._gainNode.gain.value=e/100}},{key:"getVolume",value:function(){return Math.round(100*this._gainNode.gain.value)}},{key:"updateInputTrack",value:function(e){this._sourceNode&&(this._sourceNode.mediaStream.getTracks().forEach((function(e){e.stop()})),delete this._sourceNode);var t=new MediaStream;t.addTrack(e),this._sourceNode=this._ac.createMediaStreamSource(t),this._sourceNode.connect(this._gainNode)}},{key:"getOutputTrack",value:function(){return this._destNode.stream.getTracks()[0]}},{key:"destroy",value:function(){var e,t;null==(e=this._sourceNode)||e.mediaStream.getTracks().forEach((function(e){e.stop()})),13!==safariVersion&&this._destNode.stream.getTracks().forEach((function(e){e.stop()})),null==(t=this._sourceNode)||t.disconnect(),this._gainNode.disconnect(),delete this._sourceNode}}])}(),Track=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"sourceType",1),__publicField(_assertThisInitialized(r),"_originTrack"),__publicField(_assertThisInitialized(r),"_trackId"),__publicField(_assertThisInitialized(r),"_channelCount"),r._trackId=n,r._originTrack=e,r._channelCount=e.getSettings().channelCount,r}return _inherits(t,e),_createClass$1(t,[{key:"getId",value:function(){return this._trackId}},{key:"channelCount",get:function(){var e;return null!==(e=this._channelCount)&&void 0!==e?e:0}},{key:"originTrack",get:function(){return this._originTrack},set:function(e){this._originTrack=e,this._channelCount=mediaTrack.getSettings().channelCount}},{key:"destroy",value:function(){this._originTrack.stop()}}])}(EnhancedEventEmitter),LocalTrack=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"_mediaTrack"),__publicField(_assertThisInitialized(r),"_preProcessingTrack"),__publicField(_assertThisInitialized(r),"_ap"),__publicField(_assertThisInitialized(r),"_extensionManager"),__publicField(_assertThisInitialized(r),"captureSessionId",""),__publicField(_assertThisInitialized(r),"handleTrackEnded",(function(){r.emit("track-ended",_assertThisInitialized(r)),r.close()})),__publicField(_assertThisInitialized(r),"handleMute",(function(){r.emit("track-mute",_assertThisInitialized(r))})),__publicField(_assertThisInitialized(r),"handleUnmute",(function(){r.emit("track-unmute",_assertThisInitialized(r))})),r._initListeners(),r}return _inherits(t,e),_createClass$1(t,[{key:"withWebAudio",get:function(){return!!this._ap}},{key:"mediaTrack",get:function(){var e;return null!==(e=this._mediaTrack)&&void 0!==e?e:this._originTrack}},{key:"preprocessingTrack",get:function(){var e;return null!==(e=this._preProcessingTrack)&&void 0!==e?e:this.mediaTrack}},{key:"setTrack",value:function(e,t){this._originTrack=e,this._ap&&(this._ap.updateInputTrack(e),this._mediaTrack=this._ap.getOutputTrack()),t&&this.generatePreProcessingTrack(t)}},{key:"generatePreProcessingTrack",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._extensionManager=t,this._preProcessingTrack=void 0,e.prev=1,e.next=4,t.getPreProcessingTrack(this);case 4:(n=e.sent)instanceof MediaStreamTrack&&(this._preProcessingTrack=n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return n.apply(this,arguments)})},{key:"close",value:function(){var e,n;this._originTrack.removeEventListener("ended",this.handleTrackEnded),this._originTrack.removeEventListener("mute",this.handleMute),this._originTrack.removeEventListener("unmute",this.handleUnmute),null==(e=this._preProcessingTrack)||e.stop(),null==(n=this._mediaTrack)||n.stop(),this._ap&&this._ap.destroy(),_superPropGet(t,"destroy",this,3)([])}},{key:"_initListeners",value:function(){this._originTrack instanceof MediaStreamTrack&&(this._originTrack.addEventListener("ended",this.handleTrackEnded),this._originTrack.addEventListener("mute",this.handleMute),this._originTrack.addEventListener("unmute",this.handleUnmute))}}]);var n}(Track),RemoteTrack=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"_mediaTrack"),__publicField(_assertThisInitialized(r),"_ap"),__publicField(_assertThisInitialized(r),"player"),r._originTrack=e,r}return _inherits(t,e),_createClass$1(t,[{key:"mediaTrack",get:function(){var e;return null!==(e=this._mediaTrack)&&void 0!==e?e:this._originTrack}},{key:"preprocessingTrack",get:function(){return this.mediaTrack}},{key:"withWebAudio",get:function(){return!!this._ap}},{key:"setPlayer",value:function(e){this.player=e}},{key:"close",value:function(){this._ap&&this._ap.destroy()}}])}(Track),LocalVideoTrack=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"mediaType","video"),__publicField(_assertThisInitialized(r),"resolution"),__publicField(_assertThisInitialized(r),"dummy",!1),__publicField(_assertThisInitialized(r),"videoPlayer"),r.resolution={width:0,height:0},r}return _inherits(t,e),_createClass$1(t,[{key:"updateVideoCaptureConfig",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return logger$6.info("updateVideoEncoderConfig","update localVideoTrack: ",t),delete(n=_objectSpread2({},t)).contentHint,isFirefox&&this.streamIndex===StreamIndex.STREAM_INDEX_MAIN&&(n.frameRate={ideal:30,max:30}),e.next=6,this.originTrack.applyConstraints(n);case 6:((r=this.originTrack.getSettings()).width&&r.width!==this.resolution.width||r.height&&r.height!==this.resolution.height)&&(this.resolution={width:r.width,height:r.height},this.emit("resolution-change",this.resolution));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"replaceTrack",value:function(e){this.setTrack(e)}},{key:"setContentHint",value:function(e){"contentHint"in this.originTrack&&["text","motion","detail"].includes(e)&&(this.originTrack.contentHint=e)}}]);var n}(LocalTrack),LocalAudioTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"mediaType","audio"),__publicField(_assertThisInitialized(e),"audioCaptureConfig"),__publicField(_assertThisInitialized(e),"mixedAudioTrack"),__publicField(_assertThisInitialized(e),"mixType",AudioMixingType.PLAYOUT_AND_PUBLISH),__publicField(_assertThisInitialized(e),"_audioFetchMap",new Map),__publicField(_assertThisInitialized(e),"notSupportedWebAudio",!1),e}return _inherits(t,e),_createClass$1(t,[{key:"getAudioLevel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AudioReportMode.MICROPHONE,n=t===AudioReportMode.AUDIOMIXING&&this.mixType!==AudioMixingType.PLAYOUT&&null!==(e=this.mixedAudioTrack)&&void 0!==e?e:this.preprocessingTrack,r=this._audioFetchMap.get(t);return r&&r.currentTrackId===n.id||(null==r||r.destroy(),r=new AudioLevelFetcher(n),this._audioFetchMap.set(t,r)),r.getAudioLevel()}},{key:"updateAudioCaptureConfig",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.audioCaptureConfig,!e.t0){e.next=5;break}return logger$6.info("updateAudioCaptureConfig","update localAudioTrack: ",this.audioCaptureConfig),e.next=5,this.originTrack.applyConstraints(this.audioCaptureConfig);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"close",value:function(){this._audioFetchMap.forEach((function(e){return e.destroy()})),this._audioFetchMap.clear(),_superPropGet(t,"close",this,3)([])}},{key:"setVolume",value:function(e){var t,n=!getParameter("SKIP_WEB_AUDIO_IN_TRACK")&&isWebAudioSupported();n||(this.notSupportedWebAudio=!0);var r=!this.withWebAudio&&100!==e;try{n&&r&&(logger$6.print("Create AudioProcess"),this._ap=new AudioProcessor,this._ap.updateInputTrack(this.originTrack),this._mediaTrack=this._ap.getOutputTrack(),this._extensionManager&&this.generatePreProcessingTrack(this._extensionManager))}catch(i){logger$6.print("WebAudio may not supported, quired return"),this.notSupportedWebAudio=!0}this.notSupportedWebAudio||null==(t=this._ap)||t.setVolume(e),n&&r&&this.emit("needReplaceTrack",this)}},{key:"getVolume",value:function(){return this._ap?this._ap.getVolume():100}}]);var n}(LocalTrack),RemoteVideoTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"mediaType","video"),__publicField(_assertThisInitialized(e),"videoPlayer"),e}return _inherits(t,e),_createClass$1(t)}(RemoteTrack),RemoteAudioTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"mediaType","audio"),__publicField(_assertThisInitialized(e),"_audioLevelFetcher"),__publicField(_assertThisInitialized(e),"notSupportedWebAudio",!1),e}return _inherits(t,e),_createClass$1(t,[{key:"getAudioLevel",value:function(){return this._audioLevelFetcher||(this._audioLevelFetcher=new AudioLevelFetcher(this.originTrack)),this._audioLevelFetcher.getAudioLevel()}},{key:"setVolume",value:function(e){var t,n,r=!getParameter("SKIP_WEB_AUDIO_IN_TRACK")&&isWebAudioSupported();r||(this.notSupportedWebAudio=!0);var i=!this.withWebAudio&&100!==e;try{r&&i&&(logger$6.print("Create AudioProcess"),this._ap=new AudioProcessor,this._ap.updateInputTrack(this.originTrack),this._mediaTrack=this._ap.getOutputTrack())}catch(a){logger$6.print("WebAudio may not supported, quite return"),this.notSupportedWebAudio=!0}this.notSupportedWebAudio||null==(t=this._ap)||t.setVolume(e),r&&i&&(this.emit("needReplaceTrack",this),null==(n=this.player)||n.playAudio(this))}},{key:"getVolume",value:function(){return this.notSupportedWebAudio?100:this._ap?this._ap.getVolume():100}},{key:"close",value:function(){var e;null==(e=this._audioLevelFetcher)||e.destroy(),_superPropGet(t,"close",this,3)([])}}])}(RemoteTrack),MicrophoneAudioTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_MAIN),e}return _inherits(t,e),_createClass$1(t)}(LocalAudioTrack),CameraVideoTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_MAIN),e}return _inherits(t,e),_createClass$1(t)}(LocalVideoTrack),CustomVideoLocalTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_MAIN),__publicField(_assertThisInitialized(e),"sourceType",0),e}return _inherits(t,e),_createClass$1(t)}(LocalVideoTrack),CustomAudioLocalTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_MAIN),__publicField(_assertThisInitialized(e),"sourceType",0),e}return _inherits(t,e),_createClass$1(t)}(LocalAudioTrack),ScreenVideoTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_SCREEN),e}return _inherits(t,e),_createClass$1(t)}(LocalVideoTrack),ScreenAudioTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_SCREEN),e}return _inherits(t,e),_createClass$1(t)}(LocalAudioTrack),CustomScreenVideoLocalTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_SCREEN),__publicField(_assertThisInitialized(e),"sourceType",0),e}return _inherits(t,e),_createClass$1(t)}(LocalVideoTrack),CustomScreenAudioLocalTrack=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t,arguments),__publicField(_assertThisInitialized(e),"streamIndex",StreamIndex.STREAM_INDEX_SCREEN),__publicField(_assertThisInitialized(e),"sourceType",0),e}return _inherits(t,e),_createClass$1(t)}(LocalAudioTrack);function createDummyVideoLocalTrack(e,t){return _createDummyVideoLocalTrack.apply(this,arguments)}function _createDummyVideoLocalTrack(){return _createDummyVideoLocalTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new CameraVideoTrack(t,genUuid())).dummy=!0,e.next=4,r.generatePreProcessingTrack(n);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),_createDummyVideoLocalTrack.apply(this,arguments)}function createDummyScreenVideoLocalTrack(e,t){return _createDummyScreenVideoLocalTrack.apply(this,arguments)}function _createDummyScreenVideoLocalTrack(){return _createDummyScreenVideoLocalTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new ScreenVideoTrack(t,genUuid())).dummy=!0,e.next=4,r.generatePreProcessingTrack(n);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),_createDummyScreenVideoLocalTrack.apply(this,arguments)}function createCameraVideoTrack(e,t){return _createCameraVideoTrack.apply(this,arguments)}function _createCameraVideoTrack(){return _createCameraVideoTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null==(r=t.deviceId)?void 0:r.exact)||"default",s=getMonitor(n.id),l=genUuid(),e.prev=1,logger$6.info("createCameraVideoTrack","constraints:",t),null==s||s.report("rtc_video_capture_event",{event_type:"start",media_device_id:o,capture_session_id:l}),c=getServerNow(),isFirefox&&(t.frameRate={ideal:30,max:30}),e.next=7,dd$1.getUserMedia({video:t});case 7:a=e.sent,null==s||s.report("rtc_video_capture_event",{event_type:"start_capture_result",media_device_id:o,media_device_name:(null==(i=a.getVideoTracks()[0])?void 0:i.label)||"",reason:"success",elapse:getServerNow()-c,capture_session_id:l}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),null==s||s.report("rtc_video_capture_event",{event_type:"running_failed",media_device_id:o,error_code:e.t0.code,reason:e.t0.name+e.t0.message,capture_session_id:l}),new SDKError(ErrorCode.GET_VIDEO_TRACK_FAILED,"throw error from getUserMedia. [".concat(e.t0.name||"unknown name","]: ").concat(e.t0.message||"unknown message","."),e.t0);case 14:return d=a.getVideoTracks()[0],(u=new CameraVideoTrack(d,genUuid())).captureSessionId=l,e.next=18,u.generatePreProcessingTrack(n);case 18:return e.abrupt("return",u);case 19:case"end":return e.stop()}}),e,null,[[1,11]])}))),_createCameraVideoTrack.apply(this,arguments)}function createMicrophoneAudioTrack(e,t){return _createMicrophoneAudioTrack.apply(this,arguments)}function _createMicrophoneAudioTrack(){return _createMicrophoneAudioTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return logger$6.info("createMicrophoneAudioTrack","constraints:",t),o=(null==(r=t.deviceId)?void 0:r.exact)||"default",s=getMonitor(n.id),l=genUuid(),e.prev=2,null==s||s.report("rtc_audio_device_event",{device_type:"audio_record",event_type:"start_begin",media_device_id:o,event_session_id:l}),c=getServerNow(),(d=n.getPluginByName(RTCExtensionType.PRE_PROCESSING,"RTCAIAnsExtension"))&&(d.isOpen()?(t.autoGainControl=!0,t.noiseSuppression=!1):t.noiseSuppression=!0),e.next=8,dd$1.getUserMedia({audio:t});case 8:a=e.sent,null==s||s.report("rtc_audio_device_event",{device_type:"audio_record",event_type:"start_result",media_device_id:o,media_device_name:(null==(i=a.getAudioTracks()[0])?void 0:i.label)||"",reason:"success",elapse:getServerNow()-c,event_session_id:l}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),null==s||s.report("rtc_audio_device_event",{device_type:"audio_record",event_type:"start_end",media_device_id:o,error_code:e.t0.code,reason:e.t0.name+e.t0.message,event_session_id:l}),new SDKError(ErrorCode.GET_AUDIO_TRACK_FAILED,"throw error from getUserMedia. [".concat(e.t0.name||"unknown name","]: ").concat(e.t0.message||"unknown message","."),e.t0);case 15:return u=a.getAudioTracks()[0],(U=new MicrophoneAudioTrack(u,genUuid())).captureSessionId=l,e.next=19,U.generatePreProcessingTrack(n);case 19:return e.abrupt("return",U);case 20:case"end":return e.stop()}}),e,null,[[2,12]])}))),_createMicrophoneAudioTrack.apply(this,arguments)}function createMicrophoneAndCameraTrack(e,t,n){return _createMicrophoneAndCameraTrack.apply(this,arguments)}function _createMicrophoneAndCameraTrack(){return _createMicrophoneAndCameraTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return logger$6.print("createCameraAndMicrophoneTrack","audioConstraints:",t,"videoConstraints:",n),l=getMonitor(r.id),d=(null==(i=t.deviceId)?void 0:i.exact)||"default",u=(null==(a=n.deviceId)?void 0:a.exact)||"default",U=genUuid(),F=genUuid(),genUuid(),genUuid(),e.prev=4,null==l||l.report("rtc_video_capture_event",{event_type:"start",media_device_id:u,capture_session_id:U}),null==l||l.report("rtc_audio_device_event",{device_type:"audio_record",event_type:"start_begin",media_device_id:d,event_session_id:F}),p=getServerNow(),isFirefox&&(n.frameRate={ideal:30,max:30}),(Q=r.getPluginByName(RTCExtensionType.PRE_PROCESSING,"RTCAIAnsExtension"))&&(Q.isOpen()?(t.autoGainControl=!0,t.noiseSuppression=!1):t.noiseSuppression=!0),e.next=12,dd$1.getUserMedia({audio:t,video:n});case 12:c=e.sent,null==l||l.report("rtc_video_capture_event",{event_type:"start_capture_result",media_device_id:u,media_device_name:(null==(o=c.getVideoTracks()[0])?void 0:o.label)||"",reason:"success",elapse:getServerNow()-p,capture_session_id:U}),null==l||l.report("rtc_audio_device_event",{device_type:"audio_record",event_type:"start_result",media_device_id:d,media_device_name:(null==(s=c.getAudioTracks()[0])?void 0:s.label)||"",reason:"success",elapse:getServerNow()-p,event_session_id:F}),e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(4),null==l||l.report("rtc_video_capture_event",{event_type:"running_failed",media_device_id:u,error_code:e.t0.code,reason:e.t0.name+e.t0.message,capture_session_id:U}),null==l||l.report("rtc_audio_device_event",{device_type:"audio_record",event_type:"start_end",media_device_id:d,error_code:e.t0.code,reason:e.t0.name+e.t0.message,event_session_id:F}),new SDKError(ErrorCode.GET_VIDEO_TRACK_FAILED,"throw error from getUserMedia. [".concat(e.t0.name||"unknown name","]: ").concat(e.t0.message||"unknown message","."),e.t0);case 20:return h=c.getVideoTracks()[0],(R=new CameraVideoTrack(h,genUuid())).captureSessionId=U,e.next=24,R.generatePreProcessingTrack(r);case 24:return _=c.getAudioTracks()[0],(S=new MicrophoneAudioTrack(_,genUuid())).captureSessionId=F,e.next=28,S.generatePreProcessingTrack(r);case 28:return e.abrupt("return",{videoTrack:R,audioTrack:S});case 29:case"end":return e.stop()}}),e,null,[[4,17]])}))),_createMicrophoneAndCameraTrack.apply(this,arguments)}function createScreenTracks(){return _createScreenTracks.apply(this,arguments)}function _createScreenTracks(){return _createScreenTracks=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]&&p[0],n=p.length>1?p[1]:void 0,r=p.length>2?p[2]:void 0,logger$6.info("createScreenTracks","withAudio: %o, constraints: %o",t,r),s=getMonitor(n.id),l=genUuid(),e.prev=5,null==s||s.report("rtc_video_capture_event",{event_type:"start",media_device_id:"screen",capture_session_id:l}),c=getServerNow(),e.next=10,navigator.mediaDevices.getDisplayMedia({video:!(r&&(!isSafari||"16.1"!==safariMinorVersion))||r,audio:!!t&&{channelCount:2,noiseSuppression:!1,echoCancellation:!0,autoGainControl:!1}});case 10:o=e.sent,null==s||s.report("rtc_video_capture_event",{event_type:"start_capture_result",media_device_id:"screen",media_device_name:"".concat((null==(i=o.getVideoTracks()[0])?void 0:i.label)||"",", ").concat((null==(a=o.getAudioTracks()[0])?void 0:a.label)||""),reason:"success",elapse:getServerNow()-c,capture_session_id:l}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),null==s||s.report("rtc_video_capture_event",{event_type:"running_failed",media_device_id:"screen",error_code:e.t0.code,reason:e.t0.name+e.t0.message,capture_session_id:l}),new SDKError(ErrorCode.GET_SCREEN_TRACK_FAILED,"throw error from getDisplayMedia",e.t0);case 17:return d=o.getVideoTracks()[0],(u=new ScreenVideoTrack(d,genUuid())).captureSessionId=l,e.next=21,u.generatePreProcessingTrack(n);case 21:if(!(U=o.getAudioTracks()[0])){e.next=27;break}return F=new ScreenAudioTrack(U,genUuid()),e.next=26,F.generatePreProcessingTrack(n);case 26:return e.abrupt("return",[u,F]);case 27:return e.abrupt("return",[u,void 0]);case 28:case"end":return e.stop()}}),e,null,[[5,14]])}))),_createScreenTracks.apply(this,arguments)}function createRemoteVideoTrack(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:genUuid();return new RemoteVideoTrack(e,t)}function createRemoteAudioTrack(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:genUuid();return new RemoteAudioTrack(e,t)}function createCustomVideoLocalTrack(e,t){return _createCustomVideoLocalTrack.apply(this,arguments)}function _createCustomVideoLocalTrack(){return _createCustomVideoLocalTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new CustomVideoLocalTrack(t,genUuid()),e.next=3,r.generatePreProcessingTrack(n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),_createCustomVideoLocalTrack.apply(this,arguments)}function createCustomAudioLocalTrack(e,t){return _createCustomAudioLocalTrack.apply(this,arguments)}function _createCustomAudioLocalTrack(){return _createCustomAudioLocalTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new CustomAudioLocalTrack(t,genUuid()),e.next=3,r.generatePreProcessingTrack(n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),_createCustomAudioLocalTrack.apply(this,arguments)}function createCustomScreenVideoLocalTrack(e,t){return _createCustomScreenVideoLocalTrack.apply(this,arguments)}function _createCustomScreenVideoLocalTrack(){return _createCustomScreenVideoLocalTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new CustomScreenVideoLocalTrack(t,genUuid()),e.next=3,r.generatePreProcessingTrack(n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),_createCustomScreenVideoLocalTrack.apply(this,arguments)}function createCustomScreenAudioLocalTrack(e,t){return _createCustomScreenAudioLocalTrack.apply(this,arguments)}function _createCustomScreenAudioLocalTrack(){return _createCustomScreenAudioLocalTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new CustomScreenAudioLocalTrack(t,genUuid()),e.next=3,r.generatePreProcessingTrack(n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),_createCustomScreenAudioLocalTrack.apply(this,arguments)}var runtimeTrackCls={LocalVideoTrack:LocalVideoTrack,LocalAudioTrack:LocalAudioTrack,RemoteVideoTrack:RemoteVideoTrack,RemoteAudioTrack:RemoteAudioTrack},RemoveStreamMessage=function(e){return e.streamRemovedBySchedule308="stream removed",e.clientRePublish="client republish",e.publishStreamFaied="publish failed",e.clientUnPublish="client unpublished",e.clientDisconnected="client disconnected",e.videoMuted="video muted",e}(RemoveStreamMessage||{}),StreamControlType=function(e){return e.PushLimitWarn="PushLimitWarn",e}(StreamControlType||{}),SignalEvent=function(e){return e.ON_ADD_STREAM="onAddStream",e.ON_ADD_STREAM_LIST="onAddStreamList",e.ON_REMOVE_STREAM="onRemoveStream",e.ON_REMOVE_STREAM_LIST="onRemoveStreamList",e.USER_DISCONNECTION="userDisconnection",e.USER_DISCONNECTION_LIST="userDisconnectionList",e.USER_CONNECTION="userConnection",e.USER_CONNECTION_LIST="userConnectionList",e.ON_UPDATE_STREAM_ATTRIBUTES="onUpdateStreamAttributes",e.ON_UPDATE_ROOM_ATTRIBUTES="onUpdateRoomAttributes",e.ON_UPDATE_USER_ATTRIBUTES="onUpdateUserAttributes",e.ON_PUSH_TRACK="onPushTrack",e.ON_REMOVE_TRACK="onRemoveTrack",e.ON_CUSTOM_MESSAGE="onCustomMessage",e.NODE_CHANGE="nodeChange",e.USER_MESSAGE_RECEIVED="userMessageReceived",e.USER_BINARY_MESSAGE_RECEIVED="userBinaryMessageReceived",e.USER_MESSAGE_RECEIVED_OUTSIDE_ROOM="userMessageReceivedOutsideRoom",e.USER_BINARY_MESSAGE_RECEIVED_OUTSIDE_ROOM="userBinaryMessageReceivedOutsideRoom",e.POST_PROCESSING_MESSAGE="postProcessingMessage",e.ON_USER_TOKEN_WILL_EXPIRE="onUserTokenWillExpire",e.ON_TOKEN_PUBLISH_PRIVILEGE_WILL_EXPIRE="onTokenPublishPrivilegeWillExpire",e.ON_TOKEN_PUBLISH_PRIVILEGE_DID_EXPIRED="onTokenPublishPrivilegeDidExpired",e.ON_TOKEN_SUBSCRIBE_PRIVILEGE_WILL_EXPIRE="onTokenSubscribePrivilegeWillExpire",e.ON_TOKEN_SUBSCRIBE_PRIVILEGE_DID_EXPIRED="onTokenSubscribePrivilegeDidExpired",e.STREAM_CONTROL_MESSAGE="streamControlMessage",e.ON_SPEAKER_CHANGE="onSpeakerChange",e.ON_STREAM_FAILED="streamFailed",e.ON_NOTIFY_RECONNECT="notifyReconnect",e.ON_FORWARD_DST_ROOM_USER_KICK="onForwardDstRoomUserKick",e}(SignalEvent||{}),MediaServerSignalEvent=function(e){return e.RSCP="RSCP",e.RTT="RTT",e.SSC="SSC",e}(MediaServerSignalEvent||{}),StateEvent=function(e){return e.ON_CONNECTION_STATE_CHANGE="onConnectionStateChange",e.ON_VENDOR_CONNECTION_STATE_CHANGE="onVendorConnectionStateChange",e.ABNORMAL_DISCONNECTION="normalConnection",e}(StateEvent||{}),UserDisconnectionTag=function(e){return e.userLeave="userLeave",e.connectionLost="connectionLost",e.userDuplicateLogin="userDuplicateLogin",e.kickedByAdmin="kickedByAdmin",e.roleChanged="roleChanged",e.onUserTokenDidExpire="onUserTokenDidExpire",e}(UserDisconnectionTag||{}),UserDisconnectionCode=function(e){return e[e.roomDismissByAdmin=2]="roomDismissByAdmin",e}(UserDisconnectionCode||{}),VideoType=function(e){return e[e.NORMAL=0]="NORMAL",e[e.BLACK=1]="BLACK",e}(VideoType||{}),ExtendMediaType=function(e){return e[e.NONE=0]="NONE",e}(ExtendMediaType||{}),Nalunit={getNalunits:function(e){if(e.length-e.position<4)return[];var t=e.position;return 1===e.getInt32(t)||0===e.getInt16(t)&&1===e.getInt8(t+2)?Nalunit.getAnnexbNals(e):Nalunit.getAvccNals(e)},getAnnexbNals:function(e){for(var t=[],n=Nalunit.getHeaderPositionAnnexB(e),r=n.pos,i=r;r<e.length-4;){var a=new Uint8Array(e.buffer.slice(r,r+n.headerLength));n.pos===e.position&&e.skip(n.headerLength),i=(n=Nalunit.getHeaderPositionAnnexB(e)).pos;var o={header:a,body:new Uint8Array(e.buffer.slice(r+a.byteLength,i)),type:-1};Nalunit.analyseNal(o),o.type<=9&&0!==o.type&&t.push(o),e.skip(i-e.position),r=i}return t},getAvccNals:function(e){for(var t=[];e.position<e.length-4;){var n=e.getInt32(e.position);if(!(e.length-e.position>=n))break;var r=new Uint8Array(e.buffer.slice(e.position,e.position+4));e.skip(4);var i=new Uint8Array(e.buffer.slice(e.position,e.position+n));e.skip(n);var a={header:r,body:i,type:-1};Nalunit.analyseNal(a),a.type<=9&&0!==a.type&&t.push(a)}return t},analyseNal:function(e){var t=31&e.body[0];switch(e.type=t,t){case 1:e.ndr=!0;break;case 5:e.idr=!0;break;case 6:e.sei=!0;break;case 7:e.sps=!0;break;case 8:e.pps=!0}},getHeaderPositionAnnexB:function(e){for(var t=e.position,n=0,r=e.length;3!==n&&4!==n&&t<r-4;)0===e.getInt16(t)?1===e.getInt16(t+2)?n=4:1===e.getInt8(t+2)?n=3:t++:t++;return t===r-4&&(0===e.getInt16(t)?1===e.getInt16(t+2)?n=4:t=r:(t++,0===e.getInt16(t)&&1===e.getInt8(t)?n=3:t=r)),{pos:t,headerLength:n}}},RTCDataView=function(){function e(t){_classCallCheck$1(this,e),__publicField(this,"_position",0),__publicField(this,"_dataview"),this._dataview=new DataView(t)}return _createClass$1(e,[{key:"length",get:function(){return this.buffer.byteLength}},{key:"buffer",get:function(){return this._dataview.buffer}},{key:"position",get:function(){return this._position},set:function(e){this._position=e}},{key:"back",value:function(e){this.position-=e}},{key:"getUint8",value:function(e){return this._dataview.getUint8(e)}},{key:"getInt8",value:function(e){return this._dataview.getInt8(e)}},{key:"getInt16",value:function(e){return this._dataview.getInt16(e)}},{key:"getUint16",value:function(e){return this._dataview.getUint16(e)}},{key:"getUint32",value:function(e){return this._dataview.getUint32(e)}},{key:"getInt32",value:function(e){return this._dataview.getInt32(e)}},{key:"skip",value:function(t){for(var n=Math.floor(t/4),r=t%4,i=0;i<n;i++)e.readByte(this,4);r>0&&e.readByte(this,r)}},{key:"readUint8",value:function(){return e.readByte(this,1)}},{key:"readUint16",value:function(){return e.readByte(this,2)}},{key:"readUint24",value:function(){return e.readByte(this,3)}},{key:"readUint32",value:function(){return e.readByte(this,4)}},{key:"readUint64",value:function(){return e.readByte(this,8)}},{key:"readInt8",value:function(){return e.readByte(this,1,!0)}},{key:"readInt16",value:function(){return e.readByte(this,2,!0)}},{key:"readInt32",value:function(){return e.readByte(this,4,!0)}},{key:"writeUint32",value:function(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}}],[{key:"readByte",value:function(e,t,n){var r;switch(t){case 1:r=n?e.getInt8(e.position):e.getUint8(e.position);break;case 2:r=n?e.getInt16(e.position):e.getUint16(e.position);break;case 3:if(n)throw new Error("not supported for readByte 3");r=e.getUint8(e.position)<<16,r|=e.getUint8(e.position+1)<<8,r|=e.getUint8(e.position+2);break;case 4:r=n?e.getInt32(e.position):e.getUint32(e.position);break;case 8:if(n)throw new Error("not supported for readBody 8");r=e.getUint32(e.position)<<32,r|=e.getUint32(e.position+4);break;default:r=""}return e.position+=t,r}}])}(),RTC_SEI_TYPE=function(e){return e[e.internal=0]="internal",e[e.external=1]="external",e[e.bypass=2]="bypass",e}(RTC_SEI_TYPE||{}),UUID_INTERNAL=new Uint8Array([109,167,53,190,103,90,72,1,170,89,63,164,194,199,19,85]),UUID_EXTERNAL=new Uint8Array([109,167,53,190,103,90,72,1,170,89,63,164,194,199,19,84]),UUID_EXTERNAL_2=new Uint8Array([31,239,3,50,242,120,76,85,169,42,161,91,75,186,22]),rbsp2ebsp=function(e){var t,n=[],r=0,i=_createForOfIteratorHelper$1(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r>=2&&a<=3&&(n.push(3),r=0),0===a?r++:r=0,n.push(a)}}catch(err2){i.e(err2)}finally{i.f()}return new Uint8Array(n)},ebsp2rbsp=function(e){for(var t=[],n=0;n<e.length;n++)e[n]<=3&&0===e[n-1]&&0===e[n-2]||t.push(e[n]);return new Uint8Array(t)};function serializeData(e){for(var t=[];e>=255;)e-=255,t.push(255);return t.push(e),new Uint8Array(t)}function deserializeData(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;255===e[t]&&t<e.byteLength;)t++,n+=255;return t<e.byteLength&&(n+=e[t++]),[n,t]}var _SEIHelper2=function(){return _createClass$1((function e(){_classCallCheck$1(this,e)}),null,[{key:"generateSEI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint8Array([0,0,0,1]),r=new Uint8Array([6]),i=new Uint8Array([5]),a=_SEIHelper2.__uuid||(t?UUID_INTERNAL:UUID_EXTERNAL),o=serializeData(e.byteLength+a.byteLength),s=rbsp2ebsp(e);return new Uint8Array([].concat(_toConsumableArray(n),_toConsumableArray(r),_toConsumableArray(i),_toConsumableArray(o),_toConsumableArray(a),_toConsumableArray(s),[128]))}},{key:"decodeSeiBody",value:function(e){e=e.slice(0,e.length-1);var t=ebsp2rbsp(e);if(!(t.byteLength<2)){var n=0;if(5===t[1]||100===t[1]){var r=_slicedToArray(deserializeData(t,n+=2),2),i=r[0],a=2,o=(n=r[1])+i;return t.byteLength>=UUID_EXTERNAL.byteLength&&i>=UUID_EXTERNAL.byteLength&&(t.slice(n,n+UUID_EXTERNAL.byteLength).toString()===UUID_EXTERNAL.toString()||t.slice(n,n+UUID_EXTERNAL_2.byteLength).toString()===UUID_EXTERNAL_2.toString())?(n+=UUID_EXTERNAL.byteLength,a=1):t.byteLength>=UUID_EXTERNAL.byteLength&&i>=UUID_EXTERNAL.byteLength&&t.slice(n,n+UUID_INTERNAL.byteLength).toString()===UUID_INTERNAL.toString()&&(n+=UUID_INTERNAL.byteLength,a=0),{type:a,payload:t.slice(n,o)}}}}},{key:"parseInternalSEI",value:function(e){var t=new Map,n=0;if(0===e.type){for(;e.payload.byteLength-n>=2;){var r=_slicedToArray(deserializeData(e.payload,n),2),i=r[0];n=r[1];var a=_slicedToArray(deserializeData(e.payload,n),2),o=a[0];if(n=a[1],t.get(i)||!(o<=e.payload.byteLength-n))break;t.set(i,e.payload.slice(n,n+o)),n+=o}return t}}},{key:"makeInternalSei",value:function(e){var t,n=[],r=_createForOfIteratorHelper$1(e);try{for(r.s();!(t=r.n()).done;){var i=_slicedToArray(t.value,2),a=i[0],o=i[1],s=serializeData(a),l=serializeData(o.byteLength);n.push(s,l,o)}}catch(err2){r.e(err2)}finally{r.f()}var c=n.reduce((function(e,t){return e+t.byteLength}),0),d=new Uint8Array(c);return n.reduce((function(e,t){return d.set(t,e),e+t.byteLength}),0),d}}])}(),SEIHelper=_SEIHelper2;__publicField(SEIHelper,"__uuid");var Stats=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_timer"),__publicField(this,"handler"),__publicField(this,"_monitor"),__publicField(this,"logger"),__publicField(this,"_destroyed",!1),this._context=t,this._monitor=getMonitor(t.id),this.logger=new Logger$1$1("Stats",3,t.id)}),[{key:"setVar",value:function(e){this.handler=e}},{key:"stopReport",value:function(e){this._timer&&(this.logger.info("stopReport","invoke"),clearTimeout(this._timer),delete this._timer,reportRtcInvokeStatus(this._context.id,"del_media_statistics_timer","reason: ".concat(e,", stack: ").concat((new Error).stack),0,this._stream.streamId||""))}},{key:"filterIllegal",value:function(e){var t={};return Object.keys(e).forEach((function(n){null===e[n]||void 0===e[n]||Number.isNaN(e[n])||(t[n]=e[n])})),t}},{key:"destroy",value:function(){this.logger.info("destroy","invoke"),reportRtcInvokeStatus(this._context.id,"media_statistics_destroy","".concat((new Error).stack),0,"".concat(this._stream.streamId)),this.stopReport("destroy"),this._destroyed=!0}}])}(),LocalStatsReport=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),(r=_callSuper(this,t,[e]))._stream=n,r}return _inherits(t,e),_createClass$1(t,[{key:"setLocalStreamStatsEvtInterval",value:function(e,t){var n,r,i,a=this;if(!this._timer){this.logger.info("setLocalStreamStatsEvtInterval","invoke"),this.setVar(t),this._destroyed=!1;var o={audio:{},video:{}},s=this._stream,l=null==(n=s.audioTrack)?void 0:n.preprocessingTrack,c=null==(r=s.videoTrack)?void 0:r.preprocessingTrack;this.getAudioStats(l,o,null==(i=s.audioTrack)?void 0:i.getAudioLevel()),this.getVideoStats(c,o);var d=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null==(t=s.audioTrack)?void 0:t.preprocessingTrack,l=null==(n=s.videoTrack)?void 0:n.preprocessingTrack,e.next=3,a.getAudioStats(i,o,null==(r=s.audioTrack)?void 0:r.getAudioLevel());case 3:return e.t0=e.sent,e.next=6,a.getVideoStats(l,o);case 6:return e.t1=e.sent,e.t2=s.isScreen,e.abrupt("return",{audioStats:e.t0,videoStats:e.t1,isScreen:e.t2});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:n=t.sent,e(n),a._destroyed||(a._timer=setTimeout(u,2e3));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();this._timer=setTimeout(u,2e3)}}},{key:"getAudioStats",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={},l={timestamp:Date.now()},c=this._stream,d=c.streamId,u=c.audioMid,U=c.isScreen,F=c.pubAttributes,p=c.pubAudio,Q=c.audioTrack,h={media_type:"audio",is_screen:!!U,direction:"up",stream_id:d,vid:u,connection_status:navigator.onLine,track_enabled:null==t?void 0:t.enabled,capture_state:F.localaudio?"capture_state_on":"capture_state_off",mute_state:p?"mute_state_off":"mute_state_on"},Q&&(h.playback_volume=Q.getVolume()),t&&this.handler){e.next=3;break}return e.abrupt("return",s);case 3:return e.next=5,this.handler.getStats(t,!1,null==(i=this._stream.audioTransceiver)?void 0:i.sender);case 5:if((R=e.sent).length){e.next=8;break}return e.abrupt("return",s);case 8:return R.forEach((function(e){var t=e.type,n=e.packetsSent,r=e.packetsLost,i=e.bytesSent,a=e.clockRate,o=e.roundTripTime,c=e.channels,d=e.audioLevel,u=e.mimeType,U=e.availableIncomingBitrate,F=e.availableOutgoingBitrate,p=e.bytesReceived,Q=e.nominated,R=e.id,_=e.currentRoundTripTime,S=e.state,B=e.writable,m=e.requestsReceived,f=e.responsesReceived,E=e.requestsSent,v=e.consentRequestsSent,y=e.responsesSent,g=e.jitter,T=e.candidateType,V=e.ip,k=e.address,N=e.networkType,b=e.port,C=e.protocol,J=e.nackCount,W=e.retransmittedBytesSent,D=e.retransmittedPacketsSent,Z=e.audioInputLevel,M=e.ssrc,I=e.totalAudioEnergy,O=e.totalSamplesDuration,A=e.mediaType,w=e.fractionLost;"outbound-rtp"===t?(l.packetsSent=n,l.bytesSent=i,h.bytes=i,h.packetsSent=n,h.nackCount=J,h.ssrc=M,h.retransmitted_bytes_sent=W,h.retransmitted_packets_sent=D,l.retransmittedBytesSent=W,l.retransmittedPacketsSent=D):"remote-inbound-rtp"===t?(l.packetsLost=r,h.packetsLost=r,h.net_jitter=1e3*g,s.rtt=1e3*o,h.rtt=s.rtt,s._fractionLost=w||0):"codec"===t?(s.recordSampleRate=a,s.numChannels=c,h.codecName=u):"media-source"===t&&void 0!==d?(h.audio_level=d?-10*Math.log10(Math.pow(d,2)):d,h.volume=255*d,h.total_audio_energy=I,h.totalInputDuration=O):"ssrc"===t&&"audio"===A?h.send_level=Z:"candidate-pair"===t?(h.ice_available_incoming_bitrate=U,h.ice_available_outgoing_bitrate=F,h.ice_bytes_received=p,h.ice_bytes_sent=i,h.ice_nominated=Number(Q),h.ice_pair_id=R,h.ice_pair_rtt=_,h.ice_pair_state=S,h.ice_pair_writable=B,h.recv_ping_requests=m,h.recv_ping_responses=f,h.sent_ping_requests_before_first_response=E,h.sent_ping_requests_total=E+(v||0),h.sent_ping_responses=y):"local-candidate"===t?(h.local_candidate_type=T,h.local_ip=V||k,h.local_network_type=N,h.local_port=b,h.protocol=C):"remote-candidate"===t&&(h.remote_candidate_type=T,h.remote_ip=V||k,h.remote_port=b);var x=getParameter("STATS_SCALLBACK_SUPPORT");isStatsCallbackSupport&&x||"media-source"===t&&(h.send_level=d)})),h.send_level?h.send_level<1?h._sendVolumeLevel=32767*h.send_level:h._sendVolumeLevel=h.send_level:(_=(null==Q?void 0:Q.getAudioLevel())||0,h._sendVolumeLevel=Math.round(_/255*32767)),void 0===h.volume&&void 0!==r&&(h.volume=r,h.audio_level=r?-10*Math.log10(Math.pow(r/255,2)):r),S=n.audio,e.abrupt("return",S.timestamp?(void 0!==l.packetsLost&&(s.audioLossRate=Math.max(0,l.packetsLost-S.packetsLost)/(l.packetsSent-S.packetsSent),s.audioLossRate=Number.isNaN(s.audioLossRate)?0:s.audioLossRate,h.fraction_lost=s.audioLossRate),s.statsInterval=l.timestamp-S.timestamp,h.stats_interval=s.statsInterval,s.sendKBitrate=(l.bytesSent-S.bytesSent||0)/s.statsInterval*8,h.mediaBitratebps=Math.round(1e3*s.sendKBitrate),h.bandwidth=Math.round(h.mediaBitratebps/1024),void 0!==l.retransmittedBytesSent&&(h.retransmitBitratebps=(l.retransmittedBytesSent-S.retransmittedBytesSent||0)/s.statsInterval),n.audio=l,h.vendor_mode=this._stream.vendorCode||0,h.pc_session_id=null==(a=this.handler)?void 0:a.peerConnectionId,null==(o=this._monitor)||o.report("rtc_media_statistics",h),s._retransmittedRate=(l.retransmittedPacketsSent-S.retransmittedPacketsSent)/(l.packetsSent-S.packetsSent),void 0===s.audioLossRate&&(s.audioLossRate=s._retransmittedRate,h.fraction_lost=s.audioLossRate),s._fractionLost=Math.max(s._fractionLost,s.audioLossRate),s._sendVolumeLevel=h._sendVolumeLevel,this.filterIllegal(s)):(n.audio=l,this.filterIllegal(s)));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getVideoStats",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d={},u={timestamp:Date.now(),simulcast:{}},U=this._stream,F=U.streamId,p=U.videoMid,Q=U.isScreen,h=U.pubAttributes,R=U.enableSimulcast,_=U.pubVideo,S={media_type:"video",is_screen:!!Q,direction:"up",stream_id:F,vid:p,connection_status:navigator.onLine,track_enabled:null==t?void 0:t.enabled,capture_state:h.localvideo?"capture_state_on":"capture_state_off",mute_state:_?"mute_state_off":"mute_state_on"},t&&this.handler){e.next=3;break}return e.abrupt("return",d);case 3:return S.cap_frame_width=t.getSettings().width,S.cap_frame_height=t.getSettings().height,S.frameRateSent=t.getSettings().frameRate,d.isScreen=Q,S.is_intersecting=null==(i=null==(r=this._stream)?void 0:r.videoPlayer)?void 0:i.isIntersecting,e.next=6,this.handler.getStats(t,!1,null==(a=this._stream.videoTransceiver)?void 0:a.sender);case 6:if((B=e.sent).length){e.next=9;break}return e.abrupt("return",d);case 9:if(m=0,B.forEach((function(e){var t=e.type,r=e.framesEncoded,i=e.packetsLost,a=e.bytesSent,o=e.framesSent,s=e.retransmittedBytesSent,l=e.totalPacketSendDelay,c=e.totalEncodeTime,U=e.firCount,F=e.targetBitrate,p=e.roundTripTime,Q=e.mimeType,h=e.frameWidth,_=e.frameHeight,B=e.packetsSent,f=e.googActualEncBitrate,E=e.googAvailableReceiveBandwidth,v=e.googAvailableSendBandwidth,y=e.googAvgEncodeMs,g=e.googBucketDelay,T=e.googEncodeUsagePercent,V=e.googFrameRateInput,k=e.availableIncomingBitrate,N=e.availableOutgoingBitrate,b=e.bytesReceived,C=e.nominated,J=e.id,W=e.currentRoundTripTime,D=e.state,Z=e.writable,M=e.candidateType,I=e.ip,O=e.address,A=e.networkType,w=e.port,x=e.nackCount,P=e.pliCount,L=e.protocol,G=e.qpSum,Y=e.requestsReceived,H=e.responsesReceived,$=e.googRetransmitBitrate,j=e.requestsSent,X=e.consentRequestsSent,K=e.responsesSent,z=e.ssrc,q=e.googTargetEncBitrate,ee=e.googTransmitBitrate,te=e.retransmittedPacketsSent,ne=e.encoderImplementation,re=e.jitter,ie=e.rid,ae=e.fractionLost,oe=e.googAdaptationChanges,se=e.qualityLimitationReason,le=e.qualityLimitationDurations,ce=e.googFirsReceived,de=e.googFrameRateSent,ue=e.keyFramesEncoded,Ue=e.scalabilityMode,Fe=e.framesPerSecond,pe=e.frames;"outbound-rtp"===t?(R&&(ie?u.simulcast[ie]=e:u.simulcast[m]=e,m++),u.framesEncoded=r||u.framesEncoded||0,S.key_frames_encoded=ue||0,u.bytesSent=a||u.bytesSent||0,u.framesSent=o||u.framesSent,S.bytes=a||S.bytes||0,u.packetsSent=B||u.packetsSent||0,S.packetsSent=B||S.packetsSent||0,S.nackCount=x||S.nackCount||0,S.pli_count=P||S.pli_count||0,S.qp_sum=G||S.qp_sum||0,S.ssrc=z||S.ssrc||0,S.retransmitted_packets_sent=te,u.retransmittedPacketsSent=te,u.retransmittedBytesSent=s,S.encoder_implementation=ne,S.qualityLimitationReason=se,S.qualityLimitationDurations=le,S.scalabilityMode=Ue,void 0!==h&&((!d.encodedFrameWidth||h>d.encodedFrameWidth)&&(d.encodedFrameWidth=h),(!d.encodedFrameHeight||_>d.encodedFrameHeight)&&(d.encodedFrameHeight=_),S.frame_size_height=_,S.frame_size_width=h)):"track"===t?(d.encodedFrameWidth=h,d.encodedFrameHeight=_,S.frame_size_height=_,S.frame_size_width=h):"remote-inbound-rtp"===t?(u.packetsLost=i,d.rtt=1e3*p,S.rtt=d.rtt,S.jitter=1e3*re,S.packetsLost=i,d._fractionLost=ae||0):"codec"===t?(d.codecType=Q,S.codecName=Q):"candidate-pair"===t?(S.ice_available_incoming_bitrate=k,S.ice_available_outgoing_bitrate=N,S.ice_bytes_received=b,S.ice_bytes_sent=a,S.ice_nominated=Number(C),S.ice_pair_id=J,S.ice_pair_rtt=W,S.ice_pair_state=D,S.ice_pair_writable=Z,S.recv_ping_requests=Y,S.recv_ping_responses=H,S.sent_ping_requests_before_first_response=j,S.sent_ping_requests_total=j+X,S.sent_ping_responses=K):"local-candidate"===t?(S.local_candidate_type=M,S.local_ip=I||O,S.local_network_type=A,S.local_port=w,S.protocol=L):"remote-candidate"===t?(S.remote_candidate_type=M,S.remote_ip=I||O,S.remote_port=w):"VideoBwe"===t?(S.encBitratebps=f,S.available_receive_bandwidth=E,S.available_send_bandwidth=v,S.bucket_delay=g,S.retransmitBitratebps=$,S.targetEncBitratebps=q,S.transmit_bitrate=ee,d._sendBandWidth=Number(v)):"ssrc"===t&&(S.avg_encode_ms=y,S.encodeUsage=T,S.frame_rate_input=V,S.orignal_input_Framerate=Number(V),S.ddaptationChanges=oe,S.firsReceived=ce,S.frameRateSent=de);var Qe=getParameter("STATS_SCALLBACK_SUPPORT");if(!isStatsCallbackSupport||!Qe){var he=n.video,Re=u.timestamp-he.timestamp;if("outbound-rtp"===t){var _e=a-he.bytesSent,Se=s-he.retransmittedBytesSent;S.encBitratebps=Math.round(8e3*(_e-Se)/Re),S.bucket_delay=l/B,S.retransmitBitratebps=Math.round(8e3*Se/Re),S.targetEncBitratebps=F,S.transmit_bitrate=Math.round(1e3*(a-he.bytesSent)*8/Re),S.avg_encode_ms=1e3*c/r,S.firsReceived=U+P}else"candidate-pair"===t?(S.available_send_bandwidth=N,d._sendBandWidth=N):"media-source"===t&&(S.frame_rate_input=Fe,S.orignal_input_Framerate=Number(Fe),S.frame_input=pe)}})),(f=n.video).timestamp){e.next=14;break}return e.abrupt("return",(n.video=u,this.filterIllegal(d)));case 14:return d.statsInterval=u.timestamp-f.timestamp,S.stats_interval=d.statsInterval,E=Object.keys(u.simulcast),R?(S.sim_enc_width=[],S.sim_enc_height=[],S.sim_enc_bps=[],S.sim_enc_framerate=[],S.sim_enc_key_frames=[],S.sim_rids=[],S.sim_enc_bandwidth=[],S.sim_sent_framerate=[],S.sim_fraction_lost=[],S.sim_keyencoded=[],S.active_sim_streams=this._context.activeSimStreams||[],S.sim_retransmittedRate=[],v=!1,E.sort((function(e,t){return Number(e)-Number(t)})).forEach((function(e){var t=u.simulcast[e],n=t.frameWidth,r=t.frameHeight,i=t.bytesSent,a=t.framesEncoded,o=t.framesSent,s=t.packetsLost,l=t.packetsSent,c=t.qualityLimitationReason,U=t.qualityLimitationDurations,F=t.qualityLimitationResolutionChanges,p=t.retransmittedPacketsSent,Q=t.pliCount,h=t.keyFramesEncoded;void 0!==c&&(S.sim_qualityLimitationReason||(S.sim_qualityLimitationReason=[],S.sim_qualityLimitationDurations=[],S.sim_qualityLimitationResolutionChanges=[]),S.sim_qualityLimitationReason.push(c),S.sim_qualityLimitationDurations.push(U),S.sim_qualityLimitationResolutionChanges.push(F));var R=f.simulcast[e];if(S.sim_enc_width.push(n||0),S.sim_enc_height.push(r||0),S.sim_enc_key_frames.push(h||0),R){var _=(i-R.bytesSent||0)/d.statsInterval;S.sim_enc_bps.push(Math.round(8e3*_)),S.sim_enc_bandwidth.push(Math.round(8e3*_/1024));var B=1e3*(a-R.framesEncoded)/d.statsInterval;S.sim_enc_framerate.push(Math.round(B)),S.sim_rids.push(e);var m=void 0!==o?o-R.framesSent:a-R.framesEncoded,E=1e3*m/d.statsInterval;S.sim_sent_framerate.push(Math.round(E));var y=(s-R.packetsLost)/(l-R.packetsSent);d._retransmittedRate=(p-R.retransmittedPacketsSent)/(l-R.packetsSent),y=Number.isNaN(y)?0:y,S.sim_fraction_lost.push(y),S.sim_keyencoded.push(Q-R.pliCount>0),S.sim_retransmittedRate.push(d._retransmittedRate),n>0&&!v&&(d.rid=e,d.sentKBitrate=8*_,d.encoderOutputFrameRate=B,d.encodedFrameCount=m,d.sentFrameRate=E,d.videoLossRate=y,v=!0)}})),S.vendor_mode=this._stream.vendorCode||0,S.pc_session_id=null==(o=this.handler)?void 0:o.peerConnectionId,null==(s=this._monitor)||s.report("rtc_media_statistics",S)):(d.encodedFrameCount=void 0!==u.framesSent?u.framesSent-f.framesSent:u.framesEncoded-f.framesEncoded,d.sentKBitrate=(u.bytesSent-f.bytesSent||0)/d.statsInterval*8,S.bitrate=Math.round(1e3*d.sentKBitrate),S.bandwidth=Math.round(S.bitrate/1024),d.encoderOutputFrameRate=1e3*(u.framesEncoded-f.framesEncoded)/d.statsInterval,S.frame_rate_encoded=Math.round(d.encoderOutputFrameRate),d.sentFrameRate=1e3*d.encodedFrameCount/d.statsInterval,S.frame_rate_sent=Math.round(d.sentFrameRate),d.videoLossRate=Math.max(0,u.packetsLost-f.packetsLost)/(u.packetsSent-f.packetsSent),d.videoLossRate=Number.isNaN(d.videoLossRate)?0:d.videoLossRate,S.fraction_lost=d.videoLossRate,d._retransmittedRate=(u.retransmittedPacketsSent-f.retransmittedPacketsSent)/(u.packetsSent-f.packetsSent),S.vendor_mode=this._stream.vendorCode||0,S.pc_session_id=null==(l=this.handler)?void 0:l.peerConnectionId,null==(c=this._monitor)||c.report("rtc_media_statistics",S)),e.abrupt("return",(n.video=u,d._fractionLost=Math.max(d._fractionLost,d.videoLossRate),d._captureResolutionWidth=S.cap_frame_width,d._captureResolutionHeight=S.cap_frame_height,this.filterIllegal(d)));case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}]);var n,r}(Stats),RemoteStatsReport=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),(r=_callSuper(this,t,[e]))._stream=n,r}return _inherits(t,e),_createClass$1(t,[{key:"setRemoteStreamStatsEvtInterval",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._timer){e.next=2;break}return e.abrupt("return");case 2:return this.logger.info("setRemoteStreamStatsEvtInterval","invoke"),this.setVar(n),o={audio:{},video:{}},this._destroyed=!1,s=this._stream,l=null==(r=s.audioTrack)?void 0:r.originTrack,c=null==(i=s.videoTrack)?void 0:i.originTrack,this.getRemoteVideoStats(c,o),e.next=9,this.getRemoteAudioStats(l,o,null==(a=this._stream.audioTrack)?void 0:a.getAudioLevel());case 9:d=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r,i,a,l,c,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null==(n=s.audioTrack)?void 0:n.originTrack,l=null==(r=s.videoTrack)?void 0:r.originTrack,e.next=4,u.getRemoteAudioStats(a,o,null==(i=u._stream.audioTrack)?void 0:i.getAudioLevel());case 4:return c=e.sent,e.next=7,u.getRemoteVideoStats(l,o);case 7:U=e.sent,t({audioStats:c,videoStats:U,isScreen:s.isScreen,userId:s.userId,streamId:s.streamId}),u._destroyed||(u._timer=setTimeout(d,2e3));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.stopReport("start a new timer."),this._timer=setTimeout(d,2e3);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"unsubscribe",value:function(){this.logger.info("unsubscribe","invoke"),_superPropGet(t,"stopReport",this,3)(["unsubscribe"]),this._stream.stopAudioStallObserve()}},{key:"getRemoteAudioStats",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={},d={},u=this._stream,U=u.streamId,F=u.userId,p=u.isScreen,Q=u.audioMid,h=u.subMediaType,R=u._attributes,_=u.virtual,S=u.audioTrack,B={media_type:"audio",is_screen:!!p,direction:"down",stream_id:U,stream_user_id:F,vid:Q,audio_mux:_,connection_status:navigator.onLine,track_enabled:null==t?void 0:t.enabled,mute_state:audioInMediaType(h)?"mute_state_off":"mute_state_on",remote_user_capture_state:R.localaudio?"capture_state_on":"capture_state_off",remote_user_mute_state:R.localaudio&&R.audiostream?"mute_state_off":"mute_state_on"},S&&(B.playback_volume=S.getVolume()),t&&this.handler){e.next=3;break}return e.abrupt("return",c);case 3:return e.next=5,this.handler.getStats(t,!1,null==(i=this._stream.audioTransceiver)?void 0:i.receiver);case 5:if((m=e.sent).length){e.next=8;break}return e.abrupt("return",c);case 8:if(m.forEach((function(e){var t,n,i=e.type,a=e.packetsLost,o=e.packetsReceived,s=e.bytesReceived,l=e.jitterBufferDelay,u=e.jitterBufferEmittedCount,F=e.clockRate,p=e.channels,Q=e.totalSamplesReceived,h=e.concealedSamples,R=e.silentConcealedSamples,_=e.concealmentEvents,S=e.totalRoundTripTime,m=e.packetsDiscarded,f=e.state,E=e.currentRoundTripTime,y=e.audioLevel,g=e.totalAudioEnergy,T=e.totalSamplesDuration,V=e.mimeType,k=e.googDecodingNormal,N=e.googDecodingMuted,b=e.availableIncomingBitrate,C=e.availableOutgoingBitrate,J=e.bytesSent,W=e.nominated,D=e.id,Z=e.writable,M=e.jitter,I=e.candidateType,O=e.ip,A=e.address,w=e.networkType,x=e.port,P=e.protocol,L=e.audioOutputLevel,G=e.requestsReceived,Y=e.responsesReceived,H=e.requestsSent,$=e.consentRequestsSent,j=e.responsesSent,X=e.ssrc,K=e.nackCount,z=e.lastPacketReceivedTimestamp,q=e.concealmentevents,ee=e.fecPacketsReceived;"inbound-rtp"===i?(d.packetsLost=a,d.packetsReceived=o,B.packetsLost=a,B.packetsReceived=o,B.packetsDiscarded=m,B.nackCount=K,B.lastPacketReceivedTimestamp=z,B.concealmentevents=q,d.bytesReceived=s,void 0!==l&&(c.jitterBufferDelay=l/u*1e3,B.average_jitter_buffer_delay_ms=c.jitterBufferDelay),void 0!==Q&&(d.totalSamplesReceived=Q,c.concealedSamples=h,d.concealedSamples=h,d.silentConcealedSamples=R,B.concealedSamples=h,c.concealmentEvents=_,B.totalSamplesReceived=Q),void 0!==ee&&(B.fec_packets_received=ee,d.fecPacketsReceived=ee),B.jitter=1e3*M,B.ssrc=X,void 0!==y&&0!==y?(B.audio_level=y?-10*Math.log10(Math.pow(y,2)):y,B.volume=255*y):(B.volume=null!=r?r:255*y,B.audio_level=r?-10*Math.log10(Math.pow(r/255,2)):r),void 0!==g&&(B.total_audio_energy=g),void 0!==T&&(B.totalAudioDuration=T)):"codec"===i?(c.recordSampleRate=F,p&&(c.numChannels=p),B.codecName=V):"candidate-pair"===i?(B.ice_available_incoming_bitrate=b,B.ice_available_outgoing_bitrate=C,B.ice_bytes_received=s,B.ice_bytes_sent=J,B.ice_nominated=Number(W),B.ice_pair_id=D,B.ice_pair_rtt=E,B.rtt=1e3*E,B.rtt&&(null==(n=null==(t=v._context.streamRTT)?void 0:t[U])?void 0:n.audio)&&(B.total_rtt_ms=Math.round(B.rtt+v._context.streamRTT[U].audio)),B.ice_pair_state=f,B.ice_pair_writable=Z,B.recv_ping_requests=G,B.recv_ping_responses=Y,B.sent_ping_requests_before_first_response=H,B.sent_ping_requests_total=H+($||0),B.sent_ping_responses=j,"succeeded"===f&&(c.rtt=1e3*E,c.total_rtt=1e3*S)):"track"===i&&void 0!==y?(0===y&&0!==r?(B.volume=r,B.audio_level=r?-10*Math.log10(Math.pow(r/255,2)):r):(B.audio_level=y?-10*Math.log10(Math.pow(y,2)):y,B.volume=255*y),B.total_audio_energy=g,B.totalAudioDuration=T):"ssrc"===i?(B.decodingNormal=k,B.recvAudioLevel=L,B.decodingMuted=N):"local-candidate"===i?(B.local_candidate_type=I,B.local_ip=O||A,B.local_network_type=w,B.local_port=x,B.protocol=P):"remote-candidate"===i&&(B.remote_candidate_type=I,B.remote_ip=O||A,B.remote_port=x)})),(f=n.audio).timestamp){e.next=12;break}return e.abrupt("return",(d.timestamp=Date.now(),n.audio=d,this.filterIllegal(c)));case 12:if(e.t0=void 0!==d.concealedSamples,!e.t0){e.next=20;break}return B.interval_concealed_samples=d.concealedSamples-f.concealedSamples,B.interval_samples_received=d.totalSamplesReceived-f.totalSamplesReceived,B.interval_silent_concealed_samples=d.silentConcealedSamples-f.silentConcealedSamples,e.next=19,this._stream.updateAudioStallInfo(B,c,d);case 19:E=e.sent;case 20:return d.timestamp=Date.now(),c.audioLossRate=Math.max(0,d.packetsLost-f.packetsLost)/(d.packetsReceived-f.packetsReceived+(d.packetsLost-f.packetsLost)),c.audioLossRate=Number.isNaN(c.audioLossRate)?0:c.audioLossRate,B.fraction_lost=c.audioLossRate,c.statsInterval=d.timestamp-f.timestamp,B.stats_interval=c.statsInterval,c.receivedKBitrate=(d.bytesReceived-f.bytesReceived||0)/c.statsInterval*8,B.bandwidth=Math.round(1e3*c.receivedKBitrate/1024),void 0!==d.concealedSamples&&(c.receivedSampleRate=1e3*B.interval_samples_received/c.statsInterval),void 0!==d.fecPacketsReceived&&(B.fecBitratebps=(d.fecPacketsReceived-f.fecPacketsReceived||0)/c.statsInterval),B.average_jitter_buffer_delay_ms&&B.total_rtt_ms&&(c.e2eDelay=B.average_jitter_buffer_delay_ms+B.total_rtt_ms),(null==(o=null==(a=this._context.streamRTT)?void 0:a[U])?void 0:o.audio)&&(c.totalRtt=(B.rtt?B.rtt:0)+this._context.streamRTT[U].audio),n.audio=d,B.vendor_mode=this._stream.vendorCode||0,B.pc_session_id=null==(s=this.handler)?void 0:s.peerConnectionId,null==(l=this._monitor)||l.report("rtc_media_statistics",B,E),e.abrupt("return",this.filterIllegal(c));case 37:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getRemoteVideoStats",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d={},u={timestamp:Date.now()},U=this._stream,F=U.streamId,p=U.userId,Q=U.isScreen,h=U.subMediaType,R=U._attributes,_=_objectSpread2({media_type:"video",is_screen:!!Q,direction:"down",stream_id:F,stream_user_id:p,vid:this._stream.videoMid,connection_status:navigator.onLine,track_enabled:null==t?void 0:t.enabled,mute_state:videoInMediaType(h)?"mute_state_off":"mute_state_on",remote_user_capture_state:R.localvideo?"capture_state_on":"capture_state_off",remote_user_mute_state:R.localvideo&&R.videostream?"mute_state_off":"mute_state_on",is_intersecting:null==(i=null==(r=this._stream)?void 0:r.videoPlayer)?void 0:i.isIntersecting},this._stream.getVideoRenderInfo()),t&&this.handler){e.next=3;break}return e.abrupt("return",d);case 3:return d.isScreen=Q,e.next=6,this.handler.getStats(t,!1,null==(a=this._stream.videoTransceiver)?void 0:a.receiver);case 6:if((S=e.sent).length){e.next=9;break}return e.abrupt("return",d);case 9:if(S.forEach((function(e){var t,n,r=e.type,i=e.frameHeight,a=e.frameWidth,o=e.packetsLost,s=e.packetsReceived,l=e.bytesReceived,c=e.framesDecoded,U=e.jitterBufferDelay,p=e.jitterBufferEmittedCount,Q=e.mimeType,h=e.firCount,R=e.availableIncomingBitrate,S=e.availableOutgoingBitrate,B=e.bytesSent,m=e.nominated,f=e.id,E=e.currentRoundTripTime,v=e.state,g=e.writable,T=e.candidateType,V=e.ip,k=e.address,N=e.networkType,b=e.port,C=e.nackCount,J=e.pliCount,W=e.protocol,D=e.requestsReceived,Z=e.responsesReceived,M=e.requestsSent,I=e.consentRequestsSent,O=e.responsesSent,A=e.ssrc,w=e.jitter,x=e.framesReceived,P=e.keyFramesDecoded,L=e.totalDecodeTime,G=e.decoderImplementation,Y=e.lastPacketReceivedTimestamp,H=e.framesDropped;"inbound-rtp"===r?(u.packetsLost=o,_.packetsLost=o,u.packetsReceived=s,_.packetsReceived=s,u.bytesReceived=l,_.bytes=l,u.framesDecoded=c,u.totalDecodeTime=L,void 0!==U&&(u.jitterBufferDelay=U/p*1e3,_.average_jitter_buffer_delay_ms=u.jitterBufferDelay),_.fir_count=h,_.nackCount=C,u.nackCount=C,_.pli_count=J,_.ssrc=A,_.framesDropped=H,_.jitter=1e3*w,_.framesReceived=x,u.framesReceived=x,_.framesDecoded=c,_.key_frames_decoded=P,_.decoder_name=G,_.last_packet_received_timestamp=Y,void 0!==a&&(d.width=a,_.frame_size_width=a,d.height=i,_.frame_size_height=i)):"track"===r&&void 0!==a?(d.width=a,_.frame_size_width=a,d.height=i,_.frame_size_height=i,void 0!==x&&(_.framesReceived=x,u.framesReceived=x)):"codec"===r?_.codecName=Q:"candidate-pair"===r?(_.ice_available_incoming_bitrate=R,_.ice_available_outgoing_bitrate=S,_.ice_bytes_received=l,_.ice_bytes_sent=B,_.ice_nominated=Number(m),_.ice_pair_id=f,_.ice_pair_rtt=E,_.rtt=1e3*E,_.rtt&&(null==(n=null==(t=y._context.streamRTT)?void 0:t[F])?void 0:n.video)&&(_.total_rtt_ms=Math.round(_.rtt+(y._context.streamRTT[F].video||0))),d.rtt=_.rtt,_.ice_pair_state=v,_.ice_pair_writable=g,_.recv_ping_requests=D,_.recv_ping_responses=Z,_.sent_ping_requests_before_first_response=M,_.sent_ping_requests_total=M+(I||0),_.sent_ping_responses=O):"local-candidate"===r?(_.local_candidate_type=T,_.local_ip=V||k,_.local_network_type=N,_.local_port=b,_.protocol=W):"remote-candidate"===r&&(_.remote_candidate_type=T,_.remote_ip=V||k,_.remote_port=b)})),(B=n.video).timestamp){e.next=13;break}return e.abrupt("return",(n.video=u,this.filterIllegal(d)));case 13:return m=Math.max(0,u.packetsLost-B.packetsLost),f=u.packetsReceived-B.packetsReceived,d.videoLossRate=m/(f+m),d._receivePackets=u.packetsReceived,d._receivePacketsLost=u.packetsLost,B.totalDecodeTime&&B.framesDecoded&&u.framesDecoded!==B.framesDecoded&&(E=u.totalDecodeTime-B.totalDecodeTime,v=u.framesDecoded-B.framesDecoded,_.decode_elapse_per_frame=Number((E/v*1e3).toFixed(2))),e.abrupt("return",(d._retransmittedRate=(u.nackCount-B.nackCount)/(f+m),d.videoLossRate=Number.isNaN(d.videoLossRate)?0:d.videoLossRate,_.fraction_lost=d.videoLossRate,d.statsInterval=u.timestamp-B.timestamp,_.stats_interval=d.statsInterval,d.receivedKBitrate=(u.bytesReceived-B.bytesReceived||0)/d.statsInterval*8,_.bitrate=Math.round(1e3*d.receivedKBitrate),_.bandwidth=Math.round(_.bitrate/1024),d.decoderOutputFrameRate=1e3*(u.framesDecoded-B.framesDecoded)/d.statsInterval,d.receivedFrameRate=1e3*(u.framesReceived-B.framesReceived)/d.statsInterval,_.frame_rate_decoded=Math.round(d.decoderOutputFrameRate),_.frame_rate_received=Math.round(d.receivedFrameRate),_.average_jitter_buffer_delay_ms&&_.total_rtt_ms&&(d.e2eDelay=_.average_jitter_buffer_delay_ms+_.total_rtt_ms),(null==(s=null==(o=this._context.streamRTT)?void 0:o[F])?void 0:s.video)&&(d.totalRtt=(_.rtt?_.rtt:0)+(this._context.streamRTT[F].video||0)),n.video=u,this._stream.updateVideoStallInfo(_,d),_.vendor_mode=this._stream.vendorCode||0,_.pc_session_id=null==(l=this.handler)?void 0:l.peerConnectionId,null==(c=this._monitor)||c.report("rtc_media_statistics",_),this.filterIllegal(d)));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"destroy",value:function(){_superPropGet(t,"destroy",this,3)([]),_superPropGet(t,"stopReport",this,3)(["destroy"]),this._stream.stopAudioStallObserve()}}]);var n,r,i}(Stats),VideoStallObserver=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),__publicField(this,"_removeHandler"),__publicField(this,"_remotePauseHandler"),__publicField(this,"_prePts"),__publicField(this,"_stallList"),__publicField(this,"_videoInWaiting",!1),__publicField(this,"_videoInWaitingCallback",!1),__publicField(this,"_videoInWaiting100ms",!1),__publicField(this,"_isPaused"),__publicField(this,"_pauseStart",0),__publicField(this,"_pauseDuration",0),__publicField(this,"_requestVideoFrameCallbackTimer"),__publicField(this,"_logger"),__publicField(this,"_player"),__publicField(this,"_recentVideoInfo"),__publicField(this,"_stallTimeThreshold"),__publicField(this,"_openVideoStall100ms",Config2.VIDEO_STALL_100MS);var r=t?1500:isSafari||isFirefox?550:500;this._stallTimeThreshold={report:r,callback:Math.max(Config2.VIDEO_STALL_DATA,r)},this._logger=new Logger$1$1("VideoStallObserver",1,n)}),[{key:"start",value:function(e){var t=this;if(this._logger.print("start","invoke"),this._player=e,checkVideoFrameCallback())e.domElement&&(this._requestVideoFrameCallbackTimer=e.domElement.requestVideoFrameCallback(this._onVideoRefresh.bind(this)),this._removeHandler=function(){var n;t._requestVideoFrameCallbackTimer&&(null==(n=e.domElement)||n.cancelVideoFrameCallback(t._requestVideoFrameCallbackTimer))});else{var n=function(n){return t._onVideoTimeupdate(n,e)};e.on("playback_event",n),this._removeHandler=function(){return e.off("playback_event",n)}}var r=function(e){return t._onVideoPause(e)};e.on("playback_event",r),this._remotePauseHandler=function(){return e.off("playback_event",r)}}},{key:"getRecentRenderInfo4Report",value:function(){var e=this,t={};return this._recentVideoInfo&&Object.keys(this._recentVideoInfo).forEach((function(n){var r,i=n.replace(/[a-z]{1}[A-Z]{1}/g,(function(e){return"".concat(e[0],"_").concat(e[1].toLowerCase())}));t["video_".concat(i)]=null==(r=e._recentVideoInfo)?void 0:r[n]})),t}},{key:"stop",value:function(){var e,t;this._logger.print("stop","invoke"),delete this._player,null==(e=this._removeHandler)||e.call(this),delete this._removeHandler,null==(t=this._remotePauseHandler)||t.call(this),delete this._remotePauseHandler,delete this._stallList,delete this._prePts,delete this._recentVideoInfo,this._videoInWaiting=!1,this._videoInWaitingCallback=!1,this._videoInWaiting100ms=!1}},{key:"destroy",value:function(){this.stop()}},{key:"getStallInfo",value:function(e){var t=this,n=e.interval,r=e.frameRateReceived,i=e.frameRateDecoded,a=e.bitrate,o={pts:0,report:{stallCount:0,stallDuration:0,list:[]},callback:{stallCount:0,stallDuration:0},pauseDuration:this._getPauseDuration()};return this._stallList&&((isSafari||isFirefox)&&(0===a||(i||1/0)<=1||(r||1/0)<=1)||0===this._stallList.length?(o.report.stallDuration=o.callback.stallDuration=2e3,o.report.stallCount=o.callback.stallCount=this._videoInWaiting?0:1,this._openVideoStall100ms&&(o.stall100ms={count:this._videoInWaiting100ms?0:1,duration:2e3}),this._videoInWaiting=!0,this._videoInWaitingCallback=!0,this._videoInWaiting100ms=!0):this._stallList.forEach((function(e,r){var i=e.timeUpdateInterval;0===r&&t._videoInWaiting&&(i=Math.round(e.timeUpdateInterval%n));var a=e.timeUpdateInterval>t._stallTimeThreshold.report;a&&(o.report.list.push(e.timeUpdateInterval),o.report.stallDuration+=i,t._videoInWaiting||o.report.stallCount++),t._videoInWaiting=a,e.timeUpdateInterval>t._stallTimeThreshold.callback?(o.callback.stallDuration+=i,t._videoInWaitingCallback||o.callback.stallCount++,t._videoInWaitingCallback=!0):t._videoInWaitingCallback=!1,t._openVideoStall100ms&&(o.stall100ms||(o.stall100ms={count:0,duration:0}),e.timeUpdateInterval>100?(o.stall100ms.duration+=i,t._videoInWaiting100ms||o.stall100ms.count++,t._videoInWaiting100ms=!0):t._videoInWaiting100ms=!1),o.pts=e.playTime})),this._stallList=[]),o}},{key:"_getPauseDuration",value:function(){var e=this._pauseDuration;if(this._pauseDuration=0,this._isPaused){var t=getServerNow(),n=t-(this._pauseStart||0);n>500&&(this._pauseStart=t,e+=n)}return e}},{key:"_onVideoPause",value:function(e){if("pause"===e.eventName)this._isPaused=!0,this._pauseStart=getServerNow();else if("play"===e.eventName&&this._isPaused){this._isPaused=!1;var t=getServerNow()-this._pauseStart;t>500&&(this._pauseDuration+=t)}}},{key:"_onVideoTimeupdate",value:function(e,t){if("timeupdate"===e.eventName){var n=t.domElement;if(!n||0===n.currentTime)return;if(void 0===this._prePts)return void(this._prePts=n.currentTime);if(this._stallList||(this._stallList=[]),n.currentTime>this._prePts){var r=n.currentTime-this._prePts;this._stallList.push({playTime:n.currentTime,timeUpdateInterval:Math.round(1e3*r)})}this._prePts=n.currentTime}}},{key:"_onVideoRefresh",value:function(e,t){var n,r;if(this._stallList||(this._stallList=[]),this._prePts){var i=t.presentationTime-this._prePts;this._stallList.push({playTime:t.presentationTime,timeUpdateInterval:Math.round(i)})}this._recentVideoInfo=t,this._prePts=t.presentationTime,null==(r=null==(n=this._player)?void 0:n.domElement)||r.requestVideoFrameCallback(this._onVideoRefresh.bind(this))}}])}(),_AudioStallObserver2=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_audioStallTimer"),__publicField(this,"_preSample"),__publicField(this,"_isStallInPreCallbackEnd",!1),__publicField(this,"_isStallInPreReportEnd",!1),__publicField(this,"_stallList",[]),this._stream=t}),[{key:"start",value:function(e,t){this.stop(),Config2.AUDIO_STALL&&_AudioStallObserver2.interval>0&&"number"==typeof e&&"number"==typeof t&&(this._preSample={ts:getServerNow(),concealedSamples:e,totalSamplesReceived:t},this._startStallCountInterval())}},{key:"stop",value:function(){this._stallList=[],this._audioStallTimer&&(clearTimeout(this._audioStallTimer),delete this._audioStallTimer)}},{key:"destroy",value:function(){this.stop()}},{key:"getAudioStallInfo",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={stats_count:this._stallList.filter((function(e){return!!e.get_stats_cost})).length,stall_list:_toConsumableArray(this._stallList)},e.prev=1,e.next=4,this._audioStallCount();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return n=computeStallInfo(this._stallList,2,this._isStallInPreReportEnd),this._isStallInPreReportEnd=n.isStallInEnd,r=Config2.AUDIO_STALL_DATA/_AudioStallObserver2.interval,i=computeStallInfo(this._stallList,r,this._isStallInPreCallbackEnd),e.abrupt("return",(this._isStallInPreCallbackEnd=i.isStallInEnd,this.stop(),this._startStallCountInterval(),{report:{stall_count:n.stall_count,stall_duration:n.stall_duration,list:n.list},callback:{stall_count:i.stall_count,stall_duration:i.stall_duration,list:i.list},extra:t}));case 12:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return t.apply(this,arguments)})},{key:"_startStallCountInterval",value:function(){var e=this,t=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(_asyncToGenerator(_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(e._audioStallTimer),delete e._audioStallTimer,n.next=4,e._audioStallCount();case 4:e._audioStallTimer||(e._audioStallTimer=setTimeout(t,_AudioStallObserver2.interval));case 5:case"end":return n.stop()}}),n)}))));this._audioStallTimer=setTimeout(t,_AudioStallObserver2.interval)}},{key:"_audioStallCount",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._preSample&&!(getServerNow()-this._preSample.ts<.5*_AudioStallObserver2.interval)){e.next=2;break}return e.abrupt("return");case 2:if(n=this._stream,r=n.hasAudio,i=n.subAudio,a=n.virtual,o=n.virtualOccupy,s=n.removeTrack,l=n.audioTrack,!s&&l){e.next=5;break}return e.abrupt("return",(clearTimeout(this._audioStallTimer),void delete this._audioStallTimer));case 5:if((c=r&&i)&&(!a||o)){e.next=10;break}this._preSample.ts=getServerNow(),this._stallList.push({reason:c?"virtual: ".concat(a,", virtualOccupy: ").concat(o):"hasAudio: ".concat(r,", subAudio: ").concat(i)}),e.next=24;break;case 10:return d=getServerNow(),F=0,e.prev=12,e.next=15,null==(t=this._stream.audioTransceiver)?void 0:t.receiver.getStats();case 15:null==(p=e.sent)||p.forEach((function(e){"inbound-rtp"===e.type&&(u=e),F++})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),U=e.t0.message||JSON.stringify(e.t0);case 22:Q=getServerNow(),h=getServerNow(),R=h-this._preSample.ts,u?(S=(_=u).concealedSamples,B=_.totalSamplesReceived,m=S-this._preSample.concealedSamples,f=B-this._preSample.totalSamplesReceived,E=m>=0&&f>=0&&m>=_AudioStallObserver2.ratio*f,this._stallList.push({concealed:m,received:f,diff:R,start:this._preSample.ts,end:h,get_stats_cost:Q-d,get_stats_start:d,get_stats_end:Q,is_stall:E}),this._preSample.concealedSamples=S,this._preSample.totalSamplesReceived=B,this._preSample.ts=h):this._stallList.push({diff:R,start:this._preSample.ts,end:h,get_stats_cost:Q-d,get_stats_start:d,get_stats_end:Q,reason:F?U||"no inbound-rtp":"no report"});case 24:case"end":return e.stop()}}),e,this,[[12,19]])}))),function(){return e.apply(this,arguments)})}],[{key:"setAudioStallConfig",value:function(e){_AudioStallObserver2.interval=((null==e?void 0:e.audio_stall_interval)||200)/2,_AudioStallObserver2.ratio=(null==e?void 0:e.audio_stall_ratio)||.6}}]);var e,t}(),AudioStallObserver=_AudioStallObserver2;__publicField(AudioStallObserver,"interval",100),__publicField(AudioStallObserver,"ratio",.6);var computeStallInfo=function(e,t,n){for(var r,i={stall_count:0,stall_duration:0,isStallInEnd:!1,list:[]},a=0,o=0,s=function(n){var r=e[n];r.is_stall&&(a++,o+=r.diff||0);var s=n===e.length-1;if(!r.is_stall||s){var c=a>=t,d=n+t-a-1;if(!c&&a>2){var u=0;e.slice(n+1,d+1).forEach((function(e){e.is_stall&&(u+=e.diff||0)})),(c=o+u>AudioStallObserver.interval*t*AudioStallObserver.ratio)&&(n=d,o+=u)}c&&(i.stall_count++,i.stall_duration+=o,i.list.push(o)),s&&(i.isStallInEnd=c),a=o=0}l=n},l=0;l<e.length;l++)s(l);return!0===(null==(r=e[0])?void 0:r.is_stall)&&n&&i.stall_count>0&&i.stall_count--,i},StreamBase=function(e){function t(e){var n;return _classCallCheck$1(this,t),n=_callSuper(this,t),__publicField(_assertThisInitialized(n),"_videoPlayer"),__publicField(_assertThisInitialized(n),"isScreen",!1),__publicField(_assertThisInitialized(n),"audioMid"),__publicField(_assertThisInitialized(n),"videoMid"),__publicField(_assertThisInitialized(n),"videoTransceiver"),__publicField(_assertThisInitialized(n),"audioTransceiver"),__publicField(_assertThisInitialized(n),"vendorHandler"),__publicField(_assertThisInitialized(n),"vendorCode",0),__publicField(_assertThisInitialized(n),"engineId"),__publicField(_assertThisInitialized(n),"logger"),__publicField(_assertThisInitialized(n),"__seiHelper",SEIHelper),n._ctx=e,n.engineId=e.id,n.logger=new Logger$1$1("Stream",0,e.id),n}return _inherits(t,e),_createClass$1(t,[{key:"stopReport",value:function(e){this.statsReport.stopReport(e)}},{key:"destroy",value:function(){var e,t;delete this.audioMid,delete this.videoMid,this.statsReport.destroy(),null==(e=this.observer)||e.reset(),delete this.videoTransceiver,delete this.audioTransceiver,null==(t=this.vendorHandler)||t.destroy(),this.vendorCode=0,delete this.vendorHandler}},{key:"videoPlayer",get:function(){return this._videoPlayer},set:function(e){this._videoPlayer=e}}])}(EnhancedEventEmitter),StreamState=function(e){return e[e.INIT=0]="INIT",e[e.SUB_ING=1]="SUB_ING",e[e.SUB_ED=2]="SUB_ED",e}(StreamState||{}),LocalStream=function(e){function t(e){var n;_classCallCheck$1(this,t),n=_callSuper(this,t,[e]),__publicField(_assertThisInitialized(n),"id"),__publicField(_assertThisInitialized(n),"stream"),__publicField(_assertThisInitialized(n),"streamId"),__publicField(_assertThisInitialized(n),"seiList",[]),__publicField(_assertThisInitialized(n),"videoTrack"),__publicField(_assertThisInitialized(n),"audioTrack"),__publicField(_assertThisInitialized(n),"videoEncodeConfig",[defaultVideoEncoderConfig]),__publicField(_assertThisInitialized(n),"subVideoDescriptions",[]),__publicField(_assertThisInitialized(n),"enableSimulcast",!1),__publicField(_assertThisInitialized(n),"observer"),__publicField(_assertThisInitialized(n),"statsReport"),__publicField(_assertThisInitialized(n),"prevBitrate",0),__publicField(_assertThisInitialized(n),"pubAudio",!1),__publicField(_assertThisInitialized(n),"pubVideo",!1),__publicField(_assertThisInitialized(n),"blackFrameRenderInterval"),__publicField(_assertThisInitialized(n),"blackFrameLifetimeInterval"),__publicField(_assertThisInitialized(n),"pubAttributes"),__publicField(_assertThisInitialized(n),"pcSessionId"),__publicField(_assertThisInitialized(n),"maxSeiCount",1),__publicField(_assertThisInitialized(n),"transformer",(function(e,t){if(n.seiList.length){var r,i=[],a=0,o=_createForOfIteratorHelper$1(n.seiList);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(i.length>=n.maxSeiCount)break;var l=SEIHelper.generateSEI(s.content);a+=l.byteLength,s.repeatCount--,i.push(l)}}catch(err2){o.e(err2)}finally{o.f()}n.seiList=n.seiList.filter((function(e){return e.repeatCount>0}));var c=new Uint8Array(a+e.data.byteLength);c.set(new Uint8Array(e.data));var d=e.data.byteLength;i.forEach((function(e){c.set(e,d),d+=e.byteLength})),e.data=c.buffer,t.enqueue(e)}else t.enqueue(e)})),n.stream=new MediaStream,n.id=genUuid$1(),n.pubAttributes={localaudio:!1,localvideo:!1,videostream:!1,audiostream:!1,extvideo:!1,extaudio:!1,videoDescriptions:[],videoType:VideoType.NORMAL},n.statsReport=new LocalStatsReport(e,_assertThisInitialized(n));var r=getParameter("SEI_COUNT_FPS");return"number"==typeof r&&r<=10&&(n.maxSeiCount=r),n}return _inherits(t,e),_createClass$1(t,[{key:"audioHasCapture",get:function(){return this.pubAttributes.localaudio}},{key:"audioHasPublish",get:function(){return this.pubAttributes.audiostream}},{key:"videoHasCapture",get:function(){return this.pubAttributes.localvideo}},{key:"videoHasPublish",get:function(){return this.pubAttributes.videostream}},{key:"hasPublished",get:function(){return!!this.audioMid&&!!this.videoMid}},{key:"isEmptyStream",get:function(){return!this.audioTrack&&!this.videoTrack}},{key:"initStreamId",get:function(){return this.stream.id}},{key:"startReport",value:function(e,t){this.statsReport.setLocalStreamStatsEvtInterval(e,t)}},{key:"initVideoEncodedTransform",value:function(){if(this.videoTransceiver&&this.videoTransceiver.sender){var e=this.videoTransceiver.sender;if(this._ctx.pcKillSwitch.ctor_encodedinsetablestream_add&&isEncodedTransformSupported()){var t=e.createEncodedStreams(),n=t.readable,r=t.writable,i=new TransformStream({transform:this.transformer});n.pipeThrough(i).pipeTo(r)}}else this.logger.warn("no sender found when trying to bind encodedTransform")}},{key:"initAudioEncodedTransform",value:function(){if(this.audioTransceiver&&this.audioTransceiver.sender)if(this._ctx.pcKillSwitch.ctor_encodedinsetablestream_add){var e=this.audioTransceiver.sender.createEncodedStreams(),t=e.readable,n=e.writable;t.pipeThrough(new TransformStream({transform:function(e,t){t.enqueue(e)}})).pipeTo(n)}else this.logger.warn("initAudioEncodedTransform","legacy EncodedTransform is not supported");else this.logger.warn("no sender found when trying to bind encodedTransform")}},{key:"clean",value:function(){reportRtcInvokeStatus(this.engineId,"localstream_clean","".concat((new Error).stack),0,this.streamId||""),_superPropGet(t,"destroy",this,3)([]),this.prevBitrate=0,this.subVideoDescriptions=[],clearTimeout(this.blackFrameLifetimeInterval),clearInterval(this.blackFrameRenderInterval)}},{key:"switchTrackEnableState",value:function(e,t){var n;"audio"===e?n=this.audioTrack:"video"===e&&(n=this.videoTrack);var r=null==n?void 0:n.mediaTrack;return!(!r||(null==r?void 0:r.enabled)===t||(r.enabled=t,0))}},{key:"resetStream",value:function(){this.stream=new MediaStream}},{key:"genBlackFrame",value:function(){var e,t;this.logger.info("genBlackFrame()");var n=(null==(e=this.videoEncodeConfig[0])?void 0:e.frameRate)?constraints2number(null==(t=this.videoEncodeConfig[0])?void 0:t.frameRate):15,r=Math.ceil(1e3/n),i=document.createElement("canvas"),a=i.getContext("2d");i.width=16,i.height=16;var o=function(e){e.fillRect(0,0,16,16)};return a&&(a.fillStyle="#000",o(a),this.blackFrameRenderInterval=window.setInterval((function(){o(a)}),r),this.refreshBlackFrameLifetime()),i.captureStream(n).getVideoTracks()[0]}},{key:"stopBlackFrame",value:function(){this.logger.info("stopBlackFrame()"),clearTimeout(this.blackFrameLifetimeInterval),clearInterval(this.blackFrameRenderInterval),delete this.blackFrameRenderInterval}},{key:"refreshBlackFrameLifetime",value:function(){var e=this;this.logger.info("refreshBlackFrameLifetime()"),this.blackFrameRenderInterval&&(clearTimeout(this.blackFrameLifetimeInterval),this.blackFrameLifetimeInterval=setTimeout((function(){clearInterval(e.blackFrameRenderInterval),delete e.blackFrameRenderInterval,e.emit("black-frame-ended")}),Config2.BLACK_FRAME_LIFETIME))}}])}(StreamBase),RemoteStream=function(e){function t(e,n,r,i,a,o){var s;return _classCallCheck$1(this,t),s=_callSuper(this,t,[e]),__publicField(_assertThisInitialized(s),"streamId"),__publicField(_assertThisInitialized(s),"userId"),__publicField(_assertThisInitialized(s),"isPublic"),__publicField(_assertThisInitialized(s),"hasVideo"),__publicField(_assertThisInitialized(s),"hasAudio"),__publicField(_assertThisInitialized(s),"_attributes"),__publicField(_assertThisInitialized(s),"streamState"),__publicField(_assertThisInitialized(s),"removeTrack",!1),__publicField(_assertThisInitialized(s),"observer"),__publicField(_assertThisInitialized(s),"statsReport"),__publicField(_assertThisInitialized(s),"subVideo"),__publicField(_assertThisInitialized(s),"subAudio"),__publicField(_assertThisInitialized(s),"subMediaType"),__publicField(_assertThisInitialized(s),"subLayer"),__publicField(_assertThisInitialized(s),"_sequenceId"),__publicField(_assertThisInitialized(s),"stream"),__publicField(_assertThisInitialized(s),"videoTrack"),__publicField(_assertThisInitialized(s),"audioTrack"),__publicField(_assertThisInitialized(s),"recordedVideoFrames"),__publicField(_assertThisInitialized(s),"stillExist"),__publicField(_assertThisInitialized(s),"originalMediaType"),__publicField(_assertThisInitialized(s),"priority"),__publicField(_assertThisInitialized(s),"remoteSessionId",""),__publicField(_assertThisInitialized(s),"originalStreamIndex",0),__publicField(_assertThisInitialized(s),"virtual"),__publicField(_assertThisInitialized(s),"pcSessionId"),__publicField(_assertThisInitialized(s),"_virtualOccupy"),__publicField(_assertThisInitialized(s),"_videoStallObserver"),__publicField(_assertThisInitialized(s),"_audioStallObserver"),__publicField(_assertThisInitialized(s),"_handler"),s.virtual=!1,s._virtualOccupy=!1,s.userId=n,s.isScreen=i,s.isPublic=a,s.streamId=r,s.hasAudio=o.audiostream&&o.localaudio,s.hasVideo=o.videostream&&o.localvideo,s._attributes=o,s.vendorCode=(null==o?void 0:o.vendorCode)||0,s.subVideo=!1,s.subAudio=!1,s._sequenceId=0,s.subMediaType=ExtendMediaType.NONE,s.subLayer={spatialLayer:0,spatialSubLayer:-1},s.streamState=0,s.statsReport=new RemoteStatsReport(e,_assertThisInitialized(s)),s.enableVendorMode&&(s.pcSessionId=genUuid$1()),s}return _inherits(t,e),_createClass$1(t,[{key:"vendor",get:function(){return this._attributes.vendorCode}},{key:"audioHasCapture",get:function(){return this._attributes.localaudio}},{key:"audioHasPublish",get:function(){return this._attributes.audiostream}},{key:"videoHasCapture",get:function(){return this._attributes.localvideo}},{key:"videoHasPublish",get:function(){return this._attributes.videostream}},{key:"sequenceId",get:function(){return this._sequenceId||-1},set:function(e){"number"==typeof e&&(this._sequenceId=e)}},{key:"enableVendorMode",get:function(){return"number"==typeof this.attributes.vendorCode&&0!==this.attributes.vendorCode}},{key:"hasSubscribed",get:function(){return 2===this.streamState}},{key:"attributes",get:function(){return this._attributes},set:function(e){this.hasVideo=e.localvideo&&e.videostream,this.hasAudio=e.localaudio&&e.audiostream,this._attributes=e,this.vendorCode=e.vendorCode||0}},{key:"virtualOccupy",get:function(){return this._virtualOccupy},set:function(e){var t,n;this._virtualOccupy&&!e?null==(t=this.observer)||t.setPushTrack(!1):!this._virtualOccupy&&e&&(null==(n=this.observer)||n.setPushTrack(!0)),this._virtualOccupy=e}},{key:"startReport",value:function(e,t){this.statsReport.setRemoteStreamStatsEvtInterval(e,t),this._handler=t}},{key:"getStats",value:function(e,t){var n;return null==(n=this._handler)?void 0:n.getStats(e,t)}},{key:"initVideoEncodedTransform",value:function(){var e=this;if(this.videoTransceiver&&this.videoTransceiver.receiver)if(this._ctx.pcKillSwitch.ctor_encodedinsetablestream_add){var t=this.videoTransceiver.receiver.createEncodedStreams(),n=t.readable,r=t.writable;n.pipeThrough(new TransformStream({transform:function(t,n){Nalunit.getNalunits(new RTCDataView(t.data)).forEach((function(t){if(t.sei){var n=SEIHelper.decodeSeiBody(t.body);n&&n.type===RTC_SEI_TYPE.external&&e.safeEmit("onSEIMessage",n.payload)}})),n.enqueue(t)}})).pipeTo(r)}else this.logger.warn("initAudioEncodedTransform","legacy EncodedTransform is not supported");else this.logger.warn("no receiver found when trying to bind encodedTransform")}},{key:"initAudioEncodedTransform",value:function(){var e=this;if(this.audioTransceiver&&this.audioTransceiver.receiver)if(this._ctx.pcKillSwitch.ctor_encodedinsetablestream_add){var t=this.audioTransceiver.receiver.createEncodedStreams(),n=t.readable,r=t.writable;n.pipeThrough(new TransformStream({transform:function(t,n){t.data.byteLength<=1e3?n.enqueue(t):e.logger.print("too large audio frame",t.data.byteLength)}})).pipeTo(r)}else this.logger.warn("legacy EncodedTransform is not supported");else this.logger.warn("no receiver found when trying to bind encodedTransform")}},{key:"ontrack",value:function(e){var t,n,r,i;try{reportRtcInvokeStatus(this.engineId,"Stream.ontrack",JSON.stringify({uid:this.userId,streamId:this.streamId,streams:e.streams.reduce((function(e,t){return e+mediaStreamStringify(t)}),""),transceiver:mediaTransceiverStringify(e.transceiver),track:mediaTrackStringify(e.track)}),0,this.streamId||"")}catch(o){}if(this.enableVendorMode||(null==(r=null==(n=null==(t=e.streams)?void 0:t[0])?void 0:n.id)?void 0:r.includes(this.streamId))){var a=e.track;"video"===(null==a?void 0:a.kind)?this._setVideoTrack(a):"audio"===(null==(i=e.track)?void 0:i.kind)&&this._setAudioTrack(a),this._setStream(e.streams[0])}this.safeEmit("ontrack",e)}},{key:"startVideoStallObserve",value:function(e){this.logger.info("startVideoStallObserve","invoke"),this._videoStallObserver||(this._videoStallObserver=new VideoStallObserver(this.isScreen,this.engineId)),this._videoStallObserver.start(e),this._videoPlayer=e}},{key:"stopVideoStallObserve",value:function(){var e;this.logger.info("stopVideoStallObserve","invoke"),null==(e=this._videoStallObserver)||e.stop(),delete this._videoPlayer}},{key:"updateVideoStallInfo",value:function(e,t){var n,r=null==(n=this._videoStallObserver)?void 0:n.getStallInfo({interval:e.stats_interval||0,bitrate:e.bitrate,frameRateDecoded:e.frame_rate_decoded,frameRateReceived:e.frame_rate_received});if(r){var i=Math.min(r.report.stallDuration,e.stats_interval||0);if(e.play_time=r.pts,e.stall_count=r.report.stallCount,e.is_screen?e.stuck_length=i:e.stall_duration=i,e.pause_duration=Math.min(i,r.pauseDuration),t.stallCount=r.callback.stallCount,t.stallDuration=r.callback.stallDuration,r.stall100ms){var a=Math.min(r.stall100ms.duration,e.stats_interval||0);e.stall_duration_100ms=a,e.stall_count_100ms=r.stall100ms.count,t.stallDuration100MS=a,t.stallCount100MS=r.stall100ms.count}0===r.report.stallCount&&0===r.report.stallDuration||this.logger.print("video_stall_report",this.userId,JSON.stringify(r.report))}}},{key:"getVideoRenderInfo",value:function(){var e;return(null==(e=this._videoStallObserver)?void 0:e.getRecentRenderInfo4Report())||{}}},{key:"stopAudioStallObserve",value:function(){var e;this.logger.info("stopAudioStallObserve","invoke"),null==(e=this._audioStallObserver)||e.stop()}},{key:"updateAudioStallInfo",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._audioStallObserver){e.next=5;break}return e.next=3,this._audioStallObserver.getAudioStallInfo();case 3:return i=e.sent,e.abrupt("return",(t.concealedSamples===t.interval_concealed_samples&&t.totalSamplesReceived===t.interval_samples_received?(t.stall_count=0,t.stall_duration=0,n.stallCount=0,n.stallDuration=0):(t.stall_count=i.report.stall_count,t.stall_duration=i.report.stall_duration,n.stallCount=i.callback.stall_count,n.stallDuration=i.callback.stall_duration),0===i.report.stall_count&&0===i.report.stall_duration||this.logger.print("audio_stall_report",this.userId,JSON.stringify(_objectSpread2(_objectSpread2({},i.report),{},{callbackList:i.callback.list}))),i.extra));case 5:this._audioStallObserver=new AudioStallObserver(this),this._audioStallObserver.start(r.concealedSamples,r.totalSamplesReceived),this.logger.print("startAduioObserver","start");case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"clean",value:function(){var e;this.logger.info("clean","exec stream.clean ".concat(this.streamId," ").concat(this.userId)),reportRtcInvokeStatus(this.engineId,"remotestream_clean","".concat((new Error).stack),0,this.streamId),_superPropGet(t,"destroy",this,3)([]),this.subAudio=!1,this.subVideo=!1,this.sequenceId=0,this.videoTrack=void 0,null==(e=this.audioTrack)||e.close(),this.audioTrack=void 0,this.stream=void 0,this.recordedVideoFrames=void 0,delete this.priority}},{key:"destroy",value:function(){var e,t;this.clean(),null==(e=this._audioStallObserver)||e.destroy(),delete this._audioStallObserver,null==(t=this._videoStallObserver)||t.destroy(),delete this._videoStallObserver,delete this._videoPlayer,this.attributes={audiostream:!1,localaudio:!1,localvideo:!1,videostream:!1,extvideo:!1,extaudio:!1,videoDescriptions:[]}}},{key:"resetHasSubscribed",value:function(){this.streamState=0}},{key:"_setStream",value:function(e){var t=this;this.stream=e,e.onaddtrack=function(e){"video"===e.track.kind?t._setVideoTrack(e.track):"audio"===e.track.kind&&t._setAudioTrack(e.track)}}},{key:"_setAudioTrack",value:function(e){var t,n;(null==(n=null==(t=this.audioTrack)?void 0:t.preprocessingTrack)?void 0:n.id)!==e.id&&(this.audioTrack=createRemoteAudioTrack(e),this.emit("ontrack",this.audioTrack))}},{key:"_setVideoTrack",value:function(e){var t,n;(null==(n=null==(t=this.videoTrack)?void 0:t.preprocessingTrack)?void 0:n.id)!==e.id&&(this.videoTrack=createRemoteVideoTrack(e),this.emit("ontrack",this.videoTrack))}}]);var n}(StreamBase),logger$5=new Logger$1$1("queue",4),SdpStrategy=function(e){return e[e.ADD=0]="ADD",e[e.CLOSE=1]="CLOSE",e}(SdpStrategy||{}),SdpAction=function(e){return e.publish="publish",e.unpublish="unpublish",e.subscribe="subscribe",e.unsubscribe="unsubscribe",e.pushtrack="pushtrack",e.removetrack="removetrack",e}(SdpAction||{}),negativedAction={publish:"unpublish",subscribe:"unsubscribe",pushtrack:"removetrack"},aggregationSdpStrategy={publish:0,subscribe:0,pushtrack:0,unpublish:1,unsubscribe:1,removetrack:1},SdpQueue=function(e){function t(){var e;return _classCallCheck$1(this,t),e=_callSuper(this,t),__publicField(_assertThisInitialized(e),"_queue"),e._queue=[],e}return _inherits(t,e),_createClass$1(t,[{key:"queue",get:function(){return this._queue}},{key:"enqueue",value:function(e){var t=this._queue.length,n="";return this._queue=this._queue.filter((function(t){return t.streamId!==e.streamId||e.action!==negativedAction[t.action]||(n=t.streamId,logger$5.info("offsetStreamId",n),!1)})),this._queue.length===t&&this._queue.push(e),this.emit("start"),n}},{key:"dequeue",value:function(){if(!this._queue.length)return null;var e=this._queue.length;isChrome&&chromeVersion>=86&&chromeVersion<=92&&(e=Math.min(this._queue.length,5));for(var t=aggregationSdpStrategy[this._queue[0].action],n=1;n<e;n++)if(aggregationSdpStrategy[this._queue[n].action]!==t)return{sdpStrategy:t,items:this._queue.splice(0,n)};return{sdpStrategy:t,items:this._queue.splice(0,e)}}}])}(EventEmitter2),freeGlobal$2="object"==("undefined"==typeof global?"undefined":_typeof$1(global))&&global&&global.Object===Object&&global,freeGlobal$1$1=freeGlobal$2,freeSelf$1="object"==("undefined"==typeof self?"undefined":_typeof$1(self))&&self&&self.Object===Object&&self,root$9=freeGlobal$1$1||freeSelf$1||Function("return this")(),root$1$1=root$9,Symbol2=root$1$1.Symbol,Symbol$1=Symbol2,objectProto$c$1=Object.prototype,hasOwnProperty$9$1=objectProto$c$1.hasOwnProperty,nativeObjectToString$1$1=objectProto$c$1.toString,symToStringTag$1$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag$2(e){var t=hasOwnProperty$9$1.call(e,symToStringTag$1$1),n=e[symToStringTag$1$1];try{e[symToStringTag$1$1]=void 0;var r=!0}catch(a){}var i=nativeObjectToString$1$1.call(e);return r&&(t?e[symToStringTag$1$1]=n:delete e[symToStringTag$1$1]),i}var objectProto$b$1=Object.prototype,nativeObjectToString$2=objectProto$b$1.toString;function objectToString$3(e){return nativeObjectToString$2.call(e)}var nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$6(e){return null==e?void 0===e?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(e)?getRawTag$2(e):objectToString$3(e)}function isObjectLike$7(e){return null!=e&&"object"==_typeof$1(e)}function arrayMap$2(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var isArray$d=Array.isArray,isArray$1$1=isArray$d;function isObject$9(e){var t=_typeof$1(e);return null!=e&&("object"==t||"function"==t)}function identity(e){return e}var asyncTag$1="[object AsyncFunction]",funcTag$2$1="[object Function]",genTag$1$1="[object GeneratorFunction]",proxyTag$1="[object Proxy]";function isFunction$5(e){if(!isObject$9(e))return!1;var t=baseGetTag$6(e);return t==funcTag$2$1||t==genTag$1$1||t==asyncTag$1||t==proxyTag$1}var coreJsData$2=root$1$1["__core-js_shared__"],coreJsData$1$1=coreJsData$2,maskSrcKey$1=function(){var e=/[^.]+$/.exec(coreJsData$1$1&&coreJsData$1$1.keys&&coreJsData$1$1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$2(e){return!!maskSrcKey$1&&maskSrcKey$1 in e}var funcProto$1$1=Function.prototype,funcToString$1$1=funcProto$1$1.toString;function toSource$3(e){if(null!=e){try{return funcToString$1$1.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$2=Function.prototype,objectProto$a$1=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$8$1=objectProto$a$1.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$2.call(hasOwnProperty$8$1).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$2(e){return!(!isObject$9(e)||isMasked$2(e))&&(isFunction$5(e)?reIsNative$1:reIsHostCtor$1).test(toSource$3(e))}function getValue$2(e,t){return null==e?void 0:e[t]}function getNative$8(e,t){var n=getValue$2(e,t);return baseIsNative$2(n)?n:void 0}var WeakMap$3=getNative$8(root$1$1,"WeakMap"),WeakMap$1$1=WeakMap$3,objectCreate$1=Object.create,baseCreate$2=function(){function e(){}return function(t){if(!isObject$9(t))return{};if(objectCreate$1)return objectCreate$1(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),baseCreate$1$1=baseCreate$2;function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function copyArray$2(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,n=0;return function(){var r=nativeNow(),i=HOT_SPAN-(r-n);if(n=r,i>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function constant(e){return function(){return e}}var defineProperty$2=function(){try{var e=getNative$8(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),defineProperty$1$1=defineProperty$2,baseSetToString=defineProperty$1$1?function(e,t){return defineProperty$1$1(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity,baseSetToString$1=baseSetToString,setToString=shortOut(baseSetToString$1),setToString$1=setToString;function arrayEach$2(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var MAX_SAFE_INTEGER$1$1=9007199254740991,reIsUint$1=/^(?:0|[1-9]\d*)$/;function isIndex$3(e,t){var n=_typeof$1(e);return!!(t=null==t?MAX_SAFE_INTEGER$1$1:t)&&("number"==n||"symbol"!=n&&reIsUint$1.test(e))&&e>-1&&e%1==0&&e<t}function baseAssignValue$3(e,t,n){"__proto__"==t&&defineProperty$1$1?defineProperty$1$1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function eq$3(e,t){return e===t||e!=e&&t!=t}var objectProto$9$1=Object.prototype,hasOwnProperty$7$1=objectProto$9$1.hasOwnProperty;function assignValue$4(e,t,n){var r=e[t];hasOwnProperty$7$1.call(e,t)&&eq$3(r,n)&&(void 0!==n||t in e)||baseAssignValue$3(e,t,n)}function copyObject$6(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?baseAssignValue$3(n,s,l):assignValue$4(n,s,l)}return n}var nativeMax=Math.max;function overRest(e,t,n){return t=nativeMax(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=nativeMax(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),apply(e,this,s)}}function baseRest(e,t){return setToString$1(overRest(e,t,identity),e+"")}var MAX_SAFE_INTEGER$2=9007199254740991;function isLength$3(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$2}function isArrayLike$3(e){return null!=e&&isLength$3(e.length)&&!isFunction$5(e)}function isIterateeCall(e,t,n){if(!isObject$9(n))return!1;var r=_typeof$1(t);return!!("number"==r?isArrayLike$3(n)&&isIndex$3(t,n.length):"string"==r&&t in n)&&eq$3(n[t],e)}function createAssigner(e){return baseRest((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&isIterateeCall(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}var objectProto$8$1=Object.prototype;function isPrototype$4(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$8$1)}function baseTimes$2(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var argsTag$2$1="[object Arguments]";function baseIsArguments$2(e){return isObjectLike$7(e)&&baseGetTag$6(e)==argsTag$2$1}var objectProto$7$1=Object.prototype,hasOwnProperty$6$1=objectProto$7$1.hasOwnProperty,propertyIsEnumerable$1$1=objectProto$7$1.propertyIsEnumerable,isArguments$2=baseIsArguments$2(function(){return arguments}())?baseIsArguments$2:function(e){return isObjectLike$7(e)&&hasOwnProperty$6$1.call(e,"callee")&&!propertyIsEnumerable$1$1.call(e,"callee")},isArguments$1$1=isArguments$2;function stubFalse$1(){return!1}var freeExports$2="object"==("undefined"==typeof exports?"undefined":_typeof$1(exports))&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==("undefined"==typeof module?"undefined":_typeof$1(module))&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer$7=nativeIsBuffer||stubFalse$1,isBuffer$1$1=isBuffer$7,argsTag$1$1="[object Arguments]",arrayTag$1$1="[object Array]",boolTag$2$1="[object Boolean]",dateTag$2$1="[object Date]",errorTag$1$1="[object Error]",funcTag$1$1="[object Function]",mapTag$4$1="[object Map]",numberTag$2$1="[object Number]",objectTag$2$1="[object Object]",regexpTag$2$1="[object RegExp]",setTag$4$1="[object Set]",stringTag$2$1="[object String]",weakMapTag$2$1="[object WeakMap]",arrayBufferTag$2$1="[object ArrayBuffer]",dataViewTag$3$1="[object DataView]",float32Tag$2$1="[object Float32Array]",float64Tag$2$1="[object Float64Array]",int8Tag$2$1="[object Int8Array]",int16Tag$2$1="[object Int16Array]",int32Tag$2$1="[object Int32Array]",uint8Tag$2$1="[object Uint8Array]",uint8ClampedTag$2$1="[object Uint8ClampedArray]",uint16Tag$2$1="[object Uint16Array]",uint32Tag$2$1="[object Uint32Array]",typedArrayTags$1={};function baseIsTypedArray$2(e){return isObjectLike$7(e)&&isLength$3(e.length)&&!!typedArrayTags$1[baseGetTag$6(e)]}function baseUnary$4(e){return function(t){return e(t)}}typedArrayTags$1[float32Tag$2$1]=typedArrayTags$1[float64Tag$2$1]=typedArrayTags$1[int8Tag$2$1]=typedArrayTags$1[int16Tag$2$1]=typedArrayTags$1[int32Tag$2$1]=typedArrayTags$1[uint8Tag$2$1]=typedArrayTags$1[uint8ClampedTag$2$1]=typedArrayTags$1[uint16Tag$2$1]=typedArrayTags$1[uint32Tag$2$1]=!0,typedArrayTags$1[argsTag$1$1]=typedArrayTags$1[arrayTag$1$1]=typedArrayTags$1[arrayBufferTag$2$1]=typedArrayTags$1[boolTag$2$1]=typedArrayTags$1[dataViewTag$3$1]=typedArrayTags$1[dateTag$2$1]=typedArrayTags$1[errorTag$1$1]=typedArrayTags$1[funcTag$1$1]=typedArrayTags$1[mapTag$4$1]=typedArrayTags$1[numberTag$2$1]=typedArrayTags$1[objectTag$2$1]=typedArrayTags$1[regexpTag$2$1]=typedArrayTags$1[setTag$4$1]=typedArrayTags$1[stringTag$2$1]=typedArrayTags$1[weakMapTag$2$1]=!1;var freeExports$1="object"==("undefined"==typeof exports?"undefined":_typeof$1(exports))&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==("undefined"==typeof module?"undefined":_typeof$1(module))&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1$1.process,nodeUtil$3=function(){try{return freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeUtil$1$1=nodeUtil$3,nodeIsTypedArray$1=nodeUtil$1$1&&nodeUtil$1$1.isTypedArray,isTypedArray$3=nodeIsTypedArray$1?baseUnary$4(nodeIsTypedArray$1):baseIsTypedArray$2,isTypedArray$1$1=isTypedArray$3,objectProto$6$1=Object.prototype,hasOwnProperty$5$1=objectProto$6$1.hasOwnProperty;function arrayLikeKeys$3(e,t){var n=isArray$1$1(e),r=!n&&isArguments$1$1(e),i=!n&&!r&&isBuffer$1$1(e),a=!n&&!r&&!i&&isTypedArray$1$1(e),o=n||r||i||a,s=o?baseTimes$2(e.length,String):[],l=s.length;for(var c in e)!t&&!hasOwnProperty$5$1.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex$3(c,l))||s.push(c);return s}function overArg$3(e,t){return function(n){return e(t(n))}}var nativeKeys$2=overArg$3(Object.keys,Object),nativeKeys$1$1=nativeKeys$2,objectProto$5$1=Object.prototype,hasOwnProperty$4$1=objectProto$5$1.hasOwnProperty;function baseKeys$2(e){if(!isPrototype$4(e))return nativeKeys$1$1(e);var t=[];for(var n in Object(e))hasOwnProperty$4$1.call(e,n)&&"constructor"!=n&&t.push(n);return t}function keys$4(e){return isArrayLike$3(e)?arrayLikeKeys$3(e):baseKeys$2(e)}function nativeKeysIn$2(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var objectProto$4$1=Object.prototype,hasOwnProperty$3$1=objectProto$4$1.hasOwnProperty;function baseKeysIn$2(e){if(!isObject$9(e))return nativeKeysIn$2(e);var t=isPrototype$4(e),n=[];for(var r in e)("constructor"!=r||!t&&hasOwnProperty$3$1.call(e,r))&&n.push(r);return n}function keysIn$4(e){return isArrayLike$3(e)?arrayLikeKeys$3(e,!0):baseKeysIn$2(e)}var assignIn=createAssigner((function(e,t){copyObject$6(t,keysIn$4(t),e)})),assignIn$1=assignIn,nativeCreate$5=getNative$8(Object,"create"),nativeCreate$1$1=nativeCreate$5;function hashClear$2(){this.__data__=nativeCreate$1$1?nativeCreate$1$1(null):{},this.size=0}function hashDelete$2(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$1$1="__lodash_hash_undefined__",objectProto$3$1=Object.prototype,hasOwnProperty$2$1=objectProto$3$1.hasOwnProperty;function hashGet$2(e){var t=this.__data__;if(nativeCreate$1$1){var n=t[e];return n===HASH_UNDEFINED$1$1?void 0:n}return hasOwnProperty$2$1.call(t,e)?t[e]:void 0}var objectProto$2$1=Object.prototype,hasOwnProperty$1$1=objectProto$2$1.hasOwnProperty;function hashHas$2(e){var t=this.__data__;return nativeCreate$1$1?void 0!==t[e]:hasOwnProperty$1$1.call(t,e)}var HASH_UNDEFINED$2="__lodash_hash_undefined__";function hashSet$2(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate$1$1&&void 0===t?HASH_UNDEFINED$2:t,this}function Hash$2(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear$2(){this.__data__=[],this.size=0}function assocIndexOf$5(e,t){for(var n=e.length;n--;)if(eq$3(e[n][0],t))return n;return-1}Hash$2.prototype.clear=hashClear$2,Hash$2.prototype.delete=hashDelete$2,Hash$2.prototype.get=hashGet$2,Hash$2.prototype.has=hashHas$2,Hash$2.prototype.set=hashSet$2;var arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$2(e){var t=this.__data__,n=assocIndexOf$5(t,e);return!(n<0||(n==t.length-1?t.pop():splice$1.call(t,n,1),--this.size,0))}function listCacheGet$2(e){var t=this.__data__,n=assocIndexOf$5(t,e);return n<0?void 0:t[n][1]}function listCacheHas$2(e){return assocIndexOf$5(this.__data__,e)>-1}function listCacheSet$2(e,t){var n=this.__data__,r=assocIndexOf$5(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ListCache$5(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache$5.prototype.clear=listCacheClear$2,ListCache$5.prototype.delete=listCacheDelete$2,ListCache$5.prototype.get=listCacheGet$2,ListCache$5.prototype.has=listCacheHas$2,ListCache$5.prototype.set=listCacheSet$2;var Map$1$1=getNative$8(root$1$1,"Map"),Map$2$1=Map$1$1;function mapCacheClear$2(){this.size=0,this.__data__={hash:new Hash$2,map:new(Map$2$1||ListCache$5),string:new Hash$2}}function isKeyable$2(e){var t=_typeof$1(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData$5(e,t){var n=e.__data__;return isKeyable$2(t)?n["string"==typeof t?"string":"hash"]:n.map}function mapCacheDelete$2(e){var t=getMapData$5(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet$2(e){return getMapData$5(this,e).get(e)}function mapCacheHas$2(e){return getMapData$5(this,e).has(e)}function mapCacheSet$2(e,t){var n=getMapData$5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function MapCache$3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function arrayPush$3(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}MapCache$3.prototype.clear=mapCacheClear$2,MapCache$3.prototype.delete=mapCacheDelete$2,MapCache$3.prototype.get=mapCacheGet$2,MapCache$3.prototype.has=mapCacheHas$2,MapCache$3.prototype.set=mapCacheSet$2;var getPrototype$3=overArg$3(Object.getPrototypeOf,Object),getPrototype$1$1=getPrototype$3;function stackClear$2(){this.__data__=new ListCache$5,this.size=0}function stackDelete$2(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function stackGet$2(e){return this.__data__.get(e)}function stackHas$2(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE$1=200;function stackSet$2(e,t){var n=this.__data__;if(n instanceof ListCache$5){var r=n.__data__;if(!Map$2$1||r.length<LARGE_ARRAY_SIZE$1-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache$3(r)}return n.set(e,t),this.size=n.size,this}function Stack$2(e){var t=this.__data__=new ListCache$5(e);this.size=t.size}function baseAssign$2(e,t){return e&&copyObject$6(t,keys$4(t),e)}function baseAssignIn$2(e,t){return e&&copyObject$6(t,keysIn$4(t),e)}Stack$2.prototype.clear=stackClear$2,Stack$2.prototype.delete=stackDelete$2,Stack$2.prototype.get=stackGet$2,Stack$2.prototype.has=stackHas$2,Stack$2.prototype.set=stackSet$2;var freeExports="object"==("undefined"==typeof exports?"undefined":_typeof$1(exports))&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==("undefined"==typeof module?"undefined":_typeof$1(module))&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root$1$1.Buffer:void 0,allocUnsafe=Buffer2?Buffer2.allocUnsafe:void 0;function cloneBuffer$1(e,t){if(t)return e.slice();var n=e.length,r=allocUnsafe?allocUnsafe(n):new e.constructor(n);return e.copy(r),r}function arrayFilter$2(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function stubArray$3(){return[]}var objectProto$1$1=Object.prototype,propertyIsEnumerable$2=objectProto$1$1.propertyIsEnumerable,nativeGetSymbols$1$1=Object.getOwnPropertySymbols,getSymbols$4=nativeGetSymbols$1$1?function(e){return null==e?[]:(e=Object(e),arrayFilter$2(nativeGetSymbols$1$1(e),(function(t){return propertyIsEnumerable$2.call(e,t)})))}:stubArray$3,getSymbols$1$1=getSymbols$4;function copySymbols$2(e,t){return copyObject$6(e,getSymbols$1$1(e),t)}var nativeGetSymbols$2=Object.getOwnPropertySymbols,getSymbolsIn$3=nativeGetSymbols$2?function(e){for(var t=[];e;)arrayPush$3(t,getSymbols$1$1(e)),e=getPrototype$1$1(e);return t}:stubArray$3,getSymbolsIn$1$1=getSymbolsIn$3;function copySymbolsIn$2(e,t){return copyObject$6(e,getSymbolsIn$1$1(e),t)}function baseGetAllKeys$3(e,t,n){var r=t(e);return isArray$1$1(e)?r:arrayPush$3(r,n(e))}function getAllKeys$2(e){return baseGetAllKeys$3(e,keys$4,getSymbols$1$1)}function getAllKeysIn$2(e){return baseGetAllKeys$3(e,keysIn$4,getSymbolsIn$1$1)}var DataView$1$1=getNative$8(root$1$1,"DataView"),DataView$2$1=DataView$1$1,Promise$1$1=getNative$8(root$1$1,"Promise"),Promise$2$1=Promise$1$1,Set$1$1=getNative$8(root$1$1,"Set"),Set$2$1=Set$1$1,mapTag$3$1="[object Map]",objectTag$1$1="[object Object]",promiseTag$1="[object Promise]",setTag$3$1="[object Set]",weakMapTag$1$1="[object WeakMap]",dataViewTag$2$1="[object DataView]",dataViewCtorString$1=toSource$3(DataView$2$1),mapCtorString$1=toSource$3(Map$2$1),promiseCtorString$1=toSource$3(Promise$2$1),setCtorString$1=toSource$3(Set$2$1),weakMapCtorString$1=toSource$3(WeakMap$1$1),getTag$4=baseGetTag$6;(DataView$2$1&&getTag$4(new DataView$2$1(new ArrayBuffer(1)))!=dataViewTag$2$1||Map$2$1&&getTag$4(new Map$2$1)!=mapTag$3$1||Promise$2$1&&getTag$4(Promise$2$1.resolve())!=promiseTag$1||Set$2$1&&getTag$4(new Set$2$1)!=setTag$3$1||WeakMap$1$1&&getTag$4(new WeakMap$1$1)!=weakMapTag$1$1)&&(getTag$4=function(e){var t=baseGetTag$6(e),n=t==objectTag$1$1?e.constructor:void 0,r=n?toSource$3(n):"";if(r)switch(r){case dataViewCtorString$1:return dataViewTag$2$1;case mapCtorString$1:return mapTag$3$1;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$3$1;case weakMapCtorString$1:return weakMapTag$1$1}return t});var getTag$1$1=getTag$4,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function initCloneArray$2(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$b.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Uint8Array$1$1=root$1$1.Uint8Array,Uint8Array$2$1=Uint8Array$1$1;function cloneArrayBuffer$4(e){var t=new e.constructor(e.byteLength);return new Uint8Array$2$1(t).set(new Uint8Array$2$1(e)),t}function cloneDataView$2(e,t){var n=t?cloneArrayBuffer$4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var reFlags$1=/\w*$/;function cloneRegExp$2(e){var t=new e.constructor(e.source,reFlags$1.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol$2(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}function cloneTypedArray$2(e,t){var n=t?cloneArrayBuffer$4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var boolTag$1$1="[object Boolean]",dateTag$1$1="[object Date]",mapTag$2$1="[object Map]",numberTag$1$1="[object Number]",regexpTag$1$1="[object RegExp]",setTag$2$1="[object Set]",stringTag$1$1="[object String]",symbolTag$1$1="[object Symbol]",arrayBufferTag$1$1="[object ArrayBuffer]",dataViewTag$1$1="[object DataView]",float32Tag$1$1="[object Float32Array]",float64Tag$1$1="[object Float64Array]",int8Tag$1$1="[object Int8Array]",int16Tag$1$1="[object Int16Array]",int32Tag$1$1="[object Int32Array]",uint8Tag$1$1="[object Uint8Array]",uint8ClampedTag$1$1="[object Uint8ClampedArray]",uint16Tag$1$1="[object Uint16Array]",uint32Tag$1$1="[object Uint32Array]";function initCloneByTag$2(e,t,n){var r=e.constructor;switch(t){case arrayBufferTag$1$1:return cloneArrayBuffer$4(e);case boolTag$1$1:case dateTag$1$1:return new r(+e);case dataViewTag$1$1:return cloneDataView$2(e,n);case float32Tag$1$1:case float64Tag$1$1:case int8Tag$1$1:case int16Tag$1$1:case int32Tag$1$1:case uint8Tag$1$1:case uint8ClampedTag$1$1:case uint16Tag$1$1:case uint32Tag$1$1:return cloneTypedArray$2(e,n);case mapTag$2$1:return new r;case numberTag$1$1:case stringTag$1$1:return new r(e);case regexpTag$1$1:return cloneRegExp$2(e);case setTag$2$1:return new r;case symbolTag$1$1:return cloneSymbol$2(e)}}function initCloneObject$2(e){return"function"!=typeof e.constructor||isPrototype$4(e)?{}:baseCreate$1$1(getPrototype$1$1(e))}var mapTag$1$1="[object Map]";function baseIsMap$2(e){return isObjectLike$7(e)&&getTag$1$1(e)==mapTag$1$1}var nodeIsMap$1=nodeUtil$1$1&&nodeUtil$1$1.isMap,isMap$3=nodeIsMap$1?baseUnary$4(nodeIsMap$1):baseIsMap$2,isMap$1$1=isMap$3,setTag$1$1="[object Set]";function baseIsSet$2(e){return isObjectLike$7(e)&&getTag$1$1(e)==setTag$1$1}var nodeIsSet$1=nodeUtil$1$1&&nodeUtil$1$1.isSet,isSet$3=nodeIsSet$1?baseUnary$4(nodeIsSet$1):baseIsSet$2,isSet$1$1=isSet$3,CLONE_DEEP_FLAG$1$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1$1=4,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$3="[object Function]",genTag$2="[object GeneratorFunction]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",weakMapTag$3="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",cloneableTags$1={};function baseClone$2(e,t,n,r,i,a){var o,s=t&CLONE_DEEP_FLAG$1$1,l=t&CLONE_FLAT_FLAG$1,c=t&CLONE_SYMBOLS_FLAG$1$1;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!isObject$9(e))return e;var d=isArray$1$1(e);if(d){if(o=initCloneArray$2(e),!s)return copyArray$2(e,o)}else{var u=getTag$1$1(e),U=u==funcTag$3||u==genTag$2;if(isBuffer$1$1(e))return cloneBuffer$1(e,s);if(u==objectTag$3||u==argsTag$3||U&&!i){if(o=l||U?{}:initCloneObject$2(e),!s)return l?copySymbolsIn$2(e,baseAssignIn$2(o,e)):copySymbols$2(e,baseAssign$2(o,e))}else{if(!cloneableTags$1[u])return i?e:{};o=initCloneByTag$2(e,u,s)}}a||(a=new Stack$2);var F=a.get(e);if(F)return F;a.set(e,o),isSet$1$1(e)?e.forEach((function(r){o.add(baseClone$2(r,t,n,r,e,a))})):isMap$1$1(e)&&e.forEach((function(r,i){o.set(i,baseClone$2(r,t,n,i,e,a))}));var p=d?void 0:(c?l?getAllKeysIn$2:getAllKeys$2:l?keysIn$4:keys$4)(e);return arrayEach$2(p||e,(function(r,i){p&&(r=e[i=r]),assignValue$4(o,i,baseClone$2(r,t,n,i,e,a))})),o}cloneableTags$1[argsTag$3]=cloneableTags$1[arrayTag$2]=cloneableTags$1[arrayBufferTag$3]=cloneableTags$1[dataViewTag$4]=cloneableTags$1[boolTag$3]=cloneableTags$1[dateTag$3]=cloneableTags$1[float32Tag$3]=cloneableTags$1[float64Tag$3]=cloneableTags$1[int8Tag$3]=cloneableTags$1[int16Tag$3]=cloneableTags$1[int32Tag$3]=cloneableTags$1[mapTag$5]=cloneableTags$1[numberTag$3]=cloneableTags$1[objectTag$3]=cloneableTags$1[regexpTag$3]=cloneableTags$1[setTag$5]=cloneableTags$1[stringTag$3]=cloneableTags$1[symbolTag$3]=cloneableTags$1[uint8Tag$3]=cloneableTags$1[uint8ClampedTag$3]=cloneableTags$1[uint16Tag$3]=cloneableTags$1[uint32Tag$3]=!0,cloneableTags$1[errorTag$2]=cloneableTags$1[funcTag$3]=cloneableTags$1[weakMapTag$3]=!1;var CLONE_DEEP_FLAG$2=1,CLONE_SYMBOLS_FLAG$2=4;function cloneDeep$2(e){return baseClone$2(e,CLONE_DEEP_FLAG$2|CLONE_SYMBOLS_FLAG$2)}function baseValues(e,t){return arrayMap$2(t,(function(t){return e[t]}))}function values(e){return null==e?[]:baseValues(e,keys$4(e))}var encodedTransformSupported$2=isEncodedTransformSupported(),ChromeHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"name","chrome"),__publicField(_assertThisInitialized(r),"_queueBusy",!1),__publicField(_assertThisInitialized(r),"_sdpQueue"),__publicField(_assertThisInitialized(r),"_aSendonlyOfferTpl"),__publicField(_assertThisInitialized(r),"_vSendonlyOfferTpl"),__publicField(_assertThisInitialized(r),"_aRecvonlyOfferTpl"),__publicField(_assertThisInitialized(r),"_vRecvonlyOfferTpl"),__publicField(_assertThisInitialized(r),"_mid",10),__publicField(_assertThisInitialized(r),"_inactiveMlineIndex",[]),__publicField(_assertThisInitialized(r),"_mlinesCache",{}),__publicField(_assertThisInitialized(r),"setDescription"),r.logger=new Logger$1$1("ChromeHandler",3,e.id),r.setDescription=n.setDescription.bind(n),r._sdpQueue=new SdpQueue,r._sdpQueue.on("start",(function(){r._queueBusy||"stable"!==r._peerConnection.signalingState||(r.logger.info("dequeue start"),r.dequeue())})),r}return _inherits(t,e),_createClass$1(t,[{key:"destroy",value:function(){_superPropGet(t,"destroy",this,3)([]),this._mlinesCache={}}},{key:"publish",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=n.stream,u=n.enableSimulcast,U=_superPropGet(t,"internalPublish",this,3)([n]),F=U.videoDescriptions,p=U.subVideoDescriptions,Q=U.audioTransceiverInit,h=U.videoTransceiverInit,R=generateAllSsrc(this._nextSsrc),this._nextSsrc=R.next,_=""+this._mid++,S=""+this._mid++,B=_objectSpread2(_objectSpread2(_objectSpread2({},this._aSendonlyOfferTpl),this.peer._offerIce),{},{mid:_,msid:"".concat(d.id," ").concat(d.id,"-audio"),ssrcs:generateSsrc(d.id,"audio",R.audio,clientCname)}),m=_objectSpread2(_objectSpread2(_objectSpread2({},this._vSendonlyOfferTpl),this.peer._offerIce),{},{mid:S,msid:"".concat(d.id," ").concat(d.id,"-video")}),u?(this.logger.info("subVideoDesc","desc: %o ",p),delete m.ssrcGroups,delete m.ssrcs,f=[],m.rids=F.map((function(e){var t=e.rid;return f.unshift(t),{id:t,direction:"send"}})),m.simulcast={dir1:"send",list1:f.join(";")}):(E=generateSsrcs(d.id,R,{cname:clientCname}),v=E.ssrcs,y=E.ssrcGroups,m.ssrcs=v,m.ssrcGroups=y),(null==(i=null==(r=this._context)?void 0:r.serverConfig)?void 0:i.audioRed)&&Array.isArray(B.rtp)&&(-1!==(g=B.rtp.findIndex((function(e){return"red"===e.codec})))&&(T=B.rtp.splice(g,1),V=_slicedToArray(T,1),k=V[0],B.rtp.unshift(k)),N=[],B.rtp.forEach((function(e){return N.push(e.payload)})),B.payloads=N.join(" ")),(null==(o=null==(a=this._context)?void 0:a.serverConfig)?void 0:o.videoCodec)&&setCodecPreferences(m,null==(l=null==(s=this._context)?void 0:s.serverConfig)?void 0:l.videoCodec),Array.isArray(m.ext)&&(getParameter("IOS_SAFARI_ORIENTATION")||!isSafari&&!isIOS||(m.ext=m.ext.filter((function(e){var t;return!(null==(t=null==e?void 0:e.uri)?void 0:t.includes("video-orientation"))}))),m.ext=m.ext.filter((function(e){var t;return!(null==(t=null==e?void 0:e.uri)?void 0:t.includes("framemarking"))}))),(b=null==B?void 0:B.rtp.find((function(e){return"opus"===e.codec})))&&B.fmtp&&(C=B.fmtp.find((function(e){return e.payload===b.payload})))&&(null==(c=this._context)?void 0:c.audioProfileManager)&&(C.config=this._context.audioProfileManager.getOpusConfigStr(C.config)),e.abrupt("return",(u||isSafari||this.addBitrateLimit(m,n.videoEncodeConfig[0].maxKbps),this._mlinesCache[n.stream.id]=[B,m],{partialSdp:getLocalPartialSdp(this.peer._offerSession,B,m),audioMid:_,videoMid:S,type:"incroffer",semantics:"unified-plan",videoDescriptions:F,subVideoDescriptions:p,audioTransceiverInit:Q,videoTransceiverInit:h,peerConnectionMode:this.peerConnectionMode}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"subscribe",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("subscribe"),this._aRecvonlyOfferTpl&&this._vRecvonlyOfferTpl){e.next=7;break}return e.next=4,this._genOfferSdp();case 4:return a=e.sent,e.next=7,this.createAVMlineOfferTpl(a);case 7:return d="",u="",U=!1,F=!1,this._mlinesCache[t.streamId]=[o,s],t.virtual?(d=""+this._mid++,U=!0):n.multiChatMode?(d=""+this._mid++,u=""+this._mid++,F=!0):(U=!0,F=!0,d=""+this._mid++,u=""+this._mid++),d&&(o=_objectSpread2(_objectSpread2({},cloneDeep$2(this._aRecvonlyOfferTpl)),{},{mid:d})),U&&(this._mlinesCache[t.streamId][0]=o,l={track:"audio",init:{direction:"recvonly"}}),u&&(s=_objectSpread2(_objectSpread2({},cloneDeep$2(this._vRecvonlyOfferTpl)),{},{mid:u})),F&&(this._mlinesCache[t.streamId][1]=s,c={track:"video",init:{direction:"recvonly"}}),p=getLocalPartialSdp(this.peer._offerSession,o,s),t.enableVendorMode||n.multiChatMode||t.virtual||!this._aSendonlyAnswerTpl||!this._vSendonlyAnswerTpl||(Q=generateAllSsrc(this._nextSsrc),this._nextSsrc=Q.next,R=_objectSpread2(_objectSpread2(_objectSpread2({},this._aSendonlyAnswerTpl),this.peer._answerIce),{},{mid:d,msid:"".concat(t.streamId).concat((null==(r=this._context)?void 0:r.avSync)?"":"-audio"," ").concat(t.streamId,"-audio"),ssrcs:generateSsrc(t.streamId,"audio",Q.audio)}),_=_objectSpread2(_objectSpread2(_objectSpread2({},this._vSendonlyAnswerTpl),this.peer._answerIce),{},{mid:u,msid:"".concat(t.streamId).concat((null==(i=this._context)?void 0:i.avSync)?"":"-video"," ").concat(t.streamId,"-video")},generateSsrcs(t.streamId,Q,{flexfec:this._enableSubFlexfec})),h={sdp:lib$1.write(_objectSpread2(_objectSpread2({},this.peer._answerSession),{},{media:[R,_]})),sequenceId:t.sequenceId?++t.sequenceId:0},null==Q||delete Q.next),(S=null==o?void 0:o.rtp.find((function(e){return"opus"===e.codec})))&&(null==o?void 0:o.fmtp)&&(B=null==o?void 0:o.fmtp.find((function(e){return e.payload===S.payload})))&&this._context&&(B.config+=";stereo=1;sprop-stereo=1"),t.isPublic&&chromeVersion>=86&&(null==(m=null==s?void 0:s.rtp.filter((function(e){return"H264"===e.codec})))?void 0:m.length)&&(null==s?void 0:s.fmtp)&&(null==s||s.fmtp.forEach((function(e){m.find((function(t){return t.payload===e.payload}))&&(e.config+=";sps-pps-idr-in-keyframe=1")}))),e.abrupt("return",{partialSdp:p,audioMid:d,videoMid:u,type:"incroffer",semantics:"unified-plan",audioTransceiverInit:l,videoTransceiverInit:c,allSsrc:Q,peerConnectionMode:this.peerConnectionMode,signalingAck:h});case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"handleAck",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("handleAck()","item: %o",t),this._sdpQueue.enqueue(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"dequeue",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._queueBusy=!0,o=this._sdpQueue.dequeue(),this.logger.info("dequeue()","ret: %o",o),o){e.next=4;break}return e.abrupt("return",void(this._queueBusy=!1));case 4:if(s=[],e.prev=5,l=o.items,c=o.sdpStrategy,d=[],u=[],U=[],c!==SdpStrategy.ADD){e.next=43;break}delete(F=_objectSpread2({},this.peer._answerIce)).candidates,p=!1,Q=!1,e.prev=12,R=_regeneratorRuntime().mark((function e(){var o,l,c,p,Q,h,R,_,B,f,E,v,y,g,T,V,k,N;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=S.value,l=o.audioMid,c=o.videoMid,p=o.action,Q=o.audioTransceiverInit,h=o.videoTransceiverInit,R=o.signalingAck,_=o.stream,B=_ instanceof RemoteStream,o.onSuccess&&U.push(o.onSuccess),o.onFail&&s.push(o.onFail),!(B&&(null==R?void 0:R.sequenceId)<_.sequenceId)){e.next=4;break}return e.abrupt("return",0);case 4:if(f={},E={},v=lib$1.parse(R.sdp),Array.isArray(v.media)&&v.media.sort((function(e,t){var n;return null==(n=null==e?void 0:e.type)?void 0:n.localeCompare(null==t?void 0:t.type)})).forEach((function(e){"audio"===(e=_objectSpread2(_objectSpread2({},e),F)).type?(f=e).mid=l:(E=e).mid=c})),y=_.streamId,p===SdpAction.publish&&(y=null==(t=_.stream)?void 0:t.id),m._mlinesCache[y]){e.next=10;break}return e.abrupt("return",0);case 10:g=_slicedToArray(m._mlinesCache[y],2),T=g[0],V=g[1],Q&&T&&(_.audioTransceiver=m._peerConnection.addTransceiver(Q.track,Q.init),m._reportRtcInvokeStatus("chromeHandler.addTrack",JSON.stringify({audioStreamTrack:mediaTrackStringify(Q.track)})),(k=m._inactiveMlineIndex.shift())||(k=m.peer._offerMlines.length),m.peer._offerMlines[k]=_objectSpread2({},T),m.peer._answerMlines[k]=f,encodedTransformSupported$2&&_.initAudioEncodedTransform()),h&&V&&(_.videoTransceiver=m._peerConnection.addTransceiver(h.track,h.init),m._reportRtcInvokeStatus("chromeHandler.addTrack",JSON.stringify({videoStreamTrack:mediaTrackStringify(h.track)})),(N=m._inactiveMlineIndex.shift())||(N=m.peer._offerMlines.length),m.peer._offerMlines[N]=_objectSpread2({},V),p===SdpAction.publish&&(null==(r=null==(n=m._context)?void 0:n.serverConfig)?void 0:r.videoCodec)&&setCodecPreferences(E,null==(a=null==(i=m._context)?void 0:i.serverConfig)?void 0:a.videoCodec),m.peer._answerMlines[N]=E,encodedTransformSupported$2&&_.initVideoEncodedTransform()),d.push(_.streamId||""),u.push(B?_.userId:"local"),B&&(_.sequenceId=null==R?void 0:R.sequenceId),delete m._mlinesCache[y];case 14:case"end":return e.stop()}}),e)})),_=_asyncIterator(l);case 15:return e.next=17,_.next();case 17:if(!(p=!(S=e.sent).done)){e.next=25;break}return e.delegateYield(R(),"t0",19);case 19:if(0!==e.t0){e.next=22;break}return e.abrupt("break",25);case 22:p=!1,e.next=15;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(12),Q=!0,h=e.t1;case 31:if(e.prev=31,e.prev=32,!p||null==_.return){e.next=36;break}return e.next=36,_.return();case 36:if(e.prev=36,!Q){e.next=39;break}throw h;case 39:return e.finish(36);case 40:return e.finish(31);case 41:e.next=45;break;case 43:B={},l.forEach((function(e){var t=e.audioMid,n=e.videoMid,r=e.action;B[t]=t,r!==SdpAction.removetrack&&(B[n]=n),B[t]=t})),this.peer._offerMlines=this.peer._offerMlines.map((function(e,t){return B[e.mid]&&(e=closeMline(e),m._inactiveMlineIndex.push(t)),e})),this._inactiveMlineIndex.sort((function(e,t){return e-t})),this.peer._answerMlines=this.peer._answerMlines.map((function(e){return B[e.mid]&&(e=closeMline(e)),e}));case 45:return e.prev=45,e.next=48,this.peer.getOriginRTCPeerConnection().createOffer();case 48:return e.next=50,this.setDescription(d.length?{streamId:d.join(","),streamUserId:u.join(",")}:void 0);case 50:e.next=59;break;case 52:if(e.prev=52,e.t2=e.catch(45),e.t3="have-local-offer"===this._peerConnection.signalingState,!e.t3){e.next=58;break}return e.next=58,this._peerConnection.setLocalDescription({type:"rollback"});case 58:throw e.t2;case 59:try{U.forEach((function(e){return e()}))}catch(f){}this.logger.info("dequeue","loop"),e.next=66;break;case 63:e.prev=63,e.t4=e.catch(5),this.logger.error("dequeue","unknown error: %o",e.t4),s.forEach((function(t){return t(e.t4)}));case 66:return e.prev=66,this.dequeue(),e.finish(66);case 69:case"end":return e.stop()}}),e,this,[[5,63,66,69],[12,27,31,41],[32,,36,40],[45,52]])}))),function(){return a.apply(this,arguments)})},{key:"getDefaultSdp",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._genOfferSdp();case 2:return t=e.sent,this.createAVMlineOfferTpl(t),n=lib$1.parse(t),r=[],e.abrupt("return",(n.media=n.media.filter((function(e){return"recvonly"===e.direction&&(Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){return"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id"!==e.uri}))),r.push("".concat(e.mid)),!0)})),n.groups=[{mids:r.join(" "),type:"BUNDLE"}],isRRTRSupported&&pushRRTR(n),{sdp:lib$1.write(n),semantics:"unified-plan",type:"incroffer"}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"rollback",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.msid,delete this._mlinesCache[n];case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"createAVMlineOfferTpl",value:function(e){var t=this,n=lib$1.parse(e);n.media.forEach((function(e){e.icePwd=t.peer._offerIce.icePwd,e.iceUfrag=t.peer._offerIce.iceUfrag,"audio"===e.type?"sendonly"===e.direction?t._aSendonlyOfferTpl=e:(Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){return"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id"!==e.uri}))),t._aRecvonlyOfferTpl=e):"video"===e.type&&("sendonly"===e.direction?t._vSendonlyOfferTpl=e:(Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){return"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id"!==e.uri}))),t._vRecvonlyOfferTpl=e))})),isRRTRSupported&&pushRRTR(n)}},{key:"_genOfferSdp",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,createDefaultSdp(!0);case 3:if(t=e.sent){e.next=6;break}throw"pc.createOffer() return empty.";case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),n="Get offer Error. "+(e.t0.message|e.t0),new SDKError(ErrorCode.NOT_SUPPORTED,n);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(){return n.apply(this,arguments)})}]);var n,r,i,a,o,s,l}(BasicHandler),FirefoxHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"name","firefox"),__publicField(_assertThisInitialized(r),"_aRecvonlyOfferTpl"),r.logger=new Logger$1$1("FirefoxHandler",3,e.id),r}return _inherits(t,e),_createClass$1(t,[{key:"publish",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_superPropGet(t,"internalPublish",this,3)([n]),o=a.videoDescriptions,s=a.subVideoDescriptions,l=a.audioTransceiverInit,c=a.videoTransceiverInit,n.audioTransceiver=this._peerConnection.addTransceiver(l.track,l.init),Array.isArray(c.init.sendEncodings)&&1===c.init.sendEncodings.length&&(c.init.sendEncodings=c.init.sendEncodings.map((function(e){return delete e.rid,e}))),n.videoTransceiver=this._peerConnection.addTransceiver(c.track,c.init),d=getServerNow(),this._report("rtc_begin_create_offer",{direction:"up",stream_id:"",stream_user_id:"",pc_session_id:this.peerConnectionId,vendor_mode:0}),e.next=6,this._peerConnection.createOffer();case 6:return u=e.sent,this._report("rtc_create_offer",{direction:"up",error_code:0,stream_id:"",stream_user_id:"",elapse:getServerNow()-d}),(U=lib$1.parse(u.sdp)).media=null==(r=U.media)?void 0:r.map((function(e){return _objectSpread2(_objectSpread2({},e),R.peer._offerIce)})),pushRRTR(U),e.next=13,this.setLocalDescription(lib$1.write(U));case 13:return F=n.audioTransceiver.mid,p=n.videoTransceiver.mid,Q=null,h=null,U.media=null==(i=U.media)?void 0:i.map((function(e){var t,n,r,i,a;if("".concat(e.mid)===F){var o=null==(Q=e)?void 0:Q.rtp.find((function(e){return"opus"===e.codec}));if(o&&Q.fmtp){var s=Q.fmtp.find((function(e){return e.payload===o.payload}));s&&(null==(t=R._context)?void 0:t.audioProfileManager)&&(s.config=R._context.audioProfileManager.getOpusConfigStr(s.config))}}else"".concat(e.mid)===p&&((null==(r=null==(n=R._context)?void 0:n.serverConfig)?void 0:r.videoCodec)&&setCodecPreferences(e,null==(a=null==(i=R._context)?void 0:i.serverConfig)?void 0:a.videoCodec),h=e);return e})),this.addBitrateLimit(h,n.videoEncodeConfig[0].maxKbps),e.next=19,this.setLocalDescription(lib$1.write(U));case 19:return e.abrupt("return",{partialSdp:getLocalPartialSdp(U,Q,h),audioMid:F,videoMid:p,type:"incroffer",semantics:"unified-plan",videoDescriptions:o,subVideoDescriptions:s,audioTransceiverInit:l,videoTransceiverInit:c,peerConnectionMode:this.peerConnectionMode});case 20:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"subscribe",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("subscribe()"),u="",U="",F=!1,p=!1,t.virtual?F=!0:(n.multiChatMode||(F=!0),p=!0),F&&(t.audioTransceiver=this._peerConnection.addTransceiver("audio",{direction:"recvonly"})),p&&(t.videoTransceiver=this._peerConnection.addTransceiver("video",{direction:"recvonly"})),Q=getServerNow(),this._report("rtc_begin_create_offer",{direction:"up",stream_id:t.streamId,stream_user_id:t.userId,pc_session_id:this.peerConnectionId,vendor_mode:0}),e.next=7,this._peerConnection.createOffer();case 7:return h=e.sent,this._report("rtc_create_offer",{error_code:0,direction:"up",stream_id:t.streamId,stream_user_id:t.userId,elapse:getServerNow()-Q}),(R=lib$1.parse(h.sdp)).media=null==(r=R.media)?void 0:r.map((function(e){return _objectSpread2(_objectSpread2({},e),f.peer._offerIce)})),R.media.map((function(e){var t,n,r,i;"video"===e.type&&(isTransportCCSupport?(e.ext=null==(t=e.ext)?void 0:t.filter((function(e){return-1===e.uri.indexOf("abs-send-time")})),e.rtcpFb=null==(n=e.rtcpFb)?void 0:n.filter((function(e){return"goog-remb"!==e.type}))):(e.rtcpFb=null==(r=e.rtcpFb)?void 0:r.filter((function(e){return"transport-cc"!==e.type})),e.ext=null==(i=e.ext)?void 0:i.filter((function(e){return-1===e.uri.indexOf("transport")}))))})),isRRTRSupported&&pushRRTR(R),e.next=15,this.setLocalDescription(lib$1.write(R),{streamId:t.streamId||"",streamUserId:t.userId});case 15:if(u=null==(i=t.audioTransceiver)?void 0:i.mid,U=null==(a=t.videoTransceiver)?void 0:a.mid,null==(o=R.media)||o.forEach((function(e){"".concat(e.mid)===u?c=e:"".concat(e.mid)===U&&(d=e)})),u&&c||(u="audio_".concat(U),c=_objectSpread2(_objectSpread2({},this._aRecvonlyOfferTpl),{},{mid:u})),t.audioMid=u,t.videoMid=U,n.multiChatMode||t.virtual||!this._aSendonlyAnswerTpl||!this._aSendonlyAnswerTpl){e.next=25;break}_=generateAllSsrc(this._nextSsrc),this._nextSsrc=_.next,B=_objectSpread2(_objectSpread2(_objectSpread2({},this._aSendonlyAnswerTpl),this.peer._answerIce),{},{mid:u,msid:"".concat(t.streamId).concat((null==(s=this._context)?void 0:s.avSync)?"":"-audio"," ").concat(t.streamId,"-audio"),ssrcs:generateSsrc(t.streamId,"audio",_.audio)}),m=_objectSpread2(_objectSpread2(_objectSpread2({},this._vSendonlyAnswerTpl),this.peer._answerIce),{},{mid:U,msid:"".concat(t.streamId).concat((null==(l=this._context)?void 0:l.avSync)?"":"-video"," ").concat(t.streamId,"-video")},generateSsrcs(t.streamId,_,{flexfec:this._enableSubFlexfec})),S={sdp:lib$1.write(_objectSpread2(_objectSpread2({},this.peer._answerSession),{},{media:[B,m]})),sequenceId:t.sequenceId?++t.sequenceId:0},null==_||delete _.next;case 25:return e.abrupt("return",{partialSdp:getLocalPartialSdp(R,c,d,!1),audioMid:u,videoMid:U,type:"incroffer",semantics:"unified-plan",audioTransceiverInit:t.audioTransceiver?{track:"audio",init:{direction:"recvonly"}}:void 0,videoTransceiverInit:t.videoTransceiver?{track:"video",init:{direction:"recvonly"}}:void 0,allSsrc:_,peerConnectionMode:this.peerConnectionMode,signalingAck:S});case 26:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"handleAck",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signalingAck,r=t.stream,(i=t.action)!==SdpAction.removetrack){e.next=3;break}return e.abrupt("return","");case 3:if(i!==SdpAction.unpublish&&i!==SdpAction.unsubscribe){e.next=14;break}return e.prev=4,e.next=7,this.close(r);case 7:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),"function"==typeof t.onFail&&t.onFail(e.t0);case 13:return e.abrupt("return",r.streamId||"");case 14:return a=lib$1.parse(null==n?void 0:n.sdp),e.prev=15,e.next=18,this._internalSetRemoteDescription(a.media,r);case 18:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),"function"==typeof t.onFail&&t.onFail(e.t1);case 24:return e.abrupt("return","");case 25:case"end":return e.stop()}}),e,this,[[4,10],[15,21]])}))),function(e){return s.apply(this,arguments)})},{key:"_internalSetRemoteDescription",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},(o=lib$1.parse(null==(r=this._peerConnection.remoteDescription)?void 0:r.sdp)).media.forEach((function(e){void 0!==e.mid&&(a[e.mid]=e)})),t.forEach((function(e){if("audio"===(e=_objectSpread2(_objectSpread2({},e),c.peer._answerIce)).type&&(n.audioMid?(e.mid=n.audioMid,a[n.audioMid]=e):a[e.mid]=e),"video"===e.type){if(n instanceof LocalStream&&firefoxVersion<=87){var t={};Array.isArray(e.rtp)&&(e.rtp=e.rtp.filter((function(e){return"rtx"!==e.codec||(t[e.payload]=e.payload,!1)}))),"string"==typeof e.payloads&&(e.payloads=e.payloads.split(" ").filter((function(e){return!t[e]})).join(" ")),Array.isArray(e.fmtp)&&(e.fmtp=e.fmtp.filter((function(e){return!t[e.payload]}))),Array.isArray(e.rtcpFb)&&(e.fmtp=e.fmtp.filter((function(e){return!t[e.payload]})))}n.videoMid?(e.mid=n.videoMid,a[n.videoMid]=e):a[e.mid]=e}})),s=lib$1.parse(null==(i=this._peerConnection.localDescription)?void 0:i.sdp),l=s.media.map((function(e){var t=a[e.mid];return"inactive"===e.direction?e:t})),o.groups=s.groups,o.media=l,o.media.map((function(e){var t,n,r,i,a;"video"===e.type&&(isTransportCCSupport?(e.ext=null==(t=e.ext)?void 0:t.filter((function(e){return-1===e.uri.indexOf("abs-send-time")})),e.rtcpFb=null==(n=e.rtcpFb)?void 0:n.filter((function(e){return"goog-remb"!==e.type}))):(e.rtcpFb=null==(r=e.rtcpFb)?void 0:r.filter((function(e){return"transport-cc"!==e.type})),e.ext=null==(i=e.ext)?void 0:i.filter((function(e){return-1===e.uri.indexOf("transport")}))),firefoxVersion>=138&&(e.ext=null==(a=e.ext)?void 0:a.filter((function(e){return!e.uri.includes("sdes:mid")}))))})),isRRTRSupported&&pushRRTR(o),e.next=9,this.setRemoteDescription(lib$1.write(o));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getDefaultSdp",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new RTCPeerConnection).addTransceiver("audio",{direction:"recvonly"}),t.addTransceiver("video",{direction:"recvonly"}),e.next=4,t.createOffer();case 4:return n=e.sent,r=lib$1.parse(n.sdp),this.createAVMlineOfferTpl(n.sdp),i=[],e.abrupt("return",(r.media=r.media.filter((function(e){if("recvonly"===e.direction){var t="template_".concat(e.type);return e.mid=t,i.push(t),!0}return!1})),isRRTRSupported&&pushRRTR(r),r.groups=[{mids:i.join(" "),type:"BUNDLE"}],t.close(),{sdp:lib$1.write(r),semantics:"unified-plan",type:"incroffer"}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"rollback",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.msid,n=t.stream,r=t.audioMid,i=t.videoMid,e.abrupt("return",(this.logger.warn("rollback()"),this.close(n,r,i)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"close",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("close()"),a=t.audioMid||n,o=t.videoMid||r,s={},t.audioTransceiver&&a&&(t.audioTransceiver.stop(),s[a]=a),t.videoTransceiver&&o&&(t.videoTransceiver.stop(),s[o]=o),l=[],e.next=6,this._peerConnection.createOffer();case 6:return c=e.sent,(d=lib$1.parse(null==c?void 0:c.sdp)).media=d.media.map((function(e){return s[e.mid]&&(e=closeMline(e)),"inactive"!==e.direction&&l.push(e.mid),_objectSpread2(_objectSpread2({},e),F.peer._offerIce)})),u=lib$1.parse(null==(i=this._peerConnection.remoteDescription)?void 0:i.sdp),U={},u.media.forEach((function(e){void 0!==e.mid&&(U[e.mid]=e)})),u.media=d.media.map((function(e){return"inactive"===e.direction?e:U[e.mid]})),d.groups&&u.groups&&(d.groups[0].mids=l.join(" "),u.groups[0].mids=l.join(" ")),e.next=15,this.setLocalDescription(lib$1.write(d));case 15:return e.next=17,this.setRemoteDescription(lib$1.write(u));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"setCurrentDescription",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._peerConnection.createOffer();case 2:if(e.t0=this._peerConnection.localDescription&&this._peerConnection.remoteDescription,!e.t0){e.next=8;break}return e.next=6,this._peerConnection.setLocalDescription(this._peerConnection.localDescription);case 6:return e.next=8,this._peerConnection.setRemoteDescription(this._peerConnection.remoteDescription);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createAVMlineOfferTpl",value:function(e){var t=this,n=lib$1.parse(e);n.media.forEach((function(e){"audio"===e.type&&(t._aRecvonlyOfferTpl=e)})),isRRTRSupported&&pushRRTR(n)}}]);var n,r,i,a,o,s,l,c}(BasicHandler),FallbackHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"name","fallback"),__publicField(_assertThisInitialized(r),"_aRecvonlyOfferTpl"),r.logger=new Logger$1$1("FallbackHandler",3,e.id),r.logger.warn("ctor","using fallback handler"),r._report("rtc_error",{message:"using fallback handler",error_code:-1}),r}return _inherits(t,e),_createClass$1(t,[{key:"publish",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,i,a,o,s,l,c,d,u,U,F,p,Q;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_superPropGet(t,"internalPublish",this,3)([n]),a=i.videoDescriptions,o=i.subVideoDescriptions,s=i.audioTransceiverInit,l=i.videoTransceiverInit,n.audioTransceiver=this._peerConnection.addTransceiver(s.track,s.init),Array.isArray(l.init.sendEncodings)&&1===l.init.sendEncodings.length&&(l.init.sendEncodings=l.init.sendEncodings.map((function(e){return delete e.rid,e}))),n.videoTransceiver=this._peerConnection.addTransceiver(l.track,l.init),c=getServerNow(),this._report("rtc_begin_create_offer",{direction:"up",stream_id:"",stream_user_id:"",pc_session_id:this.peerConnectionId,vendor_mode:0}),e.next=6,this._peerConnection.createOffer();case 6:return d=e.sent,this._report("rtc_create_offer",{direction:"up",error_code:0,stream_id:"",stream_user_id:"",elapse:getServerNow()-c}),u=lib$1.parse(d.sdp),e.next=11,this.setLocalDescription(d.sdp);case 11:return U=n.audioTransceiver.mid,F=n.videoTransceiver.mid,p=null,Q=null,e.abrupt("return",(u.media=null==(r=u.media)?void 0:r.map((function(e){return"".concat(e.mid)===U?p=e:"".concat(e.mid)===F&&(Q=e),e})),isEncodedTransformSupported()&&(n.initVideoEncodedTransform(),n.initAudioEncodedTransform()),{partialSdp:getLocalPartialSdp(u,p,Q),audioMid:U,videoMid:F,type:"incroffer",semantics:"unified-plan",videoDescriptions:a,subVideoDescriptions:o,audioTransceiverInit:s,videoTransceiverInit:l,peerConnectionMode:this.peerConnectionMode}));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"subscribe",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("subscribe()"),d="",u="",U=!1,F=!1,t.virtual?U=!0:(n.multiChatMode||(U=!0),F=!0),U&&(t.audioTransceiver=this._peerConnection.addTransceiver("audio",{direction:"recvonly"})),F&&(t.videoTransceiver=this._peerConnection.addTransceiver("video",{direction:"recvonly"})),p=getServerNow(),this._report("rtc_begin_create_offer",{direction:"up",stream_id:t.streamId,stream_user_id:t.userId,pc_session_id:this.peerConnectionId,vendor_mode:0}),e.next=7,this._peerConnection.createOffer();case 7:return Q=e.sent,this._report("rtc_create_offer",{error_code:0,direction:"up",stream_id:t.streamId,stream_user_id:t.userId,elapse:getServerNow()-p}),h=lib$1.parse(Q.sdp),e.next=12,this.setLocalDescription(Q.sdp,{streamId:t.streamId||"",streamUserId:t.userId});case 12:if(d=null==(r=t.audioTransceiver)?void 0:r.mid,u=null==(i=t.videoTransceiver)?void 0:i.mid,null==(a=h.media)||a.forEach((function(e){"".concat(e.mid)===d?l=e:"".concat(e.mid)===u&&(c=e)})),d&&l||(d="audio_".concat(u),l=_objectSpread2(_objectSpread2({},this._aRecvonlyOfferTpl),{},{mid:d})),t.audioMid=d,t.videoMid=u,n.multiChatMode||t.virtual||!this._aSendonlyAnswerTpl||!this._aSendonlyAnswerTpl){e.next=22;break}R=generateAllSsrc(this._nextSsrc),this._nextSsrc=R.next,S=_objectSpread2(_objectSpread2(_objectSpread2({},this._aSendonlyAnswerTpl),this.peer._answerIce),{},{mid:d,msid:"".concat(t.streamId).concat((null==(o=this._context)?void 0:o.avSync)?"":"-audio"," ").concat(t.streamId,"-audio"),ssrcs:generateSsrc(t.streamId,"audio",R.audio)}),B=_objectSpread2(_objectSpread2(_objectSpread2({},this._vSendonlyAnswerTpl),this.peer._answerIce),{},{mid:u,msid:"".concat(t.streamId).concat((null==(s=this._context)?void 0:s.avSync)?"":"-video"," ").concat(t.streamId,"-video")},generateSsrcs(t.streamId,R,{flexfec:this._enableSubFlexfec})),_={sdp:lib$1.write(_objectSpread2(_objectSpread2({},this.peer._answerSession),{},{media:[S,B]})),sequenceId:t.sequenceId?++t.sequenceId:0},null==R||delete R.next;case 22:return e.abrupt("return",(isEncodedTransformSupported()&&(t.initVideoEncodedTransform(),t.initAudioEncodedTransform()),{partialSdp:getLocalPartialSdp(h,l,c,!1),audioMid:d,videoMid:u,type:"incroffer",semantics:"unified-plan",audioTransceiverInit:t.audioTransceiver?{track:"audio",init:{direction:"recvonly"}}:void 0,videoTransceiverInit:t.videoTransceiver?{track:"video",init:{direction:"recvonly"}}:void 0,allSsrc:R,peerConnectionMode:this.peerConnectionMode,signalingAck:_}));case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"handleAck",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signalingAck,r=t.stream,(i=t.action)!==SdpAction.removetrack){e.next=3;break}return e.abrupt("return","");case 3:if(i!==SdpAction.unpublish&&i!==SdpAction.unsubscribe){e.next=14;break}return e.prev=4,e.next=7,this.close(r);case 7:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),"function"==typeof t.onFail&&t.onFail(e.t0);case 13:return e.abrupt("return",r.streamId||"");case 14:return a=lib$1.parse(null==n?void 0:n.sdp),e.prev=15,e.next=18,this._internalSetRemoteDescription(a.media,r);case 18:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),"function"==typeof t.onFail&&t.onFail(e.t1);case 24:return e.abrupt("return","");case 25:case"end":return e.stop()}}),e,this,[[4,10],[15,21]])}))),function(e){return s.apply(this,arguments)})},{key:"_internalSetRemoteDescription",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},(o=lib$1.parse(null==(r=this._peerConnection.remoteDescription)?void 0:r.sdp)).media.forEach((function(e){void 0!==e.mid&&(a[e.mid]=e)})),t.forEach((function(e){"audio"===(e=_objectSpread2(_objectSpread2({},e),c.peer._answerIce)).type&&(n.audioMid?(e.mid=n.audioMid,a[n.audioMid]=e):a[e.mid]=e),"video"===e.type&&(n.videoMid?(e.mid=n.videoMid,a[n.videoMid]=e):a[e.mid]=e)})),s=lib$1.parse(null==(i=this._peerConnection.localDescription)?void 0:i.sdp),l=s.media.map((function(e){var t=a[e.mid];return"inactive"===e.direction?e:t})),o.groups=s.groups,o.media=l,o.media.map((function(e){var t,n,r,i;"video"===e.type&&(isTransportCCSupport?(e.ext=null==(t=e.ext)?void 0:t.filter((function(e){return-1===e.uri.indexOf("abs-send-time")})),e.rtcpFb=null==(n=e.rtcpFb)?void 0:n.filter((function(e){return"goog-remb"!==e.type}))):(e.rtcpFb=null==(r=e.rtcpFb)?void 0:r.filter((function(e){return"transport-cc"!==e.type})),e.ext=null==(i=e.ext)?void 0:i.filter((function(e){return-1===e.uri.indexOf("transport")}))))})),e.next=8,this.setRemoteDescription(lib$1.write(o));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getDefaultSdp",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new RTCPeerConnection).addTransceiver("audio",{direction:"recvonly"}),t.addTransceiver("video",{direction:"recvonly"}),e.next=4,t.createOffer();case 4:return n=e.sent,r=lib$1.parse(n.sdp),this.createAVMlineOfferTpl(n.sdp),i=[],e.abrupt("return",(r.media=r.media.filter((function(e){if("recvonly"===e.direction){var t="template_".concat(e.type);return e.mid=t,i.push(t),!0}return!1})),r.groups=[{mids:i.join(" "),type:"BUNDLE"}],t.close(),{sdp:lib$1.write(r),semantics:"unified-plan",type:"incroffer"}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"rollback",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.msid,n=t.stream,r=t.audioMid,i=t.videoMid,e.abrupt("return",(this.logger.warn("rollback()"),this.close(n,r,i)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"close",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("close()"),a=t.audioMid||n,o=t.videoMid||r,s={},t.audioTransceiver&&a&&(t.audioTransceiver.stop(),s[a]=a),t.videoTransceiver&&o&&(t.videoTransceiver.stop(),s[o]=o),l=[],e.next=6,this._peerConnection.createOffer();case 6:return c=e.sent,(d=lib$1.parse(null==c?void 0:c.sdp)).media=d.media.map((function(e){return s[e.mid]&&(e=closeMline(e)),"inactive"!==e.direction&&l.push(e.mid),_objectSpread2(_objectSpread2({},e),F.peer._offerIce)})),u=lib$1.parse(null==(i=this._peerConnection.remoteDescription)?void 0:i.sdp),U={},u.media.forEach((function(e){void 0!==e.mid&&(U[e.mid]=e)})),u.media=d.media.map((function(e){return"inactive"===e.direction?e:U[e.mid]})),d.groups&&u.groups&&(d.groups[0].mids=l.join(" "),u.groups[0].mids=l.join(" ")),e.next=15,this.setLocalDescription(null==c?void 0:c.sdp);case 15:return e.next=17,this.setRemoteDescription(lib$1.write(u));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"setCurrentDescription",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._peerConnection.createOffer();case 2:if(e.t0=this._peerConnection.localDescription&&this._peerConnection.remoteDescription,!e.t0){e.next=8;break}return e.next=6,this._peerConnection.setLocalDescription(this._peerConnection.localDescription);case 6:return e.next=8,this._peerConnection.setRemoteDescription(this._peerConnection.remoteDescription);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createAVMlineOfferTpl",value:function(e){var t=this;lib$1.parse(e).media.forEach((function(e){"audio"===e.type&&(t._aRecvonlyOfferTpl=e)}))}}]);var n,r,i,a,o,s,l,c}(BasicHandler);function DCHECK(e,t){var n=(new Error).stack;reportGlobalError("[DCHECK FAILED] ".concat(t),-1,{stack:n})}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__decorateClass$5=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc$5(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp$5(t,n,a),a},BatchProcessor=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_queue",[]),__publicField(this,"_runningTask",[]),__publicField(this,"executor"),__publicField(this,"busy",!1),this.executor=t}),[{key:"add",value:function(e){var t=promiseWithResolves(),n=t.promise,r=t.resolve,i=t.reject;return this._queue.push({item:e,resolve:r,reject:i}),this.busy||this._emit(),n}},{key:"destroy",value:function(){[].concat(_toConsumableArray(this._queue),_toConsumableArray(this._runningTask)).forEach((function(e){(0,e.reject)(new SDKError(ErrorCode.OPERATION_CANCEL,"queue close"))})),this.busy=!1,this._queue=[]}},{key:"_emit",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._queue,this._runningTask=t,this._queue=[],0!==t.length){e.next=3;break}return e.abrupt("return",void(this.busy=!1));case 3:return n=t.map((function(e){return e.item})),r=t.map((function(e){return e.resolve})),i=t.map((function(e){return e.reject})),e.prev=4,this.busy=!0,e.next=8,this.executor(n);case 8:a=e.sent,r.forEach((function(e){return e(a)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),i.forEach((function(t){return t(e.t0)}));case 15:this._runningTask=[],setTimeout((function(){o._emit()}));case 16:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(){return e.apply(this,arguments)})}]);var e}(),StandardHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"name","standard"),__publicField(_assertThisInitialized(r),"_applyQueue",new BatchProcessor(r.apply.bind(_assertThisInitialized(r)))),__publicField(_assertThisInitialized(r),"_createQueue",new BatchProcessor(r.create.bind(_assertThisInitialized(r)))),__publicField(_assertThisInitialized(r),"_pqueue",new PriorityQueue),__publicField(_assertThisInitialized(r),"_midMap",new Map),__publicField(_assertThisInitialized(r),"_aRecvonlyOfferTpl"),r.logger=new Logger$1$1("StandardHandler",3,e.id),r.logger.warn("ctor","using standard handler"),r}return _inherits(t,e),_createClass$1(t,[{key:"publish",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,i,a,o,s,l,c,d,u,U,F,p,Q;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("publish()","streamId: ".concat(n.streamId)),i=_superPropGet(t,"internalPublish",this,3)([n]),a=i.videoDescriptions,o=i.subVideoDescriptions,s=i.audioTransceiverInit,l=i.videoTransceiverInit,n.audioTransceiver=this._peerConnection.addTransceiver(s.track,_objectSpread2(_objectSpread2({},s.init),{},{direction:"sendonly"})),Array.isArray(l.init.sendEncodings)&&1===l.init.sendEncodings.length&&(l.init.sendEncodings=l.init.sendEncodings.map((function(e){return delete e.rid,e}))),n.videoTransceiver=this._peerConnection.addTransceiver(l.track,_objectSpread2(_objectSpread2({},l.init),{},{direction:"sendonly"})),c=getServerNow(),this._report("rtc_begin_create_offer",{direction:"up",stream_id:"",stream_user_id:"",pc_session_id:this.peerConnectionId,vendor_mode:0}),e.next=7,this._createQueue.add();case 7:return d=e.sent,this._report("rtc_create_offer",{direction:"up",error_code:0,stream_id:"",stream_user_id:"",elapse:getServerNow()-c}),u=n.audioTransceiver.mid,U=n.videoTransceiver.mid,DCHECK(u&&U,"Transceiver not return MID after setLocalDescription"),n.audioMid=u,n.videoMid=U,F=null,p=null,Q=lib$1.parse(d),e.abrupt("return",(Q.media=null==(r=Q.media)?void 0:r.map((function(e){return"".concat(e.mid)===u?F=e:"".concat(e.mid)===U&&(p=e),e})),isEncodedTransformSupported()&&(n.initVideoEncodedTransform(),n.initAudioEncodedTransform()),{partialSdp:getLocalPartialSdp(Q,F,p),audioMid:u,videoMid:U,type:"incroffer",semantics:"unified-plan",videoDescriptions:a,subVideoDescriptions:o,audioTransceiverInit:s,videoTransceiverInit:l,peerConnectionMode:this.peerConnectionMode}));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"subscribe",value:(d=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("subscribe()","streamId: ".concat(t.streamId)),U=!1,F=!1,t.virtual?U=!0:(n.multiChatMode||(U=!0),F=!0),U&&(t.audioTransceiver=this._peerConnection.addTransceiver("audio",{direction:"recvonly"})),F&&(t.videoTransceiver=this._peerConnection.addTransceiver("video",{direction:"recvonly"})),p=getServerNow(),this._report("rtc_begin_create_offer",{direction:"up",stream_id:t.streamId,stream_user_id:t.userId,pc_session_id:this.peerConnectionId,vendor_mode:0}),e.next=7,this._createQueue.add();case 7:return Q=e.sent,this._report("rtc_create_offer",{error_code:0,direction:"up",stream_id:t.streamId,stream_user_id:t.userId,elapse:getServerNow()-p}),h=null!==(r=null==(a=t.audioTransceiver)?void 0:a.mid)&&void 0!==r?r:void 0,R=null!==(i=null==(o=t.videoTransceiver)?void 0:o.mid)&&void 0!==i?i:void 0,_=lib$1.parse(Q),null==(s=_.media)||s.forEach((function(e){"".concat(e.mid)===h?d=e:"".concat(e.mid)===R&&(u=e)})),h&&d||(h="audio_".concat(R),d=_objectSpread2(_objectSpread2({},this._aRecvonlyOfferTpl),{},{mid:h})),t.audioMid=h,t.videoMid=R,!n.multiChatMode&&!t.virtual&&this._aSendonlyAnswerTpl&&this._aSendonlyAnswerTpl&&(S=this._generateAllSsrc(),m=_objectSpread2(_objectSpread2(_objectSpread2({},this._aSendonlyAnswerTpl),this.peer._answerIce),{},{mid:h,msid:"".concat(t.streamId).concat((null==(l=this._context)?void 0:l.avSync)?"":"-audio"," ").concat(t.streamId,"-audio"),ssrcs:generateSsrc(t.streamId,"audio",S.audio)}),f=_objectSpread2(_objectSpread2(_objectSpread2({},this._vSendonlyAnswerTpl),this.peer._answerIce),{},{mid:R,msid:"".concat(t.streamId).concat((null==(c=this._context)?void 0:c.avSync)?"":"-video"," ").concat(t.streamId,"-video")},generateSsrcs(t.streamId,S,{flexfec:this._enableSubFlexfec})),B={sdp:lib$1.write(_objectSpread2(_objectSpread2({},this.peer._answerSession),{},{media:[m,f]})),sequenceId:t.sequenceId?++t.sequenceId:0},null==S||delete S.next),e.abrupt("return",(isEncodedTransformSupported()&&(t.initVideoEncodedTransform(),t.initAudioEncodedTransform()),{partialSdp:getLocalPartialSdp(_,d,u,!1),audioMid:h,videoMid:R||"",type:"incroffer",semantics:"unified-plan",audioTransceiverInit:t.audioTransceiver?{track:"audio",init:{direction:"recvonly"}}:void 0,videoTransceiverInit:t.videoTransceiver?{track:"video",init:{direction:"recvonly"}}:void 0,allSsrc:S,peerConnectionMode:this.peerConnectionMode,signalingAck:B}));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"handleAck",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signalingAck,r=t.stream,(i=t.action)!==SdpAction.removetrack){e.next=3;break}return e.abrupt("return","");case 3:if(i!==SdpAction.unpublish&&i!==SdpAction.unsubscribe){e.next=14;break}return e.prev=4,e.next=7,this.close(r);case 7:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),"function"==typeof t.onFail&&t.onFail(e.t0);case 13:return e.abrupt("return",r.streamId||"");case 14:return a=lib$1.parse(null==n?void 0:n.sdp),e.prev=15,e.next=18,this._internalSetRemoteDescription(a.media,r);case 18:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),"function"==typeof t.onFail&&t.onFail(e.t1);case 24:return e.abrupt("return","");case 25:case"end":return e.stop()}}),e,this,[[4,10],[15,21]])}))),function(e){return c.apply(this,arguments)})},{key:"_internalSetRemoteDescription",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.forEach((function(e){"audio"===(e=_objectSpread2(_objectSpread2({},e),r.peer._answerIce)).type&&(n.audioMid?(e.mid=n.audioMid,r._midMap.set(n.audioMid,e)):r._midMap.set(e.mid,e)),"video"===e.type&&(n.videoMid?(e.mid=n.videoMid,r._midMap.set(n.videoMid,e)):r._midMap.set(e.mid,e))})),n instanceof LocalStream?this.handlePublishAction({stream:n}):this.handleSubscribeAction({stream:n}),e.next=4,this._applyQueue.add();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"handlePublishAction",value:function(e){var t,n,r,i,a,o,s,l,c,d=e.stream,u=d.audioMid?this._midMap.get(d.audioMid):void 0,U=d.videoMid?this._midMap.get(d.videoMid):void 0;(null==(t=this._context)?void 0:t.pcKillSwitch.sld_rtcpfb_rrtr_add)&&isRRTRSupported&&(SDPTools.addRRTR(u),SDPTools.addRRTR(U));var F=(null==(r=null==(n=this._context)?void 0:n.serverConfig)?void 0:r.audioRed)?"RED":"OPUS";"OPUS"!==F&&u&&setAudioCodecPreferences(u,F),(null==(i=this._context)?void 0:i.pcKillSwitch.sld_fmtp_opus_add)&&SDPTools.decorateOpusConfig(u,null==(a=this._context)?void 0:a.audioProfileManager),isFirefox&&firefoxVersion<=87&&SDPTools.removeRtxInMLine(U);var p=null==(s=null==(o=this._context)?void 0:o.serverConfig)?void 0:s.videoCodec;p&&U&&setCodecPreferences(U,p),(null==(l=this._context)?void 0:l.pcKillSwitch.sld_ext_sdesmid_remove)&&isFirefox&&firefoxVersion>=138&&SDPTools.removeExtSdesMid(U),(null==(c=this._context)?void 0:c.pcKillSwitch.sld_fmtp_bitrate_add)&&(d.enableSimulcast||isSafari||!U||this.addBitrateLimit(U,d.videoEncodeConfig[0].maxKbps)),isFirefox&&SDPTools.selectCC(U,isTransportCCSupport?"tcc":"remb"),d.audioMid&&u&&this._midMap.set(d.audioMid,u),d.videoMid&&U&&this._midMap.set(d.videoMid,U)}},{key:"handleSubscribeAction",value:function(e){var t,n,r,i=e.stream,a=i.audioMid?this._midMap.get(i.audioMid):void 0,o=i.videoMid?this._midMap.get(i.videoMid):void 0;isFirefox||(SDPTools.removeRtpStreamId(a),SDPTools.removeRtpStreamId(o)),(null==(t=this._context)?void 0:t.pcKillSwitch.sld_rtcpfb_rrtr_add)&&isRRTRSupported&&(SDPTools.addRRTR(a),SDPTools.addRRTR(o)),(null==(n=this._context)?void 0:n.pcKillSwitch.sld_fmtp_opus_add)&&SDPTools.decorateOpusConfig(a),getParameter("IOS_SAFARI_ORIENTATION")||!isSafari&&!isIOS||SDPTools.removeExtVideoOrientation(o),(null==(r=this._context)?void 0:r.pcKillSwitch.sld_fmtp_sps_add)&&i.isPublic&&isChrome&&chromeVersion>=86&&SDPTools.decorateSpsPpsIdrInKeyframe(o),i.audioMid&&a&&this._midMap.set(i.audioMid,a),i.videoMid&&o&&this._midMap.set(i.videoMid,o)}},{key:"getDefaultSdp",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new RTCPeerConnection).addTransceiver("audio",{direction:"recvonly"}),t.addTransceiver("video",{direction:"recvonly"}),e.next=4,t.createOffer();case 4:return n=e.sent,r=lib$1.parse(n.sdp),this.createAVMlineOfferTpl(n.sdp),i=[],e.abrupt("return",(r.media=r.media.filter((function(e){if("recvonly"===e.direction){var t="template_".concat(e.type);return e.mid=t,i.push(t),!0}return!1})),isRRTRSupported&&pushRRTR(r),r.groups=[{mids:i.join(" "),type:"BUNDLE"}],t.close(),{sdp:lib$1.write(r),semantics:"unified-plan",type:"incroffer"}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"rollback",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.msid,n=t.stream,r=t.audioMid,i=t.videoMid,e.abrupt("return",(this.logger.warn("rollback()"),this.close(n,r,i)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"close",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("close()"),i=t.audioMid||n,a=t.videoMid||r,t.audioTransceiver&&i)try{t.audioTransceiver.stop(),delete t.audioTransceiver}catch(l){}if(t.videoTransceiver&&a)try{t.videoTransceiver.stop(),delete t.videoTransceiver}catch(c){}return o=i?this._midMap.get(i):void 0,s=a?this._midMap.get(a):void 0,o&&closeMline(o),s&&closeMline(s),i&&o&&this._midMap.set(i,o),a&&s&&this._midMap.set(a,s),e.next=11,this._applyQueue.add();case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"setCurrentDescription",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyQueue.add();case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"createAVMlineOfferTpl",value:function(e){var t=this;lib$1.parse(e).media.forEach((function(e){"audio"===e.type&&(t._aRecvonlyOfferTpl=e)}))}},{key:"_generateAllSsrc",value:function(){var e=generateAllSsrc(this._nextSsrc);return this._nextSsrc=e.next,e}},{key:"create",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("RTCPeerConnection create"),e.next=3,this._peerConnection.createOffer();case 3:return DCHECK(t=e.sent.sdp,"RTCPeerConnection not return SDP"),e.next=7,this.peer.setLocalDescription(t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"apply",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("RTCPeerConnection apply"),e.next=3,this._peerConnection.createOffer();case 3:return DCHECK(t=e.sent.sdp,"RTCPeerConnection not return SDP"),n=lib$1.parse(t),t=this.generateOffer(n,t),r=this.generateAnswer(n),e.next=10,this.setLocalDescription(t);case 10:return e.next=12,this.setRemoteDescription(r);case 12:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"generateOffer",value:function(e,t){var n,r,i=this,a=!1;return"v1"===this.peer.getIceVersion()&&isFirefox&&(e.media=e.media.map((function(e){return _objectSpread2(_objectSpread2({},e),i.peer._offerIce)})),a=!0),(null==(n=this._context)?void 0:n.pcKillSwitch.sld_fmtp_opus_add)&&(e.media=e.media.map((function(e){var t;if("audio"===e.type){var n="sendonly"===e.direction;SDPTools.decorateOpusConfig(e,n?null==(t=i._context)?void 0:t.audioProfileManager:void 0)}return e})),a=!0),(null==(r=this._context)?void 0:r.pcKillSwitch.sld_rtcpfb_rrtr_add)&&(e.media=e.media.map((function(e){return!isRRTRSupported||"audio"!==e.type&&"video"!==e.type||SDPTools.addRRTR(e),e})),a=!0),a?lib$1.write(e):t}},{key:"generateAnswer",value:function(e){var t=this,n=[];return e.media.forEach((function(e){if("application"===e.type){DCHECK(void 0!==e.mid,"should always have mid in mline");var r=t._midMap.get(e.mid);return r||(r=t.generateDCAnswer(e),t._midMap.set(e.mid,r)),void n.push(_objectSpread2({},r))}var i="".concat(e.mid);DCHECK(i,"No MID in offer m-line: ".concat(e));var a=t._midMap.get(i);a||(t.logger.info("generateInactiveAnswerMLine","mid: %o, mLine: %o",e.mid,e),a=t.generateInactiveAnswerMLine(e)),n.push(a)})),this.peer.createAnswerSdp(n,e.groups)}},{key:"generateInactiveAnswerMLine",value:function(e){return _objectSpread2(_objectSpread2(_objectSpread2({},e),this.peer._answerIce),{},{direction:"inactive"})}},{key:"generateDCAnswer",value:function(e){var t=_objectSpread2(_objectSpread2(_objectSpread2({},e),this.peer._answerIce),{},{sctpmap:{sctpmapNumber:5e3,app:"webrtc-datachannel",maxMessageSize:262144}});return isFirefox&&(delete t.bundleOnly,t.port=9),t}},{key:"destroy",value:function(){_superPropGet(t,"destroy",this,3)([]),this._pqueue.destroy(),this._applyQueue.destroy(),this._createQueue.destroy()}}]);var n,r,i,a,o,s,l,c,d,u}(BasicHandler);function highPLock(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,i,a,o,s,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.logger).info("SDP Lock","pending task %o",t),e.next=4,this._pqueue.enqueue(0);case 4:for(i=e.sent,n.info("SDP Lock","running task %o",t),e.prev=6,a=l.length,o=new Array(a),s=0;s<a;s++)o[s]=l[s];return e.next=10,null==r?void 0:r.apply(this,o);case 10:return e.abrupt("return",e.sent);case 11:return e.prev=11,n.info("SDP Lock","unlocking by task %o",t),i(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[6,,11,14]])}))),n}function lowPLock(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,i,a,o,s,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.logger).info("SDP Lock","pending task %o",t),e.next=4,this._pqueue.enqueue(1);case 4:for(i=e.sent,n.info("SDP Lock","running task %o",t),e.prev=6,a=l.length,o=new Array(a),s=0;s<a;s++)o[s]=l[s];return e.next=10,null==r?void 0:r.apply(this,o);case 10:return e.abrupt("return",e.sent);case 11:return e.prev=11,n.info("SDP Lock","unlocking by task %o",t),i(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[6,,11,14]])}))),n}__decorateClass$5([highPLock],StandardHandler.prototype,"create",1),__decorateClass$5([lowPLock],StandardHandler.prototype,"apply",1);var SDPTools={decorateOpusConfig:function(e,t){if(e){var n=null==e?void 0:e.rtp.find((function(e){return"opus"===e.codec}));if(n&&e.fmtp){var r=e.fmtp.find((function(e){return e.payload===n.payload}));r&&(t&&(r.config=t.getOpusConfigStr(r.config)),r.config=addStereo(r.config))}}},removeRtxInMLine:function(e){var t;if(e){var n=[];e.rtp=e.rtp.filter((function(e){return"rtx"===e.codec&&n.push(e.payload),"rtx"!==e.codec})),e.fmtp=e.fmtp.filter((function(e){return n.includes(e.payload)})),e.payloads=null==(t=e.payloads)?void 0:t.split(" ").filter((function(e){return!n.includes(parseInt(e))})).join(" ")}},removeExtSdesMid:function(e){var t;e&&(e.ext=null==(t=e.ext)?void 0:t.filter((function(e){return!e.uri.includes("sdes:mid")})))},selectCC:function(e,t){var n,r,i,a;e&&("tcc"===t?(e.ext=null==(n=e.ext)?void 0:n.filter((function(e){return-1===e.uri.indexOf("abs-send-time")})),e.rtcpFb=null==(r=e.rtcpFb)?void 0:r.filter((function(e){return"goog-remb"!==e.type}))):"remb"===t&&(e.rtcpFb=null==(i=e.rtcpFb)?void 0:i.filter((function(e){return"transport-cc"!==e.type})),e.ext=null==(a=e.ext)?void 0:a.filter((function(e){return-1===e.uri.indexOf("transport")}))))},addRRTR:function(e){e&&e.rtp.forEach((function(t){e.rtcpFb||(e.rtcpFb=[]),e.rtcpFb.find((function(e){return e.payload===t.payload&&"rrtr"===e.type}))||e.rtcpFb.push({payload:t.payload,type:"rrtr"})}))},removeRtpStreamId:function(e){e&&Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){return"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id"!==e.uri})))},decorateSpsPpsIdrInKeyframe:function(e){if(e){var t=e.rtp.filter((function(e){return"H264"===e.codec}));t.length&&e.fmtp&&e.fmtp.forEach((function(e){t.find((function(t){return t.payload===e.payload}))&&(e.config+=";sps-pps-idr-in-keyframe=1")}))}},removeExtVideoOrientation:function(e){e&&Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){return!e.uri.includes("video-orientation")})))},removeExtFramemarking:function(e){e&&Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){return!e.uri.includes("framemarking")})))}},PriorityQueue=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"queue",[]),__publicField(this,"processing",!1)}),[{key:"enqueue",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s=this,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:0,n=promiseWithResolves(),r=n.promise,i=n.resolve,a={priority:t,resolve:i},-1===(o=this.queue.findIndex((function(e){return e.priority>t})))?this.queue.push(a):this.queue.splice(o,0,a),this.tryProcess(),e.next=6,r;case 6:return this.processing=!0,e.abrupt("return",(function(){s.processing=!1,s.tryProcess()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){this.queue.forEach((function(e){(0,e.resolve)()})),this.queue=[],this.processing=!1}},{key:"tryProcess",value:function(){if(!this.processing){var e=this.queue.shift();e&&e.resolve()}}}]);var e}();function promiseWithResolves(){var e,t,n=new Promise((function(n,r){e=n,t=r}));if(!e||!t)throw Error("Broken Implement of Promise");return{promise:n,resolve:e,reject:t}}var addStereo=function(e){var t={};return e.split(";").forEach((function(e){var n=_slicedToArray(e.split("="),2),r=n[0],i=n[1];r&&i&&(t[r]=i)})),t["sprop-stereo"]=1,t.stereo=1,Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join(";")},createHandler=function(e,t){return e.enableFallbackHandler?new FallbackHandler(e,t):e.enableStandardHandler?new StandardHandler(e,t):isFirefox?new FirefoxHandler(e,t):new ChromeHandler(e,t)},logger$4=new Logger$1$1("Locker",2),lockId=1,PromiseLock2=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"lockingPromise",Promise.resolve()),__publicField(this,"locks",0),__publicField(this,"name",""),__publicField(this,"lockId"),this.lockId=lockId++,t&&(this.name=t),logger$4.info("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}),[{key:"isLocked",get:function(){return this.locks>0}},{key:"lock",value:function(){var e,t=this;this.locks+=1,logger$4.info("[lock-".concat(this.name,"-").concat(this.lockId,"] locked, current queue ").concat(this.locks,"."));var n=new Promise((function(n){e=function(){t.locks-=1,logger$4.info("[lock-".concat(t.name,"-").concat(t.lockId,"] unlocked, current queue ").concat(t.locks,".")),n()}})),r=this.lockingPromise.then((function(){return e}));return this.lockingPromise=this.lockingPromise.then((function(){return n})),r}}])}(),RoomEvent=function(e){return e.RESUBSCRIBE="resubscribe",e.STREAM_FAILED="stream_failed",e.SUBSCRIBE_PUSH_TRACK="subscribe_push_track",e.REMOVE_PUSH_TRACK="remove_push_track",e.VIDEO_FIRST_FRAME="video_first_frame",e.ON_USER_PUBLISH_STATE_CHANGE="on_user_publish_state_change",e.ON_USER_START_AUDIO_CAPTURE="on_user_start_audio_capture",e.ON_USER_STOP_AUDIO_CAPTURE="on_user_stop_audio_capture",e.ON_USER_START_VIDEO_CAPTURE="on_user_start_video_capture",e.ON_USER_STOP_VIDEO_CAPTURE="on_user_stop_video_capture",e.ON_SEI_MESSAGED_RECEIVED="on_sei_messaged_received",e.ON_PUBLISH_RESULT="on_publish_result",e.ON_SUBSCRIBE_RESULT="ON_SUBSCRIBE_RESULT",e.ON_UPDATE_TOKEN_SUCCESS="on_update_token_success",e.ON_REMOTE_STREAM_STATS="ON_REMOTE_STREAM_STATS",e.ON_LOCAL_STREAM_STATS="ON_LOCAL_STREAM_STATS",e.ON_USER_LEAVE="on_user_leave",e.ON_ROOM_ERROR="on_room_error",e.ON_NETWORK_QUALITY="on_network_quality",e.ON_SIMULCAST_SUBSCRIBE_FALLBACK="on_simulcast_subscribe_fallback",e.ON_REMOTE_VIDEO_SIZE_CHANGED="on_remote_video_size_changed",e.RECONNECT_FAILED="reconnect_failed",e.ON_SUBTITLE_STATE_CHANGED="ON_SUBTITLE_STATE_CHANGED",e.ON_SUBTITLE_MESSAGE_RECEIVED="ON_SUBTITLE_MESSAGE_RECEIVED",e.ON_VIDEO_STREAM_BANNED="ON_VIDEO_STREAM_BANNED",e.ON_AUDIO_STREAM_BANNED="ON_AUDIO_STREAM_BANNED",e.ON_FORWARD_STREAM_ERROR="ON_FORWARD_STREAM_ERROR",e.ON_REJOIN_WITH_TCP="ON_REJOIN_WITH_TCP",e.ON_ICE_CONNECT_WITH_TCP="ON_ICE_CONNECT_WITH_TCP",e.PUB_RETRY="PUB_RETRY",e.SUB_RETRY="SUB_RETRY",e.VIDEO_TYPE_CHANGE="VIDEO_TYPE_CHANGE",e}(RoomEvent||{}),StreamMixingEventType=function(e){return e[e.START=1]="START",e[e.START_SUCCESS=2]="START_SUCCESS",e[e.START_FAILED=3]="START_FAILED",e[e.UPDATE=4]="UPDATE",e[e.UPDATE_SUCCESS=5]="UPDATE_SUCCESS",e[e.UPDATE_FAILED=6]="UPDATE_FAILED",e[e.STOP=7]="STOP",e[e.STOP_SUCCESS=8]="STOP_SUCCESS",e[e.STOP_FAILED=9]="STOP_FAILED",e}(StreamMixingEventType||{}),PubState=function(e){return e[e.PUB=0]="PUB",e[e.UNPUB=1]="UNPUB",e}(PubState||{}),RoomProfileMap=_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},RoomProfileType.communication,[0]),RoomProfileType.chat,[0]),RoomProfileType.chatRoom,[1,"IES_chatroom"]),RoomProfileType.coHost,[1,"IES_PK"]),RoomProfileType.meeting,[16]),RoomProfileType.classRoom,[0]),encodedTransformSupported$1=isEncodedTransformSupported(),VendorHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t,[e,n]),__publicField(_assertThisInitialized(r),"_peerConnectionId",genUuid()),__publicField(_assertThisInitialized(r),"peerConnectionMode",1),__publicField(_assertThisInitialized(r),"name","vendor"),__publicField(_assertThisInitialized(r),"direction","up"),__publicField(_assertThisInitialized(r),"stream"),n.on("ice_state",(function(e){r._report("rtc_ice_state",{pc_session_id:r.peerConnectionId,direction:r.direction,error_code:0,ice_state:e.toUpperCase(),message:"",peer_connection_id:r.peerConnectionId,stream_id:"",stream_user_id:""})})),n.on("disconnect",(function(){r.emit("disconnect")})),r}return _inherits(t,e),_createClass$1(t,[{key:"publish",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,i,a,o,s,l,c,d,u,U=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.enableSimulcast=!1,this.stream=n,r=_superPropGet(t,"internalPublish",this,3)([n]),i=r.videoDescriptions,a=r.subVideoDescriptions,o=r.audioTransceiverInit,s=r.videoTransceiverInit,n.audioTransceiver=this._peerConnection.addTransceiver(o.track,o.init),n.videoTransceiver=this._peerConnection.addTransceiver(s.track,s.init),encodedTransformSupported$1&&(n.initAudioEncodedTransform(),n.initVideoEncodedTransform()),this._report("rtc_begin_create_offer",{direction:"up",stream_id:"",stream_user_id:"",pc_session_id:this.peerConnectionId,vendor_mode:(null==n?void 0:n.vendorCode)||0}),e.next=5,this._peerConnection.createOffer();case 5:return l=e.sent,c=getServerNow(),d=lib$1.parse(l.sdp),Array.isArray(d.media)&&(d.media=d.media.map((function(e){var t,r,i,a,o;if("video"===e.type)(null==(r=null==(t=U._context)?void 0:t.serverConfig)?void 0:r.videoCodec)&&setCodecPreferences(e,null==(a=null==(i=U._context)?void 0:i.serverConfig)?void 0:a.videoCodec),(isSafari||isIOS)&&Array.isArray(e.ext)&&(e.ext=e.ext.filter((function(e){var t;return!(null==(t=null==e?void 0:e.uri)?void 0:t.includes("video-orientation"))}))),isSafari||U.addBitrateLimit(e,n.videoEncodeConfig[0].maxKbps);else if("audio"===e.type){var s=null==e?void 0:e.rtp.find((function(e){return"opus"===e.codec}));if(s&&e.fmtp){var l=e.fmtp.find((function(e){return e.payload===s.payload}));l&&(null==(o=U._context)?void 0:o.audioProfileManager)&&(l.config=U._context.audioProfileManager.getOpusConfigStr(l.config))}}return e}))),u=new RTCSessionDescription({type:"offer",sdp:lib$1.write(d)}),e.prev=10,e.next=13,this._peerConnection.setLocalDescription(u);case 13:this._report("rtc_set_description",{error_code:0,message:u.sdp||"",is_local:"1",direction:"up",stream_id:"",stream_user_id:"",elapse:getServerNow()-c},{type:"offer"}),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(10),this._report("rtc_set_description",{error_code:-1,message:e.t0.message+u.sdp,is_local:"1",direction:"up",stream_id:"",stream_user_id:"",elapse:getServerNow()-c},{type:"offer"}),e.t0;case 19:return e.abrupt("return",{partialSdp:u.sdp||"",audioMid:"0",videoMid:"1",type:"offer",semantics:"unified-plan",videoDescriptions:i,subVideoDescriptions:a,audioTransceiverInit:o,videoTransceiverInit:s,peerConnectionMode:this.peerConnectionMode,peerConnectionId:this.peerConnectionId});case 20:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e){return o.apply(this,arguments)})},{key:"subscribe",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stream=t,this.direction="down",t.audioTransceiver=this._peerConnection.addTransceiver("audio",{direction:"recvonly"}),t.videoTransceiver=this._peerConnection.addTransceiver("video",{direction:"recvonly"}),encodedTransformSupported$1&&(t.initAudioEncodedTransform(),t.initVideoEncodedTransform()),this._report("rtc_begin_create_offer",{direction:"down",stream_id:t.streamId,stream_user_id:t.userId,pc_session_id:this.peerConnectionId,vendor_mode:t.vendorCode||0}),e.next=3,this._peerConnection.createOffer();case 3:return n=e.sent,r=getServerNow(),i=lib$1.parse(n.sdp),Array.isArray(i.media)&&(i.media=i.media.map((function(e){if("audio"===e.type){var t=null==e?void 0:e.rtp.find((function(e){return"opus"===e.codec}));if(t&&(null==e?void 0:e.fmtp)){var n=null==e?void 0:e.fmtp.find((function(e){return e.payload===t.payload}));n&&o._context&&(n.config+=";stereo=1;sprop-stereo=1")}}return e}))),a=new RTCSessionDescription({type:"offer",sdp:lib$1.write(i)}),e.prev=8,e.next=11,this._peerConnection.setLocalDescription(a);case 11:this._report("rtc_set_description",{error_code:0,message:a.sdp||"",is_local:"1",direction:"down",stream_id:t.streamId,stream_user_id:t.userId,elapse:getServerNow()-r},{type:"offer"}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),this._report("rtc_set_description",{error_code:-1,message:e.t0.message+a.sdp,is_local:"1",direction:"down",stream_id:t.streamId,stream_user_id:t.userId,elapse:getServerNow()-r},{type:"offer"}),e.t0;case 17:return e.abrupt("return",{partialSdp:a.sdp||"",audioMid:"0",videoMid:"1",type:"offer",semantics:"unified-plan",peerConnectionMode:this.peerConnectionMode,peerConnectionId:this.peerConnectionId});case 18:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(e){return a.apply(this,arguments)})},{key:"handleAck",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action!==SdpAction.publish&&t.action!==SdpAction.subscribe){e.next=14;break}return s=new RTCSessionDescription({sdp:null==(n=t.signalingAck)?void 0:n.sdp,type:"answer"}),l=getServerNow(),e.prev=2,e.next=5,this._peerConnection.setRemoteDescription(s);case 5:this._report("rtc_set_description",{error_code:0,message:s.sdp||"",is_local:"1",direction:"down",stream_id:null==(r=t.stream)?void 0:r.userId,stream_user_id:(null==(i=t.stream)?void 0:i.streamId)||"",elapse:getServerNow()-l},{type:"answer"}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._report("rtc_set_description",{error_code:-1,message:e.t0.message+s.sdp,is_local:"1",direction:"down",stream_id:null==(a=t.stream)?void 0:a.userId,stream_user_id:(null==(o=t.stream)?void 0:o.streamId)||"",elapse:getServerNow()-l},{type:"offer"}),e.t0;case 11:"function"==typeof t.onSuccess&&t.onSuccess(),e.next=15;break;case 14:t.action!==SdpAction.unpublish&&t.action!==SdpAction.unsubscribe||this.destroy();case 15:return e.abrupt("return","");case 16:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return i.apply(this,arguments)})},{key:"destroy",value:function(){this.peer.destroy(),_superPropGet(t,"destroy",this,3)([])}},{key:"getDefaultSdp",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{sdp:"",type:"offer",semantics:""});case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"connect",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this._peerConnection.close()}catch(e2){}case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"peerConnectionId",get:function(){return this._peerConnectionId},set:function(e){this._peerConnectionId=e}}]);var n,r,i,a,o}(BasicHandler),RtcErrorCode=function(e){return e[e.AUTOPLAY_FAILED=-1e3]="AUTOPLAY_FAILED",e[e.TRACK_ERROR=-1001]="TRACK_ERROR",e[e.Fetch_MODIFY=-1002]="Fetch_MODIFY",e[e.BLACK_BROWSER=-1003]="BLACK_BROWSER",e[e.DC_SEND_ERROR=-1004]="DC_SEND_ERROR",e}(RtcErrorCode||{}),defaultConfig={start_interval:100,multiplier:2,max_interval:3e4},RetryLimiter=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"_times",0),__publicField(this,"_config",defaultConfig),__publicField(this,"initTs",getServerNow())}),[{key:"getRetryDelay",value:function(){return Math.min(this._config.max_interval,Math.pow(this._config.multiplier,this._times++)*this._config.start_interval)}},{key:"setConfig",value:function(e){this._config=e}},{key:"reset",value:function(){this._times=0}}])}(),IceConfigRequestManager=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_reconnectTimer"),__publicField(this,"_abortControllers",[]),__publicField(this,"_monitor"),__publicField(this,"logger"),__publicField(this,"_groupConfigId",genUuid()),__publicField(this,"_retryLimiter",new RetryLimiter),__publicField(this,"_timer"),__publicField(this,"_destroyed",!1),this._ctx=t,this._monitor=getMonitor(t.id),this.logger=new Logger$1$1("ICERequest",4,t.id)}),[{key:"getICENode",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("getICENode","invoke"),e.prev=1,e.next=4,this._getAccessWithRetry(t);case 4:if(0!==(n=e.sent).length){e.next=7;break}throw new Error("server return empty nodes.");case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),this._reportRtcInvokeStatus("es.join.getNodeFailed",e.t0),new SDKError(ErrorCode.ICE_SERVER_WRONG,"get ICE config failed: ".concat(e.t0.message),e.t0);case 12:return e.abrupt("return",(this.logger.success("getICENode","success"),this._reportRtcInvokeStatus("es.join.getNodeSuccess",n),n));case 13:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return i.apply(this,arguments)})},{key:"_getAccessWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0!==n&&this.logger.info("_getAccessWithRetry()","invoke feedbackInfo: %o, 201count: %o",e,n),new Promise((function(r,i){t._getAccessNode(e).then((function(e){t._retryLimiter.reset(),r(e)})).catch((function(a){if(!t._destroyed){if(Array.isArray(a)&&a.length>0){if(a.findIndex((function(e){return 400<=e.code&&e.code<500}))>-1)return t._retryLimiter.reset(),i(new Error("HTTP request failed(4xx)"));if(a.every((function(e){var t;return 201===e.code||201===(null==(t=e.error)?void 0:t.code)}))&&n++,3===n)return t._retryLimiter.reset(),i(new Error("HTTP request failed(201)"))}var o=t._retryLimiter.getRetryDelay();t.logger.warn("_getAccessWithRetry()","_getAccessWithRetry error, will retry after ".concat(o,"ms"),a),t._reconnectTimer=self.setTimeout((function(){t._getAccessWithRetry(e,n).then(r).catch(i)}),o)}}))}))}},{key:"_getAccessNode",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=sdkCache.getAccessNode(n._ctx.appId);if(i){var a=(Array.isArray(i)?i:[i]).map((function(e){return e.cache_status=!0,e}));n.logger.info("getAccessNode","use cache node."),e(a),n._timer=window.setTimeout((function(){n._getAccessNodeFromServer(t),n._reportRtcInvokeStatus("es.R.node.cache",i),delete n._timer}),0)}else n._getAccessNodeFromServer(t).then(e).catch(r)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"_getAccessNodeFromServer",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getAccessUrls(),r=n.urls,i=n.needFallback,e.abrupt("return",this.getICEConfigFromServer(r,t).then((function(e){var t=e.nodes;return!a._ctx.useCloudProxy&&sdkCache.setAccessNode(a._ctx.appId,t,e.ttl||11200),e.dispatchDomains&&!a._ctx.useCloudProxy&&sdkCache.setAccessUrls(e.dispatchDomains),t})).catch((function(e){if(i)return a._reportRtcInvokeStatus("es.R.req.fallback",""),sdkCache.clearAccessUrls(),a._getAccessNodeFromServer(t);throw e})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getAccessUrls",value:function(){var e=sdkCache.getAccessUrls()||[],t=!0;return this._reportRtcInvokeStatus("es.R.req.cache.urls",e),0===e.length&&(e=Config2.ICE_CONFIG_REQUEST_URLS,t=!1,this._reportRtcInvokeStatus("es.R.req.external.urls",e)),0===e.length&&(e=Config2.ICE_CONFIG_REQUEST_URLS_INTERNAL,t=!1,this._reportRtcInvokeStatus("es.R.req.internal.urls",e)),{urls:e,needFallback:t}}},{key:"getICEConfigFromServer",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={appID:this._ctx.appId,deviceID:sdkCache.getDeviceId(),os:"web",sdkVersion:Config2.VERSION,isOversea:Config2.OVERSEA,expectedAddr:getParameter("EXPECTED_ADDR"),productPlatform:"VolcEngine",enableCloudProxy:this._ctx.useCloudProxy,expectedIDC:this._ctx.expectedIDC,accessParams:JSON.stringify({requireICEUfragV2:!0}),userAgent:navigator.userAgent},n&&(a.feedbackInfo=n,"ICE_FAILED"!==(null==(i=null==(r=n[0])?void 0:r.feedbackReason)?void 0:i.type)&&delete a.expectedAddr),o=t.map((function(e){return s._httpRequest(e,a)})),e.abrupt("return",promiseAny(o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_httpRequest",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=genUuid(),n.connectSessionID=s,l=Date.now(),null==(r=this._monitor)||r.report("rtc_get_access",{error_code:0,message:JSON.stringify(n),elapse:0,type:"request",host:t,config_id:s,group_config_id:this._groupConfigId}),c=new AbortController,this._abortControllers.push(c),e.prev=6,e.prev=7,e.next=10,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(n),signal:c.signal});case 10:d=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(7),U=fetch,Function.prototype.toString.call(U).includes("[native code]")||null==(i=this._monitor)||i.report("rtc_error",{error_code:RtcErrorCode.Fetch_MODIFY,message:"get access failed, possibly due to modifying the browser's Fetch API."},{origin_error:e.t0}),e.t0;case 16:if(this._abortControllers=this._abortControllers.filter((function(e){return e!==c})),200===d.status){e.next=18;break}throw{message:d.statusText,code:d.status};case 18:return e.next=20,d.json();case 20:if(200===(u=e.sent).code){e.next=23;break}throw u;case 23:return e.abrupt("return",(null==(a=this._monitor)||a.report("rtc_get_access",{error_code:200,message:JSON.stringify(u),elapse:Date.now()-l,type:"response",host:t,config_id:s,group_config_id:this._groupConfigId}),u));case 26:throw e.prev=26,e.t1=e.catch(6),null==(o=this._monitor)||o.report("rtc_get_access",{error_code:Number((null==e.t1?void 0:e.t1.code)||(null==e.t1?void 0:e.t1.server_code)),message:null==e.t1?void 0:e.t1.message,elapse:Date.now()-l,type:"response",host:t,config_id:s,group_config_id:this._groupConfigId},{error:JSON.stringify(e.t1)}),e.t1;case 29:case"end":return e.stop()}}),e,this,[[6,26],[7,13]])}))),function(t,n){return e.apply(this,arguments)})},{key:"destroy",value:function(){this._destroyed=!0,this._abortControllers.forEach((function(e){return e.abort()})),this._reconnectTimer&&(window.clearTimeout(this._reconnectTimer),delete this._reconnectTimer),this._timer&&(window.clearTimeout(this._timer),delete this._timer)}},{key:"_reportRtcInvokeStatus",value:function(e,t){var n;null==(n=this._monitor)||n.report("rtc_invoke_status",{sdk_api_name:e,message:t,error_code:0,stream_id:"",elapse:0,group_config_id:this._groupConfigId})}}]);var e,t,n,r,i}(),encodedTransformSupported=isEncodedTransformSupported(),peerConnectionConfiguration={iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},ConnectFailCode=function(e){return e[e.DC_ERROR=0]="DC_ERROR",e[e.DC_CLOSE=1]="DC_CLOSE",e[e.ICE_FAILED=2]="ICE_FAILED",e[e.DESTROY=3]="DESTROY",e[e.TIMEOUT=4]="TIMEOUT",e}(ConnectFailCode||{}),PeerConnectionGUID=0,PeerConnection=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"uuid",(PeerConnectionGUID++).toString()),__publicField(_assertThisInitialized(r),"_peerConnectionId",""),__publicField(_assertThisInitialized(r),"audioTrack4ff"),__publicField(_assertThisInitialized(r),"_pc"),__publicField(_assertThisInitialized(r),"_dc"),__publicField(_assertThisInitialized(r),"_iceNode"),__publicField(_assertThisInitialized(r),"_initSctpEvents",!1),__publicField(_assertThisInitialized(r),"_monitor"),__publicField(_assertThisInitialized(r),"_offerIce",{}),__publicField(_assertThisInitialized(r),"_answerIce",{}),__publicField(_assertThisInitialized(r),"_offerSession"),__publicField(_assertThisInitialized(r),"_answerSession"),__publicField(_assertThisInitialized(r),"_offerMlines",[]),__publicField(_assertThisInitialized(r),"_answerMlines",[]),__publicField(_assertThisInitialized(r),"_connectReject"),__publicField(_assertThisInitialized(r),"_logger"),__publicField(_assertThisInitialized(r),"_peerConfig"),__publicField(_assertThisInitialized(r),"_iceStartTs",0),__publicField(_assertThisInitialized(r),"_icePreStepTs",0),r._ctx=e,r._groupConnectionId=n,r._isReconnect=i,r._monitor=getMonitor(e.id),r._logger=new Logger$1$1("PeerConnection_".concat(r.uuid),4,e.id),r._ctx.enableFallbackHandler&&r._logger.warn("ctor","PeerConnection running in fallback mode"),r._peerConfig=genPeerConfig(e),r._pc=new RTCPeerConnection(r._peerConfig),r._pc.ontrack=function(e){var t,n,i=null==(n=null==(t=e.streams)?void 0:t[0])?void 0:n.id;r._print("pc.ontrack","".concat(e.track.kind," ").concat(e.track.id," ").concat(i)),"ff-stream"===i&&(r.audioTrack4ff=e.track),r.emit("ontrack",e)},r._pc.onconnectionstatechange=function(){r._print("onconnectionstatechange","".concat(r._pc.connectionState,". ice -> ").concat(r._pc.iceConnectionState)),"failed"!==r._pc.iceConnectionState&&"closed"!==r._pc.iceConnectionState&&"failed"!==r._pc.connectionState||r.emit("disconnect","ice failed")},r._pc.oniceconnectionstatechange=function(){var e=r._pc.iceConnectionState;r._report("rtc_pre_ice_state",{message:e,ice_state:e.toUpperCase()}),r.emit("ice_state",e)},r}return _inherits(t,e),_createClass$1(t,[{key:"getOriginRTCPeerConnection",value:function(){return this._pc}},{key:"getOriginRTCDataChannel",value:function(){return this._dc}},{key:"getConnectionId",value:function(){return this._peerConnectionId}},{key:"getGroupConnectionId",value:function(){return this._groupConnectionId}},{key:"connect",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ctx.enableStandardHandler){e.next=2;break}return e.abrupt("return",this.startIceConnectStandard(t));case 2:return this._print("connect","invoke. %o",t),this._iceNode=t,(i=this._pc.createDataChannel("signaling",{negotiated:!0,id:100})).binaryType="arraybuffer",this._dc=i,e.next=7,this._genIceInfo(t);case 7:return a=e.sent,o=a.offerIce,s=a.answerIce,this._offerIce=o,this._answerIce=s,isFirefox&&firefoxVersion<138&&(this._pc.addTransceiver("audio",{direction:"recvonly"}),this._pc.addTransceiver("video",{direction:"recvonly"})),e.next=13,this._pc.createOffer();case 13:if((l=e.sent).sdp){e.next=16;break}throw new SDKError(ErrorCode.NOT_SUPPORTED,"create offer sdp failed.");case 16:if(c=lib$1.parse(l.sdp),this._peerConnectionId=s.iceUfrag||"",(d=!o.iceUfrag&&!o.icePwd)&&((u="renomination"===(null==(n=c.media[0])?void 0:n.iceOptions))||(delete o.iceOptions,delete s.iceOptions),delete o.iceUfrag,delete o.icePwd,U=getServerUfragV2({serverUfrag:t.iceParams.serverIceUfrag,serverPwd:t.iceParams.serverIcePwd,clientPwd:null==(r=c.media[0])?void 0:r.icePwd,options:_defineProperty$1(_defineProperty$1({},ICEConfigType.kICEConfigTypeSrtpDtlsType,!0),ICEConfigType.kICEConfigTypeRenominationType,u)}),F=_slicedToArray(U,2),p=F[0],Q=F[1],this._peerConnectionId=Q,s.iceUfrag=p,this._logger.info("use serverUfrag v2",JSON.stringify({dtls:!0,renomination:u}))),this.reportRtcPreIce("ice_start"),h=_slicedToArray(c.media,1),R=h[0],this._offerIce.fingerprint=c.fingerprint||R.fingerprint,!isFirefox&&!this._ctx.enableFallbackHandler){e.next=39;break}if(c.media=c.media.map((function(e){var t,n,r,i,a=_objectSpread2(_objectSpread2({},e),S._offerIce);return"video"===a.type&&(isTransportCCSupport?(a.ext=null==(t=a.ext)?void 0:t.filter((function(e){return-1===e.uri.indexOf("abs-send-time")})),a.rtcpFb=null==(n=a.rtcpFb)?void 0:n.filter((function(e){return"goog-remb"!==e.type}))):(a.rtcpFb=null==(r=a.rtcpFb)?void 0:r.filter((function(e){return"transport-cc"!==e.type})),a.ext=null==(i=a.ext)?void 0:i.filter((function(e){return-1===e.uri.indexOf("transport")})))),a})),isRRTRSupported&&pushRRTR(c),(_=_objectSpread2({},c)).fingerprint=this._answerIce.fingerprint,_.media=_.media.map((function(e){return delete(e=_objectSpread2(_objectSpread2({},e),S._answerIce)).bundleOnly,e.port=9,"application"===e.type?e.sctpmap={sctpmapNumber:5e3,app:"webrtc-datachannel",maxMessageSize:262144}:("audio"===e.type&&(e.msid="ff-stream ff-stream-audio"),e.direction="sendonly"),e})),isRRTRSupported&&pushRRTR(_),!this._ctx.enableFallbackHandler){e.next=33;break}return e.next=31,this.setLocalDescription(l.sdp);case 31:e.next=35;break;case 33:return e.next=35,this.setLocalDescription(lib$1.write(c));case 35:return e.next=37,this.setRemoteDescription(lib$1.write(_));case 37:e.next=42;break;case 39:delete c.media,this._offerSession=_objectSpread2({},c),this._answerSession=_objectSpread2({},c),this._answerSession.fingerprint&&(this._answerSession.fingerprint=this._answerIce.fingerprint),d&&(this._offerIce.iceUfrag=R.iceUfrag,this._offerIce.icePwd=R.icePwd),this._offerMlines=[_objectSpread2(_objectSpread2(_objectSpread2({},R),this._offerIce),{},{mid:"".concat(0)})],this._answerMlines=[_objectSpread2(_objectSpread2(_objectSpread2({},R),this._answerIce),{},{sctpmap:{sctpmapNumber:5e3,app:"webrtc-datachannel",maxMessageSize:262144},mid:"".concat(0)})],this.setDescription();case 42:return e.next=44,new Promise((function(e,t){S._connectReject=t;var n=setTimeout((function(){var e;S.reportRtcPreIce("timeout"),null==(e=S._connectReject)||e.call(S,{code:4,message:"connect timeout"}),delete S._connectReject}),8e3);i.onopen=function(){S._print("connect","dataChannel open"),S._reportRtcInvokeStatus("es.dc.open",""),S.reportRtcPreIce("datachannel_opened"),clearTimeout(n),e(""),delete S._connectReject},i.onerror=function(e){var t,r,i,a;S._report("rtc_signaling_msg_error",{error_code:null==(t=null==e?void 0:e.error)?void 0:t.sdpLineNumber,message:null==(r=null==e?void 0:e.error)?void 0:r.errorDetail,reason:"invalid data"}),S._reportRtcInvokeStatus("es.dc.error",""),null==(a=S._connectReject)||a.call(S,{message:"dc.onerror, ".concat(null==(i=e.error)?void 0:i.errorDetail),code:0}),S.emit("disconnect","dc onerror"),delete S._connectReject,clearTimeout(n)},i.onclose=function(){var e;S._reportRtcInvokeStatus("es.dc.close",""),null==(e=S._connectReject)||e.call(S,{message:"dc.onclose",code:1}),S.reportRtcPreIce("datachannel_closed"),S.emit("disconnect","dc onclose"),delete S._connectReject,clearTimeout(n)},S._pc.addEventListener("iceconnectionstatechange",(function(){"connected"===S._pc.iceConnectionState?S.reportRtcPreIce("ice_connected"):"failed"!==S._pc.iceConnectionState&&"closed"!==S._pc.iceConnectionState||S.reportRtcPreIce("ice_failed")})),S._pc.addEventListener("connectionstatechange",(function(){var e;"failed"!==S._pc.iceConnectionState&&"closed"!==S._pc.iceConnectionState&&"failed"!==S._pc.connectionState||(null==(e=S._connectReject)||e.call(S,{message:"pc.connectionstatechange -> ".concat(S._pc.connectionState,", ice -> ").concat(S._pc.iceConnectionState),code:2}),delete S._connectReject,clearTimeout(n))}))}));case 44:return this._print("connect","dataChannel establish success"),e.abrupt("return",i);case 46:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"startIceConnectStandard",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._print("connect","standard invoke. %o",t),this._iceNode=t,(n=this._pc.createDataChannel("signaling",{negotiated:!0,id:100})).binaryType="arraybuffer",this._dc=n,e.next=5,this._genIceInfo(t);case 5:return r=e.sent,i=r.offerIce,a=r.answerIce,this._offerIce=i,this._answerIce=a,isFirefox&&firefoxVersion<138&&(this._pc.addTransceiver("audio",{direction:"recvonly"}),this._pc.addTransceiver("video",{direction:"recvonly"})),e.next=11,this._pc.createOffer();case 11:if(o=e.sent.sdp){e.next=14;break}throw new SDKError(ErrorCode.NOT_SUPPORTED,"create offer sdp failed.");case 14:if(s=lib$1.parse(o),this._answerSession=_objectSpread2({},s),this._answerSession.fingerprint&&(this._answerSession.fingerprint=this._answerIce.fingerprint),l=s.media.find((function(e){return"application"===e.type})),this._peerConnectionId=a.iceUfrag||"",i.iceUfrag||i.icePwd||((c="renomination"===(null==l?void 0:l.iceOptions))||(delete i.iceOptions,delete a.iceOptions),delete i.iceUfrag,delete i.icePwd,d=getServerUfragV2({serverUfrag:t.iceParams.serverIceUfrag,serverPwd:t.iceParams.serverIcePwd,clientPwd:null==l?void 0:l.icePwd,options:_defineProperty$1(_defineProperty$1({},ICEConfigType.kICEConfigTypeSrtpDtlsType,!0),ICEConfigType.kICEConfigTypeRenominationType,c)}),u=_slicedToArray(d,2),U=u[0],F=u[1],this._peerConnectionId=F,a.iceUfrag=U,this._logger.info("use serverUfrag v2",JSON.stringify({dtls:!0,renomination:c}))),this.reportRtcPreIce("ice_start"),this._offerIce.fingerprint=s.fingerprint||(null==l?void 0:l.fingerprint),(p=_objectSpread2({},s)).fingerprint=this._answerIce.fingerprint,p.media=p.media.map((function(e){var t,n,r,i;return"application"===(e=_objectSpread2(_objectSpread2({},e),Q._answerIce)).type&&(e.sctpmap={sctpmapNumber:5e3,app:"webrtc-datachannel",maxMessageSize:262144}),isFirefox&&(delete e.bundleOnly,e.port=9,"audio"===e.type?(e.msid="ff-stream ff-stream-audio",e.direction="sendonly"):"video"===e.type&&(isTransportCCSupport?(e.ext=null==(t=e.ext)?void 0:t.filter((function(e){return-1===e.uri.indexOf("abs-send-time")})),e.rtcpFb=null==(n=e.rtcpFb)?void 0:n.filter((function(e){return"goog-remb"!==e.type}))):(e.rtcpFb=null==(r=e.rtcpFb)?void 0:r.filter((function(e){return"transport-cc"!==e.type})),e.ext=null==(i=e.ext)?void 0:i.filter((function(e){return-1===e.uri.indexOf("transport")}))),e.direction="sendonly")),e})),"v1"!==this.getIceVersion()){e.next=29;break}return s.media=s.media.map((function(e){return _objectSpread2(_objectSpread2({},e),Q._offerIce)})),e.next=27,this.setLocalDescription(lib$1.write(s));case 27:e.next=31;break;case 29:return e.next=31,this.setLocalDescription(o);case 31:return e.next=33,this.setRemoteDescription(lib$1.write(p));case 33:return e.next=35,new Promise((function(e,t){Q._connectReject=t;var r=setTimeout((function(){var e;Q.reportRtcPreIce("timeout"),null==(e=Q._connectReject)||e.call(Q,{code:4,message:"connect timeout"}),delete Q._connectReject}),8e3);n.onopen=function(){Q._print("connect","dataChannel open"),Q._reportRtcInvokeStatus("es.dc.open",""),Q.reportRtcPreIce("datachannel_opened"),clearTimeout(r),e(""),delete Q._connectReject},n.onerror=function(e){var t,n,i,a;Q._report("rtc_signaling_msg_error",{error_code:null==(t=null==e?void 0:e.error)?void 0:t.sdpLineNumber,message:null==(n=null==e?void 0:e.error)?void 0:n.errorDetail,reason:"invalid data"}),Q._reportRtcInvokeStatus("es.dc.error",""),null==(a=Q._connectReject)||a.call(Q,{message:"dc.onerror, ".concat(null==(i=e.error)?void 0:i.errorDetail),code:0}),Q.emit("disconnect","dc onerror"),delete Q._connectReject,clearTimeout(r)},n.onclose=function(){var e;Q._reportRtcInvokeStatus("es.dc.close",""),null==(e=Q._connectReject)||e.call(Q,{message:"dc.onclose",code:1}),Q.reportRtcPreIce("datachannel_closed"),Q.emit("disconnect","dc onclose"),delete Q._connectReject,clearTimeout(r)},Q._pc.addEventListener("iceconnectionstatechange",(function(){"connected"===Q._pc.iceConnectionState?Q.reportRtcPreIce("ice_connected"):"failed"!==Q._pc.iceConnectionState&&"closed"!==Q._pc.iceConnectionState||Q.reportRtcPreIce("ice_failed")})),Q._pc.addEventListener("connectionstatechange",(function(){var e;"failed"!==Q._pc.iceConnectionState&&"closed"!==Q._pc.iceConnectionState&&"failed"!==Q._pc.connectionState||(null==(e=Q._connectReject)||e.call(Q,{message:"pc.connectionstatechange -> ".concat(Q._pc.connectionState,", ice -> ").concat(Q._pc.iceConnectionState),code:2}),delete Q._connectReject,clearTimeout(r))}))}));case 35:return this._print("connect","dataChannel establish success"),e.abrupt("return",n);case 37:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"setDescription",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._print("setDescription","invoke."),this._offerSession.media=this._offerMlines,this._answerSession.media=this._answerMlines,n=[],this._offerMlines.forEach((function(e){"inactive"!==e.direction&&e.mid&&n.push(e.mid)})),this._offerSession.groups&&this._answerSession.groups&&(this._offerSession.groups[0].mids=n.join(" "),this._answerSession.groups[0].mids=n.join(" ")),r=getServerNow(),t&&this._report("rtc_begin_create_offer",{direction:"local"===t.streamUserId?"up":"down",stream_id:t.streamId,stream_user_id:t.streamUserId,pc_session_id:this._peerConnectionId,vendor_mode:0}),t&&this._report("rtc_create_offer",{error_code:0,direction:"local"===t.streamUserId?"up":"down",stream_id:t.streamId,stream_user_id:t.streamUserId,elapse:getServerNow()-r}),e.next=8,this.setLocalDescription(lib$1.write(this._offerSession),t);case 8:return e.next=10,this.setRemoteDescription(lib$1.write(this._answerSession),t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"setLocalDescription",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=getServerNow(),e.prev=1,e.next=4,this._pc.setLocalDescription({type:"offer",sdp:t});case 4:if(this._report("rtc_set_description",{error_code:0,message:t,is_local:"1",direction:"local"===(null==n?void 0:n.streamUserId)?"up":"down",stream_id:(null==n?void 0:n.streamId)||"",stream_user_id:(null==n?void 0:n.streamUserId)||"",elapse:getServerNow()-i},{type:"offer"}),this._initSctpEvents){e.next=9;break}this._initSctpEvents=!0,(a=null==(r=this._pc)?void 0:r.sctp)&&(a.onstatechange=function(){o._reportRtcInvokeStatus("sctp","sctp state change TO: ".concat(a.state))},a.transport&&(a.transport.onstatechange=function(){var e;o._reportRtcInvokeStatus("dtls","dtls state change TO: ".concat(null==(e=null==a?void 0:a.transport)?void 0:e.state))}));case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),console.error("setLocal",e.t0),this._report("rtc_set_description",{error_code:-1,message:e.t0.message+t,is_local:"1",direction:"local"===(null==n?void 0:n.streamUserId)?"up":"down",stream_id:"",stream_user_id:"",elapse:getServerNow()-i},{type:"offer"}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e,t){return i.apply(this,arguments)})},{key:"setRemoteDescription",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=getServerNow(),e.prev=1,e.next=4,this._pc.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:t}));case 4:this._report("rtc_set_description",{error_code:0,message:t,is_local:"0",direction:"local"===(null==n?void 0:n.streamUserId)?"up":"down",stream_id:(null==n?void 0:n.streamId)||"",stream_user_id:(null==n?void 0:n.streamUserId)||"",elapse:getServerNow()-r},{type:"answer"}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.error("setRemote",e.t0),this._report("rtc_set_description",{error_code:-1,message:e.t0.message+t,is_local:"0",direction:"local"===(null==n?void 0:n.streamUserId)?"up":"down",stream_id:(null==n?void 0:n.streamId)||"",stream_user_id:(null==n?void 0:n.streamUserId)||"",elapse:getServerNow()-r},{type:"answer"}),e.t0;case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t){return r.apply(this,arguments)})},{key:"disconnect",value:function(){var e,t;null==(e=this._connectReject)||e.call(this,{code:3,message:"invoke destroy()"}),delete this._connectReject,this._pc.close(),null==(t=this._dc)||t.close(),this._pc.ontrack=null}},{key:"reportRtcPreIce",value:function(e){var t,n=getServerNow();"ice_start"===e&&(this._iceStartTs=n,this._icePreStepTs=n),this._report("rtc_pre_ice",{connect_event:e,message:e,elapse:n-this._icePreStepTs,total_elapse:n-this._iceStartTs,cache_status:!!(null==(t=this._iceNode)?void 0:t.cache_status),is_reconnect:this._isReconnect}),this._icePreStepTs=n}},{key:"getIceVersion",value:function(){var e,t;return(null==(e=this._iceNode)?void 0:e.iceParams.clientIceUfrag)||(null==(t=this._iceNode)?void 0:t.iceParams.clientIcePwd)?"v1":"v2"}},{key:"createAnswerSdp",value:function(e,t){DCHECK(this._answerSession,"_answerSession should be existed");var n=_objectSpread2({},this._answerSession);return n.media=e,n.groups=t,lib$1.write(n)}},{key:"destroy",value:function(){this._print("destroy",this._peerConnectionId),_superPropGet(t,"removeAllListeners",this,3)([]),this.disconnect()}},{key:"_genIceInfo",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={iceUfrag:null==(n=t.iceParams)?void 0:n.clientIceUfrag,icePwd:null==(r=t.iceParams)?void 0:r.clientIcePwd,iceOptions:"renomination"},e.next=3,parseAnswerIceParams(t);case 3:return e.t1=e.sent,e.abrupt("return",{offerIce:e.t0,answerIce:e.t1});case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"_print",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._logger).info.apply(t,["".concat(e)].concat(r))}},{key:"_report",value:function(e,t,n){var r,i,a;null==(a=this._monitor)||a.report(e,_objectSpread2(_objectSpread2({},t),{},{connection_id:this._peerConnectionId,group_connection_id:this._groupConnectionId}),_objectSpread2(_objectSpread2({},n),{},{tcp_only:null==(r=this._iceNode)?void 0:r.iceConfig.tcpOnly,ms_addr:JSON.stringify((null==(i=this._iceNode)?void 0:i.publicIPs.map((function(e){return{ip:e.ip,tcp:e.tcpPorts,udp:e.udpPorts}})))||[])}))}},{key:"_reportRtcInvokeStatus",value:function(e,t){this._report("rtc_invoke_status",{sdk_api_name:e,message:t,error_code:0,stream_id:"",elapse:0})}}],[{key:"checkSupported",value:function(){if(!RTCPeerConnection)throw new SDKError(ErrorCode.NOT_SUPPORTED,"missing RTCPeerConnection API.");["addTransceiver","createDataChannel","createOffer","setLocalDescription","setRemoteDescription"].forEach((function(e){var t;if(!(null==(t=null==RTCPeerConnection?void 0:RTCPeerConnection.prototype)?void 0:t[e]))throw new SDKError(ErrorCode.NOT_SUPPORTED,"missing peer.".concat(e," API."))}))}}]);var n,r,i,a,o,s}(EnhancedEventEmitter),genPeerConfig=function(e){var t=_objectSpread2({},peerConnectionConfiguration);return e.pcKillSwitch.ctor_sdpsemantics_add&&(t.sdpSemantics="unified-plan"),e.pcKillSwitch.ctor_encodedinsetablestream_add&&encodedTransformSupported&&(t.encodedInsertableStreams=!0),t},DC_MESSAGE_DIRECTION=function(e){return e[e.SEND=0]="SEND",e[e.FEEDBACK=1]="FEEDBACK",e}(DC_MESSAGE_DIRECTION||{}),DC_MESSAGE_FUNCTION_TYPE=function(e){return e[e.P2P=0]="P2P",e[e.SIGNAL=1]="SIGNAL",e[e.BROADCAST=2]="BROADCAST",e[e.BUSINESS_SERVER=3]="BUSINESS_SERVER",e}(DC_MESSAGE_FUNCTION_TYPE||{}),USER_MESSAGE_SEND_RESULT=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.TIMEOUT=1]="TIMEOUT",e[e.BROKEN=2]="BROKEN",e[e.NO_RECEIVER=3]="NO_RECEIVER",e[e.NO_RELAYPATH=4]="NO_RELAYPATH",e[e.EXCEED_QPS=5]="EXCEED_QPS",e[e.SEND_TO_SERVER_ERROR=17]="SEND_TO_SERVER_ERROR",e[e.SERVER_RESPONSE_ERROR=18]="SERVER_RESPONSE_ERROR",e[e.NOT_JOIN=100]="NOT_JOIN",e[e.NOT_LOGIN=105]="NOT_LOGIN",e[e.SERVER_PARAMS_NOTSET=106]="SERVER_PARAMS_NOTSET",e[e.UNKNOWN=1e3]="UNKNOWN",e}(USER_MESSAGE_SEND_RESULT||{}),USER_MESSAGE_SEND_RESULT_EXPLAIN={0:[0,"success"],1:[ErrorCode.USER_MESSAGE_TIMEOUT,"timeout, failed to send."],2:[ErrorCode.USER_MESSAGE_BROKEN,"dataChannel broken, failed to send."],3:[ErrorCode.USER_MESSAGE_NO_RECEIVER,"cannot find the receiver."],4:[ErrorCode.USER_MESSAGE_NO_RECEIVER,"cannot find relay path."],5:[ErrorCode.USER_MESSAGE_EXCEED_QPS,"cannot find relay path."],17:[ErrorCode.USER_MESSAGE_SEND_TO_SERVER_ERROR,"failed to send to business server."],18:[ErrorCode.USER_MESSAGE_SERVER_RESPONSE_ERROR,"business server response error."],100:[ErrorCode.USER_MESSAGE_NOT_JOIN,"not join room"],105:[ErrorCode.USER_MESSAGE_NOT_LOGIN,"not login."],106:[ErrorCode.USER_MESSAGE_SERVER_PARAMS_NOTSET,"server param is not set."],1e3:[ErrorCode.USER_MESSAGE_UNKNOWN,"unknown."]},noPrintSignaling=[],SIGNALING_FUNCTION_TYPE=function(e){return e[e.C2S=0]="C2S",e[e.C2C=1]="C2C",e[e.C2GW=2]="C2GW",e[e.C2CDirect=3]="C2CDirect",e[e.C2RTM=4]="C2RTM",e}(SIGNALING_FUNCTION_TYPE||{}),DataChannelSignaling=function(e){function t(e,n,r){var i;return _classCallCheck$1(this,t),i=_callSuper(this,t),__publicField(_assertThisInitialized(i),"_singlingCache",new Map),__publicField(_assertThisInitialized(i),"_p2pCache",new Map),__publicField(_assertThisInitialized(i),"_rttIds",{}),__publicField(_assertThisInitialized(i),"_p2pMessageId",new MessageId),__publicField(_assertThisInitialized(i),"_clearDataChannelListener"),__publicField(_assertThisInitialized(i),"_monitor"),__publicField(_assertThisInitialized(i),"logger"),i.id=e,i._dataChannel=n,i.connectionIds=r,i._clearDataChannelListener=i._handleHandler(),i._monitor=getMonitor(e),i.logger=new Logger$1$1("DataChannelSignaling",3,e),i}return _inherits(t,e),_createClass$1(t,[{key:"destroy",value:function(){var e=this;this._dataChannel&&(this._clearDataChannelListener(),this._dataChannel.close()),this._singlingCache.forEach((function(t,n){t.error(new SDKError(ErrorCode.OPERATION_CANCEL,"disconnect")),e._singlingCache.delete(n)})),this._singlingCache.clear(),this._p2pCache.clear(),this._rttIds={}}},{key:"sendSignaling",value:function(e,t,n){var r,i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6e4;return null==(r=this._monitor)||r.report("rtc_signaling",_objectSpread2({error_code:0,message:JSON.stringify(t),signaling_event:"call-".concat(e),signaling_type:"Send",stream_id:t.streamId,stream_user_id:t.streamUserId,direction:"up"},this.connectionIds)),new Promise((function(r,o){var s=i._genHeader(n);s.id=createRandomId();var l=s.id.join("-"),c="customMessage"===e;c&&RTSMsgReportor.samplingOne2ManyMsg(i.id,Number(s.id.join("")),t);var d=setTimeout((function(){i._singlingCache.delete(l),o(new SDKError(ErrorCode.TIME_OUT,"".concat(e," message time out"))),c&&RTSMsgReportor.updateOne2ManyMsgAck(i.id,t,999)}),a);i._singlingCache.set(l,{start:getServerNow(),signalingType:e,success:function(e){clearTimeout(d),r(e),c&&RTSMsgReportor.updateOne2ManyMsgAck(i.id,t,0)},error:function(e){clearTimeout(d),o(e),c&&RTSMsgReportor.updateOne2ManyMsgAck(i.id,t,e.code)}}),i.logger.info("Signal",">>>>>> [".concat(e,"][").concat(l,"]"),t),i._sendMessage(e,s,t)}))}},{key:"sendPingSignaling",value:function(){return this.sendSignaling("CheckConnectivity",{ts:Date.now()},{functionType:2})}},{key:"sendP2PMessage",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.msg,a=_objectWithoutProperties(t,_excluded2$1),o=i instanceof ArrayBuffer,e.t0=this,e.t1=RTSMsgReportor,e.t2=this.id,e.t3=_objectSpread2,e.t4=_objectSpread2({ver:1,id:this._p2pMessageId.getMessageId(),time:Date.now(),dir:DC_MESSAGE_DIRECTION.SEND,type:DC_MESSAGE_FUNCTION_TYPE.P2P,err:USER_MESSAGE_SEND_RESULT.SUCCESS},a),e.t5={},e.t6=o,!o){e.next=20;break}if(!r){e.next=14;break}e.t8=Utils.ab2b64strSync(i),e.next=17;break;case 14:return e.next=16,Utils.ab2b64str(i);case 16:e.t8=e.sent;case 17:e.t7=e.t8,e.next=21;break;case 20:e.t7=i;case 21:return e.t9=e.t7,e.t10={binary:e.t6,msg:e.t9},e.t11=(0,e.t3)(e.t4,e.t5,e.t10),e.t12=e.t1.samplingP2PMsg.call(e.t1,e.t2,e.t11),e.t13=n,e.abrupt("return",e.t0._sendP2PMessage.call(e.t0,e.t12,e.t13));case 27:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"_sendP2PMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return isRttMessage(e.msg)?this._rttIds[e.id]=e.id:e.dir===DC_MESSAGE_DIRECTION.SEND&&this.logger.info("_sendP2PMessage [DC Signaling p2p >>]",JSON.stringify(e)),new Promise((function(r,i){var a=t._genHeader(_objectSpread2(_objectSpread2({needAck:!0,functionType:1},n),{},{id:createRandomId()}));if(e.dir===DC_MESSAGE_DIRECTION.SEND){var o=setTimeout((function(){t._p2pCache.delete(e.id),i(new SDKError(ErrorCode.USER_MESSAGE_TIMEOUT,"P2P message timeout")),RTSMsgReportor.updateP2PMsgAck(t.id,e,999)}),12e3);t._p2pCache.set(e.id,{success:function(n,i){clearTimeout(o),r(i),RTSMsgReportor.updateP2PMsgAck(t.id,e,0)},error:function(n){clearTimeout(o),RTSMsgReportor.updateP2PMsgAck(t.id,e,n.err);var r=_slicedToArray(USER_MESSAGE_SEND_RESULT_EXPLAIN[n.err]||[ErrorCode.USER_MESSAGE_UNKNOWN,"err: ".concat(n.err,", msg: ").concat(n.msg)],2),a=r[0],s=r[1];i({err:n.err,code:a,message:n.msg||s})}})}try{t._sendMessage("p2p",a,e)}catch(s){throw s.code===ErrorCode.NOT_CONNECTED_YET&&(s.code=ErrorCode.USER_MESSAGE_BROKEN),s}}))}},{key:"_sendMessage",value:function(e,t,n){var r;if(!this._dataChannel||"open"!==this._dataChannel.readyState)throw new SDKError(ErrorCode.NOT_CONNECTED_YET,"DataChannel not open");var i=getParameter("SIGNAL_COMPRESSION")||t.zip,a=t.version+(Number(i)<<4)+(Number(t.encrypt)<<5),o=Number(t.needAck)+(Number(t.direction)<<1)+(Number(t.functionType)<<2)+(Number(t.binary)<<6),s=Utils.str2ab(JSON.stringify([e,n])),l=concatenate(Uint8Array,[a,o].concat(_toConsumableArray(t.id||[])),i||t.zip?pako$1.deflate(new Uint8Array(s)):new Uint8Array(s));try{this._dataChannel.send(l.buffer)}catch(c){throw null==(r=this._monitor)||r.report("rtc_error",{message:"datachannel send error: ".concat(c.message),error_code:RtcErrorCode.DC_SEND_ERROR}),c}"p2p"===e?RTSMsgReportor.updateP2PMsgReq(this.id,n,l.buffer.byteLength):"customMessage"===e&&RTSMsgReportor.updateOne2ManyMsgReq(this.id,n,l.buffer.byteLength)}},{key:"_dispartData",value:function(e){var t=new Uint8Array(e),n=0,r=t[n++],i=t[n++],a={version:15&r,zip:!(16&~r),encrypt:!(32&~r),needAck:!(1&~i),direction:(2&i)>>1,functionType:(60&i)>>2,binary:!(64&~i)};if(a.needAck||1===a.direction){for(;n<=6;n++)if(!isByteId(t[n])){n++;break}a.id=Array.from(t.slice(2,n))}return{header:a,data:t.slice(n)}}},{key:"_feedbackSignaling",value:function(e,t,n){var r=this._genHeader({needAck:!0,direction:1,id:e.split("-").map((function(e){return Number(e)}))});noPrintSignaling.includes(t)||this.logger.info("Signal",">>>>>> [".concat(t,"-res][").concat(e,"]")),this._sendMessage("".concat(t,"-res"),r,n)}},{key:"_handleMessage",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Date.now(),i=t.byteLength,a=this._dispartData(t),o=a.data,(s=a.header).zip&&((l=new pako$1.Inflate).push(o,!0),o=l.result),c=Utils.ab2str(o),d=[],e.prev=6,d=JSON.parse(c),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(6),e.abrupt("return",void(e.t0 instanceof Error&&(null==(n=this._monitor)||n.report("rtc_signaling_msg_error",_objectSpread2({error_code:-1,message:e.t0.message,reason:"message parse failed"},this.connectionIds)))));case 13:e.t1=s.functionType,e.next=0===e.t1?16:1===e.t1?18:2===e.t1?20:21;break;case 16:return this.C2S(s,d,c,i,r),e.abrupt("break",21);case 18:return this.C2C(d,i,r),e.abrupt("break",21);case 20:this.C2GW(s,d,c);case 21:case"end":return e.stop()}}),e,this,[[6,10]])}))),function(e){return i.apply(this,arguments)})},{key:"C2S",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a){var o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(null==(o=t.id)?void 0:o.join("-"))||"",1!==t.direction){e.next=5;break}this._handleAckMessage(l,n[0]||{},r),e.next=17;break;case 5:if(!Array.isArray(n)){e.next=17;break}if(c=n[0],n=n[1],noPrintSignaling.includes(c)||this.logger.info("Signal","<<<<<< ".concat(c),n,l),this._feedbackSignaling(l,c,c===SignalEvent.ON_CUSTOM_MESSAGE?_objectSpread2(_objectSpread2({},n),{},{message:""}):""),e.t0=n.binary&&"string"==typeof n.message,!e.t0){e.next=15;break}return e.next=14,Utils.b64str2ab(n.message,this._monitor);case 14:n.message=e.sent;case 15:d=Date.now(),this.emit(c,_objectSpread2({},n)),c===SignalEvent.ON_CUSTOM_MESSAGE&&RTSMsgReportor.reportOne2ManyMsgRecv(this.id,n,{msg_size:i,recv_msg_ts:a,fwd_msg_ts:d}),null==(s=this._monitor)||s.report("rtc_signaling",_objectSpread2({error_code:0,message:r,signaling_event:"on-".concat(c),signaling_type:"Recv",stream_id:n.streamId,stream_user_id:n.clientId,direction:"down"},this.connectionIds));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i,a){return r.apply(this,arguments)})},{key:"C2C",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Array.isArray(t)&&(t=t[1]),i=null==t?void 0:t.id,e.t0=(this._rttIds[i]||(null==t?void 0:t.dir)===DC_MESSAGE_DIRECTION.FEEDBACK||isRttMessage(null==t?void 0:t.msg)?delete this._rttIds[i]:this.logger.info("Signal","<<<<<< p2p response",t),t.dir),e.next=e.t0===DC_MESSAGE_DIRECTION.SEND?5:e.t0===DC_MESSAGE_DIRECTION.FEEDBACK?43:44;break;case 5:if(a=Date.now(),isRttMessage(null==t?void 0:t.msg)){e.next=41;break}if(s=(o=t).binary,l=o.msg,c=o.room,d=o.to,u=o.from,U=""===c?s?SignalEvent.USER_BINARY_MESSAGE_RECEIVED_OUTSIDE_ROOM:SignalEvent.USER_MESSAGE_RECEIVED_OUTSIDE_ROOM:s?SignalEvent.USER_BINARY_MESSAGE_RECEIVED:SignalEvent.USER_MESSAGE_RECEIVED,!d){e.next=27;break}if(e.t1=this,e.t2=U,e.t3=_objectSpread2,e.t4=_objectSpread2({},t),e.t5={},!s){e.next=20;break}return e.next=17,Utils.b64str2ab(l,this._monitor);case 17:e.t6=e.sent,e.next=21;break;case 20:e.t6=l;case 21:e.t7=e.t6,e.t8={msg:e.t7},e.t9=(0,e.t3)(e.t4,e.t5,e.t8),e.t1.emit.call(e.t1,e.t2,e.t9),e.next=41;break;case 27:if(e.t10=this,e.t11=SignalEvent.ON_CUSTOM_MESSAGE,e.t12=u,e.t13=s,!s){e.next=37;break}return e.next=34,Utils.b64str2ab(l,this._monitor);case 34:e.t14=e.sent,e.next=38;break;case 37:e.t14=l;case 38:e.t15=e.t14,e.t16={clientId:e.t12,binary:e.t13,message:e.t15},e.t10.emit.call(e.t10,e.t11,e.t16);case 41:return this._sendP2PMessage(_objectSpread2(_objectSpread2({},t),{},{dir:DC_MESSAGE_DIRECTION.FEEDBACK,msg:""})),RTSMsgReportor.reportP2PMsgRecv(this.id,t,{msg_size:n,recv_msg_ts:r,fwd_msg_ts:a}),e.abrupt("break",44);case 43:this._handleP2PMsgFeedback(t);case 44:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"C2GW",value:function(e,t,n){var r,i;if(1===e.direction){var a=(null==(r=e.id)?void 0:r.join("-"))||"";this._handleAckMessage(a,t[0]||{},n)}else{var o=_slicedToArray(t,2),s=o[0],l=o[1],c=void 0===l?{}:l;if("RXMediaMsg"===s){var d=c.type,u=c.data;switch(null==(i=this._monitor)||i.report("rtc_signaling",_objectSpread2({error_code:0,message:n,signaling_event:"on-".concat(d),signaling_type:"Recv",stream_id:"",stream_user_id:"",direction:"down"},this.connectionIds)),d){case"RSCP":try{var U=JSON.parse(u);Array.isArray(U)&&this.emit(d,U)}catch(Q){}break;case"RTT":try{var F=JSON.parse(u);F.length&&this.emit(d,F[0])}catch(Q){}break;case"SSC":try{var p=JSON.parse(u);p.length&&this.emit(d,p[0])}catch(Q){}}}}}},{key:"_handleHandler",value:function(){var e=this,t=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e.logger.warn("_handleHandler","dataChannel close",t)})),n=function(t){e.logger.error("_handleHandler","dataChannel error",t)},r=function(t){e._handleMessage(t.data)};return this._dataChannel.addEventListener("close",t),this._dataChannel.addEventListener("error",n),this._dataChannel.addEventListener("message",r),function(){e._dataChannel.removeEventListener("close",t),e._dataChannel.removeEventListener("error",n),e._dataChannel.removeEventListener("message",r)}}},{key:"_genHeader",value:function(){return _objectSpread2({version:2,zip:!1,encrypt:!1,needAck:!0,direction:0,functionType:0,binary:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"_handleAckMessage",value:function(e,t,n){var r,i=this._singlingCache.get(e);i&&(this._singlingCache.delete(e),200===t.code?i.success(t):i.error(t),this.logger.info("Signal","<<<<<< [".concat(i.signalingType,"-ack] ").concat(e),t)),null==(r=this._monitor)||r.report("rtc_signaling",_objectSpread2({error_code:0,message:n,signaling_event:null==i?void 0:i.signalingType,signaling_type:"Ack",stream_id:"",stream_user_id:"",direction:"down",elapse:i?getServerNow()-i.start:0},this.connectionIds))}},{key:"_handleP2PMsgFeedback",value:function(e){var t=this._p2pCache.get(e.id);t&&(this._p2pCache.delete(e.id),e.err===USER_MESSAGE_SEND_RESULT.SUCCESS?t.success(e.id,e):t.error(e))}}]);var n,r,i,a}(eventemitter3Exports.EventEmitter),ConnectionManager=function(e){function t(e){var n;return _classCallCheck$1(this,t),n=_callSuper(this,t),__publicField(_assertThisInitialized(n),"id"),__publicField(_assertThisInitialized(n),"_monitor"),__publicField(_assertThisInitialized(n),"logger"),__publicField(_assertThisInitialized(n),"_getAccessManager"),__publicField(_assertThisInitialized(n),"_connectionPool",new Map),__publicField(_assertThisInitialized(n),"_curConnection"),__publicField(_assertThisInitialized(n),"_hasReportBrowerWarning",!1),__publicField(_assertThisInitialized(n),"_reconnectTimer"),__publicField(_assertThisInitialized(n),"_connecting",!1),__publicField(_assertThisInitialized(n),"_isFirstTimeConnected",!0),__publicField(_assertThisInitialized(n),"_feedbackNodes",[]),__publicField(_assertThisInitialized(n),"_preIceStartTime",-1),__publicField(_assertThisInitialized(n),"_tcpOnlyTimer"),__publicField(_assertThisInitialized(n),"_destroyed",!1),__publicField(_assertThisInitialized(n),"joinRoomCalled",!1),n._ctx=e,n.id=e.id,n._monitor=getMonitor(n.id),n.logger=new Logger$1$1("ConnectionManager",3,n.id),n.logger.info("constructor","invoke"),n._getAccessManager=new IceConfigRequestManager(e),n}return _inherits(t,e),_createClass$1(t,[{key:"connect",value:function(){var e=this;this.logger.info("connect","invoke");try{PeerConnection.checkSupported()}catch(e2){this.safeEmit("disconnected",e2)}this._connecting||(this._onConnectStart("init"),Promise.resolve().then((function(){return e.emit("__onGetIceConfigHook")})),this._getAccess())}},{key:"reconnectByNodeChange",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.logger.info("reconnectByNodeChange","invoke %o",t),o=t.nodes,s=t.reason,null==(n=this._monitor)||n.report("rtc_node_change",{error_code:0,message:JSON.stringify(t),reason:JSON.stringify(s)}),sdkCache.clearAccessNode(this._ctx.appId),null==(r=this._curConnection)||r.pc.reportRtcPreIce("node_change"),l=(null==(a=null==(i=this._curConnection)?void 0:i.node.publicIPs[0])?void 0:a.ip)||"",this._closeCurrentConnection(),this._clearConnectionPool(),this._clearReconnectTimer(),this._onConnectStart("node change"),Array.isArray(o)&&o.length>0?this._startIceConnect(o):this._getAccess([{feedbackIP:l,feedbackReason:{type:"NODE_CHANGED",reason:s}}]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"reconnect",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]&&r[1],this.logger.info("reconnect","invoke. "+(n?"ICE over TCP":"")),this._closeCurrentConnection(),this._clearConnectionPool(),this._clearReconnectTimer(),this._onConnectStart(t),this._getAccess(void 0,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"destroy",value:function(){this.logger.info("destroy","invoke"),this._destroyed=!0,this.safeEmit("disconnected",new SDKError(ErrorCode.OPERATION_CANCEL,"destroy")),_superPropGet(t,"removeAllListeners",this,3)([]),this._clearReconnectTimer(),this._clearConnectionPool(),this._getAccessManager.destroy(),this._closeCurrentConnection()}},{key:"_getAccess",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._getAccessManager.getICENode(e).then((function(e){t.emit("__onGetIceSuccessHook",e),t._startIceConnect(e,n)})).catch((function(e){t.safeEmit("disconnected",e)})).finally((function(){t._feedbackNodes=[]}))}},{key:"_startIceConnect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._destroyed){this.logger.info("_startIceConnect","invoke");var r=genUuid$1();this._preIceStartTime=getServerNow();var i=this._ctx.joinRoomConfig.useTcpJoin,a=this._ctx.joinRoomConfig.useTcpJoinDelay,o=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(i){var a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&((i=cloneDeep$2(i)).iceConfig.tcpOnly=!0),a={node:i},e.prev=2,o=new PeerConnection(t._ctx,r,!t._isFirstTimeConnected),a.pc=o,t._connectionPool.set(o.uuid,a),e.next=7,o.connect(i);case 7:return s=e.sent,l=new DataChannelSignaling(t.id,s,{connection_id:o.getConnectionId(),group_connection_id:r}),a.signaling=l,o.reportRtcPreIce("datachannel_send_ping"),e.next=13,l.sendPingSignaling();case 13:o.reportRtcPreIce("datachannel_recv_pong"),t._onConnectSuccess({node:i,pc:o,signaling:l,dc:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),t._onConnectionFailed(a,e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();this.emit("__onIceConnectStartHook"),e.forEach(o),i&&!n&&(this.logger.info("_startIceConnect","tcp-only will try after ".concat(a,"ms")),this._tcpOnlyTimer=window.setTimeout((function(){t.emit("connectWidthTcp"),e.forEach((function(e){(e=cloneDeep$2(e)).iceConfig.tcpOnly=!0,o(e)})),delete t._tcpOnlyTimer}),a))}}},{key:"_onConnectSuccess",value:function(e){var t,n,r,i=this;this.logger.info("connect","peer_%s connect success.",e.pc.uuid),this.emit("__onIceConnectSuccessHook",e),this._curConnection?(e.pc.destroy(),null==(r=e.signaling)||r.destroy(),this._connectionPool.delete(e.pc.uuid)):(this._curConnection=e,this._addConnectionHandler(e.pc),null==(n=this._monitor)||n.set({connection_id:e.pc.getConnectionId(),rtc_vid:(null==(t=e.node.iceConfig)?void 0:t._abtest_vid)||""}),this._connectionPool.delete(e.pc.uuid),this._feedbackNodes.forEach((function(e){return i._feedbackBySignaling(e)})),this._feedbackNodes=[],this._onConnectEnded(e))}},{key:"_onConnectionFailed",value:function(e,t){var n,r,i=this;this.logger.info("connect","peer_%s connect failed. %s",(null==(n=e.pc)?void 0:n.uuid)||"",t.message),this.emit("__onIceConnectFailedHook",e),t.code!==ConnectFailCode.DESTROY&&t.code!==ErrorCode.OPERATION_CANCEL&&(this._curConnection?this._feedbackBySignaling(e.node):this._feedbackNodes.push(e.node),this.logger.info("connect","remove cache node"),sdkCache.deleteAccessNode(this._ctx.appId,e.node),e.pc&&(this._connectionPool.delete(e.pc.uuid),e.pc.destroy()),null==(r=e.signaling)||r.destroy()),0!==this._connectionPool.size||this._curConnection||this._destroyed||(this.logger.error("connect","establish peerConnection failed"),this._checkBrowserUA(),getServerNow()-this._preIceStartTime<1e3?(this._clearReconnectTimer(),this._reconnectTimer=window.setTimeout((function(){delete i._reconnectTimer,i._reconnectWithIceFailed(i._feedbackNodes)}),1e3)):this._reconnectWithIceFailed(this._feedbackNodes))}},{key:"_feedbackBySignaling",value:function(e){var t;null==(t=this._curConnection)||t.signaling.sendSignaling("scheduleMessage",{type:"feedback",body:{feedbackIP:e.publicIPs[0].ip,feedbackReason:{type:"ICE_FAILED",reason:{}}}})}},{key:"_reconnectWithIceFailed",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._onConnectStart("ice failed"),this.logger.warn("reconnect","because of ice failed"),this._getAccess(t.map((function(e){return{feedbackIP:e.publicIPs[0].ip,feedbackReason:{type:"ICE_FAILED",reason:{}}}})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_checkBrowserUA",value:function(){var e;!this._hasReportBrowerWarning&&this._ctx.joinRoomConfig.isBlackBrower()&&(this._hasReportBrowerWarning=!0,null==(e=this._monitor)||e.report("rtc_error",{error_code:RtcErrorCode.BLACK_BROWSER,message:"failed to establish data-channel, and the current browser is on the browser blacklist."}))}},{key:"_onConnectStart",value:function(e){var t,n;this.logger.info("_onConnectStart","invoke, reason: ".concat(e)),this._connecting=!0,this.safeEmit(this._isFirstTimeConnected?"connecting":"reconnecting");var r=genUuid$1();null==(t=this._monitor)||t.set({connect_session_id:r}),this._isFirstTimeConnected||null==(n=this._monitor)||n.report("rtc_reconnect",{error_code:1002,message:"peerconnection reconnecting",reconnect_id:r,reconnect_type:"peerconnection"},{reason:e})}},{key:"_onConnectEnded",value:function(e){var t;this.logger.info("_onConnectEnded","invoke"),this._connecting=!1,this._isFirstTimeConnected||null==(t=this._monitor)||t.report("rtc_reconnected",{message:"peerconnection reconnected",reconnect_type:"peerconnection"}),this._isFirstTimeConnected=!1,this.safeEmit("connected",e),e.node.iceConfig.tcpOnly&&(this.logger.info("_onConnectEnded","use tcp only"),reportRtcInvokeStatus(this._ctx.id,"connected_with_tcp_only",JSON.stringify(e.node))),this._tcpOnlyTimer&&(window.clearTimeout(this._tcpOnlyTimer),delete this._tcpOnlyTimer),this._clearConnectionPool()}},{key:"_addConnectionHandler",value:function(e){var t=this;e.on("disconnect",(function(e){var n;t._closeCurrentConnection(),t._clearReconnectTimer(),t.joinRoomCalled?navigator.onLine?t.reconnect(e):t._reconnectTimer=window.setTimeout((function(){return t.reconnect(e)}),3e3):null==(n=t._monitor)||n.report("rtc_invoke_status",{message:"only connect, reconnect return",sdk_api_name:"reconnect",error_code:0,stream_id:"",elapse:0})}))}},{key:"_closeCurrentConnection",value:function(){var e,t;null==(e=this._curConnection)||e.pc.destroy(),null==(t=this._curConnection)||t.signaling.destroy(),delete this._curConnection}},{key:"_clearConnectionPool",value:function(){var e=this;this._connectionPool.forEach((function(t,n){var r,i;null==(r=t.pc)||r.destroy(),null==(i=t.signaling)||i.destroy(),e._connectionPool.delete(n)}))}},{key:"_clearReconnectTimer",value:function(){this._reconnectTimer&&(window.clearTimeout(this._reconnectTimer),delete this._reconnectTimer)}}]);var n,r,i}(EnhancedEventEmitter),__defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__decorateClass$4=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc$4(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp$4(t,n,a),a},MediaConnectionState=function(e){return e.DISCONNECTED="disconnected",e.DISCONNECTING="disconnecting",e.CONNECTED="connected",e.CONNECTING="connecting",e}(MediaConnectionState||{}),logRemoteStream=function(e,t,n){n.info(e,"userId: %o, subAudio: %o, subVideo: %o, audioMid: %o, videoMid: %o, sequenceId: %o",t.userId,t.subAudio,t.subVideo,t.audioMid,t.videoMid,t.sequenceId)},MediaServerClient=function(e){function t(e){var n;return _classCallCheck$1(this,t),n=_callSuper(this,t),__publicField(_assertThisInitialized(n),"id"),__publicField(_assertThisInitialized(n),"publicStream",!1),__publicField(_assertThisInitialized(n),"_token"),__publicField(_assertThisInitialized(n),"_roomId"),__publicField(_assertThisInitialized(n),"_roomAttributes"),__publicField(_assertThisInitialized(n),"_vendorConfig",{enableMultiVendor:!1,vendorCode:0}),__publicField(_assertThisInitialized(n),"_clientId"),__publicField(_assertThisInitialized(n),"_businessId"),__publicField(_assertThisInitialized(n),"_userInfo"),__publicField(_assertThisInitialized(n),"_authorization"),__publicField(_assertThisInitialized(n),"_sessionId",""),__publicField(_assertThisInitialized(n),"_liveControlMessage"),__publicField(_assertThisInitialized(n),"isReconnecting",!1),__publicField(_assertThisInitialized(n),"_ontrackCallbackMap",new Map),__publicField(_assertThisInitialized(n),"_subResolves",{}),__publicField(_assertThisInitialized(n),"supportConcurrent",!1),__publicField(_assertThisInitialized(n),"_handler"),__publicField(_assertThisInitialized(n),"_pubSubLock"),__publicField(_assertThisInitialized(n),"_joinLeaveLock"),__publicField(_assertThisInitialized(n),"_state"),__publicField(_assertThisInitialized(n),"_dataChannelSignal"),__publicField(_assertThisInitialized(n),"_joinRoomStartTs"),__publicField(_assertThisInitialized(n),"_monitor"),__publicField(_assertThisInitialized(n),"logger"),__publicField(_assertThisInitialized(n),"_roomProfile",RoomProfileType.communication),__publicField(_assertThisInitialized(n),"_context"),__publicField(_assertThisInitialized(n),"_connectionManager"),__publicField(_assertThisInitialized(n),"_joinRoom5xxTimer"),__publicField(_assertThisInitialized(n),"_joinResolve"),__publicField(_assertThisInitialized(n),"_joinReject"),__publicField(_assertThisInitialized(n),"_pubSubBackOff",{}),n.id=e.id,n._monitor=getMonitor(n.id),n.logger=new Logger$1$1("MediaServerClient",2,n.id),n.logger.info("constructor","invoke"),n._pubSubLock=new PromiseLock2("pubSubLock"),n._joinLeaveLock=new PromiseLock2("joinLeaveLock"),n._state="disconnected",n._roomAttributes={multiChatMode:!1,bigRoomMode:!1},n._pubSubBackOff={},n._context=e,n._connectionManager=new ConnectionManager(e),n._addConnectHandler(),n}return _inherits(t,e),_createClass$1(t,[{key:"_addSignalEventHandler",value:function(){var e,t,n=this;[SignalEvent.ON_ADD_STREAM,SignalEvent.ON_ADD_STREAM_LIST,SignalEvent.ON_REMOVE_STREAM,SignalEvent.ON_REMOVE_STREAM_LIST,SignalEvent.USER_CONNECTION,SignalEvent.USER_CONNECTION_LIST,SignalEvent.USER_DISCONNECTION,SignalEvent.USER_DISCONNECTION_LIST,SignalEvent.ON_UPDATE_STREAM_ATTRIBUTES,SignalEvent.ON_UPDATE_ROOM_ATTRIBUTES,SignalEvent.ON_PUSH_TRACK,SignalEvent.ON_REMOVE_TRACK,SignalEvent.ON_CUSTOM_MESSAGE,SignalEvent.USER_MESSAGE_RECEIVED,SignalEvent.USER_BINARY_MESSAGE_RECEIVED,SignalEvent.POST_PROCESSING_MESSAGE,SignalEvent.ON_USER_TOKEN_WILL_EXPIRE,SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_WILL_EXPIRE,SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_DID_EXPIRED,SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_WILL_EXPIRE,SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_DID_EXPIRED,SignalEvent.STREAM_CONTROL_MESSAGE,SignalEvent.ON_UPDATE_USER_ATTRIBUTES,SignalEvent.ON_SPEAKER_CHANGE,MediaServerSignalEvent.RSCP,MediaServerSignalEvent.RTT,SignalEvent.ON_STREAM_FAILED,SignalEvent.ON_NOTIFY_RECONNECT,MediaServerSignalEvent.SSC,SignalEvent.ON_FORWARD_DST_ROOM_USER_KICK].forEach((function(e){var t;null==(t=n._dataChannelSignal)||t.on(e,(function(t){n.safeEmit(e,t)}))})),null==(e=this._dataChannelSignal)||e.on(SignalEvent.NODE_CHANGE,(function(e){n._connectionManager.reconnectByNodeChange(e)})),null==(t=this._dataChannelSignal)||t.on(SignalEvent.ON_NOTIFY_RECONNECT,(function(){n._connectionManager.reconnect("recv notifyReconnect signaling")}))}},{key:"_removeSignalEventHandler",value:function(){var e,t;null==(e=this._dataChannelSignal)||e.removeAllListeners(),null==(t=this._handler)||t.removeAllListeners()}},{key:"connectionState",get:function(){return this._state},set:function(e){this._state!==e&&(this.safeEmit(StateEvent.ON_CONNECTION_STATE_CHANGE,{prev:this._state,next:e}),this._state=e)}},{key:"businessId",set:function(e){this._businessId=e}},{key:"setLiveControlMessage",value:function(e){this._liveControlMessage=e}},{key:"connect",value:function(){var e=this;return new Promise((function(t,n){e._connectionManager.once("connected",(function(){return t()})),e._connectionManager.once("disconnected",n),e._connectionManager.connect()}))}},{key:"join",value:(V=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("join()","info: %o",t),this._token=t.token,this._roomId=t.roomId,this._clientId=t.userInfo.userId,this._businessId=t.userInfo.businessId,this._userInfo=t.userInfo,this._roomProfile=t.roomProfile,this._reportJoinRoomStart(),e.next=3,new Promise((function(e,t){var r,i;n._joinResolve=e,n._joinReject=t,("connected"!==(null==(i=null==(r=n._handler)?void 0:r.pc)?void 0:i.connectionState)?n.connect():Promise.resolve()).then((function(){n._callJoinRoom()})).catch((function(e){var t=Array.isArray(e)&&e.length>0?e[0]:e;n._joinRoomFailed(t.message)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return V.apply(this,arguments)})},{key:"_callJoinRoom",value:(T=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v=this,y=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]&&y[0],this.logger.info("_callJoinRoom","invoke"),this._connectionManager.joinRoomCalled=!0,e.t0=Utils.token2auth(this._context.appId,this._roomId,this._clientId,this._token),e.t1=this._sessionId,e.t2=Date.now(),e.t3=this._liveControlMessage,e.t4={extra_info:this._userInfo.extraInfo,role:this._userInfo.role},e.next=9,null==(n=this._handler)?void 0:n.getDefaultSdp();case 9:return e.t5=e.sent,e.next=12,internalGetSupportedCodecs();case 12:if(e.t6=e.sent,e.t7=window.navigator.userAgent,e.t8=Config2.VERSION,e.t9=sdkCache.getDeviceId(),e.t10=this._context.appId,e.t11=this._roomId,e.t12=this._clientId,e.t13=this._businessId,e.t14=this._context.useCloudProxy,e.t15=RoomProfileMap[this._roomProfile]?"".concat(RoomProfileMap[this._roomProfile][0]):"0",e.t16={supportedCodecs:e.t6,deviceType:"web",userAgent:e.t7,sdkVersion:e.t8,deviceId:e.t9,appId:e.t10,roomId:e.t11,userId:e.t12,businessId:e.t13,enableCloudProxy:e.t14,channelProfile:e.t15},e.t17={supportCheckTokenPrivilege:!0,supportTokenExpireCallBack:!0,enableSceneConfigV2:!0,enableUnBundleMode:!0,enableAudioMux:!0,enableBigRoomMode:!0,needNegotiateSDP:!0,supportMultiVendor:!0},e.t18=JSON.stringify({requireICEUfragV2:!0}),U={Authorization:e.t0,sessionId:e.t1,timestamp:e.t2,controlMessage:e.t3,userAttributes:e.t4,sdpInfo:e.t5,params:e.t16,options:e.t17,accessParams:e.t18},this._context.joinRoomParams)for(F=0,p=Object.entries(this._context.joinRoomParams);F<p.length;F++)Q=_slicedToArray(p[F],2),h=Q[0],R=Q[1],U.params[h]=R;return this._context.mediaParams&&(U.mediaParams=this._context.mediaParams),getParameter("SIGNAL_CROP_JOINROOM")&&(null==(r=U.sdpInfo)?void 0:r.sdp)&&(U.sdpInfo.sdp=cropSdpMediaSection(U.sdpInfo.sdp)),Promise.resolve().then((function(){return v.emit("onSendingJoinMessageHook")})),e.prev=29,_=t?"reconnected":"joinRoom",e.next=33,this._joinRoomWithRetry(_,U);case 33:S=e.sent,this.logger.success("join","send join message success"),B=S.config||{},m=B.engine_WEB,this.connectionState="connected",this._authorization=U.Authorization,sdkCache.setEngineWebConfig(this._context.appId,this._roomId,m),this._context&&(this._context.serverConfig={videoCodec:(null==m?void 0:m.video_codec)||"H264",audioRed:!!(null==m?void 0:m.pub_audio_red),muteReplaceUnsub:!!(null==(i=S.config)?void 0:i.mute_replace_unsub),simulcastOnDemand:!(!1===(null==(s=null==(o=null==(a=S.config)?void 0:a.engine_VPM)?void 0:o.ondemand)?void 0:s.enable)),forceUniHandler:1===(null==(c=null==(l=null==S?void 0:S.config)?void 0:l.vendor_param)?void 0:c.vendor_stream_sub_mode),e2eFeedback:null==m?void 0:m.e2e_feedback},"boolean"==typeof(null==m?void 0:m.av_sync)&&(this._context.avSync=m.av_sync)),S.vendorConfig&&(this._vendorConfig=S.vendorConfig),AudioStallObserver.setAudioStallConfig(m),(null==(d=null==S?void 0:S.relayMessage)?void 0:d.sdp)&&(null==(u=this._handler)||u.createAVMlineAnswerTpl(S.relayMessage.sdp)),this.emit("joinSuccess",{joinRes:S,reconnect:t}),this._joinRoomSuccess(S),e.next=43;break;case 39:e.prev=39,e.t19=e.catch(29),f={461:ErrorCode.ROOM_FORBIDDEN,462:ErrorCode.USER_FORBIDDEN},(null==e.t19?void 0:e.t19.code)>=700&&(null==e.t19?void 0:e.t19.code)<800?this._joinRoomFailed("token_error",ErrorCode.INVALID_TOKEN):f[null==e.t19?void 0:e.t19.code]?this._joinRoomFailed((null==e.t19?void 0:e.t19.message)||f[null==e.t19?void 0:e.t19.code],f[null==e.t19?void 0:e.t19.code]):(null==e.t19?void 0:e.t19.code)===ErrorCode.TIME_OUT&&this._context.joinRoomConfig.useTcpAfterJoinTimeout?(E="joinRoom timeout, retry with tcp only",this.logger.error("join",E),this.safeEmit(RoomEvent.ON_REJOIN_WITH_TCP),this._connectionManager.reconnect(E,!0)):e.t19.code===ErrorCode.OPERATION_CANCEL&&"connecting"===this.connectionState||this._joinRoomFailed((null==e.t19?void 0:e.t19.message)||"signaling_error");case 43:case"end":return e.stop()}}),e,this,[[29,39]])}))),function(){return T.apply(this,arguments)})},{key:"_getVendorPubSdpInfo",value:(g=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new PeerConnection(this._context,""),t.vendorHandler=new VendorHandler(this._context,n),t.pcSessionId&&(t.vendorHandler.peerConnectionId=t.pcSessionId),e.next=4,t.vendorHandler.publish(t);case 4:return r=e.sent,i=t.vendorHandler,e.abrupt("return",(i.on("ice_state",(function(e){a.emit(StateEvent.ON_VENDOR_CONNECTION_STATE_CHANGE,{state:{checking:ConnectionState.CONNECTION_STATE_CONNECTING,connected:ConnectionState.CONNECTION_STATE_CONNECTED,disconnected:ConnectionState.CONNECTION_STATE_RECONNECTING}[e],userId:a._clientId})})),i.once("disconnect",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.removeAllListeners(),"connected"!==(null==(r=null==(n=a._handler)?void 0:n.pc)?void 0:r.iceConnectionState)){e.next=9;break}return e.next=4,a.unpublish(t);case 4:return e.next=6,a.publish(t);case 6:t.vendorHandler&&t.statsReport.setVar(t.vendorHandler),e.next=10;break;case 9:a.logger.info("vendor ice failed",t.streamId);case 10:case"end":return e.stop()}}),e)})))),[i,r]));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"publish",value:(y=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._publish(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"_publish",value:(v=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("publish()","localStream: %o",t),S=t.videoTrack,B=t.audioTrack,m=getServerNow(),E="",v="",y=this._handler,"H264"!==(null==(a=null==(i=this._context)?void 0:i.serverConfig)?void 0:a.videoCodec)){e.next=10;break}return e.next=6,isH264EncodeSupported();case 6:if(e.sent){e.next=10;break}if("VP8"===getParameter("FALLBACK_ENCODE_CODEC")){e.next=9;break}throw new SDKError(ErrorCode.PUBLISH_FAILED,"h264 is not supported");case 9:this._context.serverConfig.videoCodec="VP8";case 10:if(!this._vendorConfig.enableMultiVendor){e.next=20;break}return e.next=13,this._getVendorPubSdpInfo(t);case 13:n=e.sent,r=_slicedToArray(n,2),y=r[0],f=r[1],e.next=23;break;case 20:return e.next=22,this._handler.publish(t);case 22:f=e.sent;case 23:return null==(o=t.observer)||o.setHandler(y),this.emit("_test_pub_sdpInfo_",f),E=f.audioMid,v=f.videoMid,t.pubAttributes={localaudio:!!B,localvideo:!!S,videostream:t.pubVideo,audiostream:t.pubAudio,extvideo:!!(S instanceof CustomVideoLocalTrack),extaudio:!!(B instanceof CustomAudioLocalTrack),videoDescriptions:f.videoDescriptions,videoType:VideoType.NORMAL},g={attributes:_objectSpread2({},t.pubAttributes),audio:!0,video:!0,screen:t.isScreen,audioMid:E,videoMid:v,sdpInfo:{msid:t.stream.id,type:f.type,sdp:f.partialSdp,semantics:f.semantics},peerConnectionMode:null==f?void 0:f.peerConnectionMode,supportMultiVendor:!0},((T=!this._vendorConfig.enableMultiVendor&&t.enableSimulcast&&(null==(l=null==(s=this._context)?void 0:s.serverConfig)?void 0:l.simulcastOnDemand)&&(null==(c=f.subVideoDescriptions)?void 0:c.length))||(null==(d=this._context.serverConfig)?void 0:d.e2eFeedback))&&(g.attributes.subVideoDescriptions=f.subVideoDescriptions),(null==f?void 0:f.peerConnectionId)&&(g.peerConnectionId=f.peerConnectionId),e.prev=30,this.emit("_test_pub_body_",g),e.next=34,null==(u=this._dataChannelSignal)?void 0:u.sendSignaling("publish",g);case 34:V=e.sent,e.next=60;break;case 37:return e.prev=37,e.t0=e.catch(30),e.t0 instanceof Error?null==(U=this._monitor)||U.report("rtc_publish_stat",{result:"fail",is_screen:"0",start:m,message:"".concat(e.t0.name,": ").concat(e.t0.message)}):e.t0 instanceof SDKError&&(null==(F=this._monitor)||F.report("rtc_publish_stat",{result:"fail",is_screen:"0",start:m,message:"".concat(e.t0.code,": ").concat(e.t0.message)})),e.next=42,null==y?void 0:y.rollback({msid:t.stream.id,stream:t,audioMid:E,videoMid:v});case 42:if(!(e.t0.code>=500&&e.t0.code<600)){e.next=57;break}if(this.emit("_test_pub_5xx_"),!((k=this.getPubSubBackOff(t.id)).retryDuration<6e4)){e.next=54;break}return this.logger.info("pubRetry",t.id,k.retryDuration),e.next=49,new Promise((function(e){return setTimeout(e,k.interval)}));case 49:return k.retryDuration+=k.interval,k.interval=k.interval>4e3?8e3:2*k.interval,t.resetStream(),this.emit(RoomEvent.PUB_RETRY,{screen:t.isScreen}),e.abrupt("return",this._publish(t));case 54:this.logger.info("pubRetry","end"),delete this._pubSubBackOff[t.id],e.next=59;break;case 57:if(403!==e.t0.code){e.next=59;break}throw new SDKError(ErrorCode.TOKEN_NO_PUBLISH_PERMISSION,e.t0.message||"token no publish permission");case 59:throw e.t0;case 60:if(null==(h=this._monitor)||h.report("rtc_recv_answer",{error_code:0,answer_type:null==V?void 0:V.relayMessage.type,sequence_id:(null==(p=null==V?void 0:V.relayMessage)?void 0:p.sequenceId)||0,message:null==(Q=null==V?void 0:V.relayMessage)?void 0:Q.sdp,direction:"up",stream_id:"",stream_user_id:"",pc_session_id:(null==y?void 0:y.peerConnectionId)||""}),N=new Promise((function(e,n){var r,i;null==y||y.handleAck({action:SdpAction.publish,streamId:V.streamId,audioMid:E,videoMid:v,audioTransceiverInit:null==f?void 0:f.audioTransceiverInit,videoTransceiverInit:null==f?void 0:f.videoTransceiverInit,signalingAck:{sdp:null==(r=null==V?void 0:V.relayMessage)?void 0:r.sdp,sequenceId:null==(i=null==V?void 0:V.relayMessage)?void 0:i.sequenceId},sdp:null==f?void 0:f.sdp,stream:t,onSuccess:function(){b.logger.info("publish()","publish success"),e(0)},onFail:function(e){b.logger.info("publish()","publish fail"),n(e)}})})),e.t1=!isFirefox,!e.t1){e.next=66;break}return e.next=66,N;case 66:this.emit("___afterHandleAckInPub"),(T||(null==(R=this._context.serverConfig)?void 0:R.e2eFeedback))&&this.emit(MediaServerSignalEvent.RSCP,[{StreamIds:[t.stream.id],Metadata:{VideoIndex:0}}],!0),t.streamId=V.streamId,t.videoMid=v,t.audioMid=E,t.subVideoDescriptions=f.subVideoDescriptions,null==(_=this._monitor)||_.report("rtc_publish_stat",{result:"success",is_screen:"0",start:m,message:"unknown"});case 73:case"end":return e.stop()}}),e,this,[[30,37]])}))),function(e){return v.apply(this,arguments)})},{key:"updatePubTrack",value:(E=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updatePubTrack()","localStream: %o",t),s=t.videoTrack,l=t.audioTrack,c=t.pubAudio,d=t.pubVideo,u=t.vendorHandler||this.handler,U=null==l?void 0:l.preprocessingTrack,F=null==s?void 0:s.preprocessingTrack,!d||!F){e.next=11;break}return t.stopBlackFrame(),e.next=8,null==(n=t.videoTransceiver)?void 0:n.sender.replaceTrack(F);case 8:this.updateVideoDescriptions(t),e.next=13;break;case 11:return e.next=13,null==(r=t.videoTransceiver)?void 0:r.sender.replaceTrack(null);case 13:if(null==u||u.updateMaxBitrate(t),!c||!U){e.next=21;break}return p=l.mixType,(Q=l.mixedAudioTrack)&&p!==AudioMixingType.PLAYOUT&&U.enabled&&(U=Q),e.next=19,null==(i=t.audioTransceiver)?void 0:i.sender.replaceTrack(U);case 19:e.next=24;break;case 21:return e.next=23,null==(a=t.audioTransceiver)?void 0:a.sender.replaceTrack(null);case 23:reportRtcInvokeStatus(this.id,"MediaClient.updatePubTrack(audio)","null");case 24:this.emit("___onAfterReplaceTrack");try{reportRtcInvokeStatus(this.id,"MediaClient.updatePubTrack",JSON.stringify({audioStreamTrack:mediaTrackStringify(U),videoStreamTrack:mediaTrackStringify(F)}))}catch(b){}for(h={localaudio:!!l,localvideo:!!s,videostream:d,audiostream:c,extvideo:!!(s instanceof CustomVideoLocalTrack),extaudio:!!(l instanceof CustomAudioLocalTrack),videoType:s?VideoType.NORMAL:t.pubAttributes.videoType},R={},_=0,S=Object.entries(h);_<S.length;_++)B=_slicedToArray(S[_],2),m=B[0],(f=B[1])!==Reflect.get(t.pubAttributes,m)&&Reflect.set(R,m,f);if(Object.keys(R).length){e.next=30;break}return e.abrupt("return");case 30:return t.observer&&(E=t.observer,v=R.audiostream,y=R.videostream,g=R.localaudio,T=R.localvideo,V=R.extaudio,k=R.extvideo,void 0!==T?void 0!==k?E.setPushVideo(k):E.setEnableVideo(T):void 0!==y&&E.setUnmuteVideo(y),void 0!==g?void 0!==V?E.setPushAudio(V):E.setEnableAudio(g):void 0!==v&&E.setUnmuteAudio(v)),t.pubAttributes=_objectSpread2(_objectSpread2({},t.pubAttributes),h),t.pubAttributes.videostream||t.stopBlackFrame(),N={roomId:this._roomId,streamId:t.streamId,attributes:R},e.next=35,null==(o=this._dataChannelSignal)?void 0:o.sendSignaling("updateStreamAttributes",N);case 35:if(this.emit("___onAfterUpdateSignaling"),e.t0=isFirefox,!e.t0){e.next=40;break}return e.next=40,null==u?void 0:u.setCurrentDescription();case 40:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"updatePubBlackFrame",value:(f=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.genBlackFrame())&&(null==(r=null==(n=t.videoTransceiver)?void 0:n.sender)||r.replaceTrack(a),t.pubAttributes.videoType=VideoType.BLACK,null==(i=this._dataChannelSignal)||i.sendSignaling("updateStreamAttributes",{roomId:this._roomId,streamId:t.streamId,attributes:{videoType:VideoType.BLACK}}),t.on("black-frame-ended",(function(){var e,n,r;null==(n=null==(e=t.videoTransceiver)?void 0:e.sender)||n.replaceTrack(null),t.pubAttributes.videoType=VideoType.NORMAL,null==(r=o._dataChannelSignal)||r.sendSignaling("updateStreamAttributes",{roomId:o._roomId,streamId:t.streamId,attributes:{videoType:VideoType.NORMAL}})})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"updateMediaParams",value:(m=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null==(n=this._dataChannelSignal)?void 0:n.sendSignaling("updateMediaParams",{roomId:this._roomId,mediaParams:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"updateToken",value:(B=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updateToken()","newToken: %o",t),this._token=t,this._context.appId&&(null==(n=this._userInfo)?void 0:n.userId)&&this._roomId){e.next=2;break}return e.abrupt("return");case 2:return a={roomId:this._roomId,userId:null==(r=this._userInfo)?void 0:r.userId,appId:this._context.appId,token:"Bearer ".concat(t)},e.prev=3,e.next=6,null==(i=this._dataChannelSignal)?void 0:i.sendSignaling("updateToken",a);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),new SDKError(ErrorCode.UPDATE_TOKEN_WITH_INVALID_TOKEN,"invoke updateToken with an invalid token");case 11:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return B.apply(this,arguments)})},{key:"updateVideoDescriptions",value:(S=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===t.pubAttributes.videoDescriptions.length){e.next=2;break}return e.abrupt("return");case 2:if((null==(a=null==(r=null==(n=t.videoTrack)?void 0:n.preprocessingTrack)?void 0:r.getSettings())?void 0:a.width)&&(null==a?void 0:a.height)&&(null==a?void 0:a.frameRate)){e.next=5;break}return e.abrupt("return");case 5:o=t.pubAttributes.videoDescriptions[0],a.width===o.width&&a.height===o.height&&a.frameRate===o.framerate||(o.width=a.width,o.height=a.height,o.framerate=a.frameRate,o.maxkbps=t.videoEncodeConfig[0].maxKbps||o.maxkbps,null==(i=this._dataChannelSignal)||i.sendSignaling("updateStreamAttributes",{roomId:this._roomId,streamId:t.streamId,attributes:{videoDescriptions:[o]}}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"unpublish",value:(_=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("unpublish()","localStream: %o",t),r={roomId:this._roomId,initStreamId:t.initStreamId,streamId:t.streamId},null==(n=this._dataChannelSignal)||n.sendSignaling("unpublish",r),i=t.vendorHandler||this._handler,t.stopBlackFrame(),e.next=7,null==i?void 0:i.handleAck({action:SdpAction.unpublish,audioMid:t.audioMid,videoMid:t.videoMid,stream:t,streamId:t.streamId});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"_getVendorSubSdpInfo",value:(R=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new PeerConnection(this._context,""),t.vendorHandler=new VendorHandler(this._context,r),t.pcSessionId&&(t.vendorHandler.peerConnectionId=t.pcSessionId),(i=t.vendorHandler).on("ontrack",n),e.next=6,t.vendorHandler.subscribe(t);case 6:return a=e.sent,e.abrupt("return",(i.on("ice_state",(function(e){o.emit(StateEvent.ON_VENDOR_CONNECTION_STATE_CHANGE,{state:{checking:ConnectionState.CONNECTION_STATE_CONNECTING,connected:ConnectionState.CONNECTION_STATE_CONNECTED,disconnected:ConnectionState.CONNECTION_STATE_RECONNECTING}[e],userId:t.userId})})),i.once("disconnect",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i||i.removeAllListeners(),"connected"===(null==(r=null==(n=o._handler)?void 0:n.pc)?void 0:r.iceConnectionState)){e.next=2;break}return e.abrupt("return",void o.logger.info("vendor ice failed",t.streamId));case 2:return a=t.subMediaType,e.next=5,o.unsubscribe(t);case 5:return e.next=7,o.subscribe(t,a);case 7:t.vendorHandler&&t.statsReport.setVar(t.vendorHandler),o.emit(RoomEvent.RESUBSCRIBE,{stream:t});case 9:case"end":return e.stop()}}),e)})))),[i,a]));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return R.apply(this,arguments)})},{key:"subscribe",value:(h=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._subscribe(t,n,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return h.apply(this,arguments)})},{key:"_subscribe",value:(Q=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O,A,w,x,P,L,G=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("subscribe()","mediaType: %o",n),logRemoteStream("subscribe()",t,this.logger),t.streamState=StreamState.SUB_ING,m=!1,f=!1,audioInMediaType(n)&&(f=!0),videoInMediaType(n)&&(m=!0),m||!this.multiChatMode()){e.next=4;break}return e.abrupt("return",void(t.streamState=StreamState.INIT));case 4:if(E=getServerNow(),v=t.subVideo,y=[],this._subResolves[t.streamId]||(this._subResolves[t.streamId]=[]),y.push(new Promise((function(e,n){G._subResolves[t.streamId].push(e);var r=setTimeout((function(){return n(new SDKError(ErrorCode.TIME_OUT,"wait video timeout for userId: ".concat(t.userId)))}),6e4),i=function(n){"video"===n.mediaType&&(G.logger.info("remoteStream ".concat(t.userId," received video track")),t.off("ontrack",i),clearTimeout(r),e(0))};t.on("ontrack",i)}))),this.multiChatMode()||y.push(new Promise((function(e,n){G._subResolves[t.streamId].push(e);var r=setTimeout((function(){return n(new SDKError(ErrorCode.TIME_OUT,"wait audio timeout for userId: ".concat(t.userId)))}),6e4),i=function(n){"audio"===n.mediaType&&(G.logger.info("remoteStream ".concat(t.userId," received audio track")),t.off("ontrack",i),clearTimeout(r),e(0))};t.on("ontrack",i)}))),g=function(e){t.ontrack(e)},null==(s=this._handler)||s.on("ontrack",g),this._ontrackCallbackMap.set(t,g),V=this._handler,(null==(l=this._context.serverConfig)?void 0:l.forceUniHandler)||!t.enableVendorMode){e.next=19;break}return e.next=12,this._getVendorSubSdpInfo(t,g);case 12:i=e.sent,a=_slicedToArray(i,2),V=a[0],T=a[1],e.next=22;break;case 19:return e.next=21,this._handler.subscribe(t,{multiChatMode:this.multiChatMode()});case 21:T=e.sent;case 22:if(null==(c=t.observer)||c.setHandler(V),N=(k=T).audioMid,b=k.videoMid,t.subVideo=m,C={spatialLayer:(null==r?void 0:r.spatialLayer)||0,temporalLayer:0,spatialSubLayer:(null==r?void 0:r.spatialSubLayer)||-1},J={audio:!this.multiChatMode(),video:!0,data:!0,screen:t.isScreen,browser:"chrome-stable",videoMid:b,audioMid:N,sdpInfo:{sdp:null==T?void 0:T.partialSdp,semantics:null==T?void 0:T.semantics,type:null==T?void 0:T.type},streamUserId:t.userId,streamId:t.streamId,config:{enableMediaType:{audio:!!this.multiChatMode()||f,video:m},qualityLayer:C},extra:{enableSendRTT:!0},peerConnectionMode:null==T?void 0:T.peerConnectionMode,supportMultiVendor:!0},(null==T?void 0:T.peerConnectionId)&&(J.peerConnectionId=T.peerConnectionId),W=this._context||{},D=W.subscribeFallbackOption,Z=W.userPriority,"number"==typeof D&&(J.config.fallbackOption=D),Z.has(t.userId)&&(J.config.priority=Z.get(t.userId)),(null==T?void 0:T.allSsrc)&&(J.extra.subscribeSSRC=T.allSsrc),e.t0=null==T?void 0:T.signalingAck,!e.t0){e.next=35;break}return e.next=35,new Promise((function(e,n){null==V||V.handleAck({action:SdpAction.subscribe,streamId:t.streamId,audioMid:N,videoMid:b,audioTransceiverInit:null==T?void 0:T.audioTransceiverInit,videoTransceiverInit:null==T?void 0:T.videoTransceiverInit,signalingAck:null==T?void 0:T.signalingAck,stream:t,sdp:T.sdp,onSuccess:function(){G.logger.info("ssrc","success"),e(0)},onFail:function(e){G.logger.info("ssrc","fail",e),n(e)}})}));case 35:return e.prev=35,this.emit("_test_sub_body_",J),e.next=39,null==(d=this._dataChannelSignal)?void 0:d.sendSignaling("subscribe",J);case 39:M=e.sent,e.next=66;break;case 42:if(e.prev=42,e.t1=e.catch(35),t.streamState=StreamState.INIT,e.t1 instanceof Error&&(null==(u=this._monitor)||u.report("rtc_subscribe_stat",{result:"fail",start:E,message:e.t1.message,stream_user_id:t.userId})),!(e.t1.code>=500&&e.t1.code<600)){e.next=56;break}if(this.emit("_test_sub_5xx_"),!((I=this.getPubSubBackOff(t.streamId)).retryDuration<6e4)){e.next=55;break}return this.logger.info("subRetry",t.streamId,I.retryDuration),e.next=51,new Promise((function(e){return setTimeout(e,I.interval)}));case 51:return I.retryDuration+=I.interval,I.interval=I.interval>4e3?8e3:2*I.interval,this.emit(RoomEvent.SUB_RETRY,{screen:t.isScreen,userId:t.userId}),e.abrupt("return",this._subscribe(t,n,r));case 55:this.logger.info("subRetry","end",t.streamId),delete this._pubSubBackOff[t.streamId];case 56:return t.subVideo=v,e.next=59,null==V?void 0:V.rollback({msid:t.streamId,stream:t});case 59:return O={roomId:this._roomId,streamId:t.streamId,userId:t.userId},e.next=62,null==(U=this._dataChannelSignal)?void 0:U.sendSignaling("unsubscribe",O).catch((function(){}));case 62:if(t.streamState=StreamState.INIT,403!==e.t1.code){e.next=65;break}throw new SDKError(ErrorCode.TOKEN_NO_SUBSCRIBE_PERMISSION,e.t1.message||"token no subscribe permission");case 65:throw e.t1;case 66:if(M.relayMessage){e.next=68;break}throw null==(F=this._monitor)||F.report("rtc_error",{error_code:-1009,message:"relayMessage is null"}),new SDKError(ErrorCode.UNEXPECTED_ERROR,"unable to subscribe");case 68:if(A=null!==(o=null==M?void 0:M.relayMessage)&&void 0!==o?o:{},w=A.audioMid,x=A.videoMid,P=_defineProperty$1(_defineProperty$1({},N,w),b,x),this.logger.info("sub midmap",t.userId,P),t.videoMid=b,t.audioMid=N,t.subMediaType=n,t.streamState=StreamState.SUB_ED,t.subLayer=C,null==(R=this._monitor)||R.report("rtc_recv_answer",{error_code:0,answer_type:null==(p=null==M?void 0:M.relayMessage)?void 0:p.type,sequence_id:(null==(Q=null==M?void 0:M.relayMessage)?void 0:Q.sequenceId)||0,message:null==(h=null==M?void 0:M.relayMessage)?void 0:h.sdp,direction:"down",stream_id:t.streamId,stream_user_id:t.userId,pc_session_id:(null==V?void 0:V.peerConnectionId)||""}),e.prev=70,e.t2=null==T?void 0:T.signalingAck,e.t2){e.next=75;break}return e.next=75,new Promise((function(e,n){var r,i;null==V||V.handleAck({action:SdpAction.subscribe,streamId:t.streamId,audioMid:N,videoMid:b,audioTransceiverInit:null==T?void 0:T.audioTransceiverInit,videoTransceiverInit:null==T?void 0:T.videoTransceiverInit,signalingAck:{sdp:null==(r=null==M?void 0:M.relayMessage)?void 0:r.sdp,sequenceId:null==(i=null==M?void 0:M.relayMessage)?void 0:i.sequenceId},stream:t,sdp:T.sdp,onSuccess:function(){G.logger.info("sub ack","success"),e(0)},onFail:function(e){G.logger.info("sub ack","fail",e),n(e)}})}));case 75:return e.next=77,Promise.all(y);case 77:e.next=87;break;case 79:return e.prev=79,e.t3=e.catch(70),e.t3 instanceof Error&&(null==(_=this._monitor)||_.report("rtc_subscribe_stat",{result:"fail",start:E,message:e.t3.message,stream_user_id:t.userId})),L={roomId:this._roomId,streamId:t.streamId,userId:t.userId},e.next=85,null==(S=this._dataChannelSignal)?void 0:S.sendSignaling("unsubscribe",L).catch((function(){}));case 85:throw t.streamState=StreamState.INIT,e.t3;case 87:this.multiChatMode()||(t.subAudio=f),null==(B=this._monitor)||B.report("rtc_subscribe_stat",{result:"success",start:E,message:"unknown",stream_user_id:t.userId}),this._context&&t.startReport((function(e){return G.emit("onRemoteStreamStats",e)}),V);case 88:case"end":return e.stop()}}),e,this,[[35,42],[70,79]])}))),function(e,t,n){return Q.apply(this,arguments)})},{key:"controlMessage",value:(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("controlMessage()","params: %o",t),r=t,"transcode"===t.type&&(r.roomId=this._roomId),e.next=5,null==(n=this._dataChannelSignal)?void 0:n.sendSignaling("controlMessage",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"updateUserAttributes",value:(F=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("updateUserAttributes()","attributes: %o",t),e.next=3,null==(n=this._dataChannelSignal)?void 0:n.sendSignaling("updateUserAttributes",{roomId:this._roomId,sessionId:this._sessionId,attributes:t});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"updateSubTrackLayer",value:(U=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updateSubTrack()","subLayer: %o",n),t.subLayer.spatialLayer!==n.spatialLayer||t.subLayer.spatialSubLayer!==n.spatialSubLayer){e.next=2;break}return e.abrupt("return",void this.logger.warn("updateSubTrack()","subLayer no change"));case 2:return i={roomId:this._roomId,streamList:[t.streamId],streamId:t.streamId,streamUserId:t.userId,config:{qualityLayer:n}},e.next=5,null==(r=this._dataChannelSignal)?void 0:r.sendSignaling("updateSubscribe",i);case 5:return this.emit("___afterUpdateSubscribeSend"),t.subLayer=n,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return U.apply(this,arguments)})},{key:"updateSubPriority",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updateSubPriority()","priority: %o",n),t.priority!==n){e.next=2;break}return e.abrupt("return",(this.logger.warn("updateSubPriority()","priority no change"),t));case 2:return i={roomId:this._roomId,streamList:[t.streamId],streamId:t.streamId,streamUserId:t.userId,config:{priority:n}},e.next=5,null==(r=this._dataChannelSignal)?void 0:r.sendSignaling("updateSubscribe",i);case 5:return t.priority=n,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"updateSubMediaType",value:(d=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,s=!1,audioInMediaType(n)&&(s=!0),videoInMediaType(n)&&(o=!0),l={roomId:this._roomId,streamList:[t.streamId],config:{enableMediaType:{video:o,audio:!!this.multiChatMode()||s}}},e.next=5,null==(r=this._dataChannelSignal)?void 0:r.sendSignaling("updateSubscribe",l);case 5:return this.multiChatMode()||(null==(i=t.observer)||i.setUnmuteAudio(s),t.subAudio=s),null==(a=t.observer)||a.setUnmuteVideo(o),t.subVideo=o,t.subMediaType=n,e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"subscribe4pushTrack",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("subscribe4pushTrack()","streamInfo: %o",n),logRemoteStream("subscribe4pushTrack()",t,this.logger),t.subAudio=!0,e.next=3,null==(r=this._handler)?void 0:r.subscribe(t,{multiChatMode:this.multiChatMode()});case 3:if(o=e.sent){e.next=6;break}throw new SDKError(ErrorCode.ADD_TRANSCEIVER_FAILED,"add transceiver failed");case 6:return s=o.audioMid,l=o.videoMid,(c=[]).push(new Promise((function(e,n){var r=setTimeout((function(){return n(new SDKError(ErrorCode.TIME_OUT,"wait audio timeout for userId: ".concat(t.userId)))}),6e4),i=function(n){"audio"===n.mediaType&&(u.logger.success("remoteStream ".concat(t.userId," received audio track")),t.off("ontrack",i),clearTimeout(r),e(0))};t.on("ontrack",i)}))),d=function(e){t.ontrack(e)},null==(i=this._handler)||i.on("ontrack",d),this._ontrackCallbackMap.set(t,d),e.next=13,null==(a=this._handler)?void 0:a.handleAck({action:SdpAction.pushtrack,streamId:t.streamId,audioMid:s,videoMid:l,stream:t,audioTransceiverInit:null==o?void 0:o.audioTransceiverInit,videoTransceiverInit:null==o?void 0:o.videoTransceiverInit,signalingAck:null==n?void 0:n.message,sdp:o.sdp});case 13:return e.next=15,Promise.all(c);case 15:this._context&&t.startReport((function(e){return u.emit("onRemoteStreamStats",e)}),this._handler);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"unsubscribe4removeTrack",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(logRemoteStream("unsubscribe4removeTrack()",t,this.logger),this.logger.info("unsubscribe4removeTrack()","sequenceId: ",n.sequenceId,"trackType: ",r),!(n.sequenceId<t.sequenceId)){e.next=2;break}return e.abrupt("return",void this.logger.warn("unsubscribe4removeTrack()","sequenceId return"));case 2:return c=!!((l=r+1)&MediaType$1.AUDIO),d=!!(l&MediaType$1.VIDEO),e.next=5,null==(i=this._handler)?void 0:i.handleAck({action:SdpAction.removetrack,streamId:t.streamId,audioMid:t.audioMid,videoMid:t.videoMid,stream:t});case 5:null==(a=t.observer)||a.setPushTrack(!1),null==(o=t.observer)||o.setUnmuteAudio(!c),t.subAudio=!c,null==(s=t.observer)||s.setUnmuteVideo(!d),t.subVideo=!d,t.subMediaType=t.subMediaType-(t.subMediaType&l),t.virtual&&(t.clean(),t.resetHasSubscribed(),t.statsReport.unsubscribe());case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return l.apply(this,arguments)})},{key:"unsubscribe",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return logRemoteStream("unsubscribe()",t,this.logger),a={roomId:this._roomId,streamId:t.streamId,userId:t.userId},o=t.vendorHandler||this.handler,null==(n=this._dataChannelSignal)||n.sendSignaling("unsubscribe",a).catch((function(){})),t.streamState=StreamState.INIT,t.subVideo=!1,null==(r=t.observer)||r.setSubscribeVideo(!1),!this.multiChatMode()&&(null==(i=t.observer)||i.setSubscribeAudio(!1)),e.next=5,null==o?void 0:o.handleAck({action:SdpAction.unsubscribe,streamId:t.streamId,audioMid:t.audioMid,videoMid:t.videoMid,stream:t});case 5:s=e.sent,this._subResolves[s]&&this._subResolves[s].forEach((function(e){return e(0)})),this.logger.info("unsubscribe","clean unsub ".concat(t.userId)),t.clean(),t.subMediaType=ExtendMediaType.NONE,this.removeOnTrackListener(t),t.statsReport.unsubscribe();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"removeOnTrackListener",value:function(e){var t=this._ontrackCallbackMap.get(e);if(t){var n=e.vendorHandler||this._handler;null==n||n.off("ontrack",t),this._ontrackCallbackMap.delete(e)}}},{key:"handleRemoveStream",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:logRemoteStream("handleRemoveStream()",t,this.logger),t.subVideo=!1,t.streamState!==StreamState.INIT&&this.unsubscribe(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"leave",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("leave()"),this._stopJoinRoom5xxRetry(),this._joinRoomFailed("leave_room"),"connected"===this.connectionState){e.next=2;break}return e.abrupt("return",Promise.reject(new SDKError(ErrorCode.NOT_CONNECTED_YET,"server not connected")));case 2:return n={Authorization:this._authorization,roomId:this._roomId,sessionId:this._sessionId},e.next=5,this._joinLeaveLock.lock();case 5:return r=e.sent,e.prev=6,e.next=9,null==(t=this._dataChannelSignal)?void 0:t.sendSignaling("leaveRoom",n);case 9:r(),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),r(),e.t0;case 15:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(){return a.apply(this,arguments)})},{key:"subscribePublicStream",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this._handler)?void 0:n.subscribe(t,{multiChatMode:!1});case 2:if(s=e.sent){e.next=5;break}throw new SDKError(ErrorCode.ADD_TRANSCEIVER_FAILED,"add transceiver failed");case 5:return l=getServerNow(),c=s.audioMid,d=s.videoMid,e.t0=this._context.appId,e.t1=t.streamId,e.t2=!0,e.t3=!0,e.t4=!0,e.t5=c,e.t6=d,e.t7={sdp:null==s?void 0:s.partialSdp,semantics:null==s?void 0:s.semantics,type:null==s?void 0:s.type},e.next=18,internalGetSupportedCodecs();case 18:return e.t8=e.sent,e.t9=window.navigator.userAgent,e.t10=Config2.VERSION,e.t11=sdkCache.getDeviceId(),e.t12=this._context.appId,e.t13=this._businessId,e.t14=this._context.useCloudProxy,e.t15={supportedCodecs:e.t8,deviceType:"web",userAgent:e.t9,sdkVersion:e.t10,deviceId:e.t11,appId:e.t12,businessId:e.t13,enableCloudProxy:e.t14},e.t16={enableMediaType:{audio:!0,video:!0},qualityLayer:{spatialLayer:0,temporalLayer:0}},u={appId:e.t0,streamId:e.t1,audio:e.t2,video:e.t3,data:e.t4,audioMid:e.t5,videoMid:e.t6,sdpInfo:e.t7,params:e.t15,config:e.t16},e.next=30,null==(r=this._dataChannelSignal)?void 0:r.sendSignaling("startPullStream",u);case 30:return U=e.sent,F=[],this._subResolves[t.streamId]=[],F.push(new Promise((function(e,n){_._subResolves[t.streamId].push(e);var r=setTimeout((function(){return n(new SDKError(ErrorCode.TIME_OUT,"wait video timeout for streamId: ".concat(t.streamId)))}),6e4),i=function(n){"video"===n.mediaType&&(_.logger.success("remoteStream ".concat(t.userId," received video track")),t.off("ontrack",i),clearTimeout(r),e(0))};t.on("ontrack",i)}))),F.push(new Promise((function(e,n){_._subResolves[t.streamId].push(e);var r=setTimeout((function(){return n(new SDKError(ErrorCode.TIME_OUT,"wait audio timeout for streamId: ".concat(t.streamId)))}),6e4),i=function(n){"audio"===n.mediaType&&(_.logger.success("remoteStream ".concat(t.userId," received audio track")),t.off("ontrack",i),clearTimeout(r),e(0))};t.on("ontrack",i)}))),p=function(e){t.ontrack(e)},null==(i=this._handler)||i.on("ontrack",p),this._ontrackCallbackMap.set(t,p),Q=null==U?void 0:U.relayMessage,h=Q.sequenceId,R=Q.sdp,t.videoMid=d,t.audioMid=c,t.sequenceId=h,t.streamState=StreamState.SUB_ED,t.subAudio=!0,t.subVideo=!0,e.next=44,null==(a=this._handler)?void 0:a.handleAck({action:SdpAction.subscribe,streamId:t.streamId,audioMid:c,videoMid:d,audioTransceiverInit:null==s?void 0:s.audioTransceiverInit,videoTransceiverInit:null==s?void 0:s.videoTransceiverInit,signalingAck:{sdp:R,sequenceId:h},stream:t});case 44:return e.next=46,Promise.all(F);case 46:null==(o=this._monitor)||o.report("rtc_subscribe_stat",{result:"success",start:l,message:"unknown",stream_user_id:t.userId}),this._context&&t.startReport((function(e){return _.emit("onRemoteStreamStats",e)}),this._handler);case 48:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"unsubscribePublicStream",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return logRemoteStream("unsubscribePublicStream()",t,this.logger),i={appId:this._context.appId,streamId:t.streamId},e.prev=2,e.next=5,null==(n=this._dataChannelSignal)?void 0:n.sendSignaling("stopPullStream",i);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:return t.streamState=StreamState.INIT,t.subVideo=!1,t.subAudio=!1,e.next=14,null==(r=this._handler)?void 0:r.handleAck({action:SdpAction.unsubscribe,streamId:t.streamId,audioMid:t.audioMid,videoMid:t.videoMid,stream:t});case 14:t.clean(),t.subMediaType=ExtendMediaType.NONE,this.removeOnTrackListener(t),t.statsReport.unsubscribe();case 18:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return r.apply(this,arguments)})},{key:"destroy",value:function(){var e,t,n;this.logger.info("destroy()"),this._joinRoomFailed("leave_room"),this._token=void 0,this._roomId=void 0,this._clientId=void 0,this._authorization=void 0,this._sessionId="",this._pubSubBackOff={},this._stopJoinRoom5xxRetry(),null==(e=this._handler)||e.destroy(),this._handler=void 0,null==(t=this._dataChannelSignal)||t.destroy(),this._dataChannelSignal=void 0,this._connectionManager.destroy(),null==(n=this._monitor)||n.set({connection_id:""}),this._removeSignalEventHandler(),this.removeAllListeners(),this.connectionState="disconnected"}},{key:"sendUserMessage",value:function(e,t,n){var r;return null==(r=this._dataChannelSignal)?void 0:r.sendP2PMessage({to:e,from:this._userInfo.userId,room:this._roomId,app:this._context.appId,msg:t},void 0,n)}},{key:"sendRoomMessage",value:function(e){var t;return null==(t=this._dataChannelSignal)?void 0:t.sendSignaling("customMessage",e)}},{key:"_joinRoomWithRetry",value:function(e,t,n){var r=this;return new Promise((function(i,a){r._dataChannelSignal.sendSignaling(e,t,void 0,1e4).then((function(e){r.emit("onJoinRoomAck",e),i(e)})).catch((function(o){if(n=n||new RetryLimiter,o.code>=500&&o.code<600&&getServerNow()-n.initTs<6e4){var s=n.getRetryDelay();return r.logger.warn("_joinRoomWithRetry","joinRoom failed(code: ".concat(o.code,"), will retry after ").concat(s,"ms")),void(r._joinRoom5xxTimer=window.setTimeout((function(){delete r._joinRoom5xxTimer,r._joinRoomWithRetry(e,t,n).then(i).catch(a)}),s))}a(o)}))}))}},{key:"_stopJoinRoom5xxRetry",value:function(){this._joinRoom5xxTimer&&(clearTimeout(this._joinRoom5xxTimer),delete this._joinRoom5xxTimer)}},{key:"_addConnectHandler",value:function(){var e=this;this._connectionManager.on("connected",(function(t){var n,r,i;e.logger.info("connectStateChange","connected"),null==(n=e._dataChannelSignal)||n.destroy(),null==(r=e._handler)||r.destroy(),e._handler=createHandler(e._context,t.pc),e._dataChannelSignal=t.signaling,e.supportConcurrent="chrome"===(null==(i=e._handler)?void 0:i.name),e._addSignalEventHandler(),e.isReconnecting&&(e.publicStream?e.emit("connectSuccess",{reconnect:!0}):(e._reportJoinRoomStart(),e._callJoinRoom(!0)))})),this._connectionManager.on("disconnected",(function(t){e.connectionState="disconnected",e.logger.error("connectStateChange","disconnected. %o",t),e.isReconnecting&&e.safeEmit(RoomEvent.RECONNECT_FAILED)})),this._connectionManager.on("connecting",(function(){var t;e.isReconnecting=!1,null==(t=e._handler)||t.destroy(),delete e._handler,e.connectionState="connecting",e.logger.info("connectStateChange","connecting")})),this._connectionManager.on("reconnecting",(function(){var t;e.connectionState="disconnected",e.isReconnecting=!0,null==(t=e._handler)||t.destroy(),delete e._handler,e.connectionState="connecting",e.logger.warn("connectStateChange","reconnecting"),e.safeEmit("reconnecting")})),this._connectionManager.on("connectWidthTcp",(function(){e.safeEmit(RoomEvent.ON_ICE_CONNECT_WITH_TCP)})),["__onGetIceConfigHook","__onIceConnectSuccessHook"].forEach((function(t){e._connectionManager.on(t,(function(){return e.emit(t)}))}))}},{key:"_reportJoinRoomStart",value:function(){var e;this._joinRoomStartTs=getServerNow(),this.emit("__joinRoomStartReport"),null==(e=this._monitor)||e.report("join_room",{type:"begin",start:this._joinRoomStartTs,result:!1,reason:""},{enable_cloud_proxy:this._context.useCloudProxy,expectedIDC:this._context.expectedIDC})}},{key:"getPubSubBackOff",value:function(e){return this._pubSubBackOff[e]||(this._pubSubBackOff[e]={interval:1e3,retryDuration:0}),this._pubSubBackOff[e]}},{key:"_joinRoomSuccess",value:function(e){var t,n;this._joinReject&&this._joinResolve&&(this._joinResolve(e),delete this._joinReject,delete this._joinResolve),this._joinRoomStartTs&&(this.emit("__joinRoomSuccessReport"),null==(t=this._monitor)||t.report("join_room",{type:"end",start:this._joinRoomStartTs,result:!0,reason:""},{enable_cloud_proxy:this._context.useCloudProxy,expectedIDC:this._context.expectedIDC}),null==(n=this._monitor)||n.report("rtc_join_room",{error_code:0,deviceModel:"web",deviceManufacturer:"web",elapse:getServerNow()-this._joinRoomStartTs}),delete this._joinRoomStartTs)}},{key:"_joinRoomFailed",value:function(e,t){var n;this._joinReject&&this._joinResolve&&(this._joinReject(new SDKError(t||ErrorCode.JOIN_ROOM_FAILED,e)),delete this._joinReject,delete this._joinResolve),this._joinRoomStartTs&&(this.emit("__joinRoomFailedReport"),null==(n=this._monitor)||n.report("join_room",{type:"end",start:this._joinRoomStartTs,result:!1,reason:e},{enable_cloud_proxy:this._context.useCloudProxy,expectedIDC:this._context.expectedIDC}),delete this._joinRoomStartTs)}},{key:"multiChatMode",value:function(){var e;return null==(e=this._roomAttributes)?void 0:e.multiChatMode}},{key:"sendForwardStreamSignal",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={forwardStreamType:t,roomId:n},e.abrupt("return",(("start"===t||"update"===t)&&(a.dstRoomInfos=null==r?void 0:r.map((function(e){return{dstRoomId:e.roomId,dstToken:Utils.token2auth(o._context.appId,e.roomId,o._clientId,e.token)}}))),null==(i=this._dataChannelSignal)?void 0:i.sendSignaling("forwardStream",a)));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"handler",get:function(){return this._handler}},{key:"roomAttributes",get:function(){return this._roomAttributes},set:function(e){this._roomAttributes=e}},{key:"vendorConfig",get:function(){return this._vendorConfig}}]);var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V}(EnhancedEventEmitter);function checkConnection(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,i,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._handler&&"connected"===this._state){e.next=2;break}throw new SDKError(ErrorCode.NOT_CONNECTED_YET,"error in ".concat(t,": try again after joined"));case 2:for(n=o.length,i=new Array(n),a=0;a<n;a++)i[a]=o[a];return e.next=5,r.apply(this,i);case 5:case"end":return e.stop()}}),e,this)}))),n}function pubSubLock(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._pubSubLock.lock();case 2:for(t=e.sent,this.supportConcurrent&&t(),e.prev=4,n=o.length,i=new Array(n),a=0;a<n;a++)i[a]=o[a];return e.next=8,r.apply(this,i);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,this.supportConcurrent||t(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),n}function interrupt(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,a,o=this,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),i=0;i<t;i++)n[i]=s[i];return a=!1,e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,i){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.on("INTERRUPT",(function(){a=!0,i(new SDKError(ErrorCode.OPERATION_CANCEL,"operation not finish when leave"))})),e.prev=1,e.t0=t,e.next=5,r.apply(o,n);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),a||i(e.t2);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)}))),n}__decorateClass$4([interrupt],MediaServerClient.prototype,"join",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"publish",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"updatePubTrack",1),__decorateClass$4([checkConnection],MediaServerClient.prototype,"updateVideoDescriptions",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"unpublish",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"subscribe",1),__decorateClass$4([checkConnection],MediaServerClient.prototype,"controlMessage",1),__decorateClass$4([checkConnection],MediaServerClient.prototype,"updateUserAttributes",1),__decorateClass$4([checkConnection],MediaServerClient.prototype,"updateSubTrackLayer",1),__decorateClass$4([checkConnection],MediaServerClient.prototype,"updateSubPriority",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"subscribe4pushTrack",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"unsubscribe4removeTrack",1),__decorateClass$4([pubSubLock,checkConnection],MediaServerClient.prototype,"unsubscribe",1),__decorateClass$4([checkConnection],MediaServerClient.prototype,"handleRemoveStream",1),__decorateClass$4([pubSubLock],MediaServerClient.prototype,"subscribePublicStream",1),__decorateClass$4([pubSubLock],MediaServerClient.prototype,"unsubscribePublicStream",1);var SEIStreamEventType=function(e){return e[e.BLACK=0]="BLACK",e[e.NORMAL=1]="NORMAL",e}(SEIStreamEventType||{}),reportFirstFrameRecvError=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var a,o,s,l,c,d,u,U,F,p,Q,h,R;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c="",d=-1,u="video"===t?null==(a=null==r?void 0:r.videoTrack)?void 0:a.originTrack:null==(o=null==r?void 0:r.audioTrack)?void 0:o.originTrack,U="video"===t?null==(s=null==r?void 0:r.videoTransceiver)?void 0:s.receiver:null==(l=null==r?void 0:r.audioTransceiver)?void 0:l.receiver,e.prev=3,e.t0=null==n?void 0:n.pc,!e.t0){e.next=9;break}return e.next=8,getStats$1(null==n?void 0:n.pc,u,!0,U);case 8:e.t0=e.sent;case 9:return F=e.t0,p=(F||[]).find((function(e){return"inbound-rtp"===e.type})),e.next=13,null==U?void 0:U.getStats();case 13:if(Q=e.sent,h=[],null==Q||Q.forEach((function(e){return h.push(e.type)})),e.t1=(null==n?void 0:n.pc)&&0===(null==F?void 0:F.length)&&0!==h.length,!e.t1){e.next=21;break}return e.next=20,getStats$1(n.pc,void 0,void 0,U);case 20:R=e.sent;case 21:c=JSON.stringify({type:t,reports:F.map((function(e){return e.type})),reports2:h,pc:(null==n?void 0:n.pc)||null,track:(null==u?void 0:u.id)||null,bytes:null==p?void 0:p.bytesReceived,framesReceived:null==p?void 0:p.framesReceived,packetsReceived:null==p?void 0:p.packetsReceived,allReports:R}),e.next=27;break;case 24:e.prev=24,e.t2=e.catch(3),d=-999,c=e.t2.mseeage||JSON.stringify(e.t2);case 27:null==i||i.report("rtc_invoke_status",{sdk_api_name:"first_frame_recv_timeout",error_code:d,message:c,stream_id:(null==r?void 0:r.streamId)||"",stream_user_id:null==r?void 0:r.userId,elapse:0}),e.next=32;break;case 30:e.prev=30,e.t3=e.catch(0);case 32:case"end":return e.stop()}}),e,null,[[0,30],[3,24]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),reportFirstFrameSendError=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var a,o,s,l,c,d,u,U,F,p,Q,h,R;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c="",d=-1,u="video"===t?null==(a=null==r?void 0:r.videoTrack)?void 0:a.preprocessingTrack:null==(o=null==r?void 0:r.audioTrack)?void 0:o.preprocessingTrack,U="video"===t?null==(s=null==r?void 0:r.videoTransceiver)?void 0:s.sender:null==(l=null==r?void 0:r.audioTransceiver)?void 0:l.sender,e.prev=3,e.t0=null==n?void 0:n.pc,!e.t0){e.next=9;break}return e.next=8,getStats$1(null==n?void 0:n.pc,u,!0,U);case 8:e.t0=e.sent;case 9:return F=e.t0,p=(F||[]).find((function(e){return"outbound-rtp"===e.type})),e.next=13,null==U?void 0:U.getStats();case 13:if(Q=e.sent,h=[],null==Q||Q.forEach((function(e){return h.push(e.type)})),e.t1=(null==n?void 0:n.pc)&&0===F.length&&0!==h.length,!e.t1){e.next=21;break}return e.next=20,getStats$1(n.pc,void 0,void 0,U);case 20:R=e.sent;case 21:c=JSON.stringify({type:t,reports:F.map((function(e){return e.type})),reports2:h,pc:(null==n?void 0:n.pc)||null,track:(null==u?void 0:u.id)||null,bytes:null==p?void 0:p.bytesSent,framesSent:null==p?void 0:p.framesSent,packetsSent:null==p?void 0:p.packetsSent,allReports:R}),e.next=27;break;case 24:e.prev=24,e.t2=e.catch(3),d=-999,c=e.t2.mseeage||JSON.stringify(e.t2);case 27:null==i||i.report("rtc_invoke_status",{sdk_api_name:"first_frame_send_timeout",error_code:d,message:c,stream_id:(null==r?void 0:r.streamId)||"",stream_user_id:null==r?void 0:r.userId,elapse:0}),e.next=32;break;case 30:e.prev=30,e.t3=e.catch(0);case 32:case"end":return e.stop()}}),e,null,[[0,30],[3,24]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),RecvFrameObserver=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"_audioEventSessionId",genEventSessionId()),__publicField(_assertThisInitialized(r),"_videoEventSessionId",genEventSessionId()),__publicField(_assertThisInitialized(r),"_handler"),__publicField(_assertThisInitialized(r),"_stream"),__publicField(_assertThisInitialized(r),"_firstAudioFrameTimer"),__publicField(_assertThisInitialized(r),"_firstVideoFrameTimer"),__publicField(_assertThisInitialized(r),"_transportDelayInterval"),__publicField(_assertThisInitialized(r),"_transportDelay"),__publicField(_assertThisInitialized(r),"_firstVideoFrameInterval"),__publicField(_assertThisInitialized(r),"_firstAudioFrameInterval"),__publicField(_assertThisInitialized(r),"_isScreen",!1),__publicField(_assertThisInitialized(r),"_audioFirstFrameState",0),__publicField(_assertThisInitialized(r),"_videoFirstFrameState",0),__publicField(_assertThisInitialized(r),"_timeout",1e4),__publicField(_assertThisInitialized(r),"_currentAudioRecv",{startTime:0,eventSessionId:0,type:"login"}),__publicField(_assertThisInitialized(r),"_currentVideoRecv",{startTime:0,eventSessionId:0,type:"login"}),__publicField(_assertThisInitialized(r),"_login",!1),__publicField(_assertThisInitialized(r),"_unMuteAudio",!1),__publicField(_assertThisInitialized(r),"_enableAudio",!1),__publicField(_assertThisInitialized(r),"_unMuteVideo",!1),__publicField(_assertThisInitialized(r),"_enableVideo",!1),__publicField(_assertThisInitialized(r),"_remoteUnmuteAudio",!1),__publicField(_assertThisInitialized(r),"_remoteUnmuteVideo",!1),__publicField(_assertThisInitialized(r),"_audioExternal",!1),__publicField(_assertThisInitialized(r),"_pushAudio",!1),__publicField(_assertThisInitialized(r),"_videoExternal",!1),__publicField(_assertThisInitialized(r),"_pushVideo",!1),__publicField(_assertThisInitialized(r),"_autoSubscribeVideo",!1),__publicField(_assertThisInitialized(r),"_autoSubscribeAudio",!1),__publicField(_assertThisInitialized(r),"_autoSubscribe",!1),__publicField(_assertThisInitialized(r),"_publishVideo",!1),__publicField(_assertThisInitialized(r),"_publishAudio",!1),__publicField(_assertThisInitialized(r),"_subscribeAudio",!1),__publicField(_assertThisInitialized(r),"_subscribeVideo",!1),__publicField(_assertThisInitialized(r),"_subscribe",!1),__publicField(_assertThisInitialized(r),"_pushTrack",!1),__publicField(_assertThisInitialized(r),"_multiChatMode",!1),__publicField(_assertThisInitialized(r),"_monitor"),__publicField(_assertThisInitialized(r),"logger"),r._stream=e,r._handler=n,r.getTransportDelay(),r._monitor=getMonitor(e.engineId),r.logger=new Logger$1$1("RecvFrameObserver",0,e.engineId),r}return _inherits(t,e),_createClass$1(t,[{key:"beginRecvFrame",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransportDelay();case 2:S=this._transportDelay,B=!0,["login","unmute","subscribe","push_track"].indexOf(n)>=0&&(S=0,B=!1),"audio"===t?(B||this._audioEventSessionId++,this._currentAudioRecv={startTime:Date.now(),eventSessionId:this._audioEventSessionId,type:n},m={media_type:t,event_type:"begin_recv",type:n,is_screen:!!(null==(r=this._stream)?void 0:r.isScreen),start:null==(i=this._currentAudioRecv)?void 0:i.startTime,event_session_id:this._audioEventSessionId,stream_user_id:null==(a=this._stream)?void 0:a.userId,transport_delay:S,vendor_mode:(null==(o=this._stream)?void 0:o.vendorCode)||0,pc_session_id:(null==(s=this._stream)?void 0:s.pcSessionId)||(null==(l=this._handler)?void 0:l.peerConnectionId),remote_rtc_session_id:null==(c=this._stream)?void 0:c.remoteSessionId},this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),this._firstAudioFrameTimer=window.setTimeout((function(){reportFirstFrameRecvError("audio",E._handler,E._stream,E._monitor),E.stopRecvFrame("audio","timeout"),E._firstAudioFrameInterval&&window.clearInterval(E._firstAudioFrameInterval)}),this._timeout),this.logger.info("rtcFirstFrameRecv",JSON.stringify(m)),null==(d=this._monitor)||d.report("rtc_first_frame",m),this._watchForFirstAudioFrameRecv(),this._audioFirstFrameState=1,this._login=!0,this._unMuteAudio=!0,this._enableAudio=!0,this._remoteUnmuteAudio=!0):"video"===t&&(B||this._videoEventSessionId++,this._currentVideoRecv={startTime:Date.now(),eventSessionId:this._videoEventSessionId,type:n},f={media_type:t,event_type:"begin_recv",type:n,is_screen:!!(null==(u=this._stream)?void 0:u.isScreen),start:null==(U=this._currentVideoRecv)?void 0:U.startTime,event_session_id:this._videoEventSessionId,stream_user_id:null==(F=this._stream)?void 0:F.userId,transport_delay:S,vendor_mode:(null==(p=this._stream)?void 0:p.vendorCode)||0,pc_session_id:(null==(Q=this._stream)?void 0:Q.pcSessionId)||(null==(h=this._handler)?void 0:h.peerConnectionId),remote_rtc_session_id:null==(R=this._stream)?void 0:R.remoteSessionId},this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),this._firstVideoFrameTimer=window.setTimeout((function(){reportFirstFrameRecvError("video",E._handler,E._stream,E._monitor),E.stopRecvFrame("video","timeout"),E._firstVideoFrameInterval&&window.clearInterval(E._firstVideoFrameInterval)}),this._timeout),this._watchForFirstVideoFrameRecv(),this.logger.info("rtcFirstFrameRecv",JSON.stringify(f)),null==(_=this._monitor)||_.report("rtc_first_frame",f),this._videoFirstFrameState=1,this._login=!0,this._unMuteVideo=!0,this._enableVideo=!0,this._remoteUnmuteVideo=!0);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"stopRecvFrame",value:function(e,t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S;if("audio"===e){if(1!==this._audioFirstFrameState)return;var B={event_type:"recv_end",media_type:e,is_screen:!!(null==(n=this._stream)?void 0:n.isScreen),start:null==(r=this._currentAudioRecv)?void 0:r.startTime,reason:t,result:!1,stream_user_id:null==(i=this._stream)?void 0:i.userId,event_session_id:this._audioEventSessionId,type:null==(a=this._currentAudioRecv)?void 0:a.type,vendor_mode:(null==(o=this._stream)?void 0:o.vendorCode)||0,pc_session_id:(null==(s=this._stream)?void 0:s.pcSessionId)||(null==(l=this._handler)?void 0:l.peerConnectionId),remote_rtc_session_id:null==(c=this._stream)?void 0:c.remoteSessionId};this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),delete this._currentAudioRecv,this.logger.info("rtcFirstFrameRecv",JSON.stringify(B)),null==(d=this._monitor)||d.report("rtc_first_frame",B),this._audioFirstFrameState=2}else if("video"===e){if(1!==this._videoFirstFrameState)return;var m={event_type:"recv_end",media_type:e,is_screen:!!(null==(u=this._stream)?void 0:u.isScreen),start:null==(U=this._currentVideoRecv)?void 0:U.startTime,reason:t,result:!1,stream_user_id:null==(F=this._stream)?void 0:F.userId,event_session_id:this._videoEventSessionId,type:null==(p=this._currentVideoRecv)?void 0:p.type,vendor_mode:(null==(Q=this._stream)?void 0:Q.vendorCode)||0,pc_session_id:(null==(h=this._stream)?void 0:h.pcSessionId)||(null==(R=this._handler)?void 0:R.peerConnectionId),remote_rtc_session_id:null==(_=this._stream)?void 0:_.remoteSessionId};this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),delete this._currentVideoRecv,this.logger.info("rtcFirstFrameRecv",JSON.stringify(m)),null==(S=this._monitor)||S.report("rtc_first_frame",m),this._videoFirstFrameState=2}}},{key:"recvFrameFinish",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransportDelay();case 2:if(h=this._transportDelay,"audio"!==t){e.next=14;break}if(1===this._audioFirstFrameState){e.next=6;break}return e.abrupt("return");case 6:if(this._currentAudioRecv){e.next=8;break}return e.abrupt("return");case 8:R=this._currentAudioRecv,_=R.type,S=R.startTime,["login","unmute","subscribe","push_track"].indexOf(_)>=0&&(h=0),B={event_type:"recv_end",media_type:t,start:S,result:!0,is_screen:!!(null==(n=this._stream)?void 0:n.isScreen),stream_user_id:null==(r=this._stream)?void 0:r.userId,event_session_id:this._audioEventSessionId,type:_,transport_delay:h,vendor_mode:(null==(i=this._stream)?void 0:i.vendorCode)||0,pc_session_id:(null==(a=this._stream)?void 0:a.pcSessionId)||(null==(o=this._handler)?void 0:o.peerConnectionId),remote_rtc_session_id:null==(s=this._stream)?void 0:s.remoteSessionId},delete this._currentAudioRecv,this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),this.logger.info("rtcFirstFrameRecv",JSON.stringify(B)),null==(l=this._monitor)||l.report("rtc_first_frame",B),this.emit("recvAudioFirstFrame"),this._audioFirstFrameState=3,e.next=23;break;case 14:if("video"!==t){e.next=23;break}if(1===this._videoFirstFrameState){e.next=17;break}return e.abrupt("return");case 17:if(this._currentVideoRecv){e.next=19;break}return e.abrupt("return");case 19:m=this._currentVideoRecv,f=m.type,E=m.startTime,["login","unmute","subscribe","push_track"].indexOf(f)>=0&&(h=0),v={event_type:"recv_end",media_type:t,is_screen:!!(null==(c=this._stream)?void 0:c.isScreen),start:E,result:!0,stream_user_id:null==(d=this._stream)?void 0:d.userId,event_session_id:this._videoEventSessionId,type:f,transport_delay:h,vendor_mode:(null==(u=this._stream)?void 0:u.vendorCode)||0,pc_session_id:(null==(U=this._stream)?void 0:U.pcSessionId)||(null==(F=this._handler)?void 0:F.peerConnectionId),remote_rtc_session_id:null==(p=this._stream)?void 0:p.remoteSessionId},delete this._currentVideoRecv,this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),this.logger.info("rtcFirstFrameRecv",JSON.stringify(v)),null==(Q=this._monitor)||Q.report("rtc_first_frame",v),this.emit("recvVideoFirstFrame"),this._videoFirstFrameState=3;case 23:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setLogin",value:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{audio:!0,video:!0};this._login!==e&&(this._login=e,e&&(null==(t=this._stream)?void 0:t.hasAudio)&&a.audio&&this.beginRecvFrame("audio","login"),e&&(null==(n=this._stream)?void 0:n.hasVideo)&&a.video&&this.beginRecvFrame("video","login"),!e&&(null==(r=this._stream)?void 0:r.hasAudio)&&this.stopRecvFrame("audio","leave_room"),!e&&(null==(i=this._stream)?void 0:i.hasVideo)&&this.stopRecvFrame("video","leave_room"))}},{key:"setUnmuteAudio",value:function(e){var t,n,r;if(this._unMuteAudio!==e){this._unMuteAudio=e;var i=!!(null==(t=this._stream)?void 0:t.hasAudio);(null==(n=this._stream)?void 0:n.audioHasCapture)&&(null==(r=this._stream)?void 0:r.audioHasPublish)&&(this._unMuteAudio&&i?this.beginRecvFrame("audio","unmute"):i&&this.stopRecvFrame("audio","mute"))}}},{key:"setRemoteUnmuteAudio",value:function(e){this._remoteUnmuteAudio!==e&&(this._remoteUnmuteAudio=e,this._remoteUnmuteAudio?this.beginRecvFrame("audio","remote_unmute"):this.stopRecvFrame("audio","remote_mute"))}},{key:"setEnableAudio",value:function(e){this._enableAudio!==e&&(this._enableAudio=e,this._enableAudio?this.beginRecvFrame("audio","enable"):this.stopRecvFrame("audio","disable"))}},{key:"setUnmuteVideo",value:function(e){var t,n,r;if(this._unMuteVideo!==e){this._unMuteVideo=e;var i=!!(null==(t=this._stream)?void 0:t.hasVideo);(null==(n=this._stream)?void 0:n.videoHasCapture)&&(null==(r=this._stream)?void 0:r.videoHasPublish)&&(this._unMuteVideo&&i?this.beginRecvFrame("video","unmute"):i&&this.stopRecvFrame("video","mute"))}}},{key:"setHandler",value:function(e){this._handler=e}},{key:"setRemoteUnmuteVideo",value:function(e){this._remoteUnmuteVideo!==e&&(this._remoteUnmuteVideo=e,this._remoteUnmuteVideo?this.beginRecvFrame("video","remote_unmute"):this.stopRecvFrame("video","remote_mute"))}},{key:"setEnableVideo",value:function(e){this._enableVideo!==e&&(this._enableVideo=e,this._enableVideo?this.beginRecvFrame("video","enable"):this.stopRecvFrame("video","disable"))}},{key:"setExternalAudioSource",value:function(e){this._audioExternal=e}},{key:"setPushAudio",value:function(e){var t;this._audioExternal&&this._pushAudio!==e&&(this._pushAudio=e),this._pushAudio&&this.beginRecvFrame("audio","push"),!e&&(null==(t=this._stream)?void 0:t.hasAudio)&&this.stopRecvFrame("audio","stop_push")}},{key:"setExternalVideoSource",value:function(e){this._videoExternal=e}},{key:"setPushVideo",value:function(e){var t;this._videoExternal&&this._pushVideo!==e&&(this._pushVideo=e),this._pushVideo&&this.beginRecvFrame("video","push"),!e&&(null==(t=this._stream)?void 0:t.hasVideo)&&this.stopRecvFrame("video","stop_push")}},{key:"setPublishVideo",value:function(e){var t;this._publishVideo!==e&&(this._publishVideo=e),this._publishVideo&&this.beginRecvFrame("video","publish"),!e&&(null==(t=this._stream)?void 0:t.hasVideo)&&this.stopRecvFrame("video","unpublish")}},{key:"setPublishAudio",value:function(e){var t;this._publishAudio!==e&&(this._publishAudio=e),this._publishAudio&&this.beginRecvFrame("audio","publish"),!e&&(null==(t=this._stream)?void 0:t.hasAudio)&&this.stopRecvFrame("audio","unpublish")}},{key:"setAutoSubscribe",value:function(e){this._autoSubscribe=e}},{key:"setAutoSubscribeVideo",value:function(e){this._autoSubscribeVideo=e}},{key:"setAutoSubscribeAudio",value:function(e){this._autoSubscribeAudio=e}},{key:"setSubscribeAudio",value:function(e){var t,n;this._autoSubscribeAudio||this._subscribeAudio===e||(this._subscribe=e,e&&(null==(t=this._stream)?void 0:t.hasAudio)&&this.beginRecvFrame("audio","subscribe")),!e&&(null==(n=this._stream)?void 0:n.hasAudio)&&this.stopRecvFrame("audio","unsubscribe")}},{key:"setSubscribeVideo",value:function(e){var t,n;this._autoSubscribeVideo||this._subscribeVideo===e||(this._subscribeVideo=e,e&&(null==(t=this._stream)?void 0:t.hasVideo)&&this.beginRecvFrame("video","subscribe")),!e&&(null==(n=this._stream)?void 0:n.hasVideo)&&this.stopRecvFrame("video","unsubscribe")}},{key:"setPushTrack",value:function(e){var t;this._pushTrack!==e&&(this._pushTrack=e,e&&!this._isScreen&&this.beginRecvFrame("audio","push_track"),!e&&(null==(t=this._stream)?void 0:t.hasAudio)&&this.stopRecvFrame("audio","remove_track"))}},{key:"setMultiChatMode",value:function(e){this._multiChatMode=e}},{key:"setTimeout",value:function(e){this._timeout=e}},{key:"_watchForFirstVideoFrameRecv",value:function(){var e=this,t=-1,n=-1;this._firstVideoFrameInterval&&window.clearInterval(this._firstVideoFrameInterval),this._firstVideoFrameInterval=window.setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function r(){var i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null==(i=e._handler)?void 0:i.pc)||!(null==(o=null==(a=e._stream)?void 0:a.videoTrack)?void 0:o.preprocessingTrack)){r.next=9;break}return u=null==(s=e._stream.videoTransceiver)?void 0:s.receiver,r.next=4,getStats$1(null==(l=e._handler)?void 0:l.pc,null==(d=null==(c=e._stream)?void 0:c.videoTrack)?void 0:d.preprocessingTrack,!0,u);case 4:if(!(U=r.sent.find((function(e){return"inbound-rtp"===e.type})))||!(U.framesReceived>t||U.packetsReceived>n)){r.next=9;break}if(-1!==t||-1!==n){r.next=8;break}return r.abrupt("return",(t=U.framesReceived,void(n=U.packetsReceived)));case 8:e.recvFrameFinish("video"),window.clearInterval(e._firstVideoFrameInterval);case 9:case"end":return r.stop()}}),r)}))),200)}},{key:"_watchForFirstAudioFrameRecv",value:function(){var e=this,t=-1,n=-1;this._firstAudioFrameInterval&&window.clearInterval(this._firstAudioFrameInterval),this._firstAudioFrameInterval=window.setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function r(){var i,a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null==(i=e._handler)?void 0:i.pc)||!(null==(o=null==(a=e._stream)?void 0:a.audioTrack)?void 0:o.originTrack)){r.next=8;break}return r.next=3,getStats$1(null==(s=e._handler)?void 0:s.pc,null==(c=null==(l=e._stream)?void 0:l.audioTrack)?void 0:c.originTrack);case 3:if(!(d=r.sent.find((function(e){return"inbound-rtp"===e.type})))||!(d.totalSamplesReceived>t||d.packetsReceived>n)){r.next=8;break}if(-1!==t||-1!==n){r.next=7;break}return r.abrupt("return",(t=d.totalSamplesReceived,void(n=d.packetsReceived)));case 7:e.recvFrameFinish("audio"),window.clearInterval(e._firstAudioFrameInterval);case 8:case"end":return r.stop()}}),r)}))),200)}},{key:"getTransportDelay",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransportDelayIntl();case 2:window.clearInterval(this._transportDelayInterval),this._transportDelayInterval=window.setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTransportDelayIntl();case 2:case"end":return e.stop()}}),e)}))),2e3);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getTransportDelayIntl",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==(t=this._handler)?void 0:t.pc)){e.next=8;break}return a=null==(r=null==(n=this._stream)?void 0:n.videoTransceiver)?void 0:r.receiver,e.next=4,getStats$1(null==(i=this._handler)?void 0:i.pc,void 0,!0,a);case 4:o=e.sent,s=o.find((function(e){return"transport"===e.type&&"connected"===e.dtlsState})),(l=o.find((function(e){return"candidate-pair"===e.type&&"succeeded"===e.state&&e.id===(null==s?void 0:s.selectedCandidatePairId)})))&&(this._transportDelay=Math.round(1e3*l.currentRoundTripTime/2));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setDisconnect",value:function(){this.stopRecvFrame("audio","connection_lost"),this.stopRecvFrame("video","connection_lost"),this.reset()}},{key:"reset",value:function(){this._currentAudioRecv={startTime:0,eventSessionId:0,type:"login"},this._currentVideoRecv={startTime:0,eventSessionId:0,type:"login"},this._login=!1,this._unMuteAudio=!1,this._enableAudio=!1,this._unMuteVideo=!1,this._remoteUnmuteAudio=!1,this._remoteUnmuteVideo=!1,this._enableVideo=!1,this._audioExternal=!1,this._pushAudio=!1,this._videoExternal=!1,this._pushVideo=!1,this._autoSubscribeVideo=!1,this._autoSubscribeAudio=!1,this._autoSubscribe=!1,this._subscribeAudio=!1,this._subscribeVideo=!1,this._subscribe=!1,this._pushTrack=!1,this._multiChatMode=!1,this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),this._firstAudioFrameInterval&&window.clearInterval(this._firstAudioFrameInterval),this._firstVideoFrameInterval&&window.clearInterval(this._firstVideoFrameInterval),this._transportDelayInterval&&window.clearInterval(this._transportDelayInterval)}},{key:"audioFirstFrameReceived",get:function(){return 3===this._audioFirstFrameState}},{key:"FirstFrameReceived",get:function(){return 3===this._audioFirstFrameState}}]);var n,r,i,a}(eventemitter3Exports.EventEmitter),SendFrameObserver=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),__publicField(this,"_audioEventSessionId",genEventSessionId()),__publicField(this,"_videoEventSessionId",genEventSessionId()),__publicField(this,"_pcSessionId"),__publicField(this,"_handler"),__publicField(this,"_firstAudioFrameTimer"),__publicField(this,"_firstVideoFrameTimer"),__publicField(this,"_stream"),__publicField(this,"_firstVideoFrameInterval"),__publicField(this,"_firstAudioFrameInterval"),__publicField(this,"_currentAudioSend",{startTime:0,eventSessionId:0,type:"login"}),__publicField(this,"_currentVideoSend",{startTime:0,eventSessionId:0,type:"login"}),__publicField(this,"_login",!1),__publicField(this,"_publisher",!1),__publicField(this,"_unMuteAudio",!1),__publicField(this,"_enableAudio",!1),__publicField(this,"_unMuteVideo",!1),__publicField(this,"_enableVideo",!1),__publicField(this,"_audioExternal",!1),__publicField(this,"_pushAudio",!1),__publicField(this,"_videoExternal",!1),__publicField(this,"_pushVideo",!1),__publicField(this,"_autoPublish",!1),__publicField(this,"_publish",!1),__publicField(this,"_timeout",1e4),__publicField(this,"_audioFirstFrameState",0),__publicField(this,"_videoFirstFrameState",0),__publicField(this,"_monitor"),__publicField(this,"logger"),this._stream=t,this._handler=n,this._monitor=getMonitor(t.engineId),this.logger=new Logger$1$1("SendFrameObserver",0,t.engineId)}),[{key:"beginSendFrame",value:function(e,t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h=this;if("audio"===e){this._audioEventSessionId++,this._currentAudioSend={startTime:Date.now(),eventSessionId:this._audioEventSessionId,type:t};var R={event_type:"begin_send",media_type:e,is_screen:!!(null==(n=this._stream)?void 0:n.isScreen),type:t,start:this._currentAudioSend.startTime,event_session_id:this._audioEventSessionId,vendor_mode:(null==(r=this._stream)?void 0:r.vendorCode)||0,pc_session_id:(null==(i=this._stream)?void 0:i.pcSessionId)||(null==(a=this._handler)?void 0:a.peerConnectionId),capture_session_id:null==(s=null==(o=this._stream)?void 0:o.audioTrack)?void 0:s.captureSessionId};this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),this._firstAudioFrameTimer=window.setTimeout((function(){reportFirstFrameSendError("audio",h._handler,h._stream,h._monitor),h.stopSendFrame("audio","timeout"),h._firstAudioFrameInterval&&window.clearInterval(h._firstAudioFrameInterval)}),this._timeout),this.logger.info("rtcFirstFrameSend",JSON.stringify(R)),null==(l=this._monitor)||l.report("rtc_first_frame",R),this._watchForFirstAudioFrameSend(),this._audioFirstFrameState=1,this._login=!0,this._publisher=!0,this._publish=!0,this._unMuteAudio=!0,this._pushAudio||(this._enableAudio=!0)}else if("video"===e){this._videoEventSessionId++,this._currentVideoSend={startTime:Date.now(),eventSessionId:this._videoEventSessionId,type:t};var _={event_type:"begin_send",media_type:e,is_screen:!!(null==(c=this._stream)?void 0:c.isScreen),type:t,start:this._currentVideoSend.startTime,event_session_id:this._videoEventSessionId,vendor_mode:(null==(d=this._stream)?void 0:d.vendorCode)||0,pc_session_id:(null==(u=this._stream)?void 0:u.pcSessionId)||(null==(U=this._handler)?void 0:U.peerConnectionId),capture_session_id:null==(p=null==(F=this._stream)?void 0:F.videoTrack)?void 0:p.captureSessionId};this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),this._firstVideoFrameTimer=window.setTimeout((function(){reportFirstFrameSendError("video",h._handler,h._stream,h._monitor),h.stopSendFrame("video","timeout"),h._firstVideoFrameInterval&&window.clearInterval(h._firstVideoFrameInterval)}),this._timeout),this._watchForFirstVideoFrameSend(),this.logger.info("rtcFirstFrameSend",JSON.stringify(_)),null==(Q=this._monitor)||Q.report("rtc_first_frame",_),this._videoFirstFrameState=1,this._login=!0,this._publisher=!0,this._publish=!0,this._unMuteVideo=!0,this._pushVideo||(this._enableVideo=!0)}}},{key:"stopSendFrame",value:function(e,t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S;if("audio"===e){if(1!==this._audioFirstFrameState)return;var B={event_type:"sent_end",media_type:e,is_screen:!!(null==(n=this._stream)?void 0:n.isScreen),start:null==(r=this._currentAudioSend)?void 0:r.startTime,reason:t,result:!1,event_session_id:this._audioEventSessionId,type:null==(i=this._currentAudioSend)?void 0:i.type,vendor_mode:(null==(a=this._stream)?void 0:a.vendorCode)||0,pc_session_id:(null==(o=this._stream)?void 0:o.pcSessionId)||(null==(s=this._handler)?void 0:s.peerConnectionId),capture_session_id:null==(c=null==(l=this._stream)?void 0:l.audioTrack)?void 0:c.captureSessionId};this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),delete this._currentAudioSend,this.logger.info("rtcFirstFrameSend",JSON.stringify(B)),null==(d=this._monitor)||d.report("rtc_first_frame",B),this._audioFirstFrameState=2}else if("video"===e){if(1!==this._videoFirstFrameState)return;var m={event_type:"sent_end",media_type:e,start:null==(u=this._currentVideoSend)?void 0:u.startTime,is_screen:!!(null==(U=this._stream)?void 0:U.isScreen),reason:t,result:!1,event_session_id:this._videoEventSessionId,type:null==(F=this._currentVideoSend)?void 0:F.type,vendor_mode:(null==(p=this._stream)?void 0:p.vendorCode)||0,pc_session_id:(null==(Q=this._stream)?void 0:Q.pcSessionId)||(null==(h=this._handler)?void 0:h.peerConnectionId),capture_session_id:null==(_=null==(R=this._stream)?void 0:R.videoTrack)?void 0:_.captureSessionId};this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),delete this._currentVideoSend,this.logger.info("rtcFirstFrameSend",JSON.stringify(m)),null==(S=this._monitor)||S.report("rtc_first_frame",m),this._videoFirstFrameState=2}}},{key:"sendFrameFinish",value:function(e){var t,n,r,i,a,o,s,l,c,d,u,U,F,p;if("audio"===e){if(1!==this._audioFirstFrameState)return;if(!this._currentAudioSend)return;var Q=this._currentAudioSend,h=Q.type,R=Q.startTime,_={event_type:"sent_end",media_type:e,is_screen:!!(null==(t=this._stream)?void 0:t.isScreen),start:R,result:!0,event_session_id:this._audioEventSessionId,type:h,vendor_mode:(null==(n=this._stream)?void 0:n.vendorCode)||0,pc_session_id:(null==(r=this._stream)?void 0:r.pcSessionId)||(null==(i=this._handler)?void 0:i.peerConnectionId),capture_session_id:null==(o=null==(a=this._stream)?void 0:a.audioTrack)?void 0:o.captureSessionId};delete this._currentAudioSend,this._firstAudioFrameTimer&&window.clearTimeout(this._firstAudioFrameTimer),this.logger.info("rtcFirstFrameSend",JSON.stringify(_)),null==(s=this._monitor)||s.report("rtc_first_frame",_),this._audioFirstFrameState=3}else if("video"===e){if(1!==this._videoFirstFrameState)return;if(!this._currentVideoSend)return;var S=this._currentVideoSend,B=S.type,m=S.startTime,f={event_type:"sent_end",media_type:e,is_screen:!!(null==(l=this._stream)?void 0:l.isScreen),start:m,result:!0,event_session_id:this._videoEventSessionId,type:B,vendor_mode:(null==(c=this._stream)?void 0:c.vendorCode)||0,pc_session_id:(null==(d=this._stream)?void 0:d.pcSessionId)||(null==(u=this._handler)?void 0:u.peerConnectionId),capture_session_id:null==(F=null==(U=this._stream)?void 0:U.videoTrack)?void 0:F.captureSessionId};delete this._currentVideoSend,this._firstVideoFrameTimer&&window.clearTimeout(this._firstVideoFrameTimer),this.logger.info("rtcFirstFrameSend",JSON.stringify(f)),null==(p=this._monitor)||p.report("rtc_first_frame",f),this._videoFirstFrameState=3}}},{key:"setLogin",value:function(e){var t,n;this._login!==e&&(this._login=e,e&&((null==(t=this._stream)?void 0:t.videoTrack)&&this._stream.pubVideo&&this.beginSendFrame("video","login"),(null==(n=this._stream)?void 0:n.audioTrack)&&this._stream.pubAudio&&this.beginSendFrame("audio","login")),!e&&this._audioSending&&this.stopSendFrame("audio","leave_room"),!e&&this._videoSending&&this.stopSendFrame("video","leave_room"))}},{key:"setPublish",value:function(e){var t,n;this._publish!==e&&(this._publish=e,e&&((null==(t=this._stream)?void 0:t.videoTrack)&&this._stream.pubVideo&&this.beginSendFrame("video","publish"),(null==(n=this._stream)?void 0:n.audioTrack)&&this._stream.pubAudio&&this.beginSendFrame("audio","publish")),!e&&this._audioSending&&this.stopSendFrame("audio","unpublish"),!e&&this._videoSending&&this.stopSendFrame("video","unpublish"))}},{key:"setUnmuteAudio",value:function(e){var t;this._unMuteAudio!==e&&(this._unMuteAudio=e,(null==(t=this._stream)?void 0:t.audioHasCapture)&&(e&&this.beginSendFrame("audio","unmute"),!e&&this._audioSending&&this.stopSendFrame("audio","mute")))}},{key:"setEnableAudio",value:function(e){var t;this._enableAudio!==e&&(null==(t=this._stream)?void 0:t.pubAudio)&&(this._enableAudio=e,e&&this.beginSendFrame("audio","enable"),!e&&this._audioSending&&this.stopSendFrame("audio","disable"))}},{key:"setUnmuteVideo",value:function(e){var t;this._unMuteVideo!==e&&(this._unMuteVideo=e,(null==(t=this._stream)?void 0:t.videoHasCapture)&&(e&&this.beginSendFrame("video","unmute"),!e&&this._videoSending&&this.stopSendFrame("video","mute")))}},{key:"setEnableVideo",value:function(e){var t;this._enableVideo!==e&&(null==(t=this._stream)?void 0:t.pubVideo)&&(this._enableVideo=e,e&&this.beginSendFrame("video","enable"),!e&&this._videoSending&&this.stopSendFrame("video","disable"))}},{key:"setPushAudio",value:function(e){this._pushAudio!==e&&(this._pushAudio=e,e&&this.beginSendFrame("audio","push"),!e&&this._audioSending&&this.stopSendFrame("audio","stop_push"))}},{key:"setPushVideo",value:function(e){this._pushVideo!==e&&(this._pushVideo=e,e&&this.beginSendFrame("video","push"),!e&&this._videoSending&&this.stopSendFrame("video","stop_push"))}},{key:"setAutoPublish",value:function(e){this._autoPublish=e}},{key:"setPublisher",value:function(e){this._publisher!==e&&(this._publisher=e,!e&&this._audioSending&&this.stopSendFrame("audio","audience"),!e&&this._videoSending&&this.stopSendFrame("video","audience"))}},{key:"setDisconnect",value:function(){this._audioSending&&this.stopSendFrame("audio","connection_lost"),this._videoSending&&this.stopSendFrame("video","connection_lost"),this.reset()}},{key:"setTimeout",value:function(e){this._timeout=e}},{key:"setPCSessionId",value:function(e){this._pcSessionId=e}},{key:"setHandler",value:function(e){this._handler=e}},{key:"_getFirstVideoFrameStats",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null==(n=null==(t=this._stream)?void 0:t.videoTrack)?void 0:n.preprocessingTrack,l=null==(i=null==(r=this._stream)?void 0:r.videoTransceiver)?void 0:i.sender,!(null==(a=this._handler)?void 0:a.pc)||!s){e.next=5;break}return e.next=4,getStats$1(null==(o=this._handler)?void 0:o.pc,s,!0,l);case 4:return e.abrupt("return",e.sent.filter((function(e){return"outbound-rtp"===e.type})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_getFirstAudioFrameStats",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null==(n=null==(t=this._stream)?void 0:t.audioTrack)?void 0:n.preprocessingTrack,l=null==(i=null==(r=this._stream)?void 0:r.audioTransceiver)?void 0:i.sender,!(null==(a=this._handler)?void 0:a.pc)||!s){e.next=5;break}return e.next=4,getStats$1(null==(o=this._handler)?void 0:o.pc,s,!0,l);case 4:return e.abrupt("return",e.sent.find((function(e){return"outbound-rtp"===e.type})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"_watchForFirstVideoFrameSend",value:function(){var e=this,t=-1,n=-1;this._firstVideoFrameInterval&&window.clearInterval(this._firstVideoFrameInterval),this._firstVideoFrameInterval=window.setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function r(){var i,a,o;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e._getFirstVideoFrameStats();case 2:if(i=r.sent,a=0,o=0,null==i||i.map((function(e){a+=e.framesSent,o+=e.packetsSent})),!(i&&i.length>0&&(a>t||o>n))){r.next=8;break}if(-1!==t||-1!==n){r.next=7;break}return r.abrupt("return",(t=a,void(n=o)));case 7:e.sendFrameFinish("video"),window.clearInterval(e._firstVideoFrameInterval);case 8:case"end":return r.stop()}}),r)}))),100)}},{key:"_watchForFirstAudioFrameSend",value:function(){var e=this,t=-1;this._firstAudioFrameInterval&&window.clearInterval(this._firstAudioFrameInterval),this._firstAudioFrameInterval=window.setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function n(){var r;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e._getFirstAudioFrameStats();case 2:if(!((r=n.sent)&&r.packetsSent>t)){n.next=7;break}if(-1!==t){n.next=6;break}return n.abrupt("return",void(t=r.packetsSent));case 6:e.sendFrameFinish("audio"),window.clearInterval(e._firstAudioFrameInterval);case 7:case"end":return n.stop()}}),n)}))),100)}},{key:"reset",value:function(){this._login=!1,this._publisher=!1,this._unMuteAudio=!1,this._enableAudio=!1,this._unMuteVideo=!1,this._enableVideo=!1,this._audioExternal=!1,this._pushAudio=!1,this._videoExternal=!1,this._pushVideo=!1,this._autoPublish=!1,this._publish=!1,this._audioFirstFrameState=0,this._videoFirstFrameState=0,this._currentAudioSend={startTime:0,eventSessionId:0,type:"login"},this._currentVideoSend={startTime:0,eventSessionId:0,type:"login"},window.clearTimeout(this._firstAudioFrameTimer),window.clearTimeout(this._firstVideoFrameTimer),window.clearInterval(this._firstAudioFrameInterval),window.clearInterval(this._firstVideoFrameInterval)}},{key:"destroy",value:function(){this.reset(),delete this._stream,delete this._handler}},{key:"_audioSending",get:function(){return 1===this._audioFirstFrameState}},{key:"_videoSending",get:function(){return 1===this._videoFirstFrameState}}]);var e,t}(),CONFIG={audio:{delay:1200,stallRadio:.3},video:{delay:1200,stallRadio:.6},screen_audio:{delay:1600,stallRadio:.8},screen_video:{delay:1600,stallRadio:.8}},NetworkQualityManager=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"_preUplinkStats",new Map),__publicField(this,"_preDownlinkStats",new Map),__publicField(this,"_timer"),__publicField(this,"_delayTimer"),__publicField(this,"_msc"),__publicField(this,"reportor")}),[{key:"updateUplinkStats",value:function(e,t){var n=e.audioStats,r=e.videoStats,i=e.isScreen;if(n.sendKBitrate>0&&n.rtt){var a=i?"screen_audio":"audio",o=n.rtt,s=n._fractionLost,l=n._retransmittedRate,c=this._getQosLevel(o,s||0,l||0),d=this._preUplinkStats.get(a)||[c];this._preUplinkStats.set(a,[].concat(_toConsumableArray(d),[c]).slice(-2))}if(r.sentKBitrate>0&&r.rtt){var u=i?"screen_video":"video",U=r._fractionLost,F=r.rtt,p=r._sendBandWidth,Q=r._retransmittedRate;0===p&&(U=Math.max(.65,U));var h=this._getQosLevel(F,U||0,Q||0),R=this._getUplinkVideoQoE(e,t),_=this._getVideoUplinkNetworkQuality(h,R),S=this._preUplinkStats.get(u)||[_];this._preUplinkStats.set(u,[].concat(_toConsumableArray(S),[_]).slice(-2))}this._startNetworkQualityReport()}},{key:"updateDownlinkStats",value:function(e,t){if(t){var n,r,i=this._getStreamActiveState(t),a=i.audioActive,o=i.videoActive,s=e.audioStats,l=e.videoStats,c=e.isScreen,d=e.userId,u=!0,U=!0;if(a)if(0===s.receivedKBitrate)u=!1;else{var F=s.rtt,p=s.audioLossRate,Q=s.stallDuration,h=s.statsInterval,R=s.e2eDelay,_=Q/h,S=c?"screen_audio":"audio",B=this._getQosLevel(F,p||0,l._retransmittedRate||0),m=this._getDownlinkQoE(S,_,R);n=this._getNetworkQuality(B,m)}if(o)if(0===l.receivedKBitrate||0===l.rtt)U=!1;else{var f=l.rtt,E=l.videoLossRate,v=l.stallDuration,y=l.statsInterval,g=l.e2eDelay,T=l._retransmittedRate,V=v/y,k=c?"screen_video":"video",N=this._getQosLevel(f,E||0,T||0),b=this._getDownlinkQoE(k,V,g);r=this._getNetworkQuality(N,b)}var C="".concat(d).concat(c?"_screen":"");if(u||U){var J=n&&r?Math.ceil((n+r)/2):n||r;if(J){var W=this._preDownlinkStats.get(C)||[J];this._preDownlinkStats.set(C,[].concat(_toConsumableArray(W),[J]).slice(-2)),this._startNetworkQualityReport()}}else this._preDownlinkStats.delete(C)}}},{key:"setMSC",value:function(e){this._msc=e}},{key:"destroy",value:function(){this._timer&&(window.clearInterval(this._timer),delete this._timer),this._delayTimer&&(window.clearTimeout(this._delayTimer),delete this._delayTimer),this._preUplinkStats.clear(),this._preDownlinkStats.clear()}},{key:"_startNetworkQualityReport",value:function(){var e=this;this._delayTimer||this._timer||(this._preUplinkStats.size>0||this._preDownlinkStats.size>0)&&(this._delayTimer=window.setTimeout((function(){delete e._delayTimer,e._reportNetworkQuality(),e._timer=window.setInterval((function(){e._reportNetworkQuality()}),2e3)}),300))}},{key:"_reportNetworkQuality",value:function(){var e,t,n,r,i=this;if(["connected","connecting"].includes(null==(t=null==(e=this._msc)?void 0:e.handler)?void 0:t.getConnectionState())){var a=this._getBetterQualityAndRemoveOldest("audio","up"),o=this._getBetterQualityAndRemoveOldest("video","up");n=a&&o?Math.ceil((a+o)/2):a||o||this._getBetterQualityAndRemoveOldest("screen_video","up")||this._getBetterQualityAndRemoveOldest("screen_audio","up")||NetworkQuality$1.EXCELLENT;var s=Array.from(this._preDownlinkStats.keys()).map((function(e){return i._getBetterQualityAndRemoveOldest(e,"down")})).filter((function(e){return e}));r=Math.ceil(s.reduce((function(e,t){return t+e}),0)/s.length)||NetworkQuality$1.UNKNOWN}else n=r=NetworkQuality$1.DOWN;navigator.onLine||(n=NetworkQuality$1.DOWN,r=NetworkQuality$1.DOWN),"function"==typeof this.reportor&&this.reportor(n,r)}},{key:"_getNetworkQuality",value:function(e,t){return 1===t?Math.max(e-2,1):2===t?e:Math.min(e+1,5)}},{key:"_getVideoUplinkNetworkQuality",value:function(e,t){return 1===t||0===t?e:2===t?Math.min(e+1,5):Math.min(e+2,5)}},{key:"_getQosLevel",value:function(e,t,n){var r;return r=(!e||e<=250)&&t<=.15?1:(!e||e<=500)&&t<=.3?2:(!e||e<=750)&&t<=.45?3:(!e||e<=1e3)&&t<=.6?4:5,n>.5?r=Math.max(r,4):n>.35?r=Math.max(r,3):n>.15&&(r=Math.max(r,2)),r}},{key:"_getUplinkQoE",value:function(e,t){var n=0;switch(e){case"audio":case"video":n=t<.05?1:t<.1?2:3;break;case"screen_video":case"screen_audio":n=t<.04?1:t<.08?2:3}return n}},{key:"_getUplinkVideoQoE",value:function(e,t){var n,r=(null==(n=null==e?void 0:e.videoStats)?void 0:n.rid)||"0";if(!t)return 0;var i=t.pubAttributes.videoDescriptions[r],a=e.videoStats,o=a.encodedFrameWidth*a.encodedFrameHeight/(i.width*i.height),s=a.sentFrameRate/i.framerate,l=0,c=0;return"number"!=typeof o||Number.isNaN(o)||(l=o>=.9?1:o<.9&&o>=.8?2:3),"number"!=typeof s||Number.isNaN(s)||(c=s>=.8?1:s<.8&&s>=.6?2:3),Math.max(0,l,c)}},{key:"_getDownlinkQoE",value:function(e,t,n){var r=CONFIG[e];return t>r.stallRadio||n>r.delay||t>r.stallRadio/2&&n>r.delay/2?3:(t>r.stallRadio/2||r.delay,2)}},{key:"_getBetterQualityAndRemoveOldest",value:function(e,t){var n=NetworkQuality$1.UNKNOWN,r="up"===t?this._preUplinkStats:this._preDownlinkStats,i=r.get(e);if(i){var a=i.filter((function(e){return e}));a.length>0&&(n=Math.min.apply(Math,_toConsumableArray(a))),i.shift(),0===i.length&&r.delete(e)}return n}},{key:"_getStreamActiveState",value:function(e){var t=e.subMediaType,n=e._attributes,r=e.subVideo;return{audioActive:e.subAudio&&audioInMediaType(t)&&n.localaudio&&n.audiostream,videoActive:r&&videoInMediaType(t)&&n.localvideo&&n.videostream}}}])}(),VideoSizeObserver=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_timer"),__publicField(this,"_remoteVideoSizeCache",{}),__publicField(this,"_remoteScreenSizeCache",{}),__publicField(this,"onchange"),this._room=t,this._start()}),[{key:"destroy",value:function(){this._timer&&(window.clearInterval(this._timer),delete this._timer),this._remoteVideoSizeCache={},this._remoteScreenSizeCache={}}},{key:"_start",value:function(){var e=this;this._timer||(this._timer=window.setInterval((function(){var t={},n={};e._room.remoteStreams.forEach((function(r,i){r.forEach((function(r){var a,o,s,l=null==(a=r.videoTrack)?void 0:a.preprocessingTrack;if(l){var c=r.isScreen?e._remoteScreenSizeCache:e._remoteVideoSizeCache,d=c[i]||{},u=d.width,U=void 0===u?0:u,F=d.height,p=void 0===F?0:F,Q=0,h=0;if(isFirefox){var R=null==(s=null==(o=null==r?void 0:r.videoTrack)?void 0:o.videoPlayer)?void 0:s.domElement;R&&(Q=R.videoWidth,h=R.videoHeight)}else{var _=l.getSettings();Q=_.width||0,h=_.height||0}p===h&&U===Q||"function"==typeof e.onchange&&e.onchange(i,r.isScreen,Q,h),delete c[i],(r.isScreen?n:t)[i]={width:Q,height:h}}}))})),Object.keys(e._remoteVideoSizeCache).forEach((function(t){"function"==typeof e.onchange&&e.onchange(t,!1,0,0)})),Object.keys(e._remoteScreenSizeCache).forEach((function(t){"function"==typeof e.onchange&&e.onchange(t,!0,0,0)})),e._remoteVideoSizeCache=t,e._remoteScreenSizeCache=n}),1e3))}}])}(),SUBTITLE_PREFIX=Array.from((new TextEncoder).encode("subt")),ERROR_CODE_MAP={1:ErrorCode.SUBTITLE_ERR_POSTPROCESS,2:ErrorCode.SUBTITLE_ERR_CONNECTION_ERROR,3:ErrorCode.SUBTITLE_ERR_PROCESS_ERROR},logger$3=new Logger$1$1("SubtitleTool",1),checkSourceLanguage=function(e){var t;if(e.extraInfo)try{var n=JSON.parse(e.extraInfo);n.source_language&&["zh","en","ja"].indexOf(n.source_language)}catch(i){}else{var r=(null==(t=navigator.language)?void 0:t.substring(0,2))||"";["zh","en","ja"].indexOf(r)>-1&&(e.extraInfo=JSON.stringify({source_language:r}))}},_SubtitleTool2=function(){return _createClass$1((function e(t){var n,r,i;_classCallCheck$1(this,e),__publicField(this,"_taskId"),__publicField(this,"_appId"),__publicField(this,"_roomId"),__publicField(this,"_userId"),__publicField(this,"_sourceLanguage","zh"),__publicField(this,"_updating",!1),__publicField(this,"onEvent"),__publicField(this,"onMessage"),__publicField(this,"_preConfig"),__publicField(this,"_timer"),this._room=t,this._appId=null==(n=this._room._roomInfo)?void 0:n.appId,this._roomId=null==(r=this._room._roomInfo)?void 0:r.roomId;var a=(null==(i=this._room._roomInfo)?void 0:i.userInfo)||{},o=a.userId,s=a.extraInfo;if(this._userId=o,s)try{var l=JSON.parse(s);l.source_language&&(this._sourceLanguage=l.source_language)}catch(c){}}),[{key:"start",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(logger$3.info("start","Invoke config: %o",t),checkEnum(t.mode,"mode",[SUBTITLE_MODE.ASR_ONLY,SUBTITLE_MODE.ASR_AND_TRANSLATION]),n=Array.isArray(t.targetLanguage)?t.targetLanguage:[t.targetLanguage||""],!(t.mode===SUBTITLE_MODE.ASR_AND_TRANSLATION&&n.findIndex((function(e){return-1===SUPPORT_LANG.indexOf(e)}))>-1)){e.next=4;break}throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid targetLanguage.");case 4:if(!this._taskId){e.next=6;break}throw new SDKError(ErrorCode.SUBTITLE_ALREADY_ON,"Already turned on subtitle");case 6:return this._preConfig={targetLanguage:n,mode:t.mode},this._taskId=(Date.now().toString()+this._roomId+this._userId).substring(0,20),e.next=10,this._sendSubtitleSignalingWithRetry(t,this._taskId);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"update",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(logger$3.info("update","Invoke config: %o",t),this._taskId){e.next=2;break}throw new SDKError(ErrorCode.SUBTITLE_NOT_TURNED_ON,"Start subtitle first.");case 2:return this._sourceLanguage=t.sourceLanguage,this._updating=!0,e.prev=3,e.next=6,this._room.subtitleControlMessage(this._genChangeSubtitleLanguageSignaling(t,this._taskId));case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),this._updating=!1,e.t0;case 11:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return n.apply(this,arguments)})},{key:"stop",value:function(){var e=this;logger$3.info("stop","Invoke"),this._taskId&&this._room.subtitleControlMessage({type:"subtitle",action:"stopped",appId:this._appId,roomId:this._roomId,userId:this._userId,taskId:this._taskId}).finally((function(){var t;delete e._taskId,null==(t=e.onEvent)||t.call(e,{event:SubtitleEventType.STOPPED}),e._clearTimer()}))}},{key:"reconnect",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._taskId&&this._preConfig,!e.t0){e.next=6;break}return e.next=4,this._room.subtitleControlMessage({type:"subtitle",action:"stopped",appId:this._appId,roomId:this._roomId,userId:this._userId,taskId:this._taskId});case 4:delete this._taskId,this.start(this._preConfig);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return this._preConfig}},{key:"destroy",value:function(){logger$3.info("destroy","Invoke"),this.stop(),delete this._preConfig,delete this._taskId}},{key:"onResult",value:function(e){var t,n,r,i=e.body,a=i.error,o=i.errorMessage,s=i.eventType;if(0!==a){var l=new SDKError(ERROR_CODE_MAP[a]||ErrorCode.SUBTITLE_ERR_UNKNOWN,o||"");null==(t=this.onEvent)||t.call(this,{event:SubtitleEventType.ERROR,errorCode:l.code,errorMessage:l.message}),this._clearTimer()}else"SubtitleStarted"===s?(null==(n=this.onEvent)||n.call(this,{event:SubtitleEventType.STARTED}),this._clearTimer()):this._updating&&"LanguageChanged"===s&&(this._updating=!1,null==(r=this.onEvent)||r.call(this,{event:SubtitleEventType.UPDATED}))}},{key:"onMessageRecv",value:function(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this._taskId&&this._preConfig){var n=parseSubtitleMessage(e);if(!n||0===n.length)return!1;if(this._taskId&&this._preConfig){var r=this._preConfig,i=r.mode,a=r.targetLanguage,o=[];n.forEach((function(e){if(i===SUBTITLE_MODE.ASR_ONLY)e.mode===i&&o.push(e);else if(i===SUBTITLE_MODE.ASR_AND_TRANSLATION){var t=a.includes(e.language);(t||e.mode===SUBTITLE_MODE.ASR_ONLY)&&o.push(e),e.mode===SUBTITLE_MODE.ASR_ONLY&&t&&o.push(_objectSpread2(_objectSpread2({},e),{},{mode:SUBTITLE_MODE.ASR_AND_TRANSLATION}))}})),o.length>0&&(null==(t=this.onMessage)||t.call(this,o))}return!0}return!1}},{key:"_sendSubtitleSignalingWithRetry",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i=this,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:0,e.next=3,this._room.subtitleControlMessage(this._genSubtitleSignaling(t,n));case 3:this._timer=self.setTimeout((function(){var e;2===r?(null==(e=i.onEvent)||e.call(i,{event:SubtitleEventType.ERROR,errorCode:ErrorCode.TIME_OUT,errorMessage:"start subtitle timeout."}),delete i._timer,i.stop()):i._sendSubtitleSignalingWithRetry(t,n,r+1)}),_SubtitleTool2.retryIntervel);case 4:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"_genSubtitleSignaling",value:function(e,t){return{taskId:t,type:"subtitle",action:"started",roomId:this._roomId,appId:this._appId,userId:this._userId,subtitleMeta:{subtitleConfig:{mode:e.mode,usersConfig:[{userId:this._userId,targetLanguages:Array.isArray(e.targetLanguage)?e.targetLanguage:[e.targetLanguage||""]}]},vendorConfig:{type:0}}}}},{key:"_genChangeSubtitleLanguageSignaling",value:function(e,t){return{taskId:t,type:"subtitle",action:"subtitleUpdated",roomId:this._roomId,appId:this._appId,userId:this._userId,subtitleMeta:{protocol:1,languageConfig:{sourceLanguages:[{userId:this._userId,languageCode:[e.sourceLanguage]}]}}}}},{key:"_clearTimer",value:function(){this._timer&&(self.clearTimeout(this._timer),delete this._timer)}}]);var e,t,n,r}(),SubtitleTool=_SubtitleTool2;__publicField(SubtitleTool,"retryIntervel",3e4);var parseSubtitleMessage=function(e){var t=e.message;if(t instanceof ArrayBuffer&&t.byteLength>8)try{var n=new DataView(t,0),r=0;if(SUBTITLE_PREFIX.every((function(e){return n.getUint8(r++)===e}))){var i=n.getUint32(r);if(r+=4,i===n.byteLength-8){var a=Utils.ab2str(t.slice(8)),o=JSON.parse(a),s=o.data;if("subtitle"===o.type)return s}}}catch(l){}return!1},SUPPORT_LANG=["zh","zh-Hant","tn","vi","iu","it","id","hi","en","ho","he","es","el","uk","ur","tk","tr","ti","ty","tl","to","th","ta","te","sl","sk","ss","eo","sm","sg","st","sv","ja","tw","qu","pt","pa","no","nb","nr","my","bn","mn","mh","mk","ml","mr","ms","lu","ro","lt","lv","lo","kj","hr","kn","ki","cs","ca","nl","ko","ht","gu","ka","kl","km","lg","kg","fi","fj","fr","ru","ng","de","tt","da","ts","cv","fa","bs","pl","bi","nd","ba","bg","az","ar","af","sq","ab","os","ee","et","ay","lzh","am","ckb","cy","gl","ha","hy","ig","kmr","ln","nso","ny","om","sn","so","sr","sw","xh","yo","zu"],__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc$3(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp$3(t,n,a),a},ForwardStreamManager=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_forwardDstRooms",new Map),__publicField(this,"forwardStreamState","stopped"),__publicField(this,"_monitor"),this._room=t,this._monitor=getMonitor(this._room.id)}),[{key:"startForwardStream2Rooms",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("running"!==this.forwardStreamState&&"paused"!==this.forwardStreamState){e.next=2;break}throw new SDKError(ErrorCode.UNEXPECTED_INVOKE_FORWARD_STREAM,"should not invoke startForwardStreamToRooms in state: ".concat(this.forwardStreamState));case 2:return e.next=4,this._sendForwardStreamSignaling("start",this._room.roomInfo.roomId,t);case 4:return n=e.sent,this._updateDstRooms(t,n),r=this._transformForwardStreamResult(n),e.abrupt("return",(this.forwardStreamState="running",r));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"updateForwardStream2Rooms",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("stopped"!==this.forwardStreamState){e.next=2;break}throw new SDKError(ErrorCode.UNEXPECTED_INVOKE_FORWARD_STREAM,"should not invoke updateForwardStreamToRooms in state: ".concat(this.forwardStreamState));case 2:if(n=this._mockForwardStreamResult(t),e.t0="running"===this.forwardStreamState,!e.t0){e.next=8;break}return e.next=7,this._sendForwardStreamSignaling("update",this._room._roomInfo.roomId,t);case 7:n=e.sent;case 8:return this._updateDstRooms(t,n),e.abrupt("return",this._transformForwardStreamResult(n));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"stopForwardStream2Rooms",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("stopped"!==this.forwardStreamState){e.next=2;break}throw new SDKError(ErrorCode.UNEXPECTED_INVOKE_FORWARD_STREAM,"should not invoke stopForwardStreamToRooms in state: ".concat(this.forwardStreamState));case 2:if(t=this._mockForwardStreamResult([]),e.t0="running"===this.forwardStreamState,!e.t0){e.next=8;break}return e.next=7,this._sendForwardStreamSignaling("stop",this._room._roomInfo.roomId);case 7:t=e.sent;case 8:if(this._updateDstRooms([],t),!(_toConsumableArray(this._forwardDstRooms.keys()).length>0)){e.next=11;break}throw new SDKError(ErrorCode.UNEXPECTED_ERROR,"stopforwardstream failed: ".concat(JSON.stringify(t)));case 11:return n=this._transformForwardStreamResult(t),e.abrupt("return",(this.forwardStreamState="stopped",n));case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"pauseForwardStream2AllRooms",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("paused"!==this.forwardStreamState&&"stopped"!==this.forwardStreamState){e.next=2;break}throw new SDKError(ErrorCode.UNEXPECTED_INVOKE_FORWARD_STREAM,"should not invoke pauseForwardStreamToAllRooms in state: ".concat(this.forwardStreamState));case 2:return e.next=4,this._sendForwardStreamSignaling("stop",this._room._roomInfo.roomId);case 4:return t=e.sent,n=this._transformForwardStreamResult(t),e.abrupt("return",(this.forwardStreamState="paused",n));case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"resumeForwardStream2AllRooms",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>0&&void 0!==i[0]&&i[0]||!["running","stopped"].includes(this.forwardStreamState)){e.next=3;break}throw new SDKError(ErrorCode.UNEXPECTED_INVOKE_FORWARD_STREAM,"should not invoke resumeForwardStreamToAllRooms in state: ".concat(this.forwardStreamState));case 3:return t=this._getDstRooms(),e.next=6,this._sendForwardStreamSignaling("start",this._room._roomInfo.roomId,t);case 6:return n=e.sent,this._updateDstRooms(t,n),r=this._transformForwardStreamResult(n),e.abrupt("return",(this.forwardStreamState="running",r));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"resumeFromReconnect",value:function(){var e=this;"running"===this.forwardStreamState&&this.resumeForwardStream2AllRooms(!0).then((function(t){t.forEach((function(t){t.state===ForwardStreamState.FORWARD_STREAM_STATE_FAILURE&&e._room.safeEmit(RoomEvent.ON_FORWARD_STREAM_ERROR,t)}))}))}},{key:"onForwardDstRoomUserKick",value:function(e){var t=[{dstRoomId:e.dstRoomId,code:200,forwardStreamType:"stop"}];this._updateDstRooms([],t),this._room.safeEmit(RoomEvent.ON_FORWARD_STREAM_ERROR,{roomId:e.dstRoomId,state:ForwardStreamState.FORWARD_STREAM_STATE_FAILURE,error:ForwardStreamError.FORWARD_STREAM_ERROR_REMOTE_KICKED})}},{key:"clear",value:function(){this._forwardDstRooms.clear(),this.forwardStreamState="stopped"}},{key:"_mockForwardStreamResult",value:function(e){var t=this,n=[];return this._forwardDstRooms.forEach((function(e,t){n.push({dstRoomId:t,forwardStreamType:"stop",code:200})})),e.forEach((function(e){var r,i=n.findIndex((function(t){return t.dstRoomId===e.roomId}));-1===i?n.push({dstRoomId:e.roomId,forwardStreamType:"start",code:e.roomId===(null==(r=t._room.roomInfo)?void 0:r.roomId)?400:200}):n[i].forwardStreamType="update"})),n}},{key:"_transformForwardStreamResult",value:function(e){e||(e=[]);var t,n=[],r=_createForOfIteratorHelper$1(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.dstRoomId,o=i.code,s={roomId:a,state:ForwardStreamState.FORWARD_STREAM_STATE_SUCCESS,error:ForwardStreamError.FORWARD_STREAM_ERROR_OK};200===o||(400===o?(s.state=ForwardStreamState.FORWARD_STREAM_STATE_FAILURE,s.error=ForwardStreamError.FORWARD_STREAM_ERROR_REMOTE_KICKED):o>=700&&o<800?(s.state=ForwardStreamState.FORWARD_STREAM_STATE_FAILURE,s.error=ForwardStreamError.FORWARD_STREAM_ERROR_INVALID_TOKEN):(s.state=ForwardStreamState.FORWARD_STREAM_STATE_FAILURE,s.error=ForwardStreamError.FORWARD_STREAM_ERROR_RESPONSE)),n.push(s)}}catch(err2){r.e(err2)}finally{r.f()}return n}},{key:"_updateDstRooms",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===(null==n?void 0:n.length)&&this._forwardDstRooms.clear(),n.forEach((function(n){var r=n.dstRoomId,i=n.code,a=n.forwardStreamType;if(200===i)if("stop"===a)t._forwardDstRooms.delete(r);else{var o,s=e.find((function(e){return e.roomId===r}));if(!s&&!t._forwardDstRooms.has(r))throw new SDKError(ErrorCode.UNEXPECTED_ERROR,"unknow roomid ".concat(r," in signaling return"));var l=null!==(o=t._forwardDstRooms.get(r))&&void 0!==o?o:{token:void 0};l=Object.assign(l,s),t._forwardDstRooms.set(r,l)}else t._forwardDstRooms.has(r)&&t._forwardDstRooms.delete(r)}))}},{key:"_getDstRooms",value:function(){var e=[];return this._forwardDstRooms.forEach((function(t,n){e.push({roomId:n,token:t.token})})),e}},{key:"_sendForwardStreamSignaling",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(genEventSessionId()),"stop"!==t&&(d=r.map((function(e){return e.roomId})),null==(i=this._monitor)||i.report("rtc_forward_stream",{type:"begin",dst_rooms:"{ ".concat(d.map((function(e){return'"'.concat(e,'"')})).join(",")," }"),event_session_id:c})),e.next=4,this._room._mediaServerClient.sendForwardStreamSignal(t,n,r);case 4:if(u=e.sent,U=[],200===(null==u?void 0:u.code)){e.next=8;break}throw"stop"!==t&&(null==r||r.forEach((function(e){U.push({dst_room_id:e.roomId,result:"server error ".concat(null==u?void 0:u.code)})})),null==(a=this._monitor)||a.report("rtc_forward_stream",{type:"end",dst_rooms:JSON.stringify(U),event_session_id:c})),new SDKError(ErrorCode.UNEXPECTED_ERROR,"server side internal error, error code: ".concat(u));case 8:return e.abrupt("return",("stop"!==t&&(null==(o=u.forwardStreamResults)||o.forEach((function(e){U.push({dst_room_id:e.dstRoomId,result:"dst room lost"})})),null==(s=u.forwardStreamResults)||s.forEach((function(e){var t=U.find((function(t){return t.dst_room_id===e.dstRoomId}));t&&(200===e.code?"update"===e.forwardStreamType?t.result="update":t.result="success":t.result="server error ".concat(e.code))})),null==(l=this._monitor)||l.report("rtc_forward_stream",{type:"end",dst_rooms:JSON.stringify(U),event_session_id:c})),u.forwardStreamResults));case 9:case"end":return e.stop()}}),e,this)}))),function(t,n,r){return e.apply(this,arguments)})}]);var e,t,n,r,i,a}();function withRoomId(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,i,a,o,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=s.length,a=new Array(i),o=0;o<i;o++)a[o]=s[o];if(!(null==(n=this._room._roomInfo)?void 0:n.roomId)){e.next=5;break}return e.next=4,r.apply(this,a);case 4:return e.abrupt("return",e.sent);case 5:throw new SDKError(ErrorCode.NOT_CONNECTED_YET,"error in ".concat(t,": try again after joined"));case 6:case"end":return e.stop()}}),e,this)}))),n}__decorateClass$3([withRoomId],ForwardStreamManager.prototype,"startForwardStream2Rooms",1),__decorateClass$3([withRoomId],ForwardStreamManager.prototype,"updateForwardStream2Rooms",1),__decorateClass$3([withRoomId],ForwardStreamManager.prototype,"stopForwardStream2Rooms",1),__decorateClass$3([withRoomId],ForwardStreamManager.prototype,"pauseForwardStream2AllRooms",1),__decorateClass$3([withRoomId],ForwardStreamManager.prototype,"resumeForwardStream2AllRooms",1);var virtualStreamAttributes={audiostream:!0,extaudio:!1,extvideo:!1,localaudio:!0,localvideo:!1,videoDescriptions:[],videostream:!1,publishTime:0},Room=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"id"),__publicField(_assertThisInitialized(r),"_mediaServerClient"),__publicField(_assertThisInitialized(r),"_localStream"),__publicField(_assertThisInitialized(r),"_localScreenStream"),__publicField(_assertThisInitialized(r),"_remoteUsers",new Map),__publicField(_assertThisInitialized(r),"_remoteStreams",new Map),__publicField(_assertThisInitialized(r),"_remoteStreamStreamIdUserIdMap",{}),__publicField(_assertThisInitialized(r),"_virtualStreams",[]),__publicField(_assertThisInitialized(r),"_context"),__publicField(_assertThisInitialized(r),"_sessionId"),__publicField(_assertThisInitialized(r),"_connectionLostTimer"),__publicField(_assertThisInitialized(r),"_serverConfig"),__publicField(_assertThisInitialized(r),"_roomConfig"),__publicField(_assertThisInitialized(r),"_roomInfo"),__publicField(_assertThisInitialized(r),"_userDuplicateLoginTimerMap",new Map),__publicField(_assertThisInitialized(r),"_networkQualityManager"),__publicField(_assertThisInitialized(r),"_videoSizeObserver"),__publicField(_assertThisInitialized(r),"_hasPublished",!1),__publicField(_assertThisInitialized(r),"_subtitleTool"),__publicField(_assertThisInitialized(r),"_csrcUserIdMap"),__publicField(_assertThisInitialized(r),"_publishOnDemandItem"),__publicField(_assertThisInitialized(r),"_onceTriggerBySignal",!1),__publicField(_assertThisInitialized(r),"_pubTransceiverReady",!1),__publicField(_assertThisInitialized(r),"_publishOnDemandBusy",!1),__publicField(_assertThisInitialized(r),"_monitor"),__publicField(_assertThisInitialized(r),"logger"),__publicField(_assertThisInitialized(r),"_forwardStreamManager"),r.id=n.id,r.logger=new Logger$1$1("Room",1,n.id),r.logger.info("constructor","invoke"),r._roomConfig=e,r._mediaServerClient=new MediaServerClient(n),r._networkQualityManager=new NetworkQualityManager,r._networkQualityManager.reportor=r._reportNetworkQuality.bind(_assertThisInitialized(r)),r._videoSizeObserver=new VideoSizeObserver(_assertThisInitialized(r)),r._videoSizeObserver.onchange=r._emitVideoSizeChange.bind(_assertThisInitialized(r)),r._context=n,r._csrcUserIdMap={},r._monitor=getMonitor(r.id),r._forwardStreamManager=new ForwardStreamManager(_assertThisInitialized(r)),r._addHandlerEventHandler(),r}return _inherits(t,e),_createClass$1(t,[{key:"hasScreenPublished",get:function(){var e;return null==(e=this._localScreenStream)?void 0:e.hasPublished}},{key:"hasPublished",get:function(){var e;return null==(e=this._localStream)?void 0:e.hasPublished}},{key:"connectionState",get:function(){return this._mediaServerClient.connectionState}},{key:"remoteUsers",get:function(){return this._remoteUsers}},{key:"remoteStreams",get:function(){return this._remoteStreams}},{key:"localStream",get:function(){return this._localStream}},{key:"localScreenStream",get:function(){return this._localScreenStream}},{key:"roomInfo",get:function(){return this._roomInfo}},{key:"roomConfig",set:function(e){this._roomConfig=e}},{key:"_addHandlerEventHandler",value:function(){var e,t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O=this;null==(e=this._mediaServerClient)||e.on(SignalEvent.ON_ADD_STREAM,this._onAddStream.bind(this)),null==(t=this._mediaServerClient)||t.on(SignalEvent.ON_ADD_STREAM_LIST,(function(e){Array.isArray(null==e?void 0:e.streamList)&&e.streamList.forEach((function(e){return O._onAddStream(e)}))})),null==(n=this._mediaServerClient)||n.on(SignalEvent.ON_REMOVE_STREAM,this._onRemoveStream.bind(this)),null==(r=this._mediaServerClient)||r.on(SignalEvent.ON_REMOVE_STREAM_LIST,(function(e){Array.isArray(null==e?void 0:e.streamList)&&e.streamList.forEach((function(e){return O._onRemoveStream(e)}))})),null==(i=this._mediaServerClient)||i.on(SignalEvent.USER_CONNECTION,this._onUserConnection.bind(this)),null==(a=this._mediaServerClient)||a.on(SignalEvent.USER_CONNECTION_LIST,(function(e){Array.isArray(null==e?void 0:e.userList)&&e.userList.forEach((function(e){return O._onUserConnection(e)}))})),null==(o=this._mediaServerClient)||o.on(SignalEvent.USER_DISCONNECTION,this._onUserDisconnection.bind(this)),null==(s=this._mediaServerClient)||s.on(SignalEvent.USER_DISCONNECTION_LIST,(function(e){Array.isArray(null==e?void 0:e.userList)&&e.userList.forEach((function(e){return O._onUserDisconnection(e)}))})),null==(l=this._mediaServerClient)||l.on(SignalEvent.ON_UPDATE_ROOM_ATTRIBUTES,this._onUpdateRoomAttributes.bind(this)),null==(c=this._mediaServerClient)||c.on(SignalEvent.ON_UPDATE_USER_ATTRIBUTES,this._onUpdateUserAttributes.bind(this)),null==(d=this._mediaServerClient)||d.on(SignalEvent.ON_UPDATE_STREAM_ATTRIBUTES,this._onUpdateStreamAttributes.bind(this)),null==(u=this._mediaServerClient)||u.on(SignalEvent.ON_PUSH_TRACK,this._onPushTrack.bind(this)),null==(U=this._mediaServerClient)||U.on(SignalEvent.ON_REMOVE_TRACK,this._onRemoveTrack.bind(this)),null==(F=this._mediaServerClient)||F.on(SignalEvent.ON_CUSTOM_MESSAGE,this._onCustomMessage.bind(this)),null==(p=this._mediaServerClient)||p.on(SignalEvent.USER_MESSAGE_RECEIVED,this._onUserMessageReceived.bind(this)),null==(Q=this._mediaServerClient)||Q.on(SignalEvent.USER_BINARY_MESSAGE_RECEIVED,this._onUserBinaryMessageReceived.bind(this)),null==(h=this._mediaServerClient)||h.on(SignalEvent.POST_PROCESSING_MESSAGE,this._onPostProcessingMessage.bind(this)),null==(R=this._mediaServerClient)||R.on(SignalEvent.ON_USER_TOKEN_WILL_EXPIRE,this._onUserTokenWillExpire.bind(this)),null==(_=this._mediaServerClient)||_.on(SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_WILL_EXPIRE,this._onUserTokePublishPrivilegeWillExpire.bind(this)),null==(S=this._mediaServerClient)||S.on(SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_DID_EXPIRED,this._onUserTokenPublishPrivilegeDidExpire.bind(this)),null==(B=this._mediaServerClient)||B.on(SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_WILL_EXPIRE,this._onUserTokeSubscribePrivilegeWillExpire.bind(this)),null==(m=this._mediaServerClient)||m.on(SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_DID_EXPIRED,this._onUserTokenSubscribePrivilegeDidExpire.bind(this)),null==(f=this._mediaServerClient)||f.on(SignalEvent.STREAM_CONTROL_MESSAGE,this._onStreamControlMessage.bind(this)),null==(E=this._mediaServerClient)||E.on(SignalEvent.ON_STREAM_FAILED,this._onStreamFailed.bind(this)),null==(v=this._mediaServerClient)||v.on(MediaServerSignalEvent.RSCP,(function(e,t){e.find((function(e){var t,n,r;return null==(r=null==e?void 0:e.StreamIds)?void 0:r.includes(null==(n=null==(t=O._localStream)?void 0:t.stream)?void 0:n.id)}))&&(t?O._pubTransceiverReady=!0:O._onceTriggerBySignal=!0,t&&O._onceTriggerBySignal||(O._publishOnDemandItem=e),O._pubTransceiverReady&&O._onPublishOnDemand())})),null==(y=this._mediaServerClient)||y.on(MediaServerSignalEvent.RTT,this._onRTT.bind(this)),null==(g=this._mediaServerClient)||g.on(MediaServerSignalEvent.SSC,this._onSSC.bind(this)),null==(T=this._mediaServerClient)||T.on(StateEvent.ON_CONNECTION_STATE_CHANGE,this._onConnectionStateChange.bind(this)),null==(V=this._mediaServerClient)||V.on(StateEvent.ON_VENDOR_CONNECTION_STATE_CHANGE,(function(e){return O.emit(StateEvent.ON_VENDOR_CONNECTION_STATE_CHANGE,e)})),null==(k=this._mediaServerClient)||k.on(SignalEvent.ON_SPEAKER_CHANGE,this._onMeetingSpeakerChange.bind(this)),null==(N=this._mediaServerClient)||N.on("onRemoteStreamStats",(function(e){O._networkQualityManager.updateDownlinkStats(e,O._findRemoteStreamByScreen(e.userId,e.isScreen)),getParameter("HIDDEN_STATS")||(e=getPublicStats(e)),O.emit(RoomEvent.ON_REMOTE_STREAM_STATS,e)})),null==(b=this._mediaServerClient)||b.on(RoomEvent.RESUBSCRIBE,(function(e){O.emit(RoomEvent.RESUBSCRIBE,e)})),null==(C=this._mediaServerClient)||C.on(RoomEvent.RECONNECT_FAILED,(function(){O.emit(RoomEvent.RECONNECT_FAILED)})),null==(J=this._mediaServerClient)||J.on("joinSuccess",this._onJoinSucc.bind(this)),null==(W=this._mediaServerClient)||W.on(SignalEvent.ON_FORWARD_DST_ROOM_USER_KICK,this._forwardStreamManager.onForwardDstRoomUserKick.bind(this._forwardStreamManager)),null==(D=this._mediaServerClient)||D.on(RoomEvent.ON_REJOIN_WITH_TCP,(function(){O.emit(RoomEvent.ON_REJOIN_WITH_TCP)})),null==(Z=this._mediaServerClient)||Z.on(RoomEvent.ON_ICE_CONNECT_WITH_TCP,(function(){O.emit(RoomEvent.ON_ICE_CONNECT_WITH_TCP)})),null==(M=this._mediaServerClient)||M.on(RoomEvent.PUB_RETRY,(function(e){O.emit(RoomEvent.PUB_RETRY,e)})),null==(I=this._mediaServerClient)||I.on(RoomEvent.SUB_RETRY,(function(e){O.emit(RoomEvent.SUB_RETRY,e)}))}},{key:"_onLocalStreamStats",value:function(e){var t=e.isScreen?this._localScreenStream:this.localStream;this._networkQualityManager.updateUplinkStats(e,t),getParameter("HIDDEN_STATS")||(e=getPublicStats(e)),this.emit(RoomEvent.ON_LOCAL_STREAM_STATS,e)}},{key:"_removeHandlerEventHandler",value:function(){var e;null==(e=this._mediaServerClient)||e.removeAllListeners()}},{key:"connect",value:(C=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setSessionId(),e.next=3,this._mediaServerClient.connect();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"join",value:(b=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a){var o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(o=this._monitor)||o.set({rtc_app_id:t,room_id:n,user_id:i.userId}),this.logger.info("join()"),this._mediaServerClient.setLiveControlMessage(a),this._roomInfo={appId:t,roomId:n,token:r,userInfo:i,roomProfile:this._roomConfig.roomProfileType},this.setSessionId(),e.prev=1,e.next=4,this._mediaServerClient.join(this._roomInfo);case 4:return l=e.sent,e.abrupt("return",((null==(s=l.roomAttributes)?void 0:s.multiChatMode)&&this._handleFFAudioTrack(),this._initSubtitleTool(),{users:l.clients,streams:l.streams}));case 8:if(e.prev=8,e.t0=e.catch(1),e.t0.code===ErrorCode.OPERATION_CANCEL){e.next=12;break}throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e,t,n,r,i){return b.apply(this,arguments)})},{key:"publishScreen",value:(N=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a){var o,s,l,c,d,u,U,F,p,Q,h,R;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("publishScreen()"),this._localScreenStream||(this._localScreenStream=new LocalStream(this._context),(null==(s=null==(o=this._mediaServerClient)?void 0:o.vendorConfig)?void 0:s.enableMultiVendor)&&(this._localScreenStream.pcSessionId=genUuid$1()),this._localScreenStream.isScreen=!0,this._mediaServerClient.handler&&(this._localScreenStream.observer=new SendFrameObserver(this._localScreenStream,this._mediaServerClient.handler))),p=!1,Q=!1,h=!1,R=!1,!this._localScreenStream.videoTrack&&n?(n instanceof CustomVideoLocalTrack&&(Q=!0),p=!0):this._localScreenStream.videoTrack&&!n&&(p=!1),!this._localScreenStream.audioTrack&&r?(r instanceof CustomAudioLocalTrack&&(R=!0),h=!0):this._localScreenStream.audioTrack&&!r&&(h=!1),this._localScreenStream.videoTrack=n,this._localScreenStream.audioTrack=r,this._localScreenStream.videoEncodeConfig=t,i&&(audioInMediaType(i)&&(this._localScreenStream.pubAudio=a===PubState.PUB),videoInMediaType(i)&&(this._localScreenStream.pubVideo=a===PubState.PUB),this.logger.info("publishScreen mediaType","pubAudio: %o, pubVideo: %o",this._localScreenStream.pubAudio,this._localScreenStream.pubVideo)),this._localScreenStream.pubAudio||this._localScreenStream.pubVideo){e.next=4;break}return e.abrupt("return",(null==(l=this._localScreenStream)?void 0:l.hasPublished)?this.unpublishScreen():void 0);case 4:if(!this._localScreenStream.hasPublished){e.next=11;break}return Q?null==(d=this._localScreenStream.observer)||d.setPushVideo(p):null==(u=this._localScreenStream.observer)||u.setEnableVideo(p),R?null==(U=this._localScreenStream.observer)||U.setPushAudio(h):null==(F=this._localScreenStream.observer)||F.setEnableAudio(h),e.next=9,this.updatePubScreenTrack();case 9:e.next=14;break;case 11:return null==(c=this._localScreenStream.observer)||c.setPublish(!0),e.next=14,this._mediaServerClient.publish(this._localScreenStream);case 14:this._localScreenStream.pubAudio||this._localScreenStream.pubVideo?this._mediaServerClient.handler&&this._localScreenStream.startReport(this._onLocalStreamStats.bind(this),this._localScreenStream.vendorHandler||this._mediaServerClient.handler):this._localScreenStream.stopReport("unpublish screen");case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,i){return N.apply(this,arguments)})},{key:"updatePubScreenTrack",value:(k=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updatePubScreenTrack","Invoke updatePubScreenTrack"),e.t0=this._localScreenStream,!e.t0){e.next=5;break}return e.next=5,this._mediaServerClient.updatePubTrack(this._localScreenStream);case 5:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"unpublishScreen",value:(V=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("unpublish","Invoke unpublishScreen"),e.t0=this._localScreenStream,!e.t0){e.next=9;break}return null==(t=this._localScreenStream.observer)||t.setPublish(!1),e.next=6,this._mediaServerClient.unpublish(this._localScreenStream);case 6:this._localScreenStream.stopReport("unpublish screen"),this._localScreenStream.clean(),this._localScreenStream=void 0;case 9:case"end":return e.stop()}}),e,this)}))),function(){return V.apply(this,arguments)})},{key:"liveControlMessage",value:(T=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("controlMessage","Invoke controlMessage"),null==(n=t.transcodeMeta)||n.layout.regions.forEach((function(e){r.roomInfo&&(e.roomID=r.roomInfo.roomId)})),e.next=4,this._mediaServerClient.controlMessage(t);case 4:this._mediaServerClient.setLiveControlMessage("stopped"===t.action?void 0:t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"publicStreamControlMessage",value:(g=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"stopped"===t.action&&delete t.publicStreamMeta,e.next=3,this._mediaServerClient.controlMessage(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"subtitleControlMessage",value:(y=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mediaServerClient.controlMessage(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"updateUserAttributes",value:(v=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("updateUserAttributes","Invoke updateUserAttributes"),t.role&&this._roomInfo&&(this._roomInfo.userInfo.role=t.role),e.next=4,this._mediaServerClient.updateUserAttributes(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"publish",value:(E=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a,o){var s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y.length>6&&void 0!==y[6]&&y[6],this.logger.info("publish","Invoke publish"),R=!1,this._localStream||(this._localStream=new LocalStream(this._context),(null==(c=null==(l=this._mediaServerClient)?void 0:l.vendorConfig)?void 0:c.enableMultiVendor)&&(this._localStream.pcSessionId=genUuid$1()),this._mediaServerClient.handler&&(this._localStream.observer=new SendFrameObserver(this._localStream,this._mediaServerClient.handler)),R=!0,this._localStream.vendorCode=(null==(d=this._mediaServerClient.vendorConfig)?void 0:d.vendorCode)||0),this._localStream.videoTrack=r,this._localStream.audioTrack=i,this._localStream.videoEncodeConfig=t,this._localStream.enableSimulcast=n,_=this._localStream,S=_.pubAudio,B=_.pubVideo,a&&(audioInMediaType(a)&&(this._localStream.pubAudio=o===PubState.PUB),videoInMediaType(a)&&(this._localStream.pubVideo=o===PubState.PUB),this.logger.info("publish mediaType","pubAudio: %o, pubVideo: %o",this._localStream.pubAudio,this._localStream.pubVideo)),!this._localStream.hasPublished){e.next=17;break}return e.prev=6,this.emit("___onMediaServerClientPublish"),e.next=10,this.updatePubTrack();case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),this._localStream.pubAudio=S,this._localStream.pubVideo=B,e.t0;case 15:e.next=31;break;case 17:if(this._localStream.pubAudio||this._localStream.pubVideo){e.next=19;break}return e.abrupt("return");case 19:return e.prev=19,s?null==(u=this._localStream.observer)||u.setLogin(!0):R&&(m=!!this._localStream.videoTrack,f=!!this._localStream.audioTrack,E=this._localStream.videoTrack instanceof CustomVideoLocalTrack,v=this._localStream.audioTrack instanceof CustomAudioLocalTrack,this._roomConfig.isAutoPublish&&!this._hasPublished?(m&&(E?null==(U=this._localStream.observer)||U.setPushVideo(!0):null==(F=this._localStream.observer)||F.setEnableVideo(!0)),f&&(v?null==(p=this._localStream.observer)||p.setPushAudio(!0):null==(Q=this._localStream.observer)||Q.setEnableAudio(!0))):null==(h=this._localStream.observer)||h.setPublish(!0)),this.emit("___onMediaServerClientPublish"),e.next=24,this._mediaServerClient.publish(this._localStream);case 24:this._hasPublished=!0,this.emit(RoomEvent.ON_PUBLISH_RESULT,{isScreen:!1,state:PublishState.PUBLISH_SUCC}),e.next=31;break;case 28:throw e.prev=28,e.t1=e.catch(19),this.emit(RoomEvent.ON_PUBLISH_RESULT,{isScreen:!1,state:PublishState.PUBLISH_FAIL,errorCode:e.t1.code}),delete this._localStream,e.t1;case 31:this._localStream.pubAudio||this._localStream.pubVideo?this._mediaServerClient.handler&&this._localStream.startReport(this._onLocalStreamStats.bind(this),this._localStream.vendorHandler||this._mediaServerClient.handler):this._localStream.stopReport("unpublish");case 32:case"end":return e.stop()}}),e,this,[[6,12],[19,28]])}))),function(e,t,n,r,i,a){return E.apply(this,arguments)})},{key:"updatePubTrack",value:(f=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updatePubTrack","Invoke updatePubTrack"),e.t0=this._localStream,!e.t0){e.next=5;break}return e.next=5,this._mediaServerClient.updatePubTrack(this._localStream);case 5:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"unpublish",value:(m=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("unpublish","Invoke unpublish"),e.t0=this._localStream,!e.t0){e.next=8;break}return e.next=5,this._mediaServerClient.unpublish(this._localStream);case 5:this._localStream.stopReport("unpublish"),this._localStream.clean(),this._localStream=void 0;case 8:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"subscribe",value:(B=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("subscribe","remoteStream %o",t),t.streamState===StreamState.INIT){e.next=10;break}if((a=t.subMediaType|n)===t.subMediaType){e.next=8;break}return e.next=5,null==(i=this._mediaServerClient)?void 0:i.updateSubMediaType(t,a);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=void 0;case 9:return e.abrupt("return",e.t0);case 10:return r&&(o=this._getSubLayer(r,t)),e.next=13,this._mediaServerClient.subscribe(t,n,o);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return B.apply(this,arguments)})},{key:"updateSubVideoConfig",value:(S=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=this._findRemoteStreamByScreen(t,!1))&&o.hasSubscribed&&!((null==(i=null==(r=null==o?void 0:o.attributes)?void 0:r.videoDescriptions)?void 0:i.length)<=1)){e.next=3;break}return e.abrupt("return");case 3:return s=this._getSubLayer(n,o),e.abrupt("return",(o.originalStreamIndex=s.spatialLayer,null==(a=this._mediaServerClient)?void 0:a.updateSubTrackLayer(o,s)));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"_getSubLayer",value:function(e,t){for(var n,r,i,a,o,s=null==t?void 0:t.attributes,l=s.videoDescriptions,c=s.subVideoDescriptions,d=Array.isArray(c)?c:l,u=-1,U=e.width*e.height,F=0;F<(null==d?void 0:d.length);F++)if(U>=(null==(i=d[F])?void 0:i.width)*(null==(a=d[F])?void 0:a.height)){u=F;break}var p=d[0];if(-1===u)p=d[u=d.length-1];else if(0!==u){var Q=d[u-1].width*d[u-1].height,h=(Q-U)/(Q-d[u].width*d[u].height);p=h<.1?d[u-1]:d[u],u=h<.1?u-1:u}return o=null!==(n=null==p?void 0:p.sub_index)&&void 0!==n?n:-1,{spatialLayer:null!==(r=null==p?void 0:p.video_index)&&void 0!==r?r:u,spatialSubLayer:o}}},{key:"unsubscribe",value:(_=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("unsubscribe","Invoke unsubscribe"),t.hasSubscribed){e.next=2;break}return e.abrupt("return");case 2:if(a=t.subMediaType-(t.subMediaType&n),(null==(r=this._context.serverConfig)?void 0:r.muteReplaceUnsub)||!(a===ExtendMediaType.NONE||this.multiChatMode&&a===MediaType$1.AUDIO)){e.next=7;break}return e.next=6,this._mediaServerClient.unsubscribe(t);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,null==(i=this._mediaServerClient)?void 0:i.updateSubMediaType(t,a);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"startSubtitle",value:(R=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._subtitleTool){e.next=2;break}throw new SDKError(ErrorCode.INVOKED_BEFORE_JOIN_ROOM,"join first");case 2:return e.next=4,this._subtitleTool.start(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"updateSubtitleConfig",value:(h=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._subtitleTool){e.next=2;break}throw new SDKError(ErrorCode.INVOKED_BEFORE_JOIN_ROOM,"join first");case 2:return e.next=4,this._subtitleTool.update(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"stopSubtitle",value:(Q=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(t=this._subtitleTool)||t.stop();case 1:case"end":return e.stop()}}),e,this)}))),function(){return Q.apply(this,arguments)})},{key:"startForwardStream2Rooms",value:(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._forwardStreamManager.startForwardStream2Rooms(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"updateForwardStream2Rooms",value:(F=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._forwardStreamManager.updateForwardStream2Rooms(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"stopForwardStream2Rooms",value:(U=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._forwardStreamManager.stopForwardStream2Rooms());case 1:case"end":return e.stop()}}),e,this)}))),function(){return U.apply(this,arguments)})},{key:"pauseForwardStream2AllRooms",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._forwardStreamManager.pauseForwardStream2AllRooms());case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"resumeForwardStream2AllRooms",value:(d=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._forwardStreamManager.resumeForwardStream2AllRooms());case 1:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"updateMediaParams",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null==(n=this._mediaServerClient)?void 0:n.updateMediaParams(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"leave",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.length>0&&void 0!==u[0]&&u[0],this.logger.info("leave","Invoke leave"),s=getServerNow(),null==(n=this._subtitleTool)||n.destroy(),delete this._subtitleTool,delete this._sessionId,e.prev=4,l=_createForOfIteratorHelper$1(this._remoteStreams.values());try{for(l.s();!(c=l.n()).done;)d=c.value,Array.isArray(d)&&d.forEach((function(e){var t;null==(t=e.observer)||t.setLogin(!1)}))}catch(err2){l.e(err2)}finally{l.f()}return this._localStream&&(null==(r=this._localStream.observer)||r.setLogin(!1)),e.next=10,this._mediaServerClient.leave().catch((function(){}));case 10:this.destroy(),null==(i=this._monitor)||i.report("rtc_leave_room",{error_code:0,message:"",elapse:getServerNow()-s}),null==(a=this._monitor)||a.set({room_id:"",user_id:"",rtc_session_id:"",rtc_vid:""}),e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(4),!t){e.next=19;break}throw e.t0;case 19:this.destroy(),e.t0 instanceof Error&&(null==(o=this._monitor)||o.report("rtc_leave_room",{error_code:-1,message:e.t0.message,elapse:getServerNow()-s}));case 20:case"end":return e.stop()}}),e,this,[[4,15]])}))),function(){return l.apply(this,arguments)})},{key:"updateRemoteUserPriority",value:function(e){var t,n=this;null==(t=this.remoteStreams.get(e))||t.forEach((function(t){var r=(n._context||{}).userPriority;t.hasSubscribed&&r.has(e)&&n._mediaServerClient.updateSubPriority(t,r.get(e))}))}},{key:"destroy",value:function(){var e,t,n;this.logger.info("destroy","Invoke destroy"),reportRtcInvokeStatus(this.id,"room_destroy","".concat((new Error).stack)),null==(e=this._subtitleTool)||e.destroy(),delete this._subtitleTool,this._mediaServerClient.destroy(),this._removeHandlerEventHandler(),this._roomInfo=void 0,this._remoteUsers=new Map;var r,i=_createForOfIteratorHelper$1(this._remoteStreams);try{for(i.s();!(r=i.n()).done;){var a=_slicedToArray(r.value,2)[1];Array.isArray(a)&&a.forEach((function(e){e&&e.destroy()}))}}catch(err2){i.e(err2)}finally{i.f()}this._virtualStreams.forEach((function(e){null==e||e.clean()})),this._remoteStreams=new Map,this._localStream&&(null==(t=this._localStream)||t.clean(),this._localStream=void 0),this._localScreenStream&&(null==(n=this._localScreenStream)||n.clean(),this._localScreenStream=void 0),this._removeHandlerEventHandler(),clearTimeout(this._connectionLostTimer),this._userDuplicateLoginTimerMap.forEach((function(e){clearTimeout(e)})),this._userDuplicateLoginTimerMap.clear(),this._networkQualityManager.destroy(),this._videoSizeObserver.destroy(),this._csrcUserIdMap={},this._virtualStreams=[],this._remoteStreamStreamIdUserIdMap={},this._forwardStreamManager.clear()}},{key:"updateToken",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("updateToken","Invoke updateToken"),this._roomInfo&&(this._roomInfo.token=t),e.prev=1,e.next=4,this._mediaServerClient.updateToken(t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.safeEmit(RoomEvent.ON_ROOM_ERROR,{errorCode:ErrorCode.UPDATE_TOKEN_WITH_INVALID_TOKEN}),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return s.apply(this,arguments)})},{key:"sendUserMessage",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null==(n=this._mediaServerClient)?void 0:n.sendUserMessage(e,t,r)}},{key:"setSessionId",value:function(){var e;this._sessionId||(this._sessionId=v4(),this._mediaServerClient._sessionId=this._sessionId,null==(e=this._monitor)||e.set({rtc_session_id:this._sessionId}))}},{key:"sendRoomMessage",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],o={clientId:null==(r=this._roomInfo)?void 0:r.userInfo.userId,binary:n,message:"",roomId:null==(i=this._roomInfo)?void 0:i.roomId},!n){e.next=8;break}return e.next=5,Utils.ab2b64str(t);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=t;case 9:return o.message=e.t0,e.abrupt("return",null==(a=this._mediaServerClient)?void 0:a.sendRoomMessage(o));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"maybeFillBackFrame2Stream",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.refreshBlackFrameLifetime(),(null==(n=t.videoTransceiver)?void 0:n.sender.track)||null==(r=this._mediaServerClient)||r.updatePubBlackFrame(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_onJoinSucc",value:function(e){var t,n=this,r=e.joinRes,i=e.reconnect;this.logger.info("_onJoinSucc()","invoke. "+(i?"[reconnect]":"")),this._serverConfig=r.config,this._mediaServerClient.roomAttributes=r.roomAttributes;var a=[],o=[],s=[],l=[],c=[];null==(t=r.clientsDetail)||t.forEach((function(e){if(e.attributes&&(e.attributes.serverMuteVideo&&n.safeEmit(RoomEvent.ON_VIDEO_STREAM_BANNED,{uid:e.clientId,banned:1===e.attributes.serverMuteVideo}),e.attributes.serverMuteAudio&&n.safeEmit(RoomEvent.ON_AUDIO_STREAM_BANNED,{uid:e.clientId,banned:1===e.attributes.serverMuteAudio})),e.clientId!==r.clientId){var t=n._remoteUsers.get(e.clientId);t?t._stillExist=!0:a.push(e)}}));var d,u=_createForOfIteratorHelper$1(this._remoteUsers.values());try{for(u.s();!(d=u.n()).done;){var U=d.value;U._stillExist||o.push({clientId:U.userId}),delete U._stillExist}}catch(err2){u.e(err2)}finally{u.f()}r.streams.forEach((function(e){var t=n._findRemoteStreamByScreen(e.clientId,e.screen);t?(t.stillExist=!0,t.streamId=e.streamId,c.push(e)):l.push(e)}));var F,p=_createForOfIteratorHelper$1(this._remoteStreams.values());try{for(p.s();!(F=p.n()).done;){var Q=F.value;Array.isArray(Q)&&Q.forEach((function(e){e.stillExist?delete e.stillExist:s.push({clientId:e.userId,streamId:e.streamId,message:RemoveStreamMessage.clientDisconnected})}))}}catch(err2){p.e(err2)}finally{p.f()}o.forEach((function(e){return n._onUserDisconnection(e)})),a.forEach((function(e){return n._onUserConnection(e)})),s.forEach((function(e){return n._onRemoveStream(e)})),l.forEach((function(e){return n._onAddStream(e,{fromSignal:!1})})),c.forEach((function(e){return n._onUpdateStreamAttributes(e)})),i&&this._handleSendOrRecvStreamAfterReconnect()}},{key:"_handleSendOrRecvStreamAfterReconnect",value:function(){var e,t,n,r,i=this;this._localStream&&(this._localStream.clean(),this._localStream.vendorCode=(null==(e=this._mediaServerClient.vendorConfig)?void 0:e.vendorCode)||0,null==(t=this._localStream.observer)||t.setLogin(!0),this._mediaServerClient.publish(this._localStream).then((function(){var e;i._mediaServerClient.handler&&(null==(e=i._localStream)||e.startReport(i._onLocalStreamStats.bind(i),i._localStream.vendorHandler||i._mediaServerClient.handler)),i.emit(RoomEvent.ON_PUBLISH_RESULT,{isScreen:!1,state:PublishState.PUBLISH_SUCC,retry:!0})})).catch((function(e){i.logger.error("failed repub error:".concat(e)),i.emit(RoomEvent.ON_PUBLISH_RESULT,{isScreen:!1,state:PublishState.PUBLISH_FAIL,errorCode:e.code,retry:!0})}))),this._localScreenStream&&(this._localScreenStream.clean(),null==(n=this._localScreenStream.observer)||n.setLogin(!0),this._mediaServerClient.publish(this._localScreenStream).then((function(){var e;i._mediaServerClient.handler&&(null==(e=i._localScreenStream)||e.startReport(i._onLocalStreamStats.bind(i),i._localScreenStream.vendorHandler||i._mediaServerClient.handler)),i.emit(RoomEvent.ON_PUBLISH_RESULT,{isScreen:!0,state:PublishState.PUBLISH_SUCC,retry:!0})})).catch((function(e){i.logger.error("failed repub screen stream error:".concat(e)),i.emit(RoomEvent.ON_PUBLISH_RESULT,{isScreen:!0,state:PublishState.PUBLISH_FAIL,errorCode:e.code,retry:!0})})));var a,o=_createForOfIteratorHelper$1(this._remoteStreams.values());try{for(o.s();!(a=o.n()).done;){var s=a.value;Array.isArray(s)&&s.forEach(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasSubscribed){e.next=18;break}return t.resetHasSubscribed(),e.prev=2,i.logger.info("start resubscribe ".concat(t.userId," with ").concat(t.subMediaType)),videoInMediaType(t.subMediaType)&&(null==(n=t.observer)||n.setSubscribeVideo(!0)),audioInMediaType(t.subMediaType)&&(null==(r=t.observer)||r.setSubscribeAudio(!0)),e.next=8,i._mediaServerClient.subscribe(t,t.subMediaType);case 8:i.logger.info("success resubscribe ".concat(t.userId," with ").concat(t.subMediaType)),i.safeEmit(RoomEvent.RESUBSCRIBE,{stream:t}),i.emit(RoomEvent.ON_SUBSCRIBE_RESULT,{state:SubscribeState.SUBSCRIBE_SUCC,userId:t.userId,isScreen:t.isScreen,retry:!0}),e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(2),i.emit(RoomEvent.ON_SUBSCRIBE_RESULT,{state:SubscribeState.SUBSCRIBE_FAIL,userId:t.userId,isScreen:t.isScreen,errorCode:e.t0.code,retry:!0}),i.logger.error("failed resubscribe ".concat(t.userId," with ").concat(t.subMediaType,", error:").concat(e.t0)),e.t0.code!==ErrorCode.NOT_CONNECTED_YET){e.next=17;break}return e.abrupt("return",void(t.streamState=StreamState.SUB_ED));case 17:t.clean(),null==t||t.resetHasSubscribed();case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}())}}catch(err2){o.e(err2)}finally{o.f()}null==(r=this._subtitleTool)||r.reconnect(),this._forwardStreamManager.resumeFromReconnect()}},{key:"_handleFFAudioTrack",value:function(){var e,t,n,r,i=null==(t=null==(e=this._mediaServerClient)?void 0:e.handler)?void 0:t.audioTrack4ff,a=null==(r=null==(n=this._mediaServerClient)?void 0:n.handler)?void 0:r.getTransceivers();if(i&&Array.isArray(a)){var o=a.find((function(e){var t;return(null==(t=null==e?void 0:e.receiver)?void 0:t.track)===i}));if(o){var s=new RemoteStream(this._context,"ff-stream","ff-stream",!1,!1,virtualStreamAttributes);s.virtual=!0,s.audioTransceiver=o,s.audioMid="0",s.audioTrack=createRemoteAudioTrack(i),this._virtualStreams.push(s),this.safeEmit(RoomEvent.SUBSCRIBE_PUSH_TRACK,{stream:s})}}}},{key:"_findRemoteStream",value:function(e,t){var n=this._remoteStreams.get(e);return Array.isArray(n)?n.find((function(e){return e.streamId===t})):null}},{key:"_findRemoteStreamByScreen",value:function(e,t){var n=this._remoteStreams.get(e);return Array.isArray(n)?n.find((function(e){return e.isScreen===t})):null}},{key:"_onAddStream",value:function(e){var t,n,r,i,a,o,s,l,c,d,u,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=U.needEmit,p=void 0===F||F,Q=U.fromSignal,h=void 0===Q||Q,R=U.virtual,_=void 0!==R&&R;if(e.clientId!==(null==(t=this._roomInfo)?void 0:t.userInfo.userId)){var S=this._roomConfig,B=S.isAutoSubscribeAudio,m=S.isAutoSubscribeVideo,f=this._findRemoteStreamByScreen(e.clientId,e.screen);if(f&&f.streamId!==e.streamId){var E=null==(n=this._remoteStreams.get(e.clientId))?void 0:n.filter((function(e){return e.streamId!==f.streamId}));f.clean(),this._remoteStreams.set(e.clientId,E||[])}var v=this._findRemoteStream(e.clientId,e.streamId);if(this._remoteStreamStreamIdUserIdMap[e.streamId]=e.clientId,v)v.attributes=e.attributes;else if((v=new RemoteStream(this._context,e.clientId,e.streamId,e.screen,!1,e.attributes)).virtual=_,this._initStreamListeners(v),!_){var y=this._remoteStreams.get(e.clientId);y?y.push(v):this._remoteStreams.set(e.clientId,[v])}if(v.remoteSessionId=e.remoteSessionId||"",this._mediaServerClient.handler&&(v.observer=new RecvFrameObserver(v,this._mediaServerClient.handler)),!v.isScreen&&m&&(h&&v.hasVideo&&(v.attributes.extvideo?(null==(r=v.observer)||r.setExternalVideoSource(!0),null==(i=v.observer)||i.setPushVideo(!0)):(null==(a=v.observer)||a.setExternalVideoSource(!1),null==(o=v.observer)||o.setPublishVideo(!0))),h&&v.hasAudio&&B&&!this._mediaServerClient.roomAttributes.multiChatMode&&(v.attributes.extaudio?(null==(s=v.observer)||s.setExternalAudioSource(!0),null==(l=v.observer)||l.setPushAudio(!0)):(null==(c=v.observer)||c.setExternalAudioSource(!1),null==(d=v.observer)||d.setPublishAudio(!0))),p&&!h)){var g=this._roomConfig,T=g.isAutoSubscribeAudio,V=g.isAutoSubscribeVideo;null==(u=v.observer)||u.setLogin(!0,{audio:!!T&&!this.multiChatMode,video:!!V})}return p&&this.safeEmit(SignalEvent.ON_ADD_STREAM,{stream:v}),v}}},{key:"_onUserConnection",value:function(e){var t;if(e.clientId!==(null==(t=this._roomInfo)?void 0:t.userInfo.userId)){var n=this._userDuplicateLoginTimerMap.get(e.clientId);if("number"==typeof n)return this._userDuplicateLoginTimerMap.delete(e.clientId),void self.clearTimeout(n);var r={userId:e.clientId,extraInfo:e.attributes.extra_info};this._remoteUsers.set(e.clientId,_objectSpread2({},r)),this.safeEmit(SignalEvent.USER_CONNECTION,{userInfo:r}),e.attributes&&(e.attributes.serverMuteVideo&&this.safeEmit(RoomEvent.ON_VIDEO_STREAM_BANNED,{uid:e.clientId,banned:1===e.attributes.serverMuteVideo}),e.attributes.serverMuteAudio&&this.safeEmit(RoomEvent.ON_AUDIO_STREAM_BANNED,{uid:e.clientId,banned:1===e.attributes.serverMuteAudio}))}}},{key:"_onUserDisconnection",value:function(e){var t,n=this,r=e.clientId,i=e.tag,a=e.code,o=e.forbiddenTime;if(r)if(r===(null==(t=this.roomInfo)?void 0:t.userInfo.userId)){var s=null;i===UserDisconnectionTag.kickedByAdmin?s=ErrorCode.KICKED_OUT:i===UserDisconnectionTag.onUserTokenDidExpire?s=ErrorCode.TOKEN_EXPIRED:i===UserDisconnectionTag.userDuplicateLogin&&(s=ErrorCode.DUPLICATE_LOGIN),a===UserDisconnectionCode.roomDismissByAdmin&&(s=ErrorCode.ROOM_DISMISS),s&&this.safeEmit(RoomEvent.ON_ROOM_ERROR,{errorCode:s,forbiddenTime:o})}else{var l=UserOfflineReason.DROPPED;i===UserDisconnectionTag.userLeave?l=UserOfflineReason.QUIT:i===UserDisconnectionTag.kickedByAdmin?l=UserOfflineReason.KICKED_BY_ADMIN:i===UserDisconnectionTag.roleChanged&&(l=UserOfflineReason.SWITCH_TO_INVISIBLE);var c=function(){var e;n._remoteUsers.delete(r),null==(e=n._remoteStreams.get(r))||e.forEach((function(e){n._onRemoveStream({clientId:e.userId,streamId:e.streamId,message:RemoveStreamMessage.clientDisconnected})})),n._remoteStreams.delete(r),n.safeEmit(RoomEvent.ON_USER_LEAVE,{userInfo:{userId:r},reason:l})};if(i===UserDisconnectionTag.userDuplicateLogin){var d=this._userDuplicateLoginTimerMap.get(r);d&&self.clearTimeout(d);var u=self.setTimeout(c,5e3);this._userDuplicateLoginTimerMap.set(r,u)}else c()}}},{key:"_onRemoveStream",value:function(e){var t,n,r,i,a=this;if(e.clientId!==(null==(t=this._roomInfo)?void 0:t.userInfo.userId)){var o=this._remoteStreams.get(e.clientId);if(o){var s=o.find((function(t){return t.streamId===e.streamId}));s&&(null==(n=this._mediaServerClient)||n.handleRemoveStream(s).then((function(){var t=a._remoteStreams.get(e.clientId);t&&(t=t.filter((function(t){return t.streamId!==e.streamId||(t.clean(),!1)})),a._remoteStreams.set(e.clientId,t))})).finally((function(){a.safeEmit(SignalEvent.ON_REMOVE_STREAM,{stream:s,reason:e.message,callback:function(){return s.destroy()}})})),s.hasVideo&&(null==(r=s.observer)||r.setPublishVideo(!1)),s.hasAudio&&!this._mediaServerClient.roomAttributes.multiChatMode&&(null==(i=s.observer)||i.setPublishAudio(!1)))}}}},{key:"_onUpdateUserAttributes",value:function(e){e.attributes&&(e.attributes.serverMuteVideo&&this.safeEmit(RoomEvent.ON_VIDEO_STREAM_BANNED,{uid:e.clientId,banned:1===e.attributes.serverMuteVideo}),e.attributes.serverMuteAudio&&this.safeEmit(RoomEvent.ON_AUDIO_STREAM_BANNED,{uid:e.clientId,banned:1===e.attributes.serverMuteAudio}))}},{key:"_onUpdateRoomAttributes",value:function(e){var t;e.roomAttributes&&(this._mediaServerClient.roomAttributes=_objectSpread2(_objectSpread2({},this._mediaServerClient.roomAttributes),e.roomAttributes)),(null==(t=e.roomAttributes)?void 0:t.multiChatMode)&&this._handleFFAudioTrack()}},{key:"_onUpdateStreamAttributes",value:function(e){var t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S=this._roomConfig,B=S.isAutoSubscribeAudio,m=S.isAutoSubscribeVideo,f=e.clientId,E=e.streamId,v=e.attributes,y=this._findRemoteStream(f,E);if(y){var g=y.attributes,T=_objectSpread2(_objectSpread2({},g),v),V=!1,k=T.localaudio!==g.localaudio,N=!1,b=!1,C=T.localvideo!==g.localvideo,J=!1,W=ExtendMediaType.NONE,D=ExtendMediaType.NONE;T.audiostream!==g.audiostream&&(V=T.localaudio,N=!!T.audiostream,T.audiostream?W|=MediaType$1.AUDIO:D|=MediaType$1.AUDIO),T.videostream!==g.videostream&&(b=T.localvideo,J=!!T.videostream,T.videostream?W|=MediaType$1.VIDEO:D|=MediaType$1.VIDEO),W&&this.safeEmit(RoomEvent.ON_USER_PUBLISH_STATE_CHANGE,{userId:f,mediaType:W,isScreen:y.isScreen,pubState:PubState.PUB,remoteStream:y}),D&&this.safeEmit(RoomEvent.ON_USER_PUBLISH_STATE_CHANGE,{userId:f,mediaType:D,isScreen:y.isScreen,pubState:PubState.UNPUB,remoteStream:y}),y.remoteSessionId=e.remoteSessionId||"",y.attributes=T,T.localaudio!==g.localaudio&&(T.localaudio?(B&&T.audiostream&&(T.extaudio?(null==(t=y.observer)||t.setExternalAudioSource(!0),null==(n=y.observer)||n.setPushAudio(!0)):(null==(r=y.observer)||r.setExternalAudioSource(!1),null==(i=y.observer)||i.setEnableAudio(!0))),this.safeEmit(RoomEvent.ON_USER_START_AUDIO_CAPTURE,{userId:f},y)):(T.extaudio?(null==(a=y.observer)||a.setExternalAudioSource(!0),null==(o=y.observer)||o.setPushAudio(!1)):(null==(s=y.observer)||s.setExternalAudioSource(!1),null==(l=y.observer)||l.setEnableAudio(!1)),!y.isScreen&&this.safeEmit(RoomEvent.ON_USER_STOP_AUDIO_CAPTURE,{userId:f}))),T.localvideo!==g.localvideo&&(T.localvideo?(m&&T.videostream&&(T.extvideo?(null==(c=y.observer)||c.setExternalVideoSource(!0),null==(d=y.observer)||d.setPushVideo(!0)):(null==(u=y.observer)||u.setExternalVideoSource(!1),null==(U=y.observer)||U.setEnableVideo(!0))),this.safeEmit(RoomEvent.ON_USER_START_VIDEO_CAPTURE,{userId:f})):(T.extvideo?(null==(F=y.observer)||F.setExternalVideoSource(!0),null==(p=y.observer)||p.setPushVideo(!1)):(null==(Q=y.observer)||Q.setExternalVideoSource(!1),null==(h=y.observer)||h.setEnableVideo(!1)),!y.isScreen&&this.safeEmit(RoomEvent.ON_USER_STOP_VIDEO_CAPTURE,{userId:f}))),V&&!k&&B&&(null==(R=y.observer)||R.setRemoteUnmuteAudio(N)),b&&!C&&m&&(null==(_=y.observer)||_.setRemoteUnmuteVideo(J)),"number"==typeof T.videoType&&T.videoType!==g.videoType&&this.safeEmit(RoomEvent.VIDEO_TYPE_CHANGE,{userId:y.userId,isScreen:y.isScreen,type:T.videoType===VideoType.BLACK?SEIStreamEventType.BLACK:SEIStreamEventType.NORMAL})}}},{key:"_onPushTrack",value:function(e){var t,n,r=this;if(null==(t=e.streamId)?void 0:t.startsWith("audio_mux")){var i=this._onAddStream(_objectSpread2(_objectSpread2({},e),{},{attributes:virtualStreamAttributes}),{needEmit:!1,fromSignal:!1,virtual:!0});i&&this._mediaServerClient.subscribe4pushTrack(i,e).then((function(){r.safeEmit(RoomEvent.SUBSCRIBE_PUSH_TRACK,{stream:i}),r._virtualStreams.push(i)})).catch((function(e){r.logger.error("subscribe","push track failed %o",e)}))}else null==(n=this._monitor)||n.report("rtc_error",{message:"onPushTrack, userId: ".concat(e.clientId,", ").concat(e.streamId),error_code:RtcErrorCode.TRACK_ERROR})}},{key:"_onRemoveTrack",value:function(e){var t,n=e.clientId,r=e.streamId,i=e.message,a=e.trackType;this.logger.info("_onRemoveTrack","remove track: %o",n);var o=this._findRemoteStream(n,r);o&&(o.removeTrack=!0,null==(t=this._mediaServerClient)||t.unsubscribe4removeTrack(o,i,a),this.emit(RoomEvent.REMOVE_PUSH_TRACK,{stream:o,mediaType:a+1}))}},{key:"_onMeetingSpeakerChange",value:function(e){if(Array.isArray(null==e?void 0:e.speakerCsrcInfo)){var t={};null==e||e.speakerCsrcInfo.forEach((function(e){var n=e.csrc,r=e.userId;e.isScreen||(t[n]=r)})),this._csrcUserIdMap=t}Array.isArray(e.muxStreamInUse)&&this._virtualStreams.forEach((function(t){var n;(null==(n=e.muxStreamInUse)?void 0:n.includes(t.streamId))?t.virtualOccupy=!0:t.virtualOccupy=!1}))}},{key:"getActiveSpeakerInMultiChatMode",value:function(){var e=this,t=[];return this._virtualStreams.forEach((function(n){var r,i=null==(r=n.audioTransceiver)?void 0:r.receiver;if(i){var a=_slicedToArray(i.getContributingSources()||[],1)[0];if(a){var o=a.audioLevel,s=a.source;e._csrcUserIdMap[s]&&t.push({userId:e._csrcUserIdMap[s],audioLevel:o})}}})),t.length&&t.sort((function(e,t){return e.audioLevel-t.audioLevel})),t}},{key:"_onReconnecting",value:function(){var e,t,n,r,i,a,o=this;if(this._roomInfo){var s,l=_createForOfIteratorHelper$1(this._remoteStreams.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;Array.isArray(c)&&c.forEach((function(e){var t;null==(t=e.observer)||t.setDisconnect(),e.clean()}))}}catch(err2){l.e(err2)}finally{l.f()}this._virtualStreams.forEach((function(e){var t;o.emit(RoomEvent.REMOVE_PUSH_TRACK,{stream:e,mediaType:MediaType$1.AUDIO}),null==(t=e.observer)||t.setDisconnect(),e.clean()})),this._virtualStreams=[],null==(t=null==(e=this.localStream)?void 0:e.observer)||t.setDisconnect(),null==(n=this.localStream)||n.clean(),null==(i=null==(r=this.localScreenStream)?void 0:r.observer)||i.setDisconnect(),null==(a=this.localScreenStream)||a.clean()}}},{key:"_onConnectionStateChange",value:function(e){var t,n=this;if(e.next===MediaConnectionState.DISCONNECTED)t=ConnectionState.CONNECTION_STATE_DISCONNECTED;else if(e.next===MediaConnectionState.CONNECTED)clearTimeout(this._connectionLostTimer),t=this._mediaServerClient.isReconnecting?ConnectionState.CONNECTION_STATE_RECONNECTED:ConnectionState.CONNECTION_STATE_CONNECTED;else{if(e.next!==MediaConnectionState.CONNECTING)return;this._mediaServerClient.isReconnecting?(t=ConnectionState.CONNECTION_STATE_RECONNECTING,this._onReconnecting()):t=ConnectionState.CONNECTION_STATE_CONNECTING}e.prev===MediaConnectionState.CONNECTED&&e.next===MediaConnectionState.DISCONNECTED&&(this._connectionLostTimer=window.setTimeout((function(){n.safeEmit(StateEvent.ON_CONNECTION_STATE_CHANGE,{state:ConnectionState.CONNECTION_STATE_LOST})}),1e4)),this._networkQualityManager.setMSC(this._mediaServerClient),this.safeEmit(StateEvent.ON_CONNECTION_STATE_CHANGE,{state:t})}},{key:"_initStreamListeners",value:function(e){var t=this;e.on("ontrack",(function(e){e.track})),e.on("onSEIMessage",(function(n){var r;t.emit(RoomEvent.ON_SEI_MESSAGED_RECEIVED,{sei:n,remoteStreamKey:{userId:e.userId,roomId:null==(r=t._roomInfo)?void 0:r.roomId,streamIndex:e.isScreen?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN}})}))}},{key:"_onCustomMessage",value:function(e){var t;(null==(t=this._subtitleTool)?void 0:t.onMessageRecv(e))||this.safeEmit(SignalEvent.ON_CUSTOM_MESSAGE,e)}},{key:"_onUserMessageReceived",value:function(e){this.safeEmit(SignalEvent.USER_MESSAGE_RECEIVED,{userId:e.from,message:e.msg})}},{key:"_onUserBinaryMessageReceived",value:function(e){var t,n={userId:e.from,message:e.msg};(null==(t=this._subtitleTool)?void 0:t.onMessageRecv(n))||this.safeEmit(SignalEvent.USER_BINARY_MESSAGE_RECEIVED,n)}},{key:"_initSubtitleTool",value:function(){var e=this;this._subtitleTool=new SubtitleTool(this),this._subtitleTool.onEvent=function(t){e.emit(RoomEvent.ON_SUBTITLE_STATE_CHANGED,t)},this._subtitleTool.onMessage=function(t){e.emit(RoomEvent.ON_SUBTITLE_MESSAGE_RECEIVED,t)}}},{key:"_onPostProcessingMessage",value:function(e){var t;if(e.body)if("subtitleCallback"!==e.type){var n=e.body,r=n.error||0,i=StreamMixingEventType.START,a=["success","parameter error","subscription timeout","ffmpeg error","cdn error","publish error"];if("2.0"===n.protocol){switch(n.eventType){case"TranscodeStarted":0!==n.error&&(i=StreamMixingEventType.START_FAILED);break;case"TranscodeStateChanged":i=0!==n.error?StreamMixingEventType.START_FAILED:StreamMixingEventType.START_SUCCESS;break;case"TranscodeStopped":i=0!==n.error?StreamMixingEventType.STOP_FAILED:StreamMixingEventType.STOP_SUCCESS;break;case"TranscodeUpdated":i=0!==n.error?StreamMixingEventType.UPDATE_FAILED:StreamMixingEventType.UPDATE_SUCCESS}this.safeEmit(SignalEvent.POST_PROCESSING_MESSAGE,{code:r,protocol:n.protocol,error:n.error,eventType:i,message:a[r]})}this.safeEmit(SignalEvent.POST_PROCESSING_MESSAGE,{code:r,message:a[r],type:e.type})}else null==(t=this._subtitleTool)||t.onResult(e)}},{key:"_onUserTokenWillExpire",value:function(){this.safeEmit(SignalEvent.ON_USER_TOKEN_WILL_EXPIRE,null)}},{key:"_onUserTokePublishPrivilegeWillExpire",value:function(){this.safeEmit(SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_WILL_EXPIRE,null)}},{key:"_onUserTokenPublishPrivilegeDidExpire",value:function(){this.safeEmit(SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_DID_EXPIRED,null)}},{key:"_onUserTokeSubscribePrivilegeWillExpire",value:function(){this.safeEmit(SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_WILL_EXPIRE,null)}},{key:"_onUserTokenSubscribePrivilegeDidExpire",value:function(){this.safeEmit(SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_DID_EXPIRED,null)}},{key:"_onStreamFailed",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("publish"!==t.type){e.next=9;break}if((null==(n=this.localStream)?void 0:n.streamId)===t.streamId?l=this.localStream:(null==(r=this.localScreenStream)?void 0:r.streamId)===t.streamId&&(l=this.localScreenStream),l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,null==(i=this._mediaServerClient)?void 0:i.unpublish(l).catch((function(){}));case 5:null==l||l.clean(),null==(a=this._mediaServerClient)||a.publish(l).catch((function(){})),e.next=18;break;case 9:if("subscribe"!==t.type){e.next=18;break}if(c=this._remoteStreamStreamIdUserIdMap[t.streamId],!(d=this._findRemoteStream(c,t.streamId))){e.next=18;break}return u=d.subMediaType,U=d.subLayer,e.next=15,null==(o=this._mediaServerClient)?void 0:o.unsubscribe(d);case 15:return e.next=17,null==(s=this._mediaServerClient)?void 0:s.subscribe(d,u,U);case 17:this.safeEmit(RoomEvent.RESUBSCRIBE,{stream:d});case 18:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_onStreamControlMessage",value:function(e){var t,n;e.type===StreamControlType.PushLimitWarn&&((null==(t=this._localStream)?void 0:t.pubAudio)||(null==(n=this._localStream)?void 0:n.pubVideo)||this.unpublish())}},{key:"_onPublishOnDemand",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._publishOnDemandItem||this._publishOnDemandBusy||!1===(null==(r=null==(n=null==(t=this._serverConfig)?void 0:t.engine_VPM)?void 0:n.ondemand)?void 0:r.enable)){e.next=15;break}if(!(null==(i=this._localStream)?void 0:i.videoTransceiver)){e.next=12;break}return this._publishOnDemandBusy=!0,c=this._publishOnDemandItem,this._publishOnDemandItem=void 0,d=[],u=null==(a=this._localStream)?void 0:a.stream.id,U=null==(o=this._localStream)?void 0:o.videoTransceiver.sender,F=U.getParameters(),Array.isArray(F.encodings)&&Array.isArray(c)&&(p={},this.logger.info("_onPublishOnDemand exec","usedDescriptions: %o",c),c.forEach((function(e){var t,n,r,i;if(null==(t=e.StreamIds)?void 0:t.includes(u)){var a,o,s=null!==(a=null==(n=e.Metadata)?void 0:n.VideoIndex)&&void 0!==a?a:0,l=0;(null==(r=h._context.serverConfig)?void 0:r.e2eFeedback)&&(l=Math.max.apply(Math,_toConsumableArray(Object.keys(null!==(o=null==(i=e.Metadata)?void 0:i.VideoKbpsHist)&&void 0!==o?o:{}).map((function(e){return Number(e)}))).concat([0]))),p[s]={kbps:l}}})),Q=_toConsumableArray(this._localStream.pubAttributes.videoDescriptions),F.encodings=F.encodings.map((function(e){var t,n;if(e.rid){if(p[e.rid]){e.active=!0;var r=null==(t=p[e.rid])?void 0:t.kbps;r&&(e.maxBitrate=1e3*calculateKbps(e.rid,r,Q))}else e.active=!1;var i=Number(e.rid);d[i]=e.active}else{var a=null==(n=p[0])?void 0:n.kbps;a&&(e.maxBitrate=1e3*calculateKbps(void 0,a,Q))}return e})),null==(s=this._monitor)||s.report("rtc_invoke_status",{sdk_api_name:"onPublishOnDemand",message:JSON.stringify(F.encodings),error_code:0,stream_id:u,elapse:0}),this._context&&(this._context.activeSimStreams=d)),e.next=9,U.setParameters(F);case 9:this._publishOnDemandBusy=!1,e.next=14;break;case 12:if(null==(l=this._localStream)?void 0:l.videoTransceiver){e.next=14;break}return e.abrupt("return");case 14:this._onPublishOnDemand();case 15:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_onRTT",value:function(e){var t,n=e.StreamIds,r=e.Metadata;if(n.length&&r){var i=n[0];(null==(t=this._context)?void 0:t.streamRTT)&&(this._context.streamRTT[i]={audio:r.audio_rtt,video:r.video_rtt})}}},{key:"_onSSC",value:function(e){var t=e.StreamIds,n=e.Metadata,r=t[0],i=this._remoteStreamStreamIdUserIdMap[r],a=this._findRemoteStream(i,r),o={userId:i,isScreen:!!a&&a.isScreen,beforeVideoIndex:n.ssc_items[0].prev_layer_id,afterVideoIndex:n.ssc_items[0].cur_layer_id,beforeEnable:0!==n.ssc_items[0].prev_video_open,afterEnable:0!==n.ssc_items[0].cur_video_open,reason:n.ssc_items[0].change_reason};this.emit(RoomEvent.ON_SIMULCAST_SUBSCRIBE_FALLBACK,o)}},{key:"_reportNetworkQuality",value:function(e,t){this.emit(RoomEvent.ON_NETWORK_QUALITY,e,t)}},{key:"_emitVideoSizeChange",value:function(e,t,n,r){var i;this.emit(RoomEvent.ON_REMOTE_VIDEO_SIZE_CHANGED,{roomId:null==(i=this.roomInfo)?void 0:i.roomId,userId:e,streamIndex:t?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN},{width:n,height:r})}},{key:"multiChatMode",get:function(){var e;return null==(e=this._mediaServerClient)?void 0:e.multiChatMode()}},{key:"setAudioEncodeMaxBitrate",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==(a=t===StreamIndex.STREAM_INDEX_MAIN?this.localStream:this.localScreenStream)?void 0:a.pubAudio)){e.next=8;break}if(o=null==(r=a.audioTransceiver)?void 0:r.sender.getParameters(),e.t0=null==o?void 0:o.encodings.length,!e.t0){e.next=8;break}return o.encodings[0].maxBitrate=1e3*n,e.next=8,null==(i=a.audioTransceiver)?void 0:i.sender.setParameters(o);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}]);var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C}(EnhancedEventEmitter),createElement$1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(e);return t.id&&(n.id=t.id),t.classList&&t.classList.forEach((function(e){n.classList.add(e)})),t.style&&Object.assign(n.style,t.style),t.attributes&&Object.entries(t.attributes).forEach((function(e){var t=_slicedToArray(e,2),r=t[0],i=t[1];"muted"===r?n.muted=!0:n.setAttribute(r,i)})),n},MEDIA_EVENTS=["play","playing","pause","ended","error","seeking","seeked","waiting","canplay","canplaythrough","durationchange","volumechange","loadedmetadata","loadeddata","loadstart","timeupdate"],AUDIO_ATTRIBUTES={playsinline:"","webkit-playsinline":""},VIDEO_ATTRIBUTES={playsinline:"","webkit-playsinline":"","x5-playsinline":"","x5-video-player-type":"h5","x-webkit-airplay":"allow",preload:"",muted:""},VideoPlayer=function(e){function t(e,n){var r;_classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"_containerDom"),__publicField(_assertThisInitialized(r),"_videoDom"),__publicField(_assertThisInitialized(r),"userId"),__publicField(_assertThisInitialized(r),"renderMode"),__publicField(_assertThisInitialized(r),"mirrorType",MirrorType.MIRROR_TYPE_NONE),__publicField(_assertThisInitialized(r),"isScreen"),__publicField(_assertThisInitialized(r),"isLocal"),__publicField(_assertThisInitialized(r),"played",!1),__publicField(_assertThisInitialized(r),"_needLoad",!1),__publicField(_assertThisInitialized(r),"_emitPlayFailed",!1),__publicField(_assertThisInitialized(r),"_videoContainer"),__publicField(_assertThisInitialized(r),"_safari15VideoTimer"),__publicField(_assertThisInitialized(r),"_monitor"),__publicField(_assertThisInitialized(r),"logger"),__publicField(_assertThisInitialized(r),"_onLocalTrackMute"),__publicField(_assertThisInitialized(r),"_onInterruptionEnd"),__publicField(_assertThisInitialized(r),"_needResume",!1),__publicField(_assertThisInitialized(r),"_rotate",0),__publicField(_assertThisInitialized(r),"_rotateDom"),__publicField(_assertThisInitialized(r),"_resizeObserver"),__publicField(_assertThisInitialized(r),"_hasManuallyPaused",!1),__publicField(_assertThisInitialized(r),"_stream"),__publicField(_assertThisInitialized(r),"isIntersecting"),__publicField(_assertThisInitialized(r),"intersectionObserver"),__publicField(_assertThisInitialized(r),"emitVideoEvent",(function(e){var t,n,i={type:"video",rawEvent:e,readyState:(null==(t=r._videoDom)?void 0:t.readyState)||0,userId:r.userId,eventName:e.type,currentTime:(null==(n=r._videoDom)?void 0:n.currentTime)||0,isScreen:r.isScreen};switch(r.emit("playback_event",i),e.type){case"canplay":r.refreshRenderSize("the video started playing."),r._internalPlay();break;case"loadeddata":r._internalPlay();break;case"playing":r.logger.info("VideoPlayerPlaying","[userId-".concat(r.userId,"] video element playing"));break;case"pause":r.logger.info("VideoPlayerPause","[userId-".concat(r.userId,"] video element pause")),r._needResume&&(r.logger.info("VideoPlayerPause","[userId-".concat(r.userId,"] video element resume")),r._internalPlay(),r._needResume=!1)}})),__publicField(_assertThisInitialized(r),"_internalPlay",(function(){var e,t;if(reportRtcInvokeStatus(r.engineId,"video _internalPlay",{paused:null==(e=r._videoDom)?void 0:e.paused,hasManuallyPaused:r._hasManuallyPaused}),!r._hasManuallyPaused&&(null==(t=r._videoDom)?void 0:t.paused)){var n=r._videoDom.play();(null==n?void 0:n.then)&&n.then((function(){var e;r.isLocal&&isCriOS&&!r._needLoad&&(null==(e=r._videoDom)||e.load(),r._needLoad=!0)})).catch((function(e){var t,n,i,a;r._emitPlayFailed||("AbortError"!==e.name?(r._emitPlayFailed=!0,null==(n=r._monitor)||n.report("rtc_error",{message:"video autoplay failed, userId: ".concat(r.userId,", ").concat(e.name),error_code:RtcErrorCode.AUTOPLAY_FAILED}),r.emit("playback_event",{type:"video",rawEvent:e,readyState:(null==(i=r._videoDom)?void 0:i.readyState)||0,userId:r.userId,eventName:"autoplay-error",currentTime:(null==(a=r._videoDom)?void 0:a.currentTime)||0,isScreen:r.isScreen})):null==(t=r._monitor)||t.report("rtc_error",{message:"video autoplay failed, userId: ".concat(r.userId,", ").concat(e.name),error_code:RtcErrorCode.AUTOPLAY_FAILED}))}))}})),r.engineId=e;var i=n.renderDom;r._monitor=getMonitor(e),r.logger=new Logger$1$1("Player",0,e);var a=n.userId,o=n.isScreen?VideoRenderMode.RENDER_MODE_FIT:VideoRenderMode.RENDER_MODE_HIDDEN;r.renderMode=void 0!==n.renderMode?n.renderMode:o,r._rotate=Number(n.rotation||0);var s="string"==typeof i?document.getElementById(i):i;if(!s)throw new SDKError(ErrorCode.CANT_FIND_DOM,"can't find dom");return r._videoContainer=document.createElement("div"),r._videoContainer.style.width="100%",r._videoContainer.style.height="100%",r._videoContainer.style.position="relative",r._videoContainer.style.overflow="hidden",r._containerDom=s,r.userId=a,r.isLocal=!!n.isLocal,r.isScreen=!!n.isScreen,r._initVideo(),!r.isLocal||15!==(null==iOSVersion?void 0:iOSVersion[0])&&15!==safariVersion||(r._safari15VideoTimer=window.setTimeout((function(){try{r._videoContainer.style.display="block",setTimeout((function(){r._videoContainer.style.display="flex"}),500)}catch(e){}}),1e3)),r}return _inherits(t,e),_createClass$1(t,[{key:"_initVideo",value:function(){var e=this;this._videoDom||(this._videoDom=createElement$1("video",{style:{width:"100%",height:"100%"},attributes:VIDEO_ATTRIBUTES}),this._videoDom.id="".concat(this.userId,"_").concat(genUuid()),this.setRenderMode(this.renderMode),this.mirror(this.mirrorType===MirrorType.MIRROR_TYPE_RENDER)),this._containerDom.appendChild(this._videoContainer),[90,270].indexOf(this._rotate)>-1?(this._rotateDom=this._createRotationDiv(),this._rotateDom.appendChild(this._videoDom),this._videoContainer.appendChild(this._rotateDom)):(180===this._rotate&&(this._videoContainer.style.transform="rotate(180deg)"),this._videoContainer.appendChild(this._videoDom)),this._initInterSectionObserver(),this._initListeners(),this._onLocalTrackMute=function(){e._needResume=!0},this._onInterruptionEnd=function(){e.logger.warn("resume player after iOS interruption"),e._internalPlay()},internalEventBus.on(InternalEvent.ON_IOS_LOCAL_TRACK_MUTE,this._onLocalTrackMute),internalEventBus.on(InternalEvent.ON_IOS_LOCAL_TRACK_UNMUTE,this._onInterruptionEnd),internalEventBus.on(InternalEvent.ON_IOS_INTERRUPTION_END,this._onInterruptionEnd)}},{key:"_initInterSectionObserver",value:function(){var e=this;!this.intersectionObserver&&"undefined"!=typeof IntersectionObserver&&this._videoDom&&(this.intersectionObserver=new IntersectionObserver((function(t){t[0]&&(e.isIntersecting=t[0].isIntersecting)}),{}),this.intersectionObserver.observe(this._videoDom))}},{key:"_closeIntersectionObserver",value:function(){this.intersectionObserver&&this._videoDom&&(this.intersectionObserver.disconnect(),this.intersectionObserver.unobserve(this._videoDom),delete this.intersectionObserver)}},{key:"_createRotationDiv",value:function(){var e=this,t=document.createElement("div");return t.style.transform="rotate(".concat(this._rotate,"deg)"),180!==this._rotate&&(t.style.position="absolute",this.refreshRenderSize("init"),window.ResizeObserver&&(this._resizeObserver=new ResizeObserver((function(){e.refreshRenderSize("the container size has changed.")})),this._resizeObserver.observe(this._containerDom))),t}},{key:"refreshRenderSize",value:function(e){var t,n;if(this._rotateDom){this.logger.print("refreshRenderSize","Because ".concat(e));var r=Number(window.getComputedStyle(this._containerDom).width.replace("px","")),i=Number(window.getComputedStyle(this._containerDom).height.replace("px","")),a=null==(t=this._videoDom)?void 0:t.videoWidth,o=null==(n=this._videoDom)?void 0:n.videoHeight;if(r&&i&&o&&a){var s,l;if(this.renderMode===VideoRenderMode.RENDER_MODE_FILL)s=i,l=r;else{var c=this.renderMode===VideoRenderMode.RENDER_MODE_HIDDEN?Math.max(r/o,i/a):Math.min(r/o,i/a);s=a*c,l=o*c}this._rotateDom.style.width="".concat(s,"px"),this._rotateDom.style.height="".concat(l,"px"),this._rotateDom.style.left=(r-s)/2+"px",this._rotateDom.style.top=(i-l)/2+"px"}}}},{key:"_initListeners",value:function(){var e=this;this._videoDom&&MEDIA_EVENTS.forEach((function(t){var n;null==(n=e._videoDom)||n.addEventListener(t,e.emitVideoEvent)}))}},{key:"_removeListeners",value:function(){var e=this;this._videoDom&&MEDIA_EVENTS.forEach((function(t){var n;null==(n=e._videoDom)||n.removeEventListener(t,e.emitVideoEvent)}))}},{key:"setRenderMode",value:function(e){this.renderMode=e,this._videoDom&&(this.renderMode===VideoRenderMode.RENDER_MODE_FIT?this._videoDom.style.objectFit="contain":this.renderMode===VideoRenderMode.RENDER_MODE_FILL?this._videoDom.style.objectFit="fill":this._videoDom.style.objectFit="cover")}},{key:"playVideo",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._videoDom,this._stream=n,this.logger.info("playVideo","play video track: ".concat(this.userId)),!(i&&i.srcObject instanceof MediaStream&&i.srcObject.getTrackById(null==(r=t.preprocessingTrack)?void 0:r.id))){e.next=4;break}try{reportRtcInvokeStatus(this.engineId,"playVideo","play video repeatedly",0,this.userId)}catch(s){}return e.abrupt("return");case 4:i||(this._initVideo(),i=this._videoDom),this.logger.info("playVideo","play video by dom: ".concat(null==i?void 0:i.id)),a=new MediaStream,t.videoPlayer=this,a.addTrack(t.preprocessingTrack),i.srcObject=a,i&&!this._containerDom.contains(this._videoContainer)&&this._containerDom.appendChild(this._videoContainer),i&&!this._videoContainer.contains(i)&&this._videoContainer.appendChild(i),setTimeout((function(){return o._internalPlay()})),n&&Config2.VIDEO_STALL&&n.startVideoStallObserve(this),this.played=!0;case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"updateSrcObject",value:function(e){var t=e.preprocessingTrack;if(t&&this._videoDom){var n=new MediaStream;n.addTrack(t),this._videoDom.srcObject=n}}},{key:"removeTrack",value:function(){var e,t=null==(e=this._videoDom)?void 0:e.srcObject;if(t){var n=t.getVideoTracks();(null==n?void 0:n.length)&&n.forEach((function(e){t.removeTrack(e)}))}}},{key:"manuallyPlay",value:function(){if(this.logger.info("Invoke VideoPlayer.manuallyPlay",this.userId,this.isScreen),this._emitPlayFailed=!1,this._hasManuallyPaused=!1,!this._videoDom)throw new SDKError(ErrorCode.INVALID_PARAMS,"Player not found");return 0!==this._videoDom.readyState||isWeChat?this._videoDom.play():Promise.resolve()}},{key:"manuallyPause",value:function(){if(this.logger.print("Invoke VideoPlayer.manuallyPause",this.userId,this.isScreen),this.played){if(this._hasManuallyPaused=!0,!this._videoDom)throw new SDKError(ErrorCode.INVALID_PARAMS,"Player not found");return this._videoDom.pause()}}},{key:"mirror",value:function(e){this.logger.info("mirror","".concat(this.userId," set mirror: ").concat(e)),this.mirrorType=e?MirrorType.MIRROR_TYPE_RENDER:MirrorType.MIRROR_TYPE_NONE,this._videoDom&&(this._videoDom.style.transform=e?"rotateY(180deg)":"")}},{key:"stop",value:function(){var e,t,n,r=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this._containerDom;this.logger.info("stop","stop video track: ".concat(this.userId)),null==(e=this._stream)||e.stopVideoStallObserve(),this._videoDom&&(i||(this._videoDom.srcObject=null),(null==a?void 0:a.contains(this._videoContainer))&&a.removeChild(this._videoContainer),null==(t=this._videoContainer)||t.childNodes.forEach((function(e){e!==r._videoDom&&e!==r._rotateDom||r._videoContainer.removeChild(e)})),(null==(n=this._rotateDom)?void 0:n.contains(this._videoDom))&&this._rotateDom.removeChild(this._videoDom)),this._hasManuallyPaused=!1,this.played=!1,this._closeIntersectionObserver()}},{key:"destroy",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.logger.info("destroy","video player: ".concat(this.userId)),this.stop(n),null==(e=this._resizeObserver)||e.disconnect(),_superPropGet(t,"removeAllListeners",this,3)([]),this._removeListeners(),internalEventBus.off(InternalEvent.ON_IOS_LOCAL_TRACK_MUTE,this._onLocalTrackMute),internalEventBus.off(InternalEvent.ON_IOS_LOCAL_TRACK_UNMUTE,this._onInterruptionEnd),internalEventBus.off(InternalEvent.ON_IOS_INTERRUPTION_END,this._onInterruptionEnd),this._videoDom&&delete this._videoDom,this._safari15VideoTimer&&(window.clearInterval(this._safari15VideoTimer),this._safari15VideoTimer=void 0)}},{key:"domElement",get:function(){return this._videoDom}}]);var n}(eventemitter3Exports.EventEmitter),AudioPlayer=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{divId:void 0,muted:!1,isScreen:!1},a=i.divId,o=i.muted,s=i.isScreen;if(_classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"_containerDom"),__publicField(_assertThisInitialized(r),"_audioDom"),__publicField(_assertThisInitialized(r),"_fakeAudioDom"),__publicField(_assertThisInitialized(r),"userId"),__publicField(_assertThisInitialized(r),"muted",!1),__publicField(_assertThisInitialized(r),"_emitPlayFailed",!1),__publicField(_assertThisInitialized(r),"played",!1),__publicField(_assertThisInitialized(r),"isScreen"),__publicField(_assertThisInitialized(r),"_wechatTimer"),__publicField(_assertThisInitialized(r),"_edgeTimer"),__publicField(_assertThisInitialized(r),"_monitor"),__publicField(_assertThisInitialized(r),"logger"),__publicField(_assertThisInitialized(r),"_pasued",!0),__publicField(_assertThisInitialized(r),"emitAudioEvent",(function(e){var t,n,i,a,o={type:"audio",rawEvent:e,readyState:(null==(t=r._audioDom)?void 0:t.readyState)||0,userId:r.userId,eventName:e.type,currentTime:(null==(n=r._audioDom)?void 0:n.currentTime)||0};"playing"===e.type&&r.logger.info("AudioPlayerPlaying","[userId-".concat(r.userId,"] audio element playing")),"pause"===e.type&&(r.logger.info("AudioPlayerPause","[userId-".concat(r.userId,"] audio element pause")),!r._pasued&&(null==(a=null==(i=r._audioDom)?void 0:i.srcObject)?void 0:a.active)&&r._internalPlay()),isAndroid&&isWeChat&&("canplay"===e.type?(clearTimeout(r._wechatTimer),r._wechatTimer=window.setTimeout((function(){r._autoPlayError("wechat")}),500)):"playing"===e.type&&clearTimeout(r._wechatTimer)),isMobile$2&&isEdge&&"error"===e.type&&(clearTimeout(r._edgeTimer),r._edgeTimer=window.setTimeout((function(){var e;0===(null==(e=r._audioDom)?void 0:e.currentTime)&&r._autoPlayError("edge")}),500)),r.emit("playback_event",o)})),__publicField(_assertThisInitialized(r),"_internalPlay",(function(){var e,t,n;if(reportRtcInvokeStatus(r.engineId,"audio _internalPlay",{paused:null==(e=r._audioDom)?void 0:e.paused,userId:r.userId,screen:r.isScreen}),null==(t=r._audioDom)?void 0:t.paused)try{var i=r._audioDom.play(),a=audioContextManager.getAudioContextInstance();if("suspended"===a.state){var o=a.resume(),s=setTimeout((function(){var e;"suspended"===a.state&&(r._autoPlayError("AudioContext cannot resume"),null==(e=r._monitor)||e.report("rtc_error",{message:"audio autoplay failed, userId: ".concat(r.userId,": Cannot resume the AudioContext - timeout"),error_code:RtcErrorCode.AUTOPLAY_FAILED})),clearTimeout(s)}));o.catch((function(e){var t;r._autoPlayError("AudioContext cannot resume"),null==(t=r._monitor)||t.report("rtc_error",{message:"audio autoplay failed, userId: ".concat(r.userId,": Cannot resume the AudioContext - rejected by: [").concat(null==e?void 0:e.name,"]").concat(null==e?void 0:e.message),error_code:RtcErrorCode.AUTOPLAY_FAILED})})).finally((function(){clearTimeout(s)}))}(null==i?void 0:i.then)&&(isAndroid&&isMobile$2&&(i=i.then((function(){return new Promise((function(e){setTimeout(_asyncToGenerator(_regeneratorRuntime().mark((function t(){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==(n=r._audioDom)||n.pause(),r._audioDom.volume=1,t.next=4,r._audioDom.play();case 4:e();case 5:case"end":return t.stop()}}),t)}))),500)}))}))),i.then((function(){reportRtcInvokeStatus(r.engineId,"_internalPlay successfully",{userId:r.userId,screen:r.isScreen}),r._pasued=!1})).catch((function(e){var t;r._autoPlayError(e),null==(t=r._monitor)||t.report("rtc_error",{message:"audio autoplay failed, userId: ".concat(r.userId,": ").concat(e.message," ").concat(e.name),error_code:RtcErrorCode.AUTOPLAY_FAILED})})))}catch(l){r._autoPlayError(l),null==(n=r._monitor)||n.report("rtc_error",{message:"audio autoplay failed, userId: ".concat(r.userId,": ").concat(l.message," ").concat(l.name),error_code:RtcErrorCode.AUTOPLAY_FAILED})}})),r.engineId=e,a){var l=document.getElementById(a);if(!l)throw new SDKError(ErrorCode.CANT_FIND_DOM,"can't find dom");r._containerDom=l}else r._containerDom=document.body;return r.userId=n,r.muted=o,r.isScreen=s,r._monitor=getMonitor(e),r.logger=new Logger$1$1("Player",0,e),r._initAudio(),_assertThisInitialized(r)}return _inherits(t,e),_createClass$1(t,[{key:"_initAudio",value:function(){this._audioDom||(this._audioDom=createElement$1("audio",{style:{display:"none"},attributes:AUDIO_ATTRIBUTES}),this._audioDom.volume=this.muted?0:1,this._audioDom.muted=this.muted,this._audioDom.id="".concat(this.userId,"_").concat(genUuid()),this._containerDom.appendChild(this._audioDom)),this._initListeners()}},{key:"_initListeners",value:function(){var e=this;this._audioDom&&MEDIA_EVENTS.forEach((function(t){var n;null==(n=e._audioDom)||n.addEventListener(t,e.emitAudioEvent)}))}},{key:"_removeListeners",value:function(){var e=this;this._audioDom&&(MEDIA_EVENTS.forEach((function(t){var n;null==(n=e._audioDom)||n.removeEventListener(t,e.emitAudioEvent)})),this._audioDom.removeEventListener("canplay",this._internalPlay),this._audioDom.removeEventListener("loadeddata",this._internalPlay))}},{key:"playAudio",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("playAudio","play audio track: ".concat(this.userId)),!((r=this._audioDom)&&r.srcObject instanceof MediaStream&&r.srcObject.getTrackById(null==(n=t.preprocessingTrack)?void 0:n.id))){e.next=4;break}return e.abrupt("return");case 4:r||(this._initAudio(),r=this._audioDom),i=new MediaStream,t instanceof runtimeTrackCls.RemoteAudioTrack?(this._fakeAudioDom=new Audio,this._fakeAudioDom.muted=!0,this._fakeAudioDom.srcObject=new MediaStream([t.originTrack]),i.addTrack(t.preprocessingTrack)):i.addTrack(t.preprocessingTrack),isAndroid&&isMobile$2&&(this._audioDom.volume=0),r.srcObject=i,null==r||r.addEventListener("canplay",this._internalPlay),null==r||r.addEventListener("loadeddata",this._internalPlay),setTimeout((function(){return a._internalPlay()})),this.played=!0;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_autoPlayError",value:function(e){var t,n;this._emitPlayFailed||(this._emitPlayFailed=!0,this.emit("playback_event",{type:"audio",rawEvent:e,readyState:(null==(t=this._audioDom)?void 0:t.readyState)||0,userId:this.userId,eventName:"autoplay-error",currentTime:(null==(n=this._audioDom)?void 0:n.currentTime)||0}))}},{key:"pause",value:function(){if(!this._audioDom)throw new SDKError(ErrorCode.INVALID_PARAMS,"Player not found");this._pasued=!0,this._audioDom.pause()}},{key:"manuallyPause",value:function(){return this.pause()}},{key:"manuallyPlay",value:function(){var e,t=this;if(this.logger.info("Invoke AudioPlayer.manuallyPlay"),this._emitPlayFailed=!1,!this._audioDom)throw new SDKError(ErrorCode.INVALID_PARAMS,"Player not found");if(!this.played)return Promise.resolve();this._audioDom.volume=1,this._audioDom.muted=!1,null==(e=this._fakeAudioDom)||e.play();var n=[],r=this._audioDom.play();(null==r?void 0:r.then)&&n.push(r);var i=audioContextManager.getAudioContextInstance();if("suspended"===i.state){var a=i.resume();(null==a?void 0:a.then)&&n.push(a)}(n.length>0?Promise.all(n):Promise.resolve(r)).then((function(){t._pasued=!1}))}},{key:"setPlaybackDevice",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("setPlaybackDevice","setPlaybackDevice: ".concat(t)),e.next=3,dd$1.enumerateAudioPlaybackDevices();case 3:if(e.t1=e.sent.map((function(e){return e.deviceId})).includes(t),!e.t1){e.next=6;break}e.t1=this._audioDom;case 6:if(e.t0=e.t1,!e.t0){e.next=9;break}e.t0=this._audioDom.setSinkId;case 9:if(e.t2=e.t0,!e.t2){e.next=13;break}return e.next=13,this._audioDom.setSinkId(t);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"stop",value:function(){var e=this._containerDom;this.logger.info("stopAudio","stop audio track: ".concat(this.userId)),this._audioDom&&(this._audioDom.srcObject=null,(null==e?void 0:e.contains(this._audioDom))&&e.removeChild(this._audioDom)),this._fakeAudioDom&&(this._fakeAudioDom.srcObject=null,this._fakeAudioDom=void 0),this.played=!1}},{key:"domElement",get:function(){return this._audioDom}},{key:"destroy",value:function(){this.logger.info("destroy","audio player: ".concat(this.userId)),this.stop(),_superPropGet(t,"removeAllListeners",this,3)([]),this._removeListeners(),this._audioDom&&(this._audioDom.srcObject=null,delete this._audioDom),this._edgeTimer&&clearTimeout(this._edgeTimer)}}]);var n,r}(eventemitter3Exports.EventEmitter);function playRemoteStream(e,t,n,r){var i=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,i){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null==r?void 0:r.get(i),Array.isArray(a)&&(a=null==a?void 0:a.find((function(e){return e.isScreen===n}))),e.t0=t,!e.t0){e.next=10;break}if(!t.played){e.next=9;break}return e.next=7,t.manuallyPlay();case 7:e.next=10;break;case 9:a&&(t instanceof VideoPlayer&&a.videoTrack&&t.playVideo(a.videoTrack,a),t instanceof AudioPlayer&&a.audioTrack&&t.playAudio(a.audioTrack));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(t)return i(e.get(t),t);var a=[];return e.forEach((function(e,t){return a.push(i(e,t))})),Promise.all(a)}var isValidAudioFile=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Audio(URL.createObjectURL(new Blob([t],n))),e.prev=1,r.muted=!0,e.next=5,r.play();case 5:return r.pause(),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc$2(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp$2(t,n,a),a},AudioMixingManager=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),__publicField(this,"_sharedAudioContext",new AudioContext),__publicField(this,"_audioDestination",this._sharedAudioContext.createMediaStreamDestination()),__publicField(this,"_localGainNode",this._sharedAudioContext.createGain()),__publicField(this,"_bufferGainNode",this._sharedAudioContext.createGain()),__publicField(this,"_audioBufferSource"),__publicField(this,"_localSource"),__publicField(this,"_context"),__publicField(this,"_failedAudioList",[]),__publicField(this,"_startingIds",new Map),__publicField(this,"_revokeURLs",new Set),__publicField(this,"mixingMap",new Map),__publicField(this,"resourcesCache",new Map),__publicField(this,"volumeConfig",new Map),__publicField(this,"cachedBuffer",[]),__publicField(this,"id","AudioMixingManager"),this.engineId=n,this._context=t,this._localGainNode.gain.value=1}),[{key:"mixMediaStream",value:function(e){this._localSource&&this._localSource.disconnect(this._localGainNode),this._localSource=this._sharedAudioContext.createMediaStreamSource(e),this._localSource.connect(this._localGainNode).connect(this._audioDestination)}},{key:"startAudioMixing",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q,h,R=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this._startingIds.get(t)){e.next=2;break}return e.abrupt("return",void console.warn("AudioMixing task id: ".concat(t," is starting")));case 2:if(this._startingIds.set(t,t),i=r.playCount,checkEnum(a=r.type,"mixingType",values(AudioMixingType)),o=this._context.getLocalAudioTrack()){e.next=8;break}return e.abrupt("return");case 8:if((s=o.preprocessingTrack)&&this.mixMediaStream(new MediaStream([s])),o.once("needReplaceTrack",(function(){R.mixMediaStream(new MediaStream([o.preprocessingTrack]))})),null==(l=this.mixingMap.get(t))?void 0:l.audioNode){l.audioNode.pause(),this._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_STOPPED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK});try{l.gainNode.disconnect(this._audioDestination),l.audioSource.disconnect(l.gainNode)}catch(_){}}if(!(d=this.resourcesCache.get(t))||d.filePath!==n){e.next=17;break}c=d.getAudioNode(),e.next=26;break;case 17:return e.next=19,fetch(n,{mode:"cors",credentials:"include"}).then((function(e){if(e.ok)return e.arrayBuffer();throw R._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_FAILED,error:AudioMixingError.AUDIO_MIXING_ERROR_START_FAILED}),new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,e.statusText)}));case 19:return u=e.sent,n.endsWith("mp3")?U={type:"audio/mpeg"}:n.endsWith("aac")&&(U={type:"audio/aac"}),e.next=23,isValidAudioFile(u,U);case 23:if(e.sent){e.next=25;break}throw this._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_FAILED,error:AudioMixingError.AUDIO_MIXING_ERROR_START_FAILED}),new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,"invalid audio resource");case 25:(c=new Audio).crossOrigin="anonymous",c.src=URL.createObjectURL(new Blob([u],U));case 26:return i<=0?c.loop=!0:i>0&&(F=i,c.onended=function(){--F>0?c.play():(R.mixingMap.delete(t),R._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_FINISHED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK}))}),e.prev=27,e.next=30,c.play();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(27),console.error(e.t0),this._failedAudioList.push(c),this._context.onAutoPlayFailed({userId:this.id,kind:"audio",streamIndex:StreamIndex.STREAM_INDEX_MAIN,mediaType:MediaType$1.AUDIO});case 35:if(this._startingIds.delete(t),p=this._sharedAudioContext.createMediaElementSource(c),Q=this._sharedAudioContext.createGain(),h=this.volumeConfig.get(t),Q.gain.value=h?h/100:1,p.connect(Q).connect(this._audioDestination),this.mixingMap.set(t,{audioSource:p,audioNode:c,gainNode:Q,type:"file"}),a===AudioMixingType.PUBLISH)try{Q.disconnect(this._sharedAudioContext.destination)}catch(_){}else Q.connect(this._sharedAudioContext.destination);this._context.updateLocalAudioTrack(this._audioDestination.stream.getAudioTracks()[0],r.type),this._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_PLAYING,error:AudioMixingError.AUDIO_MIXING_ERROR_OK});case 39:case"end":return e.stop()}}),e,this,[[27,32]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"stopAudioMixing",value:function(e){var t=this.mixingMap.get(e);t&&"file"===t.type&&(this.mixingMap.delete(e),t.audioNode.pause(),t.audioSource.disconnect(t.gainNode),t.gainNode.disconnect(this._audioDestination),this._context.emitMessage({mixId:e,state:AudioMixingState.AUDIO_MIXING_STATE_STOPPED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK}))}},{key:"pauseAudioMixing",value:function(e){var t=this.mixingMap.get(e);t&&(this._context.emitMessage({mixId:e,state:AudioMixingState.AUDIO_MIXING_STATE_PAUSED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK}),t.audioNode.pause())}},{key:"resumeAudioMixing",value:function(e){var t=this.mixingMap.get(e);t&&(this._context.emitMessage({mixId:e,state:AudioMixingState.AUDIO_MIXING_STATE_PLAYING,error:AudioMixingError.AUDIO_MIXING_ERROR_OK}),t.audioNode.play())}},{key:"preloadAudioMixing",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopAudioMixing(t),e.next=3,fetch(n,{mode:"cors",credentials:"include"}).then((function(e){if(e.ok)return e.arrayBuffer();throw new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,e.statusText)})).catch((function(e){if(a._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_FAILED,error:AudioMixingError.AUDIO_MIXING_ERROR_PRELOAD_FAILED}),e instanceof SDKError)throw e;throw new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,"Load resources failed",e)}));case 3:return r=e.sent,n.endsWith("mp3")?i={type:"audio/mpeg"}:n.endsWith("aac")&&(i={type:"audio/aac"}),e.next=7,isValidAudioFile(r,i);case 7:if(e.sent){e.next=9;break}throw this._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_FAILED,error:AudioMixingError.AUDIO_MIXING_ERROR_PRELOAD_FAILED}),new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,"Load resources failed");case 9:return this._context.emitMessage({mixId:t,state:AudioMixingState.AUDIO_MIXING_STATE_PRELOADED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK}),this.resourcesCache.set(t,{getAudioNode:function(){var e=URL.createObjectURL(new Blob([r],i));return a._revokeURLs.add(e),new Audio(e)},filePath:n,duration:0}),e.next=13,new Promise((function(e){var n=URL.createObjectURL(new Blob([r],i)),o=new Audio(n);o.addEventListener("durationchange",(function(){var r=a.resourcesCache.get(t);r&&(r.duration=o.duration,a.resourcesCache.set(t,r)),URL.revokeObjectURL(n),e(null)}))}));case 13:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"unloadAudioMixing",value:function(e){this.resourcesCache.has(e)&&this.resourcesCache.delete(e)}},{key:"getAudioMixingVolume",value:function(e){var t=this.mixingMap.get(e);return t?100*t.gainNode.gain.value:0}},{key:"setAudioMixingVolume",value:function(e,t){t<0?t=0:t>400&&(t=400),this.volumeConfig.set(e,t);var n=this.mixingMap.get(e);n&&(n.gainNode.gain.value=Number(t)/100)}},{key:"getAudioMixingDuration",value:function(e){var t=this.mixingMap.get(e),n=this.resourcesCache.get(e);return t||n?t?1e3*t.audioNode.duration:n?1e3*n.duration:0:0}},{key:"getAudioMixingCurrentPosition",value:function(e){var t=this.mixingMap.get(e);return t?1e3*t.audioNode.currentTime:0}},{key:"setAudioMixingPosition",value:function(e,t){var n=this.mixingMap.get(e);n&&(n.audioNode.currentTime=t/1e3,n.audioNode.play())}},{key:"enableAudioMixingBuffer",value:function(e){checkEnum(e,"type",values(AudioMixingType));var t=this._context.getLocalAudioTrack();if(t){var n=t.preprocessingTrack;if(n&&this.mixMediaStream(new MediaStream([n])),e===AudioMixingType.PUBLISH)try{this._bufferGainNode.disconnect(this._sharedAudioContext.destination)}catch(r){}else this._bufferGainNode.connect(this._sharedAudioContext.destination);this._context.updateLocalAudioTrack(this._audioDestination.stream.getAudioTracks()[0],e),this._bufferGainNode.connect(this._audioDestination),this._context.emitMessage({mixId:-1,state:AudioMixingState.AUDIO_MIXING_STATE_PCM_ENABLED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK})}}},{key:"disableAudioMixingBuffer",value:function(){if(this.cachedBuffer=[],this._audioBufferSource){try{this._audioBufferSource.onended=null,this._audioBufferSource.disconnect(this._bufferGainNode),this._bufferGainNode.disconnect(this._audioDestination),this._bufferGainNode.disconnect(this._sharedAudioContext.destination)}catch(e2){}finally{this._audioBufferSource=void 0}this._context.updateLocalAudioTrack(),this._context.emitMessage({mixId:-1,state:AudioMixingState.AUDIO_MIXING_STATE_PCM_DISABLED,error:AudioMixingError.AUDIO_MIXING_ERROR_OK})}}},{key:"pushAudioMixingBuffer",value:function(e){var t=this;if(!(this._audioBufferSource&&(this.cachedBuffer.push(e),this.cachedBuffer.length>0))){this._audioBufferSource=this._sharedAudioContext.createBufferSource(),this._audioBufferSource.buffer=e,this._audioBufferSource.connect(this._bufferGainNode);try{this._audioBufferSource.start()}catch(n){this._failedAudioList.push(this._audioBufferSource)}this._audioBufferSource.onended=function(){var e;if(null==(e=t._audioBufferSource)||e.disconnect(t._bufferGainNode),t._audioBufferSource=void 0,t.cachedBuffer.length){var n=t.cachedBuffer.shift();n&&t.pushAudioMixingBuffer(n)}}}}},{key:"stopAll",value:function(){var e=this;if(this._localSource)try{this._localSource.disconnect(this._localGainNode),delete this._localSource}catch(e2){}this.mixingMap.forEach((function(t,n){e.stopAudioMixing(n)}))}},{key:"mixTrack",get:function(){return this._audioDestination.stream.getAudioTracks()[0]}},{key:"sharedAudioContext",get:function(){return this._sharedAudioContext}},{key:"resumeLocalPlay",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=_createForOfIteratorHelper$1(this._failedAudioList),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=22;break}if(i=r.value,e.prev=6,!(i instanceof HTMLAudioElement)){e.next=13;break}return i.muted=!1,e.next=11,i.play();case 11:e.next=14;break;case 13:i.start();case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(6),t.push(i),console.error(e.t0),this._context.onAutoPlayFailed({userId:this.id,kind:"audio",streamIndex:StreamIndex.STREAM_INDEX_MAIN,mediaType:MediaType$1.AUDIO}),e.abrupt("break",22);case 20:e.next=4;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(2),n.e(e.t1);case 27:return e.prev=27,n.f(),e.finish(27);case 30:this._failedAudioList=t;case 31:case"end":return e.stop()}}),e,this,[[2,24,27,30],[6,16]])}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){var e=this._sharedAudioContext;"closed"!==e.state&&"function"==typeof e.close&&e.close(),this.cachedBuffer=[],this.mixingMap.clear(),this.resourcesCache.clear(),this.volumeConfig.clear(),this._startingIds=new Map,this._revokeURLs.forEach((function(e){URL.revokeObjectURL(e)}))}}]);var e,t,n}();__decorateClass$2([reportRtcSdkApiCall("id","filePath","options")],AudioMixingManager.prototype,"startAudioMixing",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"stopAudioMixing",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"pauseAudioMixing",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"resumeAudioMixing",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"preloadAudioMixing",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"unloadAudioMixing",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"getAudioMixingVolume",1),__decorateClass$2([reportRtcSdkApiCall("id","volume")],AudioMixingManager.prototype,"setAudioMixingVolume",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"getAudioMixingDuration",1),__decorateClass$2([reportRtcSdkApiCall("id")],AudioMixingManager.prototype,"getAudioMixingCurrentPosition",1),__decorateClass$2([reportRtcSdkApiCall("id","position")],AudioMixingManager.prototype,"setAudioMixingPosition",1),__decorateClass$2([reportRtcSdkApiCall("type")],AudioMixingManager.prototype,"enableAudioMixingBuffer",1),__decorateClass$2([reportRtcSdkApiCall()],AudioMixingManager.prototype,"disableAudioMixingBuffer",1),__decorateClass$2([reportRtcSdkApiCall("buffer")],AudioMixingManager.prototype,"pushAudioMixingBuffer",1);var UserRole=function(e){return e.NORMAL_USER="normalUser",e.SILENT_USER="silentUser",e}(UserRole||{}),RTMClient=function(e){function t(e){var n;return _classCallCheck$1(this,t),n=_callSuper(this,t),__publicField(_assertThisInitialized(n),"_dataChannelSignal"),__publicField(_assertThisInitialized(n),"_handler"),__publicField(_assertThisInitialized(n),"_dataChannelSignalState",MediaConnectionState.DISCONNECTED),__publicField(_assertThisInitialized(n),"_loginSessionId",null),__publicField(_assertThisInitialized(n),"_userId",null),__publicField(_assertThisInitialized(n),"_token",null),__publicField(_assertThisInitialized(n),"_loginResolveCallback"),__publicField(_assertThisInitialized(n),"_loginRejectCallback"),__publicField(_assertThisInitialized(n),"_wait_login_token",!1),__publicField(_assertThisInitialized(n),"_serverParamsCache"),__publicField(_assertThisInitialized(n),"id"),__publicField(_assertThisInitialized(n),"_connectionManager"),__publicField(_assertThisInitialized(n),"isReconnecting",!1),__publicField(_assertThisInitialized(n),"logger"),n._ctx=e,n.id=e.id,n.logger=new Logger$1$1("RTMClient",1,e.id),n._connectionManager=new ConnectionManager(e),n._addConnectHandler(),n}return _inherits(t,e),_createClass$1(t,[{key:"login",value:function(e,t){var n=this;return new Promise((function(r,i){var a;if(n.logger.info("login","invoke login, token: %o, userId: %o",e,t),n._loginSessionId)throw new SDKError(ErrorCode.ALREADY_LOGIN,"Already logined");if(n._loginResolveCallback)throw new SDKError(ErrorCode.LOGIN_FAILED,"Is logging in, please try again later.");n._userId=t,n._token=e,null==(a=getMonitor(n.id))||a.set({rtm_user_id:t}),n._loginResolveCallback=r,n._loginRejectCallback=i,n._dataChannelSignal?n._login():n.connect().then((function(){n._login()}))}))}},{key:"logout",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._loginSessionId&&this._userId){e.next=2;break}throw new SDKError(ErrorCode.NOT_LOGIN,"login first");case 2:return e.next=4,null==(t=this._dataChannelSignal)?void 0:t.sendSignaling("logout",{loginSessionId:this._loginSessionId,userId:this._userId,appId:this._ctx.appId},{functionType:SIGNALING_FUNCTION_TYPE.C2RTM}).catch((function(){}));case 4:this._clearState();case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"updateLoginToken",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._token=t,new Promise((function(e,t){n._wait_login_token?(n._loginResolveCallback=e,n._loginRejectCallback=t,n._login()):e()}))));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getPeerOnlineStatus",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._loginSessionId&&this._userId){e.next=2;break}throw new SDKError(ErrorCode.NOT_LOGIN,"login first");case 2:return this._checkDataChannelSignal(),e.next=5,this._dataChannelSignal.sendSignaling("getPeerOnlineStatus",{loginSessionId:this._loginSessionId,userId:this._userId,appId:this._ctx.appId,peerUserId:t},{functionType:SIGNALING_FUNCTION_TYPE.C2RTM});case 5:return n=e.sent,e.abrupt("return",null==n?void 0:n.status);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"sendUserMessageOutsideRoom",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._loginSessionId&&this._userId){e.next=2;break}throw new SDKError(ErrorCode.NOT_LOGIN,"login first");case 2:return e.abrupt("return",(this._checkDataChannelSignal(),this._dataChannelSignal.sendP2PMessage({from:this._userId,app:this._ctx.appId,to:t,room:"",msg:n})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"setServerParams",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,checkString(t,"signature"),checkString(n,"url"),this._loginSessionId&&this._userId){e.next=3;break}throw new SDKError(ErrorCode.NOT_LOGIN,"login first");case 3:return this._checkDataChannelSignal(),e.next=6,this._dataChannelSignal.sendSignaling("setServerParams",{loginSessionId:this._loginSessionId,userId:this._userId,appId:this._ctx.appId,signature:t,url:n},{functionType:SIGNALING_FUNCTION_TYPE.C2RTM}).catch((function(e){throw new SDKError(ErrorCode.UNEXPECTED_ERROR,e.msg)}));case 6:RTSMsgReportor.setServerUrl(this.id,n),this._serverParamsCache={signature:t,url:n},this.emit("onServerParamsSetResult"),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),this.emit("onServerParamsSetResult",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e,t){return r.apply(this,arguments)})},{key:"sendServerMessage",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._loginSessionId&&this._userId){e.next=2;break}throw new SDKError(ErrorCode.NOT_LOGIN,"login first");case 2:return e.abrupt("return",(this._checkDataChannelSignal(),this._dataChannelSignal.sendP2PMessage({from:this._userId,app:this._ctx.appId,to:"",room:"",type:DC_MESSAGE_FUNCTION_TYPE.BUSINESS_SERVER,msg:t})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"destroy",value:function(){var e;this.logger.info("destroy","invoke."),_superPropGet(t,"removeAllListeners",this,3)([]),this._loginResolveCallback&&this._loginRejectCallback&&(this._loginRejectCallback(new SDKError(ErrorCode.LOGIN_FAILED,"logout")),delete this._loginResolveCallback,delete this._loginRejectCallback),null==(e=this._dataChannelSignal)||e.destroy(),delete this._dataChannelSignal,this._clearState(),this._connectionManager.destroy(),delete this._serverParamsCache}},{key:"_login",value:function(){var e=this;if(this._userId){this._connectionManager.joinRoomCalled=!0;var t=genUuid();this._checkDataChannelSignal(),this._dataChannelSignal.sendSignaling("login",{Token:Utils.token2auth(this._ctx.appId,null,this._userId,this._token),timestamp:Date.now(),loginSessionId:t,params:{deviceType:"web",userAgent:window.navigator.userAgent,sdkVersion:Config2.VERSION,deviceId:sdkCache.getDeviceId(),appId:this._ctx.appId,userId:this._userId},accessParams:JSON.stringify({requireICEUfragV2:!0})},{functionType:SIGNALING_FUNCTION_TYPE.C2RTM}).then((function(){"function"==typeof e._loginResolveCallback&&e._loginResolveCallback(),e._loginSessionId=t,RTSMsgReportor.setRtsSessionId(e.id,t),e._wait_login_token=!1,e._serverParamsCache&&e.setServerParams(e._serverParamsCache.signature,e._serverParamsCache.url)})).catch((function(t){var n,r,i=t||{},a=i.code,o=i.message;e._wait_login_token=!1,a>=700&&a<800?708===a?(n=ErrorCode.INVALID_PARAMS,r="Invalid userId"):(n=ErrorCode.INVALID_TOKEN,r="Invalid token",e._wait_login_token=!0,e._loginRejectCallback||e.emit("onRTMTokenError")):(n=ErrorCode.LOGIN_FAILED,r="login failed"),"function"==typeof e._loginRejectCallback&&e._loginRejectCallback(new SDKError(n,o||r))})).finally((function(){delete e._loginResolveCallback,delete e._loginRejectCallback}))}}},{key:"connect",value:function(){var e=this;return new Promise((function(t,n){e._connectionManager.once("connected",(function(){return t()})),e._connectionManager.once("disconnected",n),e._connectionManager.connect()}))}},{key:"_checkDataChannelSignal",value:function(){if(!this._dataChannelSignal||this._dataChannelSignalState!==MediaConnectionState.CONNECTED)throw new SDKError(ErrorCode.NOT_CONNECTED_YET,"datachannel not connect")}},{key:"_addConnectHandler",value:function(){var e=this;this._connectionManager.on("connected",(function(t){var n,r;e._dataChannelSignalState=MediaConnectionState.CONNECTED,e.logger.info("connectStateChange","connected"),null==(n=e._handler)||n.destroy(),null==(r=e._dataChannelSignal)||r.destroy(),e._handler=createHandler(e._ctx,t.pc),e._dataChannelSignal=t.signaling,e._addSignalEventHandler(),e.isReconnecting&&e._login()})),this._connectionManager.on("disconnected",(function(t){e._dataChannelSignalState=MediaConnectionState.DISCONNECTED,e.logger.warn("connectStateChange","disconnected. %o",t),e.isReconnecting&&(e.emit("onUserDisconnection"),e._clearState())})),this._connectionManager.on("connecting",(function(){var t;e.isReconnecting=!1,null==(t=e._handler)||t.destroy(),delete e._handler,e._dataChannelSignalState=MediaConnectionState.CONNECTING,e.logger.info("connectStateChange","connecting")})),this._connectionManager.on("reconnecting",(function(){var t;e.isReconnecting=!0,null==(t=e._handler)||t.destroy(),delete e._handler,e._dataChannelSignalState=MediaConnectionState.CONNECTING,e.logger.warn("connectStateChange","reconnecting")}))}},{key:"_addSignalEventHandler",value:function(){var e,t,n,r=this;null==(e=this._dataChannelSignal)||e.on(SignalEvent.USER_MESSAGE_RECEIVED_OUTSIDE_ROOM,(function(e){r.emit("onUserMessageReceivedOutsideRoom",{userId:e.from,message:e.msg})})),null==(t=this._dataChannelSignal)||t.on(SignalEvent.USER_BINARY_MESSAGE_RECEIVED_OUTSIDE_ROOM,(function(e){r.emit("onUserBinaryMessageReceivedOutsideRoom",{userId:e.from,message:e.msg})})),null==(n=this._dataChannelSignal)||n.on(SignalEvent.USER_DISCONNECTION,(function(){r.emit("onUserDisconnection"),r._clearState()}))}},{key:"_clearState",value:function(){this._userId=null,this._token=null,this._loginSessionId=null,RTSMsgReportor.setRtsSessionId(this.id,"")}}]);var n,r,i,a,o,s}(eventemitter3Exports.EventEmitter),AudioProfileManager=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),__publicField(this,"_roomId"),__publicField(this,"_constraints",{}),__publicField(this,"_profile"),__publicField(this,"_customMaxBitrate",0),this._appId=t}),[{key:"setRoomId",value:function(e){this._roomId=e}},{key:"setAudioProfile",value:function(e){this._profile=e,this._customMaxBitrate=0}},{key:"customMaxBitrate",get:function(){return this._customMaxBitrate}},{key:"setCustomMaxBitrate",value:function(e){var t=sdkCache.getEngineWebConfig(this._appId,this._roomId||"").audio_encode;this._customMaxBitrate=(null==t?void 0:t.bitrate)?0:1e3*e}},{key:"getOpusConfigStr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=sdkCache.getEngineWebConfig(this._appId,this._roomId||"").audio_encode,n=this.getConstraints(),r=n.sampleRate,i=n.channelCount,a="number"==typeof r?r:null==r?void 0:r.exact,o="number"==typeof i?i:null==i?void 0:i.exact,s={};e.split(";").forEach((function(e){var t=_slicedToArray(e.split("="),2),n=t[0],r=t[1];n&&r&&(s[n]=r)}));var l=(null==t?void 0:t.bitrate)||this._customMaxBitrate||this._getConfigByAudioProfile().bitrate;l&&(s.maxaveragebitrate=l);var c=(null==t?void 0:t.enc_sample_rate)||a;c&&(s["sprop-maxcapturerate"]=c);var d=(null==t?void 0:t.playback_rate)||a;return d&&(s.maxplaybackrate=d),(o&&o>1||(null==t?void 0:t.stereo))&&(s["sprop-stereo"]=1,s.stereo=1),(null==t?void 0:t.dtx)&&(s.usedtx=1),Object.keys(s).map((function(e){return"".concat(e,"=").concat(s[e])})).join(";")}},{key:"updateConstraints",value:function(e){this._constraints=_objectSpread2(_objectSpread2({},this._constraints),e)}},{key:"getConstraints",value:function(){var e=_objectSpread2({},this._constraints),t=sdkCache.getEngineWebConfig(this._appId,this._roomId||"").audio_capture;isUndefined$2(null==t?void 0:t.sample_rate)||(e.sampleRate=t.sample_rate),isUndefined$2(null==t?void 0:t.channel)||(e.channelCount=t.channel),isUndefined$2(null==t?void 0:t.agc)||(e.autoGainControl=t.agc),isUndefined$2(null==t?void 0:t.ans)||(e.noiseSuppression=t.ans),isUndefined$2(null==t?void 0:t.aec)||(e.echoCancellation=t.aec);var n=this._getConfigByAudioProfile(),r=n.sampleRate,i=n.channel;return isUndefined$2(e.sampleRate)&&!isUndefined$2(r)&&(e.sampleRate=r),isUndefined$2(e.channelCount)&&!isUndefined$2(i)&&(e.channelCount=i),e}},{key:"_getConfigByAudioProfile",value:function(){var e={};switch(this._profile){case AudioProfileType.fluent:e.sampleRate=16e3,e.bitrate=24e3;break;case AudioProfileType.standard:e.sampleRate=48e3,e.bitrate=48e3;break;case AudioProfileType.hd:e.sampleRate=48e3,e.bitrate=128e3,e.channel=2;break;case AudioProfileType.standardStereo:e.sampleRate=48e3,e.bitrate=8e4,e.channel=2;break;case AudioProfileType.hdMono:e.sampleRate=48e3,e.bitrate=128e3}return e}}])}(),OutsideRoom=function(e){function t(e,n,r){var i,a=r.businessId;return _classCallCheck$1(this,t),i=_callSuper(this,t),__publicField(_assertThisInitialized(i),"_mediaServerClient"),__publicField(_assertThisInitialized(i),"_appId"),__publicField(_assertThisInitialized(i),"remoteStreams"),__publicField(_assertThisInitialized(i),"_businessId"),__publicField(_assertThisInitialized(i),"_ctx"),i.id=e,i._appId=n,i.remoteStreams=new Map,i._businessId=a,i._ctx={id:i.id,appId:i._appId,avSync:!0,audioProfileManager:new AudioProfileManager(i._appId),useCloudProxy:!1,userPriority:new Map,joinRoomConfig:new JoinRoomConfig(i.id),enableFallbackHandler:isFallbackMode(n),enableStandardHandler:isStandardMode(n),pcKillSwitch:_objectSpread2(_objectSpread2({ctor_sdpsemantics_add:!0,ctor_encodedinsetablestream_add:!0,sld_rtcpfb_rrtr_add:!0,sld_ext_sdesmid_remove:!0,sld_fmtp_sps_add:!0,sld_fmtp_bitrate_add:!0,sld_fmtp_opus_add:!0},getParameter("PC_KILLSWITCH")),getKillSwitchFromCache(i._appId))},i}return _inherits(t,e),_createClass$1(t,[{key:"connect",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._mediaServerClient=new MediaServerClient(this._ctx),this._mediaServerClient.publicStream=!0,this._businessId&&(this._mediaServerClient.businessId=this._businessId),this._bindEvents(),e.next=6,this._mediaServerClient.connect();case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"startPlayPublicStream",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.remoteStreams.get(t)){e.next=2;break}throw new SDKError(ErrorCode.REPEAT_PLAY,"repeat play public media stream");case 2:return(n=new RemoteStream(this._ctx,t,t,!1,!0,{audiostream:!0,localaudio:!0,videostream:!0,localvideo:!0,extaudio:!1,extvideo:!1,videoDescriptions:[]})).on("onSEIMessage",(function(e){if(e instanceof Uint8Array)for(var t=splitPublicStreamSei(e),i=0;i<t.seiCount;i++)r.emit(RoomEvent.ON_SEI_MESSAGED_RECEIVED,{sei:t.seis[i],publicStreamId:n.streamId})})),e.next=6,this._mediaServerClient.subscribePublicStream(n);case 6:return this.remoteStreams.set(t,n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"stopPlayPublicStream",value:function(e){var t=this.remoteStreams.get(e);if(t)return this.remoteStreams.delete(e),this._mediaServerClient.unsubscribePublicStream(t)}},{key:"destroy",value:function(){var e;this.remoteStreams.forEach((function(e){e.clean()})),this.remoteStreams=new Map,null==(e=this._mediaServerClient)||e.destroy(),this.removeAllListeners()}},{key:"_handleReconnected",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper$1(this.remoteStreams),e.prev=1,r=_regeneratorRuntime().mark((function e(){var t,r,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_slicedToArray(n.value,2),r=t[0],(a=t[1]).clean(),a.statsReport.unsubscribe(),i.remoteStreams.delete(r),i.startPlayPublicStream(r).then((function(){var e=i.remoteStreams.get(r);i.safeEmit(RoomEvent.RESUBSCRIBE,{stream:e})}));case 2:case"end":return e.stop()}}),e)})),t.s();case 4:if((n=t.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])}))),function(){return n.apply(this,arguments)})},{key:"_bindEvents",value:function(){var e,t,n=this;null==(e=this._mediaServerClient)||e.on("connectSuccess",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).reconnect&&n._handleReconnected()})),null==(t=this._mediaServerClient)||t.on("onRemoteStreamStats",(function(e){n.emit("onRemoteStreamStats",e)}))}}]);var n,r,i}(EnhancedEventEmitter),logger$2=new Logger$1$1("AudioDeviceManager",1),AudioDeviceManager=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=_callSuper(this,t),__publicField(_assertThisInitialized(r),"_audioLevelFetcher"),__publicField(_assertThisInitialized(r),"_playbackDeviceTestTimer"),__publicField(_assertThisInitialized(r),"_audioElement"),__publicField(_assertThisInitialized(r),"_audioTrack"),__publicField(_assertThisInitialized(r),"_mediaRecorder"),__publicField(_assertThisInitialized(r),"_recoderTimer"),__publicField(_assertThisInitialized(r),"_isAudioPlaybackDeviceTesting",!1),__publicField(_assertThisInitialized(r),"_isAudioDeviceRecordTesting",!1),__publicField(_assertThisInitialized(r),"_audioCaptureAndRecoderResolve"),__publicField(_assertThisInitialized(r),"_onAutoplayFailed"),__publicField(_assertThisInitialized(r),"_audioPlaybackDeviceId"),r._ctx=e,r._extensionManager=n,r}return _inherits(t,e),_createClass$1(t,[{key:"audioTrack",get:function(){return this._audioTrack}},{key:"startAudioPlaybackDeviceTest",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAudioPlaybackDeviceTesting&&!this._isAudioDeviceRecordTesting){e.next=2;break}throw new SDKError(ErrorCode.REPEAT_DEVICE_TEST,"device test cannot be called repeatedly at the same time.");case 2:return this._isAudioPlaybackDeviceTesting=!0,logger$2.info("startAudioPlaybackDeviceTest()","Invoke"),e.prev=3,e.next=6,this._playAudioFile(t,{loop:!0});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),logger$2.error("startAudioPlaybackDeviceTest()","error",e.t0),this.stopAudioPlaybackDeviceTest(),e.t0;case 11:this._startEmitAudioPlaybackDeviceTestVolume(n);case 12:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return s.apply(this,arguments)})},{key:"stopAudioPlaybackDeviceTest",value:function(){this._isAudioPlaybackDeviceTesting&&(logger$2.info("stopAudioPlaybackDeviceTest()","Invoke"),this._isAudioPlaybackDeviceTesting=!1,this._stopEmitAudioPlaybackDeviceTestVolume(),this._destroyAudioElement())}},{key:"startAudioDeviceRecordTest",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a=this,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.length>3&&void 0!==o[3]?o[3]:3e4,window.MediaRecorder){e.next=3;break}throw new SDKError(ErrorCode.NOT_SUPPORTED,"Your browser does not support MediaRecorder.");case 3:if(!this._isAudioDeviceRecordTesting&&!this._isAudioPlaybackDeviceTesting){e.next=5;break}throw new SDKError(ErrorCode.REPEAT_DEVICE_TEST,"device test cannot be called repeatedly at the same time.");case 5:return this._isAudioDeviceRecordTesting=!0,logger$2.info("startAudioDeviceRecordTest()","Invoke"),this._recoderTimer=window.setTimeout((function(){logger$2.info("startAudioDeviceRecordTest()","".concat(i,'ms automatic call method "stopAudioDeviceRecordAndPlayTest"')),a._stopAudioCaptureAndRecoder()}),i),e.prev=6,this._onAutoplayFailed=n,e.next=10,this._startAudioCaptureAndRecoder(t,null!=r?r:100);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),this._isAudioDeviceRecordTesting=!1,delete this._onAutoplayFailed,e.t0;case 15:delete this._audioCaptureAndRecoderResolve;case 16:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e,t,n){return o.apply(this,arguments)})},{key:"stopAudioDeviceRecordAndPlayTest",value:function(){logger$2.info("stopAudioDeviceRecordAndPlayTest()","Invoke"),void 0!==this._recoderTimer&&(clearTimeout(this._recoderTimer),delete this._recoderTimer),this._stopAudioCaptureAndRecoder()}},{key:"stopAudioDevicePlayTest",value:function(){this._isAudioDeviceRecordTesting&&(logger$2.info("stopAudioDevicePlayTest()","Invoke"),this._isAudioDeviceRecordTesting=!1,this._mediaRecorder&&(this._mediaRecorder.ondataavailable=null),this.stopAudioDeviceRecordAndPlayTest(),this._stopEmitAudioPlaybackDeviceTestVolume(),this._destroyAudioElement()),delete this._onAutoplayFailed}},{key:"getRecordTrack",value:function(){return this._audioTrack}},{key:"setSinkId",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(logger$2.info("setSinkId()","Invoke"),void 0!==HTMLAudioElement.prototype.setSinkId){e.next=2;break}throw new SDKError(ErrorCode.NOT_SUPPORTED,"setSinkId not supported by current browser");case 2:return e.next=4,dd$1.getAudioPlaybackDeviceById(t);case 4:if(n=e.sent){e.next=7;break}throw new SDKError(ErrorCode.INVALID_DEVICE_ID,"audio playback device id ".concat(t," is invalid"));case 7:return e.abrupt("return",(this._audioPlaybackDeviceId=t,this._setAudioCtxSinkId(),n));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getSinkId",value:function(){return this._audioPlaybackDeviceId}},{key:"destroy",value:function(){logger$2.info("destroy()","Invoke"),_superPropGet(t,"removeAllListeners",this,3)([]),this.stopAudioPlaybackDeviceTest(),this.stopAudioDevicePlayTest()}},{key:"_playAudioFile",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(logger$2.info("_playAudioFile()","Invoke url=".concat(t,"; loop=").concat(n.loop)),new Promise((function(e,i){var a=createElement$1("audio",{attributes:{src:t,crossOrigin:"anonymous"}});r._audioElement=a,a.loop=n.loop,r._audioLevelFetcher=new AudioLevelFetcher(a),a.onplaying=function(){a.onplaying=null,logger$2.info("_playAudioFile()","onplaying"),e()},a.onerror=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:logger$2.error("_playAudioFile()","onerror",t),r=t.message||(null==(n=null==a?void 0:a.error)?void 0:n.message),i(new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,"Failed to play recorded audio"+(r?", reason: ".concat(r):".")));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r._setAudioCtxSinkId().then((function(){var e,t;return null==(t=null==(e=a.play())?void 0:e.catch)?void 0:t.call(e,(function(e){logger$2.warn("_playAudioFile()","autoplay error",e);var t="Failed to play recorded audio, ".concat(e.name,": ").concat(e.message);"NotAllowedError"===e.name&&r._onAutoplayFailed?r._onAutoplayFailed((function(){var e;return Promise.all([null==(e=r._audioLevelFetcher)?void 0:e.resume(),a.play()])})):i(new SDKError(ErrorCode.LOAD_RESOURCES_FAILED,t))}))}))}))));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"_destroyAudioElement",value:function(){this._audioElement&&(logger$2.info("_destroyAudioElement()","Invoke"),this._audioElement.onplaying=null,this._audioElement.onerror=null,this._audioElement.src="",delete this._audioElement,"function"==typeof this._audioCaptureAndRecoderResolve&&this._audioCaptureAndRecoderResolve())}},{key:"_startEmitAudioPlaybackDeviceTestVolume",value:function(e){var t=this;e=Math.max(e,100),this._audioElement&&(logger$2.info("_startEmitAudioPlaybackDeviceTestVolume()","start timer(".concat(e,"ms)")),this._playbackDeviceTestTimer=self.setInterval((function(){t._audioLevelFetcher&&t.emit("onAudioPlaybackDeviceTestVolume",t._audioLevelFetcher.getAudioLevel())}),e))}},{key:"_stopEmitAudioPlaybackDeviceTestVolume",value:function(){var e;void 0!==this._playbackDeviceTestTimer&&(logger$2.info("_stopEmitAudioPlaybackDeviceTestVolume()","stop timer"),self.clearInterval(this._playbackDeviceTestTimer),delete this._playbackDeviceTestTimer),null==(e=this._audioLevelFetcher)||e.destroy(),delete this._audioLevelFetcher}},{key:"_startAudioCaptureAndRecoder",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,createMicrophoneAudioTrack(this._ctx.audioProfileManager.getConstraints(),this._extensionManager);case 2:return this._audioTrack=e.sent,this._audioTrack.setVolume(n+.01),r=new MediaStream([this._audioTrack.preprocessingTrack]),e.abrupt("return",(logger$2.info("startAudioDeviceRecordTest()","create microphone track success!"),new Promise((function(e,n){var a;"function"==typeof MediaRecorder.isTypeSupported&&(a=["audio/webm","audio/mp4"].find((function(e){return MediaRecorder.isTypeSupported(e)})),logger$2.info("startAudioDeviceRecordTest()","use mimeType: ".concat(a))),i._mediaRecorder=new MediaRecorder(r,a?{mimeType:a}:void 0);var o=i._mediaRecorder.mimeType;i._mediaRecorder.ondataavailable=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark((function r(a){var s,l;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i._isAudioDeviceRecordTesting){r.next=14;break}return logger$2.info("startAudioDeviceRecordTest()","get recorded file(mimeType: ".concat(o,").")),l=new Blob([a.data],{type:o}),r.prev=3,r.next=6,i._playAudioFile(URL.createObjectURL(l),{loop:!1});case 6:r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(3),r.abrupt("return",n(r.t0));case 11:i._startEmitAudioPlaybackDeviceTestVolume(t),null==(s=i._audioElement)||s.addEventListener("ended",(function(){i.stopAudioDevicePlayTest(),e()})),i._audioCaptureAndRecoderResolve=e,r.next=15;break;case 14:e();case 15:case"end":return r.stop()}}),r,null,[[3,8]])})));return function(e){return r.apply(this,arguments)}}(),i._mediaRecorder.onerror=function(e){n(new SDKError(ErrorCode.AUDIO_DEVICE_TEST_FAILED,e.message||"mediaRecorder error"))},i._audioCaptureAndRecoderResolve=e,i._mediaRecorder.start()}))));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_stopAudioCaptureAndRecoder",value:function(){var e;this._mediaRecorder&&("recording"===this._mediaRecorder.state&&this._mediaRecorder.stop(),delete this._mediaRecorder),null==(e=this._audioTrack)||e.close(),delete this._audioTrack}},{key:"_setAudioCtxSinkId",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._audioPlaybackDeviceId){"default"===r&&(r="");try{null==(n=null==(t=audioContextManager.getAudioContextInstance())?void 0:t.setSinkId)||n.call(t,r),logger$2.info("setSinkId","ctx.sinkId=".concat(r))}catch(i){logger$2.error("setSinkId","failed, ".concat(i.name," - ").concat(i.message))}}case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]);var n,r,i,a,o,s}(eventemitter3Exports.EventEmitter),logger$1$1=new Logger$1$1("VideoSnapshot",1),getPlayingVideoDom=function(e){var t=null==e?void 0:e.domElement;if(t&&!t.paused&&4===t.readyState)return t},takeSnapshot=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.createElement("canvas"),a=i.getContext("2d")){e.next=3;break}throw new Error("canvas.getContext error");case 3:if(o=function(e,t,r){return t=t||e.width,r=r||e.height,i.width=t,i.height=r,n?a.setTransform(-1,0,0,1,t,0):a.setTransform(1,0,0,1,0,0),a.drawImage(e,0,0,t,r),a.getImageData(0,0,t,r)},s=Date.now(),!(l=getPlayingVideoDom(r))){e.next=10;break}return logger$1$1.info("takeSnapshot","VideoPlayer already set."),e.next=8,o(l,l.videoWidth,l.videoHeight);case 8:return c=e.sent,e.abrupt("return",(logger$1$1.info("takeSnapshot","success, cost ".concat(Date.now()-s,"ms")),c));case 10:if(!window.ImageCapture){e.next=22;break}if("live"!==(d=new window.ImageCapture(t)).track.readyState||!d.track.enabled||d.track.muted){e.next=22;break}return logger$1$1.info("takeSnapshot","use ImageCapture"),e.t0=o,e.next=17,d.grabFrame();case 17:return e.t1=e.sent,e.next=20,(0,e.t0)(e.t1);case 20:return u=e.sent,e.abrupt("return",(logger$1$1.info("takeSnapshot","success, cost ".concat(Date.now()-s,"ms")),u));case 22:return e.abrupt("return",(logger$1$1.info("takeSnapshot","use temp video"),new Promise((function(e,n){var r=new MediaStream([t]),i=document.createElement("video");i.setAttribute("playsinline",""),i.muted=!0,document.body.appendChild(i),i.onplaying=function(){var n=o(i,i.videoWidth,i.videoHeight);logger$1$1.info("takeSnapshot","success, cost ".concat(Date.now()-s,"ms")),e(n),r.removeTrack(t),i.srcObject=null,i.load()},i.onerror=n,i.srcObject=r,i.play()}))));case 23:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getDefaultValue=function(){return{url:"",video:{codec:TRANSCODING_VIDEO_CODEC.H264,width:640,height:360,fps:15,gop:2,kBitRate:getKBitRate(640,360,15)},audio:{codec:"AAC",kBitRate:64,sampleRate:48e3,channels:2,AACProfile:AAC_PROFILE.LC},layout:{regions:[],appData:"",backgroundColor:"#000000"}}};function getKBitRate(e,t,n){return e*t<=288e3?n<=15?800:1200:e*t<=864e3?n<=15?1200:1800:e*t<=1152e3?n<=15?1600:2400:e*t<=2592e3?n<=15?2500:3750:n<=15?3300:5e3}function checkRtmpUrl(e){if("string"!=typeof e||!/^rtmps?:\/\//.test(e))throw new SDKError(ErrorCode.INVALID_PARAMS,"Invalid rtmp address")}function checkTranscodeRegions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!(null==e?void 0:e.length))throw new SDKError(ErrorCode.INVALID_PARAMS,"regions should not be empty.");var t,n=_createForOfIteratorHelper$1(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"!=typeof r.userId)throw new SDKError(ErrorCode.INVALID_PARAMS,"region.userId(".concat(r.userId,") should be a string."));if("boolean"!=typeof r.isScreenStream)throw new SDKError(ErrorCode.INVALID_PARAMS,"region.isScreenStream(".concat(r.isScreenStream,") should be a boolean."))}}catch(err2){n.e(err2)}finally{n.f()}}function getTranscodeControlMessage(e,t){var n,r,i,a=function(e,n){var r=e.reduce((function(e,t){return null==e?void 0:e[t]}),t),i=e.reduce((function(e,t){return null==e?void 0:e[t]}),getDefaultValue());return r&&n(r)?r:i},o=function(e){return e%2==0?e:e+1},s=o(a(["video","width"],(function(e){return e>=2&&e<=1920}))),l=o(a(["video","height"],(function(e){return e>=2&&e<=1920}))),c=a(["video","fps"],(function(e){return e>=1&&e<=60})),d=(null==(n=t.video)?void 0:n.kBitRate)||0,u=a(["audio","sampleRate"],(function(e){return!![32e3,44100,48e3].find((function(t){return t===e||t/1e3===e}))}));return{type:"transcode",action:e,transcodeMeta:{transcode:{url:t.url},control:{protocol:"2.0"},audio:{codec:a(["audio","codec"],(function(e){return"AAC"===e})),bitRate:1e3*a(["audio","kBitRate"],(function(e){return e>=32&&e<=192})),sampleRate:u<100?1e3*u:u,channels:a(["audio","channels"],(function(e){return[1,2].includes(e)})),profile:a(["audio","AACProfile"],(function(e){return[AAC_PROFILE.LC,AAC_PROFILE.HEv1,AAC_PROFILE.HEv2].includes(e)}))},video:{codec:a(["video","codec"],(function(e){return["H264","H265"].includes(e)})),fps:c,gop:a(["video","gop"],(function(e){return e>=1&&e<=5}))*c,bitRate:1e3*(d>=16&&d<=1e4?d:getKBitRate(s,l,c)),width:s,height:l},layout:{canvas:{bgnd:a(["layout","backgroundColor"],(function(e){return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e)}))},regions:(null==(i=null==(r=t.layout)?void 0:r.regions)?void 0:i.map((function(e){return{alpha:!e.alpha||Number(e.alpha)>1||Number(e.alpha)<=0?1:Number(e.alpha),uid:e.userId,zorder:!e.zorder||Number(e.zorder)<0||Number(e.zorder)>100?0:Number(e.zorder),x:!e.x||Number(e.x)>=1||Number(e.x)<0?0:Number(e.x),y:!e.y||Number(e.y)>=1||Number(e.y)<0?0:Number(e.y),w:!e.w||Number(e.w)>1||Number(e.w)<=0?1:Number(e.w),h:!e.h||Number(e.h)>1||Number(e.h)<=0?1:Number(e.h),renderMode:e.renderMode&&[1,2,3].includes(e.renderMode)?e.renderMode:1,contentControl:e.contentControl&&[0,1,2].includes(e.contentControl)?e.contentControl:0,screen:!!e.isScreenStream}})))||[],app_data:a(["layout","appData"],(function(e){return"string"==typeof e}))}}}}function checkStartParams(e){var t;checkRtmpUrl(e.url),checkTranscodeRegions(null==(t=e.layout)?void 0:t.regions)}function checckUpdateParams(e){var t;e.url&&checkRtmpUrl(e.url),checkTranscodeRegions(null==(t=e.layout)?void 0:t.regions)}function getStartParams(e){return getTranscodeControlMessage("started",e)}function getUpdateParams(e){return getTranscodeControlMessage("layoutChanged",e)}var LiveTranscoding={getDefaultValue:getDefaultValue,checkStartParams:checkStartParams,checckUpdateParams:checckUpdateParams,getStartParams:getStartParams,getUpdateParams:getUpdateParams},remoteAudioReplayTimer,MEDIA_STATES=["currentTime","duration","ended","error","muted","networkState","paused","readyState","seekable","sinkId","src","volume"],AUDIOCONTEXT_STATES=["currentTime","sampleRate","state","baseLatency","outputLatency","sinkId"],TRACK_STATES=["contentHint","enabled","id","kind","label","muted","readyState"],TRANSCEIVER_STATES=["currentDirection","direction","mid","stopped"],ac;function getStats(e){return _getStats.apply(this,arguments)}function _getStats(){return _getStats=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Date.now(),r=[],e.t0=t&&t._room&&t._room._mediaServerClient&&t._room._mediaServerClient._handler&&t._room._mediaServerClient._handler._peerConnection,!e.t0){e.next=7;break}return e.next=6,t._room._mediaServerClient._handler._peerConnection.getStats();case 6:r=e.sent;case 7:return i=[],e.abrupt("return",(r.forEach((function(e){i.push(e)})),{timestamp:n,stats:i}));case 9:case"end":return e.stop()}}),e)}))),_getStats.apply(this,arguments)}function formatSrcObject(e){var t={};if(e instanceof MediaStream){t.id=e.id,t.active=e.active;var n=e.getTracks();t.tracks=n.map((function(e){return Object.fromEntries(TRACK_STATES.map((function(t){return[t,e[t]]})))}))}return t}function getMediaElementState(e){return _getMediaElementState.apply(this,arguments)}function _getMediaElementState(){return _getMediaElementState=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),r=[],t._videoPlayer&&r.push({userId:"__local__",mediaType:"video",isScreen:!1,isPublic:!1,ele:t._videoPlayer._videoDom}),t._screenPlayer&&r.push({userId:"__local__",mediaType:"video",isScreen:!0,isPublic:!1,ele:t._screenPlayer._videoDom}),t._remoteVideoPlayer.forEach((function(e,t){r.push({userId:t,mediaType:"video",isScreen:!1,isPublic:!1,ele:e?e._videoDom:void 0})})),t._remoteScreenPlayer.forEach((function(e,t){r.push({userId:t,mediaType:"video",isScreen:!0,isPublic:!1,ele:e?e._videoDom:void 0})})),t._remoteAudioPlayer.forEach((function(e,t){r.push({userId:t,mediaType:"audio",isScreen:!1,isPublic:!1,ele:e?e._audioDom:void 0,fakeEle:e?e._fakeAudioDom:void 0})})),t._remoteScreenAudioPlayer&&t._remoteScreenAudioPlayer.forEach((function(e,t){r.push({userId:t,mediaType:"audio",isScreen:!0,isPublic:!1,ele:e?e._audioDom:void 0,fakeEle:e?e._fakeAudioDom:void 0})})),t._publicStreamVideoPlayer&&t._publicStreamVideoPlayer.forEach((function(e,t){r.push({userId:t,mediaType:"video",isScreen:!1,isPublic:!0,ele:e?e._videoDom:void 0})})),t._publicStreamAudioPlayer&&t._publicStreamAudioPlayer.forEach((function(e,t){r.push({userId:t,mediaType:"audio",isScreen:!1,isPublic:!0,ele:e?e._audioDom:void 0,fakeEle:e?e._fakeAudioDom:void 0})})),e.abrupt("return",{timestamp:n,elementStats:r.map((function(e){var t=e.ele,n=e.fakeEle,r=_objectWithoutProperties(e,_excluded3$1),i=_objectSpread2({ele:_objectSpread2({srcObject:t?formatSrcObject(t.srcObject):void 0},Object.fromEntries(MEDIA_STATES.map((function(e){return[e,t[e]]}))))},r);return n&&(i.fakeEle=_objectSpread2({srcObject:formatSrcObject(n.srcObject)},Object.fromEntries(MEDIA_STATES.map((function(e){return[e,n[e]]}))))),i}))});case 3:case"end":return e.stop()}}),e)}))),_getMediaElementState.apply(this,arguments)}function findAudioContextInEngine(e){var t=[],n=[];e&&e._room&&e._room._remoteStreams&&(n=e._room._remoteStreams.values());var r,i=_createForOfIteratorHelper$1(n);try{for(i.s();!(r=i.n()).done;){r.value.forEach((function(e){e.audioTrack&&t.push(e.audioTrack)}))}}catch(err2){i.e(err2)}finally{i.f()}e._localAudioTrack&&t.push(e._localAudioTrack),e._localScreenAudioTrack&&t.push(e._localScreenAudioTrack);for(var a=0,o=t;a<o.length;a++){var s=o[a];if(s._audioLevelFetcher&&s._audioLevelFetcher._ctx)return s._audioLevelFetcher._ctx;if(s._ac)return s._ac;if(s._audioFetchMap&&Array.from(s._audioFetchMap.values()).length)return Array.from(s._audioFetchMap.values())[0]._ctx;if(s._ap&&s._ap._ac)return s._ap._ac}return null}function getAudioContextState(e){return _getAudioContextState.apply(this,arguments)}function _getAudioContextState(){return _getAudioContextState=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),r=findAudioContextInEngine(t),i={},e.abrupt("return",r?(AUDIOCONTEXT_STATES.forEach((function(e){i[e]=r[e]})),{timestamp:n,acState:i}):{timestamp:n,acState:void 0});case 2:case"end":return e.stop()}}),e)}))),_getAudioContextState.apply(this,arguments)}function getTrack(e){var t=[];e._localAudioTrack&&t.push({userId:"__local__",mediaType:"audio",isScreen:!1,isPublic:!1,isVirtual:!1,orgTrack:e._localAudioTrack._originTrack,mediaTrack:e._localAudioTrack._mediaTrack,preprocessingTrack:e._localAudioTrack._preProcessingTrack}),e._localScreenAudioTrack&&t.push({userId:"__local__",mediaType:"audio",isScreen:!0,isPublic:!1,isVirtual:!1,orgTrack:e._localScreenAudioTrack._originTrack,mediaTrack:e._localScreenAudioTrack._mediaTrack,preprocessingTrack:e._localScreenAudioTrack._preProcessingTrack}),e._localVideoTrack&&t.push({userId:"__local__",mediaType:"video",isScreen:!1,isPublic:!1,isVirtual:!1,orgTrack:e._localVideoTrack._originTrack,mediaTrack:e._localVideoTrack._mediaTrack,preprocessingTrack:e._localVideoTrack._preProcessingTrack}),e._localScreenVideoTrack&&t.push({userId:"__local__",mediaType:"video",isScreen:!0,isPublic:!1,isVirtual:!1,orgTrack:e._localScreenVideoTrack._originTrack,mediaTrack:e._localScreenVideoTrack._mediaTrack,preprocessingTrack:e._localScreenVideoTrack._preProcessingTrack}),e._room&&e._room._remoteStreams&&e._room._remoteStreams.forEach((function(e,n){e.forEach((function(e){e.audioTrack&&t.push({userId:n,mediaType:"audio",isScreen:e.isScreen,isPublic:!1,isVirtual:!1,orgTrack:e.audioTrack._originTrack,mediaTrack:e.audioTrack._mediaTrack}),e.videoTrack&&t.push({userId:n,mediaType:"video",isScreen:e.isScreen,isPublic:!1,isVirtual:!1,orgTrack:e.videoTrack._originTrack,mediaTrack:e.videoTrack._mediaTrack})}))}));var n=e._publicStreamManager;return n||(n=e._outsideRoom),n&&n.remoteStreams.forEach((function(e,n){e.audioTrack&&t.push({userId:n,mediaType:"audio",isScreen:e.isScreen,isPublic:!0,isVirtual:!1,orgTrack:e.audioTrack._originTrack,mediaTrack:e.audioTrack._mediaTrack}),e.videoTrack&&t.push({userId:n,mediaType:"video",isScreen:e.isScreen,isPublic:!0,isVirtual:!1,orgTrack:e.videoTrack._originTrack,mediaTrack:e.videoTrack._mediaTrack})})),e&&e._room&&e._room._virtualStreams&&e._room._virtualStreams.forEach((function(e,n){e.audioTrack&&t.push({userId:"virtualStream-".concat(n),mediaType:"audio",isScreen:!1,isPublic:!1,isVirtual:!0,orgTrack:e.audioTrack._originTrack,mediaTrack:e.audioTrack._mediaTrack}),e.videoTrack&&t.push({userId:"virtualStream-".concat(n),mediaType:"video",isScreen:!1,isPublic:!1,isVirtual:!0,orgTrack:e.videoTrack._originTrack,mediaTrack:e.videoTrack._mediaTrack})})),t}function getVolumeFromTrack(e,t){return _getVolumeFromTrack.apply(this,arguments)}function _getVolumeFromTrack(){return _getVolumeFromTrack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return(r=new MediaStream).addTrack(t),i=n.createMediaStreamSource(r),a=n.createAnalyser(),i.connect(a),"suspended"===n.state&&(console.warn(n.state),n.resume()),o=new Uint8Array(2048),a.getByteTimeDomainData(o),e.next=10,new Promise((function(e){setTimeout(e,50)}));case 10:return a.getByteTimeDomainData(o),e.next=13,new Promise((function(e){setTimeout(e,50)}));case 13:return s=0,o.forEach((function(e){return s=Math.max(s,Math.abs(e-128))})),c=(l=s/128*256)>2?l:0,e.abrupt("return",(i.disconnect(),a.disconnect(),c));case 17:case"end":return e.stop()}}),e)}))),_getVolumeFromTrack.apply(this,arguments)}function getVolume(e){return _getVolume.apply(this,arguments)}function _getVolume(){return _getVolume=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Date.now(),ac||(ac=new AudioContext),e.t0="suspended"===ac.state,!e.t0){e.next=6;break}return e.next=6,new Promise((function(e){var n=setTimeout((function(){console.warn("[RTC_AMBULANCE] AudioContext resume failed, try to find one in RTCEngine"),(ac=findAudioContextInEngine(t))&&console.warn("[RTC_AMBULANCE] find AudioContext in RTCEngine success"),e()}),1e3);ac.resume().then((function(){clearTimeout(n),e()}),(function(){clearTimeout(n),ac=null,e()}))}));case 6:if(ac){e.next=8;break}return e.abrupt("return",void console.error("[RTC_AMBULANCE] get volume is not supported"));case 8:return r=getTrack(t),i=[],e.next=11,Promise.all(r.filter((function(e){return"audio"===e.mediaType})).map(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orgTrack,r=t.mediaTrack,a=t.preprocessingTrack,o=_objectWithoutProperties(t,_excluded4$1),s=_objectSpread2({},o),e.next=4,Promise.all([getVolumeFromTrack(n,ac).then((function(e){s.orgTrackVolume=e})),getVolumeFromTrack(r,ac).then((function(e){s.mediaTrackVolume=e})),getVolumeFromTrack(a,ac).then((function(e){s.preprocessingTrackVolume=e}))]);case 4:i.push(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",{timestamp:n,trackVolumes:i});case 12:case"end":return e.stop()}}),e)}))),_getVolume.apply(this,arguments)}function getTrackState(e){return _getTrackState.apply(this,arguments)}function _getTrackState(){return _getTrackState=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{timestamp:Date.now(),trackStates:getTrack(t).map((function(e){var t=e.orgTrack,n=e.mediaTrack,r=e.preprocessingTrack,i=_objectWithoutProperties(e,_excluded5$1);return _objectSpread2({orgTrack:t?Object.fromEntries(TRACK_STATES.map((function(e){return[e,t[e]]}))):void 0,mediaTrack:n?Object.fromEntries(TRACK_STATES.map((function(e){return[e,n[e]]}))):void 0,preprocessingTrack:r?Object.fromEntries(TRACK_STATES.map((function(e){return[e,r[e]]}))):void 0},i)}))});case 1:case"end":return e.stop()}}),e)}))),_getTrackState.apply(this,arguments)}function formatSenderOrReceiver(e){if(e){var t={track:e.track?e.track.id:void 0,transport:{state:e.transport?e.transport.state:void 0}};return e.transport&&e.transport.iceTransport&&(t.iceTransport={state:e.transport.iceTransport.state,role:e.transport.iceTransport.role,gatheringState:e.transport.iceTransport.gatheringState,component:e.transport.iceTransport.component}),t}}function getTranceiverState(e){return _getTranceiverState.apply(this,arguments)}function _getTranceiverState(){return _getTranceiverState=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),r=[],t._room&&t._room._mediaServerClient&&t._room._mediaServerClient._handler&&t._room._mediaServerClient._handler._peerConnection&&(r=t._room._mediaServerClient._handler._peerConnection.getTransceivers()),i=[],e.abrupt("return",(r.forEach((function(e){var t=_objectSpread2({sender:formatSenderOrReceiver(e.sender),receiver:formatSenderOrReceiver(e.receiver)},Object.fromEntries(TRANSCEIVER_STATES.map((function(t){return[t,e[t]]}))));i.push(t)})),{timestamp:n,tranceiverStates:i}));case 5:case"end":return e.stop()}}),e)}))),_getTranceiverState.apply(this,arguments)}function _ambulance2(e){return _ambulance.apply(this,arguments)}function _ambulance(){return _ambulance=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={stats:[],mediaElementStates:[],audioContextStates:[],volumes:[],trackStates:[],tranceiverStates:[]},r=[],e.next=3,new Promise((function(e){var i,a=0,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){r.push(getStats(t).then((function(e){n.stats.push(e)})),getMediaElementState(t).then((function(e){n.mediaElementStates.push(e)})),getAudioContextState(t).then((function(e){n.audioContextStates.push(e)})),getVolume(t).then((function(e){n.volumes.push(e)})),getTrackState(t).then((function(e){n.trackStates.push(e)})),getTranceiverState(t).then((function(e){n.tranceiverStates.push(e)}))),++a>=10?Promise.all(r).then((function(){e()})):(clearTimeout(i),i=setTimeout(o,500))}));i=setTimeout(o,500)}));case 3:return console.log("RTC_AMBULANCE",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),_ambulance.apply(this,arguments)}var __defProp$1$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc$1(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp$1$1(t,n,a),a},RTCEngine$1=function(e){function t(e,n,r){var i;return _classCallCheck$1(this,t),i=_callSuper(this,t),__publicField(_assertThisInitialized(i),"monitor"),__publicField(_assertThisInitialized(i),"logger"),__publicField(_assertThisInitialized(i),"_room"),__publicField(_assertThisInitialized(i),"_publicStreamManager"),__publicField(_assertThisInitialized(i),"_appId"),__publicField(_assertThisInitialized(i),"_businessId"),__publicField(_assertThisInitialized(i),"_visibility",!0),__publicField(_assertThisInitialized(i),"_localVideoTrack"),__publicField(_assertThisInitialized(i),"_localAudioTrack"),__publicField(_assertThisInitialized(i),"_localImgVideoTrack"),__publicField(_assertThisInitialized(i),"_localImgScreenTrack"),__publicField(_assertThisInitialized(i),"_localScreenVideoTrack"),__publicField(_assertThisInitialized(i),"_localScreenAudioTrack"),__publicField(_assertThisInitialized(i),"_tempMixingAudioTrack"),__publicField(_assertThisInitialized(i),"_localAudioVolume",100),__publicField(_assertThisInitialized(i),"_localScreenAudioVolume",100),__publicField(_assertThisInitialized(i),"_remoteAudioVolume",new Map),__publicField(_assertThisInitialized(i),"_remoteScreenAudioVolume",new Map),__publicField(_assertThisInitialized(i),"_publicAudioVolume",new Map),__publicField(_assertThisInitialized(i),"_videoPlayer"),__publicField(_assertThisInitialized(i),"_screenPlayer"),__publicField(_assertThisInitialized(i),"_remoteVideoPlayer",new Map),__publicField(_assertThisInitialized(i),"_remoteScreenPlayer",new Map),__publicField(_assertThisInitialized(i),"_remoteAudioPlayer",new Map),__publicField(_assertThisInitialized(i),"_remoteScreenAudioPlayer",new Map),__publicField(_assertThisInitialized(i),"_publicStreamAudioPlayer",new Map),__publicField(_assertThisInitialized(i),"_publicStreamVideoPlayer",new Map),__publicField(_assertThisInitialized(i),"_publicStreamIds",new Map),__publicField(_assertThisInitialized(i),"_roomConfig"),__publicField(_assertThisInitialized(i),"_videoStreamConstraints",_objectSpread2({},defaultVideoEncoderConfig)),__publicField(_assertThisInitialized(i),"_audioStreamConstraints",{}),__publicField(_assertThisInitialized(i),"_enableSimulcast",!1),__publicField(_assertThisInitialized(i),"_videoStreamEncodeConfig",[_objectSpread2({},defaultVideoEncoderConfig)]),__publicField(_assertThisInitialized(i),"_screenStreamEncodeConfig",[_objectSpread2({},defaultScreenEncoderConfig)]),__publicField(_assertThisInitialized(i),"_dummyMainImage"),__publicField(_assertThisInitialized(i),"_dummyScreenImage"),__publicField(_assertThisInitialized(i),"_trackSourceType"),__publicField(_assertThisInitialized(i),"_liveTranscodeConfig"),__publicField(_assertThisInitialized(i),"_startCloudProxyTimestamp"),__publicField(_assertThisInitialized(i),"_localVideoDeviceId"),__publicField(_assertThisInitialized(i),"_pauseAllSubscribeState",{audio:void 0,video:void 0,resumeAudioStreamIds:{},resumeVideoStreamIds:{}}),__publicField(_assertThisInitialized(i),"_audioVolumeIndicationTimer"),__publicField(_assertThisInitialized(i),"_dummyMainTimer"),__publicField(_assertThisInitialized(i),"_dummyScreenTimer"),__publicField(_assertThisInitialized(i),"_audioPropertiesReportTimer",null),__publicField(_assertThisInitialized(i),"_mirrorType",MirrorType.MIRROR_TYPE_RENDER),__publicField(_assertThisInitialized(i),"_audioMixingManager"),__publicField(_assertThisInitialized(i),"_pubLock"),__publicField(_assertThisInitialized(i),"_subLocks"),__publicField(_assertThisInitialized(i),"_audioCaptureLock"),__publicField(_assertThisInitialized(i),"_videoCaptureLock"),__publicField(_assertThisInitialized(i),"_screenCaptureLock"),__publicField(_assertThisInitialized(i),"_subScreenLocks"),__publicField(_assertThisInitialized(i),"_rtmClient"),__publicField(_assertThisInitialized(i),"_messageStatisticsObserver"),__publicField(_assertThisInitialized(i),"_tempRoomInfo"),__publicField(_assertThisInitialized(i),"_originIceConfigRequestUrls"),__publicField(_assertThisInitialized(i),"_originConfigServerUrls"),__publicField(_assertThisInitialized(i),"_originLogServerUrl"),__publicField(_assertThisInitialized(i),"_extensionManager"),__publicField(_assertThisInitialized(i),"_audioDeviceManager"),__publicField(_assertThisInitialized(i),"_remoteVideoConfig",new Map),__publicField(_assertThisInitialized(i),"_config"),__publicField(_assertThisInitialized(i),"_needClosePreTrack",!1),__publicField(_assertThisInitialized(i),"_ctx"),__publicField(_assertThisInitialized(i),"_tokenPublishPriviledgeExpired",!1),__publicField(_assertThisInitialized(i),"_tokenSubscribePriviledgeExpired",!1),__publicField(_assertThisInitialized(i),"_updateMixAudioTrack",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:AudioMixingType.PLAYOUT_AND_PUBLISH,i.logger.info("_updateMixAudioTrack()"),!i._localAudioTrack){e.next=10;break}if(t?(i._localAudioTrack.mixType=n,i._localAudioTrack.mixedAudioTrack=t):(delete i._localAudioTrack.mixType,delete i._localAudioTrack.mixedAudioTrack),e.t0=null==(r=i._room)?void 0:r.hasPublished,!e.t0){e.next=8;break}return e.next=8,i._updatePublish();case 8:e.next=11;break;case 10:t&&(i._tempMixingAudioTrack={track:t,type:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),__publicField(_assertThisInitialized(i),"_onAudioMixingMessage",(function(e){i.safeEmit(EngineEventsTypes.onAudioMixingStateChanged,e)})),__publicField(_assertThisInitialized(i),"_onAudioMixingAutoplayFailed",(function(e){i.safeEmit(EngineEventsTypes.onAutoplayFailed,e)})),i.id=n,i._appId=e,i.monitor=getMonitor(n),i._ctx={id:n,appId:e,avSync:!0,streamRTT:{},useCloudProxy:!1,audioProfileManager:new AudioProfileManager(e),userPriority:new Map,expectedIDC:null==r?void 0:r.expectedIDC,joinRoomConfig:new JoinRoomConfig(n),enableFallbackHandler:isFallbackMode(e),enableStandardHandler:isStandardMode(e),pcKillSwitch:_objectSpread2(_objectSpread2({ctor_sdpsemantics_add:!0,ctor_encodedinsetablestream_add:!0,sld_rtcpfb_rrtr_add:!0,sld_ext_sdesmid_remove:!0,sld_fmtp_sps_add:!0,sld_fmtp_bitrate_add:!0,sld_fmtp_opus_add:!0},getParameter("PC_KILLSWITCH")),getKillSwitchFromCache(i._appId))},i._pubLock=new PromiseLock2("pubLock"),i._subLocks=new Map,i._subScreenLocks=new Map,i._audioCaptureLock=new PromiseLock2("audioCap"),i._videoCaptureLock=new PromiseLock2("videoCap"),i._screenCaptureLock=new PromiseLock2("screenCap"),i._addDeviceEventHandler(),i._extensionManager=new ExtensionManager(n),i._audioDeviceManager=new AudioDeviceManager(i._ctx,i._extensionManager),i._audioMixingManager=new AudioMixingManager({getLocalAudioTrack:function(){return i._localAudioTrack},updateLocalAudioTrack:i._updateMixAudioTrack,emitMessage:i._onAudioMixingMessage,onAutoPlayFailed:i._onAudioMixingAutoplayFailed},n),window.__rtc_engine__=_assertThisInitialized(i),window["__rtc_engine__".concat(Math.floor(100*Math.random()+1))]=_assertThisInitialized(i),i._trackSourceType={video:VideoSourceType.VIDEO_SOURCE_TYPE_INTERNAL,screenVideo:VideoSourceType.VIDEO_SOURCE_TYPE_INTERNAL,audio:AudioSourceType.AUDIO_SOURCE_TYPE_INTERNAL,screenAudio:AudioSourceType.AUDIO_SOURCE_TYPE_INTERNAL},i._config=r,i._rtmClient=new RTMClient(i._ctx),i._handleRTMClient(i._rtmClient),i._handleAudioDeviceManager(),i._messageStatisticsObserver=new MessageStatisticsObserver(n),i.logger=new Logger$1$1("Engine",0,n),RTSMsgReportor.createRTSMsgReportor(i.id),i._getServerConfig(),i.monitor.reportLongString("NativeDetector",JSON.stringify(detectorResults)),i}return _inherits(t,e),_createClass$1(t,[{key:"appId",get:function(){return this._appId},set:function(e){this._appId=e}},{key:"updateToken",value:(Je=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updateToken()","token: %s",t),checkString(t,"token"),!this.waitForNewToken||!this._tempRoomInfo){e.next=6;break}return n=this._tempRoomInfo,r=n.config,i=n.userInfo,a=n.roomId,delete this._tempRoomInfo,e.next=5,this.joinRoom(t,a,i,r);case 5:return e.abrupt("return",e.sent);case 6:if(this._room){e.next=8;break}throw new SDKError(ErrorCode.UPDATE_TOKEN_BEFORE_JOIN,"update token before join room");case 8:return e.next=10,this._room.updateToken(t);case 10:if(!this._tokenPublishPriviledgeExpired){e.next=16;break}if(o=this._room._roomConfig.isAutoPublish,e.t0=o&&this._visibility,!e.t0){e.next=16;break}return e.next=16,this._updatePublish({mediaType:MediaType$1.AUDIO_AND_VIDEO});case 16:if(!this._tokenSubscribePriviledgeExpired){e.next=32;break}if(s=this._room._roomConfig,l=s.isAutoSubscribeAudio,c=s.isAutoSubscribeVideo,!l||!c){e.next=23;break}return e.next=21,this._triedResumeAllRemoteStreams(MediaType$1.AUDIO_AND_VIDEO,!0);case 21:case 26:e.next=32;break;case 23:if(!l){e.next=28;break}return e.next=26,this._triedResumeAllRemoteStreams(MediaType$1.AUDIO,!0);case 28:if(e.t1=c,!e.t1){e.next=32;break}return e.next=32,this._triedResumeAllRemoteStreams(MediaType$1.VIDEO,!0);case 32:case"end":return e.stop()}}),e,this)}))),function(e){return Je.apply(this,arguments)})},{key:"setVideoCaptureDevice",value:(Ce=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("setVideoCaptureDevice()","deviceId: %s",t),checkString(t,"deviceId"),this._localVideoDeviceId=t,this._localVideoTrack){e.next=2;break}return e.abrupt("return");case 2:if(!isWeChat||!isAndroid){e.next=5;break}if(this._localVideoTrack.originTrack.getSettings().deviceId!==t){e.next=5;break}return e.abrupt("return");case 5:return a=assignIn$1({},this._videoStreamConstraints),"user"===t||"environment"===t||"left"===t||"right"===t?(delete a.deviceId,a.facingMode=t):!isDingTalk||isIOS?a.deviceId={exact:t}:delete a.deviceId,isAndroid&&isChrome&&chromeVersion>=85&&chromeVersion<=91&&(null==(n=this._videoPlayer)||n.removeTrack()),this._needClosePreTrack=this._needClosePreTrack||unsupportedSimultaneousCapture,this._needClosePreTrack&&(this._removeLocalTrackEvents(this._localVideoTrack),this._localVideoTrack.close(),delete this._localVideoTrack),this.logger.info("setVideoCaptureDevice()","start createCameraVideoTrack..."),e.next=9,createCameraVideoTrack(a,this._extensionManager).catch((function(e){if(s._localVideoTrack&&!s._localVideoTrack.dummy)return s.logger.warn("setVideoCaptureDevice()","createCameraVideoTrack failed, stop pre VideoTrack."),s._removeLocalTrackEvents(s._localVideoTrack),s._localVideoTrack.close(),delete s._localVideoTrack,createCameraVideoTrack(a,s._extensionManager).then((function(e){return s._needClosePreTrack=!0,e})).catch(_asyncToGenerator(_regeneratorRuntime().mark((function t(){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.logger.error("setVideoCaptureDevice()","createCameraVideoTrack failed, rollback."),t.next=3,createCameraVideoTrack(s._videoStreamConstraints,s._extensionManager);case 3:throw n=t.sent,s._switchTrack(n),e;case 5:case"end":return t.stop()}}),t)}))));throw e}));case 9:return o=e.sent,this.logger.success("setVideoCaptureDevice()","createCameraVideoTrack success."),this._videoStreamConstraints=a,this._localVideoTrack&&(this._removeLocalTrackEvents(this._localVideoTrack),this._localVideoTrack.close()),(null==(r=this._videoStreamEncodeConfig[0])?void 0:r.contentHint)&&o.setContentHint(null==(i=this._videoStreamEncodeConfig[0])?void 0:i.contentHint),e.next=16,this._switchTrack(o);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return Ce.apply(this,arguments)})},{key:"setAudioCaptureDevice",value:(be=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("setAudioCaptureDevice()","deviceId: %s",t),checkString(t,"deviceId"),this._ctx.audioProfileManager.updateConstraints({deviceId:{exact:t}}),this._localAudioTrack){e.next=2;break}return e.abrupt("return");case 2:return this._localAudioTrack.close(),this._removeLocalTrackEvents(this._localAudioTrack),e.next=5,createMicrophoneAudioTrack(this._ctx.audioProfileManager.getConstraints(),this._extensionManager);case 5:if(r=e.sent,this._initLocalTrackEvents(r),this._localAudioTrack=r,this._localAudioTrack.setVolume(this._localAudioVolume),e.t0=this._room&&(null==(n=this._room.localStream)?void 0:n.pubAudio),!e.t0){e.next=13;break}return e.next=13,this._updatePublish();case 13:case"end":return e.stop()}}),e,this)}))),function(e){return be.apply(this,arguments)})},{key:"_addDeviceEventHandler",value:function(){dd$1.on(EngineEventsTypes.onVideoDeviceStateChanged,this._onVideoDeviceStateChange.bind(this)),dd$1.on(EngineEventsTypes.onAudioDeviceStateChanged,this._onAudioDeviceStateChange.bind(this))}},{key:"_addHandlerEventHandler",value:function(){var e,t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O,A,w,x,P=this;null==(e=this._room)||e.on(SignalEvent.ON_ADD_STREAM,this._onAddStream.bind(this)),null==(t=this._room)||t.on(SignalEvent.ON_REMOVE_STREAM,this._onRemoveStream.bind(this)),null==(n=this._room)||n.on(SignalEvent.USER_CONNECTION,this._onUserConnection.bind(this)),null==(r=this._room)||r.on(RoomEvent.ON_USER_LEAVE,this._onUserLeave.bind(this)),null==(i=this._room)||i.on(RoomEvent.ON_ROOM_ERROR,this._onRoomError.bind(this)),null==(a=this._room)||a.on(RoomEvent.ON_NETWORK_QUALITY,this._onNetworkQuality.bind(this)),null==(o=this._room)||o.on(SignalEvent.ON_CUSTOM_MESSAGE,this._onCustomMessage.bind(this)),null==(s=this._room)||s.on(SignalEvent.USER_MESSAGE_RECEIVED,this._onUserMessageReceived.bind(this)),null==(l=this._room)||l.on(SignalEvent.USER_BINARY_MESSAGE_RECEIVED,this._onUserBinaryMessageReceived.bind(this)),null==(c=this._room)||c.on(SignalEvent.ON_USER_TOKEN_WILL_EXPIRE,this._onUserTokenWillExpire.bind(this)),null==(d=this._room)||d.on(SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_WILL_EXPIRE,this._onUserTokenPublishPriviledgeWillExpire.bind(this)),null==(u=this._room)||u.on(SignalEvent.ON_TOKEN_PUBLISH_PRIVILEGE_DID_EXPIRED,this._onUserTokenPublishPriviledgeDidExpired.bind(this)),null==(U=this._room)||U.on(SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_WILL_EXPIRE,this._onUserTokenSubscribePriviledgeWillExpire.bind(this)),null==(F=this._room)||F.on(SignalEvent.ON_TOKEN_SUBSCRIBE_PRIVILEGE_DID_EXPIRED,this._onUserTokenSubscribePriviledgeDidExpired.bind(this)),null==(p=this._room)||p.on(SignalEvent.POST_PROCESSING_MESSAGE,(function(e){"2.0"===e.protocol?P._onStreamMixingEvent({error:e.error,event:e.eventType,message:e.message}):"publicStreamCallback"===e.type?P._onPushPublicStreamResult(e):"transcodeStatusCallback"===e.type&&P._onLiveTranscodingResult(e)})),null==(Q=this._room)||Q.on(StateEvent.ON_CONNECTION_STATE_CHANGE,this._onConnectionStateChange.bind(this)),null==(h=this._room)||h.on(StateEvent.ON_VENDOR_CONNECTION_STATE_CHANGE,(function(e){return P.safeEmit(EngineEventsTypes.onVendorConnectionStateChanged,e)})),null==(R=this._room)||R.on(RoomEvent.RESUBSCRIBE,this._onResubscribe.bind(this)),null==(_=this._room)||_.on(RoomEvent.SUBSCRIBE_PUSH_TRACK,this._onSubscribePushTrack.bind(this)),null==(S=this._room)||S.on(RoomEvent.REMOVE_PUSH_TRACK,this._onRemovePushTrack.bind(this)),null==(B=this._room)||B.on(RoomEvent.ON_PUBLISH_RESULT,(function(e){var t;e.state===PublishState.PUBLISH_SUCC&&(P._tokenPublishPriviledgeExpired=!1),e.state===PublishState.PUBLISH_FAIL&&e.errorCode===ErrorCode.TOKEN_NO_PUBLISH_PERMISSION&&(P._tokenPublishPriviledgeExpired=!0);var n=!(e.retry||!(null==(t=P._room)?void 0:t._roomConfig.isAutoPublish));n&&P.safeEmit(EngineEventsTypes.onAutoPublishResult,e),P.safeEmit(EngineEventsTypes.onPublishResult,{isScreen:e.isScreen,isAutoPublish:n,errorCode:e.errorCode})})),null==(m=this._room)||m.on(RoomEvent.ON_SUBSCRIBE_RESULT,(function(e){e.state===SubscribeState.SUBSCRIBE_SUCC&&(P._tokenSubscribePriviledgeExpired=!1),e.state===SubscribeState.SUBSCRIBE_FAIL&&e.errorCode===ErrorCode.TOKEN_NO_SUBSCRIBE_PERMISSION&&P._handleLoseSubscribePriviledge(),P.safeEmit(EngineEventsTypes.onSubscribeResult,{userId:e.userId,isScreen:e.isScreen,isAutoSubscribe:!1,errorCode:e.errorCode})})),null==(f=this._room)||f.on(RoomEvent.ON_REMOTE_STREAM_STATS,(function(e){P.safeEmit(EngineEventsTypes.onRemoteStreamStats,e)})),null==(E=this._room)||E.on(RoomEvent.ON_LOCAL_STREAM_STATS,(function(e){P.safeEmit(EngineEventsTypes.onLocalStreamStats,e)})),null==(v=this._room)||v.on(RoomEvent.ON_SUBTITLE_STATE_CHANGED,(function(e){P.safeEmit(EngineEventsTypes.onSubtitleStateChanged,e)})),null==(y=this._room)||y.on(RoomEvent.ON_SUBTITLE_MESSAGE_RECEIVED,(function(e){P.safeEmit(EngineEventsTypes.onSubtitleMessageReceived,e)})),null==(g=this._room)||g.on(RoomEvent.ON_USER_PUBLISH_STATE_CHANGE,this._onUserPublishStateChange.bind(this)),null==(T=this._room)||T.on(RoomEvent.ON_USER_START_AUDIO_CAPTURE,(function(e,t){var n=e.userId;P._updateAudioPlayerState(t),P.safeEmit(EngineEventsTypes.onUserStartAudioCapture,{userId:n})})),null==(V=this._room)||V.on(RoomEvent.ON_USER_STOP_AUDIO_CAPTURE,(function(e){var t=e.userId;P.safeEmit(EngineEventsTypes.onUserStopAudioCapture,{userId:t})})),null==(k=this._room)||k.on(RoomEvent.ON_USER_START_VIDEO_CAPTURE,(function(e){var t=e.userId;P.safeEmit(EngineEventsTypes.onUserStartVideoCapture,{userId:t})})),null==(N=this._room)||N.on(RoomEvent.ON_USER_STOP_VIDEO_CAPTURE,(function(e){var t=e.userId;P.safeEmit(EngineEventsTypes.onUserStopVideoCapture,{userId:t})})),null==(b=this._room)||b.on(RoomEvent.ON_SEI_MESSAGED_RECEIVED,(function(e){P.safeEmit(EngineEventsTypes.onSEIMessageReceived,e)})),null==(C=this._room)||C.on(RoomEvent.ON_REMOTE_VIDEO_SIZE_CHANGED,(function(e,t){P.safeEmit(EngineEventsTypes.onRemoteVideoSizeChanged,e,t)})),null==(J=this._room)||J.on(RoomEvent.ON_SIMULCAST_SUBSCRIBE_FALLBACK,(function(e){return P.safeEmit(EngineEventsTypes.onSimulcastSubscribeFallback,e)})),null==(W=this._room)||W.on(RoomEvent.RECONNECT_FAILED,(function(){P.safeEmit(EngineEventsTypes.onError,{errorCode:ErrorCode.RECONNECT_FAILED})})),null==(D=this._room)||D.on(RoomEvent.ON_VIDEO_STREAM_BANNED,(function(e){P.safeEmit(EngineEventsTypes.onVideoStreamBanned,{uid:e.uid,banned:e.banned})})),null==(Z=this._room)||Z.on(RoomEvent.ON_AUDIO_STREAM_BANNED,(function(e){P.safeEmit(EngineEventsTypes.onAudioStreamBanned,{uid:e.uid,banned:e.banned})})),null==(M=this._room)||M.on(RoomEvent.ON_FORWARD_STREAM_ERROR,(function(e){P.safeEmit(EngineEventsTypes.onForwardStreamError,e)})),null==(I=this._room)||I.on(RoomEvent.ON_REJOIN_WITH_TCP,(function(){P.safeEmit(EngineEventsTypes.onRejoinWithTcp)})),null==(O=this._room)||O.on(RoomEvent.ON_ICE_CONNECT_WITH_TCP,(function(){P.safeEmit(EngineEventsTypes.onIceConnectWithTcp)})),null==(A=this._room)||A.on(RoomEvent.PUB_RETRY,(function(e){P.safeEmit(EngineEventsTypes.onPublishRetry,e)})),null==(w=this._room)||w.on(RoomEvent.SUB_RETRY,(function(e){P.safeEmit(EngineEventsTypes.onSubscribeRetry,e)})),null==(x=this._room)||x.on(RoomEvent.VIDEO_TYPE_CHANGE,(function(e){P.safeEmit(EngineEventsTypes.onSEIStreamUpdate,e)}))}},{key:"safeEmit",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return isReportCallback(e)&&reportRtcSdkCallback(this.id,e,r),_superPropGet(t,"safeEmit",this,3)([e].concat(r))}},{key:"_removeHandlerEventHandler",value:function(){var e;null==(e=this._room)||e.removeAllListeners()}},{key:"connect",value:(Ne=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._room,e.t0){e.next=6;break}return this._room=new Room({isAutoPublish:!0,isAutoSubscribeAudio:!0,isAutoSubscribeVideo:!0,roomProfileType:RoomProfileType.communication},this._ctx),this._addHandlerEventHandler(),e.next=6,this._room.connect(this._appId);case 6:case"end":return e.stop()}}),e,this)}))),function(){return Ne.apply(this,arguments)})},{key:"joinRoom",value:(ke=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var a,o,s,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("joinRoom()","token: %o roomId: %o, userInfo: %o, roomConfig: %o",t,n,r,i),isEmpty(t)||checkString(t,"token"),checkRoomId(n),checkUserInfo(r),checkRoomConfig(i=assignIn$1({isAutoPublish:!0,isAutoSubscribeAudio:!0,isAutoSubscribeVideo:!0,roomProfileType:RoomProfileType.communication},i)),(null==(a=this._room)?void 0:a.connectionState)!==MediaConnectionState.CONNECTED){e.next=2;break}throw new SDKError(ErrorCode.REPEAT_JOIN,"Already joined");case 2:return this.monitor.report("rtc_sdk_api_call",{sdk_api_name:"host",message:location.host,error_code:0}),this._room||(this._room=new Room(i,this._ctx),this._addHandlerEventHandler()),this._room.roomConfig=i,s=this._liveTranscodeConfig&&LiveTranscoding.getStartParams(this._liveTranscodeConfig),l=_objectSpread2(_objectSpread2({},r),{},{businessId:this._businessId,role:this._visibility?UserRole.NORMAL_USER:UserRole.SILENT_USER}),e.prev=4,this._ctx.useCloudProxy&&(this._startCloudProxyTimestamp=Date.now()),checkSourceLanguage(l),e.next=8,this._room.join(this._appId,n,t,l,s);case 8:return c=e.sent,e.abrupt("return",(this._roomConfig=i,this._ctx.audioProfileManager.setRoomId(n),this._tempRoomInfo&&delete this._tempRoomInfo,i.isAutoPublish&&(this._visibility?this._updatePublish({invokeByJoinRoom:!0,mediaType:MediaType$1.AUDIO_AND_VIDEO}):(this.safeEmit(EngineEventsTypes.onAutoPublishResult,{isScreen:!1,state:PublishState.PUBLISH_FAIL}),this.safeEmit(EngineEventsTypes.onPublishResult,{isScreen:!1,isAutoPublish:!0,errorCode:ErrorCode.NO_PUBLISH_PERMISSION}))),RTSMsgReportor.setRoomId(this.id,n),RTSMsgReportor.setUserId(this.id,r.userId),c));case 12:throw e.prev=12,e.t0=e.catch(4),e.t0.code===ErrorCode.INVALID_TOKEN&&(this._tempRoomInfo={config:i,roomId:n,userInfo:l}),null==(o=this._room)||o.destroy(),delete this._room,e.t0;case 15:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e,t,n,r){return ke.apply(this,arguments)})},{key:"leaveRoom",value:(Ve=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],this.logger.info("leaveRoom()"),!t){e.next=7;break}return e.next=5,null==(n=this._room)?void 0:n.leave(t);case 5:e.next=8;break;case 7:null==(r=this._room)||r.leave(t).catch();case 8:this._removeHandlerEventHandler(),this._subLocks=new Map,this._subScreenLocks=new Map,this._ctx.audioProfileManager.setRoomId(),this._liveTranscodeConfig&&this.stopLiveTranscoding(),this._room=void 0,this._remoteAudioPlayer.forEach((function(e){return e.destroy()})),this._remoteAudioPlayer=new Map,this._remoteScreenAudioPlayer.forEach((function(e){return e.destroy()})),this._remoteScreenAudioPlayer=new Map,this._remoteScreenPlayer.forEach((function(e){return e.destroy()})),this._remoteScreenPlayer=new Map,this._remoteVideoPlayer.forEach((function(e){return e.destroy()})),this._remoteVideoPlayer=new Map,this._roomConfig=void 0,this._publicStreamIds=new Map,RTSMsgReportor.setRoomId(this.id,""),RTSMsgReportor.setUserId(this.id,"");case 26:case"end":return e.stop()}}),e,this)}))),function(){return Ve.apply(this,arguments)})},{key:"_destroyLocalTrack",value:function(){this._localAudioTrack&&(this._removeLocalTrackEvents(this._localAudioTrack),this._localAudioTrack.close(),this._localAudioTrack=void 0),this._localVideoTrack&&(this._removeLocalTrackEvents(this._localVideoTrack),this._localVideoTrack.close(),this._localVideoTrack=void 0),this._localScreenAudioTrack&&(this._removeLocalTrackEvents(this._localScreenAudioTrack),this._localScreenAudioTrack.close(),this._localScreenAudioTrack=void 0),this._localScreenVideoTrack&&(this._removeLocalTrackEvents(this._localScreenVideoTrack),this._localScreenVideoTrack.close(),this._localScreenVideoTrack=void 0),this._localImgVideoTrack&&(this._localImgVideoTrack.stop(),this._localImgVideoTrack=void 0),this._localImgScreenTrack&&(this._localImgScreenTrack.stop(),this._localImgScreenTrack=void 0)}},{key:"destroy",value:function(){var e,t,n;this.logger.info("destroy()"),this.removeAllListeners(),this._removeHandlerEventHandler(),null==(e=this._room)||e.destroy(),this._room=void 0,null==(t=this._videoPlayer)||t.destroy(),this._subLocks=new Map,this._subScreenLocks=new Map,this._audioCaptureLock=new PromiseLock2("audioCap"),this._videoCaptureLock=new PromiseLock2("videoCap"),this._screenCaptureLock=new PromiseLock2("screenCap"),this._videoPlayer=void 0,this._screenPlayer=void 0,this._videoStreamConstraints={},this._videoStreamEncodeConfig=[defaultVideoEncoderConfig],this._screenStreamEncodeConfig=[defaultScreenEncoderConfig],this._pauseAllSubscribeState={audio:void 0,video:void 0,resumeVideoStreamIds:{},resumeAudioStreamIds:{}},this._messageStatisticsObserver.destroy(),this.monitor.destroy(),RTSMsgReportor.destroyRTSMsgReportor(this.id),clearInterval(this._audioVolumeIndicationTimer),clearInterval(this._dummyMainTimer),clearInterval(this._dummyScreenTimer),this._audioVolumeIndicationTimer=void 0,this._stopAudioPropertiesReport(),this._destroyLocalTrack(),internalEventBus.on("".concat(this.id,"capture-end"),this._destroyLocalTrack.bind(this)),this._remoteAudioPlayer.forEach((function(e){return e.destroy()})),this._remoteAudioPlayer=new Map,this._remoteScreenAudioPlayer.forEach((function(e){return e.destroy()})),this._remoteScreenAudioPlayer=new Map,this._remoteScreenPlayer.forEach((function(e){return e.destroy()})),this._remoteScreenPlayer=new Map,this._remoteVideoPlayer.forEach((function(e){return e.destroy()})),this._remoteVideoPlayer=new Map,this._publicStreamAudioPlayer.forEach((function(e){return e.destroy()})),this._publicStreamAudioPlayer=new Map,this._publicStreamVideoPlayer.forEach((function(e){return e.destroy()})),this._publicStreamVideoPlayer=new Map,this._roomConfig=void 0,this._audioMixingManager.destroy(),this._rtmClient.destroy(),null==(n=this._publicStreamManager)||n.destroy(),this._publicStreamIds=new Map,this._audioDeviceManager.destroy(),this._remoteVideoConfig=new Map,this._ctx.userPriority.clear(),this._extensionManager.destroy(),this._ctx.avSync=!0,this._localAudioVolume=100,this._localScreenAudioVolume=100,this._remoteAudioVolume.clear(),this._remoteScreenAudioVolume.clear(),this._publicAudioVolume.clear()}},{key:"publishStream",value:(Te=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("publishStream()","mediaType: %o",t),this._checkMediaType(t),this._assertNotInRoom(),e.t0=videoInMediaType(t)&&!this._localVideoTrack&&this._localImgVideoTrack,!e.t0){e.next=8;break}return e.next=7,createDummyVideoLocalTrack(this._localImgVideoTrack,this._extensionManager);case 7:this._localVideoTrack=e.sent;case 8:return e.next=10,this._updatePublish({mediaType:t});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return Te.apply(this,arguments)})},{key:"unpublishStream",value:(ge=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("unpublishStream()","mediaType: %o",t),this._checkMediaType(t),this._assertNotInRoom(),!n){e.next=2;break}return e.abrupt("return",null==(r=this._room)?void 0:r.unpublish());case 2:return e.next=4,this._updatePublish({mediaType:t,pubState:PubState.UNPUB});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return ge.apply(this,arguments)})},{key:"publishScreen",value:(ye=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("publishScreen()","mediaType: %o",t),this._checkMediaType(t),this._assertNotInRoom(),e.prev=1,e.t0=videoInMediaType(t)&&!this._localScreenVideoTrack&&this._localImgScreenTrack,!e.t0){e.next=7;break}return e.next=6,createDummyScreenVideoLocalTrack(this._localImgScreenTrack,this._extensionManager);case 6:this._localScreenVideoTrack=e.sent;case 7:return e.next=9,this._updateScreenPublish({mediaType:t,pubState:PubState.PUB});case 9:e.next=14;break;case 11:throw e.prev=11,e.t1=e.catch(1),e.t1 instanceof SDKError?e.t1:new SDKError(ErrorCode.UNEXPECTED_ERROR,"unexpected error",e.t1);case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e){return ye.apply(this,arguments)})},{key:"unpublishScreen",value:(ve=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("unpublishScreen()","mediaType: %o",t),this._checkMediaType(t),this._assertNotInRoom(),e.next=5,this._updateScreenPublish({mediaType:t,pubState:PubState.UNPUB});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return ve.apply(this,arguments)})},{key:"subscribeStream",value:(Ee=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("subscribeStream()","userId: %o, mediaType: %o",t,n),this._subscribe(!1,t,n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return Ee.apply(this,arguments)})},{key:"_subscribe",value:(fe=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r,r!==MediaType$1.AUDIO||!(null==(i=this._room)?void 0:i.multiChatMode)){e.next=3;break}return e.abrupt("return",void this.logger.warn("subscribeStream()","due to multiChatMode return"));case 3:if(U=this._room.remoteStreams.get(n),F=null==U?void 0:U.find((function(e){return e.isScreen===t}))){e.next=6;break}throw new SDKError(ErrorCode.STREAM_NOT_EXIST,"stream not exist");case 6:return p=this._pauseAllSubscribeState.audio,Q=this._pauseAllSubscribeState.video,this._pauseAllSubscribeState.audio&&(r-=r&MediaType$1.AUDIO),this._pauseAllSubscribeState.video&&(r-=r&MediaType$1.VIDEO),this.logger.warn("subscribeStream()","due to pauseAll mediaType: %o",r),h=F.hasSubscribed,R=this._remoteVideoConfig.get(n)||(null==(a=this._roomConfig)?void 0:a.remoteVideoConfig),F.originalMediaType=r,e.prev=10,e.next=13,this._room.subscribe(F,r,R);case 13:audioInMediaType(r)&&this._updateAudioPlayerState(F),videoInMediaType(r)&&this._updateVideoPlayerState(F),_=0,S=0,p!==this._pauseAllSubscribeState.audio&&(this._pauseAllSubscribeState.audio?_|=MediaType$1.AUDIO:S|=MediaType$1.AUDIO),Q!==this._pauseAllSubscribeState.video&&(this._pauseAllSubscribeState.video?_|=MediaType$1.VIDEO:S|=MediaType$1.VIDEO),_&&this.pauseAllSubscribedStream(_),S&&this.resumeAllSubscribedStream(S),audioInMediaType(u)&&(this._pauseAllSubscribeState.resumeAudioStreamIds[F.streamId]=F.streamId),videoInMediaType(u)&&(this._pauseAllSubscribeState.resumeVideoStreamIds[F.streamId]=F.streamId),(F.audioTrack||F.videoTrack)&&(B=!(t||!(null==(o=this._roomConfig)?void 0:o.isAutoSubscribeAudio)&&!(null==(s=this._roomConfig)?void 0:s.isAutoSubscribeVideo)),m={userId:n,isScreen:!1,state:SubscribeState.SUBSCRIBE_SUCC},B&&this.safeEmit(EngineEventsTypes.onAutoSubscribeResult,m),this.safeEmit(EngineEventsTypes.onSubscribeResult,{userId:n,isScreen:t,isAutoSubscribe:B})),!(null==(l=this._room)?void 0:l.multiChatMode)&&!h&&audioInMediaType(r)&&F.hasAudio&&(null==(c=F.observer)||c.setSubscribeAudio(!0)),!h&&videoInMediaType(r)&&F.hasVideo&&(null==(d=F.observer)||d.setSubscribeVideo(!0)),e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(10),e.t0 instanceof SDKError&&e.t0.code===ErrorCode.TOKEN_NO_SUBSCRIBE_PERMISSION&&this._handleLoseSubscribePriviledge(),e.t0;case 23:case"end":return e.stop()}}),e,this,[[10,20]])}))),function(e,t,n){return fe.apply(this,arguments)})},{key:"_handleLoseSubscribePriviledge",value:(me=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._tokenSubscribePriviledgeExpired=!0,e.prev=1,e.next=4,this._unSubscribeAllRemoteStreams();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return me.apply(this,arguments)})},{key:"unsubscribeStream",value:(Be=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("unsubscribeStream()","userId: %o, mediaType: %o",t,n),this._unsubscribe(!1,t,n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return Be.apply(this,arguments)})},{key:"subscribeScreen",value:(Se=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("subscribeScreen() userId: %o, mediaType: %o",t,n),this._subscribe(!0,t,n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return Se.apply(this,arguments)})},{key:"unsubscribeScreen",value:(_e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("unsubscribeScreen() userId: %o, mediaType: %o",t,n),this._unsubscribe(!0,t,n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return _e.apply(this,arguments)})},{key:"_unsubscribe",value:function(e,t,n,r){var i,a=this;if(n!==MediaType$1.AUDIO||!(null==(i=this._room)?void 0:i.multiChatMode)){var o,s=this._room.remoteStreams.get(t),l=null==s?void 0:s.find((function(t){return t.isScreen===e}));if(!l)throw new SDKError(ErrorCode.STREAM_NOT_EXIST,"stream not exist");if(isAndroid&&chromeVersion&&chromeVersion>=85&&chromeVersion<=91&&n!==MediaType$1.AUDIO)null==(o=e?this._remoteScreenPlayer.get(t):this._remoteVideoPlayer.get(t))||o.stop();return this._room.unsubscribe(l,n).then((function(){r||(audioInMediaType(n)&&delete a._pauseAllSubscribeState.resumeAudioStreamIds[l.streamId],videoInMediaType(n)&&delete a._pauseAllSubscribeState.resumeVideoStreamIds[l.streamId])}))}this.logger.warn("subscribeStream()","due to multiChatMode return")}},{key:"setRemoteVideoConfig",value:(Re=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("setRemoteVideoConfig() userId: %o, remoteVideoConfig: %o",t,n),checkUserId(t),checkRemoteConfig(n),this._remoteVideoConfig.set(t,n),null==(r=this._room)?void 0:r.updateSubVideoConfig(t,n).then((function(){}))));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return Re.apply(this,arguments)})},{key:"startVideoCapture",value:(he=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("startVideoCapture()","deviceId: %s",t),isEmpty(t)||checkString(t,"deviceId"),t=t||this._localVideoDeviceId,this._localVideoDeviceId=t,this._trackSourceType.video!==VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL){e.next=2;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setVideoSourceType as internal first");case 2:if(!this._localVideoTrack||this._localVideoTrack.dummy){e.next=4;break}throw new SDKError(ErrorCode.REPEAT_CAPTURE,"Has already capture");case 4:return l=this._videoStreamConstraints,t&&("user"===t||"environment"===t||"left"===t||"right"===t?(l.facingMode=t,delete l.deviceId):!isDingTalk||isIOS?l.deviceId={exact:t}:delete l.deviceId,this._videoStreamConstraints=l),c={},e.next=9,createCameraVideoTrack(l,this._extensionManager);case 9:if(d=e.sent,(null==(n=this._videoStreamEncodeConfig[0])?void 0:n.contentHint)&&d.setContentHint(null==(r=this._videoStreamEncodeConfig[0])?void 0:r.contentHint),this._initLocalTrackEvents(d),this._localVideoTrack=d,null==(i=this._videoPlayer)||i.playVideo(d),(u=d.originTrack)&&(c=u.getSettings(),U={width:c.width,height:c.height},this._localVideoTrack.resolution=U,this.autoResetVideoEncoderConfig(c),setTimeout((function(){return p.safeEmit(EngineEventsTypes.onLocalVideoSizeChanged,{streamIndex:StreamIndex.STREAM_INDEX_MAIN,info:U})}))),internalEventBus.emit("".concat(this.id,"capture-end")),this._room){e.next=15;break}return e.abrupt("return",c);case 15:return F=this._room._roomConfig.isAutoPublish,e.abrupt("return",(((null==(a=this._room.localStream)?void 0:a.pubVideo)||F)&&this._visibility&&this._updatePublish(),null==(s=null==(o=this._room.localStream)?void 0:o.observer)||s.setEnableVideo(!0),c));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return he.apply(this,arguments)})},{key:"stopVideoCapture",value:(Qe=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("stopVideoCapture()"),this._trackSourceType.video!==VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL){e.next=2;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setVideoSourceType as internal first");case 2:if(null==(t=this._videoPlayer)||t.stop(),this._localVideoTrack&&!this._localVideoTrack.dummy&&((a=this._extensionManager.getPluginByName(RTCExtensionType.PRE_PROCESSING,"RTCBeautyExtension"))&&a.emit("stop"),this._removeLocalTrackEvents(this._localVideoTrack),this._localVideoTrack.close(),this._localImgVideoTrack?(this._localVideoTrack.setTrack(this._localImgVideoTrack,this._extensionManager),this._localVideoTrack.dummy=!0):this._localVideoTrack=void 0),e.t0=this._room,!e.t0){e.next=10;break}if(e.t1=null==(n=this._room.localStream)?void 0:n.pubVideo,!e.t1){e.next=9;break}return e.next=9,this._updatePublish();case 9:null==(i=null==(r=this._room.localStream)?void 0:r.observer)||i.setEnableVideo(!1);case 10:case"end":return e.stop()}}),e,this)}))),function(){return Qe.apply(this,arguments)})},{key:"startAudioCapture",value:(pe=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("startAudioCapture()","deviceId: $o",t),isEmpty(t)||checkString(t,"deviceId"),t&&this._ctx.audioProfileManager.updateConstraints({deviceId:{exact:t}}),this._trackSourceType.audio!==AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL){e.next=2;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setAudioSourceType as internal first");case 2:if(!this._localAudioTrack){e.next=4;break}throw new SDKError(ErrorCode.REPEAT_CAPTURE,"Has already capture");case 4:return a={},e.next=7,createMicrophoneAudioTrack(this._ctx.audioProfileManager.getConstraints(),this._extensionManager);case 7:if((o=e.sent).originTrack&&(a=o.originTrack.getSettings()),this._initLocalTrackEvents(o),this._localAudioTrack=o,this._localAudioTrack.setVolume(this._localAudioVolume),this._tempMixingAudioTrack&&(this._localAudioTrack.mixType=this._tempMixingAudioTrack.type,this._localAudioTrack.mixedAudioTrack=this._tempMixingAudioTrack.track,delete this._tempMixingAudioTrack),internalEventBus.emit("".concat(this.id,"capture-end")),this._room){e.next=10;break}return e.abrupt("return",a);case 10:return s=this._room._roomConfig.isAutoPublish,e.abrupt("return",(((null==(n=this._room.localStream)?void 0:n.pubAudio)||s)&&this._visibility&&this._updatePublish(),null==(i=null==(r=this._room.localStream)?void 0:r.observer)||i.setEnableAudio(!0),a));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return pe.apply(this,arguments)})},{key:"stopAudioCapture",value:(Fe=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("stopAudioCapture()"),this._trackSourceType.audio!==AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL){e.next=2;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setAudioSourceType as internal first");case 2:if(this._localAudioTrack&&(this._removeLocalTrackEvents(this._localAudioTrack),this._localAudioTrack.close()),this._localAudioTrack=void 0,this._audioMixingManager.stopAll(),e.t0=this._room,!e.t0){e.next=12;break}if(e.t1=null==(t=this._room.localStream)?void 0:t.pubAudio,!e.t1){e.next=11;break}return e.next=11,this._updatePublish();case 11:null==(r=null==(n=this._room.localStream)?void 0:n.observer)||r.setEnableAudio(!1);case 12:case"end":return e.stop()}}),e,this)}))),function(){return Fe.apply(this,arguments)})},{key:"checkAudioAndVideoDeviceId",value:function(e,t){var n;return this.logger.print("startAudioAndVideoCapture","optionsOrAudioDeviceId: $o",e,"videoDeviceId: $o",t),isEmpty(t)||checkString(t,"videoDeviceId"),isEmpty(e)||("string"==typeof e?(checkString(e,"audioDeviceId"),n=e):(n=null==e?void 0:e.audioDeviceId,t=null==e?void 0:e.videoDeviceId,checkString(n,"audioDeviceId"),checkString(t,"videoDeviceId"))),t=t||this._localVideoDeviceId,this._localVideoDeviceId=t,{audioDeviceId:n,videoDeviceId:t}}},{key:"startAudioAndVideoCapture",value:(Ue=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("startAudioAndVideoCapture","optionsOrAudioDeviceId: $o",t,"videoDeviceId: $o",n),U=this.checkAudioAndVideoDeviceId(t,n),F=U.audioDeviceId,p=U.videoDeviceId,n=p,F&&this._ctx.audioProfileManager.updateConstraints({deviceId:{exact:F}}),this._trackSourceType.video!==VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL&&this._trackSourceType.audio!==AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL){e.next=4;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,this._trackSourceType.video===VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL?"setVideoSourceType as internal first":"setAudioSourceType as internal first");case 4:if(!this._localVideoTrack||this._localVideoTrack.dummy){e.next=6;break}throw new SDKError(ErrorCode.REPEAT_CAPTURE,"video has already capture");case 6:if(!this._localAudioTrack){e.next=8;break}throw new SDKError(ErrorCode.REPEAT_CAPTURE,"audio has already capture");case 8:return Q=this._videoStreamConstraints,n&&("user"===n||"environment"===n||"left"===n||"right"===n?(Q.facingMode=n,delete Q.deviceId):!isDingTalk||isIOS?Q.deviceId={exact:n}:delete Q.deviceId,this._videoStreamConstraints=Q),h={},R={},e.next=13,createMicrophoneAndCameraTrack(this._ctx.audioProfileManager.getConstraints(),Q,this._extensionManager);case 13:if(_=e.sent,S=_.audioTrack,B=_.videoTrack,(null==(r=this._videoStreamEncodeConfig[0])?void 0:r.contentHint)&&B.setContentHint(null==(i=this._videoStreamEncodeConfig[0])?void 0:i.contentHint),this._initLocalTrackEvents(B),this._localVideoTrack=B,null==(a=this._videoPlayer)||a.playVideo(B),this._initLocalTrackEvents(S),this._localAudioTrack=S,this._localAudioTrack.setVolume(this._localAudioVolume),this._tempMixingAudioTrack&&(this._localAudioTrack.mixType=this._tempMixingAudioTrack.type,this._localAudioTrack.mixedAudioTrack=this._tempMixingAudioTrack.track,delete this._tempMixingAudioTrack),m=B.originTrack,h=m.getSettings(),f={width:h.width||0,height:h.height||0},this._localVideoTrack.resolution=f,this.autoResetVideoEncoderConfig(h),setTimeout((function(){return v.safeEmit(EngineEventsTypes.onLocalVideoSizeChanged,{streamIndex:StreamIndex.STREAM_INDEX_MAIN,info:f})})),m=S.originTrack,R=m.getSettings(),internalEventBus.emit("".concat(this.id,"capture-end")),this._room){e.next=22;break}return e.abrupt("return",{audioTrackSettings:R,videoTrackSettings:h});case 22:return E=this._room._roomConfig.isAutoPublish,e.abrupt("return",(((null==(o=this._room.localStream)?void 0:o.pubVideo)||(null==(s=this._room.localStream)?void 0:s.pubAudio)||E)&&this._visibility&&this._updatePublish(),null==(c=null==(l=this._room.localStream)?void 0:l.observer)||c.setEnableVideo(!0),null==(u=null==(d=this._room.localStream)?void 0:d.observer)||u.setEnableAudio(!0),{audioTrackSettings:R,videoTrackSettings:h}));case 24:case"end":return e.stop()}}),e,this)}))),function(e,t){return Ue.apply(this,arguments)})},{key:"startVideoAndAudioCapture",value:(ue=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.startAudioAndVideoCapture(n,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return ue.apply(this,arguments)})},{key:"getAudioMixingManager",value:function(){return this.logger.info("getAudioMixingManager()","invoke"),this._audioMixingManager}},{key:"startScreenCapture",value:(de=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R=this,_=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.length>0&&void 0!==_[0]?_[0]:{},this.logger.info("startScreenCapture()","config: %o",t),d=t.enableAudio,u=void 0!==d&&d,this._trackSourceType.screenVideo!==VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL){e.next=5;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setVideoSourceType as internal first");case 5:if(this._trackSourceType.screenAudio!==AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL){e.next=7;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setAudioSourceType as internal first");case 7:return e.next=9,createScreenTracks(u,this._extensionManager,this._screenStreamEncodeConfig[0]);case 9:if(U=e.sent,F=_slicedToArray(U,2),p=F[0],null==(Q=F[1])||Q.setVolume(this._localScreenAudioVolume),this._localScreenVideoTrack&&!this._localScreenVideoTrack.dummy&&(this._removeLocalTrackEvents(this._localScreenVideoTrack),this._localScreenVideoTrack.close()),null==(n=this._localScreenAudioTrack)||n.close(),delete this._localScreenAudioTrack,this._localScreenVideoTrack=p,(null==(r=this._screenStreamEncodeConfig[0])?void 0:r.contentHint)&&p.setContentHint(null==(i=this._screenStreamEncodeConfig[0])?void 0:i.contentHint),(h=p.originTrack)&&setTimeout((function(){var e=h.getSettings(),t={width:e.width,height:e.height};p.resolution=t,R.safeEmit(EngineEventsTypes.onLocalVideoSizeChanged,{streamIndex:StreamIndex.STREAM_INDEX_SCREEN,info:{width:e.width,height:e.height}})}),500),Q&&(this._localScreenAudioTrack=Q,this._initLocalTrackEvents(Q)),null==(a=this._screenPlayer)||a.playVideo(this._localScreenVideoTrack),this._initLocalTrackEvents(this._localScreenVideoTrack,!0),e.t0=(null==(s=null==(o=this._room)?void 0:o.localScreenStream)?void 0:s.pubAudio)||(null==(c=null==(l=this._room)?void 0:l.localScreenStream)?void 0:c.pubVideo),!e.t0){e.next=23;break}return e.next=23,this._updateScreenPublish();case 23:case"end":return e.stop()}}),e,this)}))),function(){return de.apply(this,arguments)})},{key:"stopScreenCapture",value:(ce=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("stopScreenCapture()"),null==(t=this._screenPlayer)||t.stop(),this._localScreenVideoTrack&&(this._localScreenVideoTrack.dummy||(this._removeLocalTrackEvents(this._localScreenVideoTrack),this._localScreenVideoTrack.close(),this._localImgScreenTrack&&(this._localScreenVideoTrack.setTrack(this._localImgScreenTrack,this._extensionManager),this._localScreenVideoTrack.dummy=!0))),this._localScreenAudioTrack&&(this._removeLocalTrackEvents(this._localScreenAudioTrack),this._localScreenAudioTrack.close()),this._localScreenAudioTrack=void 0,(null==(n=this._localScreenVideoTrack)?void 0:n.dummy)||(this._localScreenVideoTrack=void 0),e.t0=(null==(i=null==(r=this._room)?void 0:r.localScreenStream)?void 0:i.pubAudio)||(null==(o=null==(a=this._room)?void 0:a.localScreenStream)?void 0:o.pubVideo),!e.t0){e.next=10;break}return e.next=10,this._updateScreenPublish();case 10:case"end":return e.stop()}}),e,this)}))),function(){return ce.apply(this,arguments)})},{key:"setLocalVideoPlayer",value:function(e,t){var n,r,i,a,o,s;if(this.logger.info("setLocalVideoPlayer()","streamIndex: %o, videoPlayerOption: %o",e,t),checkEnum(e,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),null==t?void 0:t.renderDom){var l=_objectSpread2(_objectSpread2({userId:this._getUserId()},t),{},{isLocal:!0});if(delete l.rotation,checkVideoPlayerOption(l),e===StreamIndex.STREAM_INDEX_MAIN&&!this._videoPlayer)return this._videoPlayer=new VideoPlayer(this.id,l),this._initPlayerEvents(this._videoPlayer,!1,e),this._videoPlayer.mirror(!!this._mirrorType),this._localVideoTrack&&!this._localVideoTrack.dummy&&(null==(i=this._config)?void 0:i.autoPlayPolicy)!==RTCAutoPlayPolicy.PLAY_MANUALLY&&this._videoPlayer.playVideo(this._localVideoTrack),(null==(a=this._room)?void 0:a.localStream)&&(this._room.localStream.videoPlayer=this._videoPlayer),this._videoPlayer.domElement;if(e===StreamIndex.STREAM_INDEX_SCREEN&&!this._screenPlayer)return this._screenPlayer=new VideoPlayer(this.id,_objectSpread2(_objectSpread2({},l),{},{isScreen:!0,isLocal:!0})),this._initPlayerEvents(this._screenPlayer,!1,e),this._localScreenVideoTrack&&!this._localScreenVideoTrack.dummy&&(null==(o=this._config)?void 0:o.autoPlayPolicy)!==RTCAutoPlayPolicy.PLAY_MANUALLY&&this._screenPlayer.playVideo(this._localScreenVideoTrack),(null==(s=this._room)?void 0:s.localScreenStream)&&(this._room.localScreenStream.videoPlayer=this._screenPlayer),this._screenPlayer.domElement;if(void 0!==t.renderMode){var c=e===StreamIndex.STREAM_INDEX_MAIN?this._videoPlayer:this._screenPlayer;null==c||c.setRenderMode(t.renderMode)}}else e===StreamIndex.STREAM_INDEX_MAIN?(null==(n=this._videoPlayer)||n.destroy(!0),delete this._videoPlayer):(null==(r=this._screenPlayer)||r.destroy(),delete this._screenPlayer)}},{key:"startLiveTranscoding",value:(le=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("startLiveTranscoding()","transcode: %o",t),LiveTranscoding.checkStartParams(t),this._liveTranscodeConfig=t,!((r=null==(n=this._room)?void 0:n.roomInfo)&&r.roomId.length+r.userInfo.userId.length>126)){e.next=4;break}throw new SDKError(ErrorCode.INVALID_PARAMS,"The roomId+userId must be within 126 bytes");case 4:if(e.prev=4,this.safeEmit(EngineEventsTypes.onStreamMixingEvent,{event:StreamMixingEventType.START,error:0,message:""}),e.t0=this._room&&this._room.connectionState===MediaConnectionState.CONNECTED,!e.t0){e.next=10;break}return e.next=10,this._room.liveControlMessage(LiveTranscoding.getStartParams(this._liveTranscodeConfig));case 10:e.next=15;break;case 12:throw e.prev=12,e.t1=e.catch(4),e.t1 instanceof SDKError?e.t1:new SDKError(ErrorCode.UNEXPECTED_ERROR,"unexpected error",e.t1);case 15:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e){return le.apply(this,arguments)})},{key:"updateLiveTranscoding",value:(se=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("updateLiveTranscoding()","transcode: %o",t),this._liveTranscodeConfig){e.next=2;break}return e.abrupt("return");case 2:return delete(a=assignIn$1({},t)).audio,null==(n=a.video)||delete n.codec,null==(r=a.video)||delete r.gop,LiveTranscoding.checckUpdateParams(a),this._liveTranscodeConfig=assignIn$1(this._liveTranscodeConfig,a),e.prev=4,this.safeEmit(EngineEventsTypes.onStreamMixingEvent,{event:StreamMixingEventType.UPDATE,error:0,message:""}),e.next=8,null==(i=this._room)?void 0:i.liveControlMessage(LiveTranscoding.getUpdateParams(this._liveTranscodeConfig));case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),e.t0 instanceof SDKError?e.t0:new SDKError(ErrorCode.UNEXPECTED_ERROR,"unexpected error",e.t0);case 13:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return se.apply(this,arguments)})},{key:"stopLiveTranscoding",value:(oe=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("stopLiveTranscoding()"),!this._liveTranscodeConfig){e.next=11;break}return delete this._liveTranscodeConfig,e.prev=2,this.safeEmit(EngineEventsTypes.onStreamMixingEvent,{event:StreamMixingEventType.STOP,error:0,message:""}),e.next=6,null==(t=this._room)?void 0:t.liveControlMessage({action:"stopped",type:"transcode"});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),e.t0 instanceof SDKError?e.t0:new SDKError(ErrorCode.UNEXPECTED_ERROR,"unexpected error",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return oe.apply(this,arguments)})},{key:"startSubtitle",value:(ae=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("startSubtitle()","config: %o",t),this._assertNotInRoom(),e.next=4,null==(n=this._room)?void 0:n.startSubtitle(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return ae.apply(this,arguments)})},{key:"updateSubtitleConfig",value:(ie=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("updateSubtitleConfig()","config: %o",t),this._assertNotInRoom(),e.next=4,null==(n=this._room)?void 0:n.updateSubtitleConfig(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return ie.apply(this,arguments)})},{key:"stopSubtitle",value:function(){var e;this.logger.info("stopSubtitle()","invoke"),null==(e=this._room)||e.stopSubtitle()}},{key:"setBusinessId",value:function(e){return this.logger.info("setBusinessId()","businessId: %s",e),!illegalBusinessId(e)&&!this._room&&(this.monitor.set({rtc_business_id:e}),this._businessId=e,!0)}},{key:"setUserVisibility",value:(re=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("setUserVisibility()","enable: %o",t),t=!!t,this._visibility===t){e.next=14;break}if(!this._room||this._room.connectionState!==MediaConnectionState.CONNECTED){e.next=13;break}if(this._assertNotInRoom(),this._room.localStream&&(null==(n=this._room.localStream.observer)||n.setPublisher(t)),t){e.next=7;break}return e.next=5,this._pubLock.lock();case 5:i=e.sent;try{this._room.unpublish(),this._room.unpublishScreen()}finally{i()}case 7:return e.next=9,this._room.updateUserAttributes({role:t?UserRole.NORMAL_USER:UserRole.SILENT_USER});case 9:this._visibility=t,t&&(null==(r=this._roomConfig)?void 0:r.isAutoPublish)&&this._updatePublish({mediaType:MediaType$1.AUDIO_AND_VIDEO}),e.next=14;break;case 13:this._visibility=t;case 14:case"end":return e.stop()}}),e,this)}))),function(e){return re.apply(this,arguments)})},{key:"_initPlayerEvents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:StreamIndex.STREAM_INDEX_MAIN)===StreamIndex.STREAM_INDEX_SCREEN;e.on("playback_event",(function(i){var a,o,s,l;switch(i.eventName){case"timeupdate":return;case"loadeddata":if("audio"===i.type){var c=e.userId.replace("_screen",""),d=null==(o=null==(a=t._room)?void 0:a.remoteStreams.get(c))?void 0:o.find((function(e){return e.isScreen===r})),u=function(){n?t.safeEmit(EngineEventsTypes.onFirstPublicStreamAudioFrameDecoded,{publicStreamId:c}):(t.safeEmit(EngineEventsTypes.onAudioFirstFrameDecoded,{userId:c,isScreen:r}),t.safeEmit(EngineEventsTypes.onRemoteAudioFirstFrame,{userId:c,isScreen:r})),t.monitor.report("first_remote_audio_render",{stream_id:"",stream_user_id:c||""},{isScreen:r})};d&&d.observer&&!d.observer.audioFirstFrameReceived?d.observer.once("recvAudioFirstFrame",u):u()}else{var U={userId:e.userId,height:(null==(s=e.domElement)?void 0:s.videoHeight)||0,width:(null==(l=e.domElement)?void 0:l.videoWidth)||0,isScreen:r};n?(U.publicStreamId=U.userId,delete U.userId,delete U.isScreen,t.safeEmit(EngineEventsTypes.onFirstPublicStreamVideoFrameRendered,U),t.safeEmit(EngineEventsTypes.onFirstPublicStreamVideoFrameDecoded,U)):e.isLocal||(t.safeEmit(EngineEventsTypes.onVideoFirstFrameRendered,U),t.safeEmit(EngineEventsTypes.onVideoFirstFrameDecoded,U),t.safeEmit(EngineEventsTypes.onRemoteVideoFirstFrame,U)),t.monitor.report("first_remote_video_render",{stream_id:"",stream_user_id:i.userId||""},{isScreen:r})}break;case"autoplay-error":return n&&(i.publicStreamId=i.userId),reportRtcInvokeStatus(t.id,"autoplay-error",e instanceof VideoPlayer?"video":"audio",0,i.userId||""),void t.safeEmit(EngineEventsTypes.onAutoplayFailed,{userId:i.userId,kind:e instanceof VideoPlayer?"video":"audio",mediaType:e instanceof VideoPlayer?MediaType$1.VIDEO:MediaType$1.AUDIO,streamIndex:e.isScreen?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN})}t.safeEmit(EngineEventsTypes.onPlayerEvent,i)}))}},{key:"_initLocalTrackEvents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];["track-ended","track-mute","track-unmute"].forEach((function(n){e.on(n,function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.monitor.report("rtc_error",{message:"track-".concat(n," mediaType: ").concat(r.originTrack.kind),error_code:RtcErrorCode.TRACK_ERROR,capture_session_id:r.captureSessionId,media_type:n,reason:n}),i=!1,r!==t._localScreenAudioTrack&&r!==t._localScreenVideoTrack||(i=!0),a=r.originTrack.kind,t.safeEmit({"track-ended":EngineEventsTypes.onTrackEnded,"track-mute":EngineEventsTypes.onTrackMute,"track-unmute":EngineEventsTypes.onTrackUnmute}[n],{kind:a,isScreen:i}),e.t0=isIOS||isIPad,!e.t0){e.next=16;break}if(e.t1="track-mute"===n,!e.t1){e.next=15;break}if(internalEventBus.emit(InternalEvent.ON_IOS_LOCAL_TRACK_MUTE,a),e.t2="audio"===a,!e.t2){e.next=15;break}return e.next=14,t.stopAudioCapture();case 14:t.startAudioCapture();case 15:"track-unmute"===n&&internalEventBus.emit(InternalEvent.ON_IOS_LOCAL_TRACK_UNMUTE,a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.on("resolution-change",(function(e){t._extensionManager.getPluginsByType(RTCExtensionType.PRE_PROCESSING).forEach((function(t){var r;null==(r=null==t?void 0:t.applyConstraints)||r.call(t,n?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN,e)})),t.safeEmit(EngineEventsTypes.onLocalVideoSizeChanged,{streamIndex:n?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN,info:e})}))}},{key:"_removeLocalTrackEvents",value:function(e){e.removeAllListeners("track-ended"),e.removeAllListeners("track-mute"),e.removeAllListeners("track-unmute"),e.removeAllListeners("resolution-change")}},{key:"setRemoteVideoPlayer",value:function(e,t){var n,r,i,a,o,s;this.logger.info("setRemoteVideoPlayer()","streamIndex: %o, videoPlayerOption: %o",e,t),checkEnum(e,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),checkVideoPlayerOption(t);var l=t.userId;if(e===StreamIndex.STREAM_INDEX_MAIN){if(null==(n=this._remoteVideoPlayer.get(l))||n.destroy(),!t.renderDom)return;var c=new VideoPlayer(this.id,t);this._initPlayerEvents(c,!1,e),this._remoteVideoPlayer.set(l,c);var d=null==(i=null==(r=this._room)?void 0:r.remoteStreams.get(l))?void 0:i.find((function(e){return!e.isScreen}));return d&&this._updateVideoPlayerState(d),c.domElement}if(null==(a=this._remoteScreenPlayer.get(l))||a.destroy(),t.renderDom){var u=new VideoPlayer(this.id,_objectSpread2(_objectSpread2({},t),{},{isScreen:!0}));this._remoteScreenPlayer.set(l,u),this._initPlayerEvents(u,!1,e);var U=null==(s=null==(o=this._room)?void 0:o.remoteStreams.get(l))?void 0:s.find((function(e){return e.isScreen}));return U&&this._updateVideoPlayerState(U),u.domElement}}},{key:"setLocalVideoMirrorType",value:function(e){this.logger.info("setLocalVideoMirrorType()","mirrorType: %o",e),checkEnum(e,"mirrorType",[MirrorType.MIRROR_TYPE_NONE,MirrorType.MIRROR_TYPE_RENDER]),this._mirrorType=e,this._videoPlayer&&this._videoPlayer.mirror(!!e)}},{key:"setAudioPlaybackDevice",value:(ne=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("setAudioPlaybackDevice()","deviceId: %s",t),checkString(t,"deviceId"),e.next=3,this._audioDeviceManager.setSinkId(t);case 3:n=e.sent,this._remoteAudioPlayer.forEach((function(e){e.setPlaybackDevice(t)})),this._remoteScreenAudioPlayer.forEach((function(e){e.setPlaybackDevice(t)})),this.safeEmit(EngineEventsTypes.onAudioPlaybackDeviceChanged,n),this.monitor.report("rtc_audio_device",{audio_event:"playout_device_switch",message:JSON.stringify(n),error_code:0});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return ne.apply(this,arguments)})},{key:"play",value:(te=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R.length>1&&void 0!==R[1]?R[1]:MediaType$1.AUDIO_AND_VIDEO,r=R.length>2?R[2]:void 0,this.logger.info("play()","userId: %s, mediaType: %s, streamIndex: %s",t,n,r),c=!t||t===this._getUserId()||"local_user"===t,d=void 0===r||r===StreamIndex.STREAM_INDEX_MAIN,u=void 0===r||r===StreamIndex.STREAM_INDEX_SCREEN,U=n!==MediaType$1.VIDEO,F=n!==MediaType$1.AUDIO,p=[],c&&F&&(d&&this._localVideoTrack&&(null==(i=this._videoPlayer)||i.mirror(!!this._mirrorType),p.push(null==(a=this._videoPlayer)?void 0:a.manuallyPlay())),u&&this._localScreenVideoTrack&&p.push(null==(o=this._screenPlayer)?void 0:o.manuallyPlay())),t===this._audioMixingManager.id&&p.push(this._audioMixingManager.resumeLocalPlay()),Q=null==(s=this._room)?void 0:s.remoteStreams,F&&d&&p.push(playRemoteStream(this._remoteVideoPlayer,t,!1,Q)),F&&u&&p.push(playRemoteStream(this._remoteScreenPlayer,t,!0,Q)),U&&d&&p.push(playRemoteStream(this._remoteAudioPlayer,t,!1,Q)),F&&u&&p.push(playRemoteStream(this._remoteScreenAudioPlayer,t,!0,Q)),h=null==(l=this._publicStreamManager)?void 0:l.remoteStreams,e.abrupt("return",(U&&p.push(playRemoteStream(this._publicStreamVideoPlayer,t,!1,h)),F&&p.push(playRemoteStream(this._publicStreamAudioPlayer,t,!1,h)),Promise.all(p).then((function(){}))));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return te.apply(this,arguments)})},{key:"pauseAllSubscribedStream",value:(ee=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("pauseAllSubscribedStream()","mediaType: %o",t),this._checkMediaType(t),e.abrupt("return",(audioInMediaType(t)&&(n._pauseAllSubscribeState.audio=!0),videoInMediaType(t)&&(n._pauseAllSubscribeState.video=!0),this._room?this._pauseAllRemoteStreams(t):Promise.resolve()));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return ee.apply(this,arguments)})},{key:"_pauseAllRemoteStreams",value:(q=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._room){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=[],e.abrupt("return",(this._room.remoteStreams.forEach((function(e){Array.isArray(e)&&e.forEach((function(e){if(e.hasSubscribed){e.attributes.audiostream&&audioInMediaType(t)&&(r._pauseAllSubscribeState.resumeAudioStreamIds[e.streamId]=e.streamId),e.attributes.videostream&&videoInMediaType(t)&&(r._pauseAllSubscribeState.resumeVideoStreamIds[e.streamId]=e.streamId);var i=r._unsubscribe(e.isScreen,e.userId,t,!0);i&&n.push(i)}}))})),Promise.all(n).then((function(){}))));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return q.apply(this,arguments)})},{key:"resumeAllSubscribedStream",value:(z=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("resumeAllSubscribedStream()","mediaType: %o",t),this._checkMediaType(t),e.abrupt("return",(audioInMediaType(t)&&(n._pauseAllSubscribeState.audio=!1),videoInMediaType(t)&&(n._pauseAllSubscribeState.video=!1),this._room?this._triedResumeAllRemoteStreams(t,!1):Promise.resolve()));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return z.apply(this,arguments)})},{key:"_triedResumeAllRemoteStreams",value:(K=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._room){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!this._pauseAllSubscribeState.audio||t!==MediaType$1.AUDIO){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(!this._pauseAllSubscribeState.video||t!==MediaType$1.VIDEO){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:if(!this._pauseAllSubscribeState.video||!this._pauseAllSubscribeState.audio||t!==MediaType$1.AUDIO_AND_VIDEO){e.next=8;break}return e.abrupt("return",Promise.resolve());case 8:return r=[],i=_toConsumableArray(Object.keys(this._pauseAllSubscribeState.resumeAudioStreamIds)),a=_toConsumableArray(Object.keys(this._pauseAllSubscribeState.resumeVideoStreamIds)),e.abrupt("return",(this._room.remoteStreams.forEach((function(e){Array.isArray(e)&&e.forEach((function(e){if(!n||!e.isScreen){var i=o._pauseAllSubscribeState.resumeAudioStreamIds[e.streamId],a=o._pauseAllSubscribeState.resumeVideoStreamIds[e.streamId];if(i&&audioInMediaType(t)||a&&videoInMediaType(t)){var s=o._subscribe(e.isScreen,e.userId,t).then((function(){i&&audioInMediaType(t)&&delete o._pauseAllSubscribeState.resumeAudioStreamIds[e.streamId],a&&videoInMediaType(t)&&delete o._pauseAllSubscribeState.resumeVideoStreamIds[e.streamId]}));s&&r.push(s)}}}))})),Promise.all(r).then((function(){var e;return null==(e=o._room)||e.remoteStreams.forEach((function(e){Array.isArray(e)&&e.forEach((function(e){o._updateAudioPlayerState(e),o._updateVideoPlayerState(e)}))})),Promise.resolve()})).finally((function(){return o._tokenSubscribePriviledgeExpired&&(i.forEach((function(e){o._pauseAllSubscribeState.resumeAudioStreamIds[e]=e})),a.forEach((function(e){o._pauseAllSubscribeState.resumeVideoStreamIds[e]=e}))),Promise.resolve()}))));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return K.apply(this,arguments)})},{key:"sendUserMessage",value:(X=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkUserId(t),checkBufferSize(n),this._assertNotInRoom(),a=Date.now(),e.abrupt("return",null==(i=null==(r=this._room)?void 0:r.sendUserMessage(t,n))?void 0:i.then((function(e){return o._messageStatisticsObserver.countP2PMessage(!0,t,!1,a,e),e.id})).catch((function(e){throw o._messageStatisticsObserver.countP2PMessage(!1,t,!1,a,e),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return X.apply(this,arguments)})},{key:"sendUserBinaryMessage",value:(j=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s=this,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(l.length>2&&void 0!==l[2])||l[2],checkUserId(t),checkArrayBuffer(n,"message"),checkBufferSize(n),this._assertNotInRoom(),o=Date.now(),e.abrupt("return",null==(a=null==(i=this._room)?void 0:i.sendUserMessage(t,n,r))?void 0:a.then((function(e){return s._messageStatisticsObserver.countP2PMessage(!0,t,!0,o,e),e.id})).catch((function(e){throw s._messageStatisticsObserver.countP2PMessage(!1,t,!0,o,e),e})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return j.apply(this,arguments)})},{key:"sendRoomMessage",value:($=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkBufferSize(t),this._assertNotInRoom(),i=Date.now(),e.abrupt("return",null==(r=null==(n=this._room)?void 0:n.sendRoomMessage(t))?void 0:r.then((function(e){var t,n;return a._messageStatisticsObserver.countRoomMessage(!0,null==(n=null==(t=a._room)?void 0:t.roomInfo)?void 0:n.roomId,!1,i),e})).catch((function(e){var t,n;throw a._messageStatisticsObserver.countRoomMessage(!1,null==(n=null==(t=a._room)?void 0:t.roomInfo)?void 0:n.roomId,!1,i),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return $.apply(this,arguments)})},{key:"sendRoomBinaryMessage",value:(H=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkBufferSize(t),this._assertNotInRoom(),i=Date.now(),e.abrupt("return",null==(r=null==(n=this._room)?void 0:n.sendRoomMessage(t,!0))?void 0:r.then((function(e){var t,n;return a._messageStatisticsObserver.countRoomMessage(!0,null==(n=null==(t=a._room)?void 0:t.roomInfo)?void 0:n.roomId,!0,i),e})).catch((function(e){var t,n;throw a._messageStatisticsObserver.countRoomMessage(!1,null==(n=null==(t=a._room)?void 0:t.roomInfo)?void 0:n.roomId,!0,i),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return H.apply(this,arguments)})},{key:"setAudioCaptureConfig",value:(Y=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:{},this.logger.info("setAudioCaptureConfig()","config: %o",t),delete t.deviceId,checkSupportedConstraints(t),this._shouldUpdateAudioConf("setAudioCaptureConfig")&&this._ctx.audioProfileManager.updateConstraints(t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return Y.apply(this,arguments)})},{key:"setVideoCaptureConfig",value:(G=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",(this.logger.info("setVideoCaptureConfig()","config: %o",t),this._setVideoCaptureConfig(t)));case 2:case"end":return e.stop()}}),e,this)}))),function(){return G.apply(this,arguments)})},{key:"_setVideoCaptureConfig",value:(L=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(delete(t=i.length>0&&void 0!==i[0]?i[0]:{}).deviceId,checkSupportedConstraints(t),r=_objectSpread2(_objectSpread2({},t),{},{deviceId:this._videoStreamConstraints.deviceId}),e.t0=this._localVideoTrack,!e.t0){e.next=7;break}return e.next=7,this._localVideoTrack.updateVideoCaptureConfig(r);case 7:return this._videoStreamConstraints=r,e.abrupt("return",(null==(n=this._localVideoTrack)?void 0:n.originTrack.getSettings())||{});case 9:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)})},{key:"enableSimulcastMode",value:function(e){var t;return this.logger.info("enableSimulcastMode()","enabled: %o",e),14!==iOSVersion[0]&&(this._enableSimulcast=e,(null==(t=this._room)?void 0:t.hasPublished)&&warnDevelopers("You must call this API before publishing the video streams"),!0)}},{key:"setVideoEncoderConfig",value:(P=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.logger.info("setVideoEncoderConfig()"," descriptions: %o",t),Array.isArray(t)||(t=[t]),checkVideoEncoderConfig(t=t.filter((function(e){return!!e}))),t.length>3&&(warnDevelopers("setVideoEncoderConfig: You can set parameters for up to 3 streams"),t=t.slice(0,3)),a=1;a<t.length;a++)o=constraints2number(t[0].width)/constraints2number(t[a].width)||1,Math.floor(o)!==o&&warnDevelopers("setVideoEncoderConfig: The resolution setting needs to be an integer multiple");return t.sort((function(e,t){return t.maxKbps-e.maxKbps})),this._localVideoTrack&&(null==(n=t[0])?void 0:n.contentHint)&&this._localVideoTrack.setContentHint(null==(r=t[0])?void 0:r.contentHint),e.next=6,this._setVideoCaptureConfig(_objectSpread2({},t[0]));case 6:this._videoStreamEncodeConfig=t,this._updateDummyCaptureImage(StreamIndex.STREAM_INDEX_MAIN),(null==(i=this._room)?void 0:i.hasPublished)&&this._updatePublish();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"setVideoEncoderAutoConfigList",value:function(e){if(Array.isArray(e))return e.sort((function(e,t){return e.maxKbps-t.maxKbps})),_setVideoEncoderAutoConfigList(e)}},{key:"autoResetVideoEncoderConfig",value:function(e){var t=getVideoEncoderAutoConfigList();if(t.length){this._videoStreamEncodeConfig.length||(this._videoStreamEncodeConfig=[defaultVideoEncoderConfig]);var n=this._videoStreamEncodeConfig[0],r=e.width||constraints2number(n.width),i=e.height||constraints2number(n.height),a=r*i;if(!(constraints2number(n.width)*constraints2number(n.height)<=a)){var o,s,l=t[0];t.forEach((function(e){var t=constraints2number(e.width)*constraints2number(e.height);o||(a<t?o=e:l=e)})),s=o&&constraints2number(o.width)*constraints2number(o.height)-a<a-constraints2number(l.width)*constraints2number(l.height)?Object.assign({},o):Object.assign({},l),this._videoStreamEncodeConfig=this._videoStreamEncodeConfig.filter((function(e){return!(s&&constraints2number(e.width)*constraints2number(e.height)>=a&&(s.maxKbps=Math.min(e.maxKbps,s.maxKbps),1))})),this._videoStreamEncodeConfig.unshift({width:r,height:i,frameRate:e.frameRate?Math.round(e.frameRate):this._videoStreamEncodeConfig[0].frameRate,maxKbps:s.maxKbps}),this.logger.print("autoResetVideoEncoderConfig() result",JSON.stringify(this._videoStreamEncodeConfig)),reportRtcInvokeStatus(this.id,"autoResetVideoEncoderConfig",JSON.stringify(this._videoStreamEncodeConfig))}}}},{key:"setScreenEncoderConfig",value:(x=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("setScreenEncoderConfig()","description: %o",t),this._screenStreamEncodeConfig=[t],e.t0=this._localScreenVideoTrack,!e.t0){e.next=9;break}if(e.t1="16.1"!==safariMinorVersion,!e.t1){e.next=8;break}return e.next=8,this._localScreenVideoTrack.updateVideoCaptureConfig(t);case 8:t.contentHint&&this._localScreenVideoTrack.setContentHint(t.contentHint);case 9:this._updateDummyCaptureImage(StreamIndex.STREAM_INDEX_SCREEN),(null==(n=this._room)?void 0:n.hasScreenPublished)&&this._updateScreenPublish();case 11:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"sendSEIMessage",value:function(e,t,n){var r,i,a,o,s,l,c,d,u,U=this;if(this.logger.info("sendSEIMessage()","streamIdex: %o, message: %o, repeatCount: %o",e,t,n),!isEncodedTransformSupported())return warnDevelopers("Your browser does not support sending SEI"),!1;checkEnum(e,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),checkNumber(n,"repeatCount",0,30);var F,p="string"==typeof t?new Uint8Array(Utils.str2ab(t)):t;if(!t.length)return this.logger.warn("sei message must not be empty"),!1;if(e===StreamIndex.STREAM_INDEX_MAIN){if(!(null==(i=null==(r=this._room)?void 0:r.localStream)?void 0:i.pubAudio)&&!(null==(o=null==(a=this._room)?void 0:a.localStream)?void 0:o.pubVideo))return;F=this._room.localStream}else{if(!(null==(l=null==(s=this._room)?void 0:s.localScreenStream)?void 0:l.pubAudio)&&!(null==(d=null==(c=this._room)?void 0:c.localScreenStream)?void 0:d.pubVideo))return;F=this._room.localScreenStream}if(p.byteLength>4096)this.logger.warn("sei size must not bigger than 4KB");else{isAndroid||null==(u=this._room)||u.maybeFillBackFrame2Stream(F);var Q=genUuid();F.seiList.push({content:p,uuid:Q,repeatCount:n+1}),setTimeout((function(){if(F){var e=F.seiList.findIndex((function(e){return e.uuid===Q}));e>=0&&(F.seiList.splice(e,1),console.error("[RTC WebSDK] sei timeout for message: %o",t),U.monitor.report("rtc_sdk_callback",{sdk_callback_name:"sendSEIMessage",message:"timeout for message: "+t,error_code:400}))}}),getParameter("SEI_TIME_OUT"))}}},{key:"setAudioVolumeIndicationInterval",value:function(e){var t=this;this.logger.info("setAudioVolumeIndicationInterval()","interval %o: ",e),("number"!=typeof e||e<200)&&(e=200);var n=[];this._audioVolumeIndicationTimer&&clearInterval(this._audioVolumeIndicationTimer),this._audioVolumeIndicationTimer=setInterval((function(){var e,r;n=[],null==(e=t._room)||e.remoteStreams.forEach((function(e,t){var r;if(0!==e.length){var i=e.find((function(e){return!e.isScreen})),a=null==(r=null==i?void 0:i.audioTrack)?void 0:r.getAudioLevel();n.push({userId:t,volume:a||0})}}));var i=null==(r=t._localAudioTrack)?void 0:r.getAudioLevel();n.push({userId:t._getUserId(),volume:i||0}),t.safeEmit(EngineEventsTypes.onAudioVolumeIndication,{speakers:n})}),e)}},{key:"_sendActiveSpeaker",value:function(e,t){var n;if(this._room&&this._room.remoteUsers.size>=1){var r,i,a=e[0],o=t.reduce((function(e,t){return e&&e.audioPropertiesInfo.nonlinearVolume>t.audioPropertiesInfo.nonlinearVolume?e:t}),void 0);if((r=a?o?a.audioPropertiesInfo.nonlinearVolume>o.audioPropertiesInfo.nonlinearVolume?a:o:a:o)&&r.audioPropertiesInfo.nonlinearVolume>-35)(i=r.streamKey?this._room.remoteUsers.get(r.streamKey.userId):null==(n=this._room._roomInfo)?void 0:n.userInfo)&&this.safeEmit(EngineEventsTypes.onActiveSpeaker,{userId:i.userId,extraInfo:i.extraInfo})}}},{key:"enableAudioPropertiesReport",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger.info("enableAudioPropertiesReport()","config %o: ",t);var n=t.enableInBackground,r=void 0===n||n,i=t.localMainReportMode,a=void 0===i?LocalMainReportMode.NORMAL:i,o=t.audioReportMode,s=void 0===o?AudioReportMode.MICROPHONE:o,l=t.interval,c=void 0===l?100:l;this._stopAudioPropertiesReport(),c<=0||(c=Math.max(100,c),this._audioPropertiesReportTimer=self.setInterval((function(){var t,n;if(r||"hidden"!==document.visibilityState){var i=[],o=e._audioDeviceManager.getRecordTrack()||e._localAudioTrack;if(o){var l=null==(n=null==(t=e._room)?void 0:t.localStream)?void 0:n.audioHasPublish,c=!!e._audioDeviceManager.getRecordTrack(),d=o.getAudioLevel(s),u=getNonlinearVolume(d),U={streamIndex:StreamIndex.STREAM_INDEX_MAIN,audioPropertiesInfo:{linearVolume:d,nonlinearVolume:u}};if(l||c)i.push(U);else switch(a){case LocalMainReportMode.DISCONNECT:break;case LocalMainReportMode.RESET:U.audioPropertiesInfo.linearVolume=0,U.audioPropertiesInfo.nonlinearVolume=-127,i.push(U);break;case LocalMainReportMode.NORMAL:i.push(U);break;default:throw new SDKError(ErrorCode.INVALID_PARAMS,"invalid localMainReportMode: ".concat(a," in config"))}}if(e._localScreenAudioTrack){var F=e._localScreenAudioTrack.getAudioLevel();i.push({streamIndex:StreamIndex.STREAM_INDEX_SCREEN,audioPropertiesInfo:{linearVolume:F,nonlinearVolume:getNonlinearVolume(F)}})}if(e.safeEmit(EngineEventsTypes.onLocalAudioPropertiesReport,i),e._room){var p=[];e._room.multiChatMode?e._room.getActiveSpeakerInMultiChatMode().forEach((function(t){var n,r,i,a=255*t.audioLevel;p.push({streamKey:{userId:t.userId,streamIndex:StreamIndex.STREAM_INDEX_MAIN,roomId:null!==(n=null==(i=null==(r=e._room)?void 0:r._roomInfo)?void 0:i.roomId)&&void 0!==n?n:""},audioPropertiesInfo:{linearVolume:a,nonlinearVolume:getNonlinearVolume(a)}})})):e._room.remoteStreams.forEach((function(t,n){t.forEach((function(t){var r,i;if(t.audioTrack){var a,o=t.audioTrack.getAudioLevel();p.push({streamKey:{userId:n,streamIndex:t.isScreen?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN,roomId:null!==(a=null==(i=null==(r=e._room)?void 0:r.roomInfo)?void 0:i.roomId)&&void 0!==a?a:""},audioPropertiesInfo:{linearVolume:o,nonlinearVolume:getNonlinearVolume(o)}})}}))})),e.safeEmit(EngineEventsTypes.onRemoteAudioPropertiesReport,p),e._sendActiveSpeaker(i,p.filter((function(e){return e.streamKey.streamIndex!==StreamIndex.STREAM_INDEX_SCREEN})))}}}),c))}},{key:"setVideoSourceType",value:(w=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("setVideoSourceType()","index: %o, videoSourceType: %o",t,n),checkEnum(t,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),checkEnum(n,"VideoSourceType",[VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL,VideoSourceType.VIDEO_SOURCE_TYPE_INTERNAL]),f=t===StreamIndex.STREAM_INDEX_MAIN?"video":"screenVideo",this._trackSourceType[f]===n){e.next=23;break}if(this._trackSourceType[f]=n,this.logger.print("setVideoSourceType","set ".concat(f," source type to ").concat(n)),!this._localVideoTrack||t!==StreamIndex.STREAM_INDEX_MAIN){e.next=13;break}if(E=!1,n===VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL&&(E=!0,(v=this._extensionManager.getPluginByName(RTCExtensionType.PRE_PROCESSING,"RTCBeautyExtension"))&&v.emit("stop"),this._removeLocalTrackEvents(this._localVideoTrack),this._localVideoTrack.close()),null==(r=this._videoPlayer)||r.stop(),this._localVideoTrack=void 0,y=null==(i=this._room)?void 0:i._roomConfig.isAutoPublish,E?null==(s=null==(o=null==(a=this._room)?void 0:a.localStream)?void 0:o.observer)||s.setEnableVideo(!1):null==(d=null==(c=null==(l=this._room)?void 0:l.localStream)?void 0:c.observer)||d.setPushVideo(!1),e.t0=(null==(U=null==(u=this._room)?void 0:u.localStream)?void 0:U.pubVideo)||y,!e.t0){e.next=13;break}return e.next=13,this._updatePublish();case 13:if(!this._localScreenVideoTrack||t!==StreamIndex.STREAM_INDEX_SCREEN){e.next=23;break}if(g=!1,n===VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL&&(g=!0,this._removeLocalTrackEvents(this._localScreenVideoTrack),this._localScreenVideoTrack.close()),null==(F=this._screenPlayer)||F.stop(),this._localScreenVideoTrack=void 0,g?null==(h=null==(Q=null==(p=this._room)?void 0:p.localScreenStream)?void 0:Q.observer)||h.setEnableVideo(!1):null==(S=null==(_=null==(R=this._room)?void 0:R.localScreenStream)?void 0:_.observer)||S.setPushVideo(!1),e.t1=null==(m=null==(B=this._room)?void 0:B.localScreenStream)?void 0:m.pubVideo,!e.t1){e.next=23;break}return e.next=23,this._updateScreenPublish();case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"setExternalVideoTrack",value:(A=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("setExternalVideoTrack()","index: %o, track: %o",t,n),checkEnum(t,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),checkMediaStreamTrack(n),t!==StreamIndex.STREAM_INDEX_MAIN){e.next=14;break}if(this._trackSourceType.video===VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL){e.next=3;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setVideoSourceType as external first");case 3:return e.next=5,createCustomVideoLocalTrack(n,this._extensionManager);case 5:if(this._localVideoTrack=e.sent,!n.contentHint&&(null==(r=this._videoStreamEncodeConfig[0])?void 0:r.contentHint)&&this._localVideoTrack.setContentHint(null==(i=this._videoStreamEncodeConfig[0])?void 0:i.contentHint),this._initLocalTrackEvents(this._localVideoTrack),null==(a=this._videoPlayer)||a.playVideo(this._localVideoTrack),Q=null==(o=this._room)?void 0:o._roomConfig.isAutoPublish,e.t0=(null==(l=null==(s=this._room)?void 0:s.localStream)?void 0:l.pubVideo)||Q,!e.t0){e.next=14;break}return e.next=14,this._updatePublish();case 14:if(t!==StreamIndex.STREAM_INDEX_SCREEN){e.next=27;break}if(this._trackSourceType.screenVideo===VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL){e.next=17;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setVideoSourceType as external first");case 17:return e.next=19,createCustomScreenVideoLocalTrack(n,this._extensionManager);case 19:if(this._localScreenVideoTrack=e.sent,this._initLocalTrackEvents(this._localScreenVideoTrack,!0),null==(c=this._screenPlayer)||c.playVideo(this._localScreenVideoTrack),null==(U=null==(u=null==(d=this._room)?void 0:d.localScreenStream)?void 0:u.observer)||U.setPushVideo(!0),e.t1=null==(p=null==(F=this._room)?void 0:F.localScreenStream)?void 0:p.pubVideo,!e.t1){e.next=27;break}return e.next=27,this._updateScreenPublish();case 27:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"setAudioSourceType",value:(O=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("setAudioSourceType()","index: %o, audioSourceType: %o",t,n),checkEnum(t,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),checkEnum(n,"audioSourceType",[AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL,AudioSourceType.AUDIO_SOURCE_TYPE_INTERNAL]),B=t===StreamIndex.STREAM_INDEX_MAIN?"audio":"screenAudio",this._trackSourceType[B]===n){e.next=21;break}if(this._trackSourceType[B]=n,this.logger.print("setVideoSourceType","set ".concat(B," source type to ").concat(n)),!this._localAudioTrack||t!==StreamIndex.STREAM_INDEX_MAIN){e.next=12;break}if(m=!1,this._trackSourceType.audio===AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL&&(m=!0,this._removeLocalTrackEvents(this._localAudioTrack),this._localAudioTrack.close()),this._localAudioTrack=void 0,f=null==(r=this._room)?void 0:r._roomConfig.isAutoPublish,m?null==(o=null==(a=null==(i=this._room)?void 0:i.localStream)?void 0:a.observer)||o.setEnableAudio(!1):null==(c=null==(l=null==(s=this._room)?void 0:s.localStream)?void 0:l.observer)||c.setPushAudio(!1),e.t0=(null==(u=null==(d=this._room)?void 0:d.localStream)?void 0:u.pubAudio)||f,!e.t0){e.next=12;break}return e.next=12,this._updatePublish();case 12:if(!this._localScreenAudioTrack||t!==StreamIndex.STREAM_INDEX_SCREEN){e.next=21;break}if(E=!1,this._trackSourceType.audio===AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL&&(E=!0,this._removeLocalTrackEvents(this._localScreenAudioTrack),this._localScreenAudioTrack.close()),this._localScreenAudioTrack=void 0,E?null==(p=null==(F=null==(U=this._room)?void 0:U.localScreenStream)?void 0:F.observer)||p.setEnableAudio(!1):null==(R=null==(h=null==(Q=this._room)?void 0:Q.localScreenStream)?void 0:h.observer)||R.setPushAudio(!1),e.t1=null==(S=null==(_=this._room)?void 0:_.localScreenStream)?void 0:S.pubAudio,!e.t1){e.next=21;break}return e.next=21,this._updateScreenPublish();case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)})},{key:"setExternalAudioTrack",value:(I=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("setExternalAudioTrack()","index: %o, track: %o",t,n),checkEnum(t,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),checkMediaStreamTrack(n),t!==StreamIndex.STREAM_INDEX_MAIN){e.next=14;break}if(this._trackSourceType.audio===AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL){e.next=3;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setAudioSourceType as external first");case 3:return e.next=5,createCustomAudioLocalTrack(n,this._extensionManager);case 5:if(this._localAudioTrack=e.sent,this._localAudioTrack.setVolume(this._localAudioVolume),this._initLocalTrackEvents(this._localAudioTrack),p=null==(r=this._room)?void 0:r._roomConfig.isAutoPublish,null==(o=null==(a=null==(i=this._room)?void 0:i.localStream)?void 0:a.observer)||o.setPushAudio(!0),e.t0=(null==(l=null==(s=this._room)?void 0:s.localStream)?void 0:l.pubAudio)||p,!e.t0){e.next=14;break}return e.next=14,this._updatePublish();case 14:if(t!==StreamIndex.STREAM_INDEX_SCREEN){e.next=27;break}if(this._trackSourceType.screenAudio===AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL){e.next=17;break}throw new SDKError(ErrorCode.STREAM_TYPE_NOT_MATCH,"setAudioSourceType as external first");case 17:return e.next=19,createCustomScreenAudioLocalTrack(n,this._extensionManager);case 19:if(this._localScreenAudioTrack=e.sent,this._localScreenAudioTrack.setVolume(this._localScreenAudioVolume),this._initLocalTrackEvents(this._localScreenAudioTrack),null==(u=null==(d=null==(c=this._room)?void 0:c.localScreenStream)?void 0:d.observer)||u.setPushAudio(!0),e.t1=null==(F=null==(U=this._room)?void 0:U.localScreenStream)?void 0:F.pubAudio,!e.t1){e.next=27;break}return e.next=27,this._updateScreenPublish();case 27:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)})},{key:"login",value:(M=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("login()","token: %o, userInfo: %o",t,n),isEmpty(t)||checkString(t,"token"),checkUserId(n),this._rtmClient.login(t,n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return M.apply(this,arguments)})},{key:"logout",value:(Z=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("logout()"),this._rtmClient.logout()));case 1:case"end":return e.stop()}}),e,this)}))),function(){return Z.apply(this,arguments)})},{key:"updateLoginToken",value:(D=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("updateLoginToken()","token: %o",t),isEmpty(t)||checkString(t,"token"),this._rtmClient.updateLoginToken(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"getPeerOnlineStatus",value:(W=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("getPeerOnlineStatus()","userId: %o",t),checkUserId(t),this._rtmClient.getPeerOnlineStatus(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return W.apply(this,arguments)})},{key:"sendUserMessageOutsideRoom",value:(J=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkUserId(t),checkBufferSize(n),r=Date.now(),e.abrupt("return",this._rtmClient.sendUserMessageOutsideRoom(t,n).then((function(e){return i._messageStatisticsObserver.countUserMessageOutsideRoom(!0,t,!1,r,e),e.id})).catch((function(e){throw i._messageStatisticsObserver.countUserMessageOutsideRoom(!1,t,!1,r,e),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return J.apply(this,arguments)})},{key:"sendUserBinaryMessageOutsideRoom",value:(C=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkUserId(t),checkArrayBuffer(n,"message"),checkBufferSize(n),r=Date.now(),e.abrupt("return",this._rtmClient.sendUserMessageOutsideRoom(t,n).then((function(e){return i._messageStatisticsObserver.countUserMessageOutsideRoom(!0,t,!0,r,e),e.id})).catch((function(e){throw i._messageStatisticsObserver.countUserMessageOutsideRoom(!1,t,!0,r,e),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"setServerParams",value:(b=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.info("setServerParams()","signature: %o, url: %0",t,n),this._rtmClient.setServerParams(t,n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"sendServerMessage",value:(N=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkString(t,"message"),checkBufferSize(t),n=Date.now(),e.abrupt("return",this._rtmClient.sendServerMessage(t).then((function(e){r._messageStatisticsObserver.countServerMessage(!0,!1,n,e)})).catch((function(e){throw r._messageStatisticsObserver.countServerMessage(!1,!1,n,e),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"sendServerBinaryMessage",value:(k=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return checkArrayBuffer(t,"message"),checkBufferSize(t),n=Date.now(),e.abrupt("return",this._rtmClient.sendServerMessage(t).then((function(e){r._messageStatisticsObserver.countServerMessage(!0,!0,n,e)})).catch((function(e){throw r._messageStatisticsObserver.countServerMessage(!1,!0,n,e),e})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"startCloudProxy",value:function(e){if(this._room)throw new SDKError(ErrorCode.START_CLOUD_PROXY_AFTER_JOIN,"[startCloudProxy] should be invoke before join room ");this.logger.info("startCloudProxy()",e),checkString(e.logProxy,"logProxy"),checkString(e.accessProxy,"accessProxy"),checkString(e.configProxy,"configProxy"),this._originIceConfigRequestUrls=getParameter("ICE_CONFIG_REQUEST_URLS"),this._originLogServerUrl=getParameter("LOG_SERVER_URL"),this._originConfigServerUrls=getParameter("CONFIG_REQUEST_DOMAINS"),setParameter("ICE_CONFIG_REQUEST_URLS",e.accessProxy),setParameter("LOG_SERVER_URL",getFullLogServerUrl(e.logProxy)),setParameter("CONFIG_REQUEST_DOMAINS",[e.configProxy]),sdkCache.clearAccessNode(this._appId),sdkCache.clearAccessUrls(),this._ctx.useCloudProxy=!0}},{key:"stopCloudProxy",value:function(){var e,t,n,r;if(this._room)throw new SDKError(ErrorCode.STOP_CLOUD_PROXY_BEFORE_LEAVE,"[stopCloudProxy] should be invoke after leave room ");this.logger.info("stopCloudProxy()"),setParameter("ICE_CONFIG_REQUEST_URLS",null!==(e=null==(r=this._originIceConfigRequestUrls)?void 0:r.map((function(e){return e.replace("https://","").replace("/dispatch/v1/AccessInfo?Action=GetAccessInfo","")})))&&void 0!==e?e:[]),setParameter("LOG_SERVER_URL",null!==(t=this._originLogServerUrl)&&void 0!==t?t:""),setParameter("CONFIG_REQUEST_DOMAINS",null!==(n=this._originConfigServerUrls)&&void 0!==n?n:[]),sdkCache.clearAccessNode(this._appId),sdkCache.clearAccessUrls(),this._ctx.useCloudProxy=!1,this._startCloudProxyTimestamp=void 0}},{key:"startPushPublicStream",value:(V=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("startPushPublicStream()","publicStreamId: %o, publicStreamParam: %o",t,n),checkPublicStreamId(t),this._assertNotInRoom(),!this._publicStreamIds.get(t)){e.next=2;break}throw new SDKError(ErrorCode.REPEAT_PUSH,"repeat push public media stream");case 2:return(c=null==(i=null==(r=this._room)?void 0:r._roomInfo)?void 0:i.roomId)&&(null==(o=null==(a=n.layout)?void 0:a.regions)||o.map((function(e){e.roomId=c}))),d=getPublicStreamControlMessage(t,"started",n),e.abrupt("return",null==(l=null==(s=this._room)?void 0:s.publicStreamControlMessage(d))?void 0:l.then((function(){u._publicStreamIds.set(t,t)})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return V.apply(this,arguments)})},{key:"updatePublicStreamParam",value:(T=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.print("startPushPublicStream()","publicStreamId: %o, publicStreamParam: %o",t,n),checkPublicStreamId(t),this._assertNotInRoom(),i=getPublicStreamControlMessage(t,"layoutChanged",n),e.abrupt("return",null==(r=this._room)?void 0:r.publicStreamControlMessage(i));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"stopPushPublicStream",value:(g=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.print("startPushPublicStream()","publicStreamId: %o",t),checkPublicStreamId(t),this._assertNotInRoom(),null==(n=this._room)?void 0:n.publicStreamControlMessage({type:"publicstream",action:"stopped",publicStreamID:t}).then((function(){r._publicStreamIds.delete(t)}))));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"startPlayPublicStream",value:(y=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(checkPublicStreamId(t),e.t0=this._publicStreamManager,e.t0){e.next=9;break}return this._publicStreamManager=new OutsideRoom(this.id,this._appId,{businessId:this._businessId}),this._publicStreamManager.on(RoomEvent.RESUBSCRIBE,(function(e){var t,n,r=e.stream;if(r){var i=o._publicStreamAudioPlayer.get(r.streamId);i&&r.audioTrack&&(i.stop(),i.playAudio(null==(t=e.stream)?void 0:t.audioTrack));var a=o._publicStreamVideoPlayer.get(r.streamId);a&&r.videoTrack&&a.playVideo(null==(n=e.stream)?void 0:n.videoTrack)}})),this._publicStreamManager.on("onRemoteStreamStats",(function(e){e.publicStreamId=e.userId,delete e.userId,delete e.isScreen,o.safeEmit(EngineEventsTypes.onPublicStreamStats,e)})),this._publicStreamManager.on(RoomEvent.ON_SEI_MESSAGED_RECEIVED,(function(e){o.safeEmit(EngineEventsTypes.onPublicStreamSEIMessageReceived,e)})),e.next=9,this._publicStreamManager.connect();case 9:return e.next=11,this._publicStreamManager.startPlayPublicStream(t);case 11:r=e.sent,(i=this._publicStreamVideoPlayer.get(t))&&r.videoTrack&&i.playVideo(r.videoTrack,r),!(a=this._publicStreamAudioPlayer.get(t))&&r.audioTrack&&(a=new AudioPlayer(this.id,t,{muted:(null==(n=this._config)?void 0:n.autoPlayPolicy)===RTCAutoPlayPolicy.VIDEO_ONLY,isScreen:!1}),r.audioTrack.setPlayer(a),this._initPlayerEvents(a,!0),a.playAudio(r.audioTrack),this._publicStreamAudioPlayer.set(t,a));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"stopPlayPublicStream",value:(v=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._publicStreamManager){e.next=2;break}return e.abrupt("return");case 2:this._publicStreamManager.stopPlayPublicStream(t),(n=this._publicStreamAudioPlayer.get(t))&&(n.destroy(),this._publicStreamAudioPlayer.delete(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"setAudioProfile",value:(E=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.logger.info("setAudioProfile()","profile: %o",t),this._shouldUpdateAudioConf("setAudioProfile")&&this._ctx.audioProfileManager.setAudioProfile(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"setAudioEncodeMaxBitrate",value:(f=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("setAudioEncodeMaxBitrate()",t),checkNumber(t,"maxBitrate",6,256),this._ctx.audioProfileManager.setCustomMaxBitrate(t),!this._ctx.audioProfileManager.customMaxBitrate){e.next=7;break}if(!isFirefox||!(null==(r=null==(n=this._room)?void 0:n.localStream)?void 0:r.pubAudio)&&!(null==(a=null==(i=this._room)?void 0:i.localScreenStream)?void 0:a.pubAudio)){e.next=3;break}throw new SDKError(ErrorCode.NOT_SUPPORTED,"Your browser does not support set audio encode maxBitrate dynamically.");case 3:return e.next=5,null==(o=this._room)?void 0:o.setAudioEncodeMaxBitrate(StreamIndex.STREAM_INDEX_MAIN,t);case 5:return e.next=7,null==(s=this._room)?void 0:s.setAudioEncodeMaxBitrate(StreamIndex.STREAM_INDEX_SCREEN,t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"setPublicStreamVideoPlayer",value:function(e,t){var n,r;this.logger.print("setPublicStreamVideoPlayer()","publicStreamId: %o, videoPlayerOption: %o",e,t);var i=this._publicStreamVideoPlayer.get(e);if(null==i||i.destroy(),t.renderDom){i=new VideoPlayer(this.id,_objectSpread2(_objectSpread2({},t),{},{userId:e})),this._initPlayerEvents(i,!0),this._publicStreamVideoPlayer.set(e,i);var a=null==(n=this._publicStreamManager)?void 0:n.remoteStreams.get(e);(null==a?void 0:a.videoTrack)&&(null==(r=this._config)?void 0:r.autoPlayPolicy)!==RTCAutoPlayPolicy.PLAY_MANUALLY&&i.playVideo(a.videoTrack,a)}else this._publicStreamVideoPlayer.delete(e)}},{key:"setDummyCaptureImagePath",value:(m=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){checkString(n,"filePath");var a=new Image;a.crossOrigin="anonymous",a.src=n,a.onload=function(){t===StreamIndex.STREAM_INDEX_MAIN?r._dummyMainImage=a:r._dummyScreenImage=a;try{r._updateDummyCaptureImage(t),e()}catch(n){i(new SDKError(ErrorCode.UNEXPECTED_ERROR,n.message))}},a.onerror=function(){i(new SDKError(ErrorCode.UNEXPECTED_ERROR,"Load image error"))}})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})},{key:"_updateDummyCaptureImage",value:function(e){var t,n,r,i;if(e===StreamIndex.STREAM_INDEX_MAIN?(r=this._dummyMainImage,i=this._videoStreamEncodeConfig[0]):(r=this._dummyScreenImage,i=this._screenStreamEncodeConfig[0]),r){var a,o,s=document.createElement("canvas"),l=s.getContext("2d"),c=constraints2number(i.width),d=constraints2number(i.height);if(!l)throw new SDKError(ErrorCode.UNEXPECTED_ERROR,"Not support canvas");!c||!d||r.width<=c&&r.height<=d?(a=r.width,o=r.height):(a=Math.min(c,r.width*d/r.height),o=Math.min(d,r.height*c/r.width)),s.width=a,s.height=o,l.drawImage(r,0,0,r.width,r.height,0,0,a,o);var u=window.setInterval((function(){r&&l.drawImage(r,0,0,r.width,r.height,0,0,a,o)}),200);e===StreamIndex.STREAM_INDEX_MAIN?(clearInterval(this._dummyMainTimer),this._dummyMainTimer=u):(clearInterval(this._dummyScreenTimer),this._dummyScreenTimer=u);var U=s.captureStream(5).getVideoTracks()[0];e===StreamIndex.STREAM_INDEX_MAIN?(this._localImgVideoTrack=U,(null==(t=this._localVideoTrack)?void 0:t.dummy)&&this._localVideoTrack.setTrack(this._localImgVideoTrack,this._extensionManager)):(this._localImgScreenTrack=U,(null==(n=this._localScreenVideoTrack)?void 0:n.dummy)&&this._localScreenVideoTrack.setTrack(this._localImgScreenTrack,this._extensionManager))}}},{key:"_addListenExtensionEvent",value:function(e){var t=this;e.on("re-capture-audio",(function(){t._localAudioTrack&&t.stopAudioCapture().then((function(){t.startAudioCapture()}))})),e.on("re-capture-video",(function(){t._localVideoTrack&&!t._localVideoTrack.dummy&&t.stopVideoCapture().then((function(){t.startVideoCapture()}))})),e.on("reset-video-effect",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n,r){var i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._localVideoTrack||t._localVideoTrack.dummy){e.next=18;break}return t._localVideoTrack&&t._removeLocalTrackEvents(t._localVideoTrack),e.prev=2,e.next=5,t._localVideoTrack.generatePreProcessingTrack(t._extensionManager);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r(e.t0);case 10:if(t._initLocalTrackEvents(t._localVideoTrack),(null==(i=t._videoPlayer)?void 0:i.played)&&(t._videoPlayer.stop(),t._videoPlayer.playVideo(t._localVideoTrack),t._videoPlayer.mirror(!!t._mirrorType)),t.safeEmit(EngineEventsTypes.onLocalStreamTrackChangedByExtension,{streamIndex:StreamIndex.STREAM_INDEX_MAIN,type:"video"}),n(),e.t1=null==(o=null==(a=t._room)?void 0:a.localStream)?void 0:o.pubVideo,!e.t1){e.next=18;break}return e.next=18,t._updatePublish();case 18:n();case 19:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}())}},{key:"registerExtension",value:(B=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.monitor=this.monitor,e.prev=1,e.next=4,t.isSupported();case 4:if(e.sent){e.next=6;break}throw new Error("This extension is not supported.");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("This extension is not supported.");case 11:return e.next=13,t.init({videoCaptureConfig:this._videoStreamConstraints});case 13:this._extensionManager.register(t),this._addListenExtensionEvent(t),null==(n=this._localAudioTrack)||n.generatePreProcessingTrack(this._extensionManager),null==(r=this._localVideoTrack)||r.generatePreProcessingTrack(this._extensionManager);case 17:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return B.apply(this,arguments)})},{key:"defaultTranscoding",value:function(){return JSON.parse(JSON.stringify(LiveTranscoding.getDefaultValue()))}},{key:"_updatePublish",value:(S=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.logger.info("_updatePublish()","config: %o",t),t=_objectSpread2(_objectSpread2({},{mediaType:void 0,invokeByJoinRoom:!1,pubState:PubState.PUB}),t),this._visibility){e.next=4;break}throw new SDKError(ErrorCode.NO_PUBLISH_PERMISSION,"no publish permission");case 4:return e.next=6,this._pubLock.lock();case 6:if(r=e.sent,!this._room||this._room.connectionState!==MediaConnectionState.CONNECTED){e.next=22;break}return e.prev=8,e.next=11,this._room.publish(this._videoStreamEncodeConfig,this._enableSimulcast,this._localVideoTrack,this._localAudioTrack,t.mediaType,t.pubState,t.invokeByJoinRoom);case 11:(null==(n=this._room)?void 0:n.localStream)&&this._videoPlayer&&(this._room.localStream.videoPlayer=this._videoPlayer),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),e.t0 instanceof SDKError?(e.t0.code===ErrorCode.TOKEN_NO_PUBLISH_PERMISSION&&(this._tokenPublishPriviledgeExpired=!0),e.t0):new SDKError(ErrorCode.UNEXPECTED_ERROR,"unexpected error",e.t0);case 17:return e.prev=17,r(),e.finish(17);case 20:e.next=23;break;case 22:r();case 23:case"end":return e.stop()}}),e,this,[[8,14,17,20]])}))),function(){return S.apply(this,arguments)})},{key:"startAudioPlaybackDeviceTest",value:(_=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.print("startAudioPlaybackDeviceTest()","filePath: %o, indicationInterval: %o",t,n),checkString(t,"filePath"),checkNumber(n,"indicationInterval"),e.next=5,this._audioDeviceManager.startAudioPlaybackDeviceTest(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"stopAudioPlaybackDeviceTest",value:function(){this.logger.info("stopAudioPlaybackDeviceTest()"),this._audioDeviceManager.stopAudioPlaybackDeviceTest()}},{key:"startAudioDeviceRecordTest",value:(R=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.print("startAudioDeviceRecordTest()","indicationInterval: %o",t),checkNumber(t,"indicationInterval"),e.next=4,this._audioDeviceManager.startAudioDeviceRecordTest(t,n,this._localAudioVolume);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return R.apply(this,arguments)})},{key:"stopAudioDeviceRecordAndPlayTest",value:function(){this.logger.info("stopAudioDeviceRecordAndPlayTest()"),this._audioDeviceManager.stopAudioDeviceRecordAndPlayTest()}},{key:"stopAudioDevicePlayTest",value:function(){this.logger.info("stopAudioDevicePlayTest()"),this._audioDeviceManager.stopAudioDevicePlayTest()}},{key:"setRemoteUserPriority",value:function(e,t){var n;this.logger.print("setRemoteUserPriority()","userId: %o, priority: %o",e,t);try{checkUserId(e),checkEnum(t,"priority",[RemoteUserPriority.HIGH,RemoteUserPriority.MEDIUM,RemoteUserPriority.LOW])}catch(r){return console.warn(r),!1}return this._ctx.userPriority.set(e,t),null==(n=this._room)||n.updateRemoteUserPriority(e),!0}},{key:"takeLocalSnapshot",value:(h=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("takeLocalSnapshot()","streamIndex: %o",t),checkEnum(t,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),n=t===StreamIndex.STREAM_INDEX_MAIN?this.localVideoTrack:this.localScreenVideoTrack){e.next=4;break}throw new SDKError(ErrorCode.INVOKED_BEFORE_CAPTURE,"capture first");case 4:return r=t===StreamIndex.STREAM_INDEX_MAIN?this._videoPlayer:this._screenPlayer,e.abrupt("return",takeSnapshot(n.preprocessingTrack,(null==r?void 0:r.mirrorType)===MirrorType.MIRROR_TYPE_RENDER,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"takeRemoteSnapshot",value:(Q=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.print("takeRemoteSnapshot()","id: %o, streamIndex: %o",t,n),checkString(t,"id"),checkEnum(n,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),l=(null==(a=null==(i=null==(r=this._room)?void 0:r.remoteStreams.get(t))?void 0:i.find((function(e){return e.isScreen===(n===StreamIndex.STREAM_INDEX_SCREEN)})))?void 0:a.videoTrack)||(null==(s=null==(o=this._publicStreamManager)?void 0:o.remoteStreams.get(t))?void 0:s.videoTrack)){e.next=4;break}throw new SDKError(ErrorCode.STREAM_NOT_EXIST,"stream not exist");case 4:return e.abrupt("return",takeSnapshot(l.preprocessingTrack,!1,n===StreamIndex.STREAM_INDEX_MAIN?this._remoteVideoPlayer.get(t):this._remoteScreenPlayer.get(t)));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return Q.apply(this,arguments)})},{key:"setSubscribeFallbackOption",value:function(e){this.logger.info("setSubscribeFallbackOption()","option: %o",e);try{checkEnum(e,"option",[SubscribeFallbackOption.DISABLE,SubscribeFallbackOption.VIDEO_STREAM_LOW,SubscribeFallbackOption.AUDIO_ONLY])}catch(t){return console.warn(t),!1}return!this._room&&(this._ctx.subscribeFallbackOption=e,!0)}},{key:"getLocalStreamTrack",value:function(e,t){var n,r,i=this;if(e===StreamIndex.STREAM_INDEX_MAIN?(n="video"===t?this.localVideoTrack:this.localAudioTrack,r=function(){var e;return null==(e=i._room)?void 0:e.localStream}):(n="video"===t?this.localScreenVideoTrack:this.localScreenAudioTrack,r=function(){var e;return null==(e=i._room)?void 0:e.localScreenStream}),n){var a=n instanceof runtimeTrackCls.LocalAudioTrack&&n.mixedAudioTrack?n.mixedAudioTrack:n.preprocessingTrack;if(a){var o=r();return this._reportMsTrackEvent(a,(null==o?void 0:o.stream.id)||"local"),a}}}},{key:"getRemoteStreamTrack",value:function(e,t,n){var r,i,a,o=(null==(r=this._room)?void 0:r.remoteStreams.get(e))||[];if(o&&o.length&&(t===StreamIndex.STREAM_INDEX_MAIN?(a=o.find((function(e){return!e.isScreen})),i="video"===n?null==a?void 0:a.videoTrack:null==a?void 0:a.audioTrack):(a=o.find((function(e){return e.isScreen})),i="video"===n?null==a?void 0:a.videoTrack:null==a?void 0:a.audioTrack),i)){var s=i.preprocessingTrack;if(s&&a){var l=a.streamId;return this._reportMsTrackEvent(s,l),s}}}},{key:"getPublicStreamTrack",value:function(e,t){if(this._publicStreamManager&&this._publicStreamManager.remoteStreams){var n=this._publicStreamManager.remoteStreams.get(e);if(n){var r="video"===t?n.videoTrack:n.audioTrack;if(r){var i=r.preprocessingTrack;if(i){var a=n.streamId;return this._reportMsTrackEvent(i,a),i}}}}}},{key:"setRemoteStreamRenderSync",value:function(e){return!this._room&&(this._ctx.avSync=!!e,!0)}},{key:"setJoinRoomParams",value:function(e){e&&(this._ctx.joinRoomParams=e)}},{key:"setAudioSelectionConfig",value:(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(checkEnum(t,"audioSelectionPriority",[AudioSelectionPriority.DEFAULT,AudioSelectionPriority.HIGH]),this._ctx.mediaParams||(this._ctx.mediaParams={}),this._ctx.mediaParams.audioSelectionConfig={isHighPriority:t===AudioSelectionPriority.HIGH},e.t0=this._room,!e.t0){e.next=7;break}return e.next=7,this._room.updateMediaParams(this._ctx.mediaParams);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setCaptureVolume",value:function(e,t){var n,r,i,a,o,s=this;checkEnum(e,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),t=numberRangeGuide(t,"volume",0,400),e===StreamIndex.STREAM_INDEX_SCREEN?(null==(n=this._localScreenAudioTrack)||n.once("needReplaceTrack",(function(){var e;null==(e=s._room)||e.updatePubScreenTrack()})),null==(r=this._localScreenAudioTrack)||r.setVolume(t),this._localScreenAudioVolume=t):(null==(i=this._localAudioTrack)||i.once("needReplaceTrack",(function(){var e;null==(e=s._room)||e.updatePubTrack()})),null==(a=this._localAudioTrack)||a.setVolume(t),null==(o=this._audioDeviceManager.audioTrack)||o.setVolume(t),this._localAudioVolume=t)}},{key:"setPlaybackVolume",value:function(e,t,n){var r,i,a,o;if(checkUserId(e),checkEnum(t,"streamIndex",[StreamIndex.STREAM_INDEX_MAIN,StreamIndex.STREAM_INDEX_SCREEN]),n=numberRangeGuide(n,"volume",0,400),null==(r=this._room)?void 0:r.multiChatMode)warnDevelopers("setPlaybackVolume is not supported in Conference mode");else{var s=t===StreamIndex.STREAM_INDEX_SCREEN;s?this._remoteScreenAudioVolume.set(e,n):this._remoteAudioVolume.set(e,n);var l=null==(a=null==(i=this._room)?void 0:i.remoteStreams.get(e))?void 0:a.find((function(e){return e.isScreen===s}));null==(o=null==l?void 0:l.audioTrack)||o.setVolume(n)}}},{key:"setPublicStreamVolume",value:function(e,t){var n,r,i;checkString(e,"publicStreamId"),t=numberRangeGuide(t,"volume",0,400),this._publicAudioVolume.set(e,t),null==(i=null==(r=null==(n=this._publicStreamManager)?void 0:n.remoteStreams.get(e))?void 0:r.audioTrack)||i.setVolume(t)}},{key:"startForwardStreamToRooms",value:(F=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.forEach((function(e){checkRoomId(e.roomId)})),this._assertNotInRoom(),e.next=3,this._room.startForwardStream2Rooms(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"updateForwardStreamToRooms",value:(U=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.forEach((function(e){checkRoomId(e.roomId)})),this._assertNotInRoom(),e.next=3,this._room.updateForwardStream2Rooms(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"stopForwardStreamToRooms",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertNotInRoom(),e.next=3,this._room.stopForwardStream2Rooms();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"pauseForwardStreamToAllRooms",value:(d=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertNotInRoom(),e.next=3,this._room.pauseForwardStream2AllRooms();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"resumeForwardStreamToAllRooms",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertNotInRoom(),e.next=3,this._room.resumeForwardStream2AllRooms();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"ambulance",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_ambulance2(this);case 2:return t=e.sent,n=JSON.stringify(t),e.abrupt("return",(this.monitor.reportLongString("ambulance",n),t));case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"_reportMsTrackEvent",value:function(e,t){var n=this;if(!e.hookStop){e.hookStop=!0;var r=e.stop;e.stop=function(){reportRtcInvokeStatus(n.id,"stop",t,0,t),r.call(e)}}}},{key:"_updateScreenPublish",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.logger.info("_updateScreenPublish()"),t=_objectSpread2(_objectSpread2({},{mediaType:void 0,pubState:PubState.PUB}),t),this._visibility){e.next=4;break}throw new SDKError(ErrorCode.NO_PUBLISH_PERMISSION,"no publish permission");case 4:return e.next=6,this._pubLock.lock();case 6:if(r=e.sent,!this._room||this._room.connectionState!==MediaConnectionState.CONNECTED){e.next=22;break}return e.prev=8,e.next=11,this._room.publishScreen(this._screenStreamEncodeConfig,this._localScreenVideoTrack,this._localScreenAudioTrack,t.mediaType,t.pubState);case 11:(null==(n=this._room)?void 0:n.localScreenStream)&&this._screenPlayer&&(this._room.localScreenStream.videoPlayer=this._screenPlayer),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),e.t0 instanceof SDKError?e.t0:new SDKError(ErrorCode.UNEXPECTED_ERROR,"unexpected error",e.t0);case 17:return e.prev=17,r(),e.finish(17);case 20:e.next=23;break;case 22:r();case 23:case"end":return e.stop()}}),e,this,[[8,14,17,20]])}))),function(){return s.apply(this,arguments)})},{key:"_updateAudioPlayerState",value:function(e){var t,n;this.logger.info("_updateAudioPlayerState()");var r,i=e.userId,a=e.isScreen,o=a?this._remoteScreenAudioPlayer:this._remoteAudioPlayer,s=o.get(i);if(e.audioTrack&&e.attributes.audiostream&&e.subAudio){var l,c;if(!s){s=new AudioPlayer(this.id,i,{muted:(null==(t=this._config)?void 0:t.autoPlayPolicy)===RTCAutoPlayPolicy.VIDEO_ONLY,isScreen:a}),this._initPlayerEvents(s,!1,a?StreamIndex.STREAM_INDEX_SCREEN:StreamIndex.STREAM_INDEX_MAIN),o.set(i,s);var d=this._audioDeviceManager.getSinkId();d&&s.setPlaybackDevice(d)}(null==(n=this._config)?void 0:n.autoPlayPolicy)!==RTCAutoPlayPolicy.PLAY_MANUALLY&&s.playAudio(e.audioTrack),e.audioTrack.setPlayer(s);var u=a?null!==(l=this._remoteScreenAudioVolume.get(i))&&void 0!==l?l:100:null!==(c=this._remoteAudioVolume.get(i))&&void 0!==c?c:100;e.audioTrack.setVolume(u),isSafari&&isIPad&&(r=this._remoteAudioPlayer,remoteAudioReplayTimer&&clearTimeout(remoteAudioReplayTimer),remoteAudioReplayTimer=setTimeout((function(){var e,t=_createForOfIteratorHelper$1(r);try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,2),i=n[0],a=n[1];(null==i?void 0:i.startsWith("mux"))&&a.pause()}}catch(err2){t.e(err2)}finally{t.f()}var o,s=_createForOfIteratorHelper$1(r);try{for(s.s();!(o=s.n()).done;){var l=_slicedToArray(o.value,2),c=l[0],d=l[1];(null==c?void 0:c.startsWith("mux"))&&d.manuallyPlay()}}catch(err2){s.e(err2)}finally{s.f()}}),2e3))}else null==s||s.stop()}},{key:"_updateVideoPlayerState",value:function(e){var t;this.logger.info("_updateVideoPlayerState()");var n,r=e.userId;n=e.isScreen?this._remoteScreenPlayer.get(r):this._remoteVideoPlayer.get(r),e.videoTrack?n&&(null==(t=this._config)?void 0:t.autoPlayPolicy)!==RTCAutoPlayPolicy.PLAY_MANUALLY&&n.playVideo(e.videoTrack,e):(null==n?void 0:n.played)&&(null==n||n.stop())}},{key:"_onAddStream",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.stream,r=n.attributes,i=r.localaudio,a=r.audiostream,o=r.localvideo,s=r.videostream,l=ExtendMediaType.NONE,a&&(l|=MediaType$1.AUDIO),s&&(l|=MediaType$1.VIDEO),e.t0=l,!e.t0){e.next=11;break}return e.next=8,new Promise((function(e){return setTimeout(e)}));case 8:n.isScreen?this.safeEmit(EngineEventsTypes.onUserPublishScreen,{userId:n.userId,mediaType:l}):(this.safeEmit(EngineEventsTypes.onUserPublishStream,{userId:n.userId,mediaType:l,videoStreamDescriptions:n.attributes.videoDescriptions}),this._handleAutoSubscribe(n,!0)),this.safeEmit("onAddStream",{userId:n.userId,mediaType:l,isScreen:!!n.isScreen}),n.isScreen||(i&&this.safeEmit(EngineEventsTypes.onUserStartAudioCapture,{userId:n.userId}),o&&this.safeEmit(EngineEventsTypes.onUserStartVideoCapture,{userId:n.userId}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_handleAutoSubscribe",value:function(e,t){var n,r,i,a,o=ExtendMediaType.NONE;(null==(n=this._roomConfig)?void 0:n.isAutoSubscribeAudio)&&(o|=MediaType$1.AUDIO),(null==(r=this._roomConfig)?void 0:r.isAutoSubscribeVideo)&&(o|=MediaType$1.VIDEO),o&&(t&&audioInMediaType(o)&&(null==(i=e.observer)||i.setAutoSubscribeAudio(!0)),t&&videoInMediaType(o)&&(null==(a=e.observer)||a.setAutoSubscribeVideo(!0)),this._tokenSubscribePriviledgeExpired?(audioInMediaType(o)&&(this._pauseAllSubscribeState.resumeAudioStreamIds[e.streamId]=e.streamId),videoInMediaType(o)&&(this._pauseAllSubscribeState.resumeVideoStreamIds[e.streamId]=e.streamId)):this._subscribe(!1,e.userId,o))}},{key:"_onRemoveStream",value:function(e){var t,n=this,r=e.stream,i=null!==(t=StreamRemoveReasonMap[e.reason])&&void 0!==t?t:StreamRemoveReason.STREAM_REMOVE_REASON_OTHER,a=r.isScreen?EngineEventsTypes.onUserUnpublishScreen:EngineEventsTypes.onUserUnpublishStream,o=ExtendMediaType.NONE;r.attributes.audiostream&&(o|=MediaType$1.AUDIO),r.attributes.videostream&&(o|=MediaType$1.VIDEO),o!==ExtendMediaType.NONE&&(this.safeEmit(a,{userId:r.userId,mediaType:o,reason:i}),this.safeEmit("onRemoveStream",{userId:r.userId,isScreen:r.isScreen})),delete this._pauseAllSubscribeState.resumeAudioStreamIds[r.streamId],delete this._pauseAllSubscribeState.resumeVideoStreamIds[r.streamId],"function"==typeof e.callback&&e.callback(),this._getRemotePlayer(r.userId,r.isScreen).forEach((function(e){r.isScreen?(n._remoteScreenPlayer.delete(r.userId),n._remoteScreenAudioPlayer.delete(r.userId)):(n._remoteAudioPlayer.delete(r.userId),n._remoteVideoPlayer.delete(r.userId)),null==e||e.destroy()}))}},{key:"_onUserConnection",value:function(e){var t=this;setTimeout((function(){return t.safeEmit(EngineEventsTypes.onUserJoined,e)}))}},{key:"_onUserLeave",value:function(e){var t=this,n=e.userInfo;this._getRemotePlayer(n.userId,!0).forEach((function(e){t._remoteScreenAudioPlayer.delete(n.userId),t._remoteScreenPlayer.delete(n.userId),null==e||e.destroy()})),this._getRemotePlayer(n.userId,!1).forEach((function(e){t._remoteAudioPlayer.delete(n.userId),t._remoteVideoPlayer.delete(n.userId),null==e||e.destroy()})),this.safeEmit(EngineEventsTypes.onUserLeave,e)}},{key:"_onRoomError",value:function(e){var t;this.safeEmit(EngineEventsTypes.onError,e),null==(t=this._room)||t.destroy(),this._room=void 0}},{key:"_onNetworkQuality",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.safeEmit.apply(this,[EngineEventsTypes.onNetworkQuality].concat(t))}},{key:"_onConnectionStateChange",value:function(e){if(void 0!==this._startCloudProxyTimestamp&&this._ctx.useCloudProxy&&e.state===ConnectionState.CONNECTION_STATE_CONNECTED&&this.safeEmit(EngineEventsTypes.onCloudProxyConnected,{interval:Date.now()-this._startCloudProxyTimestamp}),this.safeEmit(EngineEventsTypes.onConnectionStateChanged,e),e.state===ConnectionState.CONNECTION_STATE_RECONNECTING){var t,n=_createForOfIteratorHelper$1(this._remoteAudioPlayer);try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),i=r[0],a=r[1];i.startsWith("mux")&&a.stop()}}catch(err2){n.e(err2)}finally{n.f()}}}},{key:"_getRemotePlayer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MediaType$1.AUDIO_AND_VIDEO,r=(t?this._remoteScreenAudioPlayer:this._remoteAudioPlayer).get(e),i=(t?this._remoteScreenPlayer:this._remoteVideoPlayer).get(e),a=[];return n&MediaType$1.AUDIO&&a.push(r),n&MediaType$1.VIDEO&&a.push(i),a}},{key:"_stopAudioPropertiesReport",value:function(){null!==this._audioPropertiesReportTimer&&(clearInterval(this._audioPropertiesReportTimer),this._audioPropertiesReportTimer=null)}},{key:"_onResubscribe",value:function(e){e.stream&&(this._getRemotePlayer(e.stream.userId,e.stream.isScreen).forEach((function(e){return null==e?void 0:e.stop()})),this._updateAudioPlayerState(e.stream),this._updateVideoPlayerState(e.stream))}},{key:"_onSubscribePushTrack",value:function(e){e.stream&&this._updateAudioPlayerState(e.stream)}},{key:"_onRemovePushTrack",value:function(e){var t=this;if(e.stream){this._updateAudioPlayerState(e.stream);var n=e.stream;this._getRemotePlayer(n.userId,n.isScreen,e.mediaType).forEach((function(r){e.mediaType&MediaType$1.AUDIO&&(n.isScreen?t._remoteScreenAudioPlayer.delete(n.userId):t._remoteAudioPlayer.delete(n.userId)),n.isScreen?e.mediaType&MediaType$1.VIDEO&&t._remoteScreenPlayer.delete(n.userId):e.mediaType&MediaType$1.VIDEO&&t._remoteVideoPlayer.delete(n.userId),null==r||r.destroy()}))}}},{key:"_onVideoDeviceStateChange",value:function(e){this.safeEmit(EngineEventsTypes.onVideoDeviceStateChanged,e)}},{key:"_onAudioDeviceStateChange",value:function(e){this.safeEmit(EngineEventsTypes.onAudioDeviceStateChanged,e)}},{key:"_onUserPublishStateChange",value:function(e){var t=this,n=e.userId,r=e.isScreen,i=e.mediaType,a=e.pubState,o=e.remoteStream,s={userId:n,mediaType:i};i&MediaType$1.AUDIO&&setTimeout((function(){t._updateAudioPlayerState(o)})),r?a===PubState.PUB?this.safeEmit(EngineEventsTypes.onUserPublishScreen,s):this.safeEmit(EngineEventsTypes.onUserUnpublishScreen,_objectSpread2(_objectSpread2({},s),{},{reason:StreamRemoveReason.STREAM_REMOVE_REASON_UNPUBLISH})):a===PubState.PUB?(s.videoStreamDescriptions=o.attributes.videoDescriptions,this.safeEmit(EngineEventsTypes.onUserPublishStream,s),this._handleAutoSubscribe(o,!0)):this.safeEmit(EngineEventsTypes.onUserUnpublishStream,_objectSpread2(_objectSpread2({},s),{},{reason:StreamRemoveReason.STREAM_REMOVE_REASON_UNPUBLISH}))}},{key:"_onCustomMessage",value:function(e){var t=e.message;e.binary?this.safeEmit(EngineEventsTypes.onRoomBinaryMessageReceived,{userId:e.clientId,message:t}):this.safeEmit(EngineEventsTypes.onRoomMessageReceived,{userId:e.clientId,message:t})}},{key:"_onUserMessageReceived",value:function(e){this._messageStatisticsObserver.recvP2PMessage(e.userId),this.safeEmit(EngineEventsTypes.onUserMessageReceived,e)}},{key:"_onUserBinaryMessageReceived",value:function(e){this._messageStatisticsObserver.recvP2PMessage(e.userId),this.safeEmit(EngineEventsTypes.onUserBinaryMessageReceived,e)}},{key:"_onLiveTranscodingResult",value:function(e){this.safeEmit(EngineEventsTypes.onLiveTranscodingResult,e)}},{key:"_onStreamMixingEvent",value:function(e){this.safeEmit(EngineEventsTypes.onStreamMixingEvent,e)}},{key:"_onUserTokenWillExpire",value:function(){this.safeEmit(EngineEventsTypes.onTokenWillExpire)}},{key:"_onUserTokenPublishPriviledgeWillExpire",value:function(){this.safeEmit(EngineEventsTypes.onTokenPublishPrivilegeWillExpire)}},{key:"_onUserTokenPublishPriviledgeDidExpired",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this._room)?void 0:t.unpublish();case 2:return e.next=4,null==(n=this._room)?void 0:n.unpublishScreen();case 4:this._tokenPublishPriviledgeExpired=!0,this.safeEmit(EngineEventsTypes.onTokenPublishPrivilegeDidExpired,{errorCode:ErrorCode.TOKEN_NO_PUBLISH_PERMISSION,message:"Token no longer has publish privilege"});case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_onUserTokenSubscribePriviledgeWillExpire",value:function(){this.safeEmit(EngineEventsTypes.onTokenSubscribePrivilegeWillExpire)}},{key:"_onUserTokenSubscribePriviledgeDidExpired",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._handleLoseSubscribePriviledge(),this.safeEmit(EngineEventsTypes.onTokenSubscribePrivilegeDidExpired,{errorCode:ErrorCode.TOKEN_NO_SUBSCRIBE_PERMISSION,message:"Token no longer has subscribe privilege"});case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_unSubscribeAllRemoteStreams",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._room?this._pauseAllRemoteStreams(MediaType$1.AUDIO_AND_VIDEO):Promise.resolve());case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_onPushPublicStreamResult",value:function(e){this.safeEmit(EngineEventsTypes.onPushPublicStreamResult,e)}},{key:"_handleRTMClient",value:function(e){var t=this;e.on("onUserMessageReceivedOutsideRoom",(function(e){t._messageStatisticsObserver.recvP2POutRoomMessage(e.userId),t.safeEmit(EngineEventsTypes.onUserMessageReceivedOutsideRoom,e)})),e.on("onUserBinaryMessageReceivedOutsideRoom",(function(e){t._messageStatisticsObserver.recvP2POutRoomMessage(e.userId),t.safeEmit(EngineEventsTypes.onUserBinaryMessageReceivedOutsideRoom,e)})),e.on("onUserDisconnection",(function(){t.safeEmit(EngineEventsTypes.onError,{errorCode:ErrorCode.RTM_DUPLICATE_LOGIN})})),e.on("onRTMTokenError",(function(){t.safeEmit(EngineEventsTypes.onError,{errorCode:ErrorCode.RTM_TOKEN_ERROR})})),e.on("onServerParamsSetResult",(function(e){t.safeEmit(EngineEventsTypes.onServerParamsSetResult,null==e?void 0:e.code)}))}},{key:"waitForNewToken",get:function(){return!!this._tempRoomInfo}},{key:"getSubLock",value:function(e,t){var n=e?this._subScreenLocks:this._subLocks,r=n.get(t);return r||(r=new PromiseLock2("sub_".concat(e?1:0,"_").concat(t)),n.set(t,r)),r}},{key:"localAudioTrack",get:function(){return this._localAudioTrack}},{key:"localVideoTrack",get:function(){return this._localVideoTrack}},{key:"localScreenAudioTrack",get:function(){return this._localScreenAudioTrack}},{key:"localScreenVideoTrack",get:function(){return this._localScreenVideoTrack}},{key:"remoteStreams",get:function(){var e,t=[];return(null==(e=this._room)?void 0:e.remoteStreams)&&this._room.remoteStreams.forEach((function(e){Array.isArray(e)&&e.forEach((function(e){t.push({userId:e.userId,isScreen:e.isScreen,hasVideo:e.hasVideo,hasAudio:e.hasAudio,videoStreamDescriptions:e.attributes.videoDescriptions})}))})),t}},{key:"iceState",get:function(){var e;return null==(e=this.peerConnection)?void 0:e.iceConnectionState}},{key:"remoteUsers",get:function(){var e,t=[];return(null==(e=this._room)?void 0:e.remoteUsers)&&this._room.remoteUsers.forEach((function(e){t.push({userId:e.userId})})),t}},{key:"multiChatMode",get:function(){var e;return!!(null==(e=this._room)?void 0:e._mediaServerClient.roomAttributes.multiChatMode)}},{key:"checkMediaType",get:function(){return this._checkMediaType}},{key:"assertNotInRoom",get:function(){return this._assertNotInRoom}},{key:"peerConnection",get:function(){var e,t,n;return null==(n=null==(t=null==(e=this._room)?void 0:e._mediaServerClient)?void 0:t.handler)?void 0:n.pc}},{key:"_handleAudioDeviceManager",value:function(){var e=this;this._audioDeviceManager.on("onAudioPlaybackDeviceTestVolume",(function(t){e.safeEmit(EngineEventsTypes.onAudioPlaybackDeviceTestVolume,t)}))}},{key:"_assertNotInRoom",value:function(){if(!this._room||this._room.connectionState!==MediaConnectionState.CONNECTED)throw new SDKError(ErrorCode.NOT_CONNECTED_YET,"server not connected")}},{key:"_checkMediaType",value:function(e){checkEnum(e,"mediaType",[MediaType$1.AUDIO,MediaType$1.VIDEO,MediaType$1.AUDIO_AND_VIDEO])}},{key:"_getUserId",value:function(){var e,t;return(null==(t=null==(e=this._room)?void 0:e.roomInfo)?void 0:t.userInfo.userId)||"local_user"}},{key:"_switchTrack",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initLocalTrackEvents(t),this._localVideoTrack=t,(null==(n=this._videoPlayer)?void 0:n.played)&&(this._videoPlayer.stop(),this._videoPlayer.playVideo(t),this._videoPlayer.mirror(!!this._mirrorType)),e.t0=null==(i=null==(r=this._room)?void 0:r.localStream)?void 0:i.pubVideo,!e.t0){e.next=7;break}return e.next=7,this._updatePublish();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_shouldUpdateAudioConf",value:function(e){var t,n,r,i=(null==(t=this._room)?void 0:t.hasPublished)||(null==(r=null==(n=this._room)?void 0:n.localStream)?void 0:r.pubAudio)||this._localAudioTrack&&this._localAudioTrack.sourceType===SourceType.INTERNAL;if(i){var a="engine.".concat(e," should be called before publishing or capturing.");console.warn("[RTC WebSDK]: ".concat(a)),reportRtcInvokeStatus(this.id,e,a)}return!i}},{key:"_getServerConfig",value:function(){var e=this,t=sdkCache.getServerConfig(this.appId);t.rts_report&&RTSMsgReportor.setConfig(t.rts_report),this._ctx.joinRoomConfig.setServerConfig(t.web_join_room),this._getServerConfigExecutor(t),getServerConfig({engineId:this.id,appId:this.appId,sdkVersion:getParameter("VERSION"),requestDomains:getParameter("CONFIG_REQUEST_DOMAINS"),keys:["rts_report","web_join_room","web_rtc_config"],deviceId:getParameter("DEVICE_ID")}).then((function(t){sdkCache.setServerConfig(e.appId,t),e.safeEmit("__onGetServerConfigFinishHook")}))}},{key:"_getServerConfigExecutor",value:function(e){var t,n,r,i;CoreConfig.setParameter("UPLOAD_CONSOLE_ON",!!(null==(t=null==e?void 0:e.web_rtc_config)?void 0:t.upload_console_on)),CoreConfig.setParameter("UPLOAD_CONSOLE_LENGTH_CUT",null==(n=null==e?void 0:e.web_rtc_config)?void 0:n.upload_console_length_cut),CoreConfig.setParameter("UPLOAD_REPORT_LIMIT",null==(r=null==e?void 0:e.web_rtc_config)?void 0:r.upload_report_limit),CoreConfig.setParameter("ENABLE_REPORT_IDB_BUFFER",!!(null==(i=null==e?void 0:e.web_rtc_config)?void 0:i.enable_report_idb_buffer))}}]);var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O,A,w,x,P,L,G,Y,H,$,j,X,K,z,q,ee,te,ne,re,ie,ae,oe,se,le,ce,de,ue,Ue,Fe,pe,Qe,he,Re,_e,Se,Be,me,fe,Ee,ve,ye,ge,Te,Ve,ke,Ne,be,Ce,Je}(EnhancedEventEmitter);__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"updateToken",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("video")],RTCEngine$1.prototype,"setVideoCaptureDevice",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("audio")],RTCEngine$1.prototype,"setAudioCaptureDevice",1),__decorateClass$1([setJoinRoomInfo,reportRtcSdkApiCall()],RTCEngine$1.prototype,"connect",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"joinRoom",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"leaveRoom",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"destroy",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"publishStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"unpublishStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"publishScreen",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"unpublishScreen",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"subscribeStream",1),__decorateClass$1([subLock],RTCEngine$1.prototype,"_subscribe",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"unsubscribeStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"subscribeScreen",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"unsubscribeScreen",1),__decorateClass$1([subLock],RTCEngine$1.prototype,"_unsubscribe",1),__decorateClass$1([reportRtcSdkApiCall(),subLock2],RTCEngine$1.prototype,"setRemoteVideoConfig",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("video")],RTCEngine$1.prototype,"startVideoCapture",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("video")],RTCEngine$1.prototype,"stopVideoCapture",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("audio")],RTCEngine$1.prototype,"startAudioCapture",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("audio")],RTCEngine$1.prototype,"stopAudioCapture",1),__decorateClass$1([reportRtcSdkApiCall(),captureLock("all")],RTCEngine$1.prototype,"startAudioAndVideoCapture",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startVideoAndAudioCapture",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"getAudioMixingManager",1),__decorateClass$1([reportRtcSdkApiCall(),screenCaptureLock],RTCEngine$1.prototype,"startScreenCapture",1),__decorateClass$1([reportRtcSdkApiCall(),screenCaptureLock],RTCEngine$1.prototype,"stopScreenCapture",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setLocalVideoPlayer",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startLiveTranscoding",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"updateLiveTranscoding",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopLiveTranscoding",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startSubtitle",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"updateSubtitleConfig",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopSubtitle",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setBusinessId",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setUserVisibility",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setRemoteVideoPlayer",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setLocalVideoMirrorType",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioPlaybackDevice",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"play",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"pauseAllSubscribedStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"resumeAllSubscribedStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendUserMessage",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendUserBinaryMessage",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendRoomMessage",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendRoomBinaryMessage",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioCaptureConfig",1),__decorateClass$1([warnDeprecatedApi("4.51"),reportRtcSdkApiCall()],RTCEngine$1.prototype,"setVideoCaptureConfig",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"enableSimulcastMode",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setVideoEncoderConfig",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setScreenEncoderConfig",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendSEIMessage",1),__decorateClass$1([warnDeprecatedApi("4.42"),reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioVolumeIndicationInterval",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"enableAudioPropertiesReport",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setVideoSourceType",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setExternalVideoTrack",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioSourceType",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setExternalAudioTrack",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"login",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"logout",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"updateLoginToken",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"getPeerOnlineStatus",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendUserMessageOutsideRoom",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendUserBinaryMessageOutsideRoom",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setServerParams",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendServerMessage",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"sendServerBinaryMessage",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startCloudProxy",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopCloudProxy",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startPushPublicStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"updatePublicStreamParam",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopPushPublicStream",1),__decorateClass$1([reportRtcSdkApiCall("streamId")],RTCEngine$1.prototype,"startPlayPublicStream",1),__decorateClass$1([reportRtcSdkApiCall("streamId")],RTCEngine$1.prototype,"stopPlayPublicStream",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioProfile",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioEncodeMaxBitrate",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setPublicStreamVideoPlayer",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setDummyCaptureImagePath",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"registerExtension",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startAudioPlaybackDeviceTest",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopAudioPlaybackDeviceTest",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startAudioDeviceRecordTest",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopAudioDeviceRecordAndPlayTest",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopAudioDevicePlayTest",1),__decorateClass$1([reportRtcSdkApiCall(),subLock2],RTCEngine$1.prototype,"setRemoteUserPriority",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"takeLocalSnapshot",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"takeRemoteSnapshot",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setSubscribeFallbackOption",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"getLocalStreamTrack",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"getRemoteStreamTrack",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"getPublicStreamTrack",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setRemoteStreamRenderSync",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setJoinRoomParams",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"setAudioSelectionConfig",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"startForwardStreamToRooms",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"updateForwardStreamToRooms",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"stopForwardStreamToRooms",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"pauseForwardStreamToAllRooms",1),__decorateClass$1([reportRtcSdkApiCall()],RTCEngine$1.prototype,"resumeForwardStreamToAllRooms",1);var StreamRemoveReasonMap={"client unpublished":StreamRemoveReason.STREAM_REMOVE_REASON_UNPUBLISH,"publish failed":StreamRemoveReason.STREAM_REMOVE_REASON_PUBLISH_FAILED,"stream removed":StreamRemoveReason.STREAM_REMOVE_REASON_KEEP_LIVE_FAILED,"client disconnected":StreamRemoveReason.STREAM_REMOVE_REASON_CLIENT_DISCONNECTED,"client republish":StreamRemoveReason.STREAM_REMOVE_REASON_REPUBLISH,"token publish privilege expired":StreamRemoveReason.STREAM_REMOVE_REASON_TOKEN_PRIVILEGE_EXPIRED};function subLock(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,a,o,s,l,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,n=new Array(t),i=0;i<t;i++)n[i]=c[i];return a=n[0],o=n[1],s=n[2],this.checkMediaType(s),this.assertNotInRoom(),e.next=5,this.getSubLock(a,o).lock();case 5:return l=e.sent,e.prev=6,e.next=9,r.apply(this,n);case 9:return e.abrupt("return",e.sent);case 10:return e.prev=10,l(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[6,,10,13]])}))),n}function subLock2(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,a,o,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),i=0;i<t;i++)n[i]=s[i];return a=n[0],e.next=4,this.getSubLock(!1,a).lock();case 4:return o=e.sent,e.prev=5,e.next=8,r.apply(this,n);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,o(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[5,,9,12]])}))),n}function captureLock(e){return function(t,n,r){var i=r.value;return r.value=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var n,r,a,o,s,l=arguments;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],"video"!==e&&n.push(this._audioCaptureLock.lock()),"audio"!==e&&n.push(this._videoCaptureLock.lock()),t.next=4,Promise.all(n);case 4:for(r=t.sent,t.prev=5,a=l.length,o=new Array(a),s=0;s<a;s++)o[s]=l[s];return t.next=9,i.apply(this,o);case 9:return t.abrupt("return",t.sent);case 10:return t.prev=10,r.forEach((function(e){return e()})),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[5,,10,13]])}))),r}}function screenCaptureLock(e,t,n){var r=n.value;return n.value=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._screenCaptureLock.lock();case 2:for(t=e.sent,e.prev=3,n=o.length,i=new Array(n),a=0;a<n;a++)i[a]=o[a];return e.next=7,r.apply(this,i);case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,t(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[3,,8,11]])}))),n}function getKillSwitchFromCache(e){var t=sdkCache.getServerConfig(e).web_rtc_config;return(null==t?void 0:t.web_pc_killswitch)?null==t?void 0:t.web_pc_killswitch:{}}function isFallbackMode(e){var t=sdkCache.getServerConfig(e).web_rtc_config;return"boolean"==typeof(null==t?void 0:t.fallback)?!1!==t.fallback&&!!Array.isArray(null==t?void 0:t.fallback_ua_reg)&&t.fallback_ua_reg.every((function(e){return"string"==typeof e&&new RegExp(e).test(navigator.userAgent)})):!!getParameter("ENABLE_FALLBACK_HANDLER")}function isStandardMode(e){var t=sdkCache.getServerConfig(e).web_rtc_config;return"boolean"==typeof(null==t?void 0:t.standard)?!1!==t.standard&&!!Array.isArray(null==t?void 0:t.standard_ua_reg)&&t.standard_ua_reg.every((function(e){return"string"==typeof e&&new RegExp(e).test(navigator.userAgent)})):!!getParameter("ENABLE_STANDARD_HANDLER")}var __defProp2=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__decorateClass$6=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc$6(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp2(t,n,a),a},BLWRTCEngine=function(e){function t(e,n,r){var i;return _classCallCheck$1(this,t),i=_callSuper(this,t,[e,n,r]),__publicField(_assertThisInitialized(i),"singleStreamRenderMode",!1),i.id=n,i.logger=new Logger$1$1("BLWEngine",0,n),_setVideoEncoderAutoConfigList([{width:192,height:108,frameRate:15,maxKbps:100},{width:320,height:180,frameRate:15,maxKbps:140},{width:640,height:360,frameRate:15,maxKbps:400},{width:1280,height:720,frameRate:15,maxKbps:1e3},{width:1920,height:1080,frameRate:15,maxKbps:2e3}]),i._handleEngineEvents(),i}return _inherits(t,e),_createClass$1(t,[{key:"subscribeStream",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(n,r){var i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.print("subscribeStream()","userId: %o, mediaType: %o",n,r),this.singleStreamRenderMode&&videoInMediaType(r)&&_superPropGet(t,"subscribeScreen",this,3)([n,MediaType$1.VIDEO]).catch((function(e){i.logger.error("singleStreamRenderMode subscribeScreen()",e)})),_superPropGet(t,"subscribeStream",this,3)([n,r])));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"unsubscribeStream",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(n,r){var i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.logger.print("unsubscribeStream()","userId: %o, mediaType: %o",n,r),this.singleStreamRenderMode&&videoInMediaType(r)&&_superPropGet(t,"unsubscribeScreen",this,3)([n,MediaType$1.VIDEO]).catch((function(e){i.logger.error("singleStreamRenderMode unsubscribeScreen()",e)})),_superPropGet(t,"unsubscribeStream",this,3)([n,r])));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"setRemoteScreenVideoStreamIndex",value:function(e){var t;return this.logger.print("setRemoteScreenVideoStreamIndex()","streamIndex: %o",e),(null==(t=this._room)?void 0:t.connectionState)!==MediaConnectionState.CONNECTED&&(this.singleStreamRenderMode=e===StreamIndex.STREAM_INDEX_MAIN,!0)}},{key:"setRemoteVideoPlayer",value:function(e,n){if(this.logger.print("setRemoteVideoPlayer()","streamIndex: %o, videoPlayerOption: %o",e,n),!this.singleStreamRenderMode||e!==StreamIndex.STREAM_INDEX_SCREEN)return _superPropGet(t,"setRemoteVideoPlayer",this,3)([e,n])}},{key:"destroy",value:function(){this.singleStreamRenderMode=!1,_superPropGet(t,"destroy",this,3)([])}},{key:"_updateVideoPlayerState",value:function(e){var n,r;if(!this.singleStreamRenderMode)return _superPropGet(t,"_updateVideoPlayerState",this,3)([e]);var i,a=e.userId,o=null==(n=this._room)?void 0:n.remoteStreams.get(a);Array.isArray(o)&&o.forEach((function(e){e.isScreen&&(i=e)}));var s=this._remoteVideoPlayer.get(a);return s?!e.isScreen&&(null==i?void 0:i.videoTrack)?(this.logger.print("_updateVideoPlayerState","prevent play main stream"),void s.playVideo(i.videoTrack,i)):void(e.videoTrack?(null==(r=this._config)?void 0:r.autoPlayPolicy)!==RTCAutoPlayPolicy.PLAY_MANUALLY&&s.playVideo(e.videoTrack,e):s.played&&s.stop()):void 0}},{key:"_handleEngineEvents",value:function(){var e=this;this.on(EngineEventsTypes.onUserPublishScreen,(function(t){var n,r;if(e.singleStreamRenderMode&&videoInMediaType(t.mediaType)){var i=null==(n=e._room)?void 0:n.remoteStreams.get(t.userId),a=null==i?void 0:i.find((function(e){return!e.isScreen})),o=null==i?void 0:i.find((function(e){return e.isScreen}));(null==o?void 0:o.hasSubscribed)?(e.logger.info("onUserPublishScreen","singleStreamRenderMode screen hasSubscribed"),e._updateVideoPlayerState(o)):((null==(r=e._roomConfig)?void 0:r.isAutoSubscribeVideo)||(null==a?void 0:a.hasSubscribed)&&videoInMediaType(a.subMediaType))&&(e.logger.info("onUserPublishScreen","singleStreamRenderMode subscribeScreen"),e.subscribeScreen(t.userId,MediaType$1.VIDEO))}})),this.on(EngineEventsTypes.onUserUnpublishScreen,(function(t){var n;if(e.singleStreamRenderMode&&videoInMediaType(t.mediaType)){var r=e._remoteVideoPlayer.get(t.userId),i=null==(n=e._room)?void 0:n.remoteStreams.get(t.userId),a=null==i?void 0:i.find((function(e){return!e.isScreen}));if(!(null==a?void 0:a.videoTrack)||!r)return;r.playVideo(a.videoTrack)}}))}}]);var n,r}(RTCEngine$1);__decorateClass$6([reportRtcSdkApiCall()],BLWRTCEngine.prototype,"subscribeStream",1),__decorateClass$6([reportRtcSdkApiCall()],BLWRTCEngine.prototype,"unsubscribeStream",1),__decorateClass$6([reportRtcSdkApiCall()],BLWRTCEngine.prototype,"setRemoteScreenVideoStreamIndex",1),__decorateClass$6([reportRtcSdkApiCall()],BLWRTCEngine.prototype,"setRemoteVideoPlayer",1),__decorateClass$6([reportRtcSdkApiCall()],BLWRTCEngine.prototype,"destroy",1);var logger$c=new Logger$1$1("VERTC",0);iDB.storeKey="".concat(Date.now(),"-").concat(sdkCache.getDeviceId()),setGlobalStats({rtc_sdk_version:Config2.VERSION,device_id:sdkCache.getDeviceId(),log_cache_key:iDB.storeKey}),setReportUrl(Config2.LOG_SERVER_URL);var ENGINE_GUID=1,createEngine=function(e,t){logger$c.info("createEngine","Invoke VERTC.createEngine"),checkString(e,"appId");var n=(ENGINE_GUID++).toString();return createMonitor(n,{rtc_app_id:e,auto_play_policy:null==t?void 0:t.autoPlayPolicy}),new RTCEngine$1(e,n,t)},createBLWEngine=function(e,t){logger$c.print("createBLWEngine","Invoke VERTC.createBLWEngine"),checkString(e,"appId");var n=(ENGINE_GUID++).toString();return createMonitor(n,{rtc_app_id:e,auto_play_policy:null==t?void 0:t.autoPlayPolicy}),new BLWRTCEngine(e,n,t)},destroyEngine=function(e){if(logger$c.info("destroyEngine","Invoke VERTC.destroyEngine"),!(e instanceof RTCEngine$1))throw new SDKError(ErrorCode.INVALID_ENGINE,"Invalid engine object");var t;e.destroy(),(t=e.monitor).report("sdk_init_engine",{start:Date.now(),type:"end"}),monitorMap.delete(t.id)},enumerateDevices=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dd$1.enumerateDevices());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enableDevices=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:{video:!0,audio:!0}).video,r=t.audio,i={video:!1,audio:!1},!n){e.next=12;break}return e.prev=3,e.next=6,dd$1.getPermissions({video:!0,force:!0});case 6:a=e.sent,i.video=a.video,a.video||(i.videoExceptionError=a.reason),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:if(!r){e.next=22;break}return e.prev=13,e.next=16,dd$1.getPermissions({audio:!0,force:!0});case 16:o=e.sent,i.audio=o.audio,o.audio||(i.audioExceptionError=o.reason),e.next=22;break;case 20:e.prev=20,e.t1=e.catch(13);case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,null,[[3,10],[13,20]])})));return function(){return e.apply(this,arguments)}}(),enumerateAudioCaptureDevices=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dd$1.enumerateAudioCaptureDevices());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enumerateVideoCaptureDevices=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dd$1.enumerateVideoCaptureDevices());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enumerateAudioPlaybackDevices=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dd$1.enumerateAudioPlaybackDevices());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSdkVersion=function(){return Config2.VERSION},isSupported2=function(){return isSupported$1()},getSupportedCodecs2=function(){return getSupportedCodecs()},setLogConfig=function(e){var t=e.logLevel,n=e.LogfileSize;t&&(iDB.logLevel=t),n&&(iDB.LogfileSize=n)},downloadLog=function(e){iDB.download(e)};function stringifyParams(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify(t.map((function(e){return e instanceof RTCEngine$1?"[ENGINE]":e})))}function reportVERTCApiCall(e,t){return function(){reportGlobalApiCall(t,0,stringifyParams.apply(void 0,arguments));var n=e.apply(void 0,arguments);return"function"==typeof(null==n?void 0:n.then)?n.then((function(e){return reportGlobalCallback(t,0,stringifyParams(e)),e})).catch((function(e){throw reportGlobalCallback(t,e.code,e.message),e})):(reportGlobalCallback(t,0,stringifyParams(n)),n)}}var VERTC=_createClass$1((function e(){_classCallCheck$1(this,e),__publicField(this,"getSdkVersion",reportVERTCApiCall(getSdkVersion,"getSdkVersion")),__publicField(this,"createEngine",reportVERTCApiCall(createEngine,"createEngine")),__publicField(this,"createBLWEngine",reportVERTCApiCall(createBLWEngine,"createBLWEngine")),__publicField(this,"destroyEngine",reportVERTCApiCall(destroyEngine,"destroyEngine")),__publicField(this,"enumerateDevices",reportVERTCApiCall(enumerateDevices,"enumerateDevices")),__publicField(this,"enableDevices",reportVERTCApiCall(enableDevices,"enableDevices")),__publicField(this,"enumerateAudioCaptureDevices",reportVERTCApiCall(enumerateAudioCaptureDevices,"enumerateAudioCaptureDevices")),__publicField(this,"enumerateVideoCaptureDevices",reportVERTCApiCall(enumerateVideoCaptureDevices,"enumerateVideoCaptureDevices")),__publicField(this,"enumerateAudioPlaybackDevices",reportVERTCApiCall(enumerateAudioPlaybackDevices,"enumerateAudioPlaybackDevices")),__publicField(this,"getParameter",getParameter),__publicField(this,"setParameter",setParameter),__publicField(this,"isSupported",reportVERTCApiCall(isSupported2,"isSupported")),__publicField(this,"getSupportedCodecs",reportVERTCApiCall(getSupportedCodecs2,"getSupportedCodecs")),__publicField(this,"events",EngineEventsTypes),__publicField(this,"ErrorCode",ErrorCode),__publicField(this,"platform","VolcEngine"),__publicField(this,"commitInfo","release_460<beecac3e4*>"),__publicField(this,"downloadLog",reportVERTCApiCall(downloadLog,"downloadLog")),__publicField(this,"setLogConfig",reportVERTCApiCall(setLogConfig,"setLogConfig"))})),index=new VERTC,AlwaysLog=(key2="_VEGAME_LOG_",location.search.includes(key2)||location.hash.includes(key2)),key2;function _buildGeneralError(){return{timeout:!0,errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,message:START_ERROR.ERROR_SDK_GENERAL.MESSAGE}}var BaseHandler$1=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),this._localLog=AlwaysLog,this.player=t,this.manager=n}),[{key:"isPhone",get:function(){return this.player.mode===MODE.CLOUD_PHONE}},{key:"isPCGame",get:function(){return this.player.mode===MODE.CLOUD_PC}},{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"handleMessage",value:function(e){return!(!this.pbType||!this.pbSubTypes)&&(!(e.type!==this.pbType||!this.pbSubTypes.includes(e.subtype))&&(this.onMessage(e),!0))}},{key:"fetchBase",value:function(e){return fetchBase(e,this.player.logger)}},{key:"fetchInnerApi",value:function(e){return fetchInnerApi(e,this.player.logger)}},{key:"onMessage",value:function(e){}},{key:"on",value:function(e,t){this.player.on(e,t)}},{key:"off",value:function(e,t){this.player.off(e,t)}},{key:"emit",value:function(e,t){this.player.emit(e,t)}},{key:"log",value:function(e,t){this.player.logger.send(e,t)}},{key:"beaconLog",value:function(e,t){this.player.logger.beaconSend(e,t)}},{key:"getLogParams",value:function(){return{commonParams:this.player.logger.getCommonParams(),initConfig:{userId:this.player.userId,channelDomain:LOG_CHANNEL_DOMAIN,SDKVersion:this.player.getVersion()}}}},{key:"print",value:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._localLog?(e=console).log.apply(e,["【SDK print】"].concat(r)):(t=this.player.logger).localWarnLog.apply(t,["handler","print","【SDK print】:"].concat(r))}},{key:"printTraceLog",value:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._localLog?(e=console).log.apply(e,["【SDK print】"].concat(r)):(t=this.player.logger).localTraceLog.apply(t,["handler","print","【SDK print】:"].concat(r))}},{key:"sendMessage",value:function(e){return void 0!==e.op_type?this.sendJsonMessage(e):this.sendPBMessage(e)}},{key:"sendPBMessage",value:function(e){return this.sendMessageBase(e,!0)}},{key:"sendJsonMessage",value:function(e){return this.sendMessageBase(JSON.stringify(e))}},{key:"sendMessageBase",value:function(e,t){try{return this.player.client.sendMessage(e,t)}catch(e2){return this.player.logger.localErrorLog("ClientTrigger","_sendMessage","发送消息失败: ",e2,e,t),Promise.resolve({error:e2,message:e,isBinary:t})}}},{key:"sendMessageWithReturn",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.jsonCmd,i=t.pbType,a=t.pbSubType,o=t.transformPBMes,s=t.timeout,l=t.onTimeout,c=t.onExec,d=t.throwGeneral,u=void 0!==d&&d,U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(u)throw _buildGeneralError();return{success:!1,data:null,fromCatch:e,err:t}},e.prev=2,e.next=5,this.sendMessage(n);case 5:if(!this.player.client.isReady){e.next=12;break}return e.next=8,this._onHandleMessage({jsonCmd:r,pbType:i,pbSubType:a,transformPBMes:o,timeout:s,onTimeout:l,onExec:c,message:n});case 8:return e.t0=e.sent,e.abrupt("return",{success:!0,data:e.t0});case 12:return e.abrupt("return",U(!1));case 13:e.next=18;break;case 15:return e.prev=15,e.t1=e.catch(2),e.abrupt("return",U(!0,e.t1));case 18:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(t){return e.apply(this,arguments)})},{key:"_onHandleMessage",value:function(e){var t=this,n=e.message,r=e.jsonCmd,i=e.pbType,a=e.pbSubType,o=e.transformPBMes,s=void 0===o?function(e){return e}:o,l=e.timeout,c=void 0===l?3e4:l,d=e.onTimeout,u=void 0===d?null:d,U=e.onExec,F=void 0===U?void 0:U;return new Promise((function(e){var o=t.player,l=o.client,d=o.logger,U=null,p=null,Q=function(){var e=MessageFactory$1.usePB?index.events.onUserBinaryMessageReceived:index.events.onUserMessageReceived;l.isRTC?l._client.off(e,p):l.off(e,p)},h=function(){clearTimeout(U),Q()},R=function(t){t&&(t.command===r||Array.isArray(r)&&r.includes(t.command))&&(h(),e(t))},_=function(t){d.localInfoLog("PodTrigger","_onHandleMessage","onPBMessage origin",t);var n=ProtoBufMessage.decodePBMessage(t);if(d.localInfoLog("PodTrigger","_onHandleMessage","onPBMessage decoded",n),n){var r=n.type,o=n.subtype,l=n.msg;r===i&&o===a&&(i===PB_MESSAGE.TYPES.MsgBusiness&&a===PB_MESSAGE.SUBTYPES.MsgBusinessMsgChannel?1===(null==l?void 0:l.type)&&(h(),e(s(l))):(h(),e(s(l))))}};l.isRTC?MessageFactory$1.usePB?l._client.on(index.events.onUserBinaryMessageReceived,p=function(e){_(e.message)}):l._client.on(index.events.onUserMessageReceived,p=function(e){var t=e.message&&JSON.parse(e.message);R(t)}):l.on("message-received",p=function(e){if(MessageFactory$1.usePB){var t,n=null==e||null===(t=e.message)||void 0===t?void 0:t.message;_(n)}else{var r=JSON.parse(e.message.message);R(r)}}),F&&F(),c&&(U=setTimeout((function(){Q(),u?u():e(_buildGeneralError()),console.warn("操作超时: ",n)}),c))}))}},{key:"setLogInfo",value:function(e,t){"string"==typeof e?this.player.logger.setSingleParam(e,t):this.player.logger.setCommonParams(e)}},{key:"encodePBMessage",value:function(e){return ProtoBufMessage.encodeMsgCommon(e)}},{key:"config",get:function(){return this.player.config}},{key:"store",get:function(){return this.player.store}},{key:"getConfig",value:function(e){return this.player.getConfig(e)}},{key:"setConfig",value:function(e,t){return this.player.setConfig(e,t)}},{key:"getStore",value:function(e){return this.player.getStore(e)}},{key:"setStore",value:function(e,t){return this.player.setStore(e,t)}},{key:"assignConfig",value:function(e){return this.player.assignConfig(e)}},{key:"assignStore",value:function(e){return this.player.assignStore(e)}},{key:"renderEle",get:function(){return this.player.client.renderEle}}]);var e}(),Plugins={},plugins=[];function getPluginNames(){return plugins}var Bridges={socketEngine:{MessageFactory:MessageFactory$1,LOG_TAG:LOG_TAG,PACKET_TYPE:PACKET_TYPE,START_ERROR:START_ERROR,POD_ERROR:POD_ERROR$1,CLIENT_EVENT_TYPE:CLIENT_EVENT_TYPE,isPwa:isPwa,MESSAGE_CHANNEL_ERROR:MESSAGE_CHANNEL_ERROR},handlers:{MessageFactory:MessageFactory$1,CLIENT_EVENT_TYPE:CLIENT_EVENT_TYPE,BaseHandler:BaseHandler$1,randomNumString:randomNumString$1,POD_ERROR:POD_ERROR$1,fetchBase:fetchBase}};function usePlugin(e){if(!e.pluginName)throw console.error("Invalid Plugin:",e),new Error("Invalid Plugin");var t=e.pluginName,n=e.injectBridge;Plugins[t]||(n(Bridges[t]),Plugins[t]=e,plugins.push(t))}function getPlugin(e){return Plugins[e]||null}var RTC_BLACK_LIST=[/\bAndroid 11; v[12]\d{3}\w build.+Chrome\/83.0.4103.106 Mobile Safari\/537.36$/i,/\bAndroid 11; p\w{5} build.+Chrome\/83.0.4103.106 Mobile Safari\/537.36$/i],logger$1=new Logger$2({}),RtcSupportedCache={set:function(e,t){try{localStorage.setItem("__VEGAME_RTC_SUPPORTED__","".concat(Number(e),",").concat(t))}catch(n){logger$1.localWarnLog("Init","cacheRtcSupported","cache failed.")}},get:function(){if(localStorage.getItem("__VEGAME_RTC_SUPPORTED__")){var e,t=(null===(e=localStorage.getItem("__VEGAME_RTC_SUPPORTED__"))||void 0===e?void 0:e.split(","))||[];return{result:!!Number(t[0]),info:t[1]||""}}return null}};function ifUaInBlackList(){for(var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent,n=0;n<RTC_BLACK_LIST.length;n++)if(RTC_BLACK_LIST[n].test(t))return!0;return!1}function _isSocketSupported(){if(!getPluginNames().includes("socketEngine"))return{result:!1,info:"请先安装 socket 插件"};var e="WebAssembly"in window,t=!1;return"customElements"in window&&window.customElements.define&&(t=!0),{result:e&&t,info:" wasm:".concat(e," webCustomElements:").concat(t)}}function isSocketSupported(){var e=_isSocketSupported(),t=e.result,n=e.info;return t||logger$1.localWarnLog("Init","isSupported","Websocket is not supported, because ",n),t}function isRtcSupported(){return _isRtcSupported2.apply(this,arguments)}function _isRtcSupported2(){return _isRtcSupported2=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_isRtcSupported();case 2:return t=e.sent,n=t.result,r=t.info,n||logger$1.localWarnLog("Init","isSupported","RTC is not supported, because ",r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),_isRtcSupported2.apply(this,arguments)}function isSupportedStatic(){return _isSupportedStatic.apply(this,arguments)}function _isSupportedStatic(){return(_isSupportedStatic=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,isRtcSupported();case 2:return e.t0=e.sent,e.t1=isSocketSupported(),e.abrupt("return",{rtcSupport:e.t0,socketSupport:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function isSupported(){return _isSupported.apply(this,arguments)}function _isSupported(){return _isSupported=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_isSocketSupported(),void 0!==this._isSocketSupport&&(t.result=this._isSocketSupport),logger$1.localInfoLog("Init","isSupported","Websocket supported is",t),this.logger.send("socketSupport",{result:t.result,msg:t.info}),e.next=6,_isRtcSupported(this.mode===MODE.CLOUD_PC);case 6:return n=e.sent,r=n.result,i=n.info,logger$1[r?"localInfoLog":"localWarnLog"]("Init","isSupported","rtc supported is ".concat(r,": ").concat(i)),r||this.logger.send("rtcNotSupported",{info:i}),e.abrupt("return",{rtcSupport:r,socketSupport:t.result});case 12:case"end":return e.stop()}}),e,this)}))),_isSupported.apply(this,arguments)}function _isRtcSupported(){return _isRtcSupported3.apply(this,arguments)}function _isRtcSupported3(){return _isRtcSupported3=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],n=function(e){return console.warn("NOT SUPPORTED: ".concat(e)),{result:!1,info:e}},r={result:!0,info:""},null===RtcSupportedCache.get()){e.next=7;break}r=RtcSupportedCache.get(),e.next=25;break;case 7:if(!ifUaInBlackList()){e.next=12;break}logger$1.localWarnLog("Init","isRtcSupported","UserAgent in BlackList"),r={result:!1,info:"UserAgent in BlackList"},e.next=25;break;case 12:return e.prev=12,e.next=15,decodeSupported();case 15:i=e.sent,console.log("decodeSupported",i),i.h264||i.vp8||(r=n("h264 and vp8 not supported")),!i.h264&&t&&(r=n("h264 not Supported")),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),console.warn(e.t0),r=n(e.t0.message);case 25:return RtcSupportedCache.set(r.result,r.info),e.abrupt("return",r);case 27:case"end":return e.stop()}}),e,null,[[12,21]])}))),_isRtcSupported3.apply(this,arguments)}function decodeSupported(){return _decodeSupported.apply(this,arguments)}function _decodeSupported(){return _decodeSupported=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new RTCPeerConnection).addTransceiver("video",{direction:t}),e.next=4,r.createOffer();case 4:return i=e.sent,r.close(),e.abrupt("return",(null===(n=i.sdp)||void 0===n?void 0:n.toLowerCase())||"");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("sendonly");case 2:return n=e.sent,r=["profile-level-id=42e01f","H264"].find((function(e){return null==n?void 0:n.includes(e)})),e.abrupt("return",{h264:!!r,vp8:n.indexOf("vp8")>-1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,n();case 4:if(!(r=e.sent).h264||!r.vp8){e.next=7;break}return e.abrupt("return",r);case 7:return e.next=9,n();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),_decodeSupported.apply(this,arguments)}var encodedJs="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEEoQSxJKXsobnVsbD09SXx8ST5BLmxlbmd0aCkmJihJPUEubGVuZ3RoKTtmb3IodmFyIGc9MCxCPUFycmF5KEkpO2c8STtnKyspQltnXT1BW2ddO3JldHVybiBCfWZ1bmN0aW9uIEkoQSxJLGcsQixRLEMsRSl7dHJ5e3ZhciBpPUFbQ10oRSksRD1pLnZhbHVlfWNhdGNoKG8pe3JldHVybiB2b2lkIGcobyl9aS5kb25lP0koRCk6UHJvbWlzZS5yZXNvbHZlKEQpLnRoZW4oQixRKX1mdW5jdGlvbiBnKEEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBnPXRoaXMsQj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihRLEMpe3ZhciBFPUEuYXBwbHkoZyxCKTtmdW5jdGlvbiBpKEEpe0koRSxRLEMsaSxELCJuZXh0IixBKX1mdW5jdGlvbiBEKEEpe0koRSxRLEMsaSxELCJ0aHJvdyIsQSl9aSh2b2lkIDApfSkpfX1mdW5jdGlvbiBCKEEsSSxnKXtyZXR1cm4gST13KEkpLGZ1bmN0aW9uKEEsSSl7aWYoSSYmKCJvYmplY3QiPT10eXBlb2YgSXx8ImZ1bmN0aW9uIj09dHlwZW9mIEkpKXJldHVybiBJO2lmKHZvaWQgMCE9PUkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oQSl7aWYodm9pZCAwPT09QSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBBfShBKX0oQSxhKCk/UmVmbGVjdC5jb25zdHJ1Y3QoSSxnfHxbXSx3KEEpLmNvbnN0cnVjdG9yKTpJLmFwcGx5KEEsZykpfWZ1bmN0aW9uIFEoQSxJKXtpZighKEEgaW5zdGFuY2VvZiBJKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBDKEEsSSl7Zm9yKHZhciBnPTA7ZzxJLmxlbmd0aDtnKyspe3ZhciBCPUlbZ107Qi5lbnVtZXJhYmxlPUIuZW51bWVyYWJsZXx8ITEsQi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIEImJihCLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQSx5KEIua2V5KSxCKX19ZnVuY3Rpb24gRShBLEksZyl7cmV0dXJuIEkmJkMoQS5wcm90b3R5cGUsSSksZyYmQyhBLGcpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLEF9ZnVuY3Rpb24gaShBLEkpe3ZhciBnPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZBW1N5bWJvbC5pdGVyYXRvcl18fEFbIkBAaXRlcmF0b3IiXTtpZighZyl7aWYoQXJyYXkuaXNBcnJheShBKXx8KGc9TShBKSl8fEkmJkEmJiJudW1iZXIiPT10eXBlb2YgQS5sZW5ndGgpe2cmJihBPWcpO3ZhciBCPTAsUT1mdW5jdGlvbigpe307cmV0dXJue3M6USxuOmZ1bmN0aW9uKCl7cmV0dXJuIEI+PUEubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTpBW0IrK119fSxlOmZ1bmN0aW9uKEEpe3Rocm93IEF9LGY6UX19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBDLEU9ITAsaT0hMTtyZXR1cm57czpmdW5jdGlvbigpe2c9Zy5jYWxsKEEpfSxuOmZ1bmN0aW9uKCl7dmFyIEE9Zy5uZXh0KCk7cmV0dXJuIEU9QS5kb25lLEF9LGU6ZnVuY3Rpb24oQSl7aT0hMCxDPUF9LGY6ZnVuY3Rpb24oKXt0cnl7RXx8bnVsbD09Zy5yZXR1cm58fGcucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IEN9fX19ZnVuY3Rpb24gRChBLEksZyl7cmV0dXJuKEk9eShJKSlpbiBBP09iamVjdC5kZWZpbmVQcm9wZXJ0eShBLEkse3ZhbHVlOmcsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpBW0ldPWcsQX1mdW5jdGlvbiBvKCl7cmV0dXJuIG89InVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24oQSxJLGcpe3ZhciBCPWZ1bmN0aW9uKEEsSSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbChBLEkpJiZudWxsIT09KEE9dyhBKSk7KTtyZXR1cm4gQX0oQSxJKTtpZihCKXt2YXIgUT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEIsSSk7cmV0dXJuIFEuZ2V0P1EuZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP0E6Zyk6US52YWx1ZX19LG8uYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIHcoQSl7cmV0dXJuKHc9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oQSl7cmV0dXJuIEEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQSl9KShBKX1mdW5jdGlvbiBHKEEsSSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIEkmJm51bGwhPT1JKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7QS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShJJiZJLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOkEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLEkmJmMoQSxJKX1mdW5jdGlvbiBhKCl7dHJ5e3ZhciBBPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKEkpe31yZXR1cm4oYT1mdW5jdGlvbigpe3JldHVybiEhQX0pKCl9ZnVuY3Rpb24gaChBLEkpe3ZhciBnPU9iamVjdC5rZXlzKEEpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBCPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoQSk7SSYmKEI9Qi5maWx0ZXIoKGZ1bmN0aW9uKEkpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEEsSSkuZW51bWVyYWJsZX0pKSksZy5wdXNoLmFwcGx5KGcsQil9cmV0dXJuIGd9ZnVuY3Rpb24gTigpe049ZnVuY3Rpb24oKXtyZXR1cm4gSX07dmFyIEEsST17fSxnPU9iamVjdC5wcm90b3R5cGUsQj1nLmhhc093blByb3BlcnR5LFE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihBLEksZyl7QVtJXT1nLnZhbHVlfSxDPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LEU9Qy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGk9Qy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixEPUMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBvKEEsSSxnKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsSSx7dmFsdWU6ZyxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLEFbSV19dHJ5e28oe30sIiIpfWNhdGNoKGQpe289ZnVuY3Rpb24oQSxJLGcpe3JldHVybiBBW0ldPWd9fWZ1bmN0aW9uIHcoQSxJLGcsQil7dmFyIEM9SSYmSS5wcm90b3R5cGUgaW5zdGFuY2VvZiB5P0k6eSxFPU9iamVjdC5jcmVhdGUoQy5wcm90b3R5cGUpLGk9bmV3IEwoQnx8W10pO3JldHVybiBRKEUsIl9pbnZva2UiLHt2YWx1ZTpVKEEsZyxpKX0pLEV9ZnVuY3Rpb24gRyhBLEksZyl7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzpBLmNhbGwoSSxnKX19Y2F0Y2goQil7cmV0dXJue3R5cGU6InRocm93Iixhcmc6Qn19fUkud3JhcD13O3ZhciBhPSJzdXNwZW5kZWRTdGFydCIsaD0ic3VzcGVuZGVkWWllbGQiLGM9ImV4ZWN1dGluZyIscz0iY29tcGxldGVkIixGPXt9O2Z1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdCgpe31mdW5jdGlvbiBNKCl7fXZhciBrPXt9O28oayxFLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBSPU9iamVjdC5nZXRQcm90b3R5cGVPZixZPVImJlIoUihIKFtdKSkpO1kmJlkhPT1nJiZCLmNhbGwoWSxFKSYmKGs9WSk7dmFyIGU9TS5wcm90b3R5cGU9eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrKTtmdW5jdGlvbiBuKEEpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24oSSl7byhBLEksKGZ1bmN0aW9uKEEpe3JldHVybiB0aGlzLl9pbnZva2UoSSxBKX0pKX0pKX1mdW5jdGlvbiBTKEEsSSl7ZnVuY3Rpb24gZyhRLEMsRSxpKXt2YXIgRD1HKEFbUV0sQSxDKTtpZigidGhyb3ciIT09RC50eXBlKXt2YXIgbz1ELmFyZyx3PW8udmFsdWU7cmV0dXJuIHcmJiJvYmplY3QiPT10eXBlb2YgdyYmQi5jYWxsKHcsIl9fYXdhaXQiKT9JLnJlc29sdmUody5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihBKXtnKCJuZXh0IixBLEUsaSl9KSwoZnVuY3Rpb24oQSl7ZygidGhyb3ciLEEsRSxpKX0pKTpJLnJlc29sdmUodykudGhlbigoZnVuY3Rpb24oQSl7by52YWx1ZT1BLEUobyl9KSwoZnVuY3Rpb24oQSl7cmV0dXJuIGcoInRocm93IixBLEUsaSl9KSl9aShELmFyZyl9dmFyIEM7USh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oQSxCKXtmdW5jdGlvbiBRKCl7cmV0dXJuIG5ldyBJKChmdW5jdGlvbihJLFEpe2coQSxCLEksUSl9KSl9cmV0dXJuIEM9Qz9DLnRoZW4oUSxRKTpRKCl9fSl9ZnVuY3Rpb24gVShJLGcsQil7dmFyIFE9YTtyZXR1cm4gZnVuY3Rpb24oQyxFKXtpZihRPT09Yyl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKFE9PT1zKXtpZigidGhyb3ciPT09Qyl0aHJvdyBFO3JldHVybnt2YWx1ZTpBLGRvbmU6ITB9fWZvcihCLm1ldGhvZD1DLEIuYXJnPUU7Oyl7dmFyIGk9Qi5kZWxlZ2F0ZTtpZihpKXt2YXIgRD1KKGksQik7aWYoRCl7aWYoRD09PUYpY29udGludWU7cmV0dXJuIER9fWlmKCJuZXh0Ij09PUIubWV0aG9kKUIuc2VudD1CLl9zZW50PUIuYXJnO2Vsc2UgaWYoInRocm93Ij09PUIubWV0aG9kKXtpZihRPT09YSl0aHJvdyBRPXMsQi5hcmc7Qi5kaXNwYXRjaEV4Y2VwdGlvbihCLmFyZyl9ZWxzZSJyZXR1cm4iPT09Qi5tZXRob2QmJkIuYWJydXB0KCJyZXR1cm4iLEIuYXJnKTtRPWM7dmFyIG89RyhJLGcsQik7aWYoIm5vcm1hbCI9PT1vLnR5cGUpe2lmKFE9Qi5kb25lP3M6aCxvLmFyZz09PUYpY29udGludWU7cmV0dXJue3ZhbHVlOm8uYXJnLGRvbmU6Qi5kb25lfX0idGhyb3ciPT09by50eXBlJiYoUT1zLEIubWV0aG9kPSJ0aHJvdyIsQi5hcmc9by5hcmcpfX19ZnVuY3Rpb24gSihJLGcpe3ZhciBCPWcubWV0aG9kLFE9SS5pdGVyYXRvcltCXTtpZihRPT09QSlyZXR1cm4gZy5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1CJiZJLml0ZXJhdG9yLnJldHVybiYmKGcubWV0aG9kPSJyZXR1cm4iLGcuYXJnPUEsSihJLGcpLCJ0aHJvdyI9PT1nLm1ldGhvZCl8fCJyZXR1cm4iIT09QiYmKGcubWV0aG9kPSJ0aHJvdyIsZy5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIitCKyInIG1ldGhvZCIpKSxGO3ZhciBDPUcoUSxJLml0ZXJhdG9yLGcuYXJnKTtpZigidGhyb3ciPT09Qy50eXBlKXJldHVybiBnLm1ldGhvZD0idGhyb3ciLGcuYXJnPUMuYXJnLGcuZGVsZWdhdGU9bnVsbCxGO3ZhciBFPUMuYXJnO3JldHVybiBFP0UuZG9uZT8oZ1tJLnJlc3VsdE5hbWVdPUUudmFsdWUsZy5uZXh0PUkubmV4dExvYywicmV0dXJuIiE9PWcubWV0aG9kJiYoZy5tZXRob2Q9Im5leHQiLGcuYXJnPUEpLGcuZGVsZWdhdGU9bnVsbCxGKTpFOihnLm1ldGhvZD0idGhyb3ciLGcuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksZy5kZWxlZ2F0ZT1udWxsLEYpfWZ1bmN0aW9uIHIoQSl7dmFyIEk9e3RyeUxvYzpBWzBdfTsxIGluIEEmJihJLmNhdGNoTG9jPUFbMV0pLDIgaW4gQSYmKEkuZmluYWxseUxvYz1BWzJdLEkuYWZ0ZXJMb2M9QVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goSSl9ZnVuY3Rpb24gSyhBKXt2YXIgST1BLmNvbXBsZXRpb258fHt9O0kudHlwZT0ibm9ybWFsIixkZWxldGUgSS5hcmcsQS5jb21wbGV0aW9uPUl9ZnVuY3Rpb24gTChBKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sQS5mb3JFYWNoKHIsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gSChJKXtpZihJfHwiIj09PUkpe3ZhciBnPUlbRV07aWYoZylyZXR1cm4gZy5jYWxsKEkpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBJLm5leHQpcmV0dXJuIEk7aWYoIWlzTmFOKEkubGVuZ3RoKSl7dmFyIFE9LTEsQz1mdW5jdGlvbiBnKCl7Zm9yKDsrK1E8SS5sZW5ndGg7KWlmKEIuY2FsbChJLFEpKXJldHVybiBnLnZhbHVlPUlbUV0sZy5kb25lPSExLGc7cmV0dXJuIGcudmFsdWU9QSxnLmRvbmU9ITAsZ307cmV0dXJuIEMubmV4dD1DfX10aHJvdyBuZXcgVHlwZUVycm9yKHR5cGVvZiBJKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIHQucHJvdG90eXBlPU0sUShlLCJjb25zdHJ1Y3RvciIse3ZhbHVlOk0sY29uZmlndXJhYmxlOiEwfSksUShNLCJjb25zdHJ1Y3RvciIse3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSksdC5kaXNwbGF5TmFtZT1vKE0sRCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxJLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oQSl7dmFyIEk9ImZ1bmN0aW9uIj09dHlwZW9mIEEmJkEuY29uc3RydWN0b3I7cmV0dXJuISFJJiYoST09PXR8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0oSS5kaXNwbGF5TmFtZXx8SS5uYW1lKSl9LEkubWFyaz1mdW5jdGlvbihBKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihBLE0pOihBLl9fcHJvdG9fXz1NLG8oQSxELCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxBLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUpLEF9LEkuYXdyYXA9ZnVuY3Rpb24oQSl7cmV0dXJue19fYXdhaXQ6QX19LG4oUy5wcm90b3R5cGUpLG8oUy5wcm90b3R5cGUsaSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxJLkFzeW5jSXRlcmF0b3I9UyxJLmFzeW5jPWZ1bmN0aW9uKEEsZyxCLFEsQyl7dm9pZCAwPT09QyYmKEM9UHJvbWlzZSk7dmFyIEU9bmV3IFModyhBLGcsQixRKSxDKTtyZXR1cm4gSS5pc0dlbmVyYXRvckZ1bmN0aW9uKGcpP0U6RS5uZXh0KCkudGhlbigoZnVuY3Rpb24oQSl7cmV0dXJuIEEuZG9uZT9BLnZhbHVlOkUubmV4dCgpfSkpfSxuKGUpLG8oZSxELCJHZW5lcmF0b3IiKSxvKGUsRSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxvKGUsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxJLmtleXM9ZnVuY3Rpb24oQSl7dmFyIEk9T2JqZWN0KEEpLGc9W107Zm9yKHZhciBCIGluIEkpZy5wdXNoKEIpO3JldHVybiBnLnJldmVyc2UoKSxmdW5jdGlvbiBBKCl7Zm9yKDtnLmxlbmd0aDspe3ZhciBCPWcucG9wKCk7aWYoQiBpbiBJKXJldHVybiBBLnZhbHVlPUIsQS5kb25lPSExLEF9cmV0dXJuIEEuZG9uZT0hMCxBfX0sSS52YWx1ZXM9SCxMLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TCxyZXNldDpmdW5jdGlvbihJKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1BLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPUEsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goSyksIUkpZm9yKHZhciBnIGluIHRoaXMpInQiPT09Zy5jaGFyQXQoMCkmJkIuY2FsbCh0aGlzLGcpJiYhaXNOYU4oK2cuc2xpY2UoMSkpJiYodGhpc1tnXT1BKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgQT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09QS50eXBlKXRocm93IEEuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKEkpe2lmKHRoaXMuZG9uZSl0aHJvdyBJO3ZhciBnPXRoaXM7ZnVuY3Rpb24gUShCLFEpe3JldHVybiBpLnR5cGU9InRocm93IixpLmFyZz1JLGcubmV4dD1CLFEmJihnLm1ldGhvZD0ibmV4dCIsZy5hcmc9QSksISFRfWZvcih2YXIgQz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7Qz49MDstLUMpe3ZhciBFPXRoaXMudHJ5RW50cmllc1tDXSxpPUUuY29tcGxldGlvbjtpZigicm9vdCI9PT1FLnRyeUxvYylyZXR1cm4gUSgiZW5kIik7aWYoRS50cnlMb2M8PXRoaXMucHJldil7dmFyIEQ9Qi5jYWxsKEUsImNhdGNoTG9jIiksbz1CLmNhbGwoRSwiZmluYWxseUxvYyIpO2lmKEQmJm8pe2lmKHRoaXMucHJldjxFLmNhdGNoTG9jKXJldHVybiBRKEUuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxFLmZpbmFsbHlMb2MpcmV0dXJuIFEoRS5maW5hbGx5TG9jKX1lbHNlIGlmKEQpe2lmKHRoaXMucHJldjxFLmNhdGNoTG9jKXJldHVybiBRKEUuY2F0Y2hMb2MsITApfWVsc2V7aWYoIW8pdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PEUuZmluYWxseUxvYylyZXR1cm4gUShFLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oQSxJKXtmb3IodmFyIGc9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2c+PTA7LS1nKXt2YXIgUT10aGlzLnRyeUVudHJpZXNbZ107aWYoUS50cnlMb2M8PXRoaXMucHJldiYmQi5jYWxsKFEsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PFEuZmluYWxseUxvYyl7dmFyIEM9UTticmVha319QyYmKCJicmVhayI9PT1BfHwiY29udGludWUiPT09QSkmJkMudHJ5TG9jPD1JJiZJPD1DLmZpbmFsbHlMb2MmJihDPW51bGwpO3ZhciBFPUM/Qy5jb21wbGV0aW9uOnt9O3JldHVybiBFLnR5cGU9QSxFLmFyZz1JLEM/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9Qy5maW5hbGx5TG9jLEYpOnRoaXMuY29tcGxldGUoRSl9LGNvbXBsZXRlOmZ1bmN0aW9uKEEsSSl7aWYoInRocm93Ij09PUEudHlwZSl0aHJvdyBBLmFyZztyZXR1cm4iYnJlYWsiPT09QS50eXBlfHwiY29udGludWUiPT09QS50eXBlP3RoaXMubmV4dD1BLmFyZzoicmV0dXJuIj09PUEudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPUEuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1BLnR5cGUmJkkmJih0aGlzLm5leHQ9SSksRn0sZmluaXNoOmZ1bmN0aW9uKEEpe2Zvcih2YXIgST10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ST49MDstLUkpe3ZhciBnPXRoaXMudHJ5RW50cmllc1tJXTtpZihnLmZpbmFsbHlMb2M9PT1BKXJldHVybiB0aGlzLmNvbXBsZXRlKGcuY29tcGxldGlvbixnLmFmdGVyTG9jKSxLKGcpLEZ9fSxjYXRjaDpmdW5jdGlvbihBKXtmb3IodmFyIEk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO0k+PTA7LS1JKXt2YXIgZz10aGlzLnRyeUVudHJpZXNbSV07aWYoZy50cnlMb2M9PT1BKXt2YXIgQj1nLmNvbXBsZXRpb247aWYoInRocm93Ij09PUIudHlwZSl7dmFyIFE9Qi5hcmc7SyhnKX1yZXR1cm4gUX19dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKEksZyxCKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6SChJKSxyZXN1bHROYW1lOmcsbmV4dExvYzpCfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPUEpLEZ9fSxJfWZ1bmN0aW9uIGMoQSxJKXtyZXR1cm4oYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihBLEkpe3JldHVybiBBLl9fcHJvdG9fXz1JLEF9KShBLEkpfWZ1bmN0aW9uIHMoQSxJLGcsQil7dmFyIFE9byh3KDEmQj9BLnByb3RvdHlwZTpBKSxJLGcpO3JldHVybiAyJkI/ZnVuY3Rpb24oQSl7cmV0dXJuIFEuYXBwbHkoZyxBKX06UX1mdW5jdGlvbiBGKEkpe3JldHVybiBmdW5jdGlvbihJKXtpZihBcnJheS5pc0FycmF5KEkpKXJldHVybiBBKEkpfShJKXx8ZnVuY3Rpb24oQSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPUFbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9QVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKEEpfShJKXx8TShJKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KEEpe3ZhciBJPWZ1bmN0aW9uKEEsSSl7aWYoIm9iamVjdCIhPXR5cGVvZiBBfHwhQSlyZXR1cm4gQTt2YXIgZz1BW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09Zyl7dmFyIEI9Zy5jYWxsKEEsSXx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9dHlwZW9mIEIpcmV0dXJuIEI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1JP1N0cmluZzpOdW1iZXIpKEEpfShBLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIEk/STpJKyIifWZ1bmN0aW9uIHQoQSl7cmV0dXJuKHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oQSl7cmV0dXJuIHR5cGVvZiBBfTpmdW5jdGlvbihBKXtyZXR1cm4gQSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmQS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmQSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIEF9KShBKX1mdW5jdGlvbiBNKEksZyl7aWYoSSl7aWYoInN0cmluZyI9PXR5cGVvZiBJKXJldHVybiBBKEksZyk7dmFyIEI9e30udG9TdHJpbmcuY2FsbChJKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PUImJkkuY29uc3RydWN0b3ImJihCPUkuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1CfHwiU2V0Ij09PUI/QXJyYXkuZnJvbShJKToiQXJndW1lbnRzIj09PUJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KEIpP0EoSSxnKTp2b2lkIDB9fWZ1bmN0aW9uIGsoKXtyZXR1cm57bWF4OmFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxZTUsY29sb3I6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiJ3aGl0ZSJ9fXZhciBSPXtwYWNrZXQ6aygpLGZyYW1lOmsoKX0sWT0hMTtmdW5jdGlvbiBlKEEpe1k9QSxjb25zb2xlLmxvZygic2V0RW5hYmxlTG9nPSIuY29uY2F0KEEpKX1mdW5jdGlvbiBuKEEpe2lmKFkmJlJbQV0pe2Zvcih2YXIgST1hcmd1bWVudHMubGVuZ3RoLGc9bmV3IEFycmF5KEk+MT9JLTE6MCksQj0xO0I8STtCKyspZ1tCLTFdPWFyZ3VtZW50c1tCXTtLLmFwcGx5KHZvaWQgMCxbQV0uY29uY2F0KGcpKX19dmFyIFMsVSxKLHI9KFM9e30sVT0wLEo9MCxmdW5jdGlvbihBKXt2YXIgST1BLmpvaW4oIiAiKS5tYXRjaCgvc3RhcnQoWzEyXSkgbXM9KFswLTldKikvKTtpZihJKXt2YXIgZz1JWzFdLEI9SVsyXTtpZigiMSI9PT1nKVNbQl09RGF0ZS5ub3coKTtlbHNlIGlmKCIyIj09PWcpe3ZhciBRPURhdGUubm93KCktU1tCXTtVKz1RLEorKyxkZWxldGUgU1tCXSxjb25zb2xlLmxvZygi44CQIi5jb25jYXQoQiwi44CR6K6h5pe26ICX5pe2PSIpLmNvbmNhdChRLCJtcywg5bmz5Z2H6ICX5pe2IikuY29uY2F0KFUvSikpfXJldHVybiEwfXJldHVybiExfSk7ZnVuY3Rpb24gSygpe2Zvcih2YXIgQT1hcmd1bWVudHMubGVuZ3RoLEk9bmV3IEFycmF5KEEpLGc9MDtnPEE7ZysrKUlbZ109YXJndW1lbnRzW2ddO3ZhciBCPUlbMF07aWYoIXIoSSkpe3ZhciBRPW5ldyBEYXRlO2NvbnNvbGUubG9nKCIlY+OAkFdlYlRTICIuY29uY2F0KFEudG9Mb2NhbGVUaW1lU3RyaW5nKCksIjoiKS5jb25jYXQoUS5nZXRNaWxsaXNlY29uZHMoKSwi44CRIikuY29uY2F0KEkuam9pbigiICIpKSwiY29sb3I6Ii5jb25jYXQoUltCXS5jb2xvcikpfX12YXIgTDtmdW5jdGlvbiBIKCl7cmV0dXJuIGZ1bmN0aW9uKEEpe2Zvcih2YXIgST1hdG9iKEEpLGc9bmV3IEFycmF5QnVmZmVyKEkubGVuZ3RoKSxCPW5ldyBVaW50OEFycmF5KGcpLFE9MDtRPEkubGVuZ3RoO1ErKylCW1FdPUkuY2hhckNvZGVBdChRKTt2YXIgQz1uZXcgQmxvYihbZ10se3R5cGU6ImFwcGxpY2F0aW9uL3dhc20ifSk7cmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoQyl9KCJBR0Z6YlFFQUFBQUJyQUVaWUFKL2Z3Ri9ZQUYvQUdBRGYzOS9BWDlnQW45L0FHQUJmd0YvWUFOL2YzOEFZQUFCZjJBQUFHQUVmMzkvZndCZ0JYOS9mMzkvQUdBRWYzOS9md0YvWUFWL2YzOS9md0YvWUFKL2Z3RitZQVovZjM5L2YzOEJmMkFHZjM5L2YzOS9BR0FCZkFGL1lBTi9mbjhBWUFkL2YzOS9mMzkvQVg5Z0EzNS9md0YvWUFWL2YzeC9md0JnQkg5OGYzOEFZQVYvZjM1L2Z3QmdCSDkrZjM4QVlBVi9mMzEvZndCZ0JIOTlmMzhBQXNvSkl3TjNZbWNlWDE5M1ltZGZiRzluZEdsdFpWOHpZbU01Wm1JMk1XUm1PV00xTVdWbEFBY0RkMkpuSVY5ZmQySm5YMnh2WjNScGJXVmxibVJmTUdOaFpEWmxZbUV6TUdFeU1UVTJOd0FIQTNkaVp4cGZYM2RpYVc1a1oyVnVYMjlpYW1WamRGOWtjbTl3WDNKbFpnQUJBM2RpWnhWZlgzZGlhVzVrWjJWdVgyNTFiV0psY2w5dVpYY0FEd04zWW1jVlgxOTNZbWx1WkdkbGJsOXpkSEpwYm1kZmJtVjNBQUFEZDJKbkhWOWZkMkpuWDJOeWVYQjBiMTlrTURWaU5qaGhNelUzTW1KaU9HTmhBQVFEZDJKbkZGOWZkMkpwYm1SblpXNWZhWE5mYjJKcVpXTjBBQVFEZDJKbkhsOWZkMkpuWDNCeWIyTmxjM05mWWpBeVlqTTFOekF5T0RCa01ETTJOZ0FFQTNkaVp4OWZYM2RpWjE5MlpYSnphVzl1YzE5ak1XTmlOREl5TVROalpXUm1NR1kxQUFRRGQySm5HMTlmZDJKblgyNXZaR1ZmTkROaU1UQTRPV1kwTURkbE5HVmpNZ0FFQTNkaVp4UmZYM2RpYVc1a1oyVnVYMmx6WDNOMGNtbHVad0FFQTNkaVp4NWZYM2RpWjE5eVpYRjFhWEpsWHpsaE4yVXdaalkyTjJWaFpEUTVPVFVBQmdOM1ltY1dYMTkzWW1sdVpHZGxibDlwYzE5bWRXNWpkR2x2YmdBRUEzZGlaeDlmWDNkaVoxOXRjME55ZVhCMGIxOHhNR1pqT1RSaFptVmxPVEppWkRjMkFBUURkMkpuSlY5ZmQySm5YM0poYm1SdmJVWnBiR3hUZVc1algySTNNR05qWW1SbU5Ea3lObUU1T1dRQUF3TjNZbWNtWDE5M1ltZGZaMlYwVW1GdVpHOXRWbUZzZFdWelh6ZGxOREppTkdaaU9EYzNPV1JqTm1RQUF3TjNZbWNnWDE5M1ltZGZibVYzYm05aGNtZHpYMk0yTW1WaE9UUXhPV015TVdaaVlXTUFBQU4zWW1jYlgxOTNZbWRmWTJGc2JGODVNR015Tm1Jd09UZ3pOMkZpWVRGakFBQURkMkpuRzE5ZmQySnBibVJuWlc1ZmIySnFaV04wWDJOc2IyNWxYM0psWmdBRUEzZGlaeHRmWDNkaVoxOXpaV3htWDJZd1pUTTBaRGc1WmpNellqazVabVFBQmdOM1ltY2RYMTkzWW1kZmQybHVaRzkzWDJRellqQTROREl5TkdZME56YzBaRGNBQmdOM1ltY2hYMTkzWW1kZloyeHZZbUZzVkdocGMxODVZMkZoTWpkbVpqa3hOMk0yT0RZd0FBWURkMkpuSFY5ZmQySm5YMmRzYjJKaGJGOHpOV1JtWkdRMU9XRTBaR0V6WlRjMEFBWURkMkpuRjE5ZmQySnBibVJuWlc1ZmFYTmZkVzVrWldacGJtVmtBQVFEZDJKbkcxOWZkMkpuWDJOaGJHeGZOV1JoTVRrMk9XUTNZMlF6TVdOalpBQUNBM2RpWnh0ZlgzZGlaMTlqWVd4c1h6a3dOemxsWTJRM1pHRTRNVEUxTXprQUNnTjNZbWNkWDE5M1ltZGZZblZtWm1WeVgyRTBORGhtT0RNek1EYzFZamN4WW1FQUJBTjNZbWN4WDE5M1ltZGZibVYzZDJsMGFHSjVkR1Z2Wm1aelpYUmhibVJzWlc1bmRHaGZaREEwT0RKbU9Ea3pOakUzWVdZM01RQUNBM2RpWnhwZlgzZGlaMTl1WlhkZk9HWTJOMlV6TVRobU1UVmtOekkxTkFBRUEzZGlaeHBmWDNkaVoxOXpaWFJmTWpNMU4ySm1NRGt6TmpabFpUUTRNQUFGQTNkaVp5UmZYM2RpWjE5dVpYZDNhWFJvYkdWdVozUm9YelpqTW1SbU9XVXlaak13TWpoak5ETUFCQU4zWW1jZlgxOTNZbWRmYzNWaVlYSnlZWGxmTW1VNU5EQmxOREZqTUdZMVlURmtPUUFDQTNkaVp4ZGZYM2RpYVc1a1oyVnVYMlJsWW5WblgzTjBjbWx1WndBREEzZGlaeEJmWDNkaWFXNWtaMlZ1WDNSb2NtOTNBQU1EZDJKbkVWOWZkMkpwYm1SblpXNWZiV1Z0YjNKNUFBWUQyZ0hZQVFNSEJBQUFBd01GQWcwRkFRVUZBUU1DQXdVQ0F3Z0JEQXdNQXdVRENBVURCQVFRQndBRUJBTUJBd0FPQUJFRkF3c0FBUklBQXdNREFBTUZBd1VCQVFFQUFRRUJBd0FFQkFjQUFBa0JCQUVCQkFVQkJRRUlBd0VJRGdJQUFBQUFBQVVBQ1FRQUJBUUFBQWdCQXdFRkJRVUZBUU1CQmdFRkFBRUhCd2NCQndNR0J3TUNBd0FFQWdJSUFBVUxBQUFBQ2dBQUFBQUFCZ1FJQXdBQURRa1RGUXNYQVFFSUFBRUNBUUVEQUFvQUFnQUFDUUVBQmdBREF3QUJBd01BQXdBQUFBVUFBQUFCQndBQUFBQURBQUFBQXdBQUFnSUNBZ01HQlFRRkFYQUJiVzBGQXdFQUVRWUpBWDhCUVlDQXdBQUxCN3dCQ2dadFpXMXZjbmtDQUFoMFpYTjBYMlpsWXdBa0VtbHVhWFJmYzJoaGNtVmtYMkoxWm1abGNnQjNFM0psWjJsemRGOXFjMTl2Ym0xbGMzTmhaMlVBWEF4elpXNWtYM1J2WDNkaGMyMEFNaEZ2Ymw5eVpXTmxhWFpsWDNCaFkydGxkQUEwRTI5dVgyMWxaR2xoWDNOMFlYUnpYMk5oYkd3QVJoRmZYM2RpYVc1a1oyVnVYMjFoYkd4dll3Q3NBUkpmWDNkaWFXNWtaMlZ1WDNKbFlXeHNiMk1Bc2dFVVgxOTNZbWx1WkdkbGJsOWxlRzVmYzNSdmNtVUEyd0VKeGdFQkFFRUJDMnk5QWJFQmlnSG1BZVFCeHdGdDFRSFVBZVVCYkxjQjFnSElBY3NCZm1XVUFaUUJqUUZ3YzBOSmFXcUdBWWtCUkVobXJ3R3dBWXNCMVFHQkFjMEJod0d6QVpvQnNBSFJBV05vK0FIWkFkZ0IrZ0c4QWJNQjJnRzBBY0lCZkw4QndnRytBY2tCeGdHL0FiOEJ3d0hBQWNFQnNBSFZBZFVCM2dGTmxRSHBBWllCcFFGYjdBSEtBYWtCVitvQmZVL3JBZHdCM1FIZ0FhWUIzd0h0QWNRQmhBRmVlZmdCeWdHcUFmSUI3Z0h2QWZBQnp3SFNBZUVCNGdHMkFZSUJOcWNCOHdFS29ZTUcyQUgzSUFJMGZ4MStRZlRLZ2RrR0lRbEJzdHFJeXdjaERFSHV5SUdaQXlFU1FlWHd3WXNHSVFwQkJpRXFRZVh3d1lzR0lRdEI3c2lCbVFNaEUwR3kyb2pMQnlFV1FmVEtnZGtHSVJoQjVmREJpd1loRkVIdXlJR1pBeUVaUWJMYWlNc0hJUnBCOU1xQjJRWWhHMEhsOE1HTEJpRVZRZTdJZ1prRElSeEJzdHFJeXdjaEhVSDB5b0haQmlFZUlBQXBBeGdpTnlGRElBQXBBeEFpT0NGRUlEY2hPU0E0SVRvZ055RTdJRGdoUENBQUtRTUlJa0loUlNBQUtRTUFJajBoUmlCQ0lVY2dQU0ZBSUVJaFNDQTlJVUVnQUNrREtDSktJVXNnQUNrRElDSkpJVXdnU1VJQmZDSk5JVTRnU2lJMklUNGdTVUlDZkNKUElWQWdOaUUvSUVsQ0Ezd2lVU0ZTQTBBZ1FTQlNJQlVnUWFkcUloV3RJQndnUVVJZ2lLZHFJaHl0UWlDR2hJVWlRVUlnaUtkQkVIY2lJU0E4UWlDSXAyb2lJcTFDSUlZZ1FhZEJFSGNpSXlBOHAyb2lGNjJFaFNJOFFpQ0lwMEVNZHlJTklCeHFJaHl0UWlDR0lCVWdQS2RCREhjaUZXb2lFYTJFSUNPdElDR3RRaUNHaElVaVBFSWdpS2RCQ0hjaUlTQWlhaUlpclVJZ2hpQThwMEVJZHlJaklCZHFJaGV0aENBVnJTQU5yVUlnaG9TRklrR25RUWQzSWhVZ1B5QWRJRWluYWlJZHJTQWVJRWhDSUlpbmFpSWVyVUlnaG9TRklqeENJSWluUVJCM0lnMGdPMElnaUtkcUlnYXRRaUNHSUR5blFSQjNJZzRnTzZkcUlnS3RoQ0JJaFNJN1FpQ0lwMEVNZHlJSElCNXFJaDVxSWdTdFFpQ0dJQVlnSFNBN3AwRU1keUlkYWlJR3JTQWVyVUlnaG9RZ0RxMGdEYTFDSUlhRWhTSTdRaUNJcDBFSWR5SU5haUlPclVJZ2hpQTdwMEVJZHlJZUlBSnFJZ0t0aENBZHJTQUhyVUlnaG9TRklqdENJSWluUVFkM0loMGdCbW9pQnEyRUlDR3RJQjZ0UWlDR2hJVWlQRUlnaUtkQkVIY2lJU0FpYWlJaXJVSWdoaUFYSUR5blFSQjNJaGRxSWdldGhDQWRyU0FWclVJZ2hvU0ZJanhDSUlpblFReDNJaFVnQkdvaUhxMUNJSVlnQmlBOHAwRU1keUlHYWlJZHJZUWdGNjBnSWExQ0lJYUVoU0k4UWlDSXAwRUlkeUloSUNKcXJVSWdoaUE4cDBFSWR5SWlJQWRxcllRaVBDQUdyU0FWclVJZ2hvU0ZJaituUVFkM0lpeXRRaUNHSUVGQ0lJaW5RUWQzSWhVZ0VXb2lGNjBnSENBN3AwRUhkeUljYWlJUnJVSWdob1FnRGEwZ0k2MUNJSWFFaFNJN1FpQ0lwMEVRZHlJaklBNXFJZzJ0UWlDR0lEdW5RUkIzSWdZZ0Ftb2lEcTJFSUJXdElCeXRRaUNHaElVaU8wSWdpS2RCREhjaUFpQVJhaUljclVJZ2hpQTdwMEVNZHlJUklCZHFJaFd0aENBR3JTQWpyVUlnaG9TRklqdENJSWluUVFoM0lpTWdEV3F0UWlDR0lEdW5RUWgzSWhjZ0RtcXRoQ0k3SUJHdElBS3RRaUNHaElVaVFVSWdpS2RCQjNjaUxhMkVJVWdnUDBJZ2lLZEJCM2NpTHEwZ1FhZEJCM2NpTDYxQ0lJYUVJVUVnUFNCUUlCUWdQYWRxSWhTdElCa2dQVUlnaUtkcUlobXRRaUNHaElVaVBVSWdpS2RCRUhjaURTQTRRaUNJcDJvaUVhMUNJSVlnUGFkQkVIY2lCaUE0cDJvaURxMkVoU0k0UWlDSXAwRU1keUlDSUJscUlobXRRaUNHSUJRZ09LZEJESGNpRkdvaUI2MkVJQWF0SUEydFFpQ0doSVVpT0VJZ2lLZEJDSGNpRFNBUmFpSVJyVUlnaGlBNHAwRUlkeUlHSUE1cUlnNnRoQ0FVclNBQ3JVSWdob1NGSWoyblFRZDNJaFFnUGlBYUlFS25haUlhclNBYklFSkNJSWluYWlJYnJVSWdob1NGSWpoQ0lJaW5RUkIzSWdJZ04wSWdpS2RxSWdTdFFpQ0dJRGluUVJCM0lnOGdONmRxSWdPdGhDQkNoU0kzUWlDSXAwRU1keUlJSUJ0cUlodHFJZ1d0UWlDR0lBUWdHaUEzcDBFTWR5SWFhaUlFclNBYnJVSWdob1FnRDYwZ0FxMUNJSWFFaFNJM1FpQ0lwMEVJZHlJQ2FpSVByVUlnaGlBM3AwRUlkeUliSUFOcUlnT3RoQ0FhclNBSXJVSWdob1NGSWpkQ0lJaW5RUWQzSWhvZ0JHb2lCSzJFSUEydElCdXRRaUNHaElVaU9FSWdpS2RCRUhjaURTQVJhaUlSclVJZ2hpQU9JRGluUVJCM0lnNXFJZ2l0aENBYXJTQVVyVUlnaG9TRklqaENJSWluUVF4M0loUWdCV29pRzYxQ0lJWWdCQ0E0cDBFTWR5SUVhaUlhcllRZ0RxMGdEYTFDSUlhRWhTSTRRaUNJcDBFSWR5SU5JQkZxclVJZ2hpQTRwMEVJZHlJUklBaHFyWVFpT0NBRXJTQVVyVUlnaG9TRklqNm5RUWQzSWpDdFFpQ0dJRDFDSUlpblFRZDNJaFFnQjJvaURxMGdHU0EzcDBFSGR5SVphaUlIclVJZ2hvUWdBcTBnQnExQ0lJYUVoU0kzUWlDSXAwRVFkeUlHSUE5cUlnS3RRaUNHSURlblFSQjNJZ1FnQTJvaUQ2MkVJQlN0SUJtdFFpQ0doSVVpTjBJZ2lLZEJESGNpQXlBSGFpSVpyVUlnaGlBM3AwRU1keUlISUE1cUloU3RoQ0FFclNBR3JVSWdob1NGSWpkQ0lJaW5RUWgzSWdZZ0FtcXRRaUNHSURlblFRaDNJZzRnRDJxdGhDSTNJQWV0SUFPdFFpQ0doSVVpUFVJZ2lLZEJCM2NpTWEyRUlVSWdQa0lnaUtkQkIzY2lNcTBnUGFkQkIzY2lNNjFDSUlhRUlUMGdUaUFMSUVhbmFpSUxyU0FUSUVaQ0lJaW5haUlUclVJZ2hvU0ZJajVDSUlpblFSQjNJZ0lnUkVJZ2lLZHFJZ2V0UWlDR0lENm5RUkIzSWdRZ1JLZHFJZyt0aENCR2hTSStRaUNJcDBFTWR5SURJQk5xSWhPdFFpQ0dJQXNnUHFkQkRIY2lDMm9pQ0syRUlBU3RJQUt0UWlDR2hJVWlQa0lnaUtkQkNIY2lBaUFIYWlJSHJVSWdoaUErcDBFSWR5SUVJQTlxSWcrdGhDQUxyU0FEclVJZ2hvU0ZJajZuUVFkM0lnc2dOaUFXSUVXbmFpSVdyU0FZSUVWQ0lJaW5haUlZclVJZ2hvU0ZJalpDSUlpblFSQjNJZ01nUTBJZ2lLZHFJZ1d0UWlDR0lEYW5RUkIzSWhBZ1E2ZHFJaVN0aENCRmhTSTJRaUNJcDBFTWR5SW9JQmhxSWhocUlpdXRRaUNHSUFVZ0ZpQTJwMEVNZHlJV2FpSUZyU0FZclVJZ2hvUWdFSzBnQTYxQ0lJYUVoU0kyUWlDSXAwRUlkeUlEYWlJUXJVSWdoaUEycDBFSWR5SVlJQ1JxSWlTdGhDQVdyU0FvclVJZ2hvU0ZJalpDSUlpblFRZDNJaFlnQldvaUJhMkVJQUt0SUJpdFFpQ0doSVVpUDBJZ2lLZEJFSGNpQWlBSGFpSUhyVUlnaGlBUElEK25RUkIzSWc5cUlpaXRoQ0FXclNBTHJVSWdob1NGSWo5Q0lJaW5RUXgzSWdzZ0syb2lHSzFDSUlZZ0JTQS9wMEVNZHlJRmFpSVdyWVFnRDYwZ0FxMUNJSWFFaFNJL1FpQ0lwMEVJZHlJQ0lBZHFyVUlnaGlBL3AwRUlkeUlISUNocXJZUWlSQ0FGclNBTHJVSWdob1NGSWorblFRZDNJaWl0UWlDR0lENUNJSWluUVFkM0lnc2dDR29pRDYwZ0V5QTJwMEVIZHlJVGFpSUlyVUlnaG9RZ0E2MGdCSzFDSUlhRWhTSTJRaUNJcDBFUWR5SUVJQkJxSWdPdFFpQ0dJRGFuUVJCM0lnVWdKR29pRUsyRUlBdXRJQk90UWlDR2hJVWlOa0lnaUtkQkRIY2lKQ0FJYWlJVHJVSWdoaUEycDBFTWR5SUlJQTlxSWd1dGhDQUZyU0FFclVJZ2hvU0ZJalpDSUlpblFRaDNJZ1FnQTJxdFFpQ0dJRGFuUVFoM0lnOGdFR3F0aENKRElBaXRJQ1N0UWlDR2hJVWlOa0lnaUtkQkIzY2lKSzJFSVVVZ1AwSWdpS2RCQjNjaUs2MGdOcWRCQjNjaU5LMUNJSWFFSVVZZ1FDQUtJRUNuYWlJS3JTQVNJRUJDSUlpbmFpSVNyVUlnaG9RZ1RJVWlRRUlnaUtkQkVIY2lBeUE2UWlDSXAyb2lDSzFDSUlZZ1FLZEJFSGNpQlNBNnAyb2lFSzJFaFNJNlFpQ0lwMEVNZHlJZklCSnFJaEt0UWlDR0lBb2dPcWRCREhjaUNtb2lKYTJFSUFXdElBT3RRaUNHaElVaU9rSWdpS2RCQ0hjaUF5QUlhaUlJclVJZ2hpQTZwMEVJZHlJRklCQnFJaEN0aENBS3JTQWZyVUlnaG9TRklrQ25RUWQzSWdvZ0RDQkhwMm9pREswZ0NTQkhRaUNJcDJvaUNhMUNJSWFFSUV1RklqcENJSWluUVJCM0loOGdPVUlnaUtkcUlpQ3RRaUNHSURxblFSQjNJaVlnT2FkcUlpZXRoQ0JIaFNJNVFpQ0lwMEVNZHlJcElBbHFJZ2xxSWpXdFFpQ0dJQ0FnRENBNXAwRU1keUlNYWlJZ3JTQUpyVUlnaG9RZ0pxMGdINjFDSUlhRWhTSTVRaUNJcDBFSWR5SWZhaUltclVJZ2hpQTVwMEVJZHlJSklDZHFJaWV0aENBTXJTQXByVUlnaG9TRklqbENJSWluUVFkM0lnd2dJR29pSUsyRUlBT3RJQW10UWlDR2hJVWlPa0lnaUtkQkVIY2lBeUFJYWlJSXJVSWdoaUFRSURxblFSQjNJaEJxSWltdGhDQU1yU0FLclVJZ2hvU0ZJanBDSUlpblFReDNJZ29nTldvaUNhMUNJSVlnSUNBNnAwRU1keUlnYWlJTXJZUWdFSzBnQTYxQ0lJYUVoU0k2UWlDSXAwRUlkeUlESUFocXJVSWdoaUE2cDBFSWR5SUlJQ2xxcllRaU9pQWdyU0FLclVJZ2hvU0ZJamFuUVFkM0lpQ3RRaUNHSUVCQ0lJaW5RUWQzSWdvZ0pXb2lFSzBnRWlBNXAwRUhkeUlTYWlJbHJVSWdob1FnSDYwZ0JhMUNJSWFFaFNJNVFpQ0lwMEVRZHlJRklDWnFJaCt0UWlDR0lEbW5RUkIzSWlZZ0oyb2lKNjJFSUFxdElCS3RRaUNHaElVaU9VSWdpS2RCREhjaUtTQWxhaUlTclVJZ2hpQTVwMEVNZHlJbElCQnFJZ3F0aENBbXJTQUZyVUlnaG9TRklqbENJSWluUVFoM0lnVWdIMnF0UWlDR0lEbW5RUWgzSWhBZ0oycXRoQ0k1SUNXdElDbXRRaUNHaElVaVFFSWdpS2RCQjNjaUg2MkVJVWNnTmtJZ2lLZEJCM2NpSmEwZ1FLZEJCM2NpSnExQ0lJYUVJVUFnSWEwZ0Y2MUNJSWFFSVQ4Z0k2MGdJcTFDSUlhRUlWSWdEYTBnRHExQ0lJYUVJVDRnQnEwZ0VhMUNJSWFFSVZBZ0FxMGdENjFDSUlhRUlUWWdCSzBnQjYxQ0lJYUVJVTRnQTYwZ0VLMUNJSWFFSVVzZ0JhMGdDSzFDSUlhRUlVd2dLa0VCYXlJcURRQUxJQUFvQWlBaEtpQUFLQUlrSVNjZ0FDQkpRZ1I4TndNZ0lBRWdIa0gweW9IWkJtbzJBc3dCSUFFZ0hVR3kyb2pMQjJvMkFzZ0JJQUVnSEVIdXlJR1pBMm8yQXNRQklBRWdGVUhsOE1HTEJtbzJBc0FCSUFFZ0cwSDB5b0haQm1vMkFvd0JJQUVnR2tHeTJvakxCMm8yQW9nQklBRWdHVUh1eUlHWkEybzJBb1FCSUFFZ0ZFSGw4TUdMQm1vMkFvQUJJQUVnR0VIMHlvSFpCbW8yQWt3Z0FTQVdRYkxhaU1zSGFqWUNTQ0FCSUJOQjdzaUJtUU5xTmdKRUlBRWdDMEhsOE1HTEJtbzJBa0FnQVNBSlFmVEtnZGtHYWpZQ0RDQUJJQXhCc3RxSXl3ZHFOZ0lJSUFFZ0VrSHV5SUdaQTJvMkFnUWdBU0FLUWVYd3dZc0dhallDQUNBQklDRWdTcWNpRm1vMkF2Z0JJQUVnSXlCUnAybzJBdkFCSUFFZ0FDZ0NHQ0lKSUR1bmFqWUM2QUVnQVNBQUtBSVFJZ3dnUEtkcU5nTGdBU0FCSUFBb0Fnd2lFaUFzYWpZQzNBRWdBU0FBS0FJSUlnb2dMV28yQXRnQklBRWdBQ2dDQkNJTElDOXFOZ0xVQVNBQklBQW9BZ0FpRXlBdWFqWUMwQUVnQVNBTklCWnFOZ0s0QVNBQklBWWdUNmRxTmdLd0FTQUJJQWtnTjZkcU5nS29BU0FCSUF3Z09LZHFOZ0tnQVNBQklCSWdNR28yQXB3QklBRWdDaUF4YWpZQ21BRWdBU0FMSUROcU5nS1VBU0FCSUJNZ01tbzJBcEFCSUFFZ0FpQVdhallDZUNBQklBUWdUYWRxTmdKd0lBRWdDU0JEcDJvMkFtZ2dBU0FNSUVTbmFqWUNZQ0FCSUJJZ0tHbzJBbHdnQVNBS0lDUnFOZ0pZSUFFZ0N5QTBhallDVkNBQklCTWdLMm8yQWxBZ0FTQVFJQUFvQWl4cU5nSThJQUVnQXlBQUtBSW9hallDT0NBQklBZ2dKMm8yQWpRZ0FTQUZJQ3BxTmdJd0lBRWdDU0E1cDJvMkFpZ2dBU0FNSURxbmFqWUNJQ0FCSUJJZ0lHbzJBaHdnQVNBS0lCOXFOZ0lZSUFFZ0N5QW1hallDRkNBQklCTWdKV28yQWhBZ0FTQVhJRXBDSUlpbklneHFOZ0w4QVNBQklDSWdVVUlnaUtkcU5nTDBBU0FCSUFBb0FoUWlDU0E4UWlDSXAybzJBdVFCSUFFZ0RDQU9hallDdkFFZ0FTQVJJRTlDSUlpbmFqWUN0QUVnQVNBSklEaENJSWluYWpZQ3BBRWdBU0FNSUE5cU5nSjhJQUVnQnlCTlFpQ0lwMm8yQW5RZ0FTQUpJRVJDSUlpbmFqWUNaQ0FCSUFrZ09rSWdpS2RxTmdJa0lBRWdBQ2dDSENJQUlEdENJSWluYWpZQzdBRWdBU0FBSURkQ0lJaW5hallDckFFZ0FTQUFJRU5DSUlpbmFqWUNiQ0FCSUFBZ09VSWdpS2RxTmdJc0M2WXFBZzkvQW40akFFR2dBV3NpQUNRQUVBQWdBRUVBTmdJTUlBQkNnSUNBZ01BQU53SUVJQUJCRUdwQkFCQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBQVFSaHFJZ01wQWdBM0FnQWdBVUVRYWlBQVFTQnFJZ1FwQWdBM0FnQWdBVUVZYWlBQVFTaHFJZ1VvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkFSQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBREtRSUFOd0lBSUFGQkVHb2dCQ2tDQURjQ0FDQUJRUmhxSUFVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkVHcEJBaEJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFoQTNBZ0FnQVVFSWFpQUFRUmhxSWdNcEFnQTNBZ0FnQVVFUWFpQUFRU0JxSWdRcEFnQTNBZ0FnQVVFWWFpQUFRU2hxSWdVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkVHcEJBeEJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFoQTNBZ0FnQVVFSWFpQURLUUlBTndJQUlBRkJFR29nQkNrQ0FEY0NBQ0FCUVJocUlBVW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJFR3BCQkJCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBaEEzQWdBZ0FVRUlhaUFBUVJocUlnTXBBZ0EzQWdBZ0FVRVFhaUFBUVNCcUlnUXBBZ0EzQWdBZ0FVRVlhaUFBUVNocUlnVW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJFR3BCQlJCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBaEEzQWdBZ0FVRUlhaUFES1FJQU53SUFJQUZCRUdvZ0JDa0NBRGNDQUNBQlFSaHFJQVVvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkJoQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBQVFSaHFJZ01wQWdBM0FnQWdBVUVRYWlBQVFTQnFJZ1FwQWdBM0FnQWdBVUVZYWlBQVFTaHFJZ1VvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkJ4QkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBREtRSUFOd0lBSUFGQkVHb2dCQ2tDQURjQ0FDQUJRUmhxSUFVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkVHcEJDQkJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFoQTNBZ0FnQVVFSWFpQUFRUmhxSWdNcEFnQTNBZ0FnQVVFUWFpQUFRU0JxSWdRcEFnQTNBZ0FnQVVFWWFpQUFRU2hxSWdVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkVHcEJDUkJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFoQTNBZ0FnQVVFSWFpQURLUUlBTndJQUlBRkJFR29nQkNrQ0FEY0NBQ0FCUVJocUlBVW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJMR29oQVVFQUlRTkJ1WUhBQUNFQ1FibUJ3QUF0QUFCQkswY0VmMEVNQlVHNmdjQUFJUUpCQ3dzaEJBSkFBa0FDUUFKQUEwQWdCRVVOQVNBQ0xRQUFRVEJySWdWQkFrOE5BaUFEclVJQmhpSVBRaUNJcHcwRElBSkJBV29oQWlBRVFRRnJJUVFnQlNBUHB5SUdhaUlESUFaUERRQUxEQUlMSUFFZ0F6WUNCQ0FCUVFBNkFBQU1BZ3NnQVVFQk9nQUJJQUZCQVRvQUFBd0JDeUFCUVFJNkFBRWdBVUVCT2dBQUN3SkFBa0FDUUFKQUlBQXRBQ3hGQkVBZ0FDZ0NNQ0VDUWFBZklRUUNRRUdnSHhBbElnRkZEUUFnQVVFRWF5MEFBRUVEY1VVTkFDQUJRUUJCb0I4UTlRRWFDeUFCUlEwQklBQkJBRG9BVGlBQVFnQTNBa1FnQUVHZ0h6c0JUQ0FBUVF3N0FFOGdBRUlBTndJOElBQWdBallDT0NBQVFhQWZOZ0kwSUFBZ0FUWUNNQ0FBUWFBZk5nSXNJQUJCMUFCcUlRY2pBRUVRYXlJQ0pBQUNRQUpBQWtBQ1FBSi9RYm1Cd0FBc0FBQWlBVUVBVGdSQUlBRkIvd0Z4SVFOQnVvSEFBQXdCQzBHNmdjQUFMUUFBUVQ5eElRVWdBVUVmY1NFRElBRkJYMDBFUUNBRFFRWjBJQVZ5SVFOQnU0SEFBQXdCQzBHN2djQUFMUUFBUVQ5eElBVkJCblJ5SVFVZ0FVRndTUVJBSUFVZ0EwRU1kSEloQTBHOGdjQUFEQUVMSUFOQkVuUkJnSUR3QUhGQnZJSEFBQzBBQUVFL2NTQUZRUVowY25JaUEwR0FnTVFBUmcwQlFiMkJ3QUFMSVFGQkJDRUdRUVJCeUlIQUFDQUJheUlGUVFKMlFRRnFJQVZCRUVrYklnaEJBblFoQ1NBSVFmLy8vLzhCU3dSQVFRQWhCZ3dEQzBINTQ4QUFMUUFBR2lBSlFRUVExd0VpQlVVTkFpQUZJQU0yQWdBZ0FrRUJOZ0lNSUFJZ0JUWUNDQ0FDSUFnMkFnUUNRQ0FCUWNXQndBQkdEUUJCQkNFRFFRRWhCZ05BQW44Z0FTd0FBQ0lJUVFCT0JFQWdDRUgvQVhFaENDQUJRUUZxREFFTElBRXRBQUZCUDNFaENpQUlRUjl4SVFrZ0NFRmZUUVJBSUFsQkJuUWdDbkloQ0NBQlFRSnFEQUVMSUFFdEFBSkJQM0VnQ2tFR2RISWhDaUFJUVhCSkJFQWdDaUFKUVF4MGNpRUlJQUZCQTJvTUFRc2dDVUVTZEVHQWdQQUFjU0FCTFFBRFFUOXhJQXBCQm5SeWNpSUlRWUNBeEFCR0RRSWdBVUVFYWdzaEFTQUNLQUlFSUFaR0JFQWdBa0VFYWlFSkl3QkJJR3NpQlNRQUlBWkJ5SUhBQUNBQmEwRUNka0VCYWlBR2FpSUtTd1JBUVFCQkFCRE1BUUFMUVFRaEMwRUVJQWtvQWdBaURFRUJkQ0lOSUFvZ0NpQU5TUnNpQ2lBS1FRUk5HeUlOUVFKMElRNGdDa0dBZ0lDQUFrbEJBblFoQ2dKQUlBeEZCRUJCQUNFTERBRUxJQVVnREVFQ2REWUNIQ0FGSUFrb0FnUTJBaFFMSUFVZ0N6WUNHQ0FGUVFocUlBb2dEaUFGUVJScUVIc2dCU2dDQ0FSQUlBVW9BZ3dnQlNnQ0VCRE1BUUFMSUFVb0Fnd2hDaUFKSUEwMkFnQWdDU0FLTmdJRUlBVkJJR29rQUNBQ0tBSUlJUVVMSUFNZ0JXb2dDRFlDQUNBQ0lBWkJBV29pQmpZQ0RDQURRUVJxSVFNZ0FVSEZnY0FBUncwQUN3c2dCeUFDS1FJRU53SUFJQWRCQ0dvZ0FrRU1haWdDQURZQ0FBd0JDeUFIUVFBMkFnZ2dCMEtBZ0lDQXdBQTNBZ0FMSUFKQkVHb2tBQXdCQ3lBR0lBa1F6QUVBQ3lBQVFRQTJBbWdnQUVLQWdJQ0FFRGNDWUFOQUVMZ0JJZ0ZCQ0dvaEFpQUJLQUtJQWlJRFFjQUFUd1JBSUFGQmtBSnFJUU1DUUFKQUlBRXBBOGdDSWc5Q0FGY05BQ0FCS0FMUUFrRUFTQTBBSUFFZ0QwS0FBbjAzQThnQ0lBTWdBaEFqREFFTElBTWdBaEJuQzBFQUlRTUxJQUVnQTBFQmFqWUNpQUlnQVNBQktBSUFRUUZySWdVMkFnQWdBaUFEUVFKMGFpZ0NBQ0VDQWtBZ0JRMEFJQUZCQkdvaUF5QURLQUlBUVFGcklnTTJBZ0FnQXcwQUlBRkIyQUpCQ0JEakFRc2dBQ2dDYUNJQklBQW9BbUJHQkVBZ0FFSGdBR29RZFFzZ0FDZ0NaQ0FCYWlBQ09nQUFJQUFnQVVFQmFqWUNhQ0FFUVFGcklnUU5BQXNnQUVHSUFXb2dBRUhvQUdvb0FnQTJBZ0FnQUNBQUtRSmdOd09BQVNBQVFRQTJBcFFCSUFCQkFEb0FtQUVnQUVMSGxhYUZvSUdBQVRjQ2pBRWdBQ2dDWENJQ1JRMENJQUFvQWxnaUJTZ0NBRUV4UmdSQUlBQXZBVXBGQkVBZ0FFRUtPd0ZLQ3lBQUlBQXRBRkJCQVdvNkFGQWdBRUVzYWlBQVFZQUJhaEEzSUFBZ0FDMEFsUUVnQUMwQVRuTTZBRTRMSUFCQitBQnFJZ1FnQUVHWUFXb2lBeWdDQURZQ0FDQUFRZkFBYWlJR0lBQkJrQUZxSWdjcEF3QTNBd0FnQUVIb0FHb2lDQ0FBUVlnQmFpSUpLUU1BTndNQUlBQWdBQ2tEZ0FFM0EyQUNRQ0FBS0FJTUlnRWdBQ2dDQkVjRVFDQUpLUU1BSVE4Z0J5a0RBQ0VRSUFNb0FnQWhCQ0FBS0FJSUlBRkJIR3hxSWdNZ0FDa0RnQUUzQWdBZ0EwRVlhaUFFTmdJQUlBTkJFR29nRURjQ0FDQURRUWhxSUE4M0FnQU1BUXNnQUVFRWFoQnZJQUFvQWdnZ0FVRWNiR29pQXlBQUtRTmdOd0lBSUFOQkNHb2dDQ2tEQURjQ0FDQURRUkJxSUFZcEF3QTNBZ0FnQTBFWWFpQUVLQUlBTmdJQUN5QUFJQUZCQVdvMkFnd2dBRUdBQVdwQkN4QkNJQUpCQVVZTkFpQUZLQUlFUVRGR0JFQWdBQzhCU2tVRVFDQUFJQUF2QVpBQk93RktDeUFBSUFBdEFGQkJBV282QUZBZ0FFRXNhaUFBUVlBQmFoQTNJQUFnQUMwQWxRRWdBQzBBVG5NNkFFNExJQUJCK0FCcUlnUWdBRUdZQVdvaUF5Z0NBRFlDQUNBQVFmQUFhaUlHSUFCQmtBRnFJZ2NwQXdBM0F3QWdBRUhvQUdvaUNDQUFRWWdCYWlJSktRTUFOd01BSUFBZ0FDa0RnQUUzQTJBQ1FDQUFLQUlNSWdFZ0FDZ0NCRWNFUUNBSktRTUFJUThnQnlrREFDRVFJQU1vQWdBaEJDQUFLQUlJSUFGQkhHeHFJZ01nQUNrRGdBRTNBZ0FnQTBFWWFpQUVOZ0lBSUFOQkVHb2dFRGNDQUNBRFFRaHFJQTgzQWdBTUFRc2dBRUVFYWhCdklBQW9BZ2dnQVVFY2JHb2lBeUFBS1FOZ053SUFJQU5CQ0dvZ0NDa0RBRGNDQUNBRFFSQnFJQVlwQXdBM0FnQWdBMEVZYWlBRUtBSUFOZ0lBQ3lBQUlBRkJBV28yQWd3Z0FFR0FBV3BCREJCQ0lBSkJBa1lOQWlBRktBSUlRVEZHQkVBZ0FDOEJTa1VFUUNBQUlBQXZBWkFCT3dGS0N5QUFJQUF0QUZCQkFXbzZBRkFnQUVFc2FpQUFRWUFCYWhBM0lBQWdBQzBBbFFFZ0FDMEFUbk02QUU0TElBQkIrQUJxSWdRZ0FFR1lBV29pQXlnQ0FEWUNBQ0FBUWZBQWFpSUdJQUJCa0FGcUlnY3BBd0EzQXdBZ0FFSG9BR29pQ0NBQVFZZ0JhaUlKS1FNQU53TUFJQUFnQUNrRGdBRTNBMkFDUUNBQUtBSU1JZ0VnQUNnQ0JFY0VRQ0FKS1FNQUlROGdCeWtEQUNFUUlBTW9BZ0FoQkNBQUtBSUlJQUZCSEd4cUlnTWdBQ2tEZ0FFM0FnQWdBMEVZYWlBRU5nSUFJQU5CRUdvZ0VEY0NBQ0FEUVFocUlBODNBZ0FNQVFzZ0FFRUVhaEJ2SUFBb0FnZ2dBVUVjYkdvaUF5QUFLUU5nTndJQUlBTkJDR29nQ0NrREFEY0NBQ0FEUVJCcUlBWXBBd0EzQWdBZ0EwRVlhaUFFS0FJQU5nSUFDeUFBSUFGQkFXbzJBZ3dnQUVHQUFXcEJEUkJDSUFKQkEwWU5BaUFGS0FJTVFURkdCRUFnQUM4QlNrVUVRQ0FBSUFBdkFaQUJPd0ZLQ3lBQUlBQXRBRkJCQVdvNkFGQWdBRUVzYWlBQVFZQUJhaEEzSUFBZ0FDMEFsUUVnQUMwQVRuTTZBRTRMSUFBb0FvQUJJZ0VFUUNBQUtBS0VBU0FCUVFFUTR3RUxJQUpCQkdzaEFVRU9JUU5CRUNFRUEwQWdBRUdBQVdvZ0F4QkNJQUZGRFFNZ0JDQUZhaWdDQUVFeFJnUkFJQUF2QVVwRkJFQWdBQ0FBTHdHUUFUc0JTZ3NnQUNBQUxRQlFRUUZxT2dCUUlBQkJMR29nQUVHQUFXb1FOeUFBSUFBdEFKVUJJQUF0QUU1ek9nQk9DeUFBUWZnQWFpSUlJQUJCbUFGcUlnY29BZ0EyQWdBZ0FFSHdBR29pQ1NBQVFaQUJhaUlLS1FNQU53TUFJQUJCNkFCcUlnc2dBRUdJQVdvaURDa0RBRGNEQUNBQUlBQXBBNEFCTndOZ0FrQWdBQ2dDRENJR0lBQW9BZ1JIQkVBZ0RDa0RBQ0VQSUFvcEF3QWhFQ0FIS0FJQUlRZ2dBQ2dDQ0NBR1FSeHNhaUlISUFBcEE0QUJOd0lBSUFkQkdHb2dDRFlDQUNBSFFSQnFJQkEzQWdBZ0IwRUlhaUFQTndJQURBRUxJQUJCQkdvUWJ5QUFLQUlJSUFaQkhHeHFJZ2NnQUNrRFlEY0NBQ0FIUVFocUlBc3BBd0EzQWdBZ0IwRVFhaUFKS1FNQU53SUFJQWRCR0dvZ0NDZ0NBRFlDQUFzZ0FDQUdRUUZxTmdJTUlBTkJBV29oQXlBQlFRRnJJUUVnQkVFRWFpSUVRVEJIRFFBTElBQkJnQUZxUVJZUVFpQUFLQUlNSWdJZ0FDZ0NCRVlOQXd3RUN5QUFJQUF0QUMwNkFJQUJRZnlCd0FCQkt5QUFRWUFCYWtIc2djQUFRYWlDd0FBUWhRRUFDMEVCUWFBZkVNd0JBQXNnQWlBQ1FkeUJ3QUFRa1FFQUN5QUFRUVJxRUc4TElBQW9BZ2dnQWtFY2JHb2lBU0FBS1FLQUFUY0NBQ0FCUVFocUlBQkJpQUZxSWdNcEFnQTNBZ0FnQVVFUWFpQUFRWkFCYWlJRUtRSUFOd0lBSUFGQkdHb2dBRUdZQVdvaUJpZ0NBRFlDQUNBQUlBSkJBV28yQWd3Z0FFR0FBV3BCRnhCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBb0FCTndJQUlBRkJDR29nQXlrQ0FEY0NBQ0FCUVJCcUlBUXBBZ0EzQWdBZ0FVRVlhaUFHS0FJQU5nSUFJQUFnQWtFQmFqWUNEQ0FBUVlBQmFrRVlFRUlnQUNnQ0RDSUNJQUFvQWdSR0JFQWdBRUVFYWhCdkN5QUFLQUlJSUFKQkhHeHFJZ0VnQUNrQ2dBRTNBZ0FnQVVFSWFpQUFRWWdCYWlJREtRSUFOd0lBSUFGQkVHb2dBRUdRQVdvaUJDa0NBRGNDQUNBQlFSaHFJQUJCbUFGcUlnWW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJnQUZxUVJrUVFpQUFLQUlNSWdJZ0FDZ0NCRVlFUUNBQVFRUnFFRzhMSUFBb0FnZ2dBa0VjYkdvaUFTQUFLUUtBQVRjQ0FDQUJRUWhxSUFNcEFnQTNBZ0FnQVVFUWFpQUVLUUlBTndJQUlBRkJHR29nQmlnQ0FEWUNBQ0FBSUFKQkFXbzJBZ3dnQUVHQUFXcEJHaEJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFvQUJOd0lBSUFGQkNHb2dBRUdJQVdvaUF5a0NBRGNDQUNBQlFSQnFJQUJCa0FGcUlnUXBBZ0EzQWdBZ0FVRVlhaUFBUVpnQmFpSUdLQUlBTmdJQUlBQWdBa0VCYWpZQ0RDQUFRWUFCYWtFYkVFSWdBQ2dDRENJQ0lBQW9BZ1JHQkVBZ0FFRUVhaEJ2Q3lBQUtBSUlJQUpCSEd4cUlnRWdBQ2tDZ0FFM0FnQWdBVUVJYWlBREtRSUFOd0lBSUFGQkVHb2dCQ2tDQURjQ0FDQUJRUmhxSUFZb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQmdBRnFRUndRUWlBQUtBSU1JZ0lnQUNnQ0JFWUVRQ0FBUVFScUVHOExJQUFvQWdnZ0FrRWNiR29pQVNBQUtRS0FBVGNDQUNBQlFRaHFJQUJCaUFGcUlnTXBBZ0EzQWdBZ0FVRVFhaUFBUVpBQmFpSUVLUUlBTndJQUlBRkJHR29nQUVHWUFXb2lCaWdDQURZQ0FDQUFJQUpCQVdvMkFnd2dBRUdBQVdwQkhSQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQW9BQk53SUFJQUZCQ0dvZ0F5a0NBRGNDQUNBQlFSQnFJQVFwQWdBM0FnQWdBVUVZYWlBR0tBSUFOZ0lBSUFBZ0FrRUJhallDRENBQVFZQUJha0VlRUVJZ0FDZ0NEQ0lDSUFBb0FnUkdCRUFnQUVFRWFoQnZDeUFBS0FJSUlBSkJIR3hxSWdFZ0FDa0NnQUUzQWdBZ0FVRUlhaUFBUVlnQmFpSUdLUUlBTndJQUlBRkJFR29nQUVHUUFXb2lCeWtDQURjQ0FDQUJRUmhxSUFCQm1BRnFJZ2dvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCZ0FGcVFSOFFRaUFBS0FJTUlnTWdBQ2dDQkNJRVJnUkFJQUJCQkdvUWJ5QUFLQUlFSVFRTElBQW9BZ2dpQWlBRFFSeHNhaUlCSUFBcEFvQUJOd0lBSUFGQkdHb2dDQ2dDQURZQ0FDQUJRUkJxSUFjcEFnQTNBZ0FnQVVFSWFpQUdLUUlBTndJQUlBQWdBMEVCYWlJRE5nSU1JQUFvQWpBaEJpQUFLQUlzSVFFZ0FDZ0NWQ0lIQkVBZ0JTQUhRUUowUVFRUTR3RUxFQUVnQVFSQUlBWWdBVUVCRU9NQkN5QURCRUFnQWlFQkEwQWdBU2dDQUNJRkJFQWdBVUVFYWlnQ0FDQUZRUUVRNHdFTElBRkJIR29oQVNBRFFRRnJJZ01OQUFzTElBUUVRQ0FDSUFSQkhHeEJCQkRqQVFzZ0FFR2dBV29rQUF1bkpBSUpmd0YrSXdCQkVHc2lDQ1FBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBRUgxQVU4RVFDQUFRYzMvZTA4TkJ5QUFRUXRxSWdCQmVIRWhCVUdjNk1BQUtBSUFJZ2xGRFFSQkFDQUZheUVEQW45QkFDQUZRWUFDU1EwQUdrRWZJQVZCLy8vL0Iwc05BQm9nQlVFR0lBQkJDSFpuSWdCcmRrRUJjU0FBUVFGMGEwRSthZ3NpQjBFQ2RFR0E1Y0FBYWlnQ0FDSUJSUVJBUVFBaEFBd0NDMEVBSVFBZ0JVRVpJQWRCQVhaclFRQWdCMEVmUnh0MElRUURRQUpBSUFFb0FnUkJlSEVpQmlBRlNRMEFJQVlnQldzaUJpQURUdzBBSUFFaEFpQUdJZ01OQUVFQUlRTWdBU0VBREFRTElBRW9BaFFpQmlBQUlBWWdBU0FFUVIxMlFRUnhha0VRYWlnQ0FDSUJSeHNnQUNBR0d5RUFJQVJCQVhRaEJDQUJEUUFMREFFTFFaam93QUFvQWdBaUFrRVFJQUJCQzJwQitBTnhJQUJCQzBrYklnVkJBM1lpQUhZaUFVRURjUVJBQWtBZ0FVRi9jMEVCY1NBQWFpSUJRUU4wSWdCQmtPYkFBR29pQkNBQVFaam13QUJxS0FJQUlnQW9BZ2dpQTBjRVFDQURJQVEyQWd3Z0JDQUROZ0lJREFFTFFaam93QUFnQWtGK0lBRjNjVFlDQUFzZ0FFRUlhaUVESUFBZ0FVRURkQ0lCUVFOeU5nSUVJQUFnQVdvaUFDQUFLQUlFUVFGeU5nSUVEQWNMSUFWQm9PakFBQ2dDQUUwTkF3SkFBa0FnQVVVRVFFR2M2TUFBS0FJQUlnQkZEUVlnQUdoQkFuUkJnT1hBQUdvb0FnQWlBaWdDQkVGNGNTQUZheUVESUFJaEFRTkFBa0FnQWlnQ0VDSUFEUUFnQWlnQ0ZDSUFEUUFnQVNnQ0dDRUhBa0FDUUNBQklBRW9BZ3dpQUVZRVFDQUJRUlJCRUNBQktBSVVJZ0FiYWlnQ0FDSUNEUUZCQUNFQURBSUxJQUVvQWdnaUFpQUFOZ0lNSUFBZ0FqWUNDQXdCQ3lBQlFSUnFJQUZCRUdvZ0FCc2hCQU5BSUFRaEJpQUNJZ0JCRkdvZ0FFRVFhaUFBS0FJVUlnSWJJUVFnQUVFVVFSQWdBaHRxS0FJQUlnSU5BQXNnQmtFQU5nSUFDeUFIUlEwRUlBRWdBU2dDSEVFQ2RFR0E1Y0FBYWlJQ0tBSUFSd1JBSUFkQkVFRVVJQWNvQWhBZ0FVWWJhaUFBTmdJQUlBQkZEUVVNQkFzZ0FpQUFOZ0lBSUFBTkEwR2M2TUFBUVp6b3dBQW9BZ0JCZmlBQktBSWNkM0UyQWdBTUJBc2dBQ2dDQkVGNGNTQUZheUlDSUFNZ0FpQURTU0lDR3lFRElBQWdBU0FDR3lFQklBQWhBZ3dBQ3dBTEFrQkJBaUFBZENJRVFRQWdCR3R5SUFFZ0FIUnhhQ0lCUVFOMElnQkJrT2JBQUdvaUJDQUFRWmptd0FCcUtBSUFJZ0FvQWdnaUEwY0VRQ0FESUFRMkFnd2dCQ0FETmdJSURBRUxRWmpvd0FBZ0FrRitJQUYzY1RZQ0FBc2dBQ0FGUVFOeU5nSUVJQUFnQldvaUJpQUJRUU4wSWdFZ0JXc2lCRUVCY2pZQ0JDQUFJQUZxSUFRMkFnQkJvT2pBQUNnQ0FDSURCRUFnQTBGNGNVR1E1c0FBYWlFQlFham93QUFvQWdBaEFnSi9RWmpvd0FBb0FnQWlCVUVCSUFOQkEzWjBJZ054UlFSQVFaam93QUFnQXlBRmNqWUNBQ0FCREFFTElBRW9BZ2dMSVFNZ0FTQUNOZ0lJSUFNZ0FqWUNEQ0FDSUFFMkFnd2dBaUFETmdJSUN5QUFRUWhxSVFOQnFPakFBQ0FHTmdJQVFhRG93QUFnQkRZQ0FBd0lDeUFBSUFjMkFoZ2dBU2dDRUNJQ0JFQWdBQ0FDTmdJUUlBSWdBRFlDR0FzZ0FTZ0NGQ0lDUlEwQUlBQWdBallDRkNBQ0lBQTJBaGdMQWtBQ1FDQURRUkJQQkVBZ0FTQUZRUU55TmdJRUlBRWdCV29pQkNBRFFRRnlOZ0lFSUFNZ0JHb2dBellDQUVHZzZNQUFLQUlBSWdaRkRRRWdCa0Y0Y1VHUTVzQUFhaUVBUWFqb3dBQW9BZ0FoQWdKL1Faam93QUFvQWdBaUJVRUJJQVpCQTNaMElnWnhSUVJBUVpqb3dBQWdCU0FHY2pZQ0FDQUFEQUVMSUFBb0FnZ0xJUVlnQUNBQ05nSUlJQVlnQWpZQ0RDQUNJQUEyQWd3Z0FpQUdOZ0lJREFFTElBRWdBeUFGYWlJQVFRTnlOZ0lFSUFBZ0FXb2lBQ0FBS0FJRVFRRnlOZ0lFREFFTFFham93QUFnQkRZQ0FFR2c2TUFBSUFNMkFnQUxJQUZCQ0dvaEF3d0dDeUFBSUFKeVJRUkFRUUFoQWtFQ0lBZDBJZ0JCQUNBQWEzSWdDWEVpQUVVTkF5QUFhRUVDZEVHQTVjQUFhaWdDQUNFQUN5QUFSUTBCQ3dOQUlBQWdBaUFBS0FJRVFYaHhJZ1FnQldzaUJpQURTU0lIR3lFSklBQW9BaEFpQVVVRVFDQUFLQUlVSVFFTElBSWdDU0FFSUFWSklnQWJJUUlnQXlBR0lBTWdCeHNnQUJzaEF5QUJJZ0FOQUFzTElBSkZEUUFnQlVHZzZNQUFLQUlBSWdCTklBTWdBQ0FGYTA5eERRQWdBaWdDR0NFSEFrQUNRQ0FDSUFJb0Fnd2lBRVlFUUNBQ1FSUkJFQ0FDS0FJVUlnQWJhaWdDQUNJQkRRRkJBQ0VBREFJTElBSW9BZ2dpQVNBQU5nSU1JQUFnQVRZQ0NBd0JDeUFDUVJScUlBSkJFR29nQUJzaEJBTkFJQVFoQmlBQklnQkJGR29nQUVFUWFpQUFLQUlVSWdFYklRUWdBRUVVUVJBZ0FSdHFLQUlBSWdFTkFBc2dCa0VBTmdJQUN5QUhSUTBDSUFJZ0FpZ0NIRUVDZEVHQTVjQUFhaUlCS0FJQVJ3UkFJQWRCRUVFVUlBY29BaEFnQWtZYmFpQUFOZ0lBSUFCRkRRTU1BZ3NnQVNBQU5nSUFJQUFOQVVHYzZNQUFRWnpvd0FBb0FnQkJmaUFDS0FJY2QzRTJBZ0FNQWdzQ1FBSkFBa0FDUUFKQUlBVkJvT2pBQUNnQ0FDSUJTd1JBSUFWQnBPakFBQ2dDQUNJQVR3UkFJQVZCcjRBRWFrR0FnSHh4SWdKQkVIWkFBQ0VBSUFoQkJHb2lBVUVBTmdJSUlBRkJBQ0FDUVlDQWZIRWdBRUYvUmlJQ0d6WUNCQ0FCUVFBZ0FFRVFkQ0FDR3pZQ0FDQUlLQUlFSWdGRkJFQkJBQ0VEREFvTElBZ29BZ3doQmtHdzZNQUFJQWdvQWdnaUEwR3c2TUFBS0FJQWFpSUFOZ0lBUWJUb3dBQkJ0T2pBQUNnQ0FDSUNJQUFnQUNBQ1NSczJBZ0FDUUFKQVFhem93QUFvQWdBaUFnUkFRWURtd0FBaEFBTkFJQUVnQUNnQ0FDSUVJQUFvQWdRaUIycEdEUUlnQUNnQ0NDSUFEUUFMREFJTFFiem93QUFvQWdBaUFFRUFJQUFnQVUwYlJRUkFRYnpvd0FBZ0FUWUNBQXRCd09qQUFFSC9IellDQUVHTTVzQUFJQVkyQWdCQmhPYkFBQ0FETmdJQVFZRG13QUFnQVRZQ0FFR2M1c0FBUVpEbXdBQTJBZ0JCcE9iQUFFR1k1c0FBTmdJQVFaam13QUJCa09iQUFEWUNBRUdzNXNBQVFhRG13QUEyQWdCQm9PYkFBRUdZNXNBQU5nSUFRYlRtd0FCQnFPYkFBRFlDQUVHbzVzQUFRYURtd0FBMkFnQkJ2T2JBQUVHdzVzQUFOZ0lBUWJEbXdBQkJxT2JBQURZQ0FFSEU1c0FBUWJqbXdBQTJBZ0JCdU9iQUFFR3c1c0FBTmdJQVFjem13QUJCd09iQUFEWUNBRUhBNXNBQVFiam13QUEyQWdCQjFPYkFBRUhJNXNBQU5nSUFRY2ptd0FCQndPYkFBRFlDQUVIYzVzQUFRZERtd0FBMkFnQkIwT2JBQUVISTVzQUFOZ0lBUWRqbXdBQkIwT2JBQURZQ0FFSGs1c0FBUWRqbXdBQTJBZ0JCNE9iQUFFSFk1c0FBTmdJQVFlem13QUJCNE9iQUFEWUNBRUhvNXNBQVFlRG13QUEyQWdCQjlPYkFBRUhvNXNBQU5nSUFRZkRtd0FCQjZPYkFBRFlDQUVIODVzQUFRZkRtd0FBMkFnQkIrT2JBQUVIdzVzQUFOZ0lBUVlUbndBQkIrT2JBQURZQ0FFR0E1OEFBUWZqbXdBQTJBZ0JCak9mQUFFR0E1OEFBTmdJQVFZam53QUJCZ09mQUFEWUNBRUdVNThBQVFZam53QUEyQWdCQmtPZkFBRUdJNThBQU5nSUFRWnpud0FCQmtPZkFBRFlDQUVHazU4QUFRWmpud0FBMkFnQkJtT2ZBQUVHUTU4QUFOZ0lBUWF6bndBQkJvT2ZBQURZQ0FFR2c1OEFBUVpqbndBQTJBZ0JCdE9mQUFFR281OEFBTmdJQVFham53QUJCb09mQUFEWUNBRUc4NThBQVFiRG53QUEyQWdCQnNPZkFBRUdvNThBQU5nSUFRY1Rud0FCQnVPZkFBRFlDQUVHNDU4QUFRYkRud0FBMkFnQkJ6T2ZBQUVIQTU4QUFOZ0lBUWNEbndBQkJ1T2ZBQURZQ0FFSFU1OEFBUWNqbndBQTJBZ0JCeU9mQUFFSEE1OEFBTmdJQVFkem53QUJCME9mQUFEWUNBRUhRNThBQVFjam53QUEyQWdCQjVPZkFBRUhZNThBQU5nSUFRZGpud0FCQjBPZkFBRFlDQUVIczU4QUFRZURud0FBMkFnQkI0T2ZBQUVIWTU4QUFOZ0lBUWZUbndBQkI2T2ZBQURZQ0FFSG81OEFBUWVEbndBQTJBZ0JCL09mQUFFSHc1OEFBTmdJQVFmRG53QUJCNk9mQUFEWUNBRUdFNk1BQVFmam53QUEyQWdCQitPZkFBRUh3NThBQU5nSUFRWXpvd0FCQmdPakFBRFlDQUVHQTZNQUFRZmpud0FBMkFnQkJsT2pBQUVHSTZNQUFOZ0lBUVlqb3dBQkJnT2pBQURZQ0FFR3M2TUFBSUFGQkQycEJlSEVpQUVFSWF5SUNOZ0lBUVpEb3dBQkJpT2pBQURZQ0FFR2s2TUFBSUFOQktHc2lCQ0FCSUFCcmFrRUlhaUlBTmdJQUlBSWdBRUVCY2pZQ0JDQUJJQVJxUVNnMkFnUkJ1T2pBQUVHQWdJQUJOZ0lBREFnTElBSWdCRWtnQVNBQ1RYSU5BQ0FBS0FJTUlnUkJBWEVOQUNBRVFRRjJJQVpHRFFNTFFiem93QUJCdk9qQUFDZ0NBQ0lBSUFFZ0FDQUJTUnMyQWdBZ0FTQURhaUVFUVlEbXdBQWhBQUpBQWtBRFFDQUVJQUFvQWdCSEJFQWdBQ2dDQ0NJQURRRU1BZ3NMSUFBb0Fnd2lCMEVCY1EwQUlBZEJBWFlnQmtZTkFRdEJnT2JBQUNFQUEwQUNRQ0FDSUFBb0FnQWlCRThFUUNBQ0lBUWdBQ2dDQkdvaUIwa05BUXNnQUNnQ0NDRUFEQUVMQzBHczZNQUFJQUZCRDJwQmVIRWlBRUVJYXlJRU5nSUFRYVRvd0FBZ0EwRW9heUlKSUFFZ0FHdHFRUWhxSWdBMkFnQWdCQ0FBUVFGeU5nSUVJQUVnQ1dwQktEWUNCRUc0Nk1BQVFZQ0FnQUUyQWdBZ0FpQUhRU0JyUVhoeFFRaHJJZ0FnQUNBQ1FSQnFTUnNpQkVFYk5nSUVRWURtd0FBcEFnQWhDaUFFUVJCcVFZam13QUFwQWdBM0FnQWdCQ0FLTndJSVFZem13QUFnQmpZQ0FFR0U1c0FBSUFNMkFnQkJnT2JBQUNBQk5nSUFRWWptd0FBZ0JFRUlhallDQUNBRVFSeHFJUUFEUUNBQVFRYzJBZ0FnQUVFRWFpSUFJQWRKRFFBTElBSWdCRVlOQnlBRUlBUW9BZ1JCZm5FMkFnUWdBaUFFSUFKcklnQkJBWEkyQWdRZ0JDQUFOZ0lBSUFCQmdBSlBCRUFnQWlBQUVGZ01DQXNnQUVGNGNVR1E1c0FBYWlFQkFuOUJtT2pBQUNnQ0FDSUVRUUVnQUVFRGRuUWlBSEZGQkVCQm1PakFBQ0FBSUFSeU5nSUFJQUVNQVFzZ0FTZ0NDQXNoQUNBQklBSTJBZ2dnQUNBQ05nSU1JQUlnQVRZQ0RDQUNJQUEyQWdnTUJ3c2dBQ0FCTmdJQUlBQWdBQ2dDQkNBRGFqWUNCQ0FCUVE5cVFYaHhRUWhySWdZZ0JVRURjallDQkNBRVFROXFRWGh4UVFocklnTWdCU0FHYWlJQWF5RUZJQU5Cck9qQUFDZ0NBRVlOQXlBRFFham93QUFvQWdCR0RRUWdBeWdDQkNJQ1FRTnhRUUZHQkVBZ0F5QUNRWGh4SWdFUVVpQUJJQVZxSVFVZ0FTQURhaUlES0FJRUlRSUxJQU1nQWtGK2NUWUNCQ0FBSUFWQkFYSTJBZ1FnQUNBRmFpQUZOZ0lBSUFWQmdBSlBCRUFnQUNBRkVGZ01CZ3NnQlVGNGNVR1E1c0FBYWlFQkFuOUJtT2pBQUNnQ0FDSUNRUUVnQlVFRGRuUWlCSEZGQkVCQm1PakFBQ0FDSUFSeU5nSUFJQUVNQVFzZ0FTZ0NDQXNoQWlBQklBQTJBZ2dnQWlBQU5nSU1JQUFnQVRZQ0RDQUFJQUkyQWdnTUJRdEJwT2pBQUNBQUlBVnJJZ0UyQWdCQnJPakFBRUdzNk1BQUtBSUFJZ0FnQldvaUFqWUNBQ0FDSUFGQkFYSTJBZ1FnQUNBRlFRTnlOZ0lFSUFCQkNHb2hBd3dJQzBHbzZNQUFLQUlBSVFBQ1FDQUJJQVZySWdKQkQwMEVRRUdvNk1BQVFRQTJBZ0JCb09qQUFFRUFOZ0lBSUFBZ0FVRURjallDQkNBQUlBRnFJZ0VnQVNnQ0JFRUJjallDQkF3QkMwR2c2TUFBSUFJMkFnQkJxT2pBQUNBQUlBVnFJZ1EyQWdBZ0JDQUNRUUZ5TmdJRUlBQWdBV29nQWpZQ0FDQUFJQVZCQTNJMkFnUUxJQUJCQ0dvaEF3d0hDeUFBSUFNZ0IybzJBZ1JCck9qQUFFR3M2TUFBS0FJQUlnQkJEMnBCZUhFaUFVRUlheUlDTmdJQVFhVG93QUJCcE9qQUFDZ0NBQ0FEYWlJRUlBQWdBV3RxUVFocUlnRTJBZ0FnQWlBQlFRRnlOZ0lFSUFBZ0JHcEJLRFlDQkVHNDZNQUFRWUNBZ0FFMkFnQU1Bd3RCck9qQUFDQUFOZ0lBUWFUb3dBQkJwT2pBQUNnQ0FDQUZhaUlCTmdJQUlBQWdBVUVCY2pZQ0JBd0JDMEdvNk1BQUlBQTJBZ0JCb09qQUFFR2c2TUFBS0FJQUlBVnFJZ0UyQWdBZ0FDQUJRUUZ5TmdJRUlBQWdBV29nQVRZQ0FBc2dCa0VJYWlFRERBTUxRUUFoQTBHazZNQUFLQUlBSWdBZ0JVME5Ba0drNk1BQUlBQWdCV3NpQVRZQ0FFR3M2TUFBUWF6b3dBQW9BZ0FpQUNBRmFpSUNOZ0lBSUFJZ0FVRUJjallDQkNBQUlBVkJBM0kyQWdRZ0FFRUlhaUVEREFJTElBQWdCellDR0NBQ0tBSVFJZ0VFUUNBQUlBRTJBaEFnQVNBQU5nSVlDeUFDS0FJVUlnRkZEUUFnQUNBQk5nSVVJQUVnQURZQ0dBc0NRQ0FEUVJCUEJFQWdBaUFGUVFOeU5nSUVJQUlnQldvaUFDQURRUUZ5TmdJRUlBQWdBMm9nQXpZQ0FDQURRWUFDVHdSQUlBQWdBeEJZREFJTElBTkJlSEZCa09iQUFHb2hBUUovUVpqb3dBQW9BZ0FpQkVFQklBTkJBM1owSWdOeFJRUkFRWmpvd0FBZ0F5QUVjallDQUNBQkRBRUxJQUVvQWdnTElRUWdBU0FBTmdJSUlBUWdBRFlDRENBQUlBRTJBZ3dnQUNBRU5nSUlEQUVMSUFJZ0F5QUZhaUlBUVFOeU5nSUVJQUFnQW1vaUFDQUFLQUlFUVFGeU5nSUVDeUFDUVFocUlRTUxJQWhCRUdva0FDQURDOFlHQVFoL0FrQUNRQ0FCSUFCQkEycEJmSEVpQXlBQWF5SUlTUTBBSUFFZ0NHc2lCa0VFU1EwQUlBWkJBM0VoQjBFQUlRRUNRQ0FBSUFOR0lna05BQUpBSUFBZ0Eyc2lCRUY4U3dSQVFRQWhBd3dCQzBFQUlRTURRQ0FCSUFBZ0Eyb2lBaXdBQUVHL2YwcHFJQUpCQVdvc0FBQkJ2MzlLYWlBQ1FRSnFMQUFBUWI5L1Ntb2dBa0VEYWl3QUFFRy9mMHBxSVFFZ0EwRUVhaUlERFFBTEN5QUpEUUFnQUNBRGFpRUNBMEFnQVNBQ0xBQUFRYjkvU21vaEFTQUNRUUZxSVFJZ0JFRUJhaUlFRFFBTEN5QUFJQWhxSVFNQ1FDQUhSUTBBSUFNZ0JrRjhjV29pQUN3QUFFRy9mMG9oQlNBSFFRRkdEUUFnQlNBQUxBQUJRYjkvU21vaEJTQUhRUUpHRFFBZ0JTQUFMQUFDUWI5L1Ntb2hCUXNnQmtFQ2RpRUdJQUVnQldvaEJBTkFJQU1oQUNBR1JRMENRY0FCSUFZZ0JrSEFBVThiSWdWQkEzRWhCeUFGUVFKMElRTkJBQ0VDSUFaQkJFOEVRQ0FBSUFOQjhBZHhhaUVJSUFBaEFRTkFJQUlnQVNnQ0FDSUNRWDl6UVFkMklBSkJCblp5UVlHQ2hBaHhhaUFCS0FJRUlnSkJmM05CQjNZZ0FrRUdkbkpCZ1lLRUNIRnFJQUVvQWdnaUFrRi9jMEVIZGlBQ1FRWjJja0dCZ29RSWNXb2dBU2dDRENJQ1FYOXpRUWQySUFKQkJuWnlRWUdDaEFoeGFpRUNJQUZCRUdvaUFTQUlSdzBBQ3dzZ0JpQUZheUVHSUFBZ0Eyb2hBeUFDUVFoMlFmK0IvQWR4SUFKQi80SDhCM0ZxUVlHQUJHeEJFSFlnQkdvaEJDQUhSUTBBQ3dKL0lBQWdCVUg4QVhGQkFuUnFJZ0FvQWdBaUFVRi9jMEVIZGlBQlFRWjJja0dCZ29RSWNTSUJJQWRCQVVZTkFCb2dBU0FBS0FJRUlnRkJmM05CQjNZZ0FVRUdkbkpCZ1lLRUNIRnFJZ0VnQjBFQ1JnMEFHaUFBS0FJSUlnQkJmM05CQjNZZ0FFRUdkbkpCZ1lLRUNIRWdBV29MSWdGQkNIWkIvNEVjY1NBQlFmK0IvQWR4YWtHQmdBUnNRUkIySUFScUR3c2dBVVVFUUVFQUR3c2dBVUVEY1NFREFrQWdBVUVFU1FSQURBRUxJQUZCZkhFaEJRTkFJQVFnQUNBQ2FpSUJMQUFBUWI5L1Ntb2dBVUVCYWl3QUFFRy9mMHBxSUFGQkFtb3NBQUJCdjM5S2FpQUJRUU5xTEFBQVFiOS9TbW9oQkNBRklBSkJCR29pQWtjTkFBc0xJQU5GRFFBZ0FDQUNhaUVCQTBBZ0JDQUJMQUFBUWI5L1Ntb2hCQ0FCUVFGcUlRRWdBMEVCYXlJRERRQUxDeUFFQzdZV0FoVi9CSDRqQUVHUUJHc2lBeVFBSXdCQkVHc2lFaVFBSUJJZ0FEb0FEMEhBNGNBQUlCSkJEMm9RUENFWlFiRGh3QUFvQWdBaUJVR0lBbXNoQmtHMDRjQUFLQUlBSWdRZ0dhZHhJUUlnR1VJWmlFTC9BSU5DZ1lLRWlKQ2d3SUFCZmlFYUlBQkIvd0Z4SVF3Z0EwR0lBbW9pRHdKL0FrQURRQUpBSUFJZ0JXb3BBQUFpR0NBYWhTSVhRbitGSUJkQ2dZS0VpSkNnd0lBQmZZTkNnSUdDaElpUW9NQ0FmNE1pRjFCRkJFQURRQ0FHUVFBZ0YzcW5RUU4ySUFKcUlBUnhheUlLUVlnQ2JHb3RBQUFnREVZTkFpQVhRZ0Y5SUJlREloZFFSUTBBQ3dzZ0dDQVlRZ0dHZzBLQWdZS0VpSkNnd0lCL2cxQkZEUUlnQWlBSFFRaHFJZ2RxSUFSeElRSU1BUXNMSUE4Z0FEb0FEU0FQUVFFNkFBd2dEMEd3NGNBQU5nSUlJQThnQlNBS1FZZ0NiR28yQWdSQkFBd0JDMEc0NGNBQUtBSUFSUVJBUVFBaEFrRUFJUWNqQUVFZ2F5SVJKQUFDUUFKQUFrQUNRRUc4NGNBQUtBSUFJZ3hCQVdvaUJTQU1Ud1JBUWJUaHdBQW9BZ0FpQ2lBS1FRRnFJZzFCQTNZaUJrRUhiQ0FLUVFoSkd5SUpRUUYySUFWSkJFQUNRQUpBQW44Z0JTQUpRUUZxSUFVZ0NVc2JJZ0pCQ0U4RVFFRi9JQUpCQTNSQkIyNUJBV3RuZGtFQmFpQUNRZi8vLy84QlRRMEJHaENqQVNBUktBSVlHZ3dKQzBFRVFRZ2dBa0VFU1JzTElnS3RRb2dDZmlJWFFpQ0lwdzBBSUJlbklnUWdBa0VJYWlJR2FpSUZJQVJKRFFBZ0JVSDUvLy8vQjBrTkFRc1Fvd0VnRVNnQ0NCb01CZ3RCK2VQQUFDMEFBQm9nQlVFSUVOY0JJZ2xGQkVBZ0JSREZBU0FSS0FJUUdnd0dDeUFFSUFscVFmOEJJQVlROVFFaENTQUNRUUZySWc0Z0FrRURka0VIYkNBQ1FRbEpHeUVRSUF4RkJFQkJzT0hBQUNnQ0FDRUdEQVVMSUFsQkNHb2hFMEd3NGNBQUtBSUFJZ1pCaUFKcklSUWdCaWtEQUVKL2hVS0FnWUtFaUpDZ3dJQi9neUVYSUFZaEJDQU1JUVVEUUNBWFVBUkFJQVFoQWdOQUlBZEJDR29oQnlBQ0tRTUlJQUpCQ0dvaUJDRUNRbitGUW9DQmdvU0lrS0RBZ0grREloZFFEUUFMQ3lBSklBNUJ3T0hBQUNBVUlCZDZwMEVEZGlBSGFpSVZRZmg5YkdvUVBLY2lDM0VpQ0dvcEFBQkNnSUdDaElpUW9NQ0FmNE1pR0ZBRVFFRUlJUUlEUUNBQ0lBaHFJUWdnQWtFSWFpRUNJQWtnQ0NBT2NTSUlhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SVlVQTBBQ3dzZ0YwSUJmU0FYZ3lFWElBa2dHSHFuUVFOMklBaHFJQTV4SWdKcUxBQUFRUUJPQkVBZ0NTa0RBRUtBZ1lLRWlKQ2d3SUIvZzNxblFRTjJJUUlMSUFJZ0NXb2dDMEVaZGlJSU9nQUFJQk1nQWtFSWF5QU9jV29nQ0RvQUFDQUpJQUpCZjNOQmlBSnNhaUFHSUJWQmYzTkJpQUpzYWtHSUFoRDNBUm9nQlVFQmF5SUZEUUFMREFRTFFiRGh3QUFvQWdBaEJBSkFJQVlnRFVFSGNVRUFSMm9pQlVVTkFDQUZRUUZIQkVBZ0JVSCsvLy8vQTNFaEJ3TkFJQUlnQkdvaUJpQUdLUU1BSWhkQ2Y0VkNCNGhDZ1lLRWlKQ2d3SUFCZ3lBWFF2LysvZnYzNzkrLy93Q0VmRGNEQUNBR1FRaHFJZ1lnQmlrREFDSVhRbitGUWdlSVFvR0NoSWlRb01DQUFZTWdGMEwvL3YzNzkrL2Z2LzhBaEh3M0F3QWdBa0VRYWlFQ0lBZEJBbXNpQncwQUN3c2dCVUVCY1VVTkFDQUNJQVJxSWdJZ0Fpa0RBQ0lYUW4rRlFnZUlRb0dDaElpUW9NQ0FBWU1nRjBMLy92Mzc5Ky9mdi84QWhIdzNBd0FMSUExQkNFOEVRQ0FFSUExcUlBUXBBQUEzQUFBTUFnc2dCRUVJYWlBRUlBMFE5Z0VhSUEwTkFVRUFJUWtNQWdzUW93RWdFU2dDQUJvTUF3c2dCRUVJYWlFTklBUkJpQUpySVJNZ0JDRUZRUUFoQWdOQUFrQWdCQ0FDSWdacUlnNHRBQUJCZ0FGSERRQWdFeUFHUWZoOWJHb2hGQ0FFSUFaQmYzTkJpQUpzYWlFVkFrQURRQ0FLUWNEaHdBQWdGQkE4cHlJUWNTSUhJUWdnQkNBSGFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJWFVBUkFRUWdoQWdOQUlBSWdDR29oQ0NBQ1FRaHFJUUlnQkNBSUlBcHhJZ2hxS1FBQVFvQ0Jnb1NJa0tEQWdIK0RJaGRRRFFBTEN5QUVJQmQ2cDBFRGRpQUlhaUFLY1NJQ2Fpd0FBRUVBVGdSQUlBUXBBd0JDZ0lHQ2hJaVFvTUNBZjRONnAwRURkaUVDQ3lBQ0lBZHJJQVlnQjJ0eklBcHhRUWhKRFFFZ0FpQUVhaUlITFFBQUlBY2dFRUVaZGlJSE9nQUFJQTBnQWtFSWF5QUtjV29nQnpvQUFFSC9BVWNFUUVINGZTRUhJQVFnQWtINGZXeHFJUkFEUUNBRklBZHFJZ0l0QUFBaEN5QUNJQWNnRUdvaUNDMEFBRG9BQUNBSUlBczZBQUFnQWtFQmFpSUxMUUFBSVJZZ0N5QUlRUUZxSWdzdEFBQTZBQUFnQ3lBV09nQUFJQUpCQW1vaUN5MEFBQ0VXSUFzZ0NFRUNhaUlMTFFBQU9nQUFJQXNnRmpvQUFDQUNRUU5xSWdJdEFBQWhDeUFDSUFoQkEyb2lBaTBBQURvQUFDQUNJQXM2QUFBZ0IwRUVhaUlIRFFBTERBRUxDeUFPUWY4Qk9nQUFJQTBnQmtFSWF5QUtjV3BCL3dFNkFBQWdCQ0FDUVg5elFZZ0NiR29nRlVHSUFoRDNBUm9NQVFzZ0RpQVFRUmwySWdJNkFBQWdEU0FHUVFocklBcHhhaUFDT2dBQUN5QUdRUUZxSVFJZ0JVR0lBbXNoQlNBR0lBcEhEUUFMQzBHNDRjQUFJQWtnREdzMkFnQU1BUXRCdE9IQUFDQU9OZ0lBUWJEaHdBQWdDVFlDQUVHNDRjQUFJQkFnREdzMkFnQWdDa1VOQUNBS0lBMUJpQUpzSWdKcVFRbHFJZ1ZGRFFBZ0JpQUNheUFGUVFnUTR3RUxJQkZCSUdva0FBc2dEeUFBT2dBVUlBOUJzT0hBQURZQ0VDQVBJQmszQXdoQkFRczJBZ0FnRWtFUWFpUUFBa0FnQXlnQ2lBSkZCRUFnQXlnQ2pBSWhCQ0FEUWVBQWFoQkxRZURvd0FBQ2ZrSFk2TUFBS1FNQVVFVUVRRUhnNk1BQUtRTUFRZ0Y4REFFTFFlam93QUJDQWpjREFFSFk2TUFBUWdFM0F3QkNBZ3MzQXdBZ0F5Z0M5QUVoQVNBREtBTDRBU0lDQkVBZ0FTRUFBMEFnQUNnQ0FDSUZCRUFnQUVFRWFpZ0NBQ0FGUVFFUTR3RUxJQUJCSEdvaEFDQUNRUUZySWdJTkFBc0xJQU1vQXZBQklnQUVRQ0FCSUFCQkhHeEJCQkRqQVFzQ1FDQURLQUtzQVNJQVJRMEFJQUFnQUVFQmRFRUpha0Y0Y1NJQmFrRUphaUlBUlEwQUlBTW9BcWdCSUFGcklBQkJDQkRqQVFzQ1FDQURLQUxVQVNJQVJRMEFJQUFnQUVFVWJFRWJha0Y0Y1NJQmFrRUphaUlBUlEwQUlBTW9BdEFCSUFGcklBQkJDQkRqQVFzQ1FDQURLQUprSWdCRkRRQWdBQ0FBUVFac1FRMXFRWGh4SWdGcVFRbHFJZ0JGRFFBZ0F5Z0NZQ0FCYXlBQVFRZ1E0d0VMSUFNb0FvUUJJZ0JGRFFFZ0FDQUFRUUowUVF0cVFYaHhJZ0ZxUVFscUlnQkZEUUVnQXlnQ2dBRWdBV3NnQUVFSUVPTUJEQUVMSUFNdEFKd0NJUVlnQXlnQ21BSWhCU0FES1FPUUFpRVlJQU5CNEFCcUVFc0Nma0hZNk1BQUtRTUFVRVVFUUVIbzZNQUFLUU1BSVJkQjRPakFBQ2tEQUF3QkMwSUNJUmRCNk9qQUFFSUNOd01BUWRqb3dBQkNBVGNEQUVJQkN5RVpJQU5CRUdwQndJckFBQ2tEQURjREFDQURRVGhxUWdBM0F3QWdBMEUrYWtJQU53RUFJQU1nR1RjREdFSGc2TUFBSUJsQ0FYdzNBd0FnQTBILy93TTdBVmdnQTBJRU53TlFJQU5CQURvQVdpQURRZ0EzQTBnZ0EwSUFOd013SUFOQk1qWUNLQ0FESUJjM0F5QWdBeUFBT2dDQkFpQURJQUU2QUlBQ0lBTkJ1SXJBQUNrREFEY0RDQ0FEUVk4Q2FpQURRUWhxUVlBQ0VQY0JHaUFGS0FJQUlnRWdCU2dDQkNJRUlCaW5JZ3h4SWdKcUtRQUFRb0NCZ29TSWtLREFnSCtESWhkUUJFQkJDQ0VBQTBBZ0FDQUNhaUVDSUFCQkNHb2hBQ0FCSUFJZ0JIRWlBbW9wQUFCQ2dJR0NoSWlRb01DQWY0TWlGMUFOQUFzTElBRWdGM3FuUVFOMklBSnFJQVJ4SWdCcUxBQUFJZ0pCQUU0RVFDQUJJQUVwQXdCQ2dJR0NoSWlRb01DQWY0TjZwMEVEZGlJQWFpMEFBQ0VDQ3lBQUlBRnFJQXhCR1hZaUREb0FBQ0FCSUFCQkNHc2dCSEZxUVFocUlBdzZBQUFnQlNBRktBSUlJQUpCQVhGck5nSUlJQUVnQUVINGZXeHFJZ1JCaUFKcklBWTZBQUFnQkVHSEFtc2dBMEdJQW1wQmh3SVE5d0VhSUFVZ0JTZ0NERUVCYWpZQ0RBc2dBMEdRQkdva0FDQUVRWUFDYXd1NE5nSVdmd2wrSXdCQjRBQnJJZ3drQUNNQVFlQUFheUlDSkFBZ0FpQUJOZ0lNQW44Q1FDQUFRZkFBYWlJSEtBSU1SUTBBSUFkQkVHb2lDQ0FDUVF4cUVEc2hHQ0FIS0FJQUlnWkJGR3NoQ2lBSEtBSUVJZ1FnR0tkeElRVWdHRUlaaUVML0FJTkNnWUtFaUpDZ3dJQUJmaUVhQTBBQ1FDQUZJQVpxS1FBQUloa2dHb1VpR0VKL2hTQVlRb0dDaElpUW9NQ0FBWDJEUW9DQmdvU0lrS0RBZ0grREloaFFSUVJBQTBBZ0NpQVllcWRCQTNZZ0JXb2dCSEZCYkd4cUtBSUFJQUZHRFFJZ0dFSUJmU0FZZ3lJWVVFVU5BQXNMSUJrZ0dVSUJob05DZ0lHQ2hJaVFvTUNBZjROUVJRMENJQVVnQTBFSWFpSURhaUFFY1NFRkRBRUxDeUFDSUFFMkFqZ2dCQ0FJSUFKQk9Hb1FPeUlZcDNFaEJTQVlRaG1JUXY4QWcwS0Jnb1NJa0tEQWdBRitJUnBCQUNFREFrQURRQ0FGSUFacUtRQUFJaGtnR29VaUdFSi9oU0FZUW9HQ2hJaVFvTUNBQVgyRFFvQ0Jnb1NJa0tEQWdIK0RJaGhRUlFSQUEwQWdDa0VBSUJoNnAwRURkaUFGYWlBRWNXc2lDRUVVYkdvb0FnQWdBVVlOQXlBWVFnRjlJQmlESWhoUVJRMEFDd3NnR1NBWlFnR0dnMEtBZ1lLRWlKQ2d3SUIvZzFBRVFDQUZJQU5CQ0dvaUEyb2dCSEVoQlF3QkN3dEJsSWJBQUJEbkFRQUxJQVlnQ0VFVWJHb2lCRUVVYXlJR1FSRnFJUW9nQmtFRWFpSUlLQUlBSVFWQkFDRURBa0FnQmtFUWFpSUdMUUFBUlEwQUlBb3RBQUJGRFFBZ0JFRVVheUlEUVFocUtBSUFJQVZySUFOQkRtb3ZBUUFnQTBFTWFpOEJBR3RCLy84RGNVWWhBd3NnQWlBRE9nQVRJQUpCQlRZQ0pDQUNRY3lHd0FBMkFpQWdBa0lGTndJc0lBSWdDcTFDZ0lDQWdPQUFoRGNEV0NBQ0lBYXRRb0NBZ0lEZ0FJUTNBMUFnQWlBRVFReHJyVUtBZ0lDQTBBQ0VOd05JSUFJZ0NLMUNnSUNBZ05BQWhEY0RRQ0FDSUFKQkUycXRRb0NBZ0lEZ0FJUTNBemdnQWlBQ1FUaHFOZ0lvSUFKQkZHb2dBa0VnYWhCS0lBSW9BaFFpQXdSQUlBSW9BaGdnQTBFQkVPTUJDeUFDTFFBVFFRQkhEQUVMUVFBaEJVRUFDeUVESUF3Z0JUWUNCQ0FNSUFNNkFBQWdBa0hnQUdva0FBSkFBa0FDUUNBTUxRQUFSUTBBSUF3b0FnUWhGU0FNSUFFMkFpQUNRQUpBSUFBb0FueEZEUUFnQUVHQUFXb2dERUVnYWhBN0lSZ2dBQ2dDY0NJRFFSUnJJUVFnQUNnQ2RDSUZJQmluY1NFQ0lCaENHWWhDL3dDRFFvR0NoSWlRb01DQUFYNGhHZ05BSUFJZ0Eyb3BBQUFpR1NBYWhTSVlRbitGSUJoQ2dZS0VpSkNnd0lBQmZZTkNnSUdDaElpUW9NQ0FmNE1pR0ZCRkJFQURRQ0FFUVFBZ0dIcW5RUU4ySUFKcUlBVnhheUlHUVJSc2FpZ0NBQ0FCUmcwRUlCaENBWDBnR0lNaUdGQkZEUUFMQ3lBWklCbENBWWFEUW9DQmdvU0lrS0RBZ0grRFVFVU5BU0FDSUFsQkNHb2lDV29nQlhFaEFnd0FDd0FMUVpTR3dBQVE1d0VBQ3lBRElBWkJGR3hxUVJScklnSkJDR29vQWdBaEN3SkFBbjhDUUFKQUFrQUNRQ0FDUVFScUtBSUFJZ3BCdUJkTkJFQWdBQ2dDbUFFaUJVVU5BU0FBS0FLVUFTRUpEQVFMSUFvZ0FDZ0NtQUVpQlU4TkFpQUFLQUtVQVNJSklBcEJIR3hxSWdJdkFSQWdBa0VNYXk4QkFHdEIvLzhEY1VIUUQwME5BeUFGSUF0TkRRRWdERUVDTmdJa0lBeEJtSVhBQURZQ0lDQU1RZ0kzQWl3Z0RDQU1RY2dBYXExQ2dJQ0FnTkFBaERjRE9DQU1JQVUyQWtnZ0RDQUpJQXRCSEd4cUlnRkJFR3F0UW9DQWdJREFBSVEzQTBBZ0RDQU1RVGhxTmdJb0lBeEJGR29nREVFZ2FoQktJQXdvQWhRaUFnUkFJQXdvQWhnZ0FrRUJFT01CQ3lBQUlBRXRBQk1nQVMwQUVpQUJMd0VRRURnZ0RFRUFOZ0lJUVFRTUJBdEJ2SVRBQUJEbkFRQUxJQXNnQlVIc2hNQUFFSkVCQUFzZ0NpQUZRYXlFd0FBUWtRRUFDMEVBSVFZakFFSFFBR3NpQWlRQUlBSWdBVFlDQUNBQ0lBY29BZ3dpQXpZQ0JDQUNBbjhDUUNBRFJRMEFJQWRCRUdvZ0FoQTdJUmdnQnlnQ0FDSUlRUlJySVE0Z0J5Z0NCQ0lFSUJpbmNTRURJQmhDR1loQy93Q0RRb0dDaElpUW9NQ0FBWDRoR2dOQUlBTWdDR29wQUFBaUdTQWFoU0lZUW4rRklCaENnWUtFaUpDZ3dJQUJmWU5DZ0lHQ2hJaVFvTUNBZjRNaUdGQkZCRUFEUUVFQklBRWdEaUFZZXFkQkEzWWdBMm9nQkhGQmJHeHFLQUlBUmcwRUdpQVlRZ0Y5SUJpREloaFFSUTBBQ3dzZ0dTQVpRZ0dHZzBLQWdZS0VpSkNnd0lCL2cxQkZEUUVnQXlBR1FRaHFJZ1pxSUFSeElRTU1BQXNBQzBFQUN6b0FDeUFDUVRCcUlRUWdCMEVRYWlBQ0VEc2hHQ0FIS0FJQUlnWkJGR3NoRVNBSEtBSUVJZ2dnR0tkeElRTWdHRUlaaUVML0FJTkNnWUtFaUpDZ3dJQUJmaUVhSUFJb0FnQWhEMEVBSVE0Q1FBSkFBMEFnQXlBR2Fpa0FBQ0laSUJxRkloaENmNFVnR0VLQmdvU0lrS0RBZ0FGOWcwS0FnWUtFaUpDZ3dJQi9neUlZVUVVRVFBTkFJQThnRVVFQUlCaDZwMEVEZGlBRGFpQUljU0lRYXlJTlFSUnNhaWdDQUVZTkF5QVlRZ0Y5SUJpREloaFFSUTBBQ3dzZ0dTQVpRZ0dHZzBLQWdZS0VpSkNnd0lCL2cxQUVRQ0FESUE1QkNHb2lEbW9nQ0hFaEF3d0JDd3NnQkVFQ09nQVJEQUVMUVlBQklRTWdCaUFRUVJSc1FSUnRJZzVxSWhFcEFBQWlHQ0FZUWdHR2cwS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklBWWdEa0VJYXlBSWNXb2lDQ2tBQUNJWUlCaENBWWFEUW9DQmdvU0lrS0RBZ0grRGVhZEJBM1pxUVFkTkJFQWdCeUFIS0FJSVFRRnFOZ0lJUWY4QklRTUxJQkVnQXpvQUFDQUlRUWhxSUFNNkFBQWdCeUFIS0FJTVFRRnJOZ0lNSUFRZ0JpQU5RUlJzYWtFVWF5SURLUUlBTndJQUlBUkJDR29nQTBFSWFpa0NBRGNDQUNBRVFSQnFJQU5CRUdvb0FnQTJBZ0FMSUFKQkF6WUNIQ0FDUWRpSXdBQTJBaGdnQWtJRE53SWtJQUlnQWtFTGFxMUNnSUNBZ09BQWhEY0RRQ0FDSUFKQnpBQnFyVUtBZ0lDQTBBQ0VOd000SUFJZ0FrRUVhcTFDZ0lDQWdOQUFoRGNETUNBQ0lBY29BZ3cyQWt3Z0FpQUVOZ0lnSUFKQkRHb2dBa0VZYWhCS0lBSW9BZ3dpQXdSQUlBSW9BaEFnQTBFQkVPTUJDeUFDUWRBQWFpUUFJQUVnQlVFY2JDQUpha0VRYXlnQ0FFY0VRQ01BUWJBQmF5SUVKQUFnQkNBTElBcHJRUUZxTmdJTUlBUWdBVFlDQ0NBSEtBSUFJZ2twQXdBaEdDQUVJQWNvQWd3aUNEWUNLQ0FFSUFrMkFpQWdCQ0FKUVFocUlnSTJBaGdnQkNBSklBY29BZ1JxUVFGcU5nSWNJQVFnR0VKL2hVS0FnWUtFaUpDZ3dJQi9nemNERUNBRVFRRTJBbndnQkVIMGhzQUFOZ0o0SUFSQ0FUY0NoQUVnQkNBRVFSQnFyVUtBZ0lDQThBQ0VOd05nSUFRZ0JFSGdBR29pQVRZQ2dBRWdCRUV3YWlBRVFmZ0FhaUlERUVvZ0JFRUNOZ0o4SUFSQmlJZkFBRFlDZUNBRVFnSTNBb1FCSUFRZ0JFRUlhcTFDZ0lDQWdOQUFoQ0laTndOb0lBUWdCRUVNYXExQ2dJQ0FnTkFBaENJYU53TmdJQVFnQVRZQ2dBRWdCRUU4YWlBREVFb2dCQ2dDUENJQkJFQWdCQ2dDUUNBQlFRRVE0d0VMSUFnRVFDQUVRVEJxclVLQWdJQ0FnQUdFSVJzZ0NTa0RBRUovaFVLQWdZS0VpSkNnd0lCL2d5RVlJQVJCekFCcUlRTWdCRUhZQUdvaEJRTkFJQmhRQkVBZ0FpRUJBMEFnQ1VHZ0FXc2hDU0FCS1FNQUlBRkJDR29pQWlFQlFuK0ZRb0NCZ29TSWtLREFnSCtESWhoUURRQUxDeUFZUWdGOUlTQUNRQ0FKSUJoNnAwRURka0ZzYkdvaUIwRVVheWdDQUNJQklBUW9BZ2dpQmtZZ0FTQUdhMEc3L3dGTGNnMEFJQWRCRUdzaURxMUNnSUNBZ05BQWhDRWNJQWRCQm11dFFvQ0FnSURBQUlRaEhTQUhRUWhyclVLQWdJQ0F3QUNFSVI0Z0IwRU1heUlSclVLQWdJQ0EwQUNFSVI4Q1FBSkFJQTRvQWdBZ0JDZ0NERThFUUNBRVFRYzJBbVFnQkVHOGg4QUFOZ0pnSUFSQ0J6Y0NiQ0FFSUJzM0E2Z0JJQVFnSFRjRG9BRWdCQ0FlTndPWUFTQUVJQjgzQTVBQklBUWdIRGNEaUFFZ0JDQWFOd09BQVNBRUlCazNBM2dnQkNBRVFmZ0FhallDYUNBRVFkUUFhaUFFUWVBQWFoQktJQVVoQVNBRUtBSlVJZ1lOQVF3Q0N5QUVRUWMyQW1RZ0JFR01pTUFBTmdKZ0lBUkNCemNDYkNBRUlCczNBNmdCSUFRZ0hUY0RvQUVnQkNBZU53T1lBU0FFSUI4M0E1QUJJQVFnSERjRGlBRWdCQ0FhTndPQUFTQUVJQmszQTNnZ0JDQUVRZmdBYWpZQ2FDQUVRY2dBYWlBRVFlQUFhaEJLSUFNaEFTQUVLQUpJSWdaRkRRRUxJQUVvQWdBZ0JrRUJFT01CQ3lBRUtBSU1JUUVnQjBFRWF5MEFBQVJBSUE0Z0RpZ0NBQ0FCYXpZQ0FBc2dCMEVEYXkwQUFFVU5BQ0FSSUJFb0FnQWdBV3MyQWdBTElCZ2dJSU1oR0NBSVFRRnJJZ2dOQUFzTElBUW9BakFpQVFSQUlBUW9BalFnQVVFQkVPTUJDeUFFUWJBQmFpUUFDeUFLSUFBb0FwZ0JJZ0ZQRFFNZ0FTQUxUUVJBSUFzZ0FVSGNoTUFBRUpFQkFBc2dDaUFMUVFGcUlnSkxEUVFnQUNBS05nS1lBU0FNSUFCQmtBRnFOZ0pVSUF3Z0FqWUNXQ0FNSUFFZ0FtczJBbHdnRENBQUtBS1VBU0lCSUFwQkhHeHFOZ0pNSUF3Z0FTQUNRUnhzYWpZQ1VDQU1RUWhxSVFwQkFDRUpJd0JCUUdvaUFTUUFBa0FDUUFKQUlBeEJ6QUJxSWdNb0FnQWlCQ0FES0FJRUlnVkdCRUFnQ2tFQU5nSUlJQXBDZ0lDQWdNQUFOd0lBREFFTElBTWdCRUVjYWlJQ05nSUFJQUZCR0dvZ0JFRU1haWtDQURjREFDQUJRU0JxSUFSQkZHb3BBZ0EzQXdBZ0FTQUVLUUlFTndNUUlBUW9BZ0FpQ0VHQWdJQ0FlRWNOQVNBS1FRQTJBZ2dnQ2tLQWdJQ0F3QUEzQWdBZ0FpQUZSZzBBQTBBZ0FpZ0NBQ0lFUVlDQWdJQjRSZzBCSUFRRVFDQUNLQUlFSUFSQkFSRGpBUXNnQWtFY2FpSUNJQVZIRFFBTEN5QURRb1NBZ0lEQUFEY0NBQ0FERUdRTUFRc0NRQUpBQWtCQkF5QUZJQUpySWdkQkhHNGlCaUFHUVFOTkcwRUJhaUlMUVJ4c0lnWkJBRWdnQjBIVS8vLy9CMHR5RFFCQitlUEFBQzBBQUJwQkJDRUpJQVpCQkJEWEFTSUhSUTBBSUFjZ0NEWUNBQ0FISUFFcEF4QTNBZ1FnQjBFTWFpQUJRUmhxS1FNQU53SUFJQWRCRkdvZ0FVRWdhaWtEQURjQ0FDQUJRUUUyQWd3Z0FTQUhOZ0lJSUFFZ0N6WUNCQ0FES0FJSUlRc2dBeWdDRENFUklBTW9BaEFoRGdKQUlBSWdCVVlOQUNBRklBUnJRVGhySVFrZ0FVRXdhaUVQSUFGQk9Hb2hFRUVjSVFKQkFTRUdBMEFnRHlBQ0lBUnFJZ2hCREdvcEFnQTNBd0FnRUNBSVFSUnFLUUlBTndNQUlBRWdDRUVFYWlrQ0FEY0RLQUpBSUFnb0FnQWlGa0dBZ0lDQWVFY0VRQ0FHSUFFb0FnUkhEUUVqQUVFZ2F5SURKQUFnQmlBSlFSeHVRUUZxSUFacUlnMUxCRUJCQUVFQUVNd0JBQXRCQkNFU1FRUWdBVUVFYWlJSEtBSUFJaE5CQVhRaUZDQU5JQTBnRkVrYklnMGdEVUVFVFJzaUZFRWNiQ0VYSUExQnBaTEpKRWxCQW5RaERRSkFJQk5GQkVCQkFDRVNEQUVMSUFNZ0UwRWNiRFlDSENBRElBY29BZ1EyQWhRTElBTWdFallDR0NBRFFRaHFJQTBnRnlBRFFSUnFFSHNnQXlnQ0NBUkFJQU1vQWd3Z0F5Z0NFQkRNQVFBTElBTW9BZ3doRFNBSElCUTJBZ0FnQnlBTk5nSUVJQU5CSUdva0FDQUJLQUlJSVFjTUFRc2dDRUVjYWlJQ0lBVkdEUUlEUUNBQ0tBSUFJZ05CZ0lDQWdIaEdEUU1nQXdSQUlBSW9BZ1FnQTBFQkVPTUJDeUFDUVJ4cUlnSWdCVWNOQUFzTUFnc2dBaUFIYWlJRElCWTJBZ0FnQTBFRWFpQUJLUU1vTndJQUlBTkJER29nRHlrREFEY0NBQ0FEUVJScUlCQXBBd0EzQWdBZ0FTQUdRUUZxSWdZMkFnd2dDVUVjYXlFSklBSkJIR29oQWlBSVFSeHFJQVZIRFFBTEN5QU9SUTBDSUJFZ0N5Z0NDQ0lDUmcwQklBc29BZ1FpQXlBQ1FSeHNhaUFESUJGQkhHeHFJQTVCSEd3UTlnRWFEQUVMSUFrZ0JoRE1BUUFMSUFzZ0FpQU9hallDQ0FzZ0NpQUJLUUlFTndJQUlBcEJDR29nQVVFTWFpZ0NBRFlDQUFzZ0FVRkFheVFBSUF3b0FoQU5BU0FNS0FJTUN5QU1LQUlJSWdGRkRRRWdBVUVjYkVFRUVPTUJEQUVMSUF4QktHb2dERUVRYWlnQ0FEWUNBQ0FNSUF3cEFnZzNBeUFqQUVHUUFXc2lCeVFBQWtBQ1FBSkFBa0FnREVFZ2FpSUVLQUlJSWdJRVFDQUVLQUlFSWdFZ0FrRWNiR3BCREdzdkFRQWhFQ0FCTHdFUUlRMGdBUzBBRXlFS0lBRXRBQmdoRWlBQktBSU1JUk1nQVMwQUZ5RVJJQUV0QUJJaENFRUFJUVVqQUVFUWF5SURKQUFnQTBFQU5nSU1JQU5DZ0lDQWdCQTNBZ1FnQkNnQ0JDSUNJQVFvQWdnaUJrRWNiR29oQ1NBRUtBSUFJUXNnQWlFQkFrQUNRQ0FHUlEwQVFRRWhCZ05BSUFFb0FnQWlEa0dBZ0lDQWVFWUVRQ0FCUVJ4cUlRRU1BZ3NnQVNnQ0JDRVBJQUVvQWdnaUJDQURLQUlFSUFWclN3UkFJQU5CQkdvZ0JTQUVFSFFnQXlnQ0NDRUdJQU1vQWd3aEJRc2dCU0FHYWlBUElBUVE5d0VhSUFNZ0JDQUZhaUlGTmdJTUlBNEVRQ0FQSUE1QkFSRGpBUXNnQVVFY2FpSUJJQWxIRFFBTERBRUxJQWtnQVd0QkhHNGhCU0FCSUFsR0RRQURRQ0FCS0FJQUlnUUVRQ0FCUVFScUtBSUFJQVJCQVJEakFRc2dBVUVjYWlFQklBVkJBV3NpQlEwQUN3c2dDd1JBSUFJZ0MwRWNiRUVFRU9NQkN5QUhRUVJxSWdFZ0F5a0NCRGNDQUNBQlFRaHFJQU5CREdvb0FnQTJBZ0FnQTBFUWFpUUFJQWNnQ0RvQUdpQUhJQkU2QUJrZ0J5QVJRUUZIT2dBWUlBY2dFellDRUNBSElCSTZBQndnQnlBS09nQWJJQWNnRURzQkZpQUhJQTA3QVJSQmx1TEFBQzBBQUVFQ1JnUkFRYWppd0FBb0FnQWhBVUdvNHNBQVFRQTJBZ0FnQVVVTkJDQUhRU0JxSWdJZ0FSRUJBRUd3NGNBQUlBSkI4QUFROXdFYVFhRGl3QUJCQWpZQ0FFR1c0c0FBTFFBQVFRSkdEUUlMSUFvZ0NCQW5JUW9qQUVFZ2F5SUVKQUFDUUNBSFFRUnFJZ2t2QVJJaUFTQUtMd0ZRSWdKSElBRWdBbXRCLy84RGNVRzgvd0ZKY1VVRVFDQUpLQUlBSWdGRkRRRWdDU2dDQkNBQlFRRVE0d0VNQVFzZ0NrSFFBR29oRGlBSkxRQVdJUUlqQUVFd2F5SUJKQUFDUUFKQUFrQUNRQ0FDUVFKckRnSUJBQU1MSUFrb0FnZ2lBa0VGVHdSQVFRWWhCaUFKS0FJRUlnTXRBQVJCL2dCeFFjNEFSZzBDREFNTFFRUWdBa0c4ajhBQUVKRUJBQXNnQ1NnQ0NDSUNRUVJOQkVCQkJDQUNRY3lQd0FBUWtRRUFDMEVGSVFZZ0NTZ0NCQ0lETFFBRVFSOXhRUVpIRFFFTElBWWdBaUFDSUFaSkd5RUlBa0FDUUFKQUFrQURRQ0FHSUFoR0RRRWdBeUFHYWlBR1FRRnFJZ1VoQmkwQUFFSC9BVVlOQUF0QkFDRUdBMEFnQWlBRlRRMENJQVlnQXlBRmFpMEFBQ0lJYWlFR0lBVkJBV29oQlNBSVFmOEJSZzBBQ3lBQ0lBVkJFR29pQ0VrTkFrRUFJUWdDUUNBQ1FSQnJJQVZHRFFBZ0FpQUZhMEVRYXlFSUlBVkJjRVlOQUNBRElBTWdCV3BCRUdvZ0NCRDJBUm9MSUFnZ0JrRVFheUlDU1EwRElBbEJBRFlDQ0NBQklBazJBaGdnQVNBQ05nSWNJQUVnQ0NBQ2F6WUNJQ0FCSUFNMkFoQWdBU0FDSUFOcU5nSVVJQUZCQkdvaEJrRUFJUkFqQUVFUWF5SUNKQUFDUUFKQUFrQWdBVUVRYWlJREtBSUFJZ1VnQXlnQ0JDSUlSZ1JBSUFaQkFEWUNDQ0FHUW9DQWdJQVFOd0lBSUFOQ2dZQ0FnQkEzQWdBZ0F5Z0NFQ0lGUlEwQklBTW9BZ3dpQ0NBREtBSUlJZ01vQWdnaUJrY0VRQ0FES0FJRUlnc2dCbW9nQ0NBTGFpQUZFUFlCR2dzZ0F5QUZJQVpxTmdJSURBRUxJQU1nQlVFQmFpSU5OZ0lBUVFnZ0NDQU5hMEVCYWlJTFFYOGdDeHNpQ3lBTFFRaE5HeUlQUVFCSURRRWdCUzBBQUNFU1Fmbmp3QUF0QUFBYVFRRWhFQ0FQUVFFUTF3RWlDMFVOQVNBTElCSTZBQUFnQWtFQk5nSU1JQUlnQ3pZQ0NDQUNJQTgyQWdRZ0F5Z0NFQ0VQSUFNb0Fnd2hFaUFES0FJSUlSQWdDQ0FOUndSQUlBZ2dCV3RCQW1zaERVRUJJUU1EUUNBRElBVnFMUUFBSVJNZ0FpZ0NCQ0FEUmdSQUlBSkJCR29nQXlBTlFRRnFJZ3RCZnlBTEd4QjBJQUlvQWdnaEN3c2dBeUFMYWlBVE9nQUFJQUlnQTBFQmFpSUROZ0lNSUExQkFXc2hEU0FESUFWcUlBaEhEUUFMQ3lBUEJFQWdFQ2dDQ0NJRElCSkhCRUFnRUNnQ0JDSUZJQU5xSUFVZ0Vtb2dEeEQyQVJvTElCQWdBeUFQYWpZQ0NBc2dCaUFDS1FJRU53SUFJQVpCQ0dvZ0FrRU1haWdDQURZQ0FBc2dBa0VRYWlRQURBRUxJQkFnRHhETUFRQUxJQUVvQWd3aEF5QUJLQUlJSVFJZ0FVRUFOZ0FwSUFGQkFEWUNKQ0FCUWY0Qk9nQW9JQUlnQXlBQlFTUnFFREFnQVNnQ0JDSURSUTBFSUFJZ0EwRUJFT01CREFRTElBZ2dBa0h3ajhBQUVKRUJBQXNnQlNBQ1FmQ1B3QUFRa1FFQUN5QUlJQUpCeklEQUFCQ1NBUUFMSUFJZ0NFSE1nTUFBRUpJQkFBc2dBVUV3YWlRQUlBcEJ4QUJxSVFnZ0NpZ0NTQ0lQSUFvb0Frd2lBMEVjYkdwQkVHc2hCU0FKS0FJTUlRSWdDU2dDQkNFUUlBa29BZ0FoQmlBSkxRQVZJUTBnQXlFQkFrQWdDZ0ovQWtBQ1FBSkFBa0FDUUFOQUlBRkZCRUFnQkVFWWFpQUpRUmhxS0FJQU5nSUFJQVJCRUdvZ0NVRVFhaWtDQURjREFDQUVRUWhxSUFsQkNHb3BBZ0EzQXdBZ0JDQUpLUUlBTndNQVFRQWhBZ3dEQ3lBRktBSUFJZ3NnQWtjZ0FpQUxhMEc4L3dGSmNRMEJJQUZCQVdzaEFTQUZRUnhySVFVZ0FpQUxSdzBBQ3lBR1JRMEhJQkFnQmtFQkVPTUJEQWNMSUFSQkdHb2dDVUVZYWlnQ0FEWUNBQ0FFUVJCcUlBbEJFR29wQWdBM0F3QWdCRUVJYWlBSlFRaHFLUUlBTndNQUlBUWdDU2tDQURjREFDQURJQUVpQWtrTkFRc2dDQ2dDQUNBRFJnUi9JQWdRYnlBS0tBSklCU0FQQ3lBQ1FSeHNhaUVGSUFJZ0Ewa0VRQ0FGUVJ4cUlBVWdBeUFDYTBFY2JCRDJBUm9MSUFVZ0JDa0RBRGNDQUNBRlFSaHFJQVJCR0dvb0FnQTJBZ0FnQlVFUWFpQUVRUkJxS1FNQU53SUFJQVZCQ0dvZ0JFRUlhaWtEQURjQ0FDQUtJQU5CQVdvaUNUWUNUQ0FORFFRZ0NpZ0NRQ0lGSUFKUERRSWdCU0FKSUFVZ0NVc2JJUXNnQ2lnQ1NDSVBJQVZCSEd4cVFSQnFJUU5CQVNFR0EwQWdCU0FMUmcwQ0lBTXZBUUFnRGk4QkFFRUJha0gvL3dOeFJnUkFJQU5CSEdvaEF5QVBJQVZCSEd4cVFSSnFJUTRnQlVFQmFpSUZJQUpKSVFZZ0FTQUZSZzBFREFFTEN5QUdSUTBFQWtBZ0FpQUlLQUlJSWdGTkJFQWdDRUVBTmdJSUlBUWdBallDRENBRUlBZzJBZ2dnQkNBQklBSnJOZ0lRSUFRZ0NDZ0NCQ0lCSUFKQkhHeHFOZ0lFSUFRZ0FUWUNBQXdCQ3lBQ0lBRkJ6SURBQUJDU0FRQUxBa0FnQkNnQ0FDSUNJQVFvQWdRaUEwWU5BQU5BSUFJb0FnQWlBVUdBZ0lDQWVFWU5BU0FCQkVBZ0FpZ0NCQ0FCUVFFUTR3RUxJQUpCSEdvaUFpQURSdzBBQ3dzZ0JFS0VnSUNBd0FBM0FnQWdCQkJrUVFBTUF3c2dBU0FERUk0QkFBc2dDeUFKUWV5S3dBQVFrUUVBQ3lBQ0N6WUNRQXNnQ2hCNkN5QUVRU0JxSkFCQmx1TEFBQzBBQUVFQ1JnUkFRYWppd0FBb0FnQWhBVUdvNHNBQVFRQTJBZ0FnQVVVTkJDQUhRU0JxSWdJZ0FSRUJBRUd3NGNBQUlBSkI4QUFROXdFYVFhRGl3QUJCQWpZQ0FFR1c0c0FBTFFBQVFRSkdEUU1MUVlEaXdBQkJnT0xBQUNnQ0FFRUJhallDQUVHVTRzQUFRZjhCUVpUaXdBQXRBQUJCQVdvaUFTQUJRZjhCVHhzNkFBQWdFVVVFUUVHRTRzQUFRWVRpd0FBb0FnQkJBV28yQWdBTElBZEJrQUZxSkFBTUJBdEJBRUVBUWJ5VXdBQVFrUUVBQzBIUWs4QUFRU2hCK0pQQUFCQ3RBUUFMUWRDVHdBQkJLRUg0azhBQUVLMEJBQXNnQjBFQU5nSXdJQWRCQVRZQ0pDQUhRY1NTd0FBMkFpQWdCMElFTndJb0lBZEJJR3BCd0pQQUFCQ2tBUUFMSUFBb0FwZ0JJQlZORFFBZ0FDQUFLQUtVQVNBVlFSeHNhaWdDREJBb0N5QU1RZUFBYWlRQUR3c2dDaUFCUWN5RXdBQVFrUUVBQ3lBS0lBSkJ6SURBQUJDVEFRQUw2MHNDR0g4SGZpTUFRYUFCYXlJSkpBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBQ2dDQ0NJQ0JFQWdBQ2dDQkNJRUxRQUFJUU1nQkNBRVFRRnFJZ29nQWtFQmF5SUVFUFlCSVFZZ0FDQUVOZ0lJSUFBb0FnQWhCU0FKSUFOQkQzRWlBRG9BRHdKQUFrQUNRQUpBQWtBQ1FBSkFJQUFPQkFJQUF3RUVDeUFFQkVCQkFDRUFBMEFnQUNBRVR3MEpJQUJCQVdvaUFTQUVUdzBLSUFFZ0Jtb3RBQUFnQUNBR2FpMEFBRUVJZEhJaUFTQUFRUUpxSWdKcUlnQWdBVWtOQ3lBQUlBUkxEUXdDUUNBQlJRUkFRUUVoQXd3QkMwSDU0OEFBTFFBQUdpQUJRUUVRMXdFaUEwVU5EZ3NnQXlBQ0lBWnFJQUVROXdFaEFpQUpRUUEyQURVZ0NVRUFOZ0l3SUFsQkFUb0FOQ0FDSUFFZ0NVRXdhaEF3SUFFRVFDQUNJQUZCQVJEakFRc2dBQ0FFU1EwQUN3c2dCVVVORHlBR0lBVkJBUkRqQVF3UEN5QUpRUUEyQWtBZ0NVRUJOZ0kwSUFsQmpKN0FBRFlDTUNBSlFnUTNBamdNQXdzZ0NVRUJOZ0kwSUFsQnJKN0FBRFlDTUNBSlFnRTNBandnQ1NBSlFTeHFyVUtBZ0lDQThBU0VOd01nSUFrZ0JEWUNMQ0FKSUFsQklHbzJBamdnQ1VFUWFpQUpRVEJxRUVvZ0NTZ0NFQ0lBQkVBZ0NTZ0NGQ0FBUVFFUTR3RUxJQVJGRFFvZ0JpMEFBQ0VBSUFZZ0NpQUNRUUpySWdZUTlnRWhBU0FBUWZBQmNVRVFSZzBESUFWRkRRMGdBU0FGUVFFUTR3RU1EUXNnQ1NBRE9nQTlJQWtnQVRvQVBDQUpJQVEyQWpnZ0NTQUdOZ0kwSUFrZ0JUWUNNQ01BUVVCcUlnb2tBQ0FLUVJCcUlBbEJNR29pQUVFSWFpZ0NBQ0lCTmdJQUlBb2dBQ2tDQURjRENBSkFBa0FDUUNBQkJFQUNRQ0FLS0FJTUxRQUFRUTV4QkVBZ0FDZ0NDQ0lCUlEwRElBRkJDRTBOQkNBQUtBSUVJZ1F0QUFBaEFTQUVMUUFJSVFRZ0NrRTRhaUFBUVFocUtBSUFOZ0lBSUFvZ0FDa0NBRGNETUNBS1FSUnFJZ0FnQ2tFd2FoQk1JQW9nQkVFRGNUb0FMQ0FLSUFGQkJIWkJBM0U2QUNzZ0NpQUJRUWQyT2dBb0lBb2dBVUVHZGlJQk9nQXFJQW9nQVVFQmNUb0FLU0FBRUdFTUFRc2dDa0VVYWlJR0lBcEJDR29RVEVFQUlRQWpBRUhRQW1zaUF5UUFBa0FDUUFKQVFjN2p3QUF0QUFCQkFrWUVRRUhnNDhBQUtBSUFJUUZCNE9QQUFFRUFOZ0lBSUFGRkRRRWdBMEdvQVdvaUJDQUJFUUVBUWVqaXdBQWdCRUh3QUJEM0FScEIyT1BBQUVFQ05nSUFRYzdqd0FBdEFBQkJBa1lOQWdzZ0JpOEJDQ0VVSUFZdEFCTWhEaU1BUVJCckloTWtBQ0FUSUE0NkFBOUIrT0xBQUNBVFFROXFFRHdoRzBIbzRzQUFLQUlBSWdSQnFBRnJJUUpCN09MQUFDZ0NBQ0lGSUJ1bmNTRUJJQnRDR1loQy93Q0RRb0dDaElpUW9NQ0FBWDRoSFNBRFFhZ0JhaUlQQW44Q1FBTkFBa0FnQVNBRWFpa0FBQ0ljSUIyRklocENmNFVnR2tLQmdvU0lrS0RBZ0FGOWcwS0FnWUtFaUpDZ3dJQi9neUlhVUVVRVFBTkFJQUpCQUNBYWVxZEJBM1lnQVdvZ0JYRnJJZ2hCcUFGc2FpMEFBQ0FPUmcwQ0lCcENBWDBnR29NaUdsQkZEUUFMQ3lBY0lCeENBWWFEUW9DQmdvU0lrS0RBZ0grRFVFVU5BaUFCSUFCQkNHb2lBR29nQlhFaEFRd0JDd3NnRHlBT09nQU5JQTlCQVRvQURDQVBRZWppd0FBMkFnZ2dEeUFFSUFoQnFBRnNhallDQkVFQURBRUxRZkRpd0FBb0FnQkZCRUJCQUNFQUl3QkJJR3NpRWlRQUFrQUNRQUpBQWtCQjlPTEFBQ2dDQUNJQ1FRRnFJZ0VnQWs4RVFFSHM0c0FBS0FJQUlnZ2dDRUVCYWlJTlFRTjJJZ1JCQjJ3Z0NFRUlTUnNpQzBFQmRpQUJTUVJBQWtBQ1FBSi9JQUVnQzBFQmFpQUJJQXRMR3lJQVFRaFBCRUJCZnlBQVFRTjBRUWR1UVFGclozWkJBV29nQUVILy8vLy9BVTBOQVJvUW93RWdFaWdDR0JvTUNRdEJCRUVJSUFCQkJFa2JDeUlBclVLb0FYNGlHa0lnaUtjTkFDQWFweUlFSUFCQkNHb2lCV29pQVNBRVNRMEFJQUZCK2YvLy93ZEpEUUVMRUtNQklCSW9BZ2dhREFZTFFmbmp3QUF0QUFBYUlBRkJDQkRYQVNJTFJRUkFJQUVReFFFZ0VpZ0NFQm9NQmdzZ0JDQUxha0gvQVNBRkVQVUJJUXNnQUVFQmF5SVFJQUJCQTNaQkIyd2dBRUVKU1JzaEZTQUNSUVJBUWVqaXdBQW9BZ0FoQlF3RkN5QUxRUWhxSVJaQjZPTEFBQ2dDQUNJRlFhZ0JheUVYSUFVcEF3QkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaEdpQUZJUUVnQWlFRUEwQWdHbEFFUUNBQklRQURRQ0FIUVFocUlRY2dBQ2tEQ0NBQVFRaHFJZ0VoQUVKL2hVS0FnWUtFaUpDZ3dJQi9neUlhVUEwQUN3c2dDeUFRUWZqaXdBQWdGeUFhZXFkQkEzWWdCMm9pR0VIWWZteHFFRHluSWhGeElneHFLUUFBUW9DQmdvU0lrS0RBZ0grREloeFFCRUJCQ0NFQUEwQWdBQ0FNYWlFTUlBQkJDR29oQUNBTElBd2dFSEVpREdvcEFBQkNnSUdDaElpUW9NQ0FmNE1pSEZBTkFBc0xJQnBDQVgwZ0dvTWhHaUFMSUJ4NnAwRURkaUFNYWlBUWNTSUFhaXdBQUVFQVRnUkFJQXNwQXdCQ2dJR0NoSWlRb01DQWY0TjZwMEVEZGlFQUN5QUFJQXRxSUJGQkdYWWlERG9BQUNBV0lBQkJDR3NnRUhGcUlBdzZBQUFnQ3lBQVFYOXpRYWdCYkdvZ0JTQVlRWDl6UWFnQmJHcEJxQUVROXdFYUlBUkJBV3NpQkEwQUN3d0VDMEhvNHNBQUtBSUFJUUVDUUNBRUlBMUJCM0ZCQUVkcUlnUkZEUUFnQkVFQlJ3UkFJQVJCL3YvLy93TnhJUWNEUUNBQUlBRnFJZ1VnQlNrREFDSWFRbitGUWdlSVFvR0NoSWlRb01DQUFZTWdHa0wvL3YzNzkrL2Z2LzhBaEh3M0F3QWdCVUVJYWlJRklBVXBBd0FpR2tKL2hVSUhpRUtCZ29TSWtLREFnQUdESUJwQy8vNzkrL2Z2MzcvL0FJUjhOd01BSUFCQkVHb2hBQ0FIUVFKcklnY05BQXNMSUFSQkFYRkZEUUFnQUNBQmFpSUFJQUFwQXdBaUdrSi9oVUlIaUVLQmdvU0lrS0RBZ0FHRElCcEMvLzc5Ky9mdjM3Ly9BSVI4TndNQUN5QU5RUWhQQkVBZ0FTQU5haUFCS1FBQU53QUFEQUlMSUFGQkNHb2dBU0FORVBZQkdpQU5EUUZCQUNFTERBSUxFS01CSUJJb0FnQWFEQU1MSUFGQkNHb2hEU0FCUWFnQmF5RVdJQUVoQkVFQUlRQURRQUpBSUFFZ0FDSUZhaUlRTFFBQVFZQUJSdzBBSUJZZ0JVSFlmbXhxSVJjZ0FTQUZRWDl6UWFnQmJHb2hHQUpBQTBBZ0NFSDQ0c0FBSUJjUVBLY2lGWEVpQnlFTUlBRWdCMm9wQUFCQ2dJR0NoSWlRb01DQWY0TWlHbEFFUUVFSUlRQURRQ0FBSUF4cUlRd2dBRUVJYWlFQUlBRWdDQ0FNY1NJTWFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJYVVBMEFDd3NnQVNBYWVxZEJBM1lnREdvZ0NIRWlBR29zQUFCQkFFNEVRQ0FCS1FNQVFvQ0Jnb1NJa0tEQWdIK0RlcWRCQTNZaEFBc2dBQ0FIYXlBRklBZHJjeUFJY1VFSVNRMEJJQUFnQVdvaUJ5MEFBQ0FISUJWQkdYWWlCem9BQUNBTklBQkJDR3NnQ0hGcUlBYzZBQUJCL3dGSEJFQkIySDRoQnlBQklBQkIySDVzYWlFVkEwQWdCQ0FIYWlJQUxRQUFJUkVnQUNBSElCVnFJZ3d0QUFBNkFBQWdEQ0FST2dBQUlBQkJBV29pRVMwQUFDRVpJQkVnREVFQmFpSVJMUUFBT2dBQUlCRWdHVG9BQUNBQVFRSnFJaEV0QUFBaEdTQVJJQXhCQW1vaUVTMEFBRG9BQUNBUklCazZBQUFnQUVFRGFpSUFMUUFBSVJFZ0FDQU1RUU5xSWdBdEFBQTZBQUFnQUNBUk9nQUFJQWRCQkdvaUJ3MEFDd3dCQ3dzZ0VFSC9BVG9BQUNBTklBVkJDR3NnQ0hGcVFmOEJPZ0FBSUFFZ0FFRi9jMEdvQVd4cUlCaEJxQUVROXdFYURBRUxJQkFnRlVFWmRpSUFPZ0FBSUEwZ0JVRUlheUFJY1dvZ0FEb0FBQXNnQlVFQmFpRUFJQVJCcUFGcklRUWdCU0FJUncwQUN3dEI4T0xBQUNBTElBSnJOZ0lBREFFTFFleml3QUFnRURZQ0FFSG80c0FBSUFzMkFnQkI4T0xBQUNBVklBSnJOZ0lBSUFoRkRRQWdDQ0FOUWFnQmJDSUFha0VKYWlJQlJRMEFJQVVnQUdzZ0FVRUlFT01CQ3lBU1FTQnFKQUFMSUE4Z0Rqb0FGQ0FQUWVqaXdBQTJBaEFnRHlBYk53TUlRUUVMTmdJQUlCTkJFR29rQUFKQUlBTW9BcWdCUlFSQUlBTW9BcXdCSVFJZ0EwRUlhaEJWSUFNb0FwUUJJUVFnQXlnQ21BRWlBUVJBSUFRaEFBTkFJQUFvQWdBaUJRUkFJQUJCQkdvb0FnQWdCVUVCRU9NQkN5QUFRUlJxSVFBZ0FVRUJheUlCRFFBTEN5QURLQUtRQVNJQUJFQWdCQ0FBUVJSc1FRUVE0d0VMQWtBZ0F5Z0NiQ0lBUlEwQUlBQWdBRUVCZEVFSmFrRjRjU0lCYWtFSmFpSUFSUTBBSUFNb0FtZ2dBV3NnQUVFSUVPTUJDd0pBSUFNb0FpUWlBRVVOQUNBQUlBQkJCbXhCRFdwQmVIRWlBV3BCQ1dvaUFFVU5BQ0FES0FJZ0lBRnJJQUJCQ0JEakFRc2dBeWdDUkNJQVJRMEJJQUFnQUVFQ2RFRUxha0Y0Y1NJQmFrRUphaUlBUlEwQklBTW9Ba0FnQVdzZ0FFRUlFT01CREFFTElBTXRBTHdCSVFnZ0F5Z0N1QUVoQlNBREtRT3dBU0VhSUFZdEFCSWhBQ0FEUVFocUlnRVFWU0FESUE0NkFLRUJJQU1nQURvQW9BRWdBMEd2QVdvZ0FVR2dBUkQzQVJvZ0JTZ0NBQ0lFSUFVb0FnUWlBaUFhcHlJSGNTSUJhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SWFVQVJBUVFnaEFBTkFJQUFnQVdvaEFTQUFRUWhxSVFBZ0JDQUJJQUp4SWdGcUtRQUFRb0NCZ29TSWtLREFnSCtESWhwUURRQUxDeUFFSUJwNnAwRURkaUFCYWlBQ2NTSUFhaXdBQUNJQlFRQk9CRUFnQkNBRUtRTUFRb0NCZ29TSWtLREFnSCtEZXFkQkEzWWlBR290QUFBaEFRc2dBQ0FFYWlBSFFSbDJJZ2M2QUFBZ0JDQUFRUWhySUFKeGFrRUlhaUFIT2dBQUlBVWdCU2dDQ0NBQlFRRnhhellDQ0NBRUlBQkIySDVzYWlJQ1FhZ0JheUFJT2dBQUlBSkJwd0ZySUFOQnFBRnFRYWNCRVBjQkdpQUZJQVVvQWd4QkFXbzJBZ3dMSXdCQmdBRnJJZ1VrQUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUNBR0x3RVFJZ2dnQWtHZ0FXc2lCQzhCbEFFaUFFWWdDQ0FBYTBILy93TnhRYnYvQVV0eURRQWdCVUVLYWlBRVFlQUFhaUFJRUVFZ0JTOEJDa0VCYXc0REFRQURBZ3NnQmlnQ0FDSUFSUTBGSUFZb0FnUWdBRUVCRU9NQkRBVUxJQVJCaUFGcUlRY2dCQ2dDakFFaURDQUVLQUtRQVNJQlFSUnNha0VFYXlFQ0lBWW9BZ1FnQmlnQ0FDRUxJQUVoQUFOQUFrQUNRQ0FBUlFSQVFRQWhBQXdCQ3lBSUlBSXZBUUFpRDBZZ0NDQVBhMEgvL3dOeFFidi9BVXR5RFFFZ0FDQUJTdzBGQ3lBSEtBSUFJQUZHQkg4Z0J4QnhJQVFvQW93QkJTQU1DeUFBUVJSc2FpRUNJQUFnQVVrRVFDQUNRUlJxSUFJZ0FTQUFhMEVVYkJEMkFSb0xJQUlnQmlrQ0FEY0NBQ0FDUVJCcUlBWkJFR29vQWdBMkFnQWdBa0VJYWlBR1FRaHFLUUlBTndJQUlBUWdBVUVCYWpZQ2tBRU1CUXNnQUVFQmF5RUFJQUpCRkdzaEFpQUlJQTlIRFFBTFFjN2p3QUF0QUFCQkFrWUVRRUhnNDhBQUtBSUFJUUJCNE9QQUFFRUFOZ0lBSUFCRkRRWWdCVUVRYWlJQklBQVJBUUJCNk9MQUFDQUJRZkFBRVBjQkdrSFk0OEFBUVFJMkFnQkJ6dVBBQUMwQUFFRUNSZzBKQzBHSTQ4QUFJQWdRV2lBTFJRMERJQXRCQVJEakFRd0RDeUFFS0FLUUFTSUFJQVFvQW9nQlJnUkFJQVJCaUFGcUVIRUxJQVFvQW93QklBQkJGR3hxSWdFZ0Jpa0NBRGNDQUNBQlFSQnFJQVpCRUdvb0FnQTJBZ0FnQVVFSWFpQUdRUWhxS1FJQU53SUFJQVFnQUVFQmFqWUNrQUVNQWdzZ0JpMEFFeUFGTHdFT0lBVXZBUXdoQUNBRUtBS1FBU0lCSUFRb0FvZ0JSZ1JBSUFSQmlBRnFFSEVMSUFRb0Fvd0JJQUZCRkd4cUlnSWdCaWtDQURjQ0FDQUNRUkJxSUFaQkVHb29BZ0EyQWdBZ0FrRUlhaUFHUVFocUtRSUFOd0lBSUFRZ0FVRUJhallDa0FGQnp1UEFBQzBBQUVFQ1JnUkFRZURqd0FBb0FnQWhBVUhnNDhBQVFRQTJBZ0FnQVVVTkJDQUZRUkJxSWdZZ0FSRUJBRUhvNHNBQUlBWkI4QUFROXdFYVFkamp3QUJCQWpZQ0FFSE80OEFBTFFBQVFRSkdEUWNMUWNEandBQkJ3T1BBQUNnQ0FDQUFhallDQUVIRzQ4QUFRY2Jqd0FBdkFRQWdBR283QVFBZ0JDMEFXQTBCSUFBUWd3RU1BUXNnQUNBQkVJNEJBQXNnQkNnQ2tBRWlBRVVOQUNBRUx3R1VBVUVCYWtILy93TnhJUUVnQkNnQ2pBRXZBUkFoQmtIWTQ4QUFLQUlBUVFKSEJFQVFvQUVMSUFFZ0JrY0VRQ0FBUWREandBQXZBUUFpQWtrZ0FDQUNhMEVGVFhJTkFRc2dCQ2dDa0FFaUFBUkFJQUVnQmtZaEFnTkFJQVFnQkNnQ2pBRWlBUzhCRURzQmxBRWdBU2dDQkNBQktBSUlJQVVnQVMwQUV5SUdPZ0FXSUFWQkFqb0FGQ0FGUVFFN0FCY2dCU0FCTFFBU09nQVZJQVVnQVNnQ0REWUNFQ0FGUVJCcUVEQWdBU2dDQkNFSElBRW9BZ0FoQ0NBQklBRkJGR29nQUVFQmF5SUFRUlJzRVBZQkdpQUVJQUEyQXBBQklBZ0VRQ0FISUFoQkFSRGpBUXNDUUNBQ1FRRnhSUVJBSUFRdEFCUU5BVUhZNHNBQUtBSUFRUUpIQkVBUW5BRUxJQVJCQVRvQUZDQUVRZERpd0FBb0FnQTJBZ0FNQVFzZ0JDMEFGRVVOQUNBRVFRQTZBQlJCMk9MQUFDZ0NBRUVDUndSQUVKd0JDMEhRNHNBQUtBSUFJQVFvQWdCcklnQkI5QU5OQkVBZ0FFSGtBRTBOQVNBRUlBUW9BZ1JCQVdvMkFnUWdCQ0FFS0FJTUlBQnFOZ0lNSUFRdEFCVU5BU0FHSUFCQkFCQlJEQUVMSUFRZ0JDZ0NDRUVCYWpZQ0NDQUVJQVFvQWhBZ0FHbzJBaEFnQmlBQUlBUXRBQlVRVVFzZ0JDZ0NrQUVpQUVVTkFpQUVMd0dVQVVFQmFrSC8vd054SVFFZ0JDZ0NqQUV2QVJBaEJrSFk0OEFBS0FJQVFRSkhCRUFRb0FFTElBRWdCa2NFUUNBQVFkRGp3QUF2QVFBaUFra2dBQ0FDYTBFR1NYSU5Bd3NnQVNBR1JpRUNJQVFvQXBBQklnQU5BQXNMUVFCQkFFSEFnOEFBRUpFQkFBc2dCVUdBQVdva0FBd0JDeUFGUVFBMkFpQWdCVUVCTmdJVUlBVkJ4SkxBQURZQ0VDQUZRZ1EzQWhnZ0JVRVFha0hBazhBQUVLUUJBQXRCdE9QQUFFRzA0OEFBS0FJQVFRRnFOZ0lBUWNUandBQkJ4T1BBQUM4QkFFRUJhanNCQUVHbzQ4QUFRYWpqd0FBcEF3QWdGSzE4TndNQVFiRGp3QUJCc09QQUFDZ0NBQ0FVYWpZQ0FFRzQ0OEFBUWJqandBQW9BZ0JCQVdvMkFnQkJ2T1BBQUVHODQ4QUFLQUlBUVFGcU5nSUFRY3pqd0FCQi93RkJ6T1BBQUMwQUFFRUJhaUlBSUFCQi93RlBHem9BQUNBRFFkQUNhaVFBREFJTElBTkJBRFlDdUFFZ0EwRUJOZ0tzQVNBRFFjU1N3QUEyQXFnQklBTkNCRGNDc0FFZ0EwR29BV3BCd0pQQUFCQ2tBUUFMUWRDVHdBQkJLRUg0azhBQUVLMEJBQXNMSUFwQlFHc2tBQXdEQzBFQVFRQkIvSlRBQUJDUkFRQUxRUUJCQUVId2o4QUFFSkVCQUF0QkNDQUJRZkNQd0FBUWtRRUFDd3dNQ3lBSlFRSTJBalFnQ1VIRW5zQUFOZ0l3SUFsQ0FUY0NQQ0FKSUFsQkQycXRRb0NBZ0lDZ0FZUTNBeEFnQ1NBSlFSQnFOZ0k0Q3lBSlFUQnFFSElnQlVVTkNpQUdJQVZCQVJEakFRd0tDMEdXNHNBQUxRQUFRUUpHQkVCQnFPTEFBQ2dDQUNFRVFhaml3QUJCQURZQ0FDQUVSUTBJSUFsQk1Hb2lBaUFFRVFFQVFiRGh3QUFnQWtId0FCRDNBUnBCb09MQUFFRUNOZ0lBUVpiaXdBQXRBQUJCQWtZTkNRc2dDU0FHTmdJNElBa2dBVFlDTkNBSklBVTJBakFnQ1VFd2FpRUVJd0JCRUdzaUR5UUFJQThnQUVFUGNTSUNPZ0FQQWtBQ1FFRzg0Y0FBS0FJQVJRMEFRY0Rod0FBZ0QwRVBhaEE4SVJwQnNPSEFBQ2dDQUNJQVFZZ0NheUVEUWJUaHdBQW9BZ0FpQmlBYXAzRWhBU0FhUWhtSVF2OEFnMEtCZ29TSWtLREFnQUYrSVJ4QkFDRUZBMEFnQUNBQmFpa0FBQ0liSUJ5RklocENmNFVnR2tLQmdvU0lrS0RBZ0FGOWcwS0FnWUtFaUpDZ3dJQi9neUlhVUVVRVFBTkFJQU5CQUNBYWVxZEJBM1lnQVdvZ0JuRnJJZ3BCaUFKc2FpMEFBQ0FDUmcwRUlCcENBWDBnR29NaUdsQkZEUUFMQ3lBYklCdENBWWFEUW9DQmdvU0lrS0RBZ0grRFVFVU5BU0FCSUFWQkNHb2lCV29nQm5FaEFRd0FDd0FMUVpTUHdBQVE1d0VBQ3lBQUlBcEJpQUpzYWtFWWF5RUxJd0JCOEFGcklnSWtBQUpBSUFRb0FnZ2lBRUVIU3dSQUlBSkJDRFlDRUNBQ1FRRTJBandnQWtIa2xjQUFOZ0k0SUFKQ0FUY0NSQ0FDSUFRb0FnUTJBZ3dnQWlBQ1FReHFJZ1d0SWhwQ2dJQ0FnS0FFaERjRHFBRWdBaUFDUWFnQmFqWUNRQ0FDSUFKQk9Hb1FTaU1BUVJCcklnTWtBQUpBQWtBQ1FDQUVLQUlJSWdvT0FnQUJBZ3RCQUVFQVFZQ1F3QUFRa1FFQUMwRUJRUUZCa0pEQUFCQ1JBUUFMQWtBQ1FBSkFBa0FnQ2tFSFR3UkFJQXBCQjBZTkFTQUVLQUlFSWdndEFBWWlBRUVFZGlFR1FRZ2hBU0FJTFFBSElBQkJDSFJ5SWdCQi8vOEFTdzBESUFndEFBQWhFeUFJTFFBQklRMGdBMEVBTmdJTUlBTkNBRGNDQkNBR1FkaVp3QUJxTFFBQUlSUWdBeUFBUWY4ZmNTSUhOZ0lBSUFkcElRd2dBRUdBSUU4RVFDQUdJUUFEUUFKQUFrQUNRQ0FCSUFRb0FnZ2lCMGtFUUNBQlFRRnFJZzRnQjA4TkFTQUJRUUpxSWhJZ0IwOE5BaUFCUVFOcUloQWdCMGtOQXlBUUlBZEIwSkRBQUJDUkFRQUxJQUVnQjBHZ2tNQUFFSkVCQUFzZ0RpQUhRYkNRd0FBUWtRRUFDeUFTSUFkQndKREFBQkNSQVFBTElBRWdBMnBCQkdzZ0JDZ0NCQ0lISUE1cUxRQUFRUkIwSUFFZ0Iyb3RBQUJCR0hSeUlBY2dFbW90QUFCQkNIUnlJQWNnRUdvdEFBQnlJZ2MyQWdBZ0FVRUVhaUVCSUFkcElBeHFJUXdnQUVFQmF5SUFEUUFMSUFaQkFuUkJDR29oQVFzZ0FTQUtUUVJBSUFndkFBUWhCaUFJTHdBQ0lRY2dDaUFCYXlFQVFRRWhEaUFCSUFwSEJFQkJBQ0VLSUFCQkFFZ05CRUg1NDhBQUxRQUFHa0VCSVFvZ0FFRUJFTmNCSWc1RkRRUUxJQTRnQVNBSWFpQUFFUGNCSVFFZ0JTQU5RUU54T2dBaUlBVWdFMEVJZENBTmNrSHcvd054UVFSMk93RWNJQVVnRkRvQUl5QUZJQVpCQ0hRZ0JrRUlkbkk3QVNBZ0JTQUhRUWgwSUFkQkNIWnlPd0VlSUFVZ0REb0FKQ0FGSUFBMkFnZ2dCU0FCTmdJRUlBVWdBRFlDQUNBRklBTXBBZ0EzQWd3Z0JVRVVhaUFEUVFocUtRSUFOd0lBSUFRb0FnQWlBQVJBSUFnZ0FFRUJFT01CQ3lBRFFSQnFKQUFNQlFzZ0FTQUtRWUNhd0FBUWtBRUFDMEVHSUFwQmdKREFBQkNSQVFBTFFRZEJCMEdRa01BQUVKRUJBQXNnQ2lBQUVNd0JBQXNnQmtFRVFmQ1p3QUFRa1FFQUN5QUNJQXNvQWdnaUFUWUNOQ0FDUVRCcUlRQUNRQUpBQWtBZ0FpMEFNQ0lFUVFKUEJFQWdBU0FFUVFGclFmOEJjVWtOQVNBTEtBSUVJQUZCSEd4cVFReHJMd0VBSUFJdkFTcEpEUUVnQWtFSU5nS3NBU0FDUWNpV3dBQTJBcWdCSUFKQ0NEY0N0QUVnQWlBQ3JVS0FnSUNBc0FTRU53TndJQUlnQWtFWWFxMUNnSUNBZ01BRWhEY0RhQ0FDSUFKQkxtcXRRb0NBZ0lDZ0FZUTNBMkFnQWlBQ1FTcHFyVUtBZ0lDQXdBQ0VOd05ZSUFJZ0FrRW9hcTFDZ0lDQWdNQUFoRGNEVUNBQ0lBSkJMR29pQWExQ2dJQ0FnTUFBaERjRFNDQUNJQUN0UW9DQWdJQ2dBWVEzQTBBZ0FpQUNRUzlxclVLQWdJQ0FvQUdFTndNNElBSWdBa0U0YWpZQ3NBRWdBa0dNQVdvZ0FrR29BV29RU2lBQ0tBS01BU0lBQkVBZ0FpZ0NrQUVnQUVFQkVPTUJDeUFDUVFFMkFqd2dBa0hrbGNBQU5nSTRJQUpDQVRjQ1JDQUNJQnBDZ0lDQWdEQ0VOd09vQVNBQ0lBSkJxQUZxTmdKQUlBSkJnQUZxSWdBZ0FrRTRhaUlLRUVvZ0FpQUFOZ0o4SUFKQjJBQnFJQUVwQWdBM0F3QWdBa0hRQUdvZ0FrRWthaWtDQURjREFDQUNRY2dBYWlBQ1FSeHFLUUlBTndNQUlBSkJRR3NnQWtFVWFpa0NBRGNEQUNBQ0lBSXBBZ3czQXpnZ0FrR01BV29oQ0VFQUlRWkJBQ0VCUVFBaEJVRUFJUUFqQUVHUUFXc2lBeVFBSUFNZ0NpMEFJellDQkNBRFFSQnFJQXBCRkdvcEFnQTNBd0FnQXlBS0tRSU1Od01JSUFNZ0NpOEJIanNCSGlBRFFRQTJBaWdnQTBLQWdJQ0F3QUEzQWlBZ0EwRUFOZ0lzSUFOQkFEWUNNQ0FESUFzb0FnZ2lERFlDTkNBRFFRQTJBamdnQTBFRE5nSk1JQU5Cc0pyQUFEWUNTQ0FEUWdJM0FsUWdBeUFEUVI1cXJVS0FnSUNBd0FDRU53T0FBU0FESUFOQkJHcXRRb0NBZ0lEUUFJUWlIRGNEZUNBRElBTkIrQUJxTmdKUUlBTkJ5QUJxRUhJQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBZ0F5Z0NCQVJBSUFOQnhnQnFyVUtBZ0lDQXdBQ0VJUjBnQTBGQWE2MUNnSUNBZ05BQWhDRWVJQU5CTkdxdFFvQ0FnSURRQUlRaEh5QURRVHhxclVLQWdJQ0EwQUNFSVJzZ0EwRXdhcTFDZ0lDQWdOQUFoQ0VhSUFOQnhRQnFyVUtBZ0lDQTRBQ0VJU0FnQ2kwQUpDRU5JQXNvQWdRaEVnTkFJQU1nQVRZQ1BDQURRUU0yQWt3Z0EwSFltc0FBTmdKSUlBTkNBamNDVkNBRElCczNBNEFCSUFNZ0dqY0RlQ0FESUFOQitBQnFOZ0pRSUFOQnlBQnFFSElnQXlBQlFRRnFJZ1EyQWl3Z0F5QURLQUk4SWd0QkZHb2lCallDUUNBR1FRVjJJUWNDUUFKQUlBWkJnQUZKQkVBZ0F5QURRUWhxSUFkQkFuUnFLQUlBSUFaQmYzTjJRUUZ4SWdZNkFFVWdCa1VFUUNBRUlnRWdBeWdDQkVrTkJBd0dDeUFESUFNdkFSNGdDMm83QVVZZ0EwRUhOZ0o4SUFOQnRKdkFBRFlDZUNBRFFnWTNBb1FCSUFNZ0hUY0RjQ0FESUNBM0EyZ2dBeUFlTndOZ0lBTWdHemNEV0NBRElCbzNBMUFnQXlBZk53TklJQU1nQTBISUFHb2lCRFlDZ0FFZ0EwSDRBR29pQmhCeUlBTkJBallDVENBRFFmaWJ3QUEyQWtnZ0EwSUJOd0pVSUFNZ0dqY0RlQ0FESUFZMkFsQWdCQkJ5QWtBZ0F5Z0NNQ0lFSUFNb0FqUWlCMDhOQUFKQUEwQWdCQ0FNVHcwRUlCSWdCRUVjYkdvaUVDOEJFQ0lISUFNdkFVWWlCa1lOQVNBSElBWnJRZi8vQTNGQnZQOEJUd1JBSUFNZ0JFRUJhallDTUNBRFFRSTJBa3dnQTBING04QUFOZ0pJSUFOQ0FUY0NWQ0FESUJvM0EzZ2dBeUFEUWZnQWFqWUNVQ0FEUWNnQWFoQnlJQU1vQWpBaUJDQURLQUkwSWdkSkRRRU1Bd3NMUVFFaEJDQUZRUUZ4RFFrTUJBc2dBeUFES0FJOE5nSTRJQU1nQkVFQmFqWUNNQ0FES0FJb0lnc2dBeWdDSUVZRVFDTUFRU0JySWdRa0FDQURRU0JxSWdjb0FnQWlCa0YvUmdSQVFRQkJBQkRNQVFBTFFRUWdCa0VCZENBR1FRRnFJQVpCQUVvYklnNGdEa0VFVFJzaUUwRUNkQ0VVSUFRZ0JnUi9JQVFnQmtFQ2REWUNIQ0FFSUFjb0FnUTJBaFJCQkFWQkFBczJBaGdnQkVFSWFpQU9RWUNBZ0lBQ1NVRUNkQ0FVSUFSQkZHb1FleUFFS0FJSUJFQWdCQ2dDRENBRUtBSVFFTXdCQUFzZ0JDZ0NEQ0VHSUFjZ0V6WUNBQ0FISUFZMkFnUWdCRUVnYWlRQUN5QURLQUlrSUF0QkFuUnFJQkEyQWdBZ0F5QUxRUUZxTmdJb0lBTW9BalFoQnlBREtBSXdJUVFMSUFRZ0IwOE5CU0FBSVFZZ0JTRUVEQUlMSUFkQkJFSEluY0FBRUpFQkFBc2dCQ0FNUVlpY3dBQVFrUUVBQ3lBTklBTW9BaWhORFFRZ0JDRUZJQVloQUNBQlFRRnFJZ0VnQXlnQ0JFa05BQXNNQWdzZ0NpMEFKRUVCUncwQ0lBTkJNR3F0UW9DQWdJRFFBSVFoR2d3RUN5QUFJUVlnQlNFRUN5QURLQUlvSWdGQkFXb2dEVVlOQVFzZ0NFR0FnSUNBZURZQ0FDQURLQUlnSWdBRVFDQURLQUlrSUFCQkFuUkJCQkRqQVFzZ0NpZ0NBQ0lBUlEwRElBb29BZ1FnQUVFQkVPTUJEQU1MSUFSQkFYRU5BUXNnQTBFRk5nSjhJQU5Cckp6QUFEWUNlQ0FEUWdRM0FvUUJJQU1nSERjRFlDQURJQU5CT0dxdFFvQ0FnSURRQUlRM0ExZ2dBeUFEUVN4cXJVS0FnSUNBMEFDRU53TlFJQU1nR2pjRFNDQURJQU5CeUFCcU5nS0FBU0FEUWZnQWFoQnlJQU1vQWpnaUFDQURLQUlFSWdFZ0FDQUJTeHNoQnlBQUlRRUNRQUpBQWtBRFFDQUhJQUVpQkVZTkFpQUVRUlZxSWdWQkJYWWhDeUFGUVlBQlR3MEJJQVZCRkdzaEFTQURRUWhxSUF0QkFuUnFLQUlBSUFWQmYzTjJRUUZ4UlEwQUN5QURJQVJCQVdvaUFEWUNPQ0FETHdFZUlBQnFJUVlNQWdzZ0EwR0FBU0FBUVJWcUlnQWdBRUdBQVUwYlFSUnJOZ0k0SUF0QkJFSEluY0FBRUpFQkFBc2dBeUFITmdJNEN5QURLQUlvSVFFTElBRkZEUUVnQXlnQ0pDSUxLQUlBSVFVZ0NpOEJJQ0VBSUFvdEFDSWhCeUFES0FJZ0lRd2dBMEhRQUdvZ0NrRUlhaWdDQURZQ0FDQURJQW9wQWdBM0EwZ2dBVUVDZENFS1FRQWhCQU5BSUFRZ0Myb29BZ0FpQVMwQUZpRU5JQUVvQWdnaERpQURRY2dBYWlBQkVEY2dBQ0FPY3lFQUlBY2dEWE1oQnlBS0lBUkJCR29pQkVjTkFBc2dEQVJBSUFzZ0RFRUNkRUVFRU9NQkN5QUFRZi8vQTNFaUFDQURLQUpRVFFSQUlBTWdBRFlDVUFzZ0NDQURLUU5JTndJQUlBaEJDR29nQTBIUUFHb29BZ0EyQWdBZ0JTZ0NEQ0VBSUFVdkFSSWhBU0FJSUFVdkFCYzdBQmNnQ0NBSE9nQVdJQWdnQjBFQmNUb0FGU0FJSUFkQkFYWkJBWEU2QUJRZ0NDQUJPd0VTSUFnZ0Jqc0JFQ0FJSUFBMkFnd0xJQU5Ca0FGcUpBQU1BUXRCQUVFQVFkU2N3QUFRa1FFQUN5QUNLQUtNQVVHQWdJQ0FlRWNFUUNBQ1FjQUJhaUFDUWFRQmFpZ0NBRFlDQUNBQ1FiZ0JhaUlBSUFKQm5BRnFLUUlBTndNQUlBSkJzQUZxSUFKQmxBRnFLUUlBSWhvM0F3QWdBaUFDS1FLTUFUY0RxQUVnQWtFRU5nTFlBU0FDUWFpWHdBQTJBdFFCSUFKQ0JEY0M0QUVnQWlBQ1Fld0JhcTFDZ0lDQWdOQUFoRGNEVUNBQ0lBSkJ0QUZxclVLQWdJQ0EwQUNFTndOSUlBSWdBa0crQVdxdFFvQ0FnSUNnQVlRM0EwQWdBaUFBclVLQWdJQ0F3QUNFTndNNElBSWdHajRDN0FFZ0FpQUNRVGhxTmdMY0FTQUNRY2dCYWlBQ1FkUUJhaEJLSUFJb0FzZ0JJZ0FFUUNBQ0tBTE1BU0FBUVFFUTR3RUxBa0FnQWlnQ3NBRkJqd05MRFFBZ0FrRUJOZ0k4SUFKQjJKZkFBRFlDT0NBQ1FnRTNBa1FnQWlBQ1Fmd0FhcTFDZ0lDQWdOQUVoRGNEeUFFZ0FpQUNRY2dCYWpZQ1FDQUNRZFFCYWlBQ1FUaHFFRW9nQWlnQzFBRWlBRVVOQUNBQ0tBTFlBU0FBUVFFUTR3RUxJQUpCMEFCcUlBSkJ3QUZxS0FJQU5nSUFJQUpCeUFCcUlBSkJ1QUZxS1FNQU53TUFJQUpCUUdzZ0FrR3dBV29wQXdBM0F3QWdBaUFDS1FPb0FUY0RPQ0FDUVRocUVHRUxJQUlvQW9BQklnQUVRQ0FDS0FLRUFTQUFRUUVRNHdFTElBSW9BZ0FpQUVVTkF5QUNLQUlFSUFCQkFSRGpBUXdEQ3lBQ1FRSTJBandnQWtIRW1NQUFOZ0k0SUFKQ0FqY0NSQ0FDSUFDdFFvQ0FnSUNnQVlRM0E3QUJJQUlnQWtFMGFxMUNnSUNBZ05BQWhEY0RxQUVnQWlBQ1FhZ0JhallDUUNBQ1FZd0JhaUFDUVRocUVFb2dBaWdDakFFaUFFVU5BU0FDS0FLUUFTQUFRUUVRNHdFTUFRc2dBa0VETmdLc0FTQUNRWVNZd0FBMkFxZ0JJQUpDQXpjQ3RBRWdBaUFDUVRScXJVS0FnSUNBMEFDRU53TklJQUlnQWtFcWFxMUNnSUNBZ01BQWhEY0RRQ0FDSUFDdFFvQ0FnSUNnQVlRM0F6Z2dBaUFDUVRocU5nS3dBU0FDUVl3QmFpQUNRYWdCYWhCS0lBSW9Bb3dCSWdCRkRRQWdBaWdDa0FFZ0FFRUJFT01CQ3lBQ0tBSU1JZ0FFUUNBQ0tBSVFJQUJCQVJEakFRc2dBaWdDQUNJQVJRMEFJQUlvQWdRZ0FFRUJFT01CQ3lBQ1FmQUJhaVFBREFFTFFRZ2dBRUhVbGNBQUVKSUJBQXNnRDBFUWFpUUFEQWtMUVp5VndBQVFqd0VBQ3lBQUlBUkJnSkRBQUJDUkFRQUxJQUVnQkVHUWtNQUFFSkVCQUFzZ0FpQUFRZWlkd0FBUWt3RUFDeUFBSUFSQjZKM0FBQkNTQVFBTFFRRWdBUkRNQVFBTFFmU0N3QUFRandFQUN5QUpRUUEyQWtBZ0NVRUJOZ0kwSUFsQnhKTEFBRFlDTUNBSlFnUTNBamdnQ1VFd2FrSEFrOEFBRUtRQkFBdEIwSlBBQUVFb1FmaVR3QUFRclFFQUN5QUpRYUFCYWlRQUM1VUxBUVYvSXdCQkVHc2lBeVFBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUNBQkRpZ0dBUUVCQVFFQkFRRUNCQUVCQXdFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkNBRUJBUUVIQUFzZ0FVSGNBRVlOQkFzZ0FrRUJjVVVnQVVHQUJrbHlEUWNDZnlBQlFRdDBJUUpCSVNFRlFTRWhCZ0pBQTBBZ0FpQUZRUUYySUFScUlnVkJBblJCbU5yQUFHb29BZ0JCQzNRaUIwY0VRQ0FGSUFZZ0FpQUhTUnNpQmlBRlFRRnFJQVFnQWlBSFN4c2lCR3NoQlNBRUlBWkpEUUVNQWdzTElBVkJBV29oQkFzQ1FDQUVRU0JOQkVBZ0JFRUNkQ0lGUVpqYXdBQnFJZ2NvQWdCQkZYWWhBa0hYQlNFR0FuOENRQ0FFUVNCR0RRQWdCMEVFYWlnQ0FFRVZkaUVHSUFRTkFFRUFEQUVMSUFWQmxOckFBR29vQWdCQi8vLy9BSEVMSVFRQ1FDQUdJQUpCZjNOcVJRMEFJQUVnQkdzaEIwSFhCU0FDSUFKQjF3Vk5HeUVGSUFaQkFXc2hCa0VBSVFRRFFDQUNJQVZHRFFNZ0JDQUNRWnpid0FCcUxRQUFhaUlFSUFkTERRRWdCaUFDUVFGcUlnSkhEUUFMSUFZaEFnc2dBa0VCY1F3Q0N5QUVRU0ZCL05qQUFCQ1JBUUFMSUFWQjF3VkJqTm5BQUJDUkFRQUxSUTBISUFOQkNHcEJBRG9BQUNBRFFRQTdBUVlnQTBIOUFEb0FEeUFESUFGQkQzRkI2OFBBQUdvdEFBQTZBQTRnQXlBQlFRUjJRUTl4UWV2RHdBQnFMUUFBT2dBTklBTWdBVUVJZGtFUGNVSHJ3OEFBYWkwQUFEb0FEQ0FESUFGQkRIWkJEM0ZCNjhQQUFHb3RBQUE2QUFzZ0F5QUJRUkIyUVE5eFFldkR3QUJxTFFBQU9nQUtJQU1nQVVFVWRrRVBjVUhydzhBQWFpMEFBRG9BQ1NBQlFRRnlaMEVDZGlJQ1FRSnJJZ0ZCQ2s4TkNDQURRUVpxSUFGcVFkd0FPZ0FBSUFJZ0EycEJCV3BCOWZZQk93QUFJQUFnQXlrQkJqY0FBQ0FBUVFocUlBTkJEbW92QVFBN0FBQWdBRUVLT2dBTElBQWdBVG9BQ2d3TEN5QUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkem9BVHNCQUF3S0N5QUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkemtBVHNCQUF3SkN5QUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkemNBVHNCQUF3SUN5QUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkeTRBVHNCQUF3SEN5QUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkemdBRHNCQUF3R0N5QUNRWUFDY1VVTkFTQUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkek9BRHNCQUF3RkN5QUNRWUNBQkhFTkF3c0Nmd0pBSUFGQklFa05BQUpBQW45QkFTQUJRZjhBU1EwQUdpQUJRWUNBQkVrTkFRSkFJQUZCZ0lBSVR3UkFJQUZCc01jTWEwSFF1aXRKSUFGQnk2WU1hMEVGU1hJZ0FVR2U5QXRyUWVJTFNTQUJRZDdjQzJ0Qm9oTkpjbklnQVVIaDF3dHJRUTlKSUFGQm9wMExhMEVPU1hJZ0FVRitjVUdlOEFwR2NuSU5CQ0FCUVdCeFFlRE5Da2NOQVF3RUN5QUJRZGpOd0FCQkxFR3d6c0FBUWNRQlFmVFB3QUJCd2dNUVVBd0VDMEVBSUFGQnV1NEthMEVHU1EwQUdpQUJRWUNBeEFCclFmQ0RkRWtMREFJTElBRkJ0dFBBQUVFb1FZYlV3QUJCb0FKQnB0YkFBRUd0QWhCUURBRUxRUUFMQkVBZ0FDQUJOZ0lFSUFCQmdBRTZBQUFNQkFzZ0EwRUlha0VBT2dBQUlBTkJBRHNCQmlBRFFmMEFPZ0FQSUFNZ0FVRVBjVUhydzhBQWFpMEFBRG9BRGlBRElBRkJCSFpCRDNGQjY4UEFBR290QUFBNkFBMGdBeUFCUVFoMlFROXhRZXZEd0FCcUxRQUFPZ0FNSUFNZ0FVRU1ka0VQY1VIcnc4QUFhaTBBQURvQUN5QURJQUZCRUhaQkQzRkI2OFBBQUdvdEFBQTZBQW9nQXlBQlFSUjJRUTl4UWV2RHdBQnFMUUFBT2dBSklBRkJBWEpuUVFKMklnSkJBbXNpQVVFS1R3MEJJQU5CQm1vZ0FXcEIzQUE2QUFBZ0FpQURha0VGYWtIMTlnRTdBQUFnQUNBREtRRUdOd0FBSUFCQkNHb2dBMEVPYWk4QkFEc0FBQ0FBUVFvNkFBc2dBQ0FCT2dBS0RBTUxJQUZCQ2tHNDJjQUFFSkVCQUFzZ0FVRUtRYmpad0FBUWtRRUFDeUFBUVlBRU93RUtJQUJDQURjQkFpQUFRZHpFQURzQkFBc2dBMEVRYWlRQUM2NEZBUVovQWtBZ0FDZ0NBQ0lJSUFBb0FnZ2lBM0lFUUFKQUlBTkZEUUFnQVNBQ2FpRUhBa0FnQUNnQ0RDSUdSUVJBSUFFaEJBd0JDeUFCSVFRRFFDQUVJZ01nQjBZTkFnSi9JQU5CQVdvZ0F5d0FBQ0lFUVFCT0RRQWFJQU5CQW1vZ0JFRmdTUTBBR2lBRFFRTnFJQVJCY0VrTkFCb2dBMEVFYWdzaUJDQURheUFGYWlFRklBWkJBV3NpQmcwQUN3c2dCQ0FIUmcwQUlBUXNBQUFhQWtBQ1FDQUZSUTBBSUFJZ0JVc0VRRUVBSVFNZ0FTQUZhaXdBQUVHL2Ywb05BUXdDQzBFQUlRTWdBaUFGUncwQkN5QUJJUU1MSUFVZ0FpQURHeUVDSUFNZ0FTQURHeUVCQ3lBSVJRMEJJQUFvQWdRaEJ3SkFJQUpCRUU4RVFDQUJJQUlRSmlFRERBRUxJQUpGQkVCQkFDRUREQUVMSUFKQkEzRWhCZ0pBSUFKQkJFa0VRRUVBSVFOQkFDRUZEQUVMSUFKQkRIRWhDRUVBSVFOQkFDRUZBMEFnQXlBQklBVnFJZ1FzQUFCQnYzOUthaUFFUVFGcUxBQUFRYjkvU21vZ0JFRUNhaXdBQUVHL2YwcHFJQVJCQTJvc0FBQkJ2MzlLYWlFRElBZ2dCVUVFYWlJRlJ3MEFDd3NnQmtVTkFDQUJJQVZxSVFRRFFDQURJQVFzQUFCQnYzOUthaUVESUFSQkFXb2hCQ0FHUVFGcklnWU5BQXNMQWtBZ0F5QUhTUVJBSUFjZ0Eyc2hCRUVBSVFNQ1FBSkFBa0FnQUMwQUlFRUJhdzRDQUFFQ0N5QUVJUU5CQUNFRURBRUxJQVJCQVhZaEF5QUVRUUZxUVFGMklRUUxJQU5CQVdvaEF5QUFLQUlRSVFZZ0FDZ0NHQ0VGSUFBb0FoUWhBQU5BSUFOQkFXc2lBMFVOQWlBQUlBWWdCU2dDRUJFQUFFVU5BQXRCQVE4TERBSUxRUUVoQXlBQUlBRWdBaUFGS0FJTUVRSUFCSDhnQXdWQkFDRURBbjhEUUNBRUlBTWdCRVlOQVJvZ0EwRUJhaUVESUFBZ0JpQUZLQUlRRVFBQVJRMEFDeUFEUVFGckN5QUVTUXNQQ3lBQUtBSVVJQUVnQWlBQUtBSVlLQUlNRVFJQUR3c2dBQ2dDRkNBQklBSWdBQ2dDR0NnQ0RCRUNBQXZjQlFFSGZ3Si9JQUZGQkVBZ0FDZ0NIQ0VJUVMwaENpQUZRUUZxREFFTFFTdEJnSURFQUNBQUtBSWNJZ2hCQVhFaUFSc2hDaUFCSUFWcUN5RUdBa0FnQ0VFRWNVVUVRRUVBSVFJTUFRc0NRQ0FEUVJCUEJFQWdBaUFERUNZaEFRd0JDeUFEUlFSQVFRQWhBUXdCQ3lBRFFRTnhJUWtDUUNBRFFRUkpCRUJCQUNFQkRBRUxJQU5CREhFaERFRUFJUUVEUUNBQklBSWdCMm9pQ3l3QUFFRy9mMHBxSUF0QkFXb3NBQUJCdjM5S2FpQUxRUUpxTEFBQVFiOS9TbW9nQzBFRGFpd0FBRUcvZjBwcUlRRWdEQ0FIUVFScUlnZEhEUUFMQ3lBSlJRMEFJQUlnQjJvaEJ3TkFJQUVnQnl3QUFFRy9mMHBxSVFFZ0IwRUJhaUVISUFsQkFXc2lDUTBBQ3dzZ0FTQUdhaUVHQ3dKQUFrQWdBQ2dDQUVVRVFFRUJJUUVnQUNnQ0ZDSUdJQUFvQWhnaUFDQUtJQUlnQXhDdUFRMEJEQUlMSUFZZ0FDZ0NCQ0lIVHdSQVFRRWhBU0FBS0FJVUlnWWdBQ2dDR0NJQUlBb2dBaUFERUs0QkRRRU1BZ3NnQ0VFSWNRUkFJQUFvQWhBaEN5QUFRVEEyQWhBZ0FDMEFJQ0VNUVFFaEFTQUFRUUU2QUNBZ0FDZ0NGQ0lJSUFBb0FoZ2lDU0FLSUFJZ0F4Q3VBUTBCSUFjZ0JtdEJBV29oQVFKQUEwQWdBVUVCYXlJQlJRMEJJQWhCTUNBSktBSVFFUUFBUlEwQUMwRUJEd3RCQVNFQklBZ2dCQ0FGSUFrb0Fnd1JBZ0FOQVNBQUlBdzZBQ0FnQUNBTE5nSVFRUUFoQVF3QkN5QUhJQVpySVFZQ1FBSkFBa0FnQUMwQUlDSUJRUUZyRGdNQUFRQUNDeUFHSVFGQkFDRUdEQUVMSUFaQkFYWWhBU0FHUVFGcVFRRjJJUVlMSUFGQkFXb2hBU0FBS0FJUUlRZ2dBQ2dDR0NFSElBQW9BaFFoQUFKQUEwQWdBVUVCYXlJQlJRMEJJQUFnQ0NBSEtBSVFFUUFBUlEwQUMwRUJEd3RCQVNFQklBQWdCeUFLSUFJZ0F4Q3VBUTBBSUFBZ0JDQUZJQWNvQWd3UkFnQU5BRUVBSVFFRFFDQUJJQVpHQkVCQkFBOExJQUZCQVdvaEFTQUFJQWdnQnlnQ0VCRUFBRVVOQUFzZ0FVRUJheUFHU1E4TElBRVBDeUFHSUFRZ0JTQUFLQUlNRVFJQUM4Y0ZBZ1IvQVg0Z0FTQUJMUUJFSWdZNkFFVWdBU0FCS0FJb1FRZDJRZmovQTNFaUJUc0JRQ0FCTHdFK0lnTWdBUzhCUEdwQi8vOERjU0lFQkVBZ0FVRUFPZ0JFSUFGQkFEWUNLQ0FCUVFBMkFqd2dBU0FEUVpET0FHd2dCRzRpQkRzQlFpQUJLQUlNQkVBZ0FTZ0NCQ0lEQkVBZ0FTZ0NBRUgvQVNBRFFRbHFFUFVCR2dzZ0FVRUFOZ0lNSUFFZ0F5QURRUUZxUVFOMlFRZHNJQU5CQ0VrYk5nSUlDeUFBSUFZNkFCa2dBQ0FCTFFCR09nQUFJQUFnQlVFSWRDQUZRUWgyY2pzQUZTQUFJQVJCQ0hRZ0JFR0EvZ054UVFoMmNqc0FGeUFBSUFJb0Fnd2lBMEVZZENBRFFZRCtBM0ZCQ0hSeUlBTkJDSFpCZ1A0RGNTQURRUmgyY25JMkFDb2dBQ0FDS0FJSUlnTkJHSFFnQTBHQS9nTnhRUWgwY2lBRFFRaDJRWUQrQTNFZ0EwRVlkbkp5TmdBbUlBQWdBaWdDQkNJRFFSaDBJQU5CZ1A0RGNVRUlkSElnQTBFSWRrR0EvZ054SUFOQkdIWnljallBSWlBQUlBSW9BZ0FpQWtFWWRDQUNRWUQrQTNGQkNIUnlJQUpCQ0haQmdQNERjU0FDUVJoMmNuSTJBQjRnQUNBQktBSTBJZ0pCR0hRZ0FrR0EvZ054UVFoMGNpQUNRUWgyUVlEK0EzRWdBa0VZZG5KeU5nQWFJQUFnQVNnQ09DSUNRUmgwSUFKQmdQNERjVUVJZEhJZ0FrRUlka0dBL2dOeElBSkJHSFp5Y2pZQUVTQUFJQUVvQWpBaUFrRVlkQ0FDUVlEK0EzRkJDSFJ5SUFKQkNIWkJnUDREY1NBQ1FSaDJjbkkyQUEwZ0FDQUJLQUlzSWdKQkdIUWdBa0dBL2dOeFFRaDBjaUFDUVFoMlFZRCtBM0VnQWtFWWRuSnlOZ0FKSUFBZ0FTa0RJQ0lIUWppR0lBZENnUDREZzBJb2hvUWdCMEtBZ1B3SGcwSVloaUFIUW9DQWdQZ1BnMElJaG9TRUlBZENDSWhDZ0lDQStBK0RJQWRDR0loQ2dJRDhCNE9FSUFkQ0tJaENnUDREZ3lBSFFqaUloSVNFTndBQkR3c2pBRUVnYXlJQUpBQWdBRUVBTmdJWUlBQkJBVFlDRENBQVFaRGF3QUEyQWdnZ0FFSUVOd0lRSUFCQkNHcEI0STdBQUJDa0FRQUwvUVVCQlg4Z0FFRUlheUlCSUFCQkJHc29BZ0FpQTBGNGNTSUFhaUVDQWtBQ1FDQURRUUZ4RFFBZ0EwRUNjVVVOQVNBQktBSUFJZ01nQUdvaEFDQUJJQU5ySWdGQnFPakFBQ2dDQUVZRVFDQUNLQUlFUVFOeFFRTkhEUUZCb09qQUFDQUFOZ0lBSUFJZ0FpZ0NCRUYrY1RZQ0JDQUJJQUJCQVhJMkFnUWdBaUFBTmdJQUR3c2dBU0FERUZJTEFrQUNRQUpBQWtBQ1FDQUNLQUlFSWdOQkFuRkZCRUFnQWtHczZNQUFLQUlBUmcwQ0lBSkJxT2pBQUNnQ0FFWU5BeUFDSUFOQmVIRWlBaEJTSUFFZ0FDQUNhaUlBUVFGeU5nSUVJQUFnQVdvZ0FEWUNBQ0FCUWFqb3dBQW9BZ0JIRFFGQm9PakFBQ0FBTmdJQUR3c2dBaUFEUVg1eE5nSUVJQUVnQUVFQmNqWUNCQ0FBSUFGcUlBQTJBZ0FMSUFCQmdBSkpEUUlnQVNBQUVGaEJBQ0VCUWNEb3dBQkJ3T2pBQUNnQ0FFRUJheUlBTmdJQUlBQU5CRUdJNXNBQUtBSUFJZ0FFUUFOQUlBRkJBV29oQVNBQUtBSUlJZ0FOQUFzTFFjRG93QUJCL3g4Z0FTQUJRZjhmVFJzMkFnQVBDMEdzNk1BQUlBRTJBZ0JCcE9qQUFFR2s2TUFBS0FJQUlBQnFJZ0EyQWdBZ0FTQUFRUUZ5TmdJRVFham93QUFvQWdBZ0FVWUVRRUdnNk1BQVFRQTJBZ0JCcU9qQUFFRUFOZ0lBQ3lBQVFiam93QUFvQWdBaUEwME5BMEdzNk1BQUtBSUFJZ0pGRFFOQkFDRUFRYVRvd0FBb0FnQWlCRUVwU1EwQ1FZRG13QUFoQVFOQUlBSWdBU2dDQUNJRlR3UkFJQUlnQlNBQktBSUVha2tOQkFzZ0FTZ0NDQ0VCREFBTEFBdEJxT2pBQUNBQk5nSUFRYURvd0FCQm9PakFBQ2dDQUNBQWFpSUFOZ0lBSUFFZ0FFRUJjallDQkNBQUlBRnFJQUEyQWdBUEN5QUFRWGh4UVpEbXdBQnFJUUlDZjBHWTZNQUFLQUlBSWdOQkFTQUFRUU4yZENJQWNVVUVRRUdZNk1BQUlBQWdBM0kyQWdBZ0Fnd0JDeUFDS0FJSUN5RUFJQUlnQVRZQ0NDQUFJQUUyQWd3Z0FTQUNOZ0lNSUFFZ0FEWUNDQThMUVlqbXdBQW9BZ0FpQVFSQUEwQWdBRUVCYWlFQUlBRW9BZ2dpQVEwQUN3dEJ3T2pBQUVIL0h5QUFJQUJCL3g5Tkd6WUNBQ0FESUFSUERRQkJ1T2pBQUVGL05nSUFDd3ZUQkFJR2ZnUi9JQUFnQUNnQ09DQUNhallDT0FKQUlBQW9BandpQzBVRVFBd0JDMEVFSVFrQ2ZrRUlJQXRySWdvZ0FpQUNJQXBMR3lJTVFRUkpCRUJCQUNFSlFnQU1BUXNnQVRVQUFBc2hBeUFNSUFsQkFYSkxCRUFnQVNBSmFqTUFBQ0FKUVFOMHJZWWdBNFFoQXlBSlFRSnlJUWtMSUFBZ0FDa0RNQ0FKSUF4SkJINGdBU0FKYWpFQUFDQUpRUU4wcllZZ0E0UUZJQU1MSUF0QkEzUkJPSEd0aG9RaUF6Y0RNQ0FDSUFwUEJFQWdBQ0FBS1FNWUlBT0ZJZ1FnQUNrRENId2lCaUFBS1FNUUlnVkNEWWtnQlNBQUtRTUFmQ0lGaFNJSGZDSUlJQWRDRVltRk53TVFJQUFnQ0VJZ2lUY0RDQ0FBSUFZZ0JFSVFpWVVpQkVJVmlTQUVJQVZDSUlsOElnU0ZOd01ZSUFBZ0F5QUVoVGNEQUF3QkN5QUFJQUlnQzJvMkFqd1BDeUFDSUFwcklnSkJCM0VoQ1NBQ1FYaHhJZ0lnQ2tzRVFDQUFLUU1JSVFRZ0FDa0RFQ0VESUFBcEF4Z2hCaUFBS1FNQUlRVURRQ0FFSUFFZ0Ntb3BBQUFpQnlBR2hTSUVmQ0lHSUFNZ0JYd2lCU0FEUWcySmhTSURmQ0lJSUFOQ0VZbUZJUU1nQmlBRVFoQ0poU0lFUWhXSklBUWdCVUlnaVh3aUJZVWhCaUFJUWlDSklRUWdCU0FIaFNFRklBcEJDR29pQ2lBQ1NRMEFDeUFBSUFNM0F4QWdBQ0FHTndNWUlBQWdCRGNEQ0NBQUlBVTNBd0FMUVFRaEFnSitJQWxCQkVrRVFFRUFJUUpDQUF3QkN5QUJJQXBxTlFBQUN5RURJQWtnQWtFQmNrc0VRQ0FCSUFKcUlBcHFNd0FBSUFKQkEzU3RoaUFEaENFRElBSkJBbkloQWdzZ0FDQUNJQWxKQkg0Z0FTQUNJQXBxYWpFQUFDQUNRUU4wcllZZ0E0UUZJQU1MTndNd0lBQWdDVFlDUEF2ekJ3RUVmeU1BUWZBQWF5SURKQUFnQXlBQk5nSVFJQUZCZ0lEQUFrMEVRQUpBUVpUaHdBQW9BZ0FpQkVVRVFFR1k0Y0FBS0FJQUlRUkJtT0hBQUVFQU5nSUFJQVJGRFFGQmtPSEFBQ0FFRVFZQUlnU3RRaUNHUWdLRU53TUFDeUFFSUFBZ0FSRDNBUnBCbk9IQUFDZ0NBRUVDUndSQUl3QkJJR3NpQUNRQUlBQkJuT0hBQURZQ0NDQUFRYURod0FBMkFnd2dBQ0FBUVI5cU5nSVlJQUFnQUVFTWFqWUNGQ0FBSUFCQkNHbzJBaEJCbk9IQUFDQUFRUkJxUWJTUndBQVFOU0FBUVNCcUpBQUxJQU5CZ1FFMkFoUWdBeUFCdUJBRE5nSVlJQU5Cckl6QUFEWUNLQ0FEUWdZM0FqUWdBeUFDUVFocXJVS0FnSUNBb0FHRU53Tm9JQU1nQXExQ2dJQ0FnTkFBaERjRFlDQURJQUpCQjJxdFFvQ0FnSUNnQVlRM0ExZ2dBeUFDUVFWcXJVS0FnSUNBb0FHRU53TklJQU1nQWtFRWFxMUNnSUNBZ0tBQmhEY0RRQ0FEUVFZMkFpd2dBeUFDUVFacXJVS0FnSUNBb0FHRU53TlFJQU1nQTBGQWF6WUNNQ0FEUVJ4cUlBTkJLR29pQUJCS0lBTWdBeWdDSUNJQklBTW9BaVFRQkNJQ05nSW9RYVRod0FBb0FnQWdBMEVVYWlnQ0FDQURRUmhxS0FJQUlBQW9BZ0FRR1NFQVFZemt3QUFvQWdBaEJFR0k1TUFBS0FJQUlRVkJpT1RBQUVJQU53SUFJQU5CQ0dvaUJpQUVJQUFnQlVFQlJpSUFHellDQkNBR0lBQTJBZ0FnQXlnQ0RDRUFJQU1vQWdoRkJFQWdBRUdFQVU4RVFDQUFFQUlnQXlnQ0tDRUNDeUFDUVlRQlR3UkFJQUlRQWdzZ0F5Z0NIQ0lBQkVBZ0FTQUFRUUVRNHdFTElBTW9BaGdpQUVHRUFVOEVRQ0FBRUFJTElBTW9BaFFpQUVHRUFVOEVRQ0FBRUFJTElBTkI4QUJxSkFBUEN5QURJQUEyQWtCQjdJekFBRUVtSUFOQlFHdEIzSXpBQUVHVWpjQUFFSVVCQUFzZ0EwRUFOZ0pRSUFOQkFUWUNSQ0FEUWNTU3dBQTJBa0FnQTBJRU53SklJQU5CUUd0QndKUEFBQkNrQVFBTElBTkJBallDUkNBRFFiQ053QUEyQWtBZ0EwSUNOd0pNSUFNZ0FxMUNnSUNBZ0xBQmhEY0RNQ0FESUFOQkVHcXRRb0NBZ0lEUUFJUTNBeWdnQXlBRFFTaHFOZ0pJSUFOQkhHb2hBU0FEUVVCcklnWWlBQ2dDRENFQ0FrQUNRQUpBQWtBQ1FBSkFBa0FnQUNnQ0JBNENBQUVDQ3lBQ0RRRkJBU0VGUVFBaEFFRUJJUUlNQXdzZ0FrVU5BUXNnQVNBQUVFb01Bd3NnQUNnQ0FDSUFLQUlBSVFVZ0FDZ0NCQ0lBUlFSQVFRRWhBa0VBSVFBTUFRc2dBRUVBU0EwQlFmbmp3QUF0QUFBYVFRRWhCQ0FBUVFFUTF3RWlBa1VOQVFzZ0FpQUZJQUFROXdFaEFpQUJJQUEyQWdnZ0FTQUNOZ0lFSUFFZ0FEWUNBQXdCQ3lBRUlBQVF6QUVBQ3lBREtBSWdJUUFnQXlnQ0hDSUJCRUFnQUNBQlFRRVE0d0VMSUFOQkFEWUNVQ0FEUVFFMkFrUWdBMEhjamNBQU5nSkFJQU5DQkRjQ1NDQUdRZVNOd0FBUXBBRUFDK2dFQVFWL0l3QkIwQUJySWdFa0FBSkFBa0FnQUNnQ1RDSURCRUFnQVVFUWFpQUFLQUpJSWdKQkNHb3BBZ0EzQXdBZ0FVRVlhaUFDUVJCcUtRSUFOd01BSUFGQklHb2dBa0VZYWlnQ0FEWUNBQ0FCSUFJcEFnQTNBd2dnQWlBQ1FSeHFJQU5CQVdzaUFrRWNiQkQyQVJvZ0FDQUNOZ0pNSUFFdEFCOGhBeUFBTFFBOFJRMENJQUJCQURvQVBFSFk0c0FBS0FJQVFRSkhCRUFRbkFFTFFkRGl3QUFvQWdBZ0FDZ0NLR3NpQWtIMEEwc05BU0FDUWVRQVRRMENJQUFnQUNnQ0xFRUJhallDTENBQUlBQW9BalFnQW1vMkFqUWdBQzBBUFEwQ0lBTWdBa0VBRUZFTUFndEIvSXJBQUJDUEFRQUxJQUFnQUNnQ01FRUJhallDTUNBQUlBQW9BamdnQW1vMkFqZ2dBeUFDSUFBdEFEMFFVUXNnQUNBQkx3RWFPd0ZRSUFBZ0FDZ0NRQ0lDUVFGcklnUkJBQ0FDSUFSUEd6WUNRQ0FBTFFCU0lRSUNRQUovQWtBQ1FDQUJMUUFkQkVBZ0FnMEJJQUZCQVRZQ05DQUJRYUNMd0FBMkFqQWdBVUlCTndJOElBRWdBVUVVYXExQ2dJQ0FnTkFBaERjRFNDQUJJQUZCeUFCcU5nSTRJQUZCSkdvZ0FVRXdhaEJLSUFFb0FpUWlBZ1JBSUFFb0FpZ2dBa0VCRU9NQkN5QUFFSG9nQVNnQ0NDSUFSUTBFSUFFb0Fnd2dBRUVCRU9NQkRBUUxJQUpGRFFFZ0FTZ0NFQ0VFUVFFaEJTQUJLQUlNREFJTElBRW9BaEFoQkNBQktBSU1EQUVMUVFFaEJTQUFRUUU2QUZJZ0FTZ0NFQ0VFSUFFb0Fnd0xJUUlnQVNBRk9nQTNJQUVnQXpvQU5pQUJJQUV0QUI0NkFEVWdBVUVDT2dBMElBRWdBUzBBSURvQU9DQUJJQUVvQWhRMkFqQWdBaUFFSUFGQk1Hb1FNQ0FBRUhvZ0FTZ0NDQ0lBUlEwQUlBSWdBRUVCRU9NQkN5QUJRZEFBYWlRQUM0WU5BZ2wvQVg0akFFR0FBV3NpQkNRQVFaRGh3QUFvQWdCQkFrY0VRQkNkQVFzQ1FBSkFBa0FDUUFKQUFrQWdBRUdCZ01BQ1NRUkFRWlRod0FBb0FnQWhBd0pBSUFCRkJFQkJBU0VGREFFTFFmbmp3QUF0QUFBYUlBQkJBUkRYQVNJRlJRMENDeUFGSUFNZ0FCRDNBU0VKQWtBQ1FBSkFJQUZCL3dGeERnSUNBQUVMUVpiaXdBQXRBQUJCQWtZRVFFR280c0FBS0FJQUlRRkJxT0xBQUVFQU5nSUFJQUZGRFFrZ0JDQUJFUUVBUWJEaHdBQWdCRUh3QUJEM0FScEJvT0xBQUVFQ05nSUFRWmJpd0FBdEFBQkJBa1lOQlF0QnZPSEFBQ2dDQUNJSUJFQkJzT0hBQUNnQ0FDSURRUWhxSVFVZ0F5a0RBRUovaFVLQWdZS0VpSkNnd0lCL2d5RUxBMEFnQzFBRVFDQUZJUUVEUUNBRFFjQVFheUVESUFFcEF3QWdBVUVJYWlJRklRRkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaUMxQU5BQXNMSUFNZ0MzcW5RUU4yUWZoOWJHb2lCMEdJQW1zaUFrSFVBR29pQVNnQ0FDRUdJQUZCQURZQ0FDQUdCRUFnQWtIUUFHb29BZ0FoQVFOQUlBRW9BZ0FpQ2dSQUlBRkJCR29vQWdBZ0NrRUJFT01CQ3lBQlFSeHFJUUVnQmtFQmF5SUdEUUFMQ3lBQ1Fkb0Fha0VBT2dBQUlBSkJ5QUJxUVFBMkFnQWdBa0VVYWlJR0tBSUFCRUFnQjBIOEFXc29BZ0FpQVFSQUlBZEJnQUpyS0FJQVFmOEJJQUZCQ1dvUTlRRWFDeUFHUVFBMkFnQWdCMEg0QVdzZ0FTQUJRUUZxUVFOMlFRZHNJQUZCQ0VrYk5nSUFDeUFMUWdGOUlBdURJUXNnQWtIWUFHcEIvLzhET3dFQUlBSkJ4QUJxUVFBNkFBQWdCMEdvQVdzaUFTZ0NtQUVoQmlBQlFRQTJBcGdCSUFZRVFDQUJLQUtVQVNFQ0EwQWdBaWdDQUNJSEJFQWdBa0VFYWlnQ0FDQUhRUUVRNHdFTElBSkJIR29oQWlBR1FRRnJJZ1lOQUFzTElBRW9BbFFFUUNBQktBSk1JZ0lFUUNBQktBSklRZjhCSUFKQkNXb1E5UUVhQ3lBQlFRQTJBbFFnQVNBQ0lBSkJBV3BCQTNaQkIyd2dBa0VJU1JzMkFsQUxJQUZCLy84RE93Rm9JQUVvQW53RVFDQUJLQUowSWdJRVFDQUJLQUp3UWY4QklBSkJDV29ROVFFYUN5QUJRUUEyQW53Z0FTQUNJQUpCQVdwQkEzWkJCMndnQWtFSVNSczJBbmdMSUFFb0Fnd0VRQ0FCS0FJRUlnSUVRQ0FCS0FJQVFmOEJJQUpCQ1dvUTlRRWFDeUFCUVFBMkFnd2dBU0FDSUFKQkFXcEJBM1pCQjJ3Z0FrRUlTUnMyQWdnTElBRW9BaXdFUUNBQktBSWtJZ0lFUUNBQktBSWdRZjhCSUFKQkNXb1E5UUVhQ3lBQlFRQTJBaXdnQVNBQ0lBSkJBV3BCQTNaQkIyd2dBa0VJU1JzMkFpZ0xJQWhCQVdzaUNBMEFDd3RCenVQQUFDMEFBRUVDUmdSQVFlRGp3QUFvQWdBaEFVSGc0OEFBUVFBMkFnQWdBVVVOQ1NBRUlBRVJBUUJCNk9MQUFDQUVRZkFBRVBjQkdrSFk0OEFBUVFJMkFnQkJ6dVBBQUMwQUFFRUNSZzBHQzBIMDRzQUFLQUlBSWdaRkRRQkI2T0xBQUNnQ0FDSUNRUWhxSVFVZ0Fpa0RBRUovaFVLQWdZS0VpSkNnd0lCL2d5RUxBMEFnQzFBRVFDQUZJUUVEUUNBQ1FjQUtheUVDSUFFcEF3QWdBVUVJYWlJRklRRkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaUMxQU5BQXNMSUFJZ0MzcW5RUU4yUWRoK2JHcEJvQUZySWdFb0FwQUJJUWNnQVVFQU5nS1FBU0FIQkVBZ0FTZ0NqQUVoQXdOQUlBTW9BZ0FpQ0FSQUlBTkJCR29vQWdBZ0NFRUJFT01CQ3lBRFFSUnFJUU1nQjBFQmF5SUhEUUFMQ3lBQktBSnNCRUFnQVNnQ1pDSURCRUFnQVNnQ1lFSC9BU0FEUVFscUVQVUJHZ3NnQVVFQU5nSnNJQUVnQXlBRFFRRnFRUU4yUVFkc0lBTkJDRWtiTmdKb0N5QUJRUUE2QUJRZ0FVSC8vd003QVlBQklBRW9BaVFFUUNBQktBSWNJZ01FUUNBQktBSVlRZjhCSUFOQkNXb1E5UUVhQ3lBQlFRQTJBaVFnQVNBRElBTkJBV3BCQTNaQkIyd2dBMEVJU1JzMkFpQUxJQUVvQWtRRVFDQUJLQUk4SWdNRVFDQUJLQUk0UWY4QklBTkJDV29ROVFFYUN5QUJRUUEyQWtRZ0FTQURJQU5CQVdwQkEzWkJCMndnQTBFSVNSczJBa0FMSUFGQi8vOERPd0dVQVNBTFFnRjlJQXVESVFzZ0JrRUJheUlHRFFBTEN5QUFSUTBHREFVTElBQUVRQ0FFUWZRQWFpQUpMUUFBRUZrZ0JDZ0NmQ0VGSUFRb0FuZ2hBU0FFUVFocVFRQTZBQUFnQkVJQU53TUFJQUVnQlNBRUVEQWdCQ2dDZENJRlJRMEZJQUVnQlVFQkVPTUJEQVVMUVFCQkFFR0Vqc0FBRUpFQkFBc2dBRUdBZ01BQ1FaaU13QUFRa2dFQUMwRUJJQUFRekFFQUMwSFFrOEFBUVNoQitKUEFBQkN0QVFBTFFkQ1R3QUJCS0VINGs4QUFFSzBCQUFzZ0NTQUFRUUVRNHdFTElBUkJnQUZxSkFBUEN5QUVRUUEyQWhBZ0JFRUJOZ0lFSUFSQnhKTEFBRFlDQUNBRVFnUTNBZ2dnQkVIQWs4QUFFS1FCQUF2dUJBRUtmeU1BUVRCcklnTWtBQ0FEUVFNNkFDd2dBMEVnTmdJY0lBTkJBRFlDS0NBRElBRTJBaVFnQXlBQU5nSWdJQU5CQURZQ0ZDQURRUUEyQWd3Q2Z3SkFBa0FDUUNBQ0tBSVFJZ3BGQkVBZ0FpZ0NEQ0lBUlEwQklBSW9BZ2doQVNBQVFRTjBJUVVnQUVFQmEwSC8vLy8vQVhGQkFXb2hCeUFDS0FJQUlRQURRQ0FBUVFScUtBSUFJZ1FFUUNBREtBSWdJQUFvQWdBZ0JDQURLQUlrS0FJTUVRSUFEUVFMSUFFb0FnQWdBMEVNYWlBQktBSUVFUUFBRFFNZ0FVRUlhaUVCSUFCQkNHb2hBQ0FGUVFocklnVU5BQXNNQVFzZ0FpZ0NGQ0lBUlEwQUlBQkJCWFFoQ3lBQVFRRnJRZi8vL3o5eFFRRnFJUWNnQWlnQ0NDRUlJQUlvQWdBaEFBTkFJQUJCQkdvb0FnQWlBUVJBSUFNb0FpQWdBQ2dDQUNBQklBTW9BaVFvQWd3UkFnQU5Bd3NnQXlBRklBcHFJZ0ZCRUdvb0FnQTJBaHdnQXlBQlFSeHFMUUFBT2dBc0lBTWdBVUVZYWlnQ0FEWUNLQ0FCUVF4cUtBSUFJUVJCQUNFSlFRQWhCZ0pBQWtBQ1FDQUJRUWhxS0FJQVFRRnJEZ0lBQWdFTElBUkJBM1FnQ0dvaURDZ0NCQTBCSUF3b0FnQWhCQXRCQVNFR0N5QURJQVEyQWhBZ0F5QUdOZ0lNSUFGQkJHb29BZ0FoQkFKQUFrQUNRQ0FCS0FJQVFRRnJEZ0lBQWdFTElBUkJBM1FnQ0dvaUJpZ0NCQTBCSUFZb0FnQWhCQXRCQVNFSkN5QURJQVEyQWhnZ0F5QUpOZ0lVSUFnZ0FVRVVhaWdDQUVFRGRHb2lBU2dDQUNBRFFReHFJQUVvQWdRUkFBQU5BaUFBUVFocUlRQWdDeUFGUVNCcUlnVkhEUUFMQ3lBSElBSW9BZ1JQRFFFZ0F5Z0NJQ0FDS0FJQUlBZEJBM1JxSWdBb0FnQWdBQ2dDQkNBREtBSWtLQUlNRVFJQVJRMEJDMEVCREFFTFFRQUxJQU5CTUdva0FBdXlEd0lOZndGK0l3QkJRR29pQkNRQUlBUWdBVUVBUnpvQUMwR1E0Y0FBS0FJQVFRSkhCRUFRblFFTEFrQUNRQUpBQWtBQ1FDQUFRUVJySWdKQmdZREFBa2tFUUVHVTRjQUFLQUlBSVFjQ1FDQUNSUVJBUVFFaEF3d0JDMEg1NDhBQUxRQUFHaUFDUVFFUTF3RWlBMFVOQWdzZ0F5QUhJQUlROXdFaEEwR1E0Y0FBS0FJQVFRSkhCRUFRblFFTElBQkJnWURBQWs4TkFpQUVJQUkyQWhRZ0JDQUROZ0lRSUFRZ0FqWUNERUg1NDhBQUxRQUFHa0dVNGNBQUtBSUFJQUpxS0FBQUlRQkJzT0xBQUNnQ0FFVUVRRUhnNHNBQUtBSUFJUUpCNE9MQUFFRUFOZ0lBSUFKRkRRWWdCRUVZYWlBQ0VRRUFRZGppd0FCQkFqWUNBRUhRNHNBQUlBUkJPR29wQXdBM0F3QkJ5T0xBQUNBRVFUQnFLUU1BTndNQVFjRGl3QUFnQkVFb2Fpa0RBRGNEQUVHNDRzQUFJQVJCSUdvcEF3QTNBd0JCc09MQUFDQUVLUU1ZSWc4M0F3QWdENmRGRFFRTEl3QkJJR3NpQWlRQUFrQWdBRUVZZENBQVFZRCtBM0ZCQ0hSeUlBQkJDSFpCZ1A0RGNTQUFRUmgyY25JaUNVSFE0c0FBS0FJQVJnMEFRZERpd0FBZ0NUWUNBQ0FDUVFBMkFnZ2dBa0tBZ0lDQUlEY0NBRUc4NHNBQUtBSUFJZ1pGRFFCQnNPTEFBQ2dDQUNJSFFRaHFJUUFnQnlrREFFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lFUEEwQWdEMUFFUUFOQUlBZEJnQUZySVFjZ0FDa0RBQ0FBUVFocUlRQkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaUQxQU5BQXNMSUFrZ0J5QVBlcWRCQVhSQjhBRnhheUlEUVF4cktBSUFUd1JBSUFOQkVHc2lBMEVJYWlnQ0FDQURRUXhxS0FJQUtBSVVFUUVBSUFNdkFRQWhDeUFDS0FJSUlnZ2dBaWdDQUVZRVFDTUFRU0JySWdNa0FDQUNLQUlBSWdWQmYwWUVRRUVBUVFBUXpBRUFDMEVFSUFWQkFYUWlEQ0FGUVFGcUlBVkJBRW9iSWdvZ0NrRUVUUnNpRFVFQmRDRU9JQU1nQlFSL0lBTWdERFlDSENBRElBSW9BZ1EyQWhSQkFnVkJBQXMyQWhnZ0EwRUlhaUFLUVlDQWdJQUVTVUVCZENBT0lBTkJGR29RZXlBREtBSUlCRUFnQXlnQ0RDQURLQUlRRU13QkFBc2dBeWdDRENFRklBSWdEVFlDQUNBQ0lBVTJBZ1FnQTBFZ2FpUUFDeUFDS0FJRUlBaEJBWFJxSUFzN0FRQWdBaUFJUVFGcUlnVTJBZ2dMSUE5Q0FYMGdENE1oRHlBR1FRRnJJZ1lOQUFzZ0FpZ0NCQ0VESUFJb0FnQWhDU0FGQkVBZ0JVRUJkQ0VISUFNaEFBTkFJQUlnQUM4QkFEc0JEaUFDUVJCcVFjRGl3QUFnQWtFT2FpSUZFRG9nQlJCRkFrQWdBaWdDR0NJRlJRMEFJQUlvQWh3aUJpZ0NBQ0lJQkVBZ0JTQUlFUUVBQ3lBR0tBSUVJZ2hGRFFBZ0JTQUlJQVlvQWdnUTR3RUxJQUJCQW1vaEFDQUhRUUpySWdjTkFBc0xJQWxGRFFBZ0F5QUpRUUYwUVFJUTR3RUxJQUpCSUdva0FBSkFJQUZGQkVBZ0JFRU1ha0VBRUNrTUFRdEIvT0RBQUNnQ0FFR0FnSUNBZUVZRVFFR0k0Y0FBS0FJQUlRQkJpT0hBQUVFQU5nSUFJQUJGRFFjZ0JFRVlhaUFBRVFFQVFmamd3QUJCQWpZQ0FFSDg0TUFBSUFRcEFoZ2lEemNDQUVHRTRjQUFJQVJCSUdvb0FnQTJBZ0FnRDZkQmdJQ0FnSGhHRFFZTEl3QkJNR3NpQUNRQUlBUkJER29pQ2lnQ0JDRUxJQVJCQzJvaEF5QUtLQUlJSWdKQi9PREFBQ2dDQUVHRTRjQUFLQUlBSWdGclN3UkFRZnpnd0FBZ0FTQUNFSFJCaE9IQUFDZ0NBQ0VCQzBHQTRjQUFLQUlBSUFGcUlBc2dBaEQzQVJwQmhPSEFBQ0FCSUFKcUlnRTJBZ0FDUUFKQUFrQWdBVUVEU1EwQUlBTXRBQUJCQUVjaERBTkFJQUZCZ09IQUFDZ0NBQ0lDTFFBQVFRaDBJQUl0QUFGeVFRSnFJZ05KRFFGQmhPSEFBRUVBTmdJQUlBQkIvT0RBQURZQ0ZDQUFJQU0yQWhnZ0FDQUJJQU5yTmdJY0lBQWdBallDRENBQUlBSWdBMm8yQWhCQkFDRUJRUUFoQXlBQVFReHFJZ1VvQWdRaUJpQUZLQUlBSWdKcklRY0NRQUpBSUFJZ0JrY0VRQUpBSUFkQkFFZ05BRUg1NDhBQUxRQUFHa0VCSVFNZ0IwRUJFTmNCSWdsRkRRQWdCMEVEY1NFRElBSWdCbXRCZkUwRVFDQUhRZnovLy84SGNTRU5BMEFnQVNBSmFpSUdJQUVnQW1vaUNDMEFBRG9BQUNBR1FRRnFJQWhCQVdvdEFBQTZBQUFnQmtFQ2FpQUlRUUpxTFFBQU9nQUFJQVpCQTJvZ0NFRURhaTBBQURvQUFDQU5JQUZCQkdvaUFVY05BQXNnQVNBQ2FpRUNDeUFGS0FJUUlRWWdBd1JBQTBBZ0FTQUphaUFDTFFBQU9nQUFJQUZCQVdvaEFTQUNRUUZxSVFJZ0EwRUJheUlERFFBTEN5QUdEUUlNQXdzZ0F5QUhFTXdCQUF0QkFTRUpJQVVvQWhBaUJrVU5BUXNnQlNnQ0RDSUlJQVVvQWdnaUFpZ0NDQ0lEUndSQUlBSW9BZ1FpQlNBRGFpQUZJQWhxSUFZUTlnRWFDeUFDSUFNZ0JtbzJBZ2dMSUFBZ0FUWUNDQ0FBSUFrMkFnUWdBQ0FITmdJQUlBQW9BZ2dpQVVFQlRRMENJQUJCQURZQ0NDQUJRUUpySWdFRVFDQUFLQUlFSWdJZ0FrRUNhaUFCRVBZQkdpQUFJQUUyQWdnTElBQkJLR29nQUVFSWFpZ0NBRFlDQUNBQUlBQXBBZ0EzQXlBZ0FFRWdhaUFNRUNsQmhPSEFBQ2dDQUNJQlFRSkxEUUFMQ3lBS0tBSUFJZ0VFUUNBTElBRkJBUkRqQVFzZ0FFRXdhaVFBREFFTFFRSWdBVUhNZ01BQUVKSUJBQXNMSUFSQlFHc2tBQThMSUFKQmdJREFBa0g0aThBQUVKSUJBQXRCQVNBQ0VNd0JBQXNnQUVHQWdNQUNRWWlNd0FBUWtnRUFDMEhRazhBQVFTaEIrSlBBQUJDdEFRQUxRZENUd0FCQktFSDRrOEFBRUswQkFBc2dCRUVBTmdJb0lBUkJBVFlDSENBRVFjU1N3QUEyQWhnZ0JFSUVOd0lnSUFSQkdHcEJ3SlBBQUJDa0FRQUwrQVVCQ0g4akFFRWdheUlFSkFBZ0FDZ0NBQ0VGQWtBQ1FBSkFBMEFDUUFKQUFrQUNRQ0FGUVFOeElnY09Bd0VDQlFBTEEwQU1BQXNBQ3lBQkRRRUxFS0lCSVFnZ0FDQUVRUWhxSUFkeUlna2dBQ2dDQUNJRElBTWdCVVlpQmhzMkFnQWdCQ0FJTmdJSUlBUWdCU0FIYXpZQ0RDQUVRUUE2QUJBQ1FDQUdSUVJBUVFBZ0Iyc2hDZ05BSUFNaUJVRURjU0FIUncwQ0FrQWdCQ2dDQ0NJRFJRMEFJQU1nQXlnQ0FDSURRUUZyTmdJQUlBTkJBVWNOQUNBRUtBSUlFSnNCQ3hDaUFTRUlJQUFnQ1NBQUtBSUFJZ01nQXlBRlJpSUdHellDQUNBRVFRQTZBQkFnQkNBSU5nSUlJQVFnQlNBS2FqWUNEQ0FHUlEwQUN3c2dCQzBBRUVVRVFBTkFJd0JCRUdzaUJTUUFRZmpvd0FBb0FnQWlCa1VFUUJCclFmam93QUFvQWdBaEJnc2dCaUFHS0FJQUlnTkJBV28yQWdBQ1FBSkFJQU5CQUU0RVFDQUdSUTBCSUFZZ0JpZ0NBQ0lEUVFGck5nSUFJQVVnQmpZQ0RDQURRUUZHQkVBZ0JVRU1haENZQVFzZ0JVRVFhaVFBREFJTEFBdEJ6NjNBQUVIZUFFSE1yc0FBRUprQkFBc2dCQzBBRUVVTkFBc0xBa0FnQkNnQ0NDSURSUTBBSUFNZ0F5Z0NBQ0lEUVFGck5nSUFJQU5CQVVjTkFDQUVLQUlJRUpzQkN5QUFLQUlBSVFVTUFnc0NRQ0FFS0FJSUlnTkZEUUFnQXlBREtBSUFJZ05CQVdzMkFnQWdBMEVCUncwQUlBUW9BZ2dRbXdFTElBQW9BZ0FoQlF3QkN5QUFJQVZCQVdvZ0FDZ0NBQ0lESUFNZ0JVWWJOZ0lBSUFNZ0JVY2dBeUVGRFFBTElBRWdBaWdDRUJFRUFDRUJJQUFvQWdBaEFpQUFRUUpCQUNBQkd6WUNBQ0FFSUFKQkEzRWlBRFlDQkNBQVFRRkhEUUVnQWtFQmF5SURSUTBBQTBBZ0F5Z0NBQ0VDSUFOQkFEWUNBQ0FDUlEwRElBTW9BZ1FnQTBFQk9nQUlJQUlnQWlnQ0FDSUJRUUZyTmdJQUlBRkJBVVlFUUNBQ0VKc0JDeUlERFFBTEN5QUVRU0JxSkFBUEN5QUVRUUEyQWdnakFFRVFheUlBSkFBZ0FFR1lxc0FBTmdJTUlBQWdCRUVFYWpZQ0NDQUFRUWhxUVpDcHdBQWdBRUVNYWtHUXFjQUFJQVJCQ0dwQm5LckFBQkJPQUF0QmlLckFBQkRuQVFBTGt3UUJDMzhnQVVFQmF5RU5JQUFvQWdRaENpQUFLQUlBSVFzZ0FDZ0NDQ0VNQTBBQ1FBSkFJQUlnQTBrTkFBTkFJQUVnQTJvaEJRSkFBa0FDUUNBQ0lBTnJJZ2RCQjAwRVFDQUNJQU5IRFFFZ0FpRUREQVVMQWtBZ0JVRURha0Y4Y1NJR0lBVnJJZ1FFUUVFQUlRQURRQ0FBSUFWcUxRQUFRUXBHRFFVZ0JDQUFRUUZxSWdCSERRQUxJQVFnQjBFSWF5SUFUUTBCREFNTElBZEJDR3NoQUFzRFFDQUdRUVJxS0FJQUlnbEJpcFNvMEFCelFZR0NoQWhySUFsQmYzTnhJQVlvQWdBaUNVR0tsS2pRQUhOQmdZS0VDR3NnQ1VGL2MzRnlRWUNCZ29SNGNRMENJQVpCQ0dvaEJpQUVRUWhxSWdRZ0FFME5BQXNNQVF0QkFDRUFBMEFnQUNBRmFpMEFBRUVLUmcwQ0lBY2dBRUVCYWlJQVJ3MEFDeUFDSVFNTUF3c2dCQ0FIUmdSQUlBSWhBd3dEQ3dOQUlBUWdCV290QUFCQkNrWUVRQ0FFSVFBTUFnc2dCeUFFUVFGcUlnUkhEUUFMSUFJaEF3d0NDeUFBSUFOcUlnWkJBV29oQXdKQUlBSWdCazBOQUNBQUlBVnFMUUFBUVFwSERRQkJBQ0VGSUFNaEJpQURJUUFNQXdzZ0FpQURUdzBBQ3d0QkFTRUZJQUlpQUNBSUlnWkhEUUJCQUE4TEFrQWdEQzBBQUVVTkFDQUxRZGpHd0FCQkJDQUtLQUlNRVFJQVJRMEFRUUVQQzBFQUlRUWdBQ0FJUndSQUlBQWdEV290QUFCQkNrWWhCQXNnQUNBSWF5RUFJQUVnQ0dvaEJ5QU1JQVE2QUFBZ0JpRUlJQXNnQnlBQUlBb29BZ3dSQWdBaUFDQUZja1VOQUFzZ0FBdUdCQUlHZndGK0l3QkJNR3NpQWlRQUlBSWdBRFlDQUNBQUtBSUlJUVVnQWlBQk5nSUVJQUVvQWdnaEFTQUNRUU0yQWh3Z0FrSHNuTUFBTmdJWUlBSkNBamNDSkNBQ0lBSkJCR3F0UW9DQWdJRGdCSVEzQXhBZ0FpQUNyVUtBZ0lDQTRBU0VJZ2czQXdnZ0FpQUNRUWhxTmdJZ0lBSkJHR29RY2lBRklBRWdBU0FGU3hzaUF3UkFRUUFoQUFOQUFrQWdBaWdDQUNJRUtBSUlJZ1lnQUVzRVFDQUFJQUlvQWdRaUJpZ0NDQ0lIU1EwQklBQWdCMEc0bmNBQUVKRUJBQXNnQUNBR1FhaWR3QUFRa1FFQUN5QUVLQUlFSUFCcUlnUWdCaWdDQkNBQWFpMEFBQ0FFTFFBQWN6b0FBQ0FBUVFGcUlnQWdBMGNOQUFzTEFrQUNRQUpBSUFFZ0JVa05BQ0FCSUFJb0FnUWlBQ2dDQ0NJRFN3MEJJQUFvQWdRaEJpQUNLQUlBSVFRZ0FTQUZheUVBUVFFaEF5QUJJQVZHSWdkRkJFQkJBQ0VCSUFCQkFFZ05BMEg1NDhBQUxRQUFHa0VCSVFFZ0FFRUJFTmNCSWdORkRRTUxJQU1nQlNBR2FpQUFFUGNCSVFFZ0FDQUVLQUlBSUFRb0FnZ2lBMnRMQkVBZ0JDQURJQUFRZENBRUtBSUlJUU1MSUFRb0FnUWdBMm9nQVNBQUVQY0JHaUFFSUFBZ0EybzJBZ2dnQncwQUlBRWdBRUVCRU9NQkN5QUNRUUkyQWh3Z0FrR1luY0FBTmdJWUlBSkNBVGNDSkNBQ0lBZzNBd2dnQWlBQ1FRaHFOZ0lnSUFKQkdHb1FjaUFDUVRCcUpBQVBDeUFCSUFOQmhKM0FBQkNTQVFBTElBRWdBQkRNQVFBTHFRWUJCWDhqQUVFUWF5SUhKQUFnQUNnQ21BRWhCU0FBUVFBMkFwZ0JJQVVFUUNBQUtBS1VBU0VFQTBBZ0JDZ0NBQ0lHQkVBZ0JFRUVhaWdDQUNBR1FRRVE0d0VMSUFSQkhHb2hCQ0FGUVFGcklnVU5BQXNMSUFBb0FsUUVRQ0FBS0FKTUlnUUVRQ0FBS0FKSVFmOEJJQVJCQ1dvUTlRRWFDeUFBUVFBMkFsUWdBQ0FFSUFSQkFXcEJBM1pCQjJ3Z0JFRUlTUnMyQWxBTElBQW9BbndFUUNBQUtBSjBJZ1FFUUNBQUtBSndRZjhCSUFSQkNXb1E5UUVhQ3lBQVFRQTJBbndnQUNBRUlBUkJBV3BCQTNaQkIyd2dCRUVJU1JzMkFuZ0xJQUFvQWd3RVFDQUFLQUlFSWdRRVFDQUFLQUlBUWY4QklBUkJDV29ROVFFYUN5QUFRUUEyQWd3Z0FDQUVJQVJCQVdwQkEzWkJCMndnQkVFSVNSczJBZ2dMSUFBb0Fpd0VRQ0FBS0FJa0lnUUVRQ0FBS0FJZ1FmOEJJQVJCQ1dvUTlRRWFDeUFBUVFBMkFpd2dBQ0FFSUFSQkFXcEJBM1pCQjJ3Z0JFRUlTUnMyQWlnTEl3QkI4QUJySWdRa0FBSkFBa0FDUUVHVzRzQUFMUUFBUVFKR0JFQkJxT0xBQUNnQ0FDRUZRYWppd0FCQkFEWUNBQ0FGUlEwQklBUWdCUkVCQUVHdzRjQUFJQVJCOEFBUTl3RWFRYURpd0FCQkFqWUNBRUdXNHNBQUxRQUFRUUpHRFFJTElBRWdBaEFuSWdJb0Frd2hCaUFDUVFBMkFrd2dCZ1JBSUFJb0FrZ2hCUU5BSUFVb0FnQWlDQVJBSUFWQkJHb29BZ0FnQ0VFQkVPTUJDeUFGUVJ4cUlRVWdCa0VCYXlJR0RRQUxDeUFDUVFBNkFGSWdBa0VBTmdKQUlBSW9BZ3dFUUNBQ0tBSUVJZ1VFUUNBQ0tBSUFRZjhCSUFWQkNXb1E5UUVhQ3lBQ1FRQTJBZ3dnQWlBRklBVkJBV3BCQTNaQkIyd2dCVUVJU1JzMkFnZ0xJQUlnQXpzQlVDQUNRUUE2QUR3Z0JFSHdBR29rQUF3Q0N5QUVRUUEyQWhBZ0JFRUJOZ0lFSUFSQnhKTEFBRFlDQUNBRVFnUTNBZ2dnQkVIQWs4QUFFS1FCQUF0QjBKUEFBRUVvUWZpVHdBQVFyUUVBQ3lBQUlBTTdBV2hCK2VQQUFDMEFBQnBCQkVFQkVOY0JJZ0pGQkVCQkFVRUVFTXdCQUFzZ0FrRUFPZ0FDSUFKQmdBUTdBQUFnQWlBQlFTQnlPZ0FESUFkQkNHcEJBRG9BQUNBSFFnQTNBd0FnQWtFRUlBY1FNQ0FDUVFSQkFSRGpBU0FBSUFNN0Fad0JJQUJCQURvQW5nRWdCMEVRYWlRQUM3d0RBUVIvSUFBb0F2UUJJUUlnQUNnQytBRWlBd1JBSUFJaEFRTkFJQUVvQWdBaUJBUkFJQUZCQkdvb0FnQWdCRUVCRU9NQkN5QUJRUnhxSVFFZ0EwRUJheUlERFFBTEN5QUFLQUx3QVNJQkJFQWdBaUFCUVJ4c1FRUVE0d0VMQWtBZ0FDZ0NyQUVpQVVVTkFDQUJJQUZCQVhSQkNXcEJlSEVpQW1wQkNXb2lBVVVOQUNBQUtBS29BU0FDYXlBQlFRZ1E0d0VMQWtBZ0FDZ0MxQUVpQVVVTkFDQUJJQUZCRkd4QkcycEJlSEVpQW1wQkNXb2lBVVVOQUNBQUtBTFFBU0FDYXlBQlFRZ1E0d0VMQWtBZ0FDZ0NaQ0lCUlEwQUlBRWdBVUVHYkVFTmFrRjRjU0lDYWtFSmFpSUJSUTBBSUFBb0FtQWdBbXNnQVVFSUVPTUJDd0pBSUFBb0FvUUJJZ0ZGRFFBZ0FTQUJRUUowUVF0cVFYaHhJZ0pxUVFscUlnRkZEUUFnQUNnQ2dBRWdBbXNnQVVFSUVPTUJDeUFBS0FKUUlRSWdBQ2dDVkNJREJFQWdBaUVCQTBBZ0FTZ0NBQ0lFQkVBZ0FVRUVhaWdDQUNBRVFRRVE0d0VMSUFGQkhHb2hBU0FEUVFGcklnTU5BQXNMSUFBb0Frd2lBUVJBSUFJZ0FVRWNiRUVFRU9NQkN3SkFJQUFvQWd3aUFVVU5BQ0FCSUFGQkEzUWlBbXBCRVdvaUFVVU5BQ0FBS0FJSUlBSnJRUWhySUFGQkNCRGpBUXNMdndNQ0JuNENmeU1BUWRBQWF5SUlKQUFnQ0VGQWF5SUpRZ0EzQXdBZ0NFSUFOd000SUFnZ0FDa0RDQ0lDTndNd0lBZ2dBQ2tEQUNJRE53TW9JQWdnQWtMenl0SExwNHpac3ZRQWhUY0RJQ0FJSUFKQzdkNlI4NWJNM0xma0FJVTNBeGdnQ0NBRFF1SGtsZlBXN05tODdBQ0ZOd01RSUFnZ0EwTDF5czJEMTZ6YnQvTUFoVGNEQ0NBSUlBRXZBUUE3QVU0Z0NFRUlhaUFJUWM0QWFrRUNFQzhnQ0NrRENDRURJQWdwQXhnaEFpQUpOUUlBSVFZZ0NDa0RPQ0VFSUFncEF5QWdDQ2tERUNFSElBaEIwQUJxSkFBZ0JDQUdRamlHaENJR2hTSUVRaENKSUFRZ0Izd2lCSVVpQlVJVmlTQUZJQUlnQTN3aUEwSWdpWHdpQllVaUIwSVFpU0FISUFRZ0FrSU5pU0FEaFNJQ2ZDSURRaUNKUXY4QmhYd2lCSVVpQjBJVmlTQUhJQU1nQWtJUmlZVWlBaUFGSUFhRmZDSURRaUNKZkNJR2hTSUZRaENKSUFVZ0F5QUNRZzJKaFNJQ0lBUjhJZ05DSUlsOElnU0ZJZ1ZDRllrZ0JTQURJQUpDRVltRklnSWdCbndpQTBJZ2lYd2lCb1VpQlVJUWlTQUZJQUpDRFlrZ0E0VWlBaUFFZkNJRFFpQ0pmQ0lFaFVJVmlTQUNRaEdKSUFPRklnSkNEWWtnQWlBR2ZJVWlBa0lSaVlVZ0FpQUVmQ0lDUWlDSmhTQUNoUXUvQXdJR2ZnSi9Jd0JCMEFCcklnZ2tBQ0FJUVVCcklnbENBRGNEQUNBSVFnQTNBemdnQ0NBQUtRTUlJZ0kzQXpBZ0NDQUFLUU1BSWdNM0F5Z2dDQ0FDUXZQSzBjdW5qTm15OUFDRk53TWdJQWdnQWtMdDNwSHpsc3pjdCtRQWhUY0RHQ0FJSUFOQzRlU1Y4OWJzMmJ6c0FJVTNBeEFnQ0NBRFF2WEt6WVBYck51Mzh3Q0ZOd01JSUFnZ0FTZ0NBRFlDVENBSVFRaHFJQWhCekFCcVFRUVFMeUFJS1FNSUlRTWdDQ2tER0NFQ0lBazFBZ0FoQmlBSUtRTTRJUVFnQ0NrRElDQUlLUU1RSVFjZ0NFSFFBR29rQUNBRUlBWkNPSWFFSWdhRklnUkNFSWtnQkNBSGZDSUVoU0lGUWhXSklBVWdBaUFEZkNJRFFpQ0pmQ0lGaFNJSFFoQ0pJQWNnQkNBQ1FnMkpJQU9GSWdKOElnTkNJSWxDL3dHRmZDSUVoU0lIUWhXSklBY2dBeUFDUWhHSmhTSUNJQVVnQm9WOElnTkNJSWw4SWdhRklnVkNFSWtnQlNBRElBSkNEWW1GSWdJZ0JId2lBMElnaVh3aUJJVWlCVUlWaVNBRklBTWdBa0lSaVlVaUFpQUdmQ0lEUWlDSmZDSUdoU0lGUWhDSklBVWdBa0lOaVNBRGhTSUNJQVI4SWdOQ0lJbDhJZ1NGUWhXSklBSkNFWWtnQTRVaUFrSU5pU0FDSUFaOGhTSUNRaEdKaFNBQ0lBUjhJZ0pDSUltRklBS0ZDNzhEQWdaK0FuOGpBRUhRQUdzaUNDUUFJQWhCUUdzaUNVSUFOd01BSUFoQ0FEY0RPQ0FJSUFBcEF3Z2lBamNETUNBSUlBQXBBd0FpQXpjREtDQUlJQUpDODhyUnk2ZU0yYkwwQUlVM0F5QWdDQ0FDUXUzZWtmT1d6TnkzNUFDRk53TVlJQWdnQTBMaDVKWHoxdXpadk93QWhUY0RFQ0FJSUFOQzljck5nOWVzMjdmekFJVTNBd2dnQ0NBQkxRQUFPZ0JQSUFoQkNHb2dDRUhQQUdwQkFSQXZJQWdwQXdnaEF5QUlLUU1ZSVFJZ0NUVUNBQ0VHSUFncEF6Z2hCQ0FJS1FNZ0lBZ3BBeEFoQnlBSVFkQUFhaVFBSUFRZ0JrSTRob1FpQm9VaUJFSVFpU0FFSUFkOElnU0ZJZ1ZDRllrZ0JTQUNJQU44SWdOQ0lJbDhJZ1dGSWdkQ0VJa2dCeUFFSUFKQ0RZa2dBNFVpQW53aUEwSWdpVUwvQVlWOElnU0ZJZ2RDRllrZ0J5QURJQUpDRVltRklnSWdCU0FHaFh3aUEwSWdpWHdpQm9VaUJVSVFpU0FGSUFNZ0FrSU5pWVVpQWlBRWZDSURRaUNKZkNJRWhTSUZRaFdKSUFVZ0F5QUNRaEdKaFNJQ0lBWjhJZ05DSUlsOElnYUZJZ1ZDRUlrZ0JTQUNRZzJKSUFPRklnSWdCSHdpQTBJZ2lYd2lCSVZDRllrZ0FrSVJpU0FEaFNJQ1FnMkpJQUlnQm55RklnSkNFWW1GSUFJZ0JId2lBa0lnaVlVZ0FvVUxwdzRDRm44RWZpTUFRUkJySWhFa0FDQVJJQUU3QVE0Z0FFRVFhaUlQSUJGQkRtb1FPaUVaSUFBb0FnaEZCRUFqQUVFZ2F5SU5KQUFDUUFKQUFrQUNRQ0FBS0FJTUlnZEJBV29pQWlBSFR3UkFJQUFvQWdRaUNpQUtRUUZxSWd0QkEzWWlCRUVIYkNBS1FRaEpHeUlJUVFGMklBSkpCRUFDZnlBQ0lBaEJBV29nQWlBSVN4c2lBa0VJVHdSQVFYOGdBa0VEZEVFSGJrRUJhMmQyUVFGcUlBSkIvLy8vL3dGTkRRRWFFS01CSUEwb0FoZ2FEQWNMUVFSQkNDQUNRUVJKR3dzaUFrRUJkRUVIYWtGNGNTSURJQUpCQ0dvaUJtb2lCRUg1Ly8vL0IwOEVRQkNqQVNBTktBSUlHZ3dHQzBINTQ4QUFMUUFBR2lBRVFRZ1Exd0VpQlVVRVFDQUVFTVVCSUEwb0FoQWFEQVlMSUFNZ0JXcEIvd0VnQmhEMUFTRUlJQUpCQVdzaUNTQUNRUU4yUVFkc0lBSkJDVWtiSVJBZ0IwVUVRQ0FBS0FJQUlRTU1CUXNnQ0VFSWFpRVNJQUFvQWdBaUEwRUNheUVUSUFNcEF3QkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaEdDQURJUVFnQnlFR0EwQWdHRkFFUUNBRUlRSURRQ0FNUVFocUlRd2dBaWtEQ0NBQ1FRaHFJZ1FoQWtKL2hVS0FnWUtFaUpDZ3dJQi9neUlZVUEwQUN3c2dDQ0FKSUE4Z0V5QVllcWRCQTNZZ0RHb2lGRUVCZEdzUU9xY2lGWEVpQldvcEFBQkNnSUdDaElpUW9NQ0FmNE1pR2xBRVFFRUlJUUlEUUNBQ0lBVnFJUVVnQWtFSWFpRUNJQWdnQlNBSmNTSUZhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SWFVQTBBQ3dzZ0dFSUJmU0FZZ3lFWUlBZ2dHbnFuUVFOMklBVnFJQWx4SWdKcUxBQUFRUUJPQkVBZ0NDa0RBRUtBZ1lLRWlKQ2d3SUIvZzNxblFRTjJJUUlMSUFJZ0NHb2dGVUVaZGlJRk9nQUFJQklnQWtFSWF5QUpjV29nQlRvQUFDQUlJQUpCZjNOQkFYUnFJQU1nRkVGL2MwRUJkR292QUFBN0FRQWdCa0VCYXlJR0RRQUxEQVFMUVFBaEFpQUFLQUlBSVFNQ1FDQUVJQXRCQjNGQkFFZHFJZ1JGRFFBZ0JFRUJSd1JBSUFSQi92Ly8vd054SVFVRFFDQUNJQU5xSWdZZ0Jpa0RBQ0lZUW4rRlFnZUlRb0dDaElpUW9NQ0FBWU1nR0VMLy92Mzc5Ky9mdi84QWhIdzNBd0FnQmtFSWFpSUdJQVlwQXdBaUdFSi9oVUlIaUVLQmdvU0lrS0RBZ0FHRElCaEMvLzc5Ky9mdjM3Ly9BSVI4TndNQUlBSkJFR29oQWlBRlFRSnJJZ1VOQUFzTElBUkJBWEZGRFFBZ0FpQURhaUlDSUFJcEF3QWlHRUovaFVJSGlFS0Jnb1NJa0tEQWdBR0RJQmhDLy83OSsvZnYzNy8vQUlSOE53TUFDeUFMUVFoUEJFQWdBeUFMYWlBREtRQUFOd0FBREFJTElBTkJDR29nQXlBTEVQWUJHaUFMRFFGQkFDRUlEQUlMRUtNQklBMG9BZ0FhREFNTElBTkJDR29oQ3lBRFFRSnJJUkpCQUNFQ0EwQUNRQ0FESUFJaUJHb2lEQzBBQUVHQUFVY05BQ0FTSUFSQkFYUnJJUk1nQXlBRVFYOXpRUUYwYWlFR0FrQURRQ0FLSUE4Z0V4QTZweUlRY1NJSklRVWdBeUFKYWlrQUFFS0FnWUtFaUpDZ3dJQi9neUlZVUFSQVFRZ2hBZ05BSUFJZ0JXb2hCU0FDUVFocUlRSWdBeUFGSUFweElnVnFLUUFBUW9DQmdvU0lrS0RBZ0grREloaFFEUUFMQ3lBRElCaDZwMEVEZGlBRmFpQUtjU0lDYWl3QUFFRUFUZ1JBSUFNcEF3QkNnSUdDaElpUW9NQ0FmNE42cDBFRGRpRUNDeUFDSUFscklBUWdDV3R6SUFweFFRaFBCRUFnQWlBRGFpSUZMUUFBSUFVZ0VFRVpkaUlGT2dBQUlBc2dBa0VJYXlBS2NXb2dCVG9BQUNBRElBSkJmM05CQVhScUlRSkIvd0ZHRFFJZ0JpMEFBQ0VGSUFZZ0FpMEFBRG9BQUNBR0xRQUJJUWtnQmlBQ0xRQUJPZ0FCSUFJZ0JUb0FBQ0FDSUFrNkFBRU1BUXNMSUF3Z0VFRVpkaUlDT2dBQUlBc2dCRUVJYXlBS2NXb2dBam9BQUF3QkN5QU1RZjhCT2dBQUlBc2dCRUVJYXlBS2NXcEIvd0U2QUFBZ0FpQUdMd0FBT3dBQUN5QUVRUUZxSVFJZ0JDQUtSdzBBQ3dzZ0FDQUlJQWRyTmdJSURBRUxJQUFnQ1RZQ0JDQUFJQWcyQWdBZ0FDQVFJQWRyTmdJSUlBcEZEUUFnQXlBTFFRRjBRUWRxUVhoeElnSnJJQUlnQ21wQkNXcEJDQkRqQVFzZ0RVRWdhaVFBQ3lBQUtBSUFJZ1JCQW1zaER5QVpRaG1JSWhwQy93Q0RRb0dDaElpUW9NQ0FBWDRoR3lBWnB5RUhJQUFvQWdRaEF5QUJRZi8vQTNFaEJnSkFBMEFnQkNBRElBZHhJZ2RxS1FBQUloa2dHNFVpR0VKL2hTQVlRb0dDaElpUW9NQ0FBWDJEUW9DQmdvU0lrS0RBZ0grREloaFFSUVJBQTBBZ0R5QVllcWRCQTNZZ0Iyb2dBM0ZCQVhSckx3RUFJQVpHRFFNZ0dFSUJmU0FZZ3lJWVVFVU5BQXNMSUJsQ2dJR0NoSWlRb01DQWY0TWhHRUVCSVFJZ0ZrRUJSd1JBSUJoNnAwRURkaUFIYWlBRGNTRU9JQmhDQUZJaEFnc2dHQ0FaUWdHR2cxQUVRQ0FISUJkQkNHb2lGMm9oQnlBQ0lSWU1BUXNMSUFRZ0Rtb3NBQUFpQjBFQVRnUkFJQVFnQkNrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklnNXFMUUFBSVFjTElBUWdEbW9nR3FkQi93QnhJZ0k2QUFBZ0JDQU9RUWhySUFOeGFrRUlhaUFDT2dBQUlBQWdBQ2dDQ0NBSFFRRnhhellDQ0NBQUlBQW9BZ3hCQVdvMkFnd2dCQ0FPUVFGMGEwRUNheUFCT3dFQUN5QVJRUkJxSkFBTHF4VUNGbjhFZmlNQVFTQnJJaEFrQUNBUVFRaHFJUkVnQVNnQ0RDRVRJd0JCRUdzaUZDUUFJQlFnRXpZQ0RDQUFRUkJxSUJSQkRHb1FPeUViSUFBb0FnQWlCVUVVYXlFRUlBQW9BZ1FpQ2lBYnAzRWhBeUFiUWhtSVF2OEFnMEtCZ29TSWtLREFnQUYrSVJ3Q2Z3SkFBMEFDUUNBRElBVnFLUUFBSWhvZ0hJVWlHVUovaFNBWlFvR0NoSWlRb01DQUFYMkRRb0NCZ29TSWtLREFnSCtESWhsUVJRUkFBMEFnQkVFQUlCbDZwMEVEZGlBRGFpQUtjV3NpQjBFVWJHb29BZ0FnRTBZTkFpQVpRZ0Y5SUJtRElobFFSUTBBQ3dzZ0dpQWFRZ0dHZzBLQWdZS0VpSkNnd0lCL2cxQkZEUUlnQXlBSlFRaHFJZ2xxSUFweElRTU1BUXNMSUJFZ0V6WUNDQ0FSUVFFMkFnUWdFU0FGSUFkQkZHeHFOZ0lNUVFBaEEwRVFEQUVMSUFBb0FnaEZCRUFnQUVFUWFpRVhJd0JCSUdzaUVpUUFBa0FDUUFKQUFrQWdBQ2dDRENJS1FRRnFJZ01nQ2s4RVFDQUFLQUlFSWdrZ0NVRUJhaUlQUVFOMklnVkJCMndnQ1VFSVNSc2lERUVCZGlBRFNRUkFBa0FDUUFKL0lBTWdERUVCYWlBRElBeExHeUlEUVFoUEJFQkJmeUFEUVFOMFFRZHVRUUZyWjNaQkFXb2dBMEgvLy8vL0FVME5BUm9Rb3dFZ0VpZ0NHQm9NQ1F0QkJFRUlJQU5CQkVrYkN5SURyVUlVZmlJWlFpQ0lwdzBBSUJtbklnVkJlRXNOQUNBRlFRZHFRWGh4SWdRZ0EwRUlhaUlIYWlJRklBUkpEUUFnQlVINS8vLy9CMGtOQVFzUW93RWdFaWdDQ0JvTUJndEIrZVBBQUMwQUFCb2dCVUVJRU5jQklnWkZCRUFnQlJERkFTQVNLQUlRR2d3R0N5QUVJQVpxUWY4QklBY1E5UUVoRENBRFFRRnJJZ2dnQTBFRGRrRUhiQ0FEUVFsSkd5RUxJQXBGQkVBZ0FDZ0NBQ0VFREFVTElBeEJDR29oRlNBQUtBSUFJZ1JCRkdzaEZpQUVLUU1BUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJUmtnQkNFRlFRQWhCaUFLSVFjRFFDQVpVQVJBSUFVaEF3TkFJQVpCQ0dvaEJpQURLUU1JSUFOQkNHb2lCU0VEUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJaGxRRFFBTEN5QU1JQWdnRnlBV0lCbDZwMEVEZGlBR2FpSU9RV3hzYWhBN3B5SVljU0lOYWlrQUFFS0FnWUtFaUpDZ3dJQi9neUlhVUFSQVFRZ2hBd05BSUFNZ0RXb2hEU0FEUVFocUlRTWdEQ0FJSUExeElnMXFLUUFBUW9DQmdvU0lrS0RBZ0grRElocFFEUUFMQ3lBWlFnRjlJQm1ESVJrZ0RDQWFlcWRCQTNZZ0RXb2dDSEVpQTJvc0FBQkJBRTRFUUNBTUtRTUFRb0NCZ29TSWtLREFnSCtEZXFkQkEzWWhBd3NnQXlBTWFpQVlRUmwySWcwNkFBQWdGU0FEUVFocklBaHhhaUFOT2dBQUlBd2dBMEYvYzBFVWJHb2lBMEVRYWlBRUlBNUJmM05CRkd4cUlnMUJFR29vQUFBMkFBQWdBMEVJYWlBTlFRaHFLUUFBTndBQUlBTWdEU2tBQURjQUFDQUhRUUZySWdjTkFBc01CQXRCQUNFRElBQW9BZ0FoQndKQUlBVWdEMEVIY1VFQVIyb2lCVVVOQUNBRlFRRkhCRUFnQlVIKy8vLy9BM0VoQmdOQUlBTWdCMm9pQkNBRUtRTUFJaGxDZjRWQ0I0aENnWUtFaUpDZ3dJQUJneUFaUXYvKy9mdjM3OSsvL3dDRWZEY0RBQ0FFUVFocUlnUWdCQ2tEQUNJWlFuK0ZRZ2VJUW9HQ2hJaVFvTUNBQVlNZ0dVTC8vdjM3OSsvZnYvOEFoSHczQXdBZ0EwRVFhaUVESUFaQkFtc2lCZzBBQ3dzZ0JVRUJjVVVOQUNBRElBZHFJZ01nQXlrREFDSVpRbitGUWdlSVFvR0NoSWlRb01DQUFZTWdHVUwvL3YzNzkrL2Z2LzhBaEh3M0F3QUxJQTlCQ0U4RVFDQUhJQTlxSUFjcEFBQTNBQUFNQWdzZ0IwRUlhaUFISUE4UTlnRWFJQThOQVVFQUlRd01BZ3NRb3dFZ0VpZ0NBQm9NQXdzZ0IwRUlhaUVQSUFkQkZHc2hGVUVBSVFNRFFBSkFJQWNnQXlJRmFpSU5MUUFBUVlBQlJ3MEFJQlVnQlVGc2JHb2hGaUFISUFWQmYzTkJGR3hxSVFRQ1FBTkFJQWtnRnlBV0VEdW5JZ3R4SWdnaEJpQUhJQWhxS1FBQVFvQ0Jnb1NJa0tEQWdIK0RJaGxRQkVCQkNDRURBMEFnQXlBR2FpRUdJQU5CQ0dvaEF5QUhJQVlnQ1hFaUJtb3BBQUJDZ0lHQ2hJaVFvTUNBZjRNaUdWQU5BQXNMSUFjZ0dYcW5RUU4ySUFacUlBbHhJZ05xTEFBQVFRQk9CRUFnQnlrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklRTUxJQU1nQ0dzZ0JTQUlhM01nQ1hGQkNFOEVRQ0FESUFkcUlnWXRBQUFnQmlBTFFSbDJJZ1k2QUFBZ0R5QURRUWhySUFseGFpQUdPZ0FBSUFjZ0EwRi9jMEVVYkdvaEEwSC9BVVlOQWlBRUxRQUJJUVlnQkNBRExRQUJPZ0FCSUFRdEFBSWhDQ0FFSUFNdEFBSTZBQUlnQkMwQUF5RUxJQVFnQXkwQUF6b0FBeUFFTFFBQUlRNGdCQ0FETFFBQU9nQUFJQU1nQmpvQUFTQURJQWc2QUFJZ0F5QUxPZ0FESUFNZ0Rqb0FBQ0FFTFFBRklRWWdCQ0FETFFBRk9nQUZJQVF0QUFZaENDQUVJQU10QUFZNkFBWWdCQzBBQnlFTElBUWdBeTBBQnpvQUJ5QUVMUUFFSVE0Z0JDQURMUUFFT2dBRUlBTWdCam9BQlNBRElBZzZBQVlnQXlBTE9nQUhJQU1nRGpvQUJDQUVMUUFKSVFZZ0JDQURMUUFKT2dBSklBUXRBQW9oQ0NBRUlBTXRBQW82QUFvZ0JDMEFDeUVMSUFRZ0F5MEFDem9BQ3lBRUxRQUlJUTRnQkNBRExRQUlPZ0FJSUFNZ0Jqb0FDU0FESUFnNkFBb2dBeUFMT2dBTElBTWdEam9BQ0NBRUxRQU5JUVlnQkNBRExRQU5PZ0FOSUFRdEFBNGhDQ0FFSUFNdEFBNDZBQTRnQkMwQUR5RUxJQVFnQXkwQUR6b0FEeUFFTFFBTUlRNGdCQ0FETFFBTU9nQU1JQU1nQmpvQURTQURJQWc2QUE0Z0F5QUxPZ0FQSUFNZ0Rqb0FEQ0FFTFFBUklRWWdCQ0FETFFBUk9nQVJJQVF0QUJJaENDQUVJQU10QUJJNkFCSWdCQzBBRXlFTElBUWdBeTBBRXpvQUV5QUVMUUFRSVE0Z0JDQURMUUFRT2dBUUlBTWdCam9BRVNBRElBZzZBQklnQXlBTE9nQVRJQU1nRGpvQUVBd0JDd3NnRFNBTFFSbDJJZ002QUFBZ0R5QUZRUWhySUFseGFpQURPZ0FBREFFTElBMUIvd0U2QUFBZ0R5QUZRUWhySUFseGFrSC9BVG9BQUNBRFFSQnFJQVJCRUdvb0FBQTJBQUFnQTBFSWFpQUVRUWhxS1FBQU53QUFJQU1nQkNrQUFEY0FBQXNnQlVFQmFpRURJQVVnQ1VjTkFBc0xJQUFnRENBS2F6WUNDQXdCQ3lBQUlBZzJBZ1FnQUNBTU5nSUFJQUFnQ3lBS2F6WUNDQ0FKUlEwQUlBa2dEMEVVYkVFSGFrRjRjU0lEYWtFSmFpSUZSUTBBSUFRZ0Eyc2dCVUVJRU9NQkN5QVNRU0JxSkFBTElCRWdFellDRUNBUklCczNBd2hCQVNFRFFSUUxJQkVnQXpZQ0FDQVJhaUFBTmdJQUlCUkJFR29rQUFKQUlCQW9BZ2hGQkVBZ0VDZ0NGQ0VBREFFTElCQW9BaHdpQ2lnQ0FDSUZJQW9vQWdRaUJDQVFLUU1RcHlJSGNTSURhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SVpVQVJBUVFnaEFBTkFJQUFnQTJvaEF5QUFRUWhxSVFBZ0JTQURJQVJ4SWdOcUtRQUFRb0NCZ29TSWtLREFnSCtESWhsUURRQUxDeUFRS0FJWUlRa2dCU0FaZXFkQkEzWWdBMm9nQkhFaUFHb3NBQUFpQTBFQVRnUkFJQVVnQlNrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklnQnFMUUFBSVFNTElBQWdCV29nQjBFWmRpSUhPZ0FBSUFvZ0NpZ0NDQ0FEUVFGeGF6WUNDQ0FGSUFCQkNHc2dCSEZxUVFocUlBYzZBQUFnQlNBQVFXeHNhaUlBUVJScklnTkJCR3BDQURjQ0FDQURRUXBxUWdBM0FRQWdBeUFKTmdJQUlBb2dDaWdDREVFQmFqWUNEQXNnQVMwQUZBUkFJQUJCRkdzaUEwRVFha0VCT2dBQUlBTkJER29nQVM4QkVEc0JBQ0FEUVFScUlBSTJBZ0FMSUFCQkEyc2hBd0pBSUFFdEFCVkZCRUFnQXkwQUFFVU5BU0FBUVF4cklnQWdBQ2dDQUVFQmFqWUNBQXdCQ3lBRFFRRTZBQUFnQUVFVWF5SUFRUTVxSUFFdkFSQTdBUUFnQUVFSWFpQUNOZ0lBQ3lBUVFTQnFKQUFMK0FNQkFuOGdBQ0FCYWlFQ0FrQUNRQ0FBS0FJRUlnTkJBWEVOQUNBRFFRSnhSUTBCSUFBb0FnQWlBeUFCYWlFQklBQWdBMnNpQUVHbzZNQUFLQUlBUmdSQUlBSW9BZ1JCQTNGQkEwY05BVUdnNk1BQUlBRTJBZ0FnQWlBQ0tBSUVRWDV4TmdJRUlBQWdBVUVCY2pZQ0JDQUNJQUUyQWdBTUFnc2dBQ0FERUZJTEFrQUNRQUpBSUFJb0FnUWlBMEVDY1VVRVFDQUNRYXpvd0FBb0FnQkdEUUlnQWtHbzZNQUFLQUlBUmcwRElBSWdBMEY0Y1NJQ0VGSWdBQ0FCSUFKcUlnRkJBWEkyQWdRZ0FDQUJhaUFCTmdJQUlBQkJxT2pBQUNnQ0FFY05BVUdnNk1BQUlBRTJBZ0FQQ3lBQ0lBTkJmbkUyQWdRZ0FDQUJRUUZ5TmdJRUlBQWdBV29nQVRZQ0FBc2dBVUdBQWs4RVFDQUFJQUVRV0E4TElBRkJlSEZCa09iQUFHb2hBZ0ovUVpqb3dBQW9BZ0FpQTBFQklBRkJBM1owSWdGeFJRUkFRWmpvd0FBZ0FTQURjallDQUNBQ0RBRUxJQUlvQWdnTElRRWdBaUFBTmdJSUlBRWdBRFlDRENBQUlBSTJBZ3dnQUNBQk5nSUlEd3RCck9qQUFDQUFOZ0lBUWFUb3dBQkJwT2pBQUNnQ0FDQUJhaUlCTmdJQUlBQWdBVUVCY2pZQ0JDQUFRYWpvd0FBb0FnQkhEUUZCb09qQUFFRUFOZ0lBUWFqb3dBQkJBRFlDQUE4TFFham93QUFnQURZQ0FFR2c2TUFBUWFEb3dBQW9BZ0FnQVdvaUFUWUNBQ0FBSUFGQkFYSTJBZ1FnQUNBQmFpQUJOZ0lBQ3d2d0J3RUhmeU1BUVNCcklnWWtBQUpBQWtBQ1FBSkFBa0FDUUNBQktBSUFJZ1FvQWhCRkJFQWdCRUYvTmdJUUlBTWdBeUFDUVFOcVFYeHhJQUpySWdwclFRZHhRUUFnQXlBS1R4c2lBV3NoQlFKL0FrQUNRQ0FCSUFOTkJFQUNRQ0FCUlEwQUFuOGdBaUFEYWlJQklBSWdCV29pQjJzaUNFRUJheUFCUVFGcklna3RBQUJCQ2tZTkFCb2dCeUFKUmcwQklBaEJBbXNnQVVFQ2F5SUpMUUFBUVFwR0RRQWFJQWNnQ1VZTkFTQUlRUU5ySUFGQkEyc2lDUzBBQUVFS1JnMEFHaUFISUFsR0RRRWdDRUVFYXlBQlFRUnJJZ2t0QUFCQkNrWU5BQm9nQnlBSlJnMEJJQWhCQldzZ0FVRUZheUlKTFFBQVFRcEdEUUFhSUFjZ0NVWU5BU0FJUVFacklBRkJCbXNpQ1MwQUFFRUtSZzBBR2lBSElBbEdEUUVnQ0VFSGF5QUJRUWRySWdFdEFBQkJDa1lOQUJvZ0FTQUhSZzBCSUFoQkNHc0xJQVZxSVFFTUF3c2dDaUFESUFNZ0Nrc2JJUWNEUUNBSElBVWlBVWtFUUNBQlFRaHJJUVVnQVNBQ2FpSUlRUVJyS0FJQVFZcVVxTkFBY3lJS1FZR0NoQWhySUFwQmYzTnhJQWhCQ0dzb0FnQkJpcFNvMEFCeklnaEJnWUtFQ0dzZ0NFRi9jM0Z5UVlDQmdvUjRjVVVOQVFzTElBRWdBMHNOQVNBQ1FRRnJJUVVEUUVFQUlBRkZEUVFhSUFFZ0JXb2dBVUVCYXlFQkxRQUFRUXBIRFFBTERBSUxJQVVnQTBITXljQUFFSkFCQUFzZ0FTQURRZHpKd0FBUWtnRUFDMEVCQ3lFRklBWWdBVFlDQkNBR0lBVTJBZ0FnQmlnQ0FFVUVRQUpBSUFRb0Fod2lBVVVFUUVFQUlRRU1BUXNnQVNBRUtBSVlha0VCYXkwQUFFRUtSdzBBUVFBaEFTQUVRUUEyQWh3Z0JFRUFPZ0FnQ3lBRElBUW9BaFFnQVd0UEJFQWdBQ0FFUVJScUlBSWdBeENNQVF3SEN5QUVLQUlZSUFGcUlBSWdBeEQzQVJvZ0FFRUVPZ0FBSUFRZ0FTQURhallDSEF3R0N5QURJQVlvQWdSQkFXb2lBVWtOQmlBRUtBSWNJZ1ZGRFFRZ0FTQUVLQUlVSUFWclNRMEJJQVpCQ0dvZ0JFRVVhaUFDSUFFUWpBRWdCaTBBQ0VFRVJ3MENJQVFvQWh3aEJRd0RDeU1BUVRCcklnQWtBQ0FBUVFFMkFnd2dBRUdjeE1BQU5nSUlJQUJDQVRjQ0ZDQUFJQUJCTDJxdFFvQ0FnSURBRElRM0F5QWdBQ0FBUVNCcU5nSVFJQUJCQ0dwQnRMYkFBQkNrQVFBTElBUW9BaGdnQldvZ0FpQUJFUGNCR2lBRUlBRWdCV29pQlRZQ0hBd0JDeUFBSUFZcEF3ZzNBZ0FNQWdzZ0JVVU5BQ0FFUVFBMkFod2dCRUVBT2dBZ0N5QUJJQUpxSVFJZ0F5QUJheUlCSUFRb0FoUlBCRUFnQUNBRVFSUnFJQUlnQVJDTUFRd0JDeUFFS0FJWUlBSWdBUkQzQVJvZ0FFRUVPZ0FBSUFRZ0FUWUNIQXNnQkNBRUtBSVFRUUZxTmdJUUlBWkJJR29rQUE4TElBWkJBRFlDR0NBR1FRRTJBZ3dnQmtIc3I4QUFOZ0lJSUFaQ0JEY0NFQ0FHUVFocVFmU3Z3QUFRcEFFQUM3VUdBZ04rQ0g4akFFRVFheUlLSkFBZ0NpQUNPd0VPQWtBQ1FDQUJMd0VnSWdjZ0FrSC8vd054UnlBQ0lBZHJRZi8vQTNGQnZQOEJTWEZGQkVCQkFpRUlJQUVvQWd4RkRRSWdBVUVRYWlJTklBcEJEbW9RT2lFRElBRW9BZ0FpQ1VFQ2F5RUxJQUVvQWdRaUJ5QURwM0VoQmlBRFFobUlRdjhBZzBLQmdvU0lrS0RBZ0FGK0lRVWdBa0gvL3dOeElRSURRQ0FHSUFscUtRQUFJZ1FnQllVaUEwSi9oU0FEUW9HQ2hJaVFvTUNBQVgyRFFvQ0Jnb1NJa0tEQWdIK0RJZ05RUlFSQUEwQWdDeUFEZXFkQkEzWWdCbW9nQjNGQkFYUnJMd0VBSUFKR0RRUWdBMElCZlNBRGd5SURVRVVOQUFzTElBUWdCRUlCaG9OQ2dJR0NoSWlRb01DQWY0TlFSUTBESUFZZ0RFRUlhaUlNYWlBSGNTRUdEQUFMQUFzZ0FTQUNPd0VnSUFKQi8vOERjU0FIUVFGcUlnbEIvLzhEY1VZTkFTQUNJQWxySWdKQi8vOERjVUc3L3dGTERRRURRQ0FCSUFaQkFXb2lCaUFIYWhBOUlBWkIvLzhEY1NBQ1FmLy9BM0ZKRFFBTElBQWdDVHNCQkNBQUlBSTdBUUpCQXlFSURBRUxJQXBCQ0dvaENTQU5JQXBCRG1vaUJoQTZJUU1nQVNnQ0FDSUhRUUpySVFzZ0EwSVppRUwvQUlOQ2dZS0VpSkNnd0lBQmZpRUZJQUVvQWdRaUNDQURwM0VoQWlBR0x3RUFJUXhCQUNFR0FrQURRQUpBSUFJZ0Iyb3BBQUFpQkNBRmhTSURRbitGSUFOQ2dZS0VpSkNnd0lBQmZZTkNnSUdDaElpUW9NQ0FmNE1pQTFCRkJFQURRQ0FNSUFzZ0EzcW5RUU4ySUFKcUlBaHhJZzFCQVhSckx3RUFSZzBDSUFOQ0FYMGdBNE1pQTFCRkRRQUxDeUFFSUFSQ0FZYURRb0NCZ29TSWtLREFnSCtEVUFSQUlBSWdCa0VJYWlJR2FpQUljU0VDREFJRlFRQWhCZ3dEQ3dBTEMwRUJJUVpCZ0FFaEFpQUhJQTFCQVhSQkFYVWlDMm9pRENrQUFDSURJQU5DQVlhRFFvQ0Jnb1NJa0tEQWdIK0RlcWRCQTNZZ0J5QUxRUWhySUFoeGFpSUlLUUFBSWdNZ0EwSUJob05DZ0lHQ2hJaVFvTUNBZjRONXAwRURkbXBCQjAwRVFDQUJJQUVvQWdoQkFXbzJBZ2hCL3dFaEFnc2dEQ0FDT2dBQUlBaEJDR29nQWpvQUFDQUJJQUVvQWd4QkFXczJBZ3dnQjBFQUlBMXJRUUYwYWtFQ2F5OEJBQ0VDQ3lBSklBSTdBUUlnQ1NBR093RUFRUUVoQ0FzZ0FDQUlPd0VBSUFwQkVHb2tBQXVDQmdJSmZ3SitJd0JCRUdzaUJDUUFJQVFRdUFFaUJUWUNBQ0FFUVFBNkFBd2dCRUs4bm9DQWdQUUROd0lFQW44Z0JFRUVhaUlDS0FJRUlnWWdBaWdDQUNJSVRnUkFJQVFvQWdBaEF5QUdJQWhyUVFGcUlnSkZCRUFnQTBFSWFpRUdBa0FnQXlnQ2lBSWlBa0hBQUVrTkFDQURRWkFDYWlFSEFrQWdBeWtEeUFJaUMwSUFWdzBBUVFBaEFpQURLQUxRQWtFQVNBMEFJQU1nQzBLQUFuMDNBOGdDSUFjZ0JoQWpEQUVMSUFjZ0JoQm5RUUFoQWdzZ0F5QUNRUUZxTmdLSUFpQUdJQUpCQW5ScUtBSUFEQUlMSUFOQmtBSnFJUWtnQTBFSWFpRUhJQUlnQW1kMFFRRnJJUW9nQXlnQ2lBSWhCaUFDclNFTEEwQWdCaUlDUWNBQVR3UkFBa0FDUUNBREtRUElBaUlNUWdCWERRQWdBeWdDMEFKQkFFZ05BQ0FESUF4Q2dBSjlOd1BJQWlBSklBY1FJd3dCQ3lBSklBY1Fad3RCQUNFQ0N5QURJQUpCQVdvaUJqWUNpQUlnQ2lBSElBSkJBblJxTlFJQUlBdCtJZ3luU1EwQUN5QUlJQXhDSUlpbmFnd0JDMEhVbU1BQVFSbEJ5Sm5BQUJDdEFRQUxJUVlnQlNBRktBSUFRUUZySWdJMkFnQUNRQ0FDRFFBZ0JVRUVhaUlDSUFJb0FnQkJBV3NpQWpZQ0FDQUNEUUFnQlVIWUFrRUlFT01CQ3lBRVFRQTJBZ3dnQkVLQWdJQ0FFRGNDQkNBR1FRQktCRUFEUUJDNEFTSUNRUWhxSVFNZ0FpZ0NpQUlpQlVIQUFFOEVRQ0FDUVpBQ2FpRUZBa0FDUUNBQ0tRUElBaUlMUWdCWERRQWdBaWdDMEFKQkFFZ05BQ0FDSUF0Q2dBSjlOd1BJQWlBRklBTVFJd3dCQ3lBRklBTVFad3RCQUNFRkN5QUNJQVZCQVdvMkFvZ0NJQUlnQWlnQ0FFRUJheUlITmdJQUlBTWdCVUVDZEdvb0FnQWhBd0pBSUFjTkFDQUNRUVJxSWdVZ0JTZ0NBRUVCYXlJRk5nSUFJQVVOQUNBQ1FkZ0NRUWdRNHdFTElBUW9BZ3dpQWlBRUtBSUVSZ1JBSUFSQkJHb1FkUXNnQkNnQ0NDQUNhaUFET2dBQUlBUWdBa0VCYWpZQ0RDQUdRUUZySWdZTkFBc0xJQUFnQkNrQ0JEY0NBQ0FBUVFocUlBUkJER29vQWdBMkFnQWdBRUVBT2dBWUlBQkJBanNCRWlBQUlBRTdBUkFnQUVISGxhWUZOZ0lNSUFCQkFEWUNGQ0FFUVJCcUpBQUxpZ01DQm44QmZpTUFRZkFBYXlJQ0pBQWdBRUVFYWlnQ0FDRUVJQUFvQWdBaUFTZ0NBQ0VBSUFGQkFEWUNBQ0FBS0FKNElRRWdBRUVBTmdKNElBRUVRQ0FDSUFFUkFRQWdCQ2dDQUNJQkxRQm1RUUpIQkg4Q1FDQUJLQUlrSWdCRkRRQWdBQ0FBUVFGMFFRbHFRWGh4SWdOcVFRbHFJZ0JGRFFBZ0FTZ0NJQ0FEYXlBQVFRZ1E0d0VMQWtBZ0FTZ0NCQ0lGUlEwQUlBRW9BZ3dpQmdSQUlBRW9BZ0FpQTBFSWFpRUFJQU1wQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oQndOQUlBZFFCRUFEUUNBRFFjQUtheUVESUFBcEF3QWdBRUVJYWlFQVFuK0ZRb0NCZ29TSWtLREFnSCtESWdkUURRQUxDeUFESUFkNnAwRURka0hZZm14cVFhZ0JheEJnSUFkQ0FYMGdCNE1oQnlBR1FRRnJJZ1lOQUFzTElBVWdCVUVCYWtHb0FXd2lBR3BCQ1dvaUEwVU5BQ0FCS0FJQUlBQnJJQU5CQ0JEakFRc2dCQ2dDQUFVZ0FRc2dBa0h3QUJEM0FSb2dBa0h3QUdva0FFRUJEd3NnQWtFQU5nSVFJQUpCQVRZQ0JDQUNRY1NTd0FBMkFnQWdBa0lFTndJSUlBSkJzSlBBQUJDa0FRQUxpZ01DQm44QmZpTUFRZkFBYXlJQ0pBQWdBRUVFYWlnQ0FDRUVJQUFvQWdBaUFTZ0NBQ0VBSUFGQkFEWUNBQ0FBS0FKNElRRWdBRUVBTmdKNElBRUVRQ0FDSUFFUkFRQWdCQ2dDQUNJQkxRQm1RUUpIQkg4Q1FDQUJLQUlrSWdCRkRRQWdBQ0FBUVFGMFFRbHFRWGh4SWdOcVFRbHFJZ0JGRFFBZ0FTZ0NJQ0FEYXlBQVFRZ1E0d0VMQWtBZ0FTZ0NCQ0lGUlEwQUlBRW9BZ3dpQmdSQUlBRW9BZ0FpQTBFSWFpRUFJQU1wQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oQndOQUlBZFFCRUFEUUNBRFFjQVFheUVESUFBcEF3QWdBRUVJYWlFQVFuK0ZRb0NCZ29TSWtLREFnSCtESWdkUURRQUxDeUFESUFkNnAwRURka0g0Zld4cVFZZ0NheEE1SUFkQ0FYMGdCNE1oQnlBR1FRRnJJZ1lOQUFzTElBVWdCVUVCYWtHSUFtd2lBR3BCQ1dvaUEwVU5BQ0FCS0FJQUlBQnJJQU5CQ0JEakFRc2dCQ2dDQUFVZ0FRc2dBa0h3QUJEM0FSb2dBa0h3QUdva0FFRUJEd3NnQWtFQU5nSVFJQUpCQVRZQ0JDQUNRY1NTd0FBMkFnQWdBa0lFTndJSUlBSkJzSlBBQUJDa0FRQUxvZ01DQm44Q2ZrR3c0c0FBS0FJQUlnUkJFR3NoQlVHMDRzQUFLQUlBSWdZZ0FhZHhJUU1nQVVJWmlFTC9BSU5DZ1lLRWlKQ2d3SUFCZmlFS0lBSXZBUUFoQ0VFQUlRSUNRQU5BSUFNZ0JHb3BBQUFpQ1NBS2hTSUJRbitGSUFGQ2dZS0VpSkNnd0lBQmZZTkNnSUdDaElpUW9NQ0FmNE1pQVZCRkJFQURRQ0FJSUFVZ0FYcW5RUU4ySUFOcUlBWnhJZ2RCQkhSckx3RUFSZzBESUFGQ0FYMGdBWU1pQVZCRkRRQUxDeUFKSUFsQ0FZYURRb0NCZ29TSWtLREFnSCtEVUFSQUlBTWdBa0VJYWlJQ2FpQUdjU0VEREFFTEN5QUFRUUEyQWdnUEMwR0FBU0VESUFRZ0IwRUVkRUVFZFNJQ2FpSUZLUUFBSWdFZ0FVSUJob05DZ0lHQ2hJaVFvTUNBZjRONnAwRURkaUFFSUFKQkNHc2dCbkZxSWdJcEFBQWlBU0FCUWdHR2cwS0FnWUtFaUpDZ3dJQi9nM21uUVFOMmFrRUhUUVJBUWJqaXdBQkJ1T0xBQUNnQ0FFRUJhallDQUVIL0FTRURDeUFGSUFNNkFBQWdBa0VJYWlBRE9nQUFRYnppd0FCQnZPTEFBQ2dDQUVFQmF6WUNBQ0FBSUFSQkFDQUhhMEVFZEdwQkVHc2lBaWtDQURjQ0FDQUFRUWhxSUFKQkNHb3BBZ0EzQWdBTHlRa0NDMzhDZmlNQVFiQUJheUlCSkFBZ0FVRUthaUVLSXdCQjhBQnJJZ0FrQUVHZzRzQUFLQUlBUVFKSEJFQVFuZ0VMUWJ6aHdBQW9BZ0FpQ1FSQVFiRGh3QUFvQWdBaUFrRUlhaUVISUFJcEF3QkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaERBTkFBa0FnREZCRkJFQWdEQ0VMREFFTEEwQWdBa0hBRUdzaEFpQUhLUU1BSUFkQkNHb2hCMEovaFVLQWdZS0VpSkNnd0lCL2d5SUxVQTBBQ3dzZ0MwSUJmU0FMZ3lFTUlBSWdDM3FuUVFOMlFmaDliR3BCaUFKcklnaEJRR3NvQWdBZ0Eyb2hBeUFJUVRScUtBSUFJQVpxSVFZZ0NFRThhaWdDQUNBRmFpRUZJQWhCT0dvb0FnQWdCR29oQkNBSlFRRnJJZ2tOQUFzTEFrQUNRQUpBUVpiaXdBQXRBQUJCQWtZRVFFR280c0FBS0FJQUlRSkJxT0xBQUVFQU5nSUFJQUpGRFFNZ0FDQUNFUUVBUWJEaHdBQWdBRUh3QUJEM0FScEJvT0xBQUVFQ05nSUFRWmJpd0FBdEFBQkJBa1lOQVFzZ0FDQUROZ0lNSUFBZ0JEWUNDQ0FBSUFVMkFnUWdBQ0FHTmdJQUlBcEIwT0hBQUNBQUVDMGdBRUh3QUdva0FBd0JDMEhRazhBQVFTaEIrSlBBQUJDdEFRQUxJQUZCNWdCcUlRSkJBQ0VFUVFBaEJVRUFJUVpCQUNFSEl3QkI4QUJySWdBa0FFSFk0OEFBS0FJQVFRSkhCRUFRb0FFTFFmVGl3QUFvQWdBaUNnUkFRZWppd0FBb0FnQWlBMEVJYWlFSUlBTXBBd0JDZjRWQ2dJR0NoSWlRb01DQWY0TWhEQU5BQWtBZ0RGQkZCRUFnRENFTERBRUxBMEFnQTBIQUNtc2hBeUFJS1FNQUlBaEJDR29oQ0VKL2hVS0FnWUtFaUpDZ3dJQi9neUlMVUEwQUN3c2dDMElCZlNBTGd5RU1JQU1nQzNxblFRTjJRZGgrYkdwQnFBRnJJZ2xCR0dvb0FnQWdCR29oQkNBSlFReHFLQUlBSUFkcUlRY2dDVUVVYWlnQ0FDQUdhaUVHSUFsQkVHb29BZ0FnQldvaEJTQUtRUUZySWdvTkFBc0xBa0FDUUVITzQ4QUFMUUFBUVFKR0JFQkI0T1BBQUNnQ0FDRURRZURqd0FCQkFEWUNBQ0FEUlEwRElBQWdBeEVCQUVIbzRzQUFJQUJCOEFBUTl3RWFRZGpqd0FCQkFqWUNBRUhPNDhBQUxRQUFRUUpHRFFFTElBQWdCRFlDRENBQUlBVTJBZ2dnQUNBR05nSUVJQUFnQnpZQ0FDQUNRWWpqd0FBZ0FCQXRJQUJCOEFCcUpBQU1BUXRCMEpQQUFFRW9RZmlUd0FBUXJRRUFDMEg1NDhBQUxRQUFHa0hjQUVFQkVOY0JJZ0FFUUNBQUlBRXBBQW8zQUFBZ0FDQUNLUUFBTndBdUlBQkJKbW9nQVVFd2Fpa0FBRGNBQUNBQVFTQnFJQUZCS21vcEFBQTNBQUFnQUVFWWFpQUJRU0pxS1FBQU53QUFJQUJCRUdvZ0FVRWFhaWtBQURjQUFDQUFRUWhxSUFGQkVtb3BBQUEzQUFBZ0FFRTJhaUFDUVFocUtRQUFOd0FBSUFCQlBtb2dBa0VRYWlrQUFEY0FBQ0FBUWNZQWFpQUNRUmhxS1FBQU53QUFJQUJCemdCcUlBSkJJR29wQUFBM0FBQWdBRUhVQUdvZ0FrRW1haWtBQURjQUFDQUJRUUUyQWp3Z0FVR2dqc0FBTmdJNElBRkNBVGNDUkNBQklBRkJyQUZxclVLQWdJQ0EwQUNFTndPZ0FTQUJRZHdBTmdLc0FTQUJJQUZCb0FGcU5nSkFJQUZCbEFGcUlBRkJPR29RU2lBQktBS1VBU0lDQkVBZ0FTZ0NtQUVnQWtFQkVPTUJDeUFCUVFBMkFEMGdBVUVBTmdJNElBRkIvd0U2QUR3Z0FFSGNBQ0FCUVRocUVEQWdBRUhjQUVFQkVPTUJJQUZCc0FGcUpBQVBDMEVCUWR3QUVNd0JBQXNnQUVFQU5nSVFJQUJCQVRZQ0JDQUFRY1NTd0FBMkFnQWdBRUlFTndJSUlBQkJ3SlBBQUJDa0FRQUw1d0lCQlg4Q1FFSE4vM3RCRUNBQUlBQkJFRTBiSWdCcklBRk5EUUFnQUVFUUlBRkJDMnBCZUhFZ0FVRUxTUnNpQkdwQkRHb1FKU0lDUlEwQUlBSkJDR3NoQVFKQUlBQkJBV3NpQXlBQ2NVVUVRQ0FCSVFBTUFRc2dBa0VFYXlJRktBSUFJZ1pCZUhFZ0FpQURha0VBSUFCcmNVRUlheUlDSUFCQkFDQUNJQUZyUVJCTkcyb2lBQ0FCYXlJQ2F5RURJQVpCQTNFRVFDQUFJQU1nQUNnQ0JFRUJjWEpCQW5JMkFnUWdBQ0FEYWlJRElBTW9BZ1JCQVhJMkFnUWdCU0FDSUFVb0FnQkJBWEZ5UVFKeU5nSUFJQUVnQW1vaUF5QURLQUlFUVFGeU5nSUVJQUVnQWhBL0RBRUxJQUVvQWdBaEFTQUFJQU0yQWdRZ0FDQUJJQUpxTmdJQUN3SkFJQUFvQWdRaUFVRURjVVVOQUNBQlFYaHhJZ0lnQkVFUWFrME5BQ0FBSUFRZ0FVRUJjWEpCQW5JMkFnUWdBQ0FFYWlJQklBSWdCR3NpQkVFRGNqWUNCQ0FBSUFKcUlnSWdBaWdDQkVFQmNqWUNCQ0FCSUFRUVB3c2dBRUVJYWlFREN5QURDNFVEQWdaL0FYNGpBRUh3QUdzaUF5UUFJQUFvQWdBaUFTZ0NBQ0VDSUFGQkFEWUNBQ0FDS0FKNElRRWdBa0VBTmdKNElBRUVRQ0FESUFFUkFRQWdBQ2dDQkNJR0tBSUFJZ0V0QUdaQkFrY0Vmd0pBSUFFb0FpUWlBRVVOQUNBQUlBQkJBWFJCQ1dwQmVIRWlBbXBCQ1dvaUFFVU5BQ0FCS0FJZ0lBSnJJQUJCQ0JEakFRc0NRQ0FCS0FJRUlnUkZEUUFnQVNnQ0RDSUZCRUFnQVNnQ0FDSUFRUWhxSVFJZ0FDa0RBRUovaFVLQWdZS0VpSkNnd0lCL2d5RUhBMEFnQjFBRVFBTkFJQUJCd0JCcklRQWdBaWtEQUNBQ1FRaHFJUUpDZjRWQ2dJR0NoSWlRb01DQWY0TWlCMUFOQUFzTElBQWdCM3FuUVFOMlFmaDliR3BCaUFKckVEa2dCMElCZlNBSGd5RUhJQVZCQVdzaUJRMEFDd3NnQkNBRVFRRnFRWWdDYkNJQWFrRUphaUlDUlEwQUlBRW9BZ0FnQUdzZ0FrRUlFT01CQ3lBR0tBSUFCU0FCQ3lBRFFmQUFFUGNCR2lBRFFmQUFhaVFBUVFFUEN5QURRUUEyQWhBZ0EwRUJOZ0lFSUFOQnhKTEFBRFlDQUNBRFFnUTNBZ2dnQTBHd2s4QUFFS1FCQUF1RkF3SUdmd0YrSXdCQjhBQnJJZ01rQUNBQUtBSUFJZ0VvQWdBaEFpQUJRUUEyQWdBZ0FpZ0NlQ0VCSUFKQkFEWUNlQ0FCQkVBZ0F5QUJFUUVBSUFBb0FnUWlCaWdDQUNJQkxRQm1RUUpIQkg4Q1FDQUJLQUlrSWdCRkRRQWdBQ0FBUVFGMFFRbHFRWGh4SWdKcVFRbHFJZ0JGRFFBZ0FTZ0NJQ0FDYXlBQVFRZ1E0d0VMQWtBZ0FTZ0NCQ0lFUlEwQUlBRW9BZ3dpQlFSQUlBRW9BZ0FpQUVFSWFpRUNJQUFwQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oQndOQUlBZFFCRUFEUUNBQVFjQUtheUVBSUFJcEF3QWdBa0VJYWlFQ1FuK0ZRb0NCZ29TSWtLREFnSCtESWdkUURRQUxDeUFBSUFkNnAwRURka0hZZm14cVFhZ0JheEJnSUFkQ0FYMGdCNE1oQnlBRlFRRnJJZ1VOQUFzTElBUWdCRUVCYWtHb0FXd2lBR3BCQ1dvaUFrVU5BQ0FCS0FJQUlBQnJJQUpCQ0JEakFRc2dCaWdDQUFVZ0FRc2dBMEh3QUJEM0FSb2dBMEh3QUdva0FFRUJEd3NnQTBFQU5nSVFJQU5CQVRZQ0JDQURRY1NTd0FBMkFnQWdBMElFTndJSUlBTkJzSlBBQUJDa0FRQUwvZ0lCQjM4akFFRVFheUlFSkFBQ1FBSkFBa0FDUUFKQUlBRW9BZ1FpQWtVTkFDQUJLQUlBSVFjZ0FrRURjU0VGQWtBZ0FrRUVTUVJBUVFBaEFnd0JDeUFIUVJ4cUlRTWdBa0Y4Y1NFSVFRQWhBZ05BSUFNb0FnQWdBMEVJYXlnQ0FDQURRUkJyS0FJQUlBTkJHR3NvQWdBZ0FtcHFhbW9oQWlBRFFTQnFJUU1nQ0NBR1FRUnFJZ1pIRFFBTEN5QUZCRUFnQmtFRGRDQUhha0VFYWlFREEwQWdBeWdDQUNBQ2FpRUNJQU5CQ0dvaEF5QUZRUUZySWdVTkFBc0xJQUVvQWd3RVFDQUNRUUJJRFFFZ0J5Z0NCRVVnQWtFUVNYRU5BU0FDUVFGMElRSUxJQUlOQVF0QkFTRURRUUFoQWd3QkMwRUFJUVVnQWtFQVNBMEJRZm5qd0FBdEFBQWFRUUVoQlNBQ1FRRVExd0VpQTBVTkFRc2dCRUVBTmdJSUlBUWdBellDQkNBRUlBSTJBZ0FnQkVISXY4QUFJQUVRTTBVTkFVRzR3TUFBUWRZQUlBUkJEMnBCcU1EQUFFR293Y0FBRUlVQkFBc2dCU0FDRU13QkFBc2dBQ0FFS1FJQU53SUFJQUJCQ0dvZ0JFRUlhaWdDQURZQ0FDQUVRUkJxSkFBTGpBTUNBbjhHZmlNQVFSQnJJZ0lrQUJDWEFTSUJCRUFDUUNBQklBRXBBd0FpQTBJQmZEY0RBQ0FCS1FNSUlRUWdBRUhRQUdwQnVJWEFBQ2tEQURjREFDQUFRYkNGd0FBcEF3QTNBMGdnQUVILy93TTdBV2dnQUNBRU53TmdJQUFnQXpjRFdCQ1hBU0lCUlEwQUlBRWdBU2tEQUNJRFFnRjhOd01BSUFFcEF3Z2hCQ0FBUWZnQWFrRzRoY0FBS1FNQU53TUFJQUJCc0lYQUFDa0RBRGNEY0NBQUlBUTNBNGdCSUFBZ0F6Y0RnQUVRbHdFaUFVVU5BQ0FCSUFFcEF3QWlBMElCZkRjREFDQUJLUU1JSVFRUWx3RWlBVVVOQUNBQklBRXBBd0FpQlVJQmZEY0RBQ0FCS1FNSUlRWWdBRUVJYWtHNGpzQUFLUU1BSWdjM0F3QWdBRUd3anNBQUtRTUFJZ2czQXdBZ0FFRUFPZ0JBSUFBZ0JEY0RHQ0FBSUFNM0F4QWdBQ0FJTndNZ0lBQkJLR29nQnpjREFDQUFRUUU2QUo0QklBQkIvLzhET3dHY0FTQUFRUUEyQXBnQklBQkNnSUNBZ01BQU53T1FBU0FBSUFZM0F6Z2dBQ0FGTndNd0lBSkJFR29rQUE4TEMwR0FpY0FBUWNZQUlBSkJEMnBCOElqQUFFR1lpc0FBRUlVQkFBdVlBd0VJZndKQUFrQUNRQUpBQWtBQ1FBSkFJQUVvQWdnaUFnUkFJQUpCQTBrTkFTQUNRUU5HRFFJZ0FrRUZTUTBESUFKQkJVWU5CQ0FDUVFaTkRRVWdBa0VIUmcwR0lBSkJDVThFUUNBQktBSUVJZ010QUFBaENDQURMd0FDSVFZZ0F5Z0FCQ0VFSUFNdEFBRWhDUUpBSUFKQkNXc2lBa1VFUUVFQklRVU1BUXNnQWtFQVNBMEpRZm5qd0FBdEFBQWFRUUVoQnlBQ1FRRVExd0VpQlVVTkNRc2dCU0FEUVFscUlBSVE5d0VoQlNBQUlBazZBQk1nQUNBSVFROXhPZ0FTSUFBZ0JrRUlkQ0FHUVFoMmNqc0JFQ0FBSUFSQkdIUWdCRUdBL2dOeFFRaDBjaUFFUVFoMlFZRCtBM0VnQkVFWWRuSnlOZ0lNSUFBZ0FqWUNDQ0FBSUFVMkFnUWdBQ0FDTmdJQUlBRW9BZ0FpQUFSQUlBTWdBRUVCRU9NQkN3OExRUWtnQWtIY2hjQUFFSkFCQUF0QkFFRUFRZkNQd0FBUWtRRUFDMEVDSUFKQmdKREFBQkNSQVFBTFFRTkJBMEdRa01BQUVKRUJBQXRCQkNBQ1FhQ1F3QUFRa1FFQUMwRUZRUVZCc0pEQUFCQ1JBUUFMUVFZZ0FrSEFrTUFBRUpFQkFBdEJCMEVIUWRDUXdBQVFrUUVBQ3lBSElBSVF6QUVBQzdvREFRRi9Jd0JCUUdvaUFpUUFBa0FDUUFKQUFrQUNRQUpBSUFBdEFBQkJBV3NPQXdFQ0F3QUxJQUlnQUNnQ0JEWUNCRUg1NDhBQUxRQUFHa0VVUVFFUTF3RWlBRVVOQkNBQVFSQnFRY3k3d0FBb0FBQTJBQUFnQUVFSWFrSEV1OEFBS1FBQU53QUFJQUJCdkx2QUFDa0FBRGNBQUNBQ1FSUTJBaEFnQWlBQU5nSU1JQUpCRkRZQ0NDQUNRUU0yQWl3Z0FrR0F0c0FBTmdJb0lBSkNBamNDTkNBQ0lBSkJCR3F0UW9DQWdJQ1FCb1EzQXlBZ0FpQUNRUWhxclVLQWdJQ0FzQWlFTndNWUlBSWdBa0VZYWpZQ01DQUJLQUlVSUFFb0FoZ2dBa0VvYWhBeklRQWdBaWdDQ0NJQlJRMERJQUlvQWd3Z0FVRUJFT01CREFNTElBQXRBQUVoQUNBQ1FRRTJBaXdnQWtHc3I4QUFOZ0lvSUFKQ0FUY0NOQ0FDSUFKQkdHcXRRb0NBZ0lEQUNJUTNBd2dnQWlBQVFRSjBJZ0JCa0x6QUFHb29BZ0EyQWh3Z0FpQUFRYlM5d0FCcUtBSUFOZ0lZSUFJZ0FrRUlhallDTUNBQktBSVVJQUVvQWhnZ0FrRW9haEF6SVFBTUFnc2dBQ2dDQkNJQUtBSUFJQUFvQWdRZ0FSRDBBU0VBREFFTElBQW9BZ1FpQUNnQ0FDQUJJQUFvQWdRb0FoQVJBQUFoQUFzZ0FrRkFheVFBSUFBUEMwRUJRUlFRekFFQUM2c0NBUUYvSXdCQjhBQnJJZ1lrQUNBR0lBRTJBZ3dnQmlBQU5nSUlJQVlnQXpZQ0ZDQUdJQUkyQWhBZ0JrR2N4Y0FBTmdJWUlBWkJBallDSEFKQUlBUW9BZ0JGQkVBZ0JrRUROZ0pjSUFaQjJNWEFBRFlDV0NBR1FnTTNBbVFnQmlBR1FSQnFyVUtBZ0lDQTBBeUVOd05JSUFZZ0JrRUlhcTFDZ0lDQWdOQU1oRGNEUUF3QkN5QUdRVEJxSUFSQkVHb3BBZ0EzQXdBZ0JrRW9haUFFUVFocUtRSUFOd01BSUFZZ0JDa0NBRGNESUNBR1FRUTJBbHdnQmtHTXhzQUFOZ0pZSUFaQ0JEY0NaQ0FHSUFaQkVHcXRRb0NBZ0lEUURJUTNBMUFnQmlBR1FRaHFyVUtBZ0lDQTBBeUVOd05JSUFZZ0JrRWdhcTFDZ0lDQWdQQU1oRGNEUUFzZ0JpQUdRUmhxclVLQWdJQ0E0QXlFTndNNElBWWdCa0U0YWpZQ1lDQUdRZGdBYWlBRkVLUUJBQXZ1QWdJRmZ3RitJd0JCRUdzaUFpUUFJQUpCQURZQ0JBSi9Ba0FDUUNBQlFZQUJUd1JBSUFGQmdCQkpEUUVnQVVHQWdBUlBEUUlnQWlBQlFUOXhRWUFCY2pvQUJpQUNJQUZCREhaQjRBRnlPZ0FFSUFJZ0FVRUdka0UvY1VHQUFYSTZBQVZCQXd3REN5QUNJQUU2QUFSQkFRd0NDeUFDSUFGQlAzRkJnQUZ5T2dBRklBSWdBVUVHZGtIQUFYSTZBQVJCQWd3QkN5QUNJQUZCUDNGQmdBRnlPZ0FISUFJZ0FVRUdka0UvY1VHQUFYSTZBQVlnQWlBQlFReDJRVDl4UVlBQmNqb0FCU0FDSUFGQkVuWkJCM0ZCOEFGeU9nQUVRUVFMSVFFZ0FrRUlhaUFBS0FJSUlBSkJCR29nQVJCQUlBSXRBQWdpQmtFRVJ3UkFJQUFvQWdRaEFTQUNLUU1JSVFjZ0FDMEFBQ0lEUVFSTklBTkJBMGR4UlFSQUlBRW9BZ0FoQXlBQlFRUnFLQUlBSWdVb0FnQWlCQVJBSUFNZ0JCRUJBQXNnQlNnQ0JDSUVCRUFnQXlBRUlBVW9BZ2dRNHdFTElBRkJERUVFRU9NQkN5QUFJQWMzQWdBTElBSkJFR29rQUNBR1FRUkhDOVVDQVFkL1FRRWhDUUpBQWtBZ0FrVU5BQ0FCSUFKQkFYUnFJUW9nQUVHQS9nTnhRUWgySVFzZ0FFSC9BWEVoRFFOQUlBRkJBbW9oRENBSElBRXRBQUVpQW1vaENDQUxJQUV0QUFBaUFVY0VRQ0FCSUF0TERRSWdDQ0VISUF3aUFTQUtSZzBDREFFTEFrQUNRQ0FISUFoTkJFQWdCQ0FJU1EwQklBTWdCMm9oQVFOQUlBSkZEUU1nQWtFQmF5RUNJQUV0QUFBZ0FVRUJhaUVCSUExSERRQUxRUUFoQ1F3RkN5QUhJQWhCeU0zQUFCQ1RBUUFMSUFnZ0JFSEl6Y0FBRUpJQkFBc2dDQ0VISUF3aUFTQUtSdzBBQ3dzZ0JrVU5BQ0FGSUFacUlRTWdBRUgvL3dOeElRRURRQ0FGUVFGcUlRQUNRQ0FGTFFBQUlnTEFJZ1JCQUU0RVFDQUFJUVVNQVFzZ0FDQURSd1JBSUFVdEFBRWdCRUgvQUhGQkNIUnlJUUlnQlVFQ2FpRUZEQUVMUWJqTndBQVE1d0VBQ3lBQklBSnJJZ0ZCQUVnTkFTQUpRUUZ6SVFrZ0F5QUZSdzBBQ3dzZ0NVRUJjUXZBQWdFQ2Z5TUFRZEFBYXlJREpBQkIrZVBBQUMwQUFCcEJCa0VCRU5jQklnUUVRQ0FFUVFBNkFBSWdCRUdBQ0RzQUFDQUVJQUJCTUhJNkFBTWdBeUFFTmdKSUlBTkJCallDUkNBRFFRUTJBa3hCQkNJQUlBTW9Ba2hxSUFGQkNIUWdBVUdBL2dGeFFZQ0Fma0VBSUFJYmNrR0EvZ054UVFoMmNqc0FBQ0FEUWN3QWFpQUFRUUpxSWdBMkFnQWdBMEVRYWlBQU5nSUFJQU1nQXlrQ1JEY0RDQ0FEUVFFMkFpUWdBMEdVZzhBQU5nSWdJQU5DQVRjQ0xDQURJQU5CQ0dxdFFvQ0FnSUF3aERjRE9DQURJQU5CT0dvMkFpZ2dBMEVVYWlBRFFTQnFFRW9nQXlnQ0ZDSUFCRUFnQXlnQ0dDQUFRUUVRNHdFTElBTW9BZ3dnQXlnQ0VDQURRU2hxUVFBNkFBQWdBMElBTndNZ0lBTkJJR29RTUNBREtBSUlJZ0FFUUNBREtBSU1JQUJCQVJEakFRc2dBMEhRQUdva0FBOExRUUZCQmhETUFRQUw4UUlCQkg4Z0FDZ0NEQ0VDQWtBQ1FDQUJRWUFDVHdSQUlBQW9BaGdoQXdKQUFrQWdBQ0FDUmdSQUlBQkJGRUVRSUFBb0FoUWlBaHRxS0FJQUlnRU5BVUVBSVFJTUFnc2dBQ2dDQ0NJQklBSTJBZ3dnQWlBQk5nSUlEQUVMSUFCQkZHb2dBRUVRYWlBQ0d5RUVBMEFnQkNFRklBRWlBa0VVYWlBQ1FSQnFJQUlvQWhRaUFSc2hCQ0FDUVJSQkVDQUJHMm9vQWdBaUFRMEFDeUFGUVFBMkFnQUxJQU5GRFFJZ0FDQUFLQUljUVFKMFFZRGx3QUJxSWdFb0FnQkhCRUFnQTBFUVFSUWdBeWdDRUNBQVJodHFJQUkyQWdBZ0FrVU5Bd3dDQ3lBQklBSTJBZ0FnQWcwQlFaem93QUJCbk9qQUFDZ0NBRUYrSUFBb0FoeDNjVFlDQUF3Q0N5QUFLQUlJSWdBZ0FrY0VRQ0FBSUFJMkFnd2dBaUFBTmdJSUR3dEJtT2pBQUVHWTZNQUFLQUlBUVg0Z0FVRURkbmR4TmdJQUR3c2dBaUFETmdJWUlBQW9BaEFpQVFSQUlBSWdBVFlDRUNBQklBSTJBaGdMSUFBb0FoUWlBRVVOQUNBQ0lBQTJBaFFnQUNBQ05nSVlDd3VCQXdJRmZ3RitJd0JCUUdvaUJTUUFRUUVoQndKQUlBQXRBQVFOQUNBQUxRQUZJUWtnQUNnQ0FDSUdLQUljSWdoQkJIRkZCRUFnQmlnQ0ZFSGZ4c0FBUWR6R3dBQWdDUnRCQWtFRElBa2JJQVlvQWhnb0Fnd1JBZ0FOQVNBR0tBSVVJQUVnQWlBR0tBSVlLQUlNRVFJQURRRWdCaWdDRkVHc3hzQUFRUUlnQmlnQ0dDZ0NEQkVDQUEwQklBTWdCaUFFS0FJTUVRQUFJUWNNQVFzZ0NVVUVRQ0FHS0FJVVFlSEd3QUJCQXlBR0tBSVlLQUlNRVFJQURRRWdCaWdDSENFSUN5QUZRUUU2QUJzZ0JTQUdLUUlVTndJTUlBVkJ3TWJBQURZQ05DQUZJQVZCRzJvMkFoUWdCU0FHS1FJSU53SWtJQVlwQWdBaENpQUZJQWcyQWpnZ0JTQUdLQUlRTmdJc0lBVWdCaTBBSURvQVBDQUZJQW8zQWh3Z0JTQUZRUXhxSWdnMkFqQWdDQ0FCSUFJUU5nMEFJQVZCREdwQnJNYkFBRUVDRURZTkFDQURJQVZCSEdvZ0JDZ0NEQkVBQUEwQUlBVW9BakJCNU1iQUFFRUNJQVVvQWpRb0Fnd1JBZ0FoQndzZ0FFRUJPZ0FGSUFBZ0J6b0FCQ0FGUVVCckpBQWdBQXZBQWdFRGZ5TUFRWUFCYXlJRUpBQUNmd0pBQWtBZ0FTZ0NIQ0lDUVJCeFJRUkFJQUpCSUhFTkFTQUFOUUlBUVFFZ0FSQldEQU1MSUFBb0FnQWhBRUVBSVFJRFFDQUNJQVJxUWY4QWFpQUFRUTl4SWdOQk1ISWdBMEhYQUdvZ0EwRUtTUnM2QUFBZ0FrRUJheUVDSUFCQkVFa2dBRUVFZGlFQVJRMEFDd3dCQ3lBQUtBSUFJUUJCQUNFQ0EwQWdBaUFFYWtIL0FHb2dBRUVQY1NJRFFUQnlJQU5CTjJvZ0EwRUtTUnM2QUFBZ0FrRUJheUVDSUFCQkVFa2dBRUVFZGlFQVJRMEFDeUFDUVlBQmFpSUFRWUVCVHdSQUlBQkJnQUZCak1mQUFCQ1FBUUFMSUFGQkFVR2N4OEFBUVFJZ0FpQUVha0dBQVdwQkFDQUNheEFzREFFTElBSkJnQUZxSWdCQmdRRlBCRUFnQUVHQUFVR014OEFBRUpBQkFBc2dBVUVCUVp6SHdBQkJBaUFDSUFScVFZQUJha0VBSUFKckVDd0xJQVJCZ0FGcUpBQUwyd0lDQW44R2ZpTUFRUkJySWdJa0FCQ1hBU0lCQkVBQ1FDQUJJQUVwQXdBaUEwSUJmRGNEQUNBQktRTUlJUVFnQUVIb0FHcEJ1SVhBQUNrREFEY0RBQ0FBUWJDRndBQXBBd0EzQTJBZ0FFSC8vd003QVlBQklBQWdCRGNEZUNBQUlBTTNBM0FRbHdFaUFVVU5BQ0FCSUFFcEF3QWlBMElCZkRjREFDQUJLUU1JSVFRUWx3RWlBVVVOQUNBQklBRXBBd0FpQlVJQmZEY0RBQ0FCS1FNSUlRWWdBRUVnYWtHNGpzQUFLUU1BSWdjM0F3QWdBRUd3anNBQUtRTUFJZ2czQXhnZ0FFRUJPZ0JZSUFBZ0JEY0RNQ0FBSUFNM0F5Z2dBQ0FJTndNNElBQkJRR3NnQnpjREFDQUFRZi8vQXpzQmxBRWdBRUVBTmdLUUFTQUFRb0NBZ0lEQUFEY0RpQUVnQUNBR053TlFJQUFnQlRjRFNDQUFRZ0EzQXdBZ0FFRUlha0lBTndNQUlBQkJEV3BDQURjQUFDQUFRUUU2QUJVZ0FrRVFhaVFBRHdzTFFZQ0p3QUJCeGdBZ0FrRVBha0h3aU1BQVFaaUt3QUFRaFFFQUM3MENBZ1YvQVg0akFFRXdheUlGSkFCQkp5RURBa0FnQUVLUXpnQlVCRUFnQUNFSURBRUxBMEFnQlVFSmFpQURhaUlFUVFScklBQWdBRUtRemdDQUlnaENrTTRBZm4ybklnWkIvLzhEY1VIa0FHNGlCMEVCZEVHZXg4QUFhaThBQURzQUFDQUVRUUpySUFZZ0IwSGtBR3hyUWYvL0EzRkJBWFJCbnNmQUFHb3ZBQUE3QUFBZ0EwRUVheUVESUFCQy84SFhMMVlnQ0NFQURRQUxDeUFJcHlJRVFlTUFTd1JBSUFOQkFtc2lBeUFGUVFscWFpQUlweUlFSUFSQi8vOERjVUhrQUc0aUJFSGtBR3hyUWYvL0EzRkJBWFJCbnNmQUFHb3ZBQUE3QUFBTEFrQWdCRUVLVHdSQUlBTkJBbXNpQXlBRlFRbHFhaUFFUVFGMFFaN0h3QUJxTHdBQU93QUFEQUVMSUFOQkFXc2lBeUFGUVFscWFpQUVRVEJ5T2dBQUN5QUNJQUZCQVVFQUlBVkJDV29nQTJwQkp5QURheEFzSUFWQk1Hb2tBQXZEQWdFQ2Z5TUFRUkJySWdJa0FBSkFBbjhDUUNBQlFZQUJUd1JBSUFKQkFEWUNEQ0FCUVlBUVNRMEJJQUZCZ0lBRVNRUkFJQUlnQVVFL2NVR0FBWEk2QUE0Z0FpQUJRUXgyUWVBQmNqb0FEQ0FDSUFGQkJuWkJQM0ZCZ0FGeU9nQU5RUU1NQXdzZ0FpQUJRVDl4UVlBQmNqb0FEeUFDSUFGQkJuWkJQM0ZCZ0FGeU9nQU9JQUlnQVVFTWRrRS9jVUdBQVhJNkFBMGdBaUFCUVJKMlFRZHhRZkFCY2pvQURFRUVEQUlMSUFBb0FnZ2lBeUFBS0FJQVJnUkFJQUFRZFFzZ0FDQURRUUZxTmdJSUlBQW9BZ1FnQTJvZ0FUb0FBQXdDQ3lBQ0lBRkJQM0ZCZ0FGeU9nQU5JQUlnQVVFR2RrSEFBWEk2QUF4QkFnc2hBU0FCSUFBb0FnQWdBQ2dDQ0NJRGEwc0VRQ0FBSUFNZ0FSQjBJQUFvQWdnaEF3c2dBQ2dDQkNBRGFpQUNRUXhxSUFFUTl3RWFJQUFnQVNBRGFqWUNDQXNnQWtFUWFpUUFRUUFMeEFJQkJIOGdBRUlBTndJUUlBQUNmMEVBSUFGQmdBSkpEUUFhUVI4Z0FVSC8vLzhIU3cwQUdpQUJRUVlnQVVFSWRtY2lBMnQyUVFGeElBTkJBWFJyUVQ1cUN5SUNOZ0ljSUFKQkFuUkJnT1hBQUdvaEJFRUJJQUowSWdOQm5PakFBQ2dDQUhGRkJFQWdCQ0FBTmdJQUlBQWdCRFlDR0NBQUlBQTJBZ3dnQUNBQU5nSUlRWnpvd0FCQm5PakFBQ2dDQUNBRGNqWUNBQThMQWtBQ1FDQUJJQVFvQWdBaUF5Z0NCRUY0Y1VZRVFDQURJUUlNQVFzZ0FVRVpJQUpCQVhaclFRQWdBa0VmUnh0MElRVURRQ0FESUFWQkhYWkJCSEZxUVJCcUlnUW9BZ0FpQWtVTkFpQUZRUUYwSVFVZ0FpRURJQUlvQWdSQmVIRWdBVWNOQUFzTElBSW9BZ2dpQVNBQU5nSU1JQUlnQURZQ0NDQUFRUUEyQWhnZ0FDQUNOZ0lNSUFBZ0FUWUNDQThMSUFRZ0FEWUNBQ0FBSUFNMkFoZ2dBQ0FBTmdJTUlBQWdBRFlDQ0F2TkFRRUVmeU1BUVJCcklnSWtBQUpBQWtCQitlUEFBQzBBQUJwQkJFRUJFTmNCSWdORkRRRWdBa0VBTmdJTUlBSWdBellDQ0NBQ1FRUTJBZ1FNQUFzZ0F5QUVha0dBQkRzQUFDQUNJQVJCQW1vaUJUWUNEQ0FDS0FJRUlBVkdCSDhnQWtFRWFoQjFJQUlvQWdnRklBTUxJQVZxUVFBNkFBQWdBaUFFUVFOcUlnTTJBZ3dnQWlnQ0JDQURSZ1JBSUFKQkJHb1FkUXNnQWlnQ0NDQURhaUFCUVNCeU9nQUFJQUJCQ0dvZ0JFRUVhallDQUNBQUlBSXBBZ1EzQWdBZ0FrRVFhaVFBRHd0QkFVRUVFTXdCQUF1MUFnSURmZ2QvSXdCQkVHc2lCaVFBSUFZZ0FUc0JEZ0pBQWtBZ0FDZ0NERVVOQUNBQVFSQnFJQVpCRG1vUU9pRUNJQUFvQWdBaUNVRUNheUVLSUFBb0FnUWlCeUFDcDNFaEJTQUNRaG1JUXY4QWcwS0Jnb1NJa0tEQWdBRitJUVFnQVVILy93TnhJUXNEUUNBRklBbHFLUUFBSWdNZ0JJVWlBa0ovaFNBQ1FvR0NoSWlRb01DQUFYMkRRb0NCZ29TSWtLREFnSCtESWdKUVJRUkFBMEFnQ2lBQ2VxZEJBM1lnQldvZ0IzRkJBWFJyTHdFQUlBdEdEUVFnQWtJQmZTQUNneUlDVUVVTkFBc0xJQU1nQTBJQmhvTkNnSUdDaElpUW9NQ0FmNE5RUlEwQklBVWdDRUVJYWlJSWFpQUhjU0VGREFBTEFBc2dBQ0FCRUQwZ0FDQUFLQUk0SWdGQkFXc2lCVUVBSUFFZ0JVOGJOZ0k0SUFBZ0FDOEJQaUlBUVFGcklnRkJBQ0FBSUFGUEd6c0JQZ3NnQmtFUWFpUUFDNlVDQVFKL0l3QkJFR3NpQWlRQUlBSkJBRFlDREFKL0FrQUNRQ0FCUVlBQlR3UkFJQUZCZ0JCSkRRRWdBVUdBZ0FSUERRSWdBaUFCUVQ5eFFZQUJjam9BRGlBQ0lBRkJESFpCNEFGeU9nQU1JQUlnQVVFR2RrRS9jVUdBQVhJNkFBMUJBd3dEQ3lBQ0lBRTZBQXhCQVF3Q0N5QUNJQUZCUDNGQmdBRnlPZ0FOSUFJZ0FVRUdka0hBQVhJNkFBeEJBZ3dCQ3lBQ0lBRkJQM0ZCZ0FGeU9nQVBJQUlnQVVFR2RrRS9jVUdBQVhJNkFBNGdBaUFCUVF4MlFUOXhRWUFCY2pvQURTQUNJQUZCRW5aQkIzRkI4QUZ5T2dBTVFRUUxJUUVnQVNBQUtBSUlJZ01vQWdBZ0F5Z0NDQ0lBYTBzRVFDQURJQUFnQVJCMElBTW9BZ2doQUFzZ0F5Z0NCQ0FBYWlBQ1FReHFJQUVROXdFYUlBTWdBQ0FCYWpZQ0NDQUNRUkJxSkFCQkFBdlFBZ0VDZnlNQVFUQnJJZ0lrQUFKQUFrQUNRQUpBUWFEaHdBQW9BZ0JGQkVCQnJPSEFBQ2dDQUNFRFFhemh3QUJCQURZQ0FDQURSUTBFSUFKQkVHb2dBeEVCQUVHYzRjQUFRb0tBZ0lBUU53SUFRYWpod0FBZ0FpZ0NGRFlDQUVHazRjQUFJQUlvQWhBaUF6WUNBQXdCQzBHazRjQUFLQUlBSVFNTElBTkJnd0ZOQkVCQnBPSEFBQ0FBTmdJQURBRUxJQU1RQWtHazRjQUFJQUEyQWdCQm9PSEFBQ2dDQUEwQVFhemh3QUFvQWdBaEFFR3M0Y0FBUVFBMkFnQWdBRVVOQWlBQ1FRaHFJQUFSQVFCQm5PSEFBRUtDZ0lDQUVEY0NBRUdvNGNBQUlBSW9BZ3dpQXpZQ0FFR2s0Y0FBSUFJb0FnZzJBZ0FNQVF0QnFPSEFBQ2dDQUNFREN5QURRWVFCVHdSQUlBTVFBZ3RCcU9IQUFDQUJOZ0lBSUFKQk1Hb2tBQThMSUFKQkFEWUNLQ0FDUVFFMkFod2dBa0hFa3NBQU5nSVlJQUpDQkRjQ0lDQUNRUmhxUWNDVHdBQVFwQUVBQzc0Q0FnUi9BWDRqQUVGQWFpSURKQUJCQVNFRkFrQWdBQzBBQkEwQUlBQXRBQVVoQlFKQUlBQW9BZ0FpQkNnQ0hDSUdRUVJ4UlFSQUlBVkZEUUZCQVNFRklBUW9BaFJCMzhiQUFFRUNJQVFvQWhnb0Fnd1JBZ0JGRFFFTUFnc2dCVVVFUUVFQklRVWdCQ2dDRkVIdHhzQUFRUUVnQkNnQ0dDZ0NEQkVDQUEwQ0lBUW9BaHdoQmd0QkFTRUZJQU5CQVRvQUd5QURJQVFwQWhRM0Fnd2dBMEhBeHNBQU5nSTBJQU1nQTBFYmFqWUNGQ0FESUFRcEFnZzNBaVFnQkNrQ0FDRUhJQU1nQmpZQ09DQURJQVFvQWhBMkFpd2dBeUFFTFFBZ09nQThJQU1nQnpjQ0hDQURJQU5CREdvMkFqQWdBU0FEUVJ4cUlBSW9BZ3dSQUFBTkFTQURLQUl3UWVUR3dBQkJBaUFES0FJMEtBSU1FUUlBSVFVTUFRc2dBU0FFSUFJb0Fnd1JBQUFoQlFzZ0FFRUJPZ0FGSUFBZ0JUb0FCQ0FEUVVCckpBQUxwUUlDQTM4QmZpTUFRVUJxSWdJa0FDQUJLQUlBUVlDQWdJQjRSZ1JBSUFFb0Fnd2hBeUFDUVNScUlnUkJBRFlDQUNBQ1FvQ0FnSUFRTndJY0lBSkJPR29nQTBFUWFpa0NBRGNEQUNBQ1FUQnFJQU5CQ0dvcEFnQTNBd0FnQWlBREtRSUFOd01vSUFKQkhHcEI3S3ZBQUNBQ1FTaHFFRE1hSUFKQkdHb2dCQ2dDQUNJRE5nSUFJQUlnQWlrQ0hDSUZOd01RSUFGQkNHb2dBellDQUNBQklBVTNBZ0FMSUFFcEFnQWhCU0FCUW9DQWdJQVFOd0lBSUFKQkNHb2lBeUFCUVFocUlnRW9BZ0EyQWdBZ0FVRUFOZ0lBUWZuandBQXRBQUFhSUFJZ0JUY0RBRUVNUVFRUTF3RWlBUVJBSUFFZ0Fpa0RBRGNDQUNBQlFRaHFJQU1vQWdBMkFnQWdBRUhrdXNBQU5nSUVJQUFnQVRZQ0FDQUNRVUJySkFBUEMwRUVRUXdROFFFQUM3a0NBZ1IvQVg0akFFRkFhaUlESkFBZ0FDZ0NBQ0VGSUFBQ2YwRUJJQUF0QUFnTkFCb2dBQ2dDQkNJRUtBSWNJZ1pCQkhGRkJFQkJBU0FFS0FJVVFkL0d3QUJCNmNiQUFDQUZHMEVDUVFFZ0JSc2dCQ2dDR0NnQ0RCRUNBQTBCR2lBQklBUWdBaWdDREJFQUFBd0JDeUFGUlFSQVFRRWdCQ2dDRkVIcXhzQUFRUUlnQkNnQ0dDZ0NEQkVDQUEwQkdpQUVLQUljSVFZTElBTkJBVG9BR3lBRElBUXBBaFEzQWd3Z0EwSEF4c0FBTmdJMElBTWdBMEViYWpZQ0ZDQURJQVFwQWdnM0FpUWdCQ2tDQUNFSElBTWdCallDT0NBRElBUW9BaEEyQWl3Z0F5QUVMUUFnT2dBOElBTWdCemNDSENBRElBTkJER28yQWpCQkFTQUJJQU5CSEdvZ0FpZ0NEQkVBQUEwQUdpQURLQUl3UWVUR3dBQkJBaUFES0FJMEtBSU1FUUlBQ3pvQUNDQUFJQVZCQVdvMkFnQWdBMEZBYXlRQUMvb0JBUVIvSUFBb0FwUUJJUUVnQUNnQ21BRWlBd1JBSUFFaEFnTkFJQUlvQWdBaUJBUkFJQUpCQkdvb0FnQWdCRUVCRU9NQkN5QUNRUlJxSVFJZ0EwRUJheUlERFFBTEN5QUFLQUtRQVNJQ0JFQWdBU0FDUVJSc1FRUVE0d0VMQWtBZ0FDZ0NiQ0lCUlEwQUlBRWdBVUVCZEVFSmFrRjRjU0lDYWtFSmFpSUJSUTBBSUFBb0FtZ2dBbXNnQVVFSUVPTUJDd0pBSUFBb0FpUWlBVVVOQUNBQklBRkJCbXhCRFdwQmVIRWlBbXBCQ1dvaUFVVU5BQ0FBS0FJZ0lBSnJJQUZCQ0JEakFRc0NRQ0FBS0FKRUlnRkZEUUFnQVNBQlFRSjBRUXRxUVhoeElnSnFRUWxxSWdGRkRRQWdBQ2dDUUNBQ2F5QUJRUWdRNHdFTEM5d1FBZzkvQVg0akFFSHdBR3NpQWlRQUFrQUNRRUdXNHNBQUxRQUFRUUpHQkVCQnFPTEFBQ2dDQUNFRFFhaml3QUJCQURZQ0FDQURSUTBCSUFJZ0F4RUJBRUd3NGNBQUlBSkI4QUFROXdFYVFhRGl3QUJCQWpZQ0FFR1c0c0FBTFFBQVFRSkdEUUlMUWZ6aHdBQkIvT0hBQUNnQ0FFRUJhallDQUVHTTRzQUFRWXppd0FBdkFRQkJBV283QVFCQitPSEFBQ0FBUVFocUlnWXZBUUFpQTBINDRjQUFLQUlBYWpZQ0FFSHc0Y0FBUWZEaHdBQXBBd0FnQTYxOE53TUFJQUF0QUJNZ0FDMEFFaEFuSVFNZ0FrRVlhaUFBUVJocUtBSUFOZ0lBSUFKQkVHb2dBRUVRYWlrQ0FEY0RBQ0FDUVFocUlBWXBBZ0EzQXdBZ0FpQUFLUUlBTndNQUl3QkI4QUZySWdFa0FDQUJJQU5CMkFCcUlnUW9BcGdCSWdNMkFnd0NRQUpBQWtBQ1FBSkFJQU5CdUJkTkJFQWdBU0FDTHdFUUlnYzdBUkFnQVVFU2FpQUVRY2dBYWlBSEVFRWdBUzhCRWlJQVFRSkdCRUFnQVVFQk5nS0VBU0FCUWR5RHdBQTJBb0FCSUFGQ0FUY0NqQUVnQVNBQ1FSQnFyVUtBZ0lDQXdBQ0VOd000SUFFZ0FVRTRhallDaUFFZ0FVSElBR29nQVVHQUFXb1FTaUFCS0FKSUlnQUVRQ0FCS0FKTUlBQkJBUkRqQVF0QitlUEFBQzBBQUJvTUFnc2dCRUdRQVdvaERpQUNLQUlNSVE4Q1FBSkFBa0FDUUFKQUFrQWdBRUVCYXc0REFRQUNBd3NBQ3lBRUtBS1VBVUVNYXlFR0lBUW9BcGdCSWdoQkhHd2hDUU5BSUFoRkRRTWdCeUFHSUFscUx3RUFJZ05HSWdCRklBY2dBMnRCLy84RGNVRzgvd0ZKY1EwRElBaEJBV3NoQ0NBSlFSeHJJUWtnQUVVTkFBdEJsdUxBQUMwQUFFRUNSZ1JBUWFqaXdBQW9BZ0FoQTBHbzRzQUFRUUEyQWdBZ0EwVU5DU0FCUVlBQmFpSUFJQU1SQVFCQnNPSEFBQ0FBUWZBQUVQY0JHa0dnNHNBQVFRSTJBZ0JCbHVMQUFDMEFBRUVDUmcwTUMwSFE0Y0FBSUFjUVdpQUVJQThRS0NBQ0tBSUFJZ0JGRFFjZ0FpZ0NCQ0FBUVFFUTR3RU1Cd3NnQWkwQUV5QUJJQUV2QVJRN0FUWWdBUzhCRmlBQlFRTTJBa3dnQVVId2c4QUFOZ0pJSUFGQ0F6Y0NWQ0FCSUFGQk5tcXRRb0NBZ0lEQUFJUTNBNUFCSUFFZ0FVRU1hcTFDZ0lDQWdOQUFoRGNEaUFFZ0FTQUJRUkJxclVLQWdJQ0F3QUNFTndPQUFTQUJJQUZCZ0FGcU5nSlFJQUZCT0dvZ0FVSElBR29RU2lBQktBSTRJZ0FFUUNBQktBSThJQUJCQVJEakFRc2dCRUh3QUdvZ0FpQUJLQUlNRUQ0Z0FVSDRBR29pQmlBQ1FSaHFLQUlBTmdJQUlBRkI4QUJxSWdNZ0FrRVFhaWtDQURjREFDQUJRZWdBYWlJQUlBSkJDR29wQWdBM0F3QWdBU0FDS1FJQU53TmdJQVFvQXBnQklnd2dCQ2dDa0FGR0JFQWdEaEJ2Q3lBRUtBS1VBU0FNUVJ4c2FpSUpJQUVwQTJBM0FnQWdDVUVZYWlBR0tBSUFOZ0lBSUFsQkVHb2dBeWtEQURjQ0FDQUpRUWhxSUFBcEF3QTNBZ0FnQkNBTVFRRnFOZ0tZQVNBQkx3RTJJZ1loQzBHVzRzQUFMUUFBUVFKR0JFQkJxT0xBQUNnQ0FDRURRYWppd0FCQkFEWUNBQ0FEUlEwSUlBRkJnQUZxSWdBZ0F4RUJBRUd3NGNBQUlBQkI4QUFROXdFYVFhRGl3QUJCQWpZQ0FFR1c0c0FBTFFBQVFRSkdEUXNnQVM4Qk5pRUxDMEdJNHNBQVFZaml3QUFvQWdBZ0JtbzJBZ0JCanVMQUFFR080c0FBTHdFQUlBWnFPd0VBSUFRdEFFQU5BaUFMRUlNQkRBSUxJQVJCOEFCcUlBSWdBeEErSUFGQk1Hb2lCaUFDUVJocUtBSUFOZ0lBSUFGQktHb2lBeUFDUVJCcUtRSUFOd01BSUFGQklHb2lBQ0FDUVFocUtRSUFOd01BSUFFZ0Fpa0NBRGNER0NBRUtBS1lBU0lISUFRb0FwQUJSZ1JBSUE0UWJ3c2dCQ2dDbEFFZ0IwRWNiR29pQ2lBQktRTVlOd0lBSUFwQkdHb2dCaWdDQURZQ0FDQUtRUkJxSUFNcEF3QTNBZ0FnQ2tFSWFpQUFLUU1BTndJQUlBUWdCMEVCYWpZQ21BRU1BUXNnQkVId0FHb2lBQ0FDSUFnUVBpQUVLQUo4SWdvRVFDQUFLQUlBSWd0QkNHb2hEQ0FMS1FNQVFuK0ZRb0NCZ29TSWtLREFnSCtESVJBRFFDQVFVQVJBQTBBZ0MwR2dBV3NoQ3lBTUtRTUFJQXhCQ0dvaERFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lJUVVBMEFDd3NnQ3lBUWVxZEJBM1pCYkd4cUlnTkJGR3NvQWdBaUFDQVBSaUFBSUE5clFidi9BVXR5UlFSQUl3QkIwQUJySWdVa0FDQUZRY1NMd0FBMkFoZ2dCVUlFTndJa0lBVWdBMEVRYXlJTlFRMXFJZ2F0UW9DQWdJRGdBSVEzQTBnZ0JTQU5RUXhxSWdPdFFvQ0FnSURnQUlRM0EwQWdCU0FOclVLQWdJQ0EwQUNFTndNd0lBVkJCRFlDSENBRklBMUJCR29pQjYxQ2dJQ0FnTkFBaERjRE9DQUZJQVZCTUdvMkFpQWdCVUVNYWlBRlFSaHFFRW9nQlNnQ0RDSUFCRUFnQlNnQ0VDQUFRUUVRNHdFTElBTXRBQUFFUUNBTklBMG9BZ0JCQVdvMkFnQUxJQVl0QUFBRVFDQUhJQWNvQWdCQkFXbzJBZ0FMSUFWQjBBQnFKQUFMSUJCQ0FYMGdFSU1oRUNBS1FRRnJJZ29OQUFzTElBRkJtQUZxSUFKQkdHb29BZ0EyQWdBZ0FVR1FBV29nQWtFUWFpa0NBRGNEQUNBQlFZZ0JhaUFDUVFocUtRSUFOd01BSUFFZ0Fpa0NBRGNEZ0FFZ0JDZ0NtQUVpQUNBSVNRMERJQTRvQWdBZ0FFWUVRQ0FPRUc4TElBUW9BcFFCSUFscUlRTWdBQ0FJU3dSQUlBTkJIR29nQXlBQUlBaHJRUnhzRVBZQkdnc2dBeUFCS1FPQUFUY0NBQ0FEUVJocUlBRkJtQUZxS0FJQU5nSUFJQU5CRUdvZ0FVR1FBV29wQXdBM0FnQWdBMEVJYWlBQlFZZ0JhaWtEQURjQ0FDQUVJQUJCQVdvMkFwZ0JDeUFFSUE4UUtBd0RDeUFFSUFJdEFCTWdBaTBBRWlBQ0x3RVFFRGdMSUFJb0FnQWlBRVVOQVNBQ0tBSUVJQUJCQVJEakFRd0JDeUFJSUFBUWpnRUFDeUFCUWZBQmFpUUFEQUVMSUFGQkFEWUNrQUVnQVVFQk5nS0VBU0FCUWNTU3dBQTJBb0FCSUFGQ0JEY0NpQUVnQVVHQUFXcEJ3SlBBQUJDa0FRQUxJQUpCOEFCcUpBQVBDeUFDUVFBMkFoQWdBa0VCTmdJRUlBSkJ4SkxBQURZQ0FDQUNRZ1EzQWdnZ0FrSEFrOEFBRUtRQkFBdEIwSlBBQUVFb1FmaVR3QUFRclFFQUMvUUJBZ0YrQjM4Q1FDQUFLQUlFSWdaRkRRQWdBQ2dDRENJSEJFQWdBQ2dDQUNJQ1FRaHFJUU1nQWlrREFFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lFQkEwQWdBVkFFUUFOQUlBSkJnQUZySVFJZ0F5a0RBQ0FEUVFocUlRTkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaUFWQU5BQXNMSUFJZ0FYcW5RUUYwUWZBQmNXdEJFR3NpQkVFSWFpZ0NBQ0VJSUFSQkRHb29BZ0FpQkNnQ0FDSUZCRUFnQ0NBRkVRRUFDeUFFS0FJRUlnVUVRQ0FJSUFVZ0JDZ0NDQkRqQVFzZ0FVSUJmU0FCZ3lFQklBZEJBV3NpQncwQUN3c2dCaUFHUVFSMElnTnFRUmxxSWdKRkRRQWdBQ2dDQUNBRGEwRVFheUFDUVFnUTR3RUxDNEVDQVFKL0l3QkJNR3NpQWlRQUFuOENRQ0FBS0FJQUlnQkJBRWdFUUVILzh3RWdBSFpCQVhGRklBQkIvLy8vL3dkeElnTkJEMDl5RFFFZ0FTQURRUUowSWdCQjJLZkFBR29vQWdBZ0FFR1VxTUFBYWlnQ0FCRFFBUXdDQ3lBQ0lBQTJBaXdnQWtFQk5nSU1JQUpCeUtmQUFEWUNDQ0FDUWdFM0FoUWdBaUFDUVN4cXJVS0FnSUNBa0FhRU53TWdJQUlnQWtFZ2FqWUNFQ0FCS0FJVUlBRW9BaGdnQWtFSWFoQXpEQUVMSUFKQkFUWUNEQ0FDUWJTbndBQTJBZ2dnQWtJQk53SVVJQUlnQURZQ0xDQUNJQUpCTEdxdFFvQ0FnSURRQUlRM0F5QWdBaUFDUVNCcU5nSVFJQUVvQWhRZ0FTZ0NHQ0FDUVFocUVETUxJQUpCTUdva0FBdnpBUUVFZnlBQUtBSUVJUUlnQUNnQ0FDRUJJQUJDaElDQWdNQUFOd0lBSUFJZ0FXdEJIRzRoQXlBQUtBSUlJUVFDUUFKQUlBRWdBa1lFUUNBQUtBSVFJZ0ZGRFFFZ0FDZ0NEQ0lDSUFRb0FnZ2lBRVlOQWlBRUtBSUVJZ01nQUVFY2JHb2dBeUFDUVJ4c2FpQUJRUnhzRVBZQkdnd0NDd05BSUFFb0FnQWlBZ1JBSUFGQkJHb29BZ0FnQWtFQkVPTUJDeUFCUVJ4cUlRRWdBMEVCYXlJRERRQUxJQUFvQWhBaUFVVU5BQ0FBS0FJTUlnSWdCQ2dDQ0NJQVJ3UkFJQVFvQWdRaUF5QUFRUnhzYWlBRElBSkJIR3hxSUFGQkhHd1E5Z0VhQ3lBRUlBQWdBV28yQWdnTER3c2dCQ0FBSUFGcU5nSUlDNjBDQWdKL0JINGpBRUVRYXlJQ0pBQVFsd0VpQVFSQVFnRWhBeUFCSUFFcEF3QWlCRUlCZkRjREFDQUJLUU1JSVFVQ2ZrSFk2TUFBS1FNQVVFVUVRRUhnNk1BQUtRTUFJUU5CNk9qQUFDa0RBQXdCQzBIbzZNQUFRZ0kzQXdCQjJPakFBRUlCTndNQVFnSUxJUVlnQUVJQU53TkFJQUFnQlRjRE9DQUFJQVEzQXpBZ0FFRXlPd0ZvSUFBZ0JqY0RHQ0FBSUFNM0F4QkI0T2pBQUNBRFFnRjhOd01BSUFCQnNJWEFBQ2tEQURjRElDQUFRU2hxUWJpRndBQXBBd0EzQXdBZ0FFSElBR3BDQURjREFDQUFRZEFBYWtJQU53TUFJQUJCMkFCcVFnQTNBd0FnQUVIZkFHcENBRGNBQUNBQVFiQ093QUFwQXdBM0F3QWdBRUVJYWtHNGpzQUFLUU1BTndNQUlBSkJFR29rQUE4TFFZQ0p3QUJCeGdBZ0FrRVBha0h3aU1BQVFaaUt3QUFRaFFFQUM3QUNBZ0ovQTM0akFFRVFheUlDSkFBUWx3RWlBUVJBUWdFaEF5QUJJQUVwQXdBaUJFSUJmRGNEQUNBQktRTUlJUVVnQUVFb2FrRzRoY0FBS1FNQU53TUFJQUJCc0lYQUFDa0RBRGNESUNBQVFRQTZBR1FnQUVFQU5nSklJQUFnQlRjRE9DQUFJQVEzQXpBZ0FFR0FBanNBWlNBQVFnQTNBbHdnQUVJQU53TkFJQUJDQURjQ1RDQUFRZFFBYWtJQU53SUFBbjVCMk9qQUFDa0RBRkJGQkVCQjRPakFBQ2tEQUNFRFFlam93QUFwQXdBTUFRdEI2T2pBQUVJQ053TUFRZGpvd0FCQ0FUY0RBRUlDQ3lFRUlBQkJNanNCYUNBQUlBUTNBeGdnQUNBRE53TVFRZURvd0FBZ0EwSUJmRGNEQUNBQVFaQ1V3QUFwQXdBM0F3QWdBRUVJYWtHWWxNQUFLUU1BTndNQUlBSkJFR29rQUE4TFFZQ0p3QUJCeGdBZ0FrRVBha0h3aU1BQVFaaUt3QUFRaFFFQUMvd0JBZ1IvQkg0akFFRXdheUlDSkFBZ0FrRW9ha0lBTndNQUlBSkJJR3BDQURjREFDQUNRUmhxUWdBM0F3QWdBa0lBTndNUUlBSkJDR29nQWtFUWFoQ2hBUUpBSUFJb0FnZ2lBMFVFUUNBQ0tRTVFJUVlnQWlrREdDRUhJQUlwQXlBaENDQUNLUU1vSVFsQnFJckFBQkNvQVNFRElBQkJySXJBQUJDb0FUWUNMQ0FBSUFNMkFpZ2dBRUlBTndNZ0lBQWdDVGNER0NBQUlBZzNBeEFnQUNBSE53TUlJQUFnQmpjREFBd0JDeUFDS0FJTUlnVW9BZ0FpQkFSQUlBTWdCQkVCQUFzZ0JTZ0NCQ0lFUlEwQUlBTWdCQ0FGS0FJSUVPTUJDeUFBUVFBMkFrQWdBQ0FBS1FNd1FvQUNmVGNET0NBQUlBRVFJeUFDUVRCcUpBQUwvUUVCQVg4akFFRWdheUlDSkFBZ0FrRU1haUFCUWZDaHdBQkJCUkM2QVFKQUFrQWdBQ2dDQUNJQVFRQklCRUJCLy9NQklBQjJRUUZ4UlNBQVFmLy8vLzhIY1NJQlFROVBjZzBCSUFJZ0FVRUNkQ0lCUVpTb3dBQnFLQUlBTmdJWUlBSWdBVUhZcDhBQWFpZ0NBRFlDRkNBQ0lBQTJBaHdnQWtFTWFpSUFRZFNtd0FCQkRTQUNRUnhxUWNTbXdBQVFVeG9nQUVIMHBzQUFRUXNnQWtFVWFrSGtwc0FBRUZNYURBSUxJQUlnQURZQ0ZDQUNRUXhxUVp5bndBQkJDQ0FDUVJScVFZeW53QUFRVXhvTUFRc2dBaUFBTmdJVUlBSkJER3BCLzZiQUFFRU1JQUpCRkdwQnhLYkFBQkJUR2dzZ0FrRU1haENJQVNBQ1FTQnFKQUFMNEFFQkEzOGpBRUV3YXlJQkpBQWdBRUVFYWlnQ0FDRURJQUFvQWdBaUFpZ0NBQ0VBSUFKQkFEWUNBQ0FBS0FJd0lRSWdBRUVBTmdJd0lBSUVRQ0FCUVFocUlBSVJBUUFnQXlnQ0FDSUFLQUlBQkVBZ0FCQmlJQU1vQWdBaEFBc2dBQ0FCS1FNSU53TUFJQUJCSUdvZ0FVRW9haWtEQURjREFDQUFRUmhxSUFGQklHb3BBd0EzQXdBZ0FFRVFhaUFCUVJocUtRTUFOd01BSUFCQkNHb2dBVUVRYWlrREFEY0RBQ0FCUVRCcUpBQkJBUThMSUFGQkFEWUNHQ0FCUVFFMkFnd2dBVUhFa3NBQU5nSUlJQUZDQkRjQ0VDQUJRUWhxUWJDVHdBQVFwQUVBQzlzQkFRTi9Jd0JCTUdzaUFTUUFJQUFvQWdBaUFpZ0NBQ0VESUFKQkFEWUNBQ0FES0FJd0lRSWdBMEVBTmdJd0lBSUVRQ0FCUVFocUlBSVJBUUFnQUNnQ0JDSURLQUlBSWdBb0FnQUVRQ0FBRUdJZ0F5Z0NBQ0VBQ3lBQUlBRXBBd2czQXdBZ0FFRWdhaUFCUVNocUtRTUFOd01BSUFCQkdHb2dBVUVnYWlrREFEY0RBQ0FBUVJCcUlBRkJHR29wQXdBM0F3QWdBRUVJYWlBQlFSQnFLUU1BTndNQUlBRkJNR29rQUVFQkR3c2dBVUVBTmdJWUlBRkJBVFlDRENBQlFjU1N3QUEyQWdnZ0FVSUVOd0lRSUFGQkNHcEJzSlBBQUJDa0FRQUx4QUlDQkg4RGZpTUFRU0JySWdFa0FDTUFRUkJySWdBa0FDQUJRUWcyQWdBZ0FVRWdOZ0lFSUFCQkVHb2tBQ0FCS0FJQUlRSUNRQUpBSUFFb0FnUWlBd1IvUWZuandBQXRBQUFhSUFNZ0FoRFhBUVVnQWdzaUFBUkFJQUJCQWpZQ0VDQUFRb0dBZ0lBUU53TUFRZmprd0FBcEF3QWhCQU5BSUFSQ2YxRU5Ba0g0NU1BQUlBUkNBWHdpQlVINDVNQUFLUU1BSWdZZ0JDQUdVU0lDR3pjREFDQUdJUVFnQWtVTkFBdEI4T2pBQUNBRk53TUFJQUFnQlRjRENFSDQ2TUFBS0FJQVJRMENJQUZCQURZQ0dDQUJRUUUyQWd3Z0FVSFlxc0FBTmdJSUlBRkNCRGNDRUNBQlFRaHFRYkNyd0FBUXBBRUFDeUFDSUFNUThRRUFDeU1BUVNCcklnQWtBQ0FBUVFBMkFoZ2dBRUVCTmdJTUlBQkJsSy9BQURZQ0NDQUFRZ1EzQWhBZ0FFRUlha0djcjhBQUVLUUJBQXRCK09qQUFDQUFOZ0lBSUFGQklHb2tBQXZhQWdFQ2Z5TUFRVEJySWdNa0FDQURRUXhxSWdJZ0FTZ0NGRUVCUVFBZ0FTZ0NHQ2dDREJFQ0FEb0FDQ0FDSUFFMkFnUWdBa0VCT2dBSklBSkJBRFlDQUNBRElBQkJCR28yQWhnZ0F5QUFRUVZxTmdJY0lBTWdBRUVHYWpZQ0lDQURJQUJCQjJvMkFpUWdBeUFBTmdJb0lBTWdBRUVJYWpZQ0xDQUNJQU5CR0dwQnpKVEFBQkJmSUFJZ0EwRWNha0hNbE1BQUVGOGdBaUFEUVNCcVFjeVV3QUFRWHlBQ0lBTkJKR3BCekpUQUFCQmZJQUlnQTBFb2FrSGNsTUFBRUY4Z0FpQURRU3hxUWN5VXdBQVFYd0ovSUFJdEFBZ2lBRUVBUnlBQ0tBSUFJZ0ZGRFFBYUFrQWdBRVVFUUNBQ0tBSUVJUUFnQVVFQlJ3MEJJQUl0QUFsRkRRRWdBQzBBSEVFRWNRMEJJQUFvQWhSQjdNYkFBRUVCSUFBb0FoZ29BZ3dSQWdCRkRRRUxJQUpCQVRvQUNFRUJEQUVMSUFJZ0FDZ0NGRUhvdzhBQVFRRWdBQ2dDR0NnQ0RCRUNBQ0lBT2dBSUlBQUxJQU5CTUdva0FBdTZBUUlCZmdOL0l3QkJFR3NpQXlRQUlBTkJCR29nQVJDN0FTQUFLQUlZSWdRRVFDQUFLQUlRSVFFZ0FDZ0NDQ0VGSUFBcEF3QWhBZ05BSUFKUUJFQWdCU0VBQTBBZ0FVR2dBV3NoQVNBQUtRTUFJQUJCQ0dvaUJTRUFRbitGUW9DQmdvU0lrS0RBZ0grRElnSlFEUUFMQ3lBRElBRWdBbnFuUVFOMlFXeHNha0VVYXpZQ0RDQURRUVJxSUFOQkRHcEIzSlRBQUJCZElBSkNBWDBnQW9NaEFpQUVRUUZySWdRTkFBc0xJQU5CQkdvUXVRRWdBMEVRYWlRQUMvZ0JBUUovSXdCQklHc2lCU1FBUWZEa3dBQkI4T1RBQUNnQ0FDSUdRUUZxTmdJQUFrQWdCa0VBU0EwQVFjam93QUF0QUFCRkJFQkJ5T2pBQUVFQk9nQUFRY1Rvd0FCQnhPakFBQ2dDQUVFQmFqWUNBRUhrNU1BQUtBSUFJZ1pCQUVnTkFVSGs1TUFBSUFaQkFXbzJBZ0JCNU9UQUFFSG81TUFBS0FJQUJIOGdCU0FBSUFFb0FoUVJBd0FnQlNBRU9nQWRJQVVnQXpvQUhDQUZJQUkyQWhnZ0JTQUZLUU1BTndJUVFlamt3QUFvQWdBZ0JVRVFha0hzNU1BQUtBSUFLQUlVRVFNQVFlVGt3QUFvQWdCQkFXc0ZJQVlMTmdJQVFjam93QUJCQURvQUFDQURSUTBCQUFzZ0JVRUlhaUFBSUFFb0FoZ1JBd0FMQUF2RUFRRUdmeU1BUVNCcklnRWtBQ0FBS0FJQUlnSkJmMFlFUUVFQVFRQVF6QUVBQzBFRUlRVkJCQ0FDUVFGMElnTWdBa0VCYWlJRUlBTWdCRXNiSWdNZ0EwRUVUUnNpQkVFY2JDRUdJQU5CcFpMSkpFbEJBblFoQXdKQUlBSkZCRUJCQUNFRkRBRUxJQUVnQWtFY2JEWUNIQ0FCSUFBb0FnUTJBaFFMSUFFZ0JUWUNHQ0FCUVFocUlBTWdCaUFCUVJScUVIc2dBU2dDQ0FSQUlBRW9BZ3dnQVNnQ0VCRE1BUUFMSUFFb0Fnd2hBaUFBSUFRMkFnQWdBQ0FDTmdJRUlBRkJJR29rQUF2WUFRRUZmeU1BUVNCcklnRWtBQ0FBUVFScUtBSUFJUU1nQUNnQ0FDSUNLQUlBSVFBZ0FrRUFOZ0lBSUFBb0FoQWhBaUFBUVFBMkFoQWdBZ1JBSUFFZ0FoRUJBQ0FCS0FJRUlRUWdBU2dDQUNFRkFrQWdBeWdDQUNJQUtBSUFSUTBBSUFBb0FnZ2hBaUFBS0FJRUlnQkJoQUZQQkVBZ0FCQUNDeUFDUVlRQlNRMEFJQUlRQWdzZ0F5Z0NBQ0lBSUFRMkFnZ2dBQ0FGTmdJRUlBQkJBVFlDQUNBQlFTQnFKQUJCQVE4TElBRkJBRFlDR0NBQlFRRTJBZ3dnQVVIRWtzQUFOZ0lJSUFGQ0JEY0NFQ0FCUVFocVFiQ1R3QUFRcEFFQUM3RUJBUVovSXdCQklHc2lBU1FBSUFBb0FnQWlBa0YvUmdSQVFRQkJBQkRNQVFBTFFRUWdBa0VCZENBQ1FRRnFJQUpCQUVvYklnTWdBMEVFVFJzaUJVRVViQ0VHSUFFZ0FnUi9JQUVnQWtFVWJEWUNIQ0FCSUFBb0FnUTJBaFJCQkFVZ0JBczJBaGdnQVVFSWFpQURRZWZNbVROSlFRSjBJQVlnQVVFVWFoQjdJQUVvQWdnRVFDQUJLQUlNSUFFb0FoQVF6QUVBQ3lBQktBSU1JUUlnQUNBRk5nSUFJQUFnQWpZQ0JDQUJRU0JxSkFBTG1BMENDSDhCZmlNQVFkQUFheUlGSkFBZ0JVRUdOZ0lNSUFWQi9MYkFBRFlDQ0FKQUFrQUNRQUovSXdCQklHc2lBeVFBQWtBQ1FFR281TUFBTFFBQVJRMEFRY3pvd0FBdEFBQkZCRUFqQUVFUWF5SUJKQUJCek9qQUFDMEFBQ0VHUWN6b3dBQkJBVG9BQUVIUTZNQUFLQUlBSVFSQjBPakFBRUVBTmdJQUlBRWdCRFlDRENBQklBWTJBZ2dDUUNBR1JTQUVSWElOQUNBRUlBUW9BZ0FpQkVFQmF6WUNBQ0FFUVFGSERRQWdBVUVNYWhDZkFRc2dBVUVRYWlRQUMwSFE2TUFBS0FJQUlRUkIwT2pBQUVFQU5nSUFJQVJGRFFBZ0JDMEFDQ0VCSUFSQkFUb0FDQ0FESUFFNkFBY2dBUTBCSUFOQkNHb2hBaU1BUVRCcklnRWtBQ0FCUVFRNkFBZ2dBU0FFUVF4cU5nSVFBa0FnQVVFSWFrSFVxOEFBSUFBUU0wVUVRQ0FDUVFRNkFBQWdBU2dDRENFQ0lBRXRBQWdpQmtFRVRTQUdRUU5IY1EwQklBSW9BZ0FoQmlBQ1FRUnFLQUlBSWdjb0FnQWlDQVJBSUFZZ0NCRUJBQXNnQnlnQ0JDSUlCRUFnQmlBSUlBY29BZ2dRNHdFTElBSkJERUVFRU9NQkRBRUxJQUV0QUFoQkJFY0VRQ0FDSUFFcEF3ZzNBZ0FNQVFzTUJRc2dBVUV3YWlRQUlBTW9BZ3doQVNBRExRQUlJZ0pCQkUwZ0FrRURSM0ZGQkVBZ0FTZ0NBQ0VDSUFGQkJHb29BZ0FpQmlnQ0FDSUhCRUFnQWlBSEVRRUFDeUFHS0FJRUlnY0VRQ0FDSUFjZ0JpZ0NDQkRqQVFzZ0FVRU1RUVFRNHdFTElBUkJBRG9BQ0VIUTZNQUFLQUlBSVFGQjBPakFBQ0FFTmdJQUlBTWdBVFlDQ0FKQUlBRkZEUUFnQVNBQktBSUFJZ0ZCQVdzMkFnQWdBVUVCUncwQUlBTkJDR29RbndFTFFRRWhBZ3NnQTBFZ2FpUUFJQUlNQVFzTUF3dEZCRUJCMk9UQUFDMEFBRUVEUndSQUl3QkJFR3NpQWlRQVFkamt3QUF0QUFCQkEwY0VRQ0FDUWJEa3dBQTJBZ1FnQWlBQ1FROXFOZ0lJSUFKQkJHb2hCQ01BUVNCcklnTWtBQUpBQWtBQ1FBSkFBa0JCMk9UQUFDMEFBQ0lCUVFKUEJFQWdBVUVEYXcwRURBRUxRZGprd0FCQkFqb0FBQ0FFS0FJQUlRRWdCRUVBTmdJQUlBRkZEUUZCK2VQQUFDMEFBQnBCZ0FoQkFSRFhBU0lFUlEwQ0lBRkJBRG9BSUNBQlFRQTJBaHdnQVNBRU5nSVlJQUZDZ0lDQWdJQ0FBVGNERUNBQlFRQTZBQXdnQVVFQU5nSUlJQUZDQURjREFFSFk1TUFBUVFNNkFBQUxJQU5CSUdva0FBd0RDMEdjdWNBQUVPY0JBQXRCQVVHQUNCRE1BUUFMSUFOQkFEWUNHQ0FEUVFFMkFnd2dBMEdJdk1BQU5nSUlJQU5DQkRjQ0VDQURRUWhxUVl5NXdBQVFwQUVBQ3dzZ0FrRVFhaVFBQ3lBRlFiRGt3QUEyQWh3Z0JTQUZRUnhxTmdJb0lBVkJFR29oQmlNQVFUQnJJZ0VrQUNBQkFuOGdCVUVvYWlnQ0FDTUFRU0JySWdNa0FDZ0NBQ0VFQWtBQ1FBSkFRZkRvd0FBcEF3QWlDVUlBVWcwQVFmam93QUFvQWdBaUFrVUVRQkJyUWZqb3dBQW9BZ0FoQWdzZ0FpQUNLQUlBSWdkQkFXbzJBZ0FnQjBFQVNBMEJJQUpGRFFJZ0FpQUNLQUlBSWdkQkFXczJBZ0FnQXlBQ05nSUlJQUlwQXdnaENTQUhRUUZIRFFBZ0EwRUlhaENZQVFzQ1FBSkFJQVFwQXdBZ0NWSUVRQ0FFTFFBTUlRSWdCRUVCT2dBTUlBTWdBam9BQnlBQ1JRMEJEQWtMSUFRb0FnZ2lBa0YvUndSQUlBUWdBa0VCYWpZQ0NBd0NDMEdzdWNBQVFTWkIrTG5BQUJDWkFRQUxJQVJCQVRZQ0NDQUVJQWszQXdBTElBTkJJR29rQUNBRURBSUxBQXRCejYzQUFFSGVBRUhNcnNBQUVKa0JBQXMyQWdRZ0FVRUVPZ0FJSUFFZ0FVRUVhallDRUFKQUlBRkJDR3BCaEt6QUFDQUFFRE5GQkVBZ0JrRUVPZ0FBSUFFb0Fnd2hBQ0FCTFFBSUlnTkJCRTBnQTBFRFIzRU5BU0FBS0FJQUlRTWdBRUVFYWlnQ0FDSUNLQUlBSWdRRVFDQURJQVFSQVFBTElBSW9BZ1FpQkFSQUlBTWdCQ0FDS0FJSUVPTUJDeUFBUVF4QkJCRGpBUXdCQ3lBQkxRQUlRUVJHRFFNZ0JpQUJLUU1JTndJQUN5QUJLQUlFSWdBZ0FDZ0NDRUVCYXlJRE5nSUlJQU5GQkVBZ0FFRUFPZ0FNSUFCQ0FEY0RBQXNnQVVFd2FpUUFJQVV0QUJCQkJFY05BUXNnQlVIUUFHb2tBQThMSUFVZ0JTa0RFRGNESUNBRlFRSTJBaXdnQlVIY3RzQUFOZ0lvSUFWQ0FqY0NOQ0FGSUFWQklHcXRRb0NBZ0lEUUNJUTNBMGdnQlNBRlFRaHFyVUtBZ0lDQXdBaUVOd05BSUFVZ0JVRkFhellDTUNBRlFTaHFRZXkyd0FBUXBBRUFDeUFCUVFBMkFpZ2dBVUVCTmdJY0lBRkI5TGZBQURZQ0dDQUJRZ1EzQWlBZ0FVRVlha0g4dDhBQUVLUUJBQXNnQTBJQU53SVVJQU5DZ1lDQWdNQUFOd0lNSUFOQnJMakFBRFlDQ0NNQVFSQnJJZ0FrQUNBQVFjQ3J3QUEyQWd3Z0FDQURRUWRxTmdJSUlBQkJDR3BCeEt2QUFDQUFRUXhxUWNTcndBQWdBMEVJYWtIZ3VNQUFFRTRBQzlNQkFRVi9Jd0JCSUdzaUFTUUFJQUFvQWdBaUFpZ0NBQ0VESUFKQkFEWUNBQ0FES0FJUUlRSWdBMEVBTmdJUUlBSUVRQ0FCSUFJUkFRQWdBU2dDQkNFQ0lBRW9BZ0FoQkFKQUlBQW9BZ1FpQlNnQ0FDSUFLQUlBUlEwQUlBQW9BZ2doQXlBQUtBSUVJZ0JCaEFGUEJFQWdBQkFDQ3lBRFFZUUJTUTBBSUFNUUFnc2dCU2dDQUNJQUlBSTJBZ2dnQUNBRU5nSUVJQUJCQVRZQ0FDQUJRU0JxSkFCQkFROExJQUZCQURZQ0dDQUJRUUUyQWd3Z0FVSEVrc0FBTmdJSUlBRkNCRGNDRUNBQlFRaHFRYkNUd0FBUXBBRUFDN2NCQVFOL0l3QkJJR3NpQXlRQUlBRWdBU0FDYWlJQ1N3UkFRUUJCQUJETUFRQUxRUUVoQVVFSUlBQW9BZ0FpQlVFQmRDSUVJQUlnQWlBRVNSc2lBaUFDUVFoTkd5SUNRWDl6UVI5MklRUUNRQ0FGUlFSQVFRQWhBUXdCQ3lBRElBVTJBaHdnQXlBQUtBSUVOZ0lVQ3lBRElBRTJBaGdnQTBFSWFpQUVJQUlnQTBFVWFoQjdJQU1vQWdnRVFDQURLQUlNSUFNb0FoQVF6QUVBQ3lBREtBSU1JUUVnQUNBQ05nSUFJQUFnQVRZQ0JDQURRU0JxSkFBTHR3RUJCWDhqQUVFZ2F5SUJKQUFnQUNnQ0FDSUNRWDlHQkVCQkFFRUFFTXdCQUF0QkFTRUZRUWdnQWtFQmRDSURJQUpCQVdvaUJDQURJQVJMR3lJRElBTkJDRTBiSWdOQmYzTkJIM1loQkFKQUlBSkZCRUJCQUNFRkRBRUxJQUVnQWpZQ0hDQUJJQUFvQWdRMkFoUUxJQUVnQlRZQ0dDQUJRUWhxSUFRZ0F5QUJRUlJxRUhzZ0FTZ0NDQVJBSUFFb0Fnd2dBU2dDRUJETUFRQUxJQUVvQWd3aEFpQUFJQU0yQWdBZ0FDQUNOZ0lFSUFGQklHb2tBQXUzQVFFRGZ5TUFRU0JySWdNa0FDQUJJQUVnQW1vaUFrc0VRRUVBUVFBUXpBRUFDMEVCSVFGQkNDQUFLQUlBSWdWQkFYUWlCQ0FDSUFJZ0JFa2JJZ0lnQWtFSVRSc2lBa0YvYzBFZmRpRUVBa0FnQlVVRVFFRUFJUUVNQVFzZ0F5QUZOZ0ljSUFNZ0FDZ0NCRFlDRkFzZ0F5QUJOZ0lZSUFOQkNHb2dCQ0FDSUFOQkZHb1FlQ0FES0FJSUJFQWdBeWdDRENBREtBSVFFTXdCQUFzZ0F5Z0NEQ0VCSUFBZ0FqWUNBQ0FBSUFFMkFnUWdBMEVnYWlRQUM4a0JBUUovSXdCQklHc2lBU1FBSUFFZ0FEWUNFRUdRNGNBQUtBSUFRUUpIQkVBUW5RRUxRWlRod0FBb0FnQkJnSURBQWhDMUFTRUFJQUZCZ1FFMkFoUWdBU0FBTmdJWUlBRkJDR29nQVVFUWFpQUJRUlJxSUFGQkdHb1Fxd0VnQVNnQ0RDRUNJQUVvQWdoRkJFQWdBa0dFQVU4RVFDQUNFQUlnQVNnQ0dDRUFDeUFBUVlRQlR3UkFJQUFRQWdzZ0FTZ0NGQ0lBUVlRQlR3UkFJQUFRQWdzZ0FVRWdhaVFBRHdzZ0FTQUNOZ0ljUWV5TXdBQkJKaUFCUVJ4cVFkeU13QUJCOUkzQUFCQ0ZBUUFMcmdFQkEzOUJBU0VFUVFRaEJpQUJSU0FDUVFCSWNrVUVRQUovQWtBQ1FBSi9JQU1vQWdRRVFDQURLQUlJSWdGRkJFQWdBa1VFUUF3RUMwSDU0OEFBTFFBQUdpQUNRUUVRMXdFTUFnc2dBeWdDQUNBQlFRRWdBaERPQVF3QkN5QUNSUVJBREFJTFFmbmp3QUF0QUFBYUlBSkJBUkRYQVFzaUJFVU5BUXNnQUNBRU5nSUVRUUFNQVFzZ0FFRUJOZ0lFUVFFTElRUkJDQ0VHSUFJaEJRc2dBQ0FHYWlBRk5nSUFJQUFnQkRZQ0FBdThBUUlEZndGK0l3QkJNR3NpQWlRQUlBRW9BZ0JCZ0lDQWdIaEdCRUFnQVNnQ0RDRURJQUpCRkdvaUJFRUFOZ0lBSUFKQ2dJQ0FnQkEzQWd3Z0FrRW9haUFEUVJCcUtRSUFOd01BSUFKQklHb2dBMEVJYWlrQ0FEY0RBQ0FDSUFNcEFnQTNBeGdnQWtFTWFrSHNxOEFBSUFKQkdHb1FNeG9nQWtFSWFpQUVLQUlBSWdNMkFnQWdBaUFDS1FJTUlnVTNBd0FnQVVFSWFpQUROZ0lBSUFFZ0JUY0NBQXNnQUVIa3VzQUFOZ0lFSUFBZ0FUWUNBQ0FDUVRCcUpBQUxqaThDR244RmZnSkFJQUFvQWt3aUNVVU5BQ0FBS0FKSUlnRXRBQlVoQWlBQkx3RVFJQUF2QVZCQkFXcEIvLzhEY1VjRVFBSkFJQUlFUUVHZzRzQUFLQUlBUVFKSEJFQVFuZ0VMSUFsQm1PTEFBQzhCQUU4TkFRd0RDeUFBRURFUEN5QUJLQUlNSVEwZ0FTMEFGeUVDSXdCQlFHb2lDeVFBSUFBb0FpQWhDUUpBQWtBQ1FBSkFRYkRpd0FBb0FnQkZCRUJCNE9MQUFDZ0NBQ0VCUWVEaXdBQkJBRFlDQUNBQlJRMEJJQXRCR0dvZ0FSRUJBRUhZNHNBQVFRSTJBZ0JCME9MQUFDQUxRVGhxS1FNQU53TUFRY2ppd0FBZ0MwRXdhaWtEQURjREFFSEE0c0FBSUF0QktHb3BBd0EzQXdCQnVPTEFBQ0FMUVNCcUtRTUFOd01BUWJEaXdBQWdDeWtER0NJYk53TUFJQnVuUlEwQ0MwSFU0c0FBUWRUaXdBQXZBUUJCQVdvaUNEc0JBRUg1NDhBQUxRQUFHa0hRNHNBQUtBSUFJUU5CQVVFQkVOY0JJZ0ZGRFFJZ0FTQUNPZ0FBSUF0QitKREFBRFlDSUNBTElBRTJBaHdnQ3lBRElBbHFOZ0lZSUF0QkRHb2hHU0FMUVJocUlSVkJBQ0VKSXdCQkVHc2lEaVFBSUE0Z0NEc0JBRUhBNHNBQUlBNFFPaUVkUWJqaXdBQW9BZ0JGQkVBakFFRWdheUlTSkFBQ1FBSkFBa0FDUUFKQUFrQUNRRUc4NHNBQUtBSUFJZ1ZCQVdvaUFTQUZUd1JBUWJUaXdBQW9BZ0FpQmlBR1FRRnFJZ3BCQTNZaUEwRUhiQ0FHUVFoSkd5SU1RUUYySUFGSkJFQWdBU0FNUVFGcUlBRWdERXNiSWdGQkNFa05BaUFCUWYvLy8vOEJTd1JBRUtNQklCSW9BaGdhREFrTFFYOGdBVUVEZEVFSGJrRUJhMmQySWdGQi92Ly8vd0JMRFFZZ0FVRUJhaUVDREFVTFFRQWhBa0d3NHNBQUtBSUFJUWNDUUNBRElBcEJCM0ZCQUVkcUlnRkZEUUFnQVVFQlJ3UkFJQUZCL3YvLy93TnhJUVFEUUNBQ0lBZHFJZ01nQXlrREFDSWJRbitGUWdlSVFvR0NoSWlRb01DQUFZTWdHMEwvL3YzNzkrL2Z2LzhBaEh3M0F3QWdBMEVJYWlJRElBTXBBd0FpRzBKL2hVSUhpRUtCZ29TSWtLREFnQUdESUJ0Qy8vNzkrL2Z2MzcvL0FJUjhOd01BSUFKQkVHb2hBaUFFUVFKcklnUU5BQXNMSUFGQkFYRkZEUUFnQWlBSGFpSUJJQUVwQXdBaUcwSi9oVUlIaUVLQmdvU0lrS0RBZ0FHRElCdEMvLzc5Ky9mdjM3Ly9BSVI4TndNQUN5QUtRUWhQQkVBZ0J5QUthaUFIS1FBQU53QUFEQU1MSUFkQkNHb2dCeUFLRVBZQkdpQUtEUUpCQUNFTURBTUxFS01CSUJJb0FnQWFEQVlMUVFSQkNDQUJRUVJKR3lFQ0RBSUxJQWRCQ0dvaENpQUhRUkJySVJaQkFDRUNBMEFDUUNBSElBSWlBV29pRUMwQUFFR0FBVWNOQUNBV0lBRkJCSFJySVJjZ0J5QUJRWDl6UVFSMGFpRURBa0FEUUNBR1FjRGl3QUFnRnhBNnB5SVVjU0lQSVFRZ0J5QVBhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SWJVQVJBUVFnaEFnTkFJQUlnQkdvaEJDQUNRUWhxSVFJZ0J5QUVJQVp4SWdScUtRQUFRb0NCZ29TSWtLREFnSCtESWh0UURRQUxDeUFISUJ0NnAwRURkaUFFYWlBR2NTSUNhaXdBQUVFQVRnUkFJQWNwQXdCQ2dJR0NoSWlRb01DQWY0TjZwMEVEZGlFQ0N5QUNJQTlySUFFZ0QydHpJQVp4UVFoUEJFQWdBaUFIYWlJRUxRQUFJQVFnRkVFWmRpSUVPZ0FBSUFvZ0FrRUlheUFHY1dvZ0JEb0FBQ0FISUFKQmYzTkJCSFJxSVFKQi93RkdEUUlnQXkwQUFDRUVJQU1nQWkwQUFEb0FBQ0FETFFBQklROGdBeUFDTFFBQk9nQUJJQU10QUFJaEZDQURJQUl0QUFJNkFBSWdBeTBBQXlFWUlBTWdBaTBBQXpvQUF5QUNJQVE2QUFBZ0FpQVBPZ0FCSUFJZ0ZEb0FBaUFDSUJnNkFBTWdBeTBBQkNFRUlBTWdBaTBBQkRvQUJDQUNJQVE2QUFRZ0F5MEFCU0VFSUFNZ0FpMEFCVG9BQlNBQ0lBUTZBQVVnQXkwQUJpRUVJQU1nQWkwQUJqb0FCaUFDSUFRNkFBWWdBeTBBQnlFRUlBTWdBaTBBQnpvQUJ5QUNJQVE2QUFjZ0F5MEFDQ0VFSUFNZ0FpMEFDRG9BQ0NBQ0lBUTZBQWdnQXkwQUNTRUVJQU1nQWkwQUNUb0FDU0FDSUFRNkFBa2dBeTBBQ2lFRUlBTWdBaTBBQ2pvQUNpQUNJQVE2QUFvZ0F5MEFDeUVFSUFNZ0FpMEFDem9BQ3lBQ0lBUTZBQXNnQXkwQURDRUVJQU1nQWkwQUREb0FEQ0FDSUFRNkFBd2dBeTBBRFNFRUlBTWdBaTBBRFRvQURTQUNJQVE2QUEwZ0F5MEFEaUVFSUFNZ0FpMEFEam9BRGlBQ0lBUTZBQTRnQXkwQUR5RUVJQU1nQWkwQUR6b0FEeUFDSUFRNkFBOE1BUXNMSUJBZ0ZFRVpkaUlDT2dBQUlBb2dBVUVJYXlBR2NXb2dBam9BQUF3QkN5QVFRZjhCT2dBQUlBb2dBVUVJYXlBR2NXcEIvd0U2QUFBZ0FrRUlhaUFEUVFocUtRQUFOd0FBSUFJZ0F5a0FBRGNBQUFzZ0FVRUJhaUVDSUFFZ0JrY05BQXNMUWJqaXdBQWdEQ0FGYXpZQ0FBd0RDeUFDUVFSMElnTWdBa0VJYWlJSGFpSUJJQU5KRFFBZ0FVSDUvLy8vQjBrTkFRc1Fvd0VnRWlnQ0NCb01BUXRCK2VQQUFDMEFBQm9nQVVFSUVOY0JJZ3hGQkVBZ0FSREZBU0FTS0FJUUdnd0JDeUFESUF4cVFmOEJJQWNROVFFaERDQUNRUUZySWc4Z0FrRURka0VIYkNBQ1FRbEpHeUVVQWtBZ0JVVUVRRUd3NHNBQUtBSUFJUWNNQVFzZ0RFRUlhaUVXUWJEaXdBQW9BZ0FpQjBFUWF5RVhJQWNwQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oR3lBSElRRWdCU0VEQTBBZ0cxQUVRQ0FCSVFJRFFDQUVRUWhxSVFRZ0Fpa0RDQ0FDUVFocUlnRWhBa0ovaFVLQWdZS0VpSkNnd0lCL2d5SWJVQTBBQ3dzZ0RDQVBRY0Rpd0FBZ0Z5QWJlcWRCQTNZZ0JHb2lHRUVFZEdzUU9xY2lHbkVpRUdvcEFBQkNnSUdDaElpUW9NQ0FmNE1pSEZBRVFFRUlJUUlEUUNBQ0lCQnFJUkFnQWtFSWFpRUNJQXdnRHlBUWNTSVFhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SWNVQTBBQ3dzZ0cwSUJmU0FiZ3lFYklBd2dISHFuUVFOMklCQnFJQTl4SWdKcUxBQUFRUUJPQkVBZ0RDa0RBRUtBZ1lLRWlKQ2d3SUIvZzNxblFRTjJJUUlMSUFJZ0RHb2dHa0VaZGlJUU9nQUFJQllnQWtFSWF5QVBjV29nRURvQUFDQU1JQUpCZjNOQkJIUnFJZ0pCQ0dvZ0J5QVlRWDl6UVFSMGFpSVFRUWhxS1FBQU53QUFJQUlnRUNrQUFEY0FBQ0FEUVFGcklnTU5BQXNMUWJUaXdBQWdEellDQUVHdzRzQUFJQXcyQWdCQnVPTEFBQ0FVSUFWck5nSUFJQVpGRFFBZ0J5QUtRUVIwSWdGcklBRWdCbXBCQ1dwQkNCRGpBUXNnRWtFZ2FpUUFDeUFkUWhtSUloNUMvd0NEUW9HQ2hJaVFvTUNBQVg0aEh5QWRweUVEUWJUaXdBQW9BZ0FoQlVHdzRzQUFLQUlBSVFJZ0NFSC8vd054SVFjQ1FBSkFBMEFnQWlBRElBVnhJZ05xS1FBQUloMGdINFVpRzBKL2hTQWJRb0dDaElpUW9NQ0FBWDJEUW9DQmdvU0lrS0RBZ0grREloeFFSUVJBQTBBZ0FpQWNlcWRCQTNZZ0Eyb2dCWEZCQkhScklnRkJFR3N2QVFBZ0IwWU5BeUFjUWdGOUlCeURJaHhRUlEwQUN3c2dIVUtBZ1lLRWlKQ2d3SUIvZ3lFYlFRRWhBU0FKUVFGSEJFQWdHM3FuUVFOMklBTnFJQVZ4SVJFZ0cwSUFVaUVCQ3lBYklCMUNBWWFEVUFSQUlBTWdFMEVJYWlJVGFpRURJQUVoQ1F3QkN3c2dBaUFSYWl3QUFDSURRUUJPQkVBZ0FpQUNLUU1BUW9DQmdvU0lrS0RBZ0grRGVxZEJBM1lpRVdvdEFBQWhBd3NnQWlBUmFpQWVwMEgvQUhFaUFUb0FBQ0FDSUJGQkNHc2dCWEZxUVFocUlBRTZBQUFnRGtFTWFpQVZRUWhxS0FFQU5nRUFRYmppd0FCQnVPTEFBQ2dDQUNBRFFRRnhhellDQUVHODRzQUFRYnppd0FBb0FnQkJBV28yQWdBZ0FpQVJRUVIwYTBFUWF5SUJJQWc3QVFBZ0RpQVZLUUVBTndFRUlBRkJBbW9nRGlrQkFqY0JBQ0FCUVFocUlBNUJDR29wQVFBM0FRQWdHVUVBTmdJRURBRUxJQmxCQ0dvZ0FVRVFheUlCUVF4cUlnSW9BZ0EyQWdBZ0dTQUJRUVJxSWdFcEFnQTNBZ0FnQVNBVktRSUFOd0lBSUFJZ0ZVRUlhaWdDQURZQ0FBc2dEa0VRYWlRQUFrQWdDeWdDRUNJQlJRMEFJQXNvQWhRaUFpZ0NBQ0lKQkVBZ0FTQUpFUUVBQ3lBQ0tBSUVJZ2xGRFFBZ0FTQUpJQUlvQWdnUTR3RUxJQXRCQ0dvaEZVSFU0c0FBTHdFQUlSUkJBQ0VTUVFBaERFRUFJUWxCQUNFWkl3QkJFR3NpRHlRQUlBOGdEU0lITmdJTUlBQkJFR29pRUNBUFFReHFFRHNoSENBQUtBSUlSUVJBSXdCQklHc2lFU1FBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBQ2dDRENJRFFRRnFJZ0VnQTA4RVFDQUFLQUlFSWcwZ0RVRUJhaUlPUVFOMklnSkJCMndnRFVFSVNSc2lCRUVCZGlBQlNRUkFJQUVnQkVFQmFpQUJJQVJMR3lJQlFRaEpEUUlnQVVILy8vLy9BVXNFUUJDakFTQVJLQUlZR2d3SkMwRi9JQUZCQTNSQkIyNUJBV3RuZGlJQlFmNy8vLzhCU3cwR0lBRkJBV29oQVF3RkMwRUFJUUVnQUNnQ0FDRUlBa0FnQWlBT1FRZHhRUUJIYWlJQ1JRMEFJQUpCQVVjRVFDQUNRZjcvLy84RGNTRUdBMEFnQVNBSWFpSUZJQVVwQXdBaUcwSi9oVUlIaUVLQmdvU0lrS0RBZ0FHRElCdEMvLzc5Ky9mdjM3Ly9BSVI4TndNQUlBVkJDR29pQlNBRktRTUFJaHRDZjRWQ0I0aENnWUtFaUpDZ3dJQUJneUFiUXYvKy9mdjM3OSsvL3dDRWZEY0RBQ0FCUVJCcUlRRWdCa0VDYXlJR0RRQUxDeUFDUVFGeFJRMEFJQUVnQ0dvaUFTQUJLUU1BSWh0Q2Y0VkNCNGhDZ1lLRWlKQ2d3SUFCZ3lBYlF2LysvZnYzNzkrLy93Q0VmRGNEQUFzZ0RrRUlUd1JBSUFnZ0Rtb2dDQ2tBQURjQUFBd0RDeUFJUVFocUlBZ2dEaEQyQVJvZ0RnMENRUUFoQkF3REN4Q2pBU0FSS0FJQUdnd0dDMEVFUVFnZ0FVRUVTUnNoQVF3Q0N5QUlRUWhxSVE0Z0NFRUlheUVXUVFBaEFRTkFBa0FnQ0NBQklnSnFJaEl0QUFCQmdBRkhEUUFnRmlBQ1FRTjBheUVYSUFnZ0FrRi9jMEVEZEdvaEJRSkFBMEFnRFNBUUlCY1FPNmNpRTNFaUNpRUdJQWdnQ21vcEFBQkNnSUdDaElpUW9NQ0FmNE1pRzFBRVFFRUlJUUVEUUNBQklBWnFJUVlnQVVFSWFpRUJJQWdnQmlBTmNTSUdhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SWJVQTBBQ3dzZ0NDQWJlcWRCQTNZZ0Jtb2dEWEVpQVdvc0FBQkJBRTRFUUNBSUtRTUFRb0NCZ29TSWtLREFnSCtEZXFkQkEzWWhBUXNnQVNBS2F5QUNJQXByY3lBTmNVRUlUd1JBSUFFZ0NHb2lCaTBBQUNBR0lCTkJHWFlpQmpvQUFDQU9JQUZCQ0dzZ0RYRnFJQVk2QUFBZ0NDQUJRWDl6UVFOMGFpRUJRZjhCUmcwQ0lBVXRBQUFoQmlBRklBRXRBQUE2QUFBZ0JTMEFBU0VLSUFVZ0FTMEFBVG9BQVNBRkxRQUNJUk1nQlNBQkxRQUNPZ0FDSUFVdEFBTWhHQ0FGSUFFdEFBTTZBQU1nQVNBR09nQUFJQUVnQ2pvQUFTQUJJQk02QUFJZ0FTQVlPZ0FESUFVdEFBUWhCaUFGSUFFdEFBUTZBQVFnQVNBR09nQUVJQVV0QUFVaEJpQUZJQUV0QUFVNkFBVWdBU0FHT2dBRklBVXRBQVloQmlBRklBRXRBQVk2QUFZZ0FTQUdPZ0FHSUFVdEFBY2hCaUFGSUFFdEFBYzZBQWNnQVNBR09nQUhEQUVMQ3lBU0lCTkJHWFlpQVRvQUFDQU9JQUpCQ0dzZ0RYRnFJQUU2QUFBTUFRc2dFa0gvQVRvQUFDQU9JQUpCQ0dzZ0RYRnFRZjhCT2dBQUlBRWdCU2tBQURjQUFBc2dBa0VCYWlFQklBSWdEVWNOQUFzTElBQWdCQ0FEYXpZQ0NBd0RDeUFCUVFOMElnVWdBVUVJYWlJSWFpSUNJQVZKRFFBZ0FrSDUvLy8vQjBrTkFRc1Fvd0VnRVNnQ0NCb01BUXRCK2VQQUFDMEFBQm9nQWtFSUVOY0JJZ1pGQkVBZ0FoREZBU0FSS0FJUUdnd0JDeUFGSUFacVFmOEJJQWdROVFFaEJDQUJRUUZySWdvZ0FVRURka0VIYkNBQlFRbEpHeUVUQWtBZ0EwVUVRQ0FBS0FJQUlRVU1BUXNnQkVFSWFpRVdJQUFvQWdBaUJVRUlheUVYSUFVcEF3QkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaEd5QUZJUUlnQXlFSUEwQWdHMUFFUUNBQ0lRRURRQ0FTUVFocUlSSWdBU2tEQ0NBQlFRaHFJZ0loQVVKL2hVS0FnWUtFaUpDZ3dJQi9neUliVUEwQUN3c2dCQ0FLSUJBZ0Z5QWJlcWRCQTNZZ0Vtb2lHRUVEZEdzUU82Y2lHbkVpQm1vcEFBQkNnSUdDaElpUW9NQ0FmNE1pSFZBRVFFRUlJUUVEUUNBQklBWnFJUVlnQVVFSWFpRUJJQVFnQmlBS2NTSUdhaWtBQUVLQWdZS0VpSkNnd0lCL2d5SWRVQTBBQ3dzZ0cwSUJmU0FiZ3lFYklBUWdIWHFuUVFOMklBWnFJQXB4SWdGcUxBQUFRUUJPQkVBZ0JDa0RBRUtBZ1lLRWlKQ2d3SUIvZzNxblFRTjJJUUVMSUFFZ0JHb2dHa0VaZGlJR09nQUFJQllnQVVFSWF5QUtjV29nQmpvQUFDQUVJQUZCZjNOQkEzUnFJQVVnR0VGL2MwRURkR29wQUFBM0F3QWdDRUVCYXlJSURRQUxDeUFBSUFvMkFnUWdBQ0FFTmdJQUlBQWdFeUFEYXpZQ0NDQU5SUTBBSUFVZ0RrRURkQ0lCYXlBQklBMXFRUWxxUVFnUTR3RUxJQkZCSUdva0FBc2dIRUlaaUNJZFF2OEFnMEtCZ29TSWtLREFnQUYrSVI0Z0hLY2hBeUFBS0FJRUlRVWdBQ2dDQUNFQ0FrQUNRQU5BSUFJZ0F5QUZjU0lEYWlrQUFDSWNJQjZGSWh0Q2Y0VWdHMEtCZ29TSWtLREFnQUY5ZzBLQWdZS0VpSkNnd0lCL2d5SWJVRVVFUUFOQUlBSWdHM3FuUVFOMklBTnFJQVZ4UVFOMGF5SUJRUWhyS0FJQUlBZEdEUU1nRzBJQmZTQWJneUliVUVVTkFBc0xJQnhDZ0lHQ2hJaVFvTUNBZjRNaEcwRUJJUUVnQ1VFQlJ3UkFJQnQ2cDBFRGRpQURhaUFGY1NFTUlCdENBRkloQVFzZ0d5QWNRZ0dHZzFBRVFDQURJQmxCQ0dvaUdXb2hBeUFCSVFrTUFRc0xRUUFoQXlBQ0lBeHFMQUFBSWdGQkFFNEVRQ0FDSUFJcEF3QkNnSUdDaElpUW9NQ0FmNE42cDBFRGRpSU1haTBBQUNFQkN5QUNJQXhxSUIyblFmOEFjU0lKT2dBQUlBSWdERUVJYXlBRmNXcEJDR29nQ1RvQUFDQUFJQUFvQWdnZ0FVRUJjV3MyQWdnZ0FDQUFLQUlNUVFGcU5nSU1JQUlnREVFRGRHc2lBVUVJYXlBSE5nSUFJQUZCQkdzaEFRd0JDeUFCUVFScklnRXZBUUFoQWtFQklRTUxJQUVnRkRzQkFDQVZJQUk3QVFJZ0ZTQURPd0VBSUE5QkVHb2tBQ0FMUVVCckpBQU1Bd3NnQzBFQU5nSW9JQXRCQVRZQ0hDQUxRY1NTd0FBMkFoZ2dDMElFTndJZ0lBdEJHR3BCd0pQQUFCQ2tBUUFMUWRDVHdBQkJLRUg0azhBQUVLMEJBQXRCQVVFQkVQRUJBQXNnQUMwQVBBMEJRZGppd0FBb0FnQkJBa2NFUUJDY0FRc2dBRUVCT2dBOElBQkIwT0xBQUNnQ0FEWUNLQThMSUFJRVFBSkFJQUVvQWd3aENTTUFRVEJySWdFa0FDQUJJQWsyQWdBQ1FBSkFBa0FDUUNBQUtBSU1SUTBBSUFCQkVHb2lCeUFCRURzaEd5QUFLQUlBSWdoQkNHc2hEU0FBS0FJRUlnVWdHNmR4SVFJZ0cwSVppRUwvQUlOQ2dZS0VpSkNnd0lBQmZpRWRBMEFDUUNBQ0lBaHFLUUFBSWh3Z0hZVWlHMEovaFNBYlFvR0NoSWlRb01DQUFYMkRRb0NCZ29TSWtLREFnSCtESWh0UVJRUkFBMEFnRFNBYmVxZEJBM1lnQW1vZ0JYRkJBM1JyS0FJQUlBbEdEUUlnRzBJQmZTQWJneUliVUVVTkFBc0xJQndnSEVJQmhvTkNnSUdDaElpUW9NQ0FmNE5RUlEwQ0lBSWdBMEVJYWlJRGFpQUZjU0VDREFFTEN5QUJRUWhxSVFrZ0J5QUJFRHNoR3lBQUtBSUFJZ05CQ0dzaERTQUFLQUlFSWdVZ0c2ZHhJUUlnRzBJWmlFTC9BSU5DZ1lLRWlKQ2d3SUFCZmlFZElBRW9BZ0FoQzBFQUlRY0NRQU5BQWtBZ0FpQURhaWtBQUNJY0lCMkZJaHRDZjRVZ0cwS0Jnb1NJa0tEQWdBRjlnMEtBZ1lLRWlKQ2d3SUIvZ3lJYlVFVUVRQU5BSUFzZ0RTQWJlcWRCQTNZZ0Ftb2dCWEVpQ0VFRGRHc29BZ0JHRFFJZ0cwSUJmU0FiZ3lJYlVFVU5BQXNMSUJ3Z0hFSUJob05DZ0lHQ2hJaVFvTUNBZjROUUJFQWdBaUFIUVFocUlnZHFJQVZ4SVFJTUFnVWdDVUVBTmdJQURBTUxBQXNMUVlBQklRSWdBeUFJUVFOMFFRTjFJZ2RxSWcwcEFBQWlHeUFiUWdHR2cwS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklBTWdCMEVJYXlBRmNXb2lCU2tBQUNJYklCdENBWWFEUW9DQmdvU0lrS0RBZ0grRGVhZEJBM1pxUVFkTkJFQWdBQ0FBS0FJSVFRRnFOZ0lJUWY4QklRSUxJQTBnQWpvQUFDQUZRUWhxSUFJNkFBQWdBQ0FBS0FJTVFRRnJOZ0lNSUFrZ0EwRUFJQWhyUVFOMGFrRUlheUlDUVFScUx3RUFPd0VJSUFrZ0FpZ0NBRFlDQkNBSlFRRTJBZ0FMSUFFb0FnaEZEUUVnQVM4QkVDRUpRYkRpd0FBb0FnQkZCRUJCNE9MQUFDZ0NBQ0VDUWVEaXdBQkJBRFlDQUNBQ1JRMERJQUZCQ0dvZ0FoRUJBRUhZNHNBQVFRSTJBZ0JCME9MQUFDQUJRU2hxS1FNQU53TUFRY2ppd0FBZ0FVRWdhaWtEQURjREFFSEE0c0FBSUFGQkdHb3BBd0EzQXdCQnVPTEFBQ0FCUVJCcUtRTUFOd01BUWJEaXdBQWdBU2tEQ0NJYk53TUFJQnVuUlEwRUN5QUJJQWs3QVFZZ0FVRUlha0hBNHNBQUlBRkJCbW9pQWhBNklBSVFSU0FCS0FJUUlnSkZEUUFnQVNnQ0ZDSUpLQUlBSWdNRVFDQUNJQU1SQVFBTElBa29BZ1FpQTBVTkFDQUNJQU1nQ1NnQ0NCRGpBUXNnQVVFd2FpUUFEQU1MUWFTUndBQVE1d0VBQ3lBQlFRQTJBaGdnQVVFQk5nSU1JQUZCeEpMQUFEWUNDQ0FCUWdRM0FoQWdBVUVJYWtIQWs4QUFFS1FCQUF0QjBKUEFBRUVvUWZpVHdBQVFyUUVBQ3dzZ0FCQXhDd3ViQVFFQmZ3SkFBa0FnQVFSQUlBSkJBRWdOQVFKL0lBTW9BZ1FFUUFKQUlBTW9BZ2dpQkVVRVFBd0JDeUFES0FJQUlBUWdBU0FDRU00QkRBSUxDeUFCSUFKRkRRQWFRZm5qd0FBdEFBQWFJQUlnQVJEWEFRc2lBd1JBSUFBZ0FqWUNDQ0FBSUFNMkFnUWdBRUVBTmdJQUR3c2dBQ0FDTmdJSUlBQWdBVFlDQkF3Q0N5QUFRUUEyQWdRTUFRc2dBRUVBTmdJRUN5QUFRUUUyQWdBTG9nRUJBWDhqQUVFUWF5SUdKQUFDUUNBQkJFQWdCa0VFYWlBQklBTWdCQ0FGSUFJb0FoQVJDUUFDUUNBR0tBSUVJZ0lnQmlnQ0RDSUJUUVJBSUFZb0FnZ2hCUXdCQ3lBQ1FRSjBJUUlnQmlnQ0NDRURJQUZGQkVCQkJDRUZJQU1nQWtFRUVPTUJEQUVMSUFNZ0FrRUVJQUZCQW5RaUFoRE9BU0lGUlEwQ0N5QUFJQUUyQWdRZ0FDQUZOZ0lBSUFaQkVHb2tBQThMRU9nQkFBdEJCQ0FDRU13QkFBdWdBUUlFZndGK0l3QkJFR3NpQXlRQUlBTkJDR29nQUNnQ0NDQUJJQUlRUUNBRExRQUlJZ1pCQkVjRVFDQUFLQUlFSVFFZ0F5a0RDQ0VISUFBdEFBQWlBa0VFVFNBQ1FRTkhjVVVFUUNBQktBSUFJUUlnQVVFRWFpZ0NBQ0lGS0FJQUlnUUVRQ0FDSUFRUkFRQUxJQVVvQWdRaUJBUkFJQUlnQkNBRktBSUlFT01CQ3lBQlFReEJCQkRqQVFzZ0FDQUhOd0lBQ3lBRFFSQnFKQUFnQmtFRVJ3dWtBUUVCZnlNQVFVQnFJZ0lrQUNBQUtBSUFJUUFnQWtJQU53TTRJQUpCT0dvZ0FCQWdJQUlnQWlnQ1BDSUFOZ0kwSUFJZ0FpZ0NPRFlDTUNBQ0lBQTJBaXdnQWlBQ1FTeHFyVUtBZ0lDQW9BaUVOd01nSUFKQkFqWUNEQ0FDUWJpcXdBQTJBZ2dnQWtJQk53SVVJQUlnQWtFZ2FqWUNFQ0FCS0FJVUlBRW9BaGdnQWtFSWFoQXpJQUlvQWl3aUFRUkFJQUlvQWpBZ0FVRUJFT01CQ3lBQ1FVQnJKQUFMa0FFQkEzOGpBRUdBQVdzaUJDUUFJQUFvQWdBaEFBTkFJQUlnQkdwQi93QnFJQUJCRDNFaUEwRXdjaUFEUWRjQWFpQURRUXBKR3pvQUFDQUNRUUZySVFJZ0FFRVFTU0FBUVFSMklRQkZEUUFMSUFKQmdBRnFJZ0JCZ1FGUEJFQWdBRUdBQVVHTXg4QUFFSkFCQUFzZ0FVRUJRWnpId0FCQkFpQUNJQVJxUVlBQmFrRUFJQUpyRUN3Z0JFR0FBV29rQUF1UEFRRURmeU1BUVlBQmF5SUVKQUFnQUNnQ0FDRUFBMEFnQWlBRWFrSC9BR29nQUVFUGNTSURRVEJ5SUFOQk4yb2dBMEVLU1JzNkFBQWdBa0VCYXlFQ0lBQkJFRWtnQUVFRWRpRUFSUTBBQ3lBQ1FZQUJhaUlBUVlFQlR3UkFJQUJCZ0FGQmpNZkFBQkNRQVFBTElBRkJBVUdjeDhBQVFRSWdBaUFFYWtHQUFXcEJBQ0FDYXhBc0lBUkJnQUZxSkFBTGl3RUJBbjhqQUVFUWF5SUNKQUFnQWtFRWFpSURJQUVRdXdFZ0FpQUFOZ0lNSUFNZ0FrRU1ha0hjbE1BQUVGMGdBaUFBUVFScU5nSU1JQUpCQkdvZ0FrRU1ha0hjbE1BQUVGMGdBaUFBUVFocU5nSU1JQUpCQkdvZ0FrRU1ha0hjbE1BQUVGMGdBaUFBUVF4cU5nSU1JQUpCQkdvZ0FrRU1ha0hjbE1BQUVGMGdBeEM1QVNBQ1FSQnFKQUFMa2dFQkJIOGpBRUVRYXlJQ0pBQkJBU0VFQWtBZ0FTZ0NGQ0lEUVNjZ0FTZ0NHQ0lGS0FJUUlnRVJBQUFOQUNBQ1FRUnFJQUFvQWdCQmdRSVFLZ0pBSUFJdEFBUkJnQUZHQkVBZ0F5QUNLQUlJSUFFUkFBQkZEUUVNQWdzZ0F5QUNMUUFPSWdBZ0FrRUVhbW9nQWkwQUR5QUFheUFGS0FJTUVRSUFEUUVMSUFOQkp5QUJFUUFBSVFRTElBSkJFR29rQUNBRUM4d0NBUVovSXdCQklHc2lCU1FBSUFWQkJHb2hCaU1BUVJCcklnUWtBRUg1NDhBQUxRQUFHZ0pBUVFoQkFSRFhBU0lEQkVBZ0F5QUFPZ0FESUFOQkFEb0FBaUFEUVlBTU93QUFJQVFnQXpZQ0NDQUVRUWcyQWdRZ0JFRUVOZ0lNSUFRb0FnZ2lCMEVFYWlBQlFRaDBJQUZCZ1A0RGNVRUlkbkk3QUFBZ0JFRUdJZ00yQWd3Z0JpQUVLUUlFTndJQUlBUkJER29nQTBFQ2FpSUlOZ0lBSUFaQkNHb2dDRFlDQUNBRElBZHFRWDlCRUNBQ1FmLy9BM0ZySWdOQkFDQURRUkJORzBFUGNYUWlBMEVJZENBRFFZRCtBM0ZCQ0haeU93QUFJQVJCRUdva0FBd0JDMEVCUVFnUXpBRUFDeUFGS0FJTUlRTWdCU2dDQ0NFRUlBVkJHR3BCQURvQUFDQUZRZ0EzQXhBZ0JDQURJQVZCRUdvUU1DQUNRZi8vQTNGQkVFc0VRQ0FBSUFGQkVHb2dBa0VRYXhDREFRc2dCU2dDQkNJQUJFQWdCQ0FBUVFFUTR3RUxJQVZCSUdva0FBdDNBUUYvSXdCQklHc2lBaVFBQW44Z0FDZ0NBRUdBZ0lDQWVFY0VRQ0FCSUFBb0FnUWdBQ2dDQ0JEUUFRd0JDeUFDUVJocUlBQW9BZ3dpQUVFUWFpa0NBRGNEQUNBQ1FSQnFJQUJCQ0dvcEFnQTNBd0FnQWlBQUtRSUFOd01JSUFFb0FoUWdBU2dDR0NBQ1FRaHFFRE1MSUFKQklHb2tBQXQ4QVFGL0l3QkJRR29pQlNRQUlBVWdBVFlDRENBRklBQTJBZ2dnQlNBRE5nSVVJQVVnQWpZQ0VDQUZRUUkyQWh3Z0JVR3d4c0FBTmdJWUlBVkNBamNDSkNBRklBVkJFR3F0UW9DQWdJRFFESVEzQXpnZ0JTQUZRUWhxclVLQWdJQ0E0QXlFTndNd0lBVWdCVUV3YWpZQ0lDQUZRUmhxSUFRUXBBRUFDNEVCQVFOL0l3QkJJR3NpQVNRQUlBQkJCR29vQWdBZ0FDZ0NBQ0lDS0FJQUlRQWdBa0VBTmdJQUlBQW9BZ2doQWlBQVFRQTJBZ2dnQWtVRVFDQUJRUUEyQWhnZ0FVRUJOZ0lNSUFGQnhKTEFBRFlDQ0NBQlFnUTNBaEFnQVVFSWFrR3drOEFBRUtRQkFBc2dBaEVHQUNFQUtBSUFJQUEyQWdBZ0FVRWdhaVFBUVFFTGFRRUNmeU1BUVJCcklnSWtBQ0FBS0FJQUlnQW9BZ2doQXlBQUtBSUVJUUFnQWtFRWFpQUJFTHNCSUFNRVFBTkFJQUlnQURZQ0RDQUNRUVJxSUFKQkRHcEJ6SlRBQUJCZElBQkJBV29oQUNBRFFRRnJJZ01OQUFzTElBSkJCR29RdVFFZ0FrRVFhaVFBQzNnQkFuOGdBQzBBQkNFQ0lBQXRBQVZGQkVBZ0FrRUFSdzhMUVFFaEFTQUNSUVJBSUFBb0FnQWlBUzBBSEVFRWNVVUVRQ0FBSUFFb0FoUkI1OGJBQUVFQ0lBRW9BaGdvQWd3UkFnQWlBRG9BQkNBQUR3c2dBU2dDRkVIbXhzQUFRUUVnQVNnQ0dDZ0NEQkVDQUNFQkN5QUFJQUU2QUFRZ0FRdCtBUU4vSXdCQklHc2lBU1FBSUFBb0FnQWlBaWdDQUNFRElBSkJBRFlDQUNBREtBSUlJUUlnQTBFQU5nSUlJQUpGQkVBZ0FVRUFOZ0lZSUFGQkFUWUNEQ0FCUWNTU3dBQTJBZ2dnQVVJRU53SVFJQUZCQ0dwQnNKUEFBQkNrQVFBTElBSVJCZ0FoQXlBQUtBSUVLQUlBSUFNMkFnQWdBVUVnYWlRQVFRRUxaQUVDZnlNQVFSQnJJZ0lrQUNBQUtBSUlJUU1nQUNnQ0JDRUFJQUpCQkdvZ0FSQzdBU0FEQkVBRFFDQUNJQUEyQWd3Z0FrRUVhaUFDUVF4cVFjeVV3QUFRWFNBQVFRRnFJUUFnQTBFQmF5SUREUUFMQ3lBQ1FRUnFFTGtCSUFKQkVHb2tBQXRrQVFKL0l3QkJFR3NpQWlRQUlBQW9BZ1FoQXlBQUtBSUFJUUFnQWtFRWFpQUJFTHNCSUFNRVFBTkFJQUlnQURZQ0RDQUNRUVJxSUFKQkRHcEJ6SlRBQUJCZElBQkJBV29oQUNBRFFRRnJJZ01OQUFzTElBSkJCR29RdVFFZ0FrRVFhaVFBQzJnQkFuOGdBU2dDQ0NJRVJTQUJLQUlBSWdVZ0JHc2dBMDl5UlFSQUlBRkJBRFlDQ0NBQlFRQTZBQXhCQUNFRUN5QURJQVZKQkVBZ0FTZ0NCQ0FFYWlBQ0lBTVE5d0VhSUFCQkJEb0FBQ0FCSUFNZ0JHbzJBZ2dQQ3lBQVFnUTNBZ0FnQVVFQU9nQU1DNG9CQVFKK0FuNUIyT2pBQUNrREFGQkZCRUJCNk9qQUFDa0RBQ0VCUWVEb3dBQXBBd0FNQVF0Q0FpRUJRZWpvd0FCQ0FqY0RBRUhZNk1BQVFnRTNBd0JDQVFzaEFpQUFRUUE3QVNRZ0FFRUFOZ0lnSUFBZ0FUY0RHQ0FBSUFJM0F4QkI0T2pBQUNBQ1FnRjhOd01BSUFCQjZKREFBQ2tEQURjREFDQUFRUWhxUWZDUXdBQXBBd0EzQXdBTGJnRUJmeU1BUVRCcklnSWtBQ0FDSUFFMkFnUWdBaUFBTmdJQUlBSkJBellDRENBQ1FlREN3QUEyQWdnZ0FrSUNOd0lVSUFJZ0FrRUVhcTFDZ0lDQWdOQUFoRGNES0NBQ0lBS3RRb0NBZ0lEUUFJUTNBeUFnQWlBQ1FTQnFOZ0lRSUFKQkNHcEIzSURBQUJDa0FRQUxhd0VCZnlNQVFUQnJJZ0VrQUNBQlFRQTJBZ1FnQVVFQU5nSUFJQUZCQXpZQ0RDQUJRWXpEd0FBMkFnZ2dBVUlDTndJVUlBRWdBVUVFYXExQ2dJQ0FnTkFBaERjREtDQUJJQUd0UW9DQWdJRFFBSVEzQXlBZ0FTQUJRU0JxTmdJUUlBRkJDR29nQUJDa0FRQUxhZ0lCZndGK0l3QkJNR3NpQXlRQUlBTWdBRFlDQUNBRElBRTJBZ1FnQTBFQ05nSU1JQU5Cb01yQUFEWUNDQ0FEUWdJM0FoUWdBMEtBZ0lDQTBBQWlCQ0FEUVFScXJZUTNBeWdnQXlBRUlBT3RoRGNESUNBRElBTkJJR28yQWhBZ0EwRUlhaUFDRUtRQkFBdHFBZ0YvQVg0akFFRXdheUlESkFBZ0F5QUJOZ0lFSUFNZ0FEWUNBQ0FEUVFJMkFnd2dBMEdNeGNBQU5nSUlJQU5DQWpjQ0ZDQURRb0NBZ0lEUUFDSUVJQU90aERjREtDQURJQVFnQTBFRWFxMkVOd01nSUFNZ0EwRWdhallDRUNBRFFRaHFJQUlRcEFFQUMyb0NBWDhCZmlNQVFUQnJJZ01rQUNBRElBQTJBZ0FnQXlBQk5nSUVJQU5CQWpZQ0RDQURRY0RLd0FBMkFnZ2dBMElDTndJVUlBTkNnSUNBZ05BQUlnUWdBMEVFYXEyRU53TW9JQU1nQkNBRHJZUTNBeUFnQXlBRFFTQnFOZ0lRSUFOQkNHb2dBaENrQVFBTGFnSUJmd0YrSXdCQk1Hc2lBeVFBSUFNZ0FEWUNBQ0FESUFFMkFnUWdBMEVDTmdJTUlBTkI5TXJBQURZQ0NDQURRZ0kzQWhRZ0EwS0FnSUNBMEFBaUJDQURRUVJxcllRM0F5Z2dBeUFFSUFPdGhEY0RJQ0FESUFOQklHbzJBaEFnQTBFSWFpQUNFS1FCQUF0ZEFRSi9Jd0JCSUdzaUFTUUFJQUZCQkdvZ0FDMEFBQkJaSUFFb0Fnd2hBaUFCS0FJSUlRQWdBVUVZYWtFQU9nQUFJQUZDQURjREVDQUFJQUlnQVVFUWFoQXdJQUVvQWdRaUFnUkFJQUFnQWtFQkVPTUJDeUFCUVNCcUpBQUxad0FqQUVFd2F5SUFKQUJCK09QQUFDMEFBQVJBSUFCQkFqWUNEQ0FBUWF5NndBQTJBZ2dnQUVJQk53SVVJQUFnQVRZQ0xDQUFJQUJCTEdxdFFvQ0FnSURRQUlRM0F5QWdBQ0FBUVNCcU5nSVFJQUJCQ0dwQjFMckFBQkNrQVFBTElBQkJNR29rQUF0ZUFRTi9JQUFvQWdRaEFTQUFMUUFBSWdCQkJFMGdBRUVEUjNGRkJFQWdBU2dDQUNFQUlBRkJCR29vQWdBaUF5Z0NBQ0lDQkVBZ0FDQUNFUUVBQ3lBREtBSUVJZ0lFUUNBQUlBSWdBeWdDQ0JEakFRc2dBVUVNUVFRUTR3RUxDekVBUWRqb3dBQXBBd0JRQkVCQjZPakFBRUlDTndNQVFlRG93QUJDQVRjREFFSFk2TUFBUWdFM0F3QUxRZURvd0FBTFhnRUNmd0pBSUFBb0FnQWlBQ2dDRUVFQlJ3MEFJQUFvQWhRaUFVRUFPZ0FBSUFBb0FoZ2lBa1VOQUNBQklBSkJBUkRqQVFzQ1FDQUFRWDlHRFFBZ0FDQUFLQUlFSWdGQkFXczJBZ1FnQVVFQlJ3MEFJQUJCSUVFSUVPTUJDd3RiQVFGL0l3QkJNR3NpQXlRQUlBTWdBVFlDRENBRElBQTJBZ2dnQTBFQk5nSVVJQU5CcE1UQUFEWUNFQ0FEUWdFM0Fod2dBeUFEUVFocXJVS0FnSUNBNEF5RU53TW9JQU1nQTBFb2FqWUNHQ0FEUVJCcUlBSVFwQUVBQzFRQkFYOGpBRUVnYXlJQ0pBQWdBa0VCTmdJRUlBSkJyS0hBQURZQ0FDQUNRZ0UzQWd3Z0FpQUFyVUtBZ0lDQW9BV0VOd01ZSUFJZ0FrRVlhallDQ0NBQktBSVVJQUVvQWhnZ0FoQXpJQUpCSUdva0FBdFpBUUovQWtBZ0FDZ0NFRUVCUncwQUlBQW9BaFFpQVVFQU9nQUFJQUFvQWhnaUFrVU5BQ0FCSUFKQkFSRGpBUXNDUUNBQVFYOUdEUUFnQUNBQUtBSUVJZ0ZCQVdzMkFnUWdBVUVCUncwQUlBQkJJRUVJRU9NQkN3dFhBUUYvSXdCQklHc2lBQ1FBSUFCQnNPTEFBRFlDQ0NBQVFiRGl3QUEyQWd3Z0FDQUFRUjlxTmdJWUlBQWdBRUVNYWpZQ0ZDQUFJQUJCQ0dvMkFoQkIyT0xBQUNBQVFSQnFRZHlSd0FBUU5TQUFRU0JxSkFBTFZ3RUJmeU1BUVNCcklnQWtBQ0FBUVpEaHdBQTJBZ2dnQUVHVTRjQUFOZ0lNSUFBZ0FFRWZhallDR0NBQUlBQkJER28yQWhRZ0FDQUFRUWhxTmdJUVFaRGh3QUFnQUVFUWFrSHdrY0FBRURVZ0FFRWdhaVFBQzFjQkFYOGpBRUVnYXlJQUpBQWdBRUd3NGNBQU5nSUlJQUJCc09IQUFEWUNEQ0FBSUFCQkgybzJBaGdnQUNBQVFReHFOZ0lVSUFBZ0FFRUlhallDRUVHZzRzQUFJQUJCRUdwQmhKTEFBQkExSUFCQklHb2tBQXRPQVFGL0lBQW9BZ0FpQUVFTWFpZ0NBQ0lCQkVBZ0FFRVFhaWdDQUNBQlFRRVE0d0VMQWtBZ0FFRi9SZzBBSUFBZ0FDZ0NCQ0lCUVFGck5nSUVJQUZCQVVjTkFDQUFRUmhCQkJEakFRc0xWd0VCZnlNQVFTQnJJZ0FrQUNBQVFlaml3QUEyQWdnZ0FFSG80c0FBTmdJTUlBQWdBRUVmYWpZQ0dDQUFJQUJCREdvMkFoUWdBQ0FBUVFocU5nSVFRZGpqd0FBZ0FFRVFha0hJa2NBQUVEVWdBRUVnYWlRQUM2d01BUXQvSUFFaENVRWdJUWNqQUVFUWF5SUtKQUFDUUFKQUFrQUNRRUhvNDhBQUtBSUFJZ0ZCQTBZRWZ5TUFRU0JySWdVa0FFR0E1TUFBS0FJQVJRUkFFQk1oQVVHTTVNQUFLQUlBSVFOQmlPVEFBQ2dDQUNFRVFZamt3QUJDQURjQ0FBSkFBa0FDUUNBRVFRRkhEUUFRRkNFQlFZemt3QUFvQWdBaEJFR0k1TUFBS0FJQVFZamt3QUJDQURjQ0FDQURRWVFCVHdSQUlBTVFBZ3RCQVVjTkFCQVZJUUZCak9UQUFDZ0NBQ0VHUVlqa3dBQW9BZ0JCaU9UQUFFSUFOd0lBSUFSQmhBRlBCRUFnQkJBQ0MwRUJSdzBBRUJZaEFVR001TUFBS0FJQUlRTkJpT1RBQUNnQ0FFR0k1TUFBUWdBM0FnQWdCa0dFQVU4RVFDQUdFQUlMUVFFaEJFRUJSZzBCQ3lBQkVCZEJBVWNOQVVFQUlRUkJBU0VDSUFGQmhBRlBCRUFnQVJBQ0N5QUJJUU1MUWRDb3dBQkJDeEFRSWdGQmdBRVFFU0VNUVl6a3dBQW9BZ0FoQmtHSTVNQUFLQUlBSVFoQmlPVEFBRUlBTndJQUlBaEJBVWNnQmtHREFVMXlSUVJBSUFZUUFnc2dBVUdFQVU4RVFDQUJFQUlMUVlBQklBd2dDRUVCUmhzaEFRSkFJQUlFUUNBRUlBTkJnd0ZMY1VVTkFnd0JDeUFEUVlNQlRRMEJDeUFERUFJTFFZVGt3QUFvQWdBaEEwR0U1TUFBSUFFMkFnQkJnT1RBQUNnQ0FFR0E1TUFBUVFFMkFnQkZJQU5CaEFGSmNrVUVRQ0FERUFJTEN5QUZRWVRrd0FBb0FnQVFFaUlDTmdJVUFrQUNRQ0FDRUFVaUF4QUdRUUZHQkVBZ0F5RUJEQUVMQWtBQ1FBSkFBa0FnQWhBSElnRVFCa0VCUncwQUlBRVFDQ0lFRUFaQkFVWUVRQ0FFRUFraUJoQUtJUWdnQmtHRUFVOEVRQ0FHRUFJTElBUkJoQUZQQkVBZ0JCQUNDeUFCUVlNQlRRMENJQUVRQWd3Q0N5QUVRWVFCU1EwQUlBUVFBZ3NnQVVHRUFVa05BU0FCRUFJTUFRc2dDRUVCUncwQUVBc2hBa0dNNU1BQUtBSUFJUVpCaU9UQUFDZ0NBQ0VCUVlqa3dBQkNBRGNDQUFKQUFrQWdBVUVCUmlJSURRQWdBaEFNUVFGSERRQWdCU0FDTmdJWUlBVkIwS2ZBQUVFR0VBUWlBallDSENBRlFRaHFJQVZCR0dvZ0JVRVVhaUFGUVJ4cUVLc0JJQVVvQWd3aEFTQUZLQUlJUlFSQVFRQWhCQXdDQzBFQ0lRUWdBVUdFQVVrRVFFR01nSUNBZUNFQkRBSUxJQUVRQWlBRktBSWNJUUpCaklDQWdIZ2hBUXdCQzBFQ0lRUkJqb0NBZ0hnaEFTQUdJQUlnQ0JzaUFrR0VBVWtOQWlBQ0VBSU1BZ3NnQWtHRUFVOEVRQ0FDRUFJTElBVW9BaGdpQWtHRUFVa05BU0FDRUFJTUFRc2dBaEFOSWdFUUJrRUJSZ1JBSUFOQmhBRkpEUUlnQXhBQ0RBSUxRUUloQkNBQlFZUUJUd1JBSUFFUUFndEJoNENBZ0hnaEFRc2dBMEdFQVU4RVFDQURFQUlMSUFVb0FoUWlBa0dFQVU4RVFDQUNFQUlMREFFTFFZQUNFQjRoQXlBQ1FZUUJUd1JBSUFJUUFndEJBU0VFQzBIdzQ4QUFLQUlBSVFKQjhPUEFBQ0FETmdJQVFlemp3QUFvQWdBaEEwSHM0OEFBSUFFMkFnQkI2T1BBQUNnQ0FDRUJRZWpqd0FBZ0JEWUNBQUpBSUFGQmZuRkJBa1lOQUFKQUlBRkZCRUFnQXlJQ1FZTUJTdzBCREFJTElBTkJoQUZQQkVBZ0F4QUNDeUFDUVlRQlNRMEJDeUFDRUFJTElBVkJJR29rQUVIbzQ4QUFLQUlBQlNBQkMwRUJhdzRDQWdBQkMwSHM0OEFBS0FJQUlRRU1BZ3RCQUNFQlFlemp3QUFvQWdBaEJRTkFJQWRGRFFJZ0JTQUpRZi8vLy84SElBY2dCMEgvLy8vL0IwOGJJZ01RdFFFUURrR001TUFBS0FJQUlRSkJpT1RBQUNnQ0FFR0k1TUFBUWdBM0FnQWdCeUFEYXlFSElBTWdDV29oQ1VFQlJ3MEFDMEdOZ0lDQWVDRUJJQUpCaEFGSkRRRWdBaEFDREFFTFFlemp3QUFvQWdBaEJBSkFBMEFnQ2tIdzQ4QUFLQUlBUVFCQmdBSWdCeUFIUVlBQ1R4c2lBeEFmSWdFMkFnd2dCQ0FCRUE5QmpPVEFBQ2dDQUNFQlFZamt3QUFvQWdCQmlPVEFBRUlBTndJQVFRRkdEUUVnQnlBRGF5RUhFQ0lpQWhBYUlnVVFIQ0VCSUFWQmhBRlBCRUFnQlJBQ0N5QUJJQXBCREdvb0FnQWdDUkFkSUFGQmhBRlBCRUFnQVJBQ0N5QUNRWVFCVHdSQUlBSVFBZ3NnQ2lnQ0RDSUJRWVFCVHdSQUlBRVFBZ3NnQXlBSmFpRUpJQWNOQUF0QkFDRUJEQUVMSUFGQmhBRlBCRUFnQVJBQ0N5QUtLQUlNSWdGQmhBRlBCRUFnQVJBQ0MwR0lnSUNBZUNFQkN5QUtRUkJxSkFBQ1FDQUJCRUJCK2VQQUFDMEFBQnBCQkVFRUVOY0JJZ3RGRFFFZ0N5QUJOZ0lBQ3lBQVFjU2h3QUEyQWdRZ0FDQUxOZ0lBRHd0QkJFRUVFUEVCQUF0U0FRSi9RZmpvd0FBb0FnQWlBRVVFUUJCclFmam93QUFvQWdBaEFBc2dBQ0FBS0FJQUlnRkJBV28yQWdBQ1FDQUJRUUJPQkVBZ0FFVU5BU0FBRHdzQUMwSFByY0FBUWQ0QVFjeXV3QUFRbVFFQUN6b0JBWDhqQUVFZ2F5SUFKQUFnQUVFQU5nSVlJQUJCQVRZQ0RDQUFRZlMrd0FBMkFnZ2dBRUlFTndJUUlBQkJDR3BCcUwvQUFCQ2tBUUFMdEFJQkEzOGpBRUVnYXlJQ0pBQWdBa0VRYWlJRElBQkJFR29wQWdBM0F3QWdBa0VJYWlJRUlBQkJDR29wQWdBM0F3QWdBa0VCT3dFY0lBSWdBVFlDR0NBQ0lBQXBBZ0EzQXdBakFFRWdheUlBSkFBZ0FpZ0NHQ0VCSUFCQkVHb2dBeWtDQURjREFDQUFRUWhxSUFRcEFnQTNBd0FnQUNBQ05nSWNJQUFnQVRZQ0dDQUFJQUlwQWdBM0F3QkJBQ0VDSXdCQkVHc2lBU1FBSUFBb0Fnd2hBd0pBQWtBQ1FBSkFJQUFvQWdRT0FnQUJBZ3NnQXcwQlFRRWhBd3dDQ3lBRERRQWdBQ2dDQUNJREtBSUVJUUlnQXlnQ0FDRUREQUVMSUFGQmdJQ0FnSGcyQWdBZ0FTQUFOZ0lNSUFGQm9MdkFBQ0FBS0FJWUlBQW9BaHdpQUMwQUhDQUFMUUFkRUc0QUN5QUJJQUkyQWdRZ0FTQUROZ0lBSUFGQmhMdkFBQ0FBS0FJWUlBQW9BaHdpQUMwQUhDQUFMUUFkRUc0QUMwY0JBWDhnQWlBQUtBSUlJZ0FvQWdBZ0FDZ0NDQ0lEYTBzRVFDQUFJQU1nQWhCMElBQW9BZ2doQXdzZ0FDZ0NCQ0FEYWlBQklBSVE5d0VhSUFBZ0FpQURhallDQ0VFQUMwOEJBbjlCK2VQQUFDMEFBQm9nQVNnQ0JDRUNJQUVvQWdBaEEwRUlRUVFRMXdFaUFRUkFJQUVnQWpZQ0JDQUJJQU0yQWdBZ0FFSDB1c0FBTmdJRUlBQWdBVFlDQUE4TFFRUkJDQkR4QVFBTFR3RUNmeUFBS0FJRUlRSWdBQ2dDQUNFREFrQWdBQ2dDQ0NJQUxRQUFSUTBBSUFOQjJNYkFBRUVFSUFJb0Fnd1JBZ0JGRFFCQkFROExJQUFnQVVFS1Jqb0FBQ0FESUFFZ0FpZ0NFQkVBQUFzZ0FRRi9Jd0JCSUdzaUFTUUFJQUZCQkRZQ0JDQUFLQUFBSUFGQklHb2tBQXRDQVFGL0lBSWdBQ2dDQUNBQUtBSUlJZ05yU3dSQUlBQWdBeUFDRUhRZ0FDZ0NDQ0VEQ3lBQUtBSUVJQU5xSUFFZ0FoRDNBUm9nQUNBQ0lBTnFOZ0lJUVFBTFFnRUJmeUFDSUFBb0FnQWdBQ2dDQ0NJRGEwc0VRQ0FBSUFNZ0FoQjJJQUFvQWdnaEF3c2dBQ2dDQkNBRGFpQUJJQUlROXdFYUlBQWdBaUFEYWpZQ0NFRUFDMHNBSUFFb0FnQWdBaWdDQUNBREtBSUFFQmdoQVVHTTVNQUFLQUlBSVFKQmlPVEFBQ2dDQUNFRFFZamt3QUJDQURjQ0FDQUFJQUlnQVNBRFFRRkdJZ0ViTmdJRUlBQWdBVFlDQUFzNEFBSkFJQUZwUVFGSFFZQ0FnSUI0SUFGcklBQkpjZzBBSUFBRVFFSDU0OEFBTFFBQUdpQUFJQUVRMXdFaUFVVU5BUXNnQVE4TEFBdENBUUYvSXdCQklHc2lBeVFBSUFOQkFEWUNFQ0FEUVFFMkFnUWdBMElFTndJSUlBTWdBVFlDSENBRElBQTJBaGdnQXlBRFFSaHFOZ0lBSUFNZ0FoQ2tBUUFMT1FBQ1FBSi9JQUpCZ0lERUFFY0VRRUVCSUFBZ0FpQUJLQUlRRVFBQURRRWFDeUFERFFGQkFBc1BDeUFBSUFNZ0JDQUJLQUlNRVFJQUM4UUNBUU4vSUFBb0FnQWhBQ0FCS0FJY0lnTkJFSEZGQkVBZ0EwRWdjVVVFUUNBQUlBRVE1UUVQQ3lNQVFZQUJheUlFSkFBZ0FDMEFBQ0VBQTBBZ0FpQUVha0gvQUdvZ0FFRVBjU0lEUVRCeUlBTkJOMm9nQTBFS1NSczZBQUFnQWtFQmF5RUNJQUFpQTBFRWRpRUFJQU5CRUU4TkFBc2dBa0dBQVdvaUFFR0JBVThFUUNBQVFZQUJRWXpId0FBUWtBRUFDeUFCUVFGQm5NZkFBRUVDSUFJZ0JHcEJnQUZxUVFBZ0Ftc1FMQ0FFUVlBQmFpUUFEd3NqQUVHQUFXc2lCQ1FBSUFBdEFBQWhBQU5BSUFJZ0JHcEIvd0JxSUFCQkQzRWlBMEV3Y2lBRFFkY0FhaUFEUVFwSkd6b0FBQ0FDUVFGcklRSWdBQ0lEUVFSMklRQWdBMEVRVHcwQUN5QUNRWUFCYWlJQVFZRUJUd1JBSUFCQmdBRkJqTWZBQUJDUUFRQUxJQUZCQVVHY3g4QUFRUUlnQWlBRWFrR0FBV3BCQUNBQ2F4QXNJQVJCZ0FGcUpBQUxPQUVCZnlBQUtBSUFJUUFnQVNnQ0hDSUNRUkJ4UlFSQUlBSkJJSEZGQkVBZ0FDQUJFT1FCRHdzZ0FDQUJFSUFCRHdzZ0FDQUJFSDhMMFFFQkFuOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUl3QkJFR3NpQUNRQUlBRW9BaFJCcUlIQUFFRU5JQUVvQWhnb0Fnd1JBZ0FoQXlBQVFRQTZBQTBnQUNBRE9nQU1JQUFnQVRZQ0NDQUFRUWhxUWJXQndBQkJCQ0FDUVF4cVFaaUJ3QUFRVXlFQkFuOGdBQzBBRENJRFFRQkhJQUF0QUExRkRRQWFRUUVnQXcwQUdpQUJLQUlBSWdFdEFCeEJCSEZGQkVBZ0FTZ0NGRUhueHNBQVFRSWdBU2dDR0NnQ0RCRUNBQXdCQ3lBQktBSVVRZWJHd0FCQkFTQUJLQUlZS0FJTUVRSUFDeUFBUVJCcUpBQWdBa0VRYWlRQUN5NEFBa0FnQTJsQkFVZEJnSUNBZ0hnZ0Eyc2dBVWx5RFFBZ0FDQUJJQU1nQWhET0FTSUFSUTBBSUFBUEN3QUxNUUVCZnlBQktBSWNJZ0pCRUhGRkJFQWdBa0VnY1VVRVFDQUFJQUVRNUFFUEN5QUFJQUVRZ0FFUEN5QUFJQUVRZndzeEFRRi9JQUVvQWh3aUFrRVFjVVVFUUNBQ1FTQnhSUVJBSUFBZ0FSQzhBUThMSUFBZ0FSQ0FBUThMSUFBZ0FSQi9DeXdCQW44UUlpSUNFQm9pQXlBQUlBRVFHeUFDUVlRQlR3UkFJQUlRQWdzZ0EwR0VBVThFUUNBREVBSUxDemtCQVg5QkFTRUNBa0FnQUNBQkVGUU5BQ0FCS0FJVVFlbkR3QUJCQWlBQktBSVlLQUlNRVFJQURRQWdBRUVFYWlBQkVGUWhBZ3NnQWdzc0FRRi9Jd0JCRUdzaUFDUUFJQUJCQ0dvaUFpQUJRY1N0d0FCQkN4QzZBU0FDRUlnQklBQkJFR29rQUF1cEJBRU1mMEg4NDhBQUtBSUFJZ0JGQkVBakFFRkFhaUlBSkFBZ0FFRTRha0lBTndNQUlBQkJNR3BDQURjREFDQUFRU2hxUWdBM0F3QWdBRUlBTndNZ0lBQkJDR29nQUVFZ2FoQ2hBUUpBSUFBb0FnZ2lBVVVFUUNBQUtBSThJUUlnQUNnQ09DRURJQUFvQWpRaEJDQUFLQUl3SVFVZ0FDZ0NMQ0VHSUFBb0FpZ2hCeUFBS0FJa0lRZ2dBQ2dDSUNFSlFkU2V3QUFRcUFFaENrSFluc0FBRUtnQklRdEIrZVBBQUMwQUFCcEIyQUpCQ0JEWEFTSUJEUUZCQ0VIWUFoRHhBUUFMSUFBZ0FDZ0NERFlDRkNBQUlBRTJBaEFnQUVFQk5nSWtJQUJCZ0ovQUFEWUNJQ0FBUWdFM0Fpd2dBQ0FBUVJCcXJVS0FnSUNBZ0FXRU53TVlJQUFnQUVFWWFqWUNLQ0FBUVNCcVFleWZ3QUFRcEFFQUN5QUJRb0dBZ0lBUU53TUFJQUZCQ0dwQkFFR0FBaEQxQVJvZ0FVRUFOZ0xRQWlBQlFvQ0FCRGNEeUFJZ0FVS0FnQVEzQThBQ0lBRWdDellDdkFJZ0FTQUtOZ0s0QWlBQlFnQTNBN0FDSUFFZ0FqWUNyQUlnQVNBRE5nS29BaUFCSUFRMkFxUUNJQUVnQlRZQ29BSWdBU0FHTmdLY0FpQUJJQWMyQXBnQ0lBRWdDRFlDbEFJZ0FTQUpOZ0tRQWlBQlFjQUFOZ0tJQWtIODQ4QUFLQUlBSVFKQi9PUEFBQ0FCTmdJQUFrQWdBa1VOQUNBQ0lBSW9BZ0JCQVdzaUFUWUNBQ0FCRFFBZ0FrRUVhaUlCSUFFb0FnQkJBV3NpQVRZQ0FDQUJEUUFnQWtIWUFrRUlFT01CQ3lBQVFVQnJKQUJCL09QQUFDZ0NBQ0VBQ3lBQUlBQW9BZ0JCQVdvaUFUWUNBQ0FCUlFSQUFBc2dBQXN2QVFGL1FRRWhBU0FBTFFBRUJIOGdBUVVnQUNnQ0FDSUFLQUlVUWU3R3dBQkJBU0FBS0FJWUtBSU1FUUlBQ3dzdEFDQUJLQUlVSUFJZ0F5QUJLQUlZS0FJTUVRSUFJUUlnQUVFQU9nQUZJQUFnQWpvQUJDQUFJQUUyQWdBTE1nRUJmeUFCS0FJVVFhekV3QUJCQVNBQktBSVlLQUlNRVFJQUlRSWdBRUVBT2dBRklBQWdBam9BQkNBQUlBRTJBZ0FMSXdFQmZ5QUFLQUlBSWdBZ0FFRWZkU0lDY3lBQ2E2MGdBRUYvYzBFZmRpQUJFRllMS0FBZ0FTQUFLQUlBTFFBQVFRSjBJZ0JCeklMQUFHb29BZ0FnQUVHNGdzQUFhaWdDQUJEUUFRc2VBQ0FBUlFSQUVPZ0JBQXNnQUNBQ0lBTWdCQ0FGSUFFb0FoQVJDd0FMSEFBZ0FFVUVRQkRvQVFBTElBQWdBaUFESUFRZ0FTZ0NFQkVJQUFzY0FDQUFSUVJBRU9nQkFBc2dBQ0FDSUFNZ0JDQUJLQUlRRVJRQUN4d0FJQUJGQkVBUTZBRUFDeUFBSUFJZ0F5QUVJQUVvQWhBUkZnQUxIQUFnQUVVRVFCRG9BUUFMSUFBZ0FpQURJQVFnQVNnQ0VCRUtBQXNjQUNBQVJRUkFFT2dCQUFzZ0FDQUNJQU1nQkNBQktBSVFFUmdBQ3lnQkFYOGdBQ2dDQUNJQlFZQ0FnSUI0Y2tHQWdJQ0FlRWNFUUNBQUtBSUVJQUZCQVJEakFRc0xDZ0JCQ0NBQUVQRUJBQXNhQUNBQVJRUkFFT2dCQUFzZ0FDQUNJQU1nQVNnQ0VCRUZBQXNpQUNBQUxRQUFSUVJBSUFGQmdjbkFBRUVGRUNzUEN5QUJRWWJKd0FCQkJCQXJDeGdCQVg4UStRRWhBU0FBRVBrQk5nSUVJQUFnQVRZQ0FBc1lBQ0FBUlFSQUVPZ0JBQXNnQUNBQ0lBRW9BaEFSQUFBTEdnRUJmeUFBS0FJQUlnRUVRQ0FBS0FJRUlBRkJBUkRqQVFzTEZBQWdBQ2dDQUNJQVFZUUJUd1JBSUFBUUFnc0xSZ0FnQUVVRVFDTUFRU0JySWdBa0FDQUFRUUEyQWhnZ0FFRUJOZ0lNSUFCQjlML0FBRFlDQ0NBQVFnUTNBaEFnQUVFSWFrR1l3TUFBRUtRQkFBc2dBQ0FCRVBFQkFBc1dBQ0FBS0FJQUlnQW9BZ1FnQUNnQ0NDQUJFUFFCQzl3R0FRWi9BbjhDUUFKQUFrQUNRQUpBSUFCQkJHc2lCU2dDQUNJR1FYaHhJZ1JCQkVFSUlBWkJBM0VpQnhzZ0FXcFBCRUFnQjBFQUlBRkJKMm9pQ1NBRVNSc05BUUpBQWtBZ0FrRUpUd1JBSUFJZ0F4QkhJZ2dOQVVFQURBa0xJQU5CelA5N1N3MEJRUkFnQTBFTGFrRjRjU0FEUVF0Skd5RUJBa0FnQjBVRVFDQUJRWUFDU1NBRUlBRkJCSEpKY2lBRUlBRnJRWUdBQ0U5eURRRU1DUXNnQUVFSWF5SUNJQVJxSVFjQ1FBSkFBa0FDUUNBQklBUkxCRUFnQjBHczZNQUFLQUlBUmcwRUlBZEJxT2pBQUNnQ0FFWU5BaUFIS0FJRUlnWkJBbkVOQlNBR1FYaHhJZ1lnQkdvaUJDQUJTUTBGSUFjZ0JoQlNJQVFnQVdzaUEwRVFTUTBCSUFVZ0FTQUZLQUlBUVFGeGNrRUNjallDQUNBQklBSnFJZ0VnQTBFRGNqWUNCQ0FDSUFScUlnSWdBaWdDQkVFQmNqWUNCQ0FCSUFNUVB3d05DeUFFSUFGcklnTkJEMHNOQWd3TUN5QUZJQVFnQlNnQ0FFRUJjWEpCQW5JMkFnQWdBaUFFYWlJQklBRW9BZ1JCQVhJMkFnUU1Dd3RCb09qQUFDZ0NBQ0FFYWlJRUlBRkpEUUlDUUNBRUlBRnJJZ05CRDAwRVFDQUZJQVpCQVhFZ0JISkJBbkkyQWdBZ0FpQUVhaUlCSUFFb0FnUkJBWEkyQWdSQkFDRURRUUFoQVF3QkN5QUZJQUVnQmtFQmNYSkJBbkkyQWdBZ0FTQUNhaUlCSUFOQkFYSTJBZ1FnQWlBRWFpSUNJQU0yQWdBZ0FpQUNLQUlFUVg1eE5nSUVDMEdvNk1BQUlBRTJBZ0JCb09qQUFDQUROZ0lBREFvTElBVWdBU0FHUVFGeGNrRUNjallDQUNBQklBSnFJZ0VnQTBFRGNqWUNCQ0FISUFjb0FnUkJBWEkyQWdRZ0FTQURFRDhNQ1F0QnBPakFBQ2dDQUNBRWFpSUVJQUZMRFFjTElBTVFKU0lCUlEwQklBRWdBRUY4UVhnZ0JTZ0NBQ0lCUVFOeEd5QUJRWGh4YWlJQklBTWdBU0FEU1JzUTl3RWdBQkF1REFnTElBZ2dBQ0FCSUFNZ0FTQURTUnNROXdFYUlBVW9BZ0FpQWtGNGNTSURJQUZCQkVFSUlBSkJBM0VpQWh0cVNRMERJQUpCQUNBRElBbExHdzBFSUFBUUxnc2dDQXdHQzBIRnJNQUFRUzVCOUt6QUFCQ3RBUUFMUVlTdHdBQkJMa0cwcmNBQUVLMEJBQXRCeGF6QUFFRXVRZlNzd0FBUXJRRUFDMEdFcmNBQVFTNUJ0SzNBQUJDdEFRQUxJQVVnQVNBR1FRRnhja0VDY2pZQ0FDQUJJQUpxSWdJZ0JDQUJheUlCUVFGeU5nSUVRYVRvd0FBZ0FUWUNBRUdzNk1BQUlBSTJBZ0FnQUF3QkN5QUFDd3NaQUNBQktBSVVRZnZEd0FCQkRpQUJLQUlZS0FJTUVRSUFDeFlBSUFBb0FoUWdBU0FDSUFBb0FoZ29BZ3dSQWdBTEZBQWdBQ2dDQUNBQklBQW9BZ1FvQWhBUkFBQUxGQUFnQUNnQ0FDQUJJQUFvQWdRb0Fnd1JBQUFMendnQkJYOGpBRUh3QUdzaUJTUUFJQVVnQXpZQ0RDQUZJQUkyQWdnQ1FBSkFJQUZCZ1FKUEJFQWdBQUovUVFNZ0FDd0FnQUpCdjM5S0RRQWFRUUlnQUN3QS93RkJ2MzlLRFFBYUlBQXNBUDRCUWI5L1NndEIvUUZxSWdacUxBQUFRYjkvVEEwQklBVWdCallDRkNBRklBQTJBaEJCQlNFSFFZVEx3QUFoQmd3Q0N5QUZJQUUyQWhRZ0JTQUFOZ0lRUVFFaEJnd0JDeUFBSUFGQkFDQUdJQVFRMHdFQUN5QUZJQWMyQWh3Z0JTQUdOZ0lZQWtBQ1FBSkFBa0FDUUNBQklBSkpJZ2NnQVNBRFNYSkZCRUFnQWlBRFN3MEJJQUpGSUFFZ0FrMXlSUVJBSUFWQkRHb2dCVUVJYWlBQUlBSnFMQUFBUWI5L1Noc29BZ0FoQXdzZ0JTQUROZ0lnSUFNZ0FTSUNTUVJBSUFOQkFXb2lCeUFEUVFOcklnSkJBQ0FDSUFOTkd5SUNTUTBEQWtBZ0FpQUhSZzBBSUFBZ0Iyb2dBQ0FDYWlJSWF5RUhJQUFnQTJvaUNTd0FBRUcvZjBvRVFDQUhRUUZySVFZTUFRc2dBaUFEUmcwQUlBbEJBV3NpQXl3QUFFRy9mMG9FUUNBSFFRSnJJUVlNQVFzZ0F5QUlSZzBBSUFsQkFtc2lBeXdBQUVHL2Ywb0VRQ0FIUVFOcklRWU1BUXNnQXlBSVJnMEFJQWxCQTJzaUF5d0FBRUcvZjBvRVFDQUhRUVJySVFZTUFRc2dBeUFJUmcwQUlBZEJCV3NoQmdzZ0FpQUdhaUVDQ3dKQUlBSkZEUUFnQVNBQ1N3UkFJQUFnQW1vc0FBQkJ2MzlLRFFFTUJnc2dBU0FDUncwRkN5QUJJQUpHRFFNQ2Z3SkFBa0FnQUNBQ2FpSUJMQUFBSWdCQkFFZ0VRQ0FCTFFBQlFUOXhJUVlnQUVFZmNTRURJQUJCWDBzTkFTQURRUVowSUFaeUlRTU1BZ3NnQlNBQVFmOEJjVFlDSkVFQkRBSUxJQUV0QUFKQlAzRWdCa0VHZEhJaEJpQUFRWEJKQkVBZ0JpQURRUXgwY2lFRERBRUxJQU5CRW5SQmdJRHdBSEVnQVMwQUEwRS9jU0FHUVFaMGNuSWlBMEdBZ01RQVJnMEZDeUFGSUFNMkFpUkJBU0FEUVlBQlNRMEFHa0VDSUFOQmdCQkpEUUFhUVFOQkJDQURRWUNBQkVrYkN5RUFJQVVnQWpZQ0tDQUZJQUFnQW1vMkFpd2dCVUVGTmdJMElBVkJqTXpBQURZQ01DQUZRZ1UzQWp3Z0JTQUZRUmhxclVLQWdJQ0E0QXlFTndOb0lBVWdCVUVRYXExQ2dJQ0FnT0FNaERjRFlDQUZJQVZCS0dxdFFvQ0FnSUNBRFlRM0ExZ2dCU0FGUVNScXJVS0FnSUNBa0EyRU53TlFJQVVnQlVFZ2FxMUNnSUNBZ05BQWhEY0RTQXdGQ3lBRklBSWdBeUFIR3pZQ0tDQUZRUU0yQWpRZ0JVSE16TUFBTmdJd0lBVkNBemNDUENBRklBVkJHR3F0UW9DQWdJRGdESVEzQTFnZ0JTQUZRUkJxclVLQWdJQ0E0QXlFTndOUUlBVWdCVUVvYXExQ2dJQ0FnTkFBaERjRFNBd0VDeUFGUVFRMkFqUWdCVUdzeThBQU5nSXdJQVZDQkRjQ1BDQUZJQVZCR0dxdFFvQ0FnSURnRElRM0EyQWdCU0FGUVJCcXJVS0FnSUNBNEF5RU53TllJQVVnQlVFTWFxMUNnSUNBZ05BQWhEY0RVQ0FGSUFWQkNHcXRRb0NBZ0lEUUFJUTNBMGdNQXdzZ0FpQUhRWUROd0FBUWt3RUFDeUFFRU9jQkFBc2dBQ0FCSUFJZ0FTQUVFTk1CQUFzZ0JTQUZRY2dBYWpZQ09DQUZRVEJxSUFRUXBBRUFDeFFBSUFCQkFEWUNDQ0FBUW9DQWdJQVFOd0lBQ3hFQUlBQW9BZ1FnQUNnQ0NDQUJFUFFCQ3hVQVFmbmp3QUF0QUFBYVFZQ0F3QUpCQVJEWEFRc1pBQUovSUFGQkNVOEVRQ0FCSUFBUVJ3d0JDeUFBRUNVTEN4TUFJQUJCS0RZQ0JDQUFRWVNod0FBMkFnQUxJUUFnQUVMeTNQdTNwTzZQamdJM0F3Z2dBRUxaKzRyNzVJYnM1ZklBTndNQUM5c0dBUTkvSUFBb0FnQWhCeUFBS0FJRUlRVkJBQ0VBSXdCQkVHc2lCaVFBUVFFaERBSkFJQUVvQWhRaUNrRWlJQUVvQWhnaURTZ0NFQ0lPRVFBQURRQUNRQ0FGUlFSQURBRUxRUUFnQldzaER5QUhJUUVnQlNFQUFrQUNmd0pBQWtBRFFDQUFJQUZxSVJCQkFDRURBa0FEUUNBQklBTnFJZ1F0QUFBaUNVSC9BR3RCL3dGeFFhRUJTU0FKUVNKR2NpQUpRZHdBUm5JTkFTQUFJQU5CQVdvaUEwY05BQXNnQUNBSWFnd0VDeUFFUVFGcUlRRUNRQ0FFTEFBQUlnQkJBRTRFUUNBQVFmOEJjU0VBREFFTElBRXRBQUJCUDNFaEN5QUFRUjl4SVFrZ0JFRUNhaUVCSUFCQlgwMEVRQ0FKUVFaMElBdHlJUUFNQVFzZ0FTMEFBRUUvY1NBTFFRWjBjaUVMSUFSQkEyb2hBU0FBUVhCSkJFQWdDeUFKUVF4MGNpRUFEQUVMSUFsQkVuUkJnSUR3QUhFZ0FTMEFBRUUvY1NBTFFRWjBjbkloQUNBRVFRUnFJUUVMSUFaQkJHb2dBRUdCZ0FRUUtnSkFBa0FnQmkwQUJFR0FBVVlOQUNBR0xRQVBJQVl0QUE1clFmOEJjVUVCUmcwQUlBSWdBeUFJYWlJRVN3MERBa0FnQWtVTkFDQUNJQVZKQkVBZ0FpQUhhaXdBQUVHL2Ywb05BUXdGQ3lBQ0lBVkhEUVFMQWtBZ0JFVU5BQ0FFSUFWSkJFQWdCeUFJYWlBRGFpd0FBRUcvZjB3TkJRd0JDeUFFSUE5cURRUUxJQW9nQWlBSGFpQUlJQUpySUFOcUlBMG9BZ3dpQWhFQ0FBMEJBa0FnQmkwQUJFR0FBVVlFUUNBS0lBWW9BZ2dnRGhFQUFFVU5BUXdEQ3lBS0lBWXRBQTRpQkNBR1FRUnFhaUFHTFFBUElBUnJJQUlSQWdBTkFnc0NmMEVCSUFCQmdBRkpEUUFhUVFJZ0FFR0FFRWtOQUJwQkEwRUVJQUJCZ0lBRVNSc0xJQWhxSUFOcUlRSUxBbjlCQVNBQVFZQUJTUTBBR2tFQ0lBQkJnQkJKRFFBYVFRTkJCQ0FBUVlDQUJFa2JDeUFJYWlJRUlBTnFJUWdnRUNBQmF5SUFSUTBEREFFTEN3d0ZDeUFISUFVZ0FpQUVRWXpKd0FBUTB3RUFDeUFESUFScUN5SURJQUpKRFFCQkFDRUFBa0FnQWtVTkFDQUNJQVZKQkVBZ0FpSUFJQWRxTEFBQVFiOS9UQTBDREFFTElBSWlBQ0FGUncwQkN5QURSUVJBUVFBaEF3d0NDeUFESUFWSkJFQWdBQ0VDSUFNZ0Iyb3NBQUJCdjM5S0RRSU1BUXNnQUNFQ0lBTWdCVVlOQVFzZ0J5QUZJQUlnQTBHY3ljQUFFTk1CQUFzZ0NpQUFJQWRxSUFNZ0FHc2dEU2dDREJFQ0FBMEFJQXBCSWlBT0VRQUFJUXdMSUFaQkVHb2tBQ0FNQ3hZQVFZemt3QUFnQURZQ0FFR0k1TUFBUVFFMkFnQUxJUUFnQUVMMGhmZWRzY3ZVcjhNQU53TUlJQUJDbkx1MnhJdk4vNjltTndNQUN5SUFJQUJDN2JxdHRzMkYxUFhqQURjRENDQUFRdmlDbWIyVjdzYkZ1WDgzQXdBTEVRQWdBQ2dDQUNBQUtBSUVJQUVROUFFTEV3QWdBRUgwdXNBQU5nSUVJQUFnQVRZQ0FBc1JBQ0FCSUFBb0FnQWdBQ2dDQkJEUUFRc1FBQ0FCSUFBb0FnQWdBQ2dDQkJBckN4QUFJQUVvQWhRZ0FTZ0NHQ0FBRURNTFlRRUJmd0pBQWtBZ0FFRUVheWdDQUNJQ1FYaHhJZ05CQkVFSUlBSkJBM0VpQWhzZ0FXcFBCRUFnQWtFQUlBTWdBVUVuYWtzYkRRRWdBQkF1REFJTFFjV3N3QUJCTGtIMHJNQUFFSzBCQUF0QmhLM0FBRUV1UWJTdHdBQVFyUUVBQ3dzTkFDQUFOUUlBUVFFZ0FSQldDdzBBSUFBeEFBQkJBU0FCRUZZTERRQWdBRE1CQUVFQklBRVFWZ3NQQUVHdHhNQUFRU3NnQUJDdEFRQUxEQUJCMjZqQUFFRXlFQ0VBQ3d3QUlBQW9BZ0FnQVJESEFRc05BQ0FBUWV5cndBQWdBUkF6Q3cwQUlBQkJoS3pBQUNBQkVETUxEUUFnQUVIVXE4QUFJQUVRTXdzTUFDQUFJQUVwQWdBM0F3QUxEUUFnQUVISXY4QUFJQUVRTXdzT0FDQUJRYmkvd0FCQkJSRFFBUXNPQUNBQlFiMi93QUJCQ3hEUUFRc2FBQ0FBSUFGQjRPVEFBQ2dDQUNJQVFjWUFJQUFiRVFNQUFBdnlBd0VIZnlNQVFSQnJJZ01rQUFKQUFuOENRQ0FCUVlBQlR3UkFJQU5CQURZQ0RDQUJRWUFRU1EwQklBRkJnSUFFU1FSQUlBTWdBVUUvY1VHQUFYSTZBQTRnQXlBQlFReDJRZUFCY2pvQURDQURJQUZCQm5aQlAzRkJnQUZ5T2dBTlFRTU1Bd3NnQXlBQlFUOXhRWUFCY2pvQUR5QURJQUZCQm5aQlAzRkJnQUZ5T2dBT0lBTWdBVUVNZGtFL2NVR0FBWEk2QUEwZ0F5QUJRUkoyUVFkeFFmQUJjam9BREVFRURBSUxJQUFvQWdnaUJ5QUFLQUlBUmdSQUl3QkJJR3NpQWlRQUlBQW9BZ0FpQkVGL1JnUkFRUUJCQUJETUFRQUxRUUVoQ0VFSUlBUkJBWFFpQlNBRVFRRnFJZ1lnQlNBR1N4c2lCU0FGUVFoTkd5SUZRWDl6UVI5MklRWUNRQ0FFUlFSQVFRQWhDQXdCQ3lBQ0lBUTJBaHdnQWlBQUtBSUVOZ0lVQ3lBQ0lBZzJBaGdnQWtFSWFpQUdJQVVnQWtFVWFoQjRJQUlvQWdnRVFDQUNLQUlNSUFJb0FoQVF6QUVBQ3lBQ0tBSU1JUVFnQUNBRk5nSUFJQUFnQkRZQ0JDQUNRU0JxSkFBTElBQWdCMEVCYWpZQ0NDQUFLQUlFSUFkcUlBRTZBQUFNQWdzZ0F5QUJRVDl4UVlBQmNqb0FEU0FESUFGQkJuWkJ3QUZ5T2dBTVFRSUxJUUVnQVNBQUtBSUFJQUFvQWdnaUFtdExCRUFnQUNBQ0lBRVFkaUFBS0FJSUlRSUxJQUFvQWdRZ0Ftb2dBMEVNYWlBQkVQY0JHaUFBSUFFZ0FtbzJBZ2dMSUFOQkVHb2tBRUVBQ3cwQUlBQkJ3TWJBQUNBQkVETUxDZ0FnQWlBQUlBRVFLd3V2QVFFRGZ5QUJJUVVDUUNBQ1FSQkpCRUFnQUNFQkRBRUxJQUJCQUNBQWEwRURjU0lEYWlFRUlBTUVRQ0FBSVFFRFFDQUJJQVU2QUFBZ0FVRUJhaUlCSUFSSkRRQUxDeUFFSUFJZ0Eyc2lBa0Y4Y1NJRGFpRUJJQU5CQUVvRVFDQUZRZjhCY1VHQmdvUUliQ0VEQTBBZ0JDQUROZ0lBSUFSQkJHb2lCQ0FCU1EwQUN3c2dBa0VEY1NFQ0N5QUNCRUFnQVNBQ2FpRUNBMEFnQVNBRk9nQUFJQUZCQVdvaUFTQUNTUTBBQ3dzZ0FBdVZCUUVJZndKQUFuOENRQ0FDSWdVZ0FDQUJhMHNFUUNBQklBVnFJUVlnQUNBRmFpRUNJQUFnQlVFUVNRMENHaUFDUVh4eElRUkJBQ0FDUVFOeElnZHJJUWdnQndSQUlBRWdCV3BCQVdzaEF3TkFJQUpCQVdzaUFpQURMUUFBT2dBQUlBTkJBV3NoQXlBQ0lBUkxEUUFMQ3lBRUlBVWdCMnNpQjBGOGNTSUZheUVDSUFZZ0NHb2lCa0VEY1FSQUlBVkJBRXdOQWlBR1FRTjBJZ05CR0hFaENDQUdRWHh4SWdsQkJHc2hBVUVBSUFOclFSaHhJUW9nQ1NnQ0FDRURBMEFnQkVFRWF5SUVJQU1nQ25RZ0FTZ0NBQ0lESUFoMmNqWUNBQ0FCUVFScklRRWdBaUFFU1EwQUN3d0NDeUFGUVFCTURRRWdBU0FIYWtFRWF5RUJBMEFnQkVFRWF5SUVJQUVvQWdBMkFnQWdBVUVFYXlFQklBSWdCRWtOQUFzTUFRc0NRQ0FGUVJCSkJFQWdBQ0VDREFFTElBQkJBQ0FBYTBFRGNTSUdhaUVFSUFZRVFDQUFJUUlnQVNFREEwQWdBaUFETFFBQU9nQUFJQU5CQVdvaEF5QUNRUUZxSWdJZ0JFa05BQXNMSUFRZ0JTQUdheUlGUVh4eElnZHFJUUlDUUNBQklBWnFJZ1pCQTNFRVFDQUhRUUJNRFFFZ0JrRURkQ0lEUVJoeElRZ2dCa0Y4Y1NJSlFRUnFJUUZCQUNBRGEwRVljU0VLSUFrb0FnQWhBd05BSUFRZ0F5QUlkaUFCS0FJQUlnTWdDblJ5TmdJQUlBRkJCR29oQVNBRVFRUnFJZ1FnQWtrTkFBc01BUXNnQjBFQVRBMEFJQVloQVFOQUlBUWdBU2dDQURZQ0FDQUJRUVJxSVFFZ0JFRUVhaUlFSUFKSkRRQUxDeUFGUVFOeElRVWdCaUFIYWlFQkN5QUZSUTBDSUFJZ0JXb2hBd05BSUFJZ0FTMEFBRG9BQUNBQlFRRnFJUUVnQWtFQmFpSUNJQU5KRFFBTERBSUxJQWRCQTNFaUFVVU5BU0FHSUFWcklRWWdBaUFCYXdzaEF5QUdRUUZySVFFRFFDQUNRUUZySWdJZ0FTMEFBRG9BQUNBQlFRRnJJUUVnQWlBRFN3MEFDd3NnQUF1NEFnRUhmd0pBSUFJaUJFRVFTUVJBSUFBaEFnd0JDeUFBUVFBZ0FHdEJBM0VpQTJvaEJTQURCRUFnQUNFQ0lBRWhCZ05BSUFJZ0JpMEFBRG9BQUNBR1FRRnFJUVlnQWtFQmFpSUNJQVZKRFFBTEN5QUZJQVFnQTJzaUNFRjhjU0lIYWlFQ0FrQWdBU0FEYWlJRFFRTnhCRUFnQjBFQVRBMEJJQU5CQTNRaUJFRVljU0VKSUFOQmZIRWlCa0VFYWlFQlFRQWdCR3RCR0hFaEJDQUdLQUlBSVFZRFFDQUZJQVlnQ1hZZ0FTZ0NBQ0lHSUFSMGNqWUNBQ0FCUVFScUlRRWdCVUVFYWlJRklBSkpEUUFMREFFTElBZEJBRXdOQUNBRElRRURRQ0FGSUFFb0FnQTJBZ0FnQVVFRWFpRUJJQVZCQkdvaUJTQUNTUTBBQ3dzZ0NFRURjU0VFSUFNZ0Iyb2hBUXNnQkFSQUlBSWdCR29oQXdOQUlBSWdBUzBBQURvQUFDQUJRUUZxSVFFZ0FrRUJhaUlDSUFOSkRRQUxDeUFBQ3drQUlBQkJBRFlDQUFzSUFFRUJRUUFRRUFzREFBRUxDNjVoRlFCQmdJREFBQXV6QlM5eWRYTjBZeTlsWldJNU1HTmtZVEU1Tmprek9ETm1OVFpoTWpZek4yTmlaRE13TXpkaVpHWTFPVGc0TkRGakwyeHBZbkpoY25rdllXeHNiMk12YzNKakwzWmxZeTl0YjJRdWNuTUFBQkFBVEFBQUFKa0lBQUFrQUFBQUFBQVFBRXdBQUFBb0JnQUFEUUFBQUVWdGNIUjVTVzUyWVd4cFpFUnBaMmwwVUc5elQzWmxjbVpzYjNkT1pXZFBkbVZ5Wm14dmQxcGxjbThBQUFBQUFBUUFBQUFFQUFBQUFRQUFBRkJoY25ObFNXNTBSWEp5YjNKcmFXNWtNVEF3TVRBd01UQXdNVEF3YzNKakwyTnZiblJ5YjJ3dmRHVnpkRjltWldNdWNuUEZBQkFBRndBQUFGb0FBQUFSQUFBQUFBQUFBQUVBQUFBQkFBQUFBZ0FBQUdOaGJHeGxaQ0JnVW1WemRXeDBPanAxYm5keVlYQW9LV0FnYjI0Z1lXNGdZRVZ5Y21BZ2RtRnNkV1VBeFFBUUFCY0FBQUJRQUFBQU13QUFBQVVBQUFBTUFBQUFDd0FBQUFzQUFBQUVBQUFBYkFBUUFIRUFFQUI5QUJBQWlBQVFBSk1BRUFCemNtTXZZMjl1ZEhKdmJDOXRiMlF1Y25NQUFHQUJFQUFTQUFBQUtnQUFBQm9BQUFCelpXNWtYMnBpWVNCMllXeDFaVDBBaEFFUUFBOEFBQUJ6Y21NdmJXVmthV0V2WVhWa2FXOHZZVjltY21GdFpWOWlkV1ptWlhJdWNuTUFBQUNjQVJBQUlRQUFBTVFBQUFBa0FBQUFhVzUyWVd4cFpDd2djMjQ5MEFFUUFBd0FBQUJ6YmowZ2MybDZaVDBnYmoza0FSQUFBd0FBQU9jQkVBQUdBQUFBN1FFUUFBTUFBQUJ6Y21NdmJXVmthV0V2ZG1sa1pXOHZkbDl3WVdOclpYUmZZblZtWm1WeUxuSnpBQUFJQWhBQUlnQUFBRElCQUFBVEFBQUFDQUlRQUNJQUFBQkhBUUFBSXdBQUFBZ0NFQUFpQUFBQVVBRUFBQnNBQUFBSUFoQUFJZ0FBQUZFQkFBQVpBQUFBQ0FJUUFDSUFBQUE0QVFBQUlRQUFBQ2huWVhBZ1BpQXhNREF3S1NCeGRXVjFaVjl6YVhwbFBTQnpiajE4QWhBQUdBQUFBSlFDRUFBRUFBQUEvLy8vLy8vLy8vK29BaEFBUWNDRndBQUxyUU56Y21NdmJXVmthV0V2WTI5dGJXOXVMM0JoWTJ0bGRDNXljd0FBd0FJUUFCb0FBQUF6QUFBQUhBQUFBSE55WXk5dFpXUnBZUzkyYVdSbGJ5OTJYMlp5WVcxbFgybHVabTlmYldGdVlXZGxjaTV5Y3dEc0FoQUFKd0FBQURFQUFBQW1BQUFBYVhOZlkyOXRjR3hsZEdVOUxDQnpkR0Z5ZEQwZ1pXNWtQU0JtYVhOMFBTQnNZWE4wUFFBQUFDUURFQUFNQUFBQU1BTVFBQWdBQUFBNEF4QUFCUUFBQUQwREVBQUdBQUFBUXdNUUFBWUFBQUFCQUFBQUFBQUFBSE5wZW1VOUlIUnpQUUFBQUh3REVBQUZBQUFBZ1FNUUFBUUFBQUJ5WlcxdmRtVmZjR0ZqYTJWMGN5QnViM0p0WVd3Z2RITTlJSE5wZW1VOUlDQnJQUUNZQXhBQUdRQUFBTEVERUFBR0FBQUF0d01RQUFFQUFBQzNBeEFBQVFBQUFMY0RFQUFCQUFBQXR3TVFBQUVBQUFDNEF4QUFBd0FBQUhKbGJXOTJaVjl3WVdOclpYUnpJR1Z5Y205eUlIUnpQZlFERUFBWUFBQUFzUU1RQUFZQUFBQzNBeEFBQVFBQUFMY0RFQUFCQUFBQXR3TVFBQUVBQUFDM0F4QUFBUUFBQUxnREVBQURBQUFBYkdWdU1UMGdiR1Z1TWowZ1kyOXVkR0ZwYmoxRUJCQUFCUUFBQUVrRUVBQUdBQUFBVHdRUUFBa0FRZmlJd0FBTHJRRUJBQUFBREFBQUFHTmhibTV2ZENCaFkyTmxjM01nWVNCVWFISmxZV1FnVEc5allXd2dVM1J2Y21GblpTQjJZV3gxWlNCa2RYSnBibWNnYjNJZ1lXWjBaWElnWkdWemRISjFZM1JwYjI0dmNuVnpkR012WldWaU9UQmpaR0V4T1RZNU16Z3paalUyWVRJMk16ZGpZbVF6TURNM1ltUm1OVGs0T0RReFl5OXNhV0p5WVhKNUwzTjBaQzl6Y21NdmRHaHlaV0ZrTDJ4dlkyRnNMbkp6QUFBQXhnUVFBRThBQUFBRUFRQUFHZ0JCc0lyQUFBc0wvLy8vLy8vLy8vOHdCUkFBUWNpS3dBQUw2d056Y21NdmJXVmthV0V2ZG1sa1pXOHZkbDltY21GdFpWOWlkV1ptWlhJdWNuTUFBQUJJQlJBQUlRQUFBR3NBQUFBb0FBQUFTQVVRQUNFQUFBQzRBQUFBSlFBQUFPUzRvdVc4ZytXa3RPbURxRkRsdUtjNkFBQUFqQVVRQUJFQUFBQnBibU55WldGelpWOXpkR0Z5ZENCemRHRnlkRDBnWlc1a1BTQUFxQVVRQUJVQUFBQzlCUkFBQlFBQUFNSUZFQUFCQUFBQXdnVVFBQUVBQUFCemNtTXZjMmhoY21Wa0wyMXZaQzV5Y3dBQUFPUUZFQUFSQUFBQUtBQUFBQndBQUFEa0JSQUFFUUFBQUNrQUFBQXRBQUFBNUFVUUFCRUFBQUF3QUFBQUhRQUFBQ3dBQUFBQkFBQUFBQUFBQUNnR0VBQUJBQUFBS0FZUUFBRUFBQUFvQmhBQUFRQUFBQ2dHRUFBQkFBQUFLQVlRQUFFQUFBQVBBQUFBQkFBQUFBUUFBQUFRQUFBQVZHaGxJR05oYkd4aVlXTnJJR1oxYm1OMGFXOXVJSE5vYjNWc1pDQnViM1FnZEdoeWIzY0FBT1FGRUFBUkFBQUFnZ0FBQUE0QUFBQnVQU0JsZUhSeVlUMEFBQUNrQmhBQUFnQUFBS1lHRUFBSEFBQUFVMmhoY21Wa1FuVm1abVZ5SUU5MlpYSWdUV0Y0SUVOdmRXNTBBTUFHRUFBYkFBQUE1QVVRQUJFQUFBQnRBQUFBQ1FBQUFPUUZFQUFSQUFBQVJRQUFBQTRBQUFEa0JSQUFFUUFBQU00QUFBQVdBQUFBYzNSaGRITmZiR1Z1UFFBQUZBY1FBQW9BQUFELy8vLy8vLy8vL3lnSEVBQkJ3STdBQUF1ckFuTnlZeTl0WldScFlTOWpiMjF0YjI0dmJXVmthV0ZmYzNSaGRITXVjbk1BUUFjUUFCOEFBQUJuQUFBQURRQUFBSE55WXk5dFpXUnBZUzkyYVdSbGJ5OTJYMnBwZEhSbGNsOWlkV1ptWlhJdWNuTUFBSEFIRUFBaUFBQUFlQUFBQUVBQUFBQnpjbU12YldWa2FXRXZkbWxrWlc4dmRsOXpaV2t1Y25Pa0J4QUFHQUFBQUQwQUFBQVFBQUFBcEFjUUFCZ0FBQUE1QUFBQUR3QUFBSE55WXk5MWRHbHNjeTlpZVhSbGN5NXljd0FBM0FjUUFCSUFBQUFaQUFBQUR3QUFBTndIRUFBU0FBQUFJZ0FBQUJBQUFBRGNCeEFBRWdBQUFDSUFBQUF0QUFBQTNBY1FBQklBQUFBcUFBQUFFQUFBQU53SEVBQVNBQUFBS3dBQUFCWUFBQURjQnhBQUVnQUFBQ3dBQUFBV0FBQUEzQWNRQUJJQUFBQXRBQUFBRlFBQUFQLy8vLy8vLy8vL1lBZ1FBRUg4a01BQUM1Y0RBUUFBQUFFQUFBQVNBQUFBRXdBQUFCTUFBQUJ6Y21NdmRYUnBiSE12ZEdsdFpYSXVjbk1BQUpBSUVBQVNBQUFBZFFBQUFDd0FBQUFBQUFBQURBQUFBQVFBQUFBVkFBQUFGZ0FBQUFBQUFBQU1BQUFBQkFBQUFCY0FBQUFZQUFBQUFBQUFBQXdBQUFBRUFBQUFHUUFBQUJvQUFBQUFBQUFBREFBQUFBUUFBQUFiQUFBQUhBQUFBQUFBQUFBTUFBQUFCQUFBQUIwQUFBQWVBQUFBVEdGNmVTQnBibk4wWVc1alpTQm9ZWE1nY0hKbGRtbHZkWE5zZVNCaVpXVnVJSEJ2YVhOdmJtVmtBQUFZQ1JBQUtnQUFBQzlWYzJWeWN5OWllWFJsWkdGdVkyVXZMbU5oY21kdkwzSmxaMmx6ZEhKNUwzTnlZeTlwYm1SbGVDNWpjbUYwWlhNdWFXOHRObVl4TjJReU1tSmlZVEUxTURBeFppOXZibU5sWDJObGJHd3RNUzR4T0M0d0wzTnlZeTlzYVdJdWNuTUFBQUJNQ1JBQVlRQUFBQ0VGQUFBWkFBQUFUQWtRQUdFQUFBQTFCUUFBSFFBQUFHbHVkR1Z5Ym1Gc0lHVnljbTl5T2lCbGJuUmxjbVZrSUhWdWNtVmhZMmhoWW14bElHTnZaR1ZNQ1JBQVlRQUFBRGtGQUFBekFBQUEvLy8vLy8vLy8vOElDaEFBUWFDVXdBQUxzUXB6Y21NdmJXVmthV0V2ZG1sa1pXOHZkbDltY21GdFpTNXljd0FBSUFvUUFCb0FBQUFlQUFBQUp3QUFBQUFBQUFBRUFBQUFCQUFBQUNBQUFBQUFBQUFBQkFBQUFBUUFBQUFoQUFBQWMzSmpMMjFsWkdsaEwyMXZaQzV5YzJ3S0VBQVFBQUFBR2dBQUFESUFBQUJ6Y21NdlkyZDBjQzl0YjJRdWNuTUFqQW9RQUE4QUFBQXVBQUFBR3dBQUFITnlZeTl0WldScFlTOTJhV1JsYnk5MlgzQmhZMnRsZEY5bVpXTmZiV0Z1WVdkbGNpNXljd0NzQ2hBQUp3QUFBRHNBQUFBdkFBQUFBUUFBQUFBQUFBQnlaV05sYVhabFgyWmxZeUF4SUdKd2NGOXNaVzVuZEdnOUlIQmZjMmw2WlQwZ2NtVmpiM1psY2w5c1pXNW5kR2c5SUhObGNYVmxibU5sUFNCd2FXUTlJR1p5WVdkdFpXNTBQU0JpY0hBOUlHWmxZMTlvWldGa1pYSTlBT3dLRUFBWkFBQUFCUXNRQUFnQUFBQU5DeEFBRUFBQUFCMExFQUFLQUFBQUp3c1FBQVVBQUFBc0N4QUFDZ0FBQURZTEVBQUZBQUFBT3dzUUFBd0FBQUJ5WldObGFYWmxYMlpsWXlBeklITnVQU0JtUFNCMGN6MGdiR1Z1UFFBQUFJZ0xFQUFSQUFBQW1Rc1FBQU1BQUFDY0N4QUFCQUFBQUtBTEVBQUZBQUFBWm1WaklIQmhlV3h2WVdRZ1BTQUFBTWdMRUFBT0FBQUFkWE5sYkdWemN5Qm1aV01nWm1WalgzQnJkRjl6YVhwbFBTQjJaV05mYkdWdVBRQUE0QXNRQUJrQUFBQW5DeEFBQlFBQUFQa0xFQUFKQUFBQVptVmpMbkJoWTJ0bGRGOXphWHBsSUR3Z01pQjJaV05mYkdWdVBTd2dabVZqWDNOcGVtVTlBQndNRUFBY0FBQUFPQXdRQUFzQUFBQmpZVzV1YjNRZ2MyRnRjR3hsSUdWdGNIUjVJSEpoYm1kbEwxVnpaWEp6TDJKNWRHVmtZVzVqWlM4dVkyRnlaMjh2Y21WbmFYTjBjbmt2YzNKakwybHVaR1Y0TG1OeVlYUmxjeTVwYnkwMlpqRTNaREl5WW1KaE1UVXdNREZtTDNKaGJtUXRNQzQ0TGpVdmMzSmpMM0p1Wnk1eWMyME1FQUJiQUFBQWhnQUFBQWtBQUFBTUxFeHNjM0pqTDJOdmJuUnliMnd2Wm1WakxuSnpBQURjREJBQUVnQUFBR0lBQUFBYUFBQUEzQXdRQUJJQUFBQjVBQUFBSUFBQUFHaGhibVJzWlNCbVpXTWdjM1JoY25RZ1luQndYMnhsYmowZ2NHbGtQUW9BRUEwUUFCa0FBQUFwRFJBQUJRQUFBQzRORUFBQkFBQUFabTl5WDJsdVpHVjRNU3NySUNBQUFFZ05FQUFOQUFBQVZRMFFBQUVBQUFBdURSQUFBUUFBQUdoaGJtUnNaU0JtWldNZ2RtVmpYMnhsYmowZ2RtVmpYMmx1WkdWNFBTQm1hVDBnWW5Cd1gybHVaR1Y0UFNCcGMxOXBibDlpY0hBOUlHVjRjR1ZqZEY5emJqMEFjQTBRQUJNQUFBQ0REUkFBQ3dBQUFJNE5FQUFFQUFBQWtnMFFBQXNBQUFDZERSQUFDd0FBQUtnTkVBQUxBQUFBTGcwUUFBRUFBQUIyWldOZmFXNWtaWGc5QUFEc0RSQUFDZ0FBQUM0TkVBQUJBQUFBM0F3UUFCSUFBQUN5QUFBQUd3QUFBQ0ZvWVhOZlptVmpYM051SUhacFBTQnNhVDBBR0E0UUFBOEFBQUNPRFJBQUJBQUFBQ2NPRUFBRUFBQUFWUTBRQUFFQUFBQXVEUkFBQVFBQUFOd01FQUFTQUFBQTZ3QUFBQnNBQUFBeFBTQXlQUUFBQUdRT0VBQUNBQUFBWmc0UUFBTUFBQUF1RFJBQUFRQUFBTndNRUFBU0FBQUFIUUVBQUNBQUFBQXpQUUFBbEE0UUFBSUFBQUF1RFJBQUFRQUFBTndNRUFBU0FBQUFHQUVBQUI4QUFBRGNEQkFBRWdBQUFCZ0JBQUFzQUFBQTNBd1FBQklBQUFBdkFRQUFIQUFBQUhOeVl5OW5ZVzFsTDIxdlpDNXljd0RZRGhBQUR3QUFBQm9BQUFBZEFBQUFVM1JoZEdsaklHNXZkQ0J6ZFhCd2IzSjBDZ0Q0RGhBQUV3QUFBSEpsWTJWcGRtVWdZMjl1ZEhKdmJDQndZWGxzYjJGa1BSUVBFQUFZQUFBQVZXNXJibTkzYmlCVWVYQmxJQUFBQURRUEVBQU5BQUFBTGcwUUFBRUFRZHlld0FBTDBRSmpiM1ZzWkNCdWIzUWdhVzVwZEdsaGJHbDZaU0IwYUhKbFlXUmZjbTVuT2lBQUFBQmNEeEFBSVFBQUFDOVZjMlZ5Y3k5aWVYUmxaR0Z1WTJVdkxtTmhjbWR2TDNKbFoybHpkSEo1TDNOeVl5OXBibVJsZUM1amNtRjBaWE11YVc4dE5tWXhOMlF5TW1KaVlURTFNREF4Wmk5eVlXNWtMVEF1T0M0MUwzTnlZeTl5Ym1kekwzUm9jbVZoWkM1eWN3Q0lEeEFBWXdBQUFFZ0FBQUFSQUFBQUFBQUFBQVFBQUFBRUFBQUFLUUFBQUM5VmMyVnljeTlpZVhSbFpHRnVZMlV2TG1OaGNtZHZMM0psWjJsemRISjVMM055WXk5cGJtUmxlQzVqY21GMFpYTXVhVzh0Tm1ZeE4yUXlNbUppWVRFMU1EQXhaaTl5WVc1a1gyTm9ZV05vWVMwd0xqTXVNUzl6Y21NdlozVjBjeTV5Y3dBRUFBQUFEQkFRQUdNQUFBRG1BQUFBQlFBQUFHUmxjMk55YVhCMGFXOXVLQ2tnYVhNZ1pHVndjbVZqWVhSbFpEc2dkWE5sSUVScGMzQnNZWGtCQUVHNG9jQUFDNFVLQkFBQUFBUUFBQUFyQUFBQUFBQUFBQVFBQUFBRUFBQUFMQUFBQUNzQUFBQzBFQkFBTFFBQUFDNEFBQUF2QUFBQUxRQUFBREFBQUFCRmNuSnZjbWRsZEhKaGJtUnZiVG9nZEdocGN5QjBZWEpuWlhRZ2FYTWdibTkwSUhOMWNIQnZjblJsWkdWeWNtNXZPaUJrYVdRZ2JtOTBJSEpsZEhWeWJpQmhJSEJ2YzJsMGFYWmxJSFpoYkhWbGRXNWxlSEJsWTNSbFpDQnphWFIxWVhScGIyNVRaV05TWVc1a2IyMURiM0I1UW5sMFpYTTZJR2xQVXlCVFpXTjFjbWwwZVNCbWNtRnRaWGR2Y21zZ1ptRnBiSFZ5WlZKMGJFZGxibEpoYm1SdmJUb2dWMmx1Wkc5M2N5QnplWE4wWlcwZ1puVnVZM1JwYjI0Z1ptRnBiSFZ5WlZKRVVrRk9SRG9nWm1GcGJHVmtJRzExYkhScGNHeGxJSFJwYldWek9pQkRVRlVnYVhOemRXVWdiR2xyWld4NVVrUlNRVTVFT2lCcGJuTjBjblZqZEdsdmJpQnViM1FnYzNWd2NHOXlkR1ZrVjJWaUlFTnllWEIwYnlCQlVFa2dhWE1nZFc1aGRtRnBiR0ZpYkdWRFlXeHNhVzVuSUZkbFlpQkJVRWtnWTNKNWNIUnZMbWRsZEZKaGJtUnZiVlpoYkhWbGN5Qm1ZV2xzWldSeVlXNWtVMlZqZFhKbE9pQldlRmR2Y210eklGSk9SeUJ0YjJSMWJHVWdhWE1nYm05MElHbHVhWFJwWVd4cGVtVmtUbTlrWlM1cWN5Qmpjbmx3ZEc4Z1EyOXRiVzl1U2xNZ2JXOWtkV3hsSUdseklIVnVZWFpoYVd4aFlteGxRMkZzYkdsdVp5Qk9iMlJsTG1weklFRlFTU0JqY25sd2RHOHVjbUZ1Wkc5dFJtbHNiRk41Ym1NZ1ptRnBiR1ZrVG05a1pTNXFjeUJGVXlCdGIyUjFiR1Z6SUdGeVpTQnViM1FnWkdseVpXTjBiSGtnYzNWd2NHOXlkR1ZrTENCelpXVWdhSFIwY0hNNkx5OWtiMk56TG5KekwyZGxkSEpoYm1SdmJTTnViMlJsYW5NdFpYTXRiVzlrZFd4bExYTjFjSEJ2Y25RQUFBQUFBQUFFQUFBQUJBQUFBRElBQUFCcGJuUmxjbTVoYkY5amIyUmxBQUFBQUFBQUFBZ0FBQUFFQUFBQU13QUFBR1JsYzJOeWFYQjBhVzl1ZFc1cmJtOTNibDlqYjJSbEFBQUFBQUFFQUFBQUJBQUFBRFFBQUFCdmMxOWxjbkp2Y2xWdWEyNXZkMjRnUlhKeWIzSTZJQUNrRXhBQUR3QUFBRTlUSUVWeWNtOXlPaUFBQUx3VEVBQUtBQUFBWTNKNWNIUnZBQUQxRUJBQUhCRVFBRUlSRUFCV0VSQUFpQkVRQUxVUkVBRGtFUkFBQlJJUUFDSVNFQUQxRUJBQTlSQVFBRThTRUFDQUVoQUFyUklRQU4wU0VBQW5BQUFBSmdBQUFCUUFBQUF5QUFBQUxRQUFBQzhBQUFBaEFBQUFIUUFBQUMwQUFBQW5BQUFBSndBQUFERUFBQUF0QUFBQU1BQUFBR1VBQUFCeVpYUjFjbTRnZEdocGMyTnNiM04xY21VZ2FXNTJiMnRsWkNCeVpXTjFjbk5wZG1Wc2VTQnZjaUJoWm5SbGNpQmlaV2x1WnlCa2NtOXdjR1ZrQUFBQUFBQUFBQVFBQUFBRUFBQUFRUUFBQUM5VmMyVnljeTlpZVhSbFpHRnVZMlV2TG1OaGNtZHZMM0psWjJsemRISjVMM055WXk5cGJtUmxlQzVqY21GMFpYTXVhVzh0Tm1ZeE4yUXlNbUppWVRFMU1EQXhaaTl2Ym1ObFgyTmxiR3d0TVM0eE9DNHdMM055WXk5cGJYQmZjM1JrTG5KekFBQUFvQlFRQUdVQUFBQ2hBQUFBTmdBQUFBRUFBQUNnRkJBQVpRQUFBSnNBQUFBSkFBQUFTbk5XWVd4MVpTZ3BBQUFBTEJVUUFBZ0FBQUEwRlJBQUFRQUFBSEpsWlc1MGNtRnVkQ0JwYm1sMEFBQklGUkFBRGdBQUFDOXlkWE4wWXk5bFpXSTVNR05rWVRFNU5qa3pPRE5tTlRaaE1qWXpOMk5pWkRNd016ZGlaR1kxT1RnNE5ERmpMMnhwWW5KaGNua3ZZMjl5WlM5emNtTXZZMlZzYkM5dmJtTmxMbkp6QUFBQVlCVVFBRTBBQUFBa0FRQUFRZ0JCeUt2QUFBdmRGQVFBQUFBRUFBQUFSd0FBQUVnQUFBQU1BQUFBQkFBQUFFa0FBQUJLQUFBQVN3QUFBRXdBQUFBTUFBQUFCQUFBQUUwQUFBQk9BQUFBVHdBQUFFZ0FBQUFNQUFBQUJBQUFBRkFBQUFCUkFBQUFVZ0FBQUM5eWRYTjBMMlJsY0hNdlpHeHRZV3hzYjJNdE1DNHlMall2YzNKakwyUnNiV0ZzYkc5akxuSnpZWE56WlhKMGFXOXVJR1poYVd4bFpEb2djSE5wZW1VZ1BqMGdjMmw2WlNBcklHMXBibDl2ZG1WeWFHVmhaQUFjRmhBQUtRQUFBS2dFQUFBSkFBQUFZWE56WlhKMGFXOXVJR1poYVd4bFpEb2djSE5wZW1VZ1BEMGdjMmw2WlNBcklHMWhlRjl2ZG1WeWFHVmhaQUFBSEJZUUFDa0FBQUN1QkFBQURRQUFBRUZqWTJWemMwVnljbTl5ZFhObElHOW1JSE4wWkRvNmRHaHlaV0ZrT2pwamRYSnlaVzUwS0NrZ2FYTWdibTkwSUhCdmMzTnBZbXhsSUdGbWRHVnlJSFJvWlNCMGFISmxZV1FuY3lCc2IyTmhiQ0JrWVhSaElHaGhjeUJpWldWdUlHUmxjM1J5YjNsbFpHeHBZbkpoY25rdmMzUmtMM055WXk5MGFISmxZV1F2Ylc5a0xuSnpBQUF0RnhBQUhRQUFBQUVEQUFBVEFBQUFabUZwYkdWa0lIUnZJR2RsYm1WeVlYUmxJSFZ1YVhGMVpTQjBhSEpsWVdRZ1NVUTZJR0pwZEhOd1lXTmxJR1Y0YUdGMWMzUmxaQUJjRnhBQU53QUFBQzBYRUFBZEFBQUExQVFBQUEwQUFBQUJBQUFBQUFBQUFHeHBZbkpoY25rdmMzUmtMM055WXk5cGJ5OWlkV1ptWlhKbFpDOXNhVzVsZDNKcGRHVnljMmhwYlM1eWMyMXBaQ0ErSUd4bGJnQUE0UmNRQUFrQUFBQzBGeEFBTFFBQUFBb0JBQUFwQUFBQVpXNTBhWFI1SUc1dmRDQm1iM1Z1WkhCbGNtMXBjM05wYjI0Z1pHVnVhV1ZrWTI5dWJtVmpkR2x2YmlCeVpXWjFjMlZrWTI5dWJtVmpkR2x2YmlCeVpYTmxkR2h2YzNRZ2RXNXlaV0ZqYUdGaWJHVnVaWFIzYjNKcklIVnVjbVZoWTJoaFlteGxZMjl1Ym1WamRHbHZiaUJoWW05eWRHVmtibTkwSUdOdmJtNWxZM1JsWkdGa1pISmxjM01nYVc0Z2RYTmxZV1JrY21WemN5QnViM1FnWVhaaGFXeGhZbXhsYm1WMGQyOXlheUJrYjNkdVluSnZhMlZ1SUhCcGNHVmxiblJwZEhrZ1lXeHlaV0ZrZVNCbGVHbHpkSE52Y0dWeVlYUnBiMjRnZDI5MWJHUWdZbXh2WTJ0dWIzUWdZU0JrYVhKbFkzUnZjbmxwY3lCaElHUnBjbVZqZEc5eWVXUnBjbVZqZEc5eWVTQnViM1FnWlcxd2RIbHlaV0ZrTFc5dWJIa2dabWxzWlhONWMzUmxiU0J2Y2lCemRHOXlZV2RsSUcxbFpHbDFiV1pwYkdWemVYTjBaVzBnYkc5dmNDQnZjaUJwYm1ScGNtVmpkR2x2YmlCc2FXMXBkQ0FvWlM1bkxpQnplVzFzYVc1cklHeHZiM0FwYzNSaGJHVWdibVYwZDI5eWF5Qm1hV3hsSUdoaGJtUnNaV2x1ZG1Gc2FXUWdhVzV3ZFhRZ2NHRnlZVzFsZEdWeWFXNTJZV3hwWkNCa1lYUmhkR2x0WldRZ2IzVjBkM0pwZEdVZ2VtVnliMjV2SUhOMGIzSmhaMlVnYzNCaFkyVnpaV1ZySUc5dUlIVnVjMlZsYTJGaWJHVWdabWxzWldacGJHVnplWE4wWlcwZ2NYVnZkR0VnWlhoalpXVmtaV1JtYVd4bElIUnZieUJzWVhKblpYSmxjMjkxY21ObElHSjFjM2xsZUdWamRYUmhZbXhsSUdacGJHVWdZblZ6ZVdSbFlXUnNiMk5yWTNKdmMzTXRaR1YyYVdObElHeHBibXNnYjNJZ2NtVnVZVzFsZEc5dklHMWhibmtnYkdsdWEzTnBiblpoYkdsa0lHWnBiR1Z1WVcxbFlYSm5kVzFsYm5RZ2JHbHpkQ0IwYjI4Z2JHOXVaMjl3WlhKaGRHbHZiaUJwYm5SbGNuSjFjSFJsWkhWdWMzVndjRzl5ZEdWa2RXNWxlSEJsWTNSbFpDQmxibVFnYjJZZ1ptbHNaVzkxZENCdlppQnRaVzF2Y25sdmRHaGxjaUJsY25KdmNuVnVZMkYwWldkdmNtbDZaV1FnWlhKeWIzSWdLRzl6SUdWeWNtOXlJQ2tBQUFBQkFBQUFBQUFBQVBFYUVBQUxBQUFBL0JvUUFBRUFBQUJzYVdKeVlYSjVMM04wWkM5emNtTXZhVzh2YzNSa2FXOHVjbk1BR0JzUUFCc0FBQUF0QXdBQUZBQUFBR1poYVd4bFpDQndjbWx1ZEdsdVp5QjBieUE2SUFBQUFFUWJFQUFUQUFBQVZ4c1FBQUlBQUFBWUd4QUFHd0FBQUY0RUFBQUpBQUFBYzNSa2IzVjBiR2xpY21GeWVTOXpkR1F2YzNKakwybHZMMjF2WkM1eWMyRWdabTl5YldGMGRHbHVaeUIwY21GcGRDQnBiWEJzWlcxbGJuUmhkR2x2YmlCeVpYUjFjbTVsWkNCaGJpQmxjbkp2Y2lCM2FHVnVJSFJvWlNCMWJtUmxjbXg1YVc1bklITjBjbVZoYlNCa2FXUWdibTkwQUFBQW14c1FBRllBQUFDQ0d4QUFHUUFBQUN3SEFBQVZBQUFBWTJGdWJtOTBJSEpsWTNWeWMybDJaV3g1SUdGamNYVnBjbVVnYlhWMFpYZ01IQkFBSUFBQUFHeHBZbkpoY25rdmMzUmtMM055WXk5emVYTXZjM2x1WXk5dGRYUmxlQzl1YjE5MGFISmxZV1J6TG5Kek5Cd1FBQ3dBQUFBVUFBQUFDUUFBQUd4cFluSmhjbmt2YzNSa0wzTnlZeTl6ZVc1akwyOXVZMlV1Y25Od0hCQUFIQUFBQU5rQUFBQVVBQUFBY0J3UUFCd0FBQURaQUFBQU1RQUFBR3h2WTJzZ1kyOTFiblFnYjNabGNtWnNiM2NnYVc0Z2NtVmxiblJ5WVc1MElHMTFkR1Y0YkdsaWNtRnllUzl6ZEdRdmMzSmpMM041Ym1NdmNtVmxiblJ5WVc1MFgyeHZZMnN1Y25QU0hCQUFKZ0FBQUNJQkFBQXRBQUFBYldWdGIzSjVJR0ZzYkc5allYUnBiMjRnYjJZZ0lHSjVkR1Z6SUdaaGFXeGxaQUFBQ0IwUUFCVUFBQUFkSFJBQURRQUFBR3hwWW5KaGNua3ZjM1JrTDNOeVl5OWhiR3h2WXk1eWN6d2RFQUFZQUFBQVpBRUFBQWtBQUFCTUFBQUFEQUFBQUFRQUFBQlRBQUFBQUFBQUFBZ0FBQUFFQUFBQVZBQUFBQUFBQUFBSUFBQUFCQUFBQUZVQUFBQldBQUFBVndBQUFGZ0FBQUJaQUFBQUVBQUFBQVFBQUFCYUFBQUFXd0FBQUZ3QUFBQmRBQUFBYjNCbGNtRjBhVzl1SUhOMVkyTmxjM05tZFd4dmJtVXRkR2x0WlNCcGJtbDBhV0ZzYVhwaGRHbHZiaUJ0WVhrZ2JtOTBJR0psSUhCbGNtWnZjbTFsWkNCeVpXTjFjbk5wZG1Wc2VkQWRFQUE0QUFBQUVBQUFBQkVBQUFBU0FBQUFFQUFBQUJBQUFBQVRBQUFBRWdBQUFBMEFBQUFPQUFBQUZRQUFBQXdBQUFBTEFBQUFGUUFBQUJVQUFBQVBBQUFBRGdBQUFCTUFBQUFtQUFBQU9BQUFBQmtBQUFBWEFBQUFEQUFBQUFrQUFBQUtBQUFBRUFBQUFCY0FBQUFaQUFBQURnQUFBQTBBQUFBVUFBQUFDQUFBQUJzQUFBQU9BQUFBRUFBQUFCWUFBQUFWQUFBQUN3QUFBQllBQUFBTkFBQUFDd0FBQUJNQUFBQUVHQkFBRkJnUUFDVVlFQUEzR0JBQVJ4Z1FBRmNZRUFCcUdCQUFmQmdRQUlrWUVBQ1hHQkFBckJnUUFMZ1lFQURER0JBQTJCZ1FBTzBZRUFEOEdCQUFDaGtRQUIwWkVBQkRHUkFBZXhrUUFKUVpFQUNyR1JBQXR4a1FBTUFaRUFES0dSQUEyaGtRQVBFWkVBQUtHaEFBR0JvUUFDVWFFQUE1R2hBQVFSb1FBRndhRUFCcUdoQUFlaG9RQUpBYUVBQ2xHaEFBc0JvUUFNWWFFQURUR2hBQTNob1FBRWhoYzJnZ2RHRmliR1VnWTJGd1lXTnBkSGtnYjNabGNtWnNiM2RZSHhBQUhBQUFBQzl5ZFhOMEwyUmxjSE12YUdGemFHSnliM2R1TFRBdU1UUXVOUzl6Y21NdmNtRjNMMjF2WkM1eWN3QUFmQjhRQUNvQUFBQldBQUFBS0FBQUFFVnljbTl5VEdGNWIzVjBSWEp5YjNKZUFBQUFEQUFBQUFRQUFBQmZBQUFBWUFBQUFHRUFBQUJqWVhCaFkybDBlU0J2ZG1WeVpteHZkd0FBQU9BZkVBQVJBQUFBYkdsaWNtRnllUzloYkd4dll5OXpjbU12Y21GM1gzWmxZeTV5Yy93ZkVBQWNBQUFBR1FBQUFBVUFRYkRBd0FBTGhRRUJBQUFBWWdBQUFHRWdabTl5YldGMGRHbHVaeUIwY21GcGRDQnBiWEJzWlcxbGJuUmhkR2x2YmlCeVpYUjFjbTVsWkNCaGJpQmxjbkp2Y2lCM2FHVnVJSFJvWlNCMWJtUmxjbXg1YVc1bklITjBjbVZoYlNCa2FXUWdibTkwYkdsaWNtRnllUzloYkd4dll5OXpjbU12Wm0xMExuSnpBQUNPSUJBQUdBQUFBSDhDQUFBT0FFSEF3Y0FBQzdJZkFRQUFBR01BQUFCallXeHNaV1FnWUZKbGMzVnNkRG82ZFc1M2NtRndLQ2xnSUc5dUlHRnVJR0JGY25KZ0lIWmhiSFZsYkdsaWNtRnllUzloYkd4dll5OXpjbU12YzNsdVl5NXljL01nRUFBWkFBQUFid0VBQURJQUFBQXBJSE5vYjNWc1pDQmlaU0E4SUd4bGJpQW9hWE1nS1dsdWMyVnlkR2x2YmlCcGJtUmxlQ0FvYVhNZ0tTQnphRzkxYkdRZ1ltVWdQRDBnYkdWdUlDaHBjeUFBQURNaEVBQVVBQUFBUnlFUUFCY0FBQUF5SVJBQUFRQUFBSEpsYlc5MllXd2dhVzVrWlhnZ0tHbHpJQUFBZUNFUUFCSUFBQUFjSVJBQUZnQUFBREloRUFBQkFBQUFabkp2YlY5emRISmZjbUZrYVhoZmFXNTBPaUJ0ZFhOMElHeHBaU0JwYmlCMGFHVWdjbUZ1WjJVZ1lGc3lMQ0F6TmwxZ0lDMGdabTkxYm1RZ3BDRVFBRHdBQUFBcExpNHdNVEl6TkRVMk56ZzVZV0pqWkdWbVFtOXljbTkzVFhWMFJYSnliM0poYkhKbFlXUjVJR0p2Y25KdmQyVmtPaUFBQ1NJUUFCSUFBQUFCQUFBQUFBQUFBRnRqWVd4c1pXUWdZRTl3ZEdsdmJqbzZkVzUzY21Gd0tDbGdJRzl1SUdFZ1lFNXZibVZnSUhaaGJIVmxhVzVrWlhnZ2IzVjBJRzltSUdKdmRXNWtjem9nZEdobElHeGxiaUJwY3lBZ1luVjBJSFJvWlNCcGJtUmxlQ0JwY3lBQUFGZ2lFQUFnQUFBQWVDSVFBQklBQUFBOVBTRTliV0YwWTJobGMyRnpjMlZ5ZEdsdmJpQmdiR1ZtZENBZ2NtbG5hSFJnSUdaaGFXeGxaQW9nSUd4bFpuUTZJQW9nY21sbmFIUTZJQUNuSWhBQUVBQUFBTGNpRUFBWEFBQUF6aUlRQUFrQUFBQWdjbWxuYUhSZ0lHWmhhV3hsWkRvZ0NpQWdiR1ZtZERvZ0FBQUFweUlRQUJBQUFBRHdJaEFBRUFBQUFBQWpFQUFKQUFBQXppSVFBQWtBQUFBNklBQUFBUUFBQUFBQUFBQXNJeEFBQWdBQUFBQUFBQUFNQUFBQUJBQUFBR29BQUFCckFBQUFiQUFBQUNBZ0lDQWdleUFzSUNCN0Npd0tmU0I5S0NnS0xBcGRiR2xpY21GeWVTOWpiM0psTDNOeVl5OW1iWFF2Ym5WdExuSnpBQUJ2SXhBQUd3QUFBR2tBQUFBWEFBQUFNSGd3TURBeE1ESXdNekEwTURVd05qQTNNRGd3T1RFd01URXhNakV6TVRReE5URTJNVGN4T0RFNU1qQXlNVEl5TWpNeU5ESTFNall5TnpJNE1qa3pNRE14TXpJek16TTBNelV6TmpNM016Z3pPVFF3TkRFME1qUXpORFEwTlRRMk5EYzBPRFE1TlRBMU1UVXlOVE0xTkRVMU5UWTFOelU0TlRrMk1EWXhOakkyTXpZME5qVTJOalkzTmpnMk9UY3dOekUzTWpjek56UTNOVGMyTnpjM09EYzVPREE0TVRneU9ETTRORGcxT0RZNE56ZzRPRGs1TURreE9USTVNemswT1RVNU5qazNPVGc1T1d4cFluSmhjbmt2WTI5eVpTOXpjbU12Wm0xMEwyMXZaQzV5YzJaaGJITmxkSEoxWlFBQVppUVFBQnNBQUFDTkNRQUFKZ0FBQUdZa0VBQWJBQUFBbGdrQUFCb0FBQUJzYVdKeVlYSjVMMk52Y21VdmMzSmpMM05zYVdObEwyMWxiV05vY2k1eWM2d2tFQUFnQUFBQWd3QUFBQjRBQUFDc0pCQUFJQUFBQUo4QUFBQUpBQUFBY21GdVoyVWdjM1JoY25RZ2FXNWtaWGdnSUc5MWRDQnZaaUJ5WVc1blpTQm1iM0lnYzJ4cFkyVWdiMllnYkdWdVozUm9JT3drRUFBU0FBQUEvaVFRQUNJQUFBQnlZVzVuWlNCbGJtUWdhVzVrWlhnZ01DVVFBQkFBQUFEK0pCQUFJZ0FBQUhOc2FXTmxJR2x1WkdWNElITjBZWEowY3lCaGRDQWdZblYwSUdWdVpITWdZWFFnQUZBbEVBQVdBQUFBWmlVUUFBMEFBQUJiTGk0dVhXSmxaMmx1SUR3OUlHVnVaQ0FvSUR3OUlDa2dkMmhsYmlCemJHbGphVzVuSUdCZ2lTVVFBQTRBQUFDWEpSQUFCQUFBQUpzbEVBQVFBQUFBcXlVUUFBRUFBQUJpZVhSbElHbHVaR1Y0SUNCcGN5QnViM1FnWVNCamFHRnlJR0p2ZFc1a1lYSjVPeUJwZENCcGN5QnBibk5wWkdVZ0lDaGllWFJsY3lBcElHOW1JR0FBekNVUUFBc0FBQURYSlJBQUpnQUFBUDBsRUFBSUFBQUFCU1lRQUFZQUFBQ3JKUkFBQVFBQUFDQnBjeUJ2ZFhRZ2IyWWdZbTkxYm1SeklHOW1JR0FBQU13bEVBQUxBQUFBTkNZUUFCWUFBQUNySlJBQUFRQUFBR3hwWW5KaGNua3ZZMjl5WlM5emNtTXZjM1J5TDIxdlpDNXljd0JrSmhBQUd3QUFBQVVCQUFBc0FBQUFiR2xpY21GeWVTOWpiM0psTDNOeVl5OTFibWxqYjJSbEwzQnlhVzUwWVdKc1pTNXljd0FBQUpBbUVBQWxBQUFBR2dBQUFEWUFBQUNRSmhBQUpRQUFBQW9BQUFBckFBQUFBQVlCQVFNQkJBSUZCd2NDQ0FnSkFnb0ZDd0lPQkJBQkVRSVNCUk1SRkFFVkFoY0NHUTBjQlIwSUh3RWtBV29FYXdLdkE3RUN2QUxQQXRFQzFBelZDZFlDMXdMYUFlQUY0UUxuQk9nQzdpRHdCUGdDK2dQN0FRd25PejVPVDQrZW5wOTdpNU9Xb3JLNmhyRUdCd2syUFQ1Vzg5RFJCQlFZTmpkV1YzK3FycSs5TmVBU2g0bU9uZ1FORGhFU0tURTBPa1ZHU1VwT1QyUmxYTGEzR3h3SENBb0xGQmMyT1Rxb3FkalpDVGVRa2FnSENqcytabW1Qa2hGdlg3L3U3MXBpOVB6L1UxU2FteTR2SnloVm5hQ2hvNlNucUsyNnZNUUdDd3dWSFRvL1JWR21wOHpOb0FjWkdpSWxQai9uN08vL3hjWUVJQ01sSmlnek9EcElTa3hRVTFWV1dGcGNYbUJqWldacmMzaDlmNHFrcXErd3dOQ3VyMjV2dnBOZUluc0ZBd1F0QTJZREFTOHVnSUlkQXpFUEhBUWtDUjRGS3dWRUJBNHFnS29HSkFRa0JDZ0lOQXRPUTRFM0NSWUtDQmc3UlRrRFl3Z0pNQllGSVFNYkJRRkFPQVJMQlM4RUNnY0pCMEFnSndRTUNUWURPZ1VhQndRTUIxQkpOek1OTXdjdUNBcUJKbEpMS3dncUZob21IQlFYQ1U0RUpBbEVEUmtIQ2daSUNDY0pkUXRDUGlvR093VUtCbEVHQVFVUUF3V0FpMkllU0FnS2dLWmVJa1VMQ2dZTkV6b0dDallzQkJlQXVUeGtVd3hJQ1FwR1JSdElDRk1OU1FjS2dQWkdDaDBEUjBrM0F3NElDZ1k1QndxQk5oa0hPd01jVmdFUE1nMkRtMloxQzRERWlreGpEWVF3RUJhUHFvSkhvYm1DT1FjcUJGd0dKZ3BHQ2lnRkU0S3dXMlZMQkRrSEVVQUZDd0lPbC9nSWhOWXFDYUxuZ1RNUEFSMEdEZ1FJZ1l5SkJHc0ZEUU1KQnhDU1lFY0pkRHlBOWdwekNIQVZSbm9VREJRTVZ3a1pnSWVCUndPRlFnOFZoRkFmQmdhQTFTc0ZQaUVCY0MwREdnUUNnVUFmRVRvRkFZSFFLb0xtZ1BjcFRBUUtCQUtERVVSTVBZRENQQVlCQkZVRkd6UUNnUTRzQkdRTVZncUFyamdkRFN3RUNRY0NEZ2FBbW9QWUJCRUREUU4zQkY4R0RBUUJEd3dFT0FnS0JpZ0lJazZCVkF3ZEF3a0hOZ2dPQkFrSENRZUF5eVVLaEFZQUFRTUZCUVlHQWdjR0NBY0pFUW9jQ3hrTUdnMFFEZ3dQQkJBREVoSVRDUllCRndRWUFSa0RHZ2NiQVJ3Q0h4WWdBeXNETFFzdUFUQUVNUUl5QWFjQ3FRS3FCS3NJK2dMN0JmMEMvZ1AvQ2ExNGVZdU5vakJYV0l1TWtCemREZzlMVFB2OExpOC9YRjFmNG9TTmpwR1NxYkc2dThYR3ljcmU1T1gvQUFRUkVpa3hORGM2T3oxSlNsMkVqcEtwc2JTNnU4Ykt6cy9rNVFBRURRNFJFaWt4TkRvN1JVWkpTbDVrWllTUm01M0p6czhORVNrNk8wVkpWMXRjWGw5a1pZMlJxYlM2dThYSjMrVGw4QTBSUlVsa1pZQ0VzcnkrdjlYWDhQR0RoWXVrcHI2L3hjZlAydHRJbUwzTnhzN1BTVTVQVjFsZVg0bU9qN0cydDcvQnhzZlhFUllYVzF6MjkvNy9nRzF4M3Q4T0gyNXZIQjFmZlg2dXIzKzd2QllYSGg5R1IwNVBXRnBjWG41L3RjWFUxZHp3OGZWeWM0OTBkWlltTGkrbnI3ZS94OC9YMzVvQVFKZVlNSThmMHRUTy8wNVBXbHNIQ0E4UUp5L3U3MjV2TnowL1FrV1FrVk5uZGNqSjBOSFkyZWYrL3dBZ1h5S0Mzd1NDUkFnYkJBWVJnYXdPZ0tzRkh3bUJHd01aQ0FFRUx3UTBCQWNEQVFjR0J4RUtVQThTQjFVSEF3UWNDZ2tEQ0FNSEF3SURBd01NQkFVREN3WUJEaFVGVGdjYkIxY0hBZ1lYREZBRVF3TXRBd0VFRVFZUEREb0VIU1ZmSUcwRWFpV0F5QVdDc0FNYUJvTDlBMWtIRmdrWUNSUU1GQXhxQmdvR0dnWlpCeXNGUmdvc0JBd0VBUU14Q3l3RUdnWUxBNENzQmdvR0x6Rk5BNENrQ0R3RER3TThCemdJS3dXQy94RVlDQzhSTFFNaER5RVBnSXdFZ3BjWkN4V0lsQVV2QlRzSEFnNFlDWUMrSW5RTWdOWWFnUkFGZ044TDhwNEROd21CWEJTQXVBaUF5d1VLR0RzRENnWTRDRVlJREFaMEN4NERXZ1JaQ1lDREdCd0tGZ2xNQklDS0JxdWtEQmNFTWFFRWdkb21Cd3dGQllDbUVJSDFCd0VnS2daTUJJQ05CSUMrQXhzRER3MXNhV0p5WVhKNUwyTnZjbVV2YzNKakwzVnVhV052WkdVdmRXNXBZMjlrWlY5a1lYUmhMbkp6QUZNc0VBQW9BQUFBVUFBQUFDZ0FBQUJUTEJBQUtBQUFBRndBQUFBV0FBQUFiR2xpY21GeWVTOWpiM0psTDNOeVl5OWxjMk5oY0dVdWNuTUFBSndzRUFBYUFBQUFUUUFBQUFVQUFBQnNhV0p5WVhKNUwyTnZjbVV2YzNKakwyNTFiUzl0YjJRdWNuTUF5Q3dRQUJzQUFBQUNCZ0FBQVFBQUFHRjBkR1Z0Y0hRZ2RHOGdaR2wyYVdSbElHSjVJSHBsY204QUFBRDBMQkFBR1FBQUFBQURBQUNEQkNBQWtRVmdBRjBUb0FBU0Z5QWZEQ0JnSCs4c29Dc3FNQ0FzYjZiZ0xBS29ZQzBlKzJBdUFQNGdOcDcvWURiOUFlRTJBUW9oTnlRTjRUZXJEbUU1THhpaE9UQWNZVWp6SHFGTVFEUmhVUEJxb1ZGUGJ5RlNuYnloVWdEUFlWTmwwYUZUQU5vaFZBRGc0Vld1NG1GWDdPUWhXZERvb1ZrZ0FPNVo4QUYvV2dCd0FBY0FMUUVCQVFJQkFnRUJTQXN3RlJBQlpRY0NCZ0lDQVFRakFSNGJXd3M2Q1FrQkdBUUJDUUVEQVFVckF6d0lLaGdCSURjQkFRRUVDQVFCQXdjS0FoMEJPZ0VCQVFJRUNBRUpBUW9DR2dFQ0Fqa0JCQUlFQWdJREF3RWVBZ01CQ3dJNUFRUUZBUUlFQVJRQ0ZnWUJBVG9CQVFJQkJBZ0JCd01LQWg0Qk93RUJBUXdCQ1FFb0FRTUJOd0VCQXdVREFRUUhBZ3NDSFFFNkFRSUJBZ0VEQVFVQ0J3SUxBaHdDT1FJQkFRSUVDQUVKQVFvQ0hRRklBUVFCQWdNQkFRZ0JVUUVDQnd3SVlnRUNDUXNIU1FJYkFRRUJBUUUzRGdFRkFRSUZDd0VrQ1FGbUJBRUdBUUlDQWhrQ0JBTVFCQTBCQWdJR0FROEJBQU1BQXgwQ0hnSWVBa0FDQVFjSUFRSUxDUUV0QXdFQmRRSWlBWFlEQkFJSkFRWUQyd0lDQVRvQkFRY0JBUUVCQWdnR0NnSUJNQjh4QkRBSEFRRUZBU2dKREFJZ0JBSUNBUU00QVFFQ0F3RUJBem9JQWdLWUF3RU5BUWNFQVFZQkF3TEdRQUFCd3lFQUE0MEJZQ0FBQm1rQ0FBUUJDaUFDVUFJQUFRTUJCQUVaQWdVQmx3SWFFZzBCSmdnWkN5NERNQUVDQkFJQ0p3RkRCZ0lDQWdJTUFRZ0JMd0V6QVFFREFnSUZBZ0VCS2dJSUFlNEJBZ0VFQVFBQkFCQVFFQUFDQUFIaUFaVUZBQU1CQWdVRUtBTUVBYVVDQUFRQUFsQURSZ3N4QkhzQk5nOHBBUUlDQ2dNeEJBSUNCd0U5QXlRRkFRZytBUXdDTkFrS0JBSUJYd01DQVFFQ0JnRUNBWjBCQXdnVkFqa0NBUUVCQVJZQkRnY0RCY01JQWdNQkFSY0JVUUVDQmdFQkFnRUJBZ0VDNndFQ0JBWUNBUUliQWxVSUFnRUJBbW9CQVFFQ0JnRUJaUU1DQkFFRkFBa0JBdlVCQ2dJQkFRUUJrQVFDQWdRQklBb29CZ0lFQ0FFSkJnSURMZzBCQWdBSEFRWUJBVklXQWdjQkFnRUNlZ1lEQVFFQ0FRY0JBVWdDQXdFQkFRQUNDd0kwQlFVQkFRRUFBUVlQQUFVN0J3QUJQd1JSQVFBQ0FDNENGd0FCQVFNRUJRZ0lBZ2NlQkpRREFEY0VNZ2dCRGdFV0JRRVBBQWNCRVFJSEFRSUJCV1FCb0FjQUFUMEVBQVFBQjIwSEFHQ0E4QUJCLytEQUFBc0tnQUFBQUFBQUFBQUFDUUJCbU9IQUFBc0JEUUJCck9IQUFBc0JEZ0JCbHVMQUFBc0JBZ0JCcU9MQUFBc0JFUUJCNE9MQUFBc0JGQUJCenVQQUFBc0JBZ0JCNE9QQUFBc0pId0FBQUFBQUFBQURBRzhKY0hKdlpIVmpaWEp6QWdoc1lXNW5kV0ZuWlFFRVVuVnpkQUFNY0hKdlkyVnpjMlZrTFdKNUF3VnlkWE4wWXgweExqZ3hMakFnS0dWbFlqa3dZMlJoTVNBeU1ESTBMVEE1TFRBMEtRWjNZV3h5ZFhNR01DNHlNQzR6REhkaGMyMHRZbWx1WkdkbGJnWXdMakl1T0RrQUxBOTBZWEpuWlhSZlptVmhkSFZ5WlhNQ0t3OXRkWFJoWW14bExXZHNiMkpoYkhNckNITnBaMjR0WlhoMCIpfXZhciBkPW5ldyBBcnJheSgxMjgpLmZpbGwodm9pZCAwKTtmdW5jdGlvbiBxKEEpe3JldHVybiBkW0FdfWQucHVzaCh2b2lkIDAsbnVsbCwhMCwhMSk7dmFyIGY9ZC5sZW5ndGg7ZnVuY3Rpb24gcChBKXt2YXIgST1xKEEpO3JldHVybiBmdW5jdGlvbihBKXtBPDEzMnx8KGRbQV09ZixmPUEpfShBKSxJfWZ1bmN0aW9uIGwoQSl7Zj09PWQubGVuZ3RoJiZkLnB1c2goZC5sZW5ndGgrMSk7dmFyIEk9ZjtyZXR1cm4gZj1kW0ldLGRbSV09QSxJfXZhciBiPSJ1bmRlZmluZWQiIT10eXBlb2YgVGV4dERlY29kZXI/bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIse2lnbm9yZUJPTTohMCxmYXRhbDohMH0pOntkZWNvZGU6ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiVGV4dERlY29kZXIgbm90IGF2YWlsYWJsZSIpfX07InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2RlciYmYi5kZWNvZGUoKTt2YXIgdT1udWxsO2Z1bmN0aW9uIGooKXtyZXR1cm4gbnVsbCE9PXUmJjAhPT11LmJ5dGVMZW5ndGh8fCh1PW5ldyBVaW50OEFycmF5KEwubWVtb3J5LmJ1ZmZlcikpLHV9ZnVuY3Rpb24gbShBLEkpe3JldHVybiBBPj4+PTAsYi5kZWNvZGUoaigpLnN1YmFycmF5KEEsQStJKSl9ZnVuY3Rpb24gWihBKXt2YXIgST10KEEpO2lmKCJudW1iZXIiPT1JfHwiYm9vbGVhbiI9PUl8fG51bGw9PUEpcmV0dXJuIiIuY29uY2F0KEEpO2lmKCJzdHJpbmciPT1JKXJldHVybiciJy5jb25jYXQoQSwnIicpO2lmKCJzeW1ib2wiPT1JKXt2YXIgZz1BLmRlc2NyaXB0aW9uO3JldHVybiBudWxsPT1nPyJTeW1ib2wiOiJTeW1ib2woIi5jb25jYXQoZywiKSIpfWlmKCJmdW5jdGlvbiI9PUkpe3ZhciBCPUEubmFtZTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIEImJkIubGVuZ3RoPjA/IkZ1bmN0aW9uKCIuY29uY2F0KEIsIikiKToiRnVuY3Rpb24ifWlmKEFycmF5LmlzQXJyYXkoQSkpe3ZhciBRPUEubGVuZ3RoLEM9IlsiO1E+MCYmKEMrPVooQVswXSkpO2Zvcih2YXIgRT0xO0U8UTtFKyspQys9IiwgIitaKEFbRV0pO3JldHVybiBDKz0iXSJ9dmFyIGksRD0vXFtvYmplY3QgKFteXF1dKylcXS8uZXhlYyh0b1N0cmluZy5jYWxsKEEpKTtpZighKEQubGVuZ3RoPjEpKXJldHVybiB0b1N0cmluZy5jYWxsKEEpO2lmKCJPYmplY3QiPT0oaT1EWzFdKSl0cnl7cmV0dXJuIk9iamVjdCgiK0pTT04uc3RyaW5naWZ5KEEpKyIpIn1jYXRjaChvKXtyZXR1cm4iT2JqZWN0In1yZXR1cm4gQSBpbnN0YW5jZW9mIEVycm9yPyIiLmNvbmNhdChBLm5hbWUsIjogIikuY29uY2F0KEEubWVzc2FnZSwiXG4iKS5jb25jYXQoQS5zdGFjayk6aX12YXIgTz0wLHg9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RW5jb2Rlcj9uZXcgVGV4dEVuY29kZXIoInV0Zi04Iik6e2VuY29kZTpmdW5jdGlvbigpe3Rocm93IEVycm9yKCJUZXh0RW5jb2RlciBub3QgYXZhaWxhYmxlIil9fSxXPSJmdW5jdGlvbiI9PXR5cGVvZiB4LmVuY29kZUludG8/ZnVuY3Rpb24oQSxJKXtyZXR1cm4geC5lbmNvZGVJbnRvKEEsSSl9OmZ1bmN0aW9uKEEsSSl7dmFyIGc9eC5lbmNvZGUoQSk7cmV0dXJuIEkuc2V0KGcpLHtyZWFkOkEubGVuZ3RoLHdyaXR0ZW46Zy5sZW5ndGh9fTt2YXIgVD1udWxsO2Z1bmN0aW9uIHYoKXtyZXR1cm4gbnVsbCE9PVQmJjAhPT1ULmJ5dGVMZW5ndGh8fChUPW5ldyBJbnQzMkFycmF5KEwubWVtb3J5LmJ1ZmZlcikpLFR9ZnVuY3Rpb24gWChBKXtyZXR1cm4gZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KEEsIiBpcyBub3QgZGVmaW5lZCIpKX19dmFyIFY9MTI4O2Z1bmN0aW9uIHooQSl7dHJ5e0wuaW5pdF9zaGFyZWRfYnVmZmVyKGZ1bmN0aW9uKEEpe2lmKDE9PVYpdGhyb3cgbmV3IEVycm9yKCJvdXQgb2YganMgc3RhY2siKTtyZXR1cm4gZFstLVZdPUEsVn0oQSkpfWZpbmFsbHl7ZFtWKytdPXZvaWQgMH19ZnVuY3Rpb24gUChBLEkpe0wuc2VuZF90b193YXNtKEEsSSl9ZnVuY3Rpb24gXygpe0wub25fbWVkaWFfc3RhdHNfY2FsbCgpfWZ1bmN0aW9uICQoQSxJKXt0cnl7cmV0dXJuIEEuYXBwbHkodGhpcyxJKX1jYXRjaChnKXtMLl9fd2JpbmRnZW5fZXhuX3N0b3JlKGwoZykpfX1mdW5jdGlvbiBBQShBLEkpe3JldHVybiBJQS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSUEoKXtyZXR1cm4oSUE9ZyhOKCkubWFyaygoZnVuY3Rpb24gQShJLGcpe3ZhciBCLFE7cmV0dXJuIE4oKS53cmFwKChmdW5jdGlvbihBKXtmb3IoOzspc3dpdGNoKEEucHJldj1BLm5leHQpe2Nhc2UgMDppZighKCJmdW5jdGlvbiI9PXR5cGVvZiBSZXNwb25zZSYmSSBpbnN0YW5jZW9mIFJlc3BvbnNlKSl7QS5uZXh0PTIzO2JyZWFrfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyl7QS5uZXh0PTE1O2JyZWFrfXJldHVybiBBLnByZXY9MixBLm5leHQ9NSxXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhJLGcpO2Nhc2UgNTpjYXNlIDIwOnJldHVybiBBLmFicnVwdCgicmV0dXJuIixBLnNlbnQpO2Nhc2UgODppZihBLnByZXY9OCxBLnQwPUEuY2F0Y2goMiksImFwcGxpY2F0aW9uL3dhc20iPT1JLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKSl7QS5uZXh0PTE0O2JyZWFrfWNvbnNvbGUud2FybigiYFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nYCBmYWlsZWQgYmVjYXVzZSB5b3VyIHNlcnZlciBkb2VzIG5vdCBzZXJ2ZSB3YXNtIHdpdGggYGFwcGxpY2F0aW9uL3dhc21gIE1JTUUgdHlwZS4gRmFsbGluZyBiYWNrIHRvIGBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZWAgd2hpY2ggaXMgc2xvd2VyLiBPcmlnaW5hbCBlcnJvcjpcbiIsQS50MCksQS5uZXh0PTE1O2JyZWFrO2Nhc2UgMTQ6dGhyb3cgQS50MDtjYXNlIDE1OnJldHVybiBBLm5leHQ9MTcsSS5hcnJheUJ1ZmZlcigpO2Nhc2UgMTc6cmV0dXJuIEI9QS5zZW50LEEubmV4dD0yMCxXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShCLGcpO2Nhc2UgMjM6cmV0dXJuIEEubmV4dD0yNSxXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShJLGcpO2Nhc2UgMjU6aWYoISgoUT1BLnNlbnQpaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5JbnN0YW5jZSkpe0EubmV4dD0zMDticmVha31yZXR1cm4gQS5hYnJ1cHQoInJldHVybiIse2luc3RhbmNlOlEsbW9kdWxlOkl9KTtjYXNlIDMwOnJldHVybiBBLmFicnVwdCgicmV0dXJuIixRKTtjYXNlIDMxOmNhc2UiZW5kIjpyZXR1cm4gQS5zdG9wKCl9fSksQSxudWxsLFtbMiw4XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGdBKCl7dmFyIEE9e3diZzp7fX07cmV0dXJuIEEud2JnLl9fd2JnX2xvZ3RpbWVfM2JjOWZiNjFkZjljNTFlZT0iZnVuY3Rpb24iPT10eXBlb2YgbG9nX3RpbWU/bG9nX3RpbWU6WCgibG9nX3RpbWUiKSxBLndiZy5fX3diZ19sb2d0aW1lZW5kXzBjYWQ2ZWJhMzBhMjE1Njc9ImZ1bmN0aW9uIj09dHlwZW9mIGxvZ190aW1lX2VuZD9sb2dfdGltZV9lbmQ6WCgibG9nX3RpbWVfZW5kIiksQS53YmcuX193YmluZGdlbl9vYmplY3RfZHJvcF9yZWY9ZnVuY3Rpb24oQSl7cChBKX0sQS53YmcuX193YmluZGdlbl9udW1iZXJfbmV3PWZ1bmN0aW9uKEEpe3JldHVybiBsKEEpfSxBLndiZy5fX3diaW5kZ2VuX3N0cmluZ19uZXc9ZnVuY3Rpb24oQSxJKXtyZXR1cm4gbChtKEEsSSkpfSxBLndiZy5fX3diZ19jcnlwdG9fZDA1YjY4YTM1NzJiYjhjYT1mdW5jdGlvbihBKXtyZXR1cm4gbChxKEEpLmNyeXB0byl9LEEud2JnLl9fd2JpbmRnZW5faXNfb2JqZWN0PWZ1bmN0aW9uKEEpe3ZhciBJPXEoQSk7cmV0dXJuIm9iamVjdCI9PT10KEkpJiZudWxsIT09SX0sQS53YmcuX193YmdfcHJvY2Vzc19iMDJiMzU3MDI4MGQwMzY2PWZ1bmN0aW9uKEEpe3JldHVybiBsKHEoQSkucHJvY2Vzcyl9LEEud2JnLl9fd2JnX3ZlcnNpb25zX2MxY2I0MjIxM2NlZGYwZjU9ZnVuY3Rpb24oQSl7cmV0dXJuIGwocShBKS52ZXJzaW9ucyl9LEEud2JnLl9fd2JnX25vZGVfNDNiMTA4OWY0MDdlNGVjMj1mdW5jdGlvbihBKXtyZXR1cm4gbChxKEEpLm5vZGUpfSxBLndiZy5fX3diaW5kZ2VuX2lzX3N0cmluZz1mdW5jdGlvbihBKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHEoQSl9LEEud2JnLl9fd2JnX3JlcXVpcmVfOWE3ZTBmNjY3ZWFkNDk5NT1mdW5jdGlvbigpe3JldHVybiAkKChmdW5jdGlvbigpe3JldHVybiBsKG1vZHVsZS5yZXF1aXJlKX0pLGFyZ3VtZW50cyl9LEEud2JnLl9fd2JpbmRnZW5faXNfZnVuY3Rpb249ZnVuY3Rpb24oQSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHEoQSl9LEEud2JnLl9fd2JnX21zQ3J5cHRvXzEwZmM5NGFmZWU5MmJkNzY9ZnVuY3Rpb24oQSl7cmV0dXJuIGwocShBKS5tc0NyeXB0byl9LEEud2JnLl9fd2JnX3JhbmRvbUZpbGxTeW5jX2I3MGNjYmRmNDkyNmE5OWQ9ZnVuY3Rpb24oKXtyZXR1cm4gJCgoZnVuY3Rpb24oQSxJKXtxKEEpLnJhbmRvbUZpbGxTeW5jKHAoSSkpfSksYXJndW1lbnRzKX0sQS53YmcuX193YmdfZ2V0UmFuZG9tVmFsdWVzXzdlNDJiNGZiODc3OWRjNmQ9ZnVuY3Rpb24oKXtyZXR1cm4gJCgoZnVuY3Rpb24oQSxJKXtxKEEpLmdldFJhbmRvbVZhbHVlcyhxKEkpKX0pLGFyZ3VtZW50cyl9LEEud2JnLl9fd2JnX25ld25vYXJnc19jNjJlYTk0MTljMjFmYmFjPWZ1bmN0aW9uKEEsSSl7cmV0dXJuIGwobmV3IEZ1bmN0aW9uKG0oQSxJKSkpfSxBLndiZy5fX3diZ19jYWxsXzkwYzI2YjA5ODM3YWJhMWM9ZnVuY3Rpb24oKXtyZXR1cm4gJCgoZnVuY3Rpb24oQSxJKXtyZXR1cm4gbChxKEEpLmNhbGwocShJKSkpfSksYXJndW1lbnRzKX0sQS53YmcuX193YmluZGdlbl9vYmplY3RfY2xvbmVfcmVmPWZ1bmN0aW9uKEEpe3JldHVybiBsKHEoQSkpfSxBLndiZy5fX3diZ19zZWxmX2YwZTM0ZDg5ZjMzYjk5ZmQ9ZnVuY3Rpb24oKXtyZXR1cm4gJCgoZnVuY3Rpb24oKXtyZXR1cm4gbChzZWxmLnNlbGYpfSksYXJndW1lbnRzKX0sQS53YmcuX193Ymdfd2luZG93X2QzYjA4NDIyNGY0Nzc0ZDc9ZnVuY3Rpb24oKXtyZXR1cm4gJCgoZnVuY3Rpb24oKXtyZXR1cm4gbCh3aW5kb3cud2luZG93KX0pLGFyZ3VtZW50cyl9LEEud2JnLl9fd2JnX2dsb2JhbFRoaXNfOWNhYTI3ZmY5MTdjNjg2MD1mdW5jdGlvbigpe3JldHVybiAkKChmdW5jdGlvbigpe3JldHVybiBsKGdsb2JhbFRoaXMuZ2xvYmFsVGhpcyl9KSxhcmd1bWVudHMpfSxBLndiZy5fX3diZ19nbG9iYWxfMzVkZmRkNTlhNGRhM2U3ND1mdW5jdGlvbigpe3JldHVybiAkKChmdW5jdGlvbigpe3JldHVybiBsKGdsb2JhbC5nbG9iYWwpfSksYXJndW1lbnRzKX0sQS53YmcuX193YmluZGdlbl9pc191bmRlZmluZWQ9ZnVuY3Rpb24oQSl7cmV0dXJuIHZvaWQgMD09PXEoQSl9LEEud2JnLl9fd2JnX2NhbGxfNWRhMTk2OWQ3Y2QzMWNjZD1mdW5jdGlvbigpe3JldHVybiAkKChmdW5jdGlvbihBLEksZyl7cmV0dXJuIGwocShBKS5jYWxsKHEoSSkscShnKSkpfSksYXJndW1lbnRzKX0sQS53YmcuX193YmdfY2FsbF85MDc5ZWNkN2RhODExNTM5PWZ1bmN0aW9uKCl7cmV0dXJuICQoKGZ1bmN0aW9uKEEsSSxnLEIpe3JldHVybiBsKHEoQSkuY2FsbChxKEkpLHEoZykscShCKSkpfSksYXJndW1lbnRzKX0sQS53YmcuX193YmdfYnVmZmVyX2E0NDhmODMzMDc1YjcxYmE9ZnVuY3Rpb24oQSl7cmV0dXJuIGwocShBKS5idWZmZXIpfSxBLndiZy5fX3diZ19uZXd3aXRoYnl0ZW9mZnNldGFuZGxlbmd0aF9kMDQ4MmY4OTM2MTdhZjcxPWZ1bmN0aW9uKEEsSSxnKXtyZXR1cm4gbChuZXcgVWludDhBcnJheShxKEEpLEk+Pj4wLGc+Pj4wKSl9LEEud2JnLl9fd2JnX25ld184ZjY3ZTMxOGYxNWQ3MjU0PWZ1bmN0aW9uKEEpe3JldHVybiBsKG5ldyBVaW50OEFycmF5KHEoQSkpKX0sQS53YmcuX193Ymdfc2V0XzIzNTdiZjA5MzY2ZWU0ODA9ZnVuY3Rpb24oQSxJLGcpe3EoQSkuc2V0KHEoSSksZz4+PjApfSxBLndiZy5fX3diZ19uZXd3aXRobGVuZ3RoXzZjMmRmOWUyZjMwMjhjNDM9ZnVuY3Rpb24oQSl7cmV0dXJuIGwobmV3IFVpbnQ4QXJyYXkoQT4+PjApKX0sQS53YmcuX193Ymdfc3ViYXJyYXlfMmU5NDBlNDFjMGY1YTFkOT1mdW5jdGlvbihBLEksZyl7cmV0dXJuIGwocShBKS5zdWJhcnJheShJPj4+MCxnPj4+MCkpfSxBLndiZy5fX3diaW5kZ2VuX2RlYnVnX3N0cmluZz1mdW5jdGlvbihBLEkpe3ZhciBnPWZ1bmN0aW9uKEEsSSxnKXtpZih2b2lkIDA9PT1nKXt2YXIgQj14LmVuY29kZShBKSxRPUkoQi5sZW5ndGgsMSk+Pj4wO3JldHVybiBqKCkuc3ViYXJyYXkoUSxRK0IubGVuZ3RoKS5zZXQoQiksTz1CLmxlbmd0aCxRfWZvcih2YXIgQz1BLmxlbmd0aCxFPUkoQywxKT4+PjAsaT1qKCksRD0wO0Q8QztEKyspe3ZhciBvPUEuY2hhckNvZGVBdChEKTtpZihvPjEyNylicmVhaztpW0UrRF09b31pZihEIT09Qyl7MCE9PUQmJihBPUEuc2xpY2UoRCkpLEU9ZyhFLEMsQz1EKzMqQS5sZW5ndGgsMSk+Pj4wO3ZhciB3PWooKS5zdWJhcnJheShFK0QsRStDKTtEKz1XKEEsdykud3JpdHRlbn1yZXR1cm4gTz1ELEV9KFoocShJKSksTC5fX3diaW5kZ2VuX21hbGxvYyxMLl9fd2JpbmRnZW5fcmVhbGxvYyksQj1PO3YoKVtBLzQrMV09Qix2KClbQS80KzBdPWd9LEEud2JnLl9fd2JpbmRnZW5fdGhyb3c9ZnVuY3Rpb24oQSxJKXt0aHJvdyBuZXcgRXJyb3IobShBLEkpKX0sQS53YmcuX193YmluZGdlbl9tZW1vcnk9ZnVuY3Rpb24oKXtyZXR1cm4gbChMLm1lbW9yeSl9LEF9ZnVuY3Rpb24gQkEoQSxJKXtyZXR1cm4gTD1BLmV4cG9ydHMsUUEuX193YmluZGdlbl93YXNtX21vZHVsZT1JLFQ9bnVsbCx1PW51bGwsTH1mdW5jdGlvbiBRQShBKXtyZXR1cm4gQ0EuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIENBKCl7cmV0dXJuKENBPWcoTigpLm1hcmsoKGZ1bmN0aW9uIEEoSSl7dmFyIGcsQixRLEM7cmV0dXJuIE4oKS53cmFwKChmdW5jdGlvbihBKXtmb3IoOzspc3dpdGNoKEEucHJldj1BLm5leHQpe2Nhc2UgMDppZih2b2lkIDA9PT1MKXtBLm5leHQ9MjticmVha31yZXR1cm4gQS5hYnJ1cHQoInJldHVybiIsTCk7Y2FzZSAyOnJldHVybiB2b2lkIDA9PT1JJiYoST1uZXcgVVJMKCJkYXRhOmFwcGxpY2F0aW9uL3dhc207YmFzZTY0LEFHRnpiUUVBQUFBQnJBRVpZQUovZndGL1lBRi9BR0FEZjM5L0FYOWdBbjkvQUdBQmZ3Ri9ZQU4vZjM4QVlBQUJmMkFBQUdBRWYzOS9md0JnQlg5L2YzOS9BR0FFZjM5L2Z3Ri9ZQVYvZjM5L2Z3Ri9ZQUovZndGK1lBWi9mMzkvZjM4QmYyQUdmMzkvZjM5L0FHQUJmQUYvWUFOL2ZuOEFZQWQvZjM5L2YzOS9BWDlnQTM1L2Z3Ri9ZQVYvZjN4L2Z3QmdCSDk4ZjM4QVlBVi9mMzUvZndCZ0JIOStmMzhBWUFWL2YzMS9md0JnQkg5OWYzOEFBc29KSXdOM1ltY2VYMTkzWW1kZmJHOW5kR2x0WlY4elltTTVabUkyTVdSbU9XTTFNV1ZsQUFjRGQySm5JVjlmZDJKblgyeHZaM1JwYldWbGJtUmZNR05oWkRabFltRXpNR0V5TVRVMk53QUhBM2RpWnhwZlgzZGlhVzVrWjJWdVgyOWlhbVZqZEY5a2NtOXdYM0psWmdBQkEzZGlaeFZmWDNkaWFXNWtaMlZ1WDI1MWJXSmxjbDl1WlhjQUR3TjNZbWNWWDE5M1ltbHVaR2RsYmw5emRISnBibWRmYm1WM0FBQURkMkpuSFY5ZmQySm5YMk55ZVhCMGIxOWtNRFZpTmpoaE16VTNNbUppT0dOaEFBUURkMkpuRkY5ZmQySnBibVJuWlc1ZmFYTmZiMkpxWldOMEFBUURkMkpuSGw5ZmQySm5YM0J5YjJObGMzTmZZakF5WWpNMU56QXlPREJrTURNMk5nQUVBM2RpWng5ZlgzZGlaMTkyWlhKemFXOXVjMTlqTVdOaU5ESXlNVE5qWldSbU1HWTFBQVFEZDJKbkcxOWZkMkpuWDI1dlpHVmZORE5pTVRBNE9XWTBNRGRsTkdWak1nQUVBM2RpWnhSZlgzZGlhVzVrWjJWdVgybHpYM04wY21sdVp3QUVBM2RpWng1ZlgzZGlaMTl5WlhGMWFYSmxYemxoTjJVd1pqWTJOMlZoWkRRNU9UVUFCZ04zWW1jV1gxOTNZbWx1WkdkbGJsOXBjMTltZFc1amRHbHZiZ0FFQTNkaVp4OWZYM2RpWjE5dGMwTnllWEIwYjE4eE1HWmpPVFJoWm1WbE9USmlaRGMyQUFRRGQySm5KVjlmZDJKblgzSmhibVJ2YlVacGJHeFRlVzVqWDJJM01HTmpZbVJtTkRreU5tRTVPV1FBQXdOM1ltY21YMTkzWW1kZloyVjBVbUZ1Wkc5dFZtRnNkV1Z6WHpkbE5ESmlOR1ppT0RjM09XUmpObVFBQXdOM1ltY2dYMTkzWW1kZmJtVjNibTloY21kelgyTTJNbVZoT1RReE9XTXlNV1ppWVdNQUFBTjNZbWNiWDE5M1ltZGZZMkZzYkY4NU1HTXlObUl3T1Rnek4yRmlZVEZqQUFBRGQySm5HMTlmZDJKcGJtUm5aVzVmYjJKcVpXTjBYMk5zYjI1bFgzSmxaZ0FFQTNkaVp4dGZYM2RpWjE5elpXeG1YMll3WlRNMFpEZzVaak16WWprNVptUUFCZ04zWW1jZFgxOTNZbWRmZDJsdVpHOTNYMlF6WWpBNE5ESXlOR1kwTnpjMFpEY0FCZ04zWW1jaFgxOTNZbWRmWjJ4dlltRnNWR2hwYzE4NVkyRmhNamRtWmpreE4yTTJPRFl3QUFZRGQySm5IVjlmZDJKblgyZHNiMkpoYkY4ek5XUm1aR1ExT1dFMFpHRXpaVGMwQUFZRGQySm5GMTlmZDJKcGJtUm5aVzVmYVhOZmRXNWtaV1pwYm1Wa0FBUURkMkpuRzE5ZmQySm5YMk5oYkd4Zk5XUmhNVGsyT1dRM1kyUXpNV05qWkFBQ0EzZGlaeHRmWDNkaVoxOWpZV3hzWHprd056bGxZMlEzWkdFNE1URTFNemtBQ2dOM1ltY2RYMTkzWW1kZlluVm1abVZ5WDJFME5EaG1PRE16TURjMVlqY3hZbUVBQkFOM1ltY3hYMTkzWW1kZmJtVjNkMmwwYUdKNWRHVnZabVp6WlhSaGJtUnNaVzVuZEdoZlpEQTBPREptT0Rrek5qRTNZV1kzTVFBQ0EzZGlaeHBmWDNkaVoxOXVaWGRmT0dZMk4yVXpNVGhtTVRWa056STFOQUFFQTNkaVp4cGZYM2RpWjE5elpYUmZNak0xTjJKbU1Ea3pOalpsWlRRNE1BQUZBM2RpWnlSZlgzZGlaMTl1WlhkM2FYUm9iR1Z1WjNSb1h6WmpNbVJtT1dVeVpqTXdNamhqTkRNQUJBTjNZbWNmWDE5M1ltZGZjM1ZpWVhKeVlYbGZNbVU1TkRCbE5ERmpNR1kxWVRGa09RQUNBM2RpWnhkZlgzZGlhVzVrWjJWdVgyUmxZblZuWDNOMGNtbHVad0FEQTNkaVp4QmZYM2RpYVc1a1oyVnVYM1JvY205M0FBTURkMkpuRVY5ZmQySnBibVJuWlc1ZmJXVnRiM0o1QUFZRDJnSFlBUU1IQkFBQUF3TUZBZzBGQVFVRkFRTUNBd1VDQXdnQkRBd01Bd1VEQ0FVREJBUVFCd0FFQkFNQkF3QU9BQkVGQXdzQUFSSUFBd01EQUFNRkF3VUJBUUVBQVFFQkF3QUVCQWNBQUFrQkJBRUJCQVVCQlFFSUF3RUlEZ0lBQUFBQUFBVUFDUVFBQkFRQUFBZ0JBd0VGQlFVRkFRTUJCZ0VGQUFFSEJ3Y0JCd01HQndNQ0F3QUVBZ0lJQUFVTEFBQUFDZ0FBQUFBQUJnUUlBd0FBRFFrVEZRc1hBUUVJQUFFQ0FRRURBQW9BQWdBQUNRRUFCZ0FEQXdBQkF3TUFBd0FBQUFVQUFBQUJCd0FBQUFBREFBQUFBd0FBQWdJQ0FnTUdCUVFGQVhBQmJXMEZBd0VBRVFZSkFYOEJRWUNBd0FBTEI3d0JDZ1p0WlcxdmNua0NBQWgwWlhOMFgyWmxZd0FrRW1sdWFYUmZjMmhoY21Wa1gySjFabVpsY2dCM0UzSmxaMmx6ZEY5cWMxOXZibTFsYzNOaFoyVUFYQXh6Wlc1a1gzUnZYM2RoYzIwQU1oRnZibDl5WldObGFYWmxYM0JoWTJ0bGRBQTBFMjl1WDIxbFpHbGhYM04wWVhSelgyTmhiR3dBUmhGZlgzZGlhVzVrWjJWdVgyMWhiR3h2WXdDc0FSSmZYM2RpYVc1a1oyVnVYM0psWVd4c2IyTUFzZ0VVWDE5M1ltbHVaR2RsYmw5bGVHNWZjM1J2Y21VQTJ3RUp4Z0VCQUVFQkMyeTlBYkVCaWdIbUFlUUJ4d0Z0MVFIVUFlVUJiTGNCMWdISUFjc0JmbVdVQVpRQmpRRndjME5KYVdxR0FZa0JSRWhtcndHd0FZc0IxUUdCQWMwQmh3R3pBWm9Cc0FIUkFXTm8rQUhaQWRnQitnRzhBYk1CMmdHMEFjSUJmTDhCd2dHK0Fja0J4Z0cvQWI4Qnd3SEFBY0VCc0FIVkFkVUIzZ0ZObFFIcEFaWUJwUUZiN0FIS0Fha0JWK29CZlUvckFkd0IzUUhnQWFZQjN3SHRBY1FCaEFGZWVmZ0J5Z0dxQWZJQjdnSHZBZkFCendIU0FlRUI0Z0cyQVlJQk5xY0I4d0VLb1lNRzJBSDNJQUkwZngxK1FmVEtnZGtHSVFsQnN0cUl5d2NoREVIdXlJR1pBeUVTUWVYd3dZc0dJUXBCQmlFcVFlWHd3WXNHSVF0QjdzaUJtUU1oRTBHeTJvakxCeUVXUWZUS2dka0dJUmhCNWZEQml3WWhGRUh1eUlHWkF5RVpRYkxhaU1zSElScEI5TXFCMlFZaEcwSGw4TUdMQmlFVlFlN0lnWmtESVJ4QnN0cUl5d2NoSFVIMHlvSFpCaUVlSUFBcEF4Z2lOeUZESUFBcEF4QWlPQ0ZFSURjaE9TQTRJVG9nTnlFN0lEZ2hQQ0FBS1FNSUlrSWhSU0FBS1FNQUlqMGhSaUJDSVVjZ1BTRkFJRUloU0NBOUlVRWdBQ2tES0NKS0lVc2dBQ2tESUNKSklVd2dTVUlCZkNKTklVNGdTaUkySVQ0Z1NVSUNmQ0pQSVZBZ05pRS9JRWxDQTN3aVVTRlNBMEFnUVNCU0lCVWdRYWRxSWhXdElCd2dRVUlnaUtkcUloeXRRaUNHaElVaVFVSWdpS2RCRUhjaUlTQThRaUNJcDJvaUlxMUNJSVlnUWFkQkVIY2lJeUE4cDJvaUY2MkVoU0k4UWlDSXAwRU1keUlOSUJ4cUloeXRRaUNHSUJVZ1BLZEJESGNpRldvaUVhMkVJQ090SUNHdFFpQ0doSVVpUEVJZ2lLZEJDSGNpSVNBaWFpSWlyVUlnaGlBOHAwRUlkeUlqSUJkcUloZXRoQ0FWclNBTnJVSWdob1NGSWtHblFRZDNJaFVnUHlBZElFaW5haUlkclNBZUlFaENJSWluYWlJZXJVSWdob1NGSWp4Q0lJaW5RUkIzSWcwZ08wSWdpS2RxSWdhdFFpQ0dJRHluUVJCM0lnNGdPNmRxSWdLdGhDQkloU0k3UWlDSXAwRU1keUlISUI1cUloNXFJZ1N0UWlDR0lBWWdIU0E3cDBFTWR5SWRhaUlHclNBZXJVSWdob1FnRHEwZ0RhMUNJSWFFaFNJN1FpQ0lwMEVJZHlJTmFpSU9yVUlnaGlBN3AwRUlkeUllSUFKcUlnS3RoQ0FkclNBSHJVSWdob1NGSWp0Q0lJaW5RUWQzSWgwZ0Jtb2lCcTJFSUNHdElCNnRRaUNHaElVaVBFSWdpS2RCRUhjaUlTQWlhaUlpclVJZ2hpQVhJRHluUVJCM0loZHFJZ2V0aENBZHJTQVZyVUlnaG9TRklqeENJSWluUVF4M0loVWdCR29pSHExQ0lJWWdCaUE4cDBFTWR5SUdhaUlkcllRZ0Y2MGdJYTFDSUlhRWhTSThRaUNJcDBFSWR5SWhJQ0pxclVJZ2hpQThwMEVJZHlJaUlBZHFyWVFpUENBR3JTQVZyVUlnaG9TRklqK25RUWQzSWl5dFFpQ0dJRUZDSUlpblFRZDNJaFVnRVdvaUY2MGdIQ0E3cDBFSGR5SWNhaUlSclVJZ2hvUWdEYTBnSTYxQ0lJYUVoU0k3UWlDSXAwRVFkeUlqSUE1cUlnMnRRaUNHSUR1blFSQjNJZ1lnQW1vaURxMkVJQld0SUJ5dFFpQ0doSVVpTzBJZ2lLZEJESGNpQWlBUmFpSWNyVUlnaGlBN3AwRU1keUlSSUJkcUloV3RoQ0FHclNBanJVSWdob1NGSWp0Q0lJaW5RUWgzSWlNZ0RXcXRRaUNHSUR1blFRaDNJaGNnRG1xdGhDSTdJQkd0SUFLdFFpQ0doSVVpUVVJZ2lLZEJCM2NpTGEyRUlVZ2dQMElnaUtkQkIzY2lMcTBnUWFkQkIzY2lMNjFDSUlhRUlVRWdQU0JRSUJRZ1BhZHFJaFN0SUJrZ1BVSWdpS2RxSWhtdFFpQ0doSVVpUFVJZ2lLZEJFSGNpRFNBNFFpQ0lwMm9pRWExQ0lJWWdQYWRCRUhjaUJpQTRwMm9pRHEyRWhTSTRRaUNJcDBFTWR5SUNJQmxxSWhtdFFpQ0dJQlFnT0tkQkRIY2lGR29pQjYyRUlBYXRJQTJ0UWlDR2hJVWlPRUlnaUtkQkNIY2lEU0FSYWlJUnJVSWdoaUE0cDBFSWR5SUdJQTVxSWc2dGhDQVVyU0FDclVJZ2hvU0ZJajJuUVFkM0loUWdQaUFhSUVLbmFpSWFyU0FiSUVKQ0lJaW5haUliclVJZ2hvU0ZJamhDSUlpblFSQjNJZ0lnTjBJZ2lLZHFJZ1N0UWlDR0lEaW5RUkIzSWc4Z042ZHFJZ090aENCQ2hTSTNRaUNJcDBFTWR5SUlJQnRxSWh0cUlnV3RRaUNHSUFRZ0dpQTNwMEVNZHlJYWFpSUVyU0FiclVJZ2hvUWdENjBnQXExQ0lJYUVoU0kzUWlDSXAwRUlkeUlDYWlJUHJVSWdoaUEzcDBFSWR5SWJJQU5xSWdPdGhDQWFyU0FJclVJZ2hvU0ZJamRDSUlpblFRZDNJaG9nQkdvaUJLMkVJQTJ0SUJ1dFFpQ0doSVVpT0VJZ2lLZEJFSGNpRFNBUmFpSVJyVUlnaGlBT0lEaW5RUkIzSWc1cUlnaXRoQ0FhclNBVXJVSWdob1NGSWpoQ0lJaW5RUXgzSWhRZ0JXb2lHNjFDSUlZZ0JDQTRwMEVNZHlJRWFpSWFyWVFnRHEwZ0RhMUNJSWFFaFNJNFFpQ0lwMEVJZHlJTklCRnFyVUlnaGlBNHAwRUlkeUlSSUFocXJZUWlPQ0FFclNBVXJVSWdob1NGSWo2blFRZDNJakN0UWlDR0lEMUNJSWluUVFkM0loUWdCMm9pRHEwZ0dTQTNwMEVIZHlJWmFpSUhyVUlnaG9RZ0FxMGdCcTFDSUlhRWhTSTNRaUNJcDBFUWR5SUdJQTlxSWdLdFFpQ0dJRGVuUVJCM0lnUWdBMm9pRDYyRUlCU3RJQm10UWlDR2hJVWlOMElnaUtkQkRIY2lBeUFIYWlJWnJVSWdoaUEzcDBFTWR5SUhJQTVxSWhTdGhDQUVyU0FHclVJZ2hvU0ZJamRDSUlpblFRaDNJZ1lnQW1xdFFpQ0dJRGVuUVFoM0lnNGdEMnF0aENJM0lBZXRJQU90UWlDR2hJVWlQVUlnaUtkQkIzY2lNYTJFSVVJZ1BrSWdpS2RCQjNjaU1xMGdQYWRCQjNjaU02MUNJSWFFSVQwZ1RpQUxJRWFuYWlJTHJTQVRJRVpDSUlpbmFpSVRyVUlnaG9TRklqNUNJSWluUVJCM0lnSWdSRUlnaUtkcUlnZXRRaUNHSUQ2blFSQjNJZ1FnUktkcUlnK3RoQ0JHaFNJK1FpQ0lwMEVNZHlJRElCTnFJaE90UWlDR0lBc2dQcWRCREhjaUMyb2lDSzJFSUFTdElBS3RRaUNHaElVaVBrSWdpS2RCQ0hjaUFpQUhhaUlIclVJZ2hpQStwMEVJZHlJRUlBOXFJZyt0aENBTHJTQURyVUlnaG9TRklqNm5RUWQzSWdzZ05pQVdJRVduYWlJV3JTQVlJRVZDSUlpbmFpSVlyVUlnaG9TRklqWkNJSWluUVJCM0lnTWdRMElnaUtkcUlnV3RRaUNHSURhblFSQjNJaEFnUTZkcUlpU3RoQ0JGaFNJMlFpQ0lwMEVNZHlJb0lCaHFJaGhxSWl1dFFpQ0dJQVVnRmlBMnAwRU1keUlXYWlJRnJTQVlyVUlnaG9RZ0VLMGdBNjFDSUlhRWhTSTJRaUNJcDBFSWR5SURhaUlRclVJZ2hpQTJwMEVJZHlJWUlDUnFJaVN0aENBV3JTQW9yVUlnaG9TRklqWkNJSWluUVFkM0loWWdCV29pQmEyRUlBS3RJQml0UWlDR2hJVWlQMElnaUtkQkVIY2lBaUFIYWlJSHJVSWdoaUFQSUQrblFSQjNJZzlxSWlpdGhDQVdyU0FMclVJZ2hvU0ZJajlDSUlpblFReDNJZ3NnSzJvaUdLMUNJSVlnQlNBL3AwRU1keUlGYWlJV3JZUWdENjBnQXExQ0lJYUVoU0kvUWlDSXAwRUlkeUlDSUFkcXJVSWdoaUEvcDBFSWR5SUhJQ2hxcllRaVJDQUZyU0FMclVJZ2hvU0ZJaituUVFkM0lpaXRRaUNHSUQ1Q0lJaW5RUWQzSWdzZ0NHb2lENjBnRXlBMnAwRUhkeUlUYWlJSXJVSWdob1FnQTYwZ0JLMUNJSWFFaFNJMlFpQ0lwMEVRZHlJRUlCQnFJZ090UWlDR0lEYW5RUkIzSWdVZ0pHb2lFSzJFSUF1dElCT3RRaUNHaElVaU5rSWdpS2RCREhjaUpDQUlhaUlUclVJZ2hpQTJwMEVNZHlJSUlBOXFJZ3V0aENBRnJTQUVyVUlnaG9TRklqWkNJSWluUVFoM0lnUWdBMnF0UWlDR0lEYW5RUWgzSWc4Z0VHcXRoQ0pESUFpdElDU3RRaUNHaElVaU5rSWdpS2RCQjNjaUpLMkVJVVVnUDBJZ2lLZEJCM2NpSzYwZ05xZEJCM2NpTksxQ0lJYUVJVVlnUUNBS0lFQ25haUlLclNBU0lFQkNJSWluYWlJU3JVSWdob1FnVElVaVFFSWdpS2RCRUhjaUF5QTZRaUNJcDJvaUNLMUNJSVlnUUtkQkVIY2lCU0E2cDJvaUVLMkVoU0k2UWlDSXAwRU1keUlmSUJKcUloS3RRaUNHSUFvZ09xZEJESGNpQ21vaUphMkVJQVd0SUFPdFFpQ0doSVVpT2tJZ2lLZEJDSGNpQXlBSWFpSUlyVUlnaGlBNnAwRUlkeUlGSUJCcUloQ3RoQ0FLclNBZnJVSWdob1NGSWtDblFRZDNJZ29nRENCSHAyb2lESzBnQ1NCSFFpQ0lwMm9pQ2ExQ0lJYUVJRXVGSWpwQ0lJaW5RUkIzSWg4Z09VSWdpS2RxSWlDdFFpQ0dJRHFuUVJCM0lpWWdPYWRxSWlldGhDQkhoU0k1UWlDSXAwRU1keUlwSUFscUlnbHFJald0UWlDR0lDQWdEQ0E1cDBFTWR5SU1haUlnclNBSnJVSWdob1FnSnEwZ0g2MUNJSWFFaFNJNVFpQ0lwMEVJZHlJZmFpSW1yVUlnaGlBNXAwRUlkeUlKSUNkcUlpZXRoQ0FNclNBcHJVSWdob1NGSWpsQ0lJaW5RUWQzSWd3Z0lHb2lJSzJFSUFPdElBbXRRaUNHaElVaU9rSWdpS2RCRUhjaUF5QUlhaUlJclVJZ2hpQVFJRHFuUVJCM0loQnFJaW10aENBTXJTQUtyVUlnaG9TRklqcENJSWluUVF4M0lnb2dOV29pQ2ExQ0lJWWdJQ0E2cDBFTWR5SWdhaUlNcllRZ0VLMGdBNjFDSUlhRWhTSTZRaUNJcDBFSWR5SURJQWhxclVJZ2hpQTZwMEVJZHlJSUlDbHFyWVFpT2lBZ3JTQUtyVUlnaG9TRklqYW5RUWQzSWlDdFFpQ0dJRUJDSUlpblFRZDNJZ29nSldvaUVLMGdFaUE1cDBFSGR5SVNhaUlsclVJZ2hvUWdINjBnQmExQ0lJYUVoU0k1UWlDSXAwRVFkeUlGSUNacUloK3RRaUNHSURtblFSQjNJaVlnSjJvaUo2MkVJQXF0SUJLdFFpQ0doSVVpT1VJZ2lLZEJESGNpS1NBbGFpSVNyVUlnaGlBNXAwRU1keUlsSUJCcUlncXRoQ0FtclNBRnJVSWdob1NGSWpsQ0lJaW5RUWgzSWdVZ0gycXRRaUNHSURtblFRaDNJaEFnSjJxdGhDSTVJQ1d0SUNtdFFpQ0doSVVpUUVJZ2lLZEJCM2NpSDYyRUlVY2dOa0lnaUtkQkIzY2lKYTBnUUtkQkIzY2lKcTFDSUlhRUlVQWdJYTBnRjYxQ0lJYUVJVDhnSTYwZ0lxMUNJSWFFSVZJZ0RhMGdEcTFDSUlhRUlUNGdCcTBnRWExQ0lJYUVJVkFnQXEwZ0Q2MUNJSWFFSVRZZ0JLMGdCNjFDSUlhRUlVNGdBNjBnRUsxQ0lJYUVJVXNnQmEwZ0NLMUNJSWFFSVV3Z0trRUJheUlxRFFBTElBQW9BaUFoS2lBQUtBSWtJU2NnQUNCSlFnUjhOd01nSUFFZ0hrSDB5b0haQm1vMkFzd0JJQUVnSFVHeTJvakxCMm8yQXNnQklBRWdIRUh1eUlHWkEybzJBc1FCSUFFZ0ZVSGw4TUdMQm1vMkFzQUJJQUVnRzBIMHlvSFpCbW8yQW93QklBRWdHa0d5Mm9qTEIybzJBb2dCSUFFZ0dVSHV5SUdaQTJvMkFvUUJJQUVnRkVIbDhNR0xCbW8yQW9BQklBRWdHRUgweW9IWkJtbzJBa3dnQVNBV1FiTGFpTXNIYWpZQ1NDQUJJQk5CN3NpQm1RTnFOZ0pFSUFFZ0MwSGw4TUdMQm1vMkFrQWdBU0FKUWZUS2dka0dhallDRENBQklBeEJzdHFJeXdkcU5nSUlJQUVnRWtIdXlJR1pBMm8yQWdRZ0FTQUtRZVh3d1lzR2FqWUNBQ0FCSUNFZ1NxY2lGbW8yQXZnQklBRWdJeUJScDJvMkF2QUJJQUVnQUNnQ0dDSUpJRHVuYWpZQzZBRWdBU0FBS0FJUUlnd2dQS2RxTmdMZ0FTQUJJQUFvQWd3aUVpQXNhallDM0FFZ0FTQUFLQUlJSWdvZ0xXbzJBdGdCSUFFZ0FDZ0NCQ0lMSUM5cU5nTFVBU0FCSUFBb0FnQWlFeUF1YWpZQzBBRWdBU0FOSUJacU5nSzRBU0FCSUFZZ1Q2ZHFOZ0t3QVNBQklBa2dONmRxTmdLb0FTQUJJQXdnT0tkcU5nS2dBU0FCSUJJZ01HbzJBcHdCSUFFZ0NpQXhhallDbUFFZ0FTQUxJRE5xTmdLVUFTQUJJQk1nTW1vMkFwQUJJQUVnQWlBV2FqWUNlQ0FCSUFRZ1RhZHFOZ0p3SUFFZ0NTQkRwMm8yQW1nZ0FTQU1JRVNuYWpZQ1lDQUJJQklnS0dvMkFsd2dBU0FLSUNScU5nSllJQUVnQ3lBMGFqWUNWQ0FCSUJNZ0sybzJBbEFnQVNBUUlBQW9BaXhxTmdJOElBRWdBeUFBS0FJb2FqWUNPQ0FCSUFnZ0oybzJBalFnQVNBRklDcHFOZ0l3SUFFZ0NTQTVwMm8yQWlnZ0FTQU1JRHFuYWpZQ0lDQUJJQklnSUdvMkFod2dBU0FLSUI5cU5nSVlJQUVnQ3lBbWFqWUNGQ0FCSUJNZ0pXbzJBaEFnQVNBWElFcENJSWluSWd4cU5nTDhBU0FCSUNJZ1VVSWdpS2RxTmdMMEFTQUJJQUFvQWhRaUNTQThRaUNJcDJvMkF1UUJJQUVnRENBT2FqWUN2QUVnQVNBUklFOUNJSWluYWpZQ3RBRWdBU0FKSURoQ0lJaW5hallDcEFFZ0FTQU1JQTlxTmdKOElBRWdCeUJOUWlDSXAybzJBblFnQVNBSklFUkNJSWluYWpZQ1pDQUJJQWtnT2tJZ2lLZHFOZ0lrSUFFZ0FDZ0NIQ0lBSUR0Q0lJaW5hallDN0FFZ0FTQUFJRGRDSUlpbmFqWUNyQUVnQVNBQUlFTkNJSWluYWpZQ2JDQUJJQUFnT1VJZ2lLZHFOZ0lzQzZZcUFnOS9BbjRqQUVHZ0FXc2lBQ1FBRUFBZ0FFRUFOZ0lNSUFCQ2dJQ0FnTUFBTndJRUlBQkJFR3BCQUJCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBaEEzQWdBZ0FVRUlhaUFBUVJocUlnTXBBZ0EzQWdBZ0FVRVFhaUFBUVNCcUlnUXBBZ0EzQWdBZ0FVRVlhaUFBUVNocUlnVW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJFR3BCQVJCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBaEEzQWdBZ0FVRUlhaUFES1FJQU53SUFJQUZCRUdvZ0JDa0NBRGNDQUNBQlFSaHFJQVVvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkFoQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBQVFSaHFJZ01wQWdBM0FnQWdBVUVRYWlBQVFTQnFJZ1FwQWdBM0FnQWdBVUVZYWlBQVFTaHFJZ1VvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkF4QkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBREtRSUFOd0lBSUFGQkVHb2dCQ2tDQURjQ0FDQUJRUmhxSUFVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkVHcEJCQkJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFoQTNBZ0FnQVVFSWFpQUFRUmhxSWdNcEFnQTNBZ0FnQVVFUWFpQUFRU0JxSWdRcEFnQTNBZ0FnQVVFWWFpQUFRU2hxSWdVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkVHcEJCUkJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFoQTNBZ0FnQVVFSWFpQURLUUlBTndJQUlBRkJFR29nQkNrQ0FEY0NBQ0FCUVJocUlBVW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJFR3BCQmhCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBaEEzQWdBZ0FVRUlhaUFBUVJocUlnTXBBZ0EzQWdBZ0FVRVFhaUFBUVNCcUlnUXBBZ0EzQWdBZ0FVRVlhaUFBUVNocUlnVW9BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJFR3BCQnhCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBaEEzQWdBZ0FVRUlhaUFES1FJQU53SUFJQUZCRUdvZ0JDa0NBRGNDQUNBQlFSaHFJQVVvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkNCQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBQVFSaHFJZ01wQWdBM0FnQWdBVUVRYWlBQVFTQnFJZ1FwQWdBM0FnQWdBVUVZYWlBQVFTaHFJZ1VvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCRUdwQkNSQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQWhBM0FnQWdBVUVJYWlBREtRSUFOd0lBSUFGQkVHb2dCQ2tDQURjQ0FDQUJRUmhxSUFVb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQkxHb2hBVUVBSVFOQnVZSEFBQ0VDUWJtQndBQXRBQUJCSzBjRWYwRU1CVUc2Z2NBQUlRSkJDd3NoQkFKQUFrQUNRQUpBQTBBZ0JFVU5BU0FDTFFBQVFUQnJJZ1ZCQWs4TkFpQURyVUlCaGlJUFFpQ0lwdzBESUFKQkFXb2hBaUFFUVFGcklRUWdCU0FQcHlJR2FpSURJQVpQRFFBTERBSUxJQUVnQXpZQ0JDQUJRUUE2QUFBTUFnc2dBVUVCT2dBQklBRkJBVG9BQUF3QkN5QUJRUUk2QUFFZ0FVRUJPZ0FBQ3dKQUFrQUNRQUpBSUFBdEFDeEZCRUFnQUNnQ01DRUNRYUFmSVFRQ1FFR2dIeEFsSWdGRkRRQWdBVUVFYXkwQUFFRURjVVVOQUNBQlFRQkJvQjhROVFFYUN5QUJSUTBCSUFCQkFEb0FUaUFBUWdBM0FrUWdBRUdnSHpzQlRDQUFRUXc3QUU4Z0FFSUFOd0k4SUFBZ0FqWUNPQ0FBUWFBZk5nSTBJQUFnQVRZQ01DQUFRYUFmTmdJc0lBQkIxQUJxSVFjakFFRVFheUlDSkFBQ1FBSkFBa0FDUUFKL1FibUJ3QUFzQUFBaUFVRUFUZ1JBSUFGQi93RnhJUU5CdW9IQUFBd0JDMEc2Z2NBQUxRQUFRVDl4SVFVZ0FVRWZjU0VESUFGQlgwMEVRQ0FEUVFaMElBVnlJUU5CdTRIQUFBd0JDMEc3Z2NBQUxRQUFRVDl4SUFWQkJuUnlJUVVnQVVGd1NRUkFJQVVnQTBFTWRISWhBMEc4Z2NBQURBRUxJQU5CRW5SQmdJRHdBSEZCdklIQUFDMEFBRUUvY1NBRlFRWjBjbklpQTBHQWdNUUFSZzBCUWIyQndBQUxJUUZCQkNFR1FRUkJ5SUhBQUNBQmF5SUZRUUoyUVFGcUlBVkJFRWtiSWdoQkFuUWhDU0FJUWYvLy8vOEJTd1JBUVFBaEJnd0RDMEg1NDhBQUxRQUFHaUFKUVFRUTF3RWlCVVVOQWlBRklBTTJBZ0FnQWtFQk5nSU1JQUlnQlRZQ0NDQUNJQWcyQWdRQ1FDQUJRY1dCd0FCR0RRQkJCQ0VEUVFFaEJnTkFBbjhnQVN3QUFDSUlRUUJPQkVBZ0NFSC9BWEVoQ0NBQlFRRnFEQUVMSUFFdEFBRkJQM0VoQ2lBSVFSOXhJUWtnQ0VGZlRRUkFJQWxCQm5RZ0NuSWhDQ0FCUVFKcURBRUxJQUV0QUFKQlAzRWdDa0VHZEhJaENpQUlRWEJKQkVBZ0NpQUpRUXgwY2lFSUlBRkJBMm9NQVFzZ0NVRVNkRUdBZ1BBQWNTQUJMUUFEUVQ5eElBcEJCblJ5Y2lJSVFZQ0F4QUJHRFFJZ0FVRUVhZ3NoQVNBQ0tBSUVJQVpHQkVBZ0FrRUVhaUVKSXdCQklHc2lCU1FBSUFaQnlJSEFBQ0FCYTBFQ2RrRUJhaUFHYWlJS1N3UkFRUUJCQUJETUFRQUxRUVFoQzBFRUlBa29BZ0FpREVFQmRDSU5JQW9nQ2lBTlNSc2lDaUFLUVFSTkd5SU5RUUowSVE0Z0NrR0FnSUNBQWtsQkFuUWhDZ0pBSUF4RkJFQkJBQ0VMREFFTElBVWdERUVDZERZQ0hDQUZJQWtvQWdRMkFoUUxJQVVnQ3pZQ0dDQUZRUWhxSUFvZ0RpQUZRUlJxRUhzZ0JTZ0NDQVJBSUFVb0Fnd2dCU2dDRUJETUFRQUxJQVVvQWd3aENpQUpJQTAyQWdBZ0NTQUtOZ0lFSUFWQklHb2tBQ0FDS0FJSUlRVUxJQU1nQldvZ0NEWUNBQ0FDSUFaQkFXb2lCallDRENBRFFRUnFJUU1nQVVIRmdjQUFSdzBBQ3dzZ0J5QUNLUUlFTndJQUlBZEJDR29nQWtFTWFpZ0NBRFlDQUF3QkN5QUhRUUEyQWdnZ0IwS0FnSUNBd0FBM0FnQUxJQUpCRUdva0FBd0JDeUFHSUFrUXpBRUFDeUFBUVFBMkFtZ2dBRUtBZ0lDQUVEY0NZQU5BRUxnQklnRkJDR29oQWlBQktBS0lBaUlEUWNBQVR3UkFJQUZCa0FKcUlRTUNRQUpBSUFFcEE4Z0NJZzlDQUZjTkFDQUJLQUxRQWtFQVNBMEFJQUVnRDBLQUFuMDNBOGdDSUFNZ0FoQWpEQUVMSUFNZ0FoQm5DMEVBSVFNTElBRWdBMEVCYWpZQ2lBSWdBU0FCS0FJQVFRRnJJZ1UyQWdBZ0FpQURRUUowYWlnQ0FDRUNBa0FnQlEwQUlBRkJCR29pQXlBREtBSUFRUUZySWdNMkFnQWdBdzBBSUFGQjJBSkJDQkRqQVFzZ0FDZ0NhQ0lCSUFBb0FtQkdCRUFnQUVIZ0FHb1FkUXNnQUNnQ1pDQUJhaUFDT2dBQUlBQWdBVUVCYWpZQ2FDQUVRUUZySWdRTkFBc2dBRUdJQVdvZ0FFSG9BR29vQWdBMkFnQWdBQ0FBS1FKZ053T0FBU0FBUVFBMkFwUUJJQUJCQURvQW1BRWdBRUxIbGFhRm9JR0FBVGNDakFFZ0FDZ0NYQ0lDUlEwQ0lBQW9BbGdpQlNnQ0FFRXhSZ1JBSUFBdkFVcEZCRUFnQUVFS093RktDeUFBSUFBdEFGQkJBV282QUZBZ0FFRXNhaUFBUVlBQmFoQTNJQUFnQUMwQWxRRWdBQzBBVG5NNkFFNExJQUJCK0FCcUlnUWdBRUdZQVdvaUF5Z0NBRFlDQUNBQVFmQUFhaUlHSUFCQmtBRnFJZ2NwQXdBM0F3QWdBRUhvQUdvaUNDQUFRWWdCYWlJSktRTUFOd01BSUFBZ0FDa0RnQUUzQTJBQ1FDQUFLQUlNSWdFZ0FDZ0NCRWNFUUNBSktRTUFJUThnQnlrREFDRVFJQU1vQWdBaEJDQUFLQUlJSUFGQkhHeHFJZ01nQUNrRGdBRTNBZ0FnQTBFWWFpQUVOZ0lBSUFOQkVHb2dFRGNDQUNBRFFRaHFJQTgzQWdBTUFRc2dBRUVFYWhCdklBQW9BZ2dnQVVFY2JHb2lBeUFBS1FOZ053SUFJQU5CQ0dvZ0NDa0RBRGNDQUNBRFFSQnFJQVlwQXdBM0FnQWdBMEVZYWlBRUtBSUFOZ0lBQ3lBQUlBRkJBV28yQWd3Z0FFR0FBV3BCQ3hCQ0lBSkJBVVlOQWlBRktBSUVRVEZHQkVBZ0FDOEJTa1VFUUNBQUlBQXZBWkFCT3dGS0N5QUFJQUF0QUZCQkFXbzZBRkFnQUVFc2FpQUFRWUFCYWhBM0lBQWdBQzBBbFFFZ0FDMEFUbk02QUU0TElBQkIrQUJxSWdRZ0FFR1lBV29pQXlnQ0FEWUNBQ0FBUWZBQWFpSUdJQUJCa0FGcUlnY3BBd0EzQXdBZ0FFSG9BR29pQ0NBQVFZZ0JhaUlKS1FNQU53TUFJQUFnQUNrRGdBRTNBMkFDUUNBQUtBSU1JZ0VnQUNnQ0JFY0VRQ0FKS1FNQUlROGdCeWtEQUNFUUlBTW9BZ0FoQkNBQUtBSUlJQUZCSEd4cUlnTWdBQ2tEZ0FFM0FnQWdBMEVZYWlBRU5nSUFJQU5CRUdvZ0VEY0NBQ0FEUVFocUlBODNBZ0FNQVFzZ0FFRUVhaEJ2SUFBb0FnZ2dBVUVjYkdvaUF5QUFLUU5nTndJQUlBTkJDR29nQ0NrREFEY0NBQ0FEUVJCcUlBWXBBd0EzQWdBZ0EwRVlhaUFFS0FJQU5nSUFDeUFBSUFGQkFXbzJBZ3dnQUVHQUFXcEJEQkJDSUFKQkFrWU5BaUFGS0FJSVFURkdCRUFnQUM4QlNrVUVRQ0FBSUFBdkFaQUJPd0ZLQ3lBQUlBQXRBRkJCQVdvNkFGQWdBRUVzYWlBQVFZQUJhaEEzSUFBZ0FDMEFsUUVnQUMwQVRuTTZBRTRMSUFCQitBQnFJZ1FnQUVHWUFXb2lBeWdDQURZQ0FDQUFRZkFBYWlJR0lBQkJrQUZxSWdjcEF3QTNBd0FnQUVIb0FHb2lDQ0FBUVlnQmFpSUpLUU1BTndNQUlBQWdBQ2tEZ0FFM0EyQUNRQ0FBS0FJTUlnRWdBQ2dDQkVjRVFDQUpLUU1BSVE4Z0J5a0RBQ0VRSUFNb0FnQWhCQ0FBS0FJSUlBRkJIR3hxSWdNZ0FDa0RnQUUzQWdBZ0EwRVlhaUFFTmdJQUlBTkJFR29nRURjQ0FDQURRUWhxSUE4M0FnQU1BUXNnQUVFRWFoQnZJQUFvQWdnZ0FVRWNiR29pQXlBQUtRTmdOd0lBSUFOQkNHb2dDQ2tEQURjQ0FDQURRUkJxSUFZcEF3QTNBZ0FnQTBFWWFpQUVLQUlBTmdJQUN5QUFJQUZCQVdvMkFnd2dBRUdBQVdwQkRSQkNJQUpCQTBZTkFpQUZLQUlNUVRGR0JFQWdBQzhCU2tVRVFDQUFJQUF2QVpBQk93RktDeUFBSUFBdEFGQkJBV282QUZBZ0FFRXNhaUFBUVlBQmFoQTNJQUFnQUMwQWxRRWdBQzBBVG5NNkFFNExJQUFvQW9BQklnRUVRQ0FBS0FLRUFTQUJRUUVRNHdFTElBSkJCR3NoQVVFT0lRTkJFQ0VFQTBBZ0FFR0FBV29nQXhCQ0lBRkZEUU1nQkNBRmFpZ0NBRUV4UmdSQUlBQXZBVXBGQkVBZ0FDQUFMd0dRQVRzQlNnc2dBQ0FBTFFCUVFRRnFPZ0JRSUFCQkxHb2dBRUdBQVdvUU55QUFJQUF0QUpVQklBQXRBRTV6T2dCT0N5QUFRZmdBYWlJSUlBQkJtQUZxSWdjb0FnQTJBZ0FnQUVId0FHb2lDU0FBUVpBQmFpSUtLUU1BTndNQUlBQkI2QUJxSWdzZ0FFR0lBV29pRENrREFEY0RBQ0FBSUFBcEE0QUJOd05nQWtBZ0FDZ0NEQ0lHSUFBb0FnUkhCRUFnRENrREFDRVBJQW9wQXdBaEVDQUhLQUlBSVFnZ0FDZ0NDQ0FHUVJ4c2FpSUhJQUFwQTRBQk53SUFJQWRCR0dvZ0NEWUNBQ0FIUVJCcUlCQTNBZ0FnQjBFSWFpQVBOd0lBREFFTElBQkJCR29RYnlBQUtBSUlJQVpCSEd4cUlnY2dBQ2tEWURjQ0FDQUhRUWhxSUFzcEF3QTNBZ0FnQjBFUWFpQUpLUU1BTndJQUlBZEJHR29nQ0NnQ0FEWUNBQXNnQUNBR1FRRnFOZ0lNSUFOQkFXb2hBeUFCUVFGcklRRWdCRUVFYWlJRVFUQkhEUUFMSUFCQmdBRnFRUllRUWlBQUtBSU1JZ0lnQUNnQ0JFWU5Bd3dFQ3lBQUlBQXRBQzA2QUlBQlFmeUJ3QUJCS3lBQVFZQUJha0hzZ2NBQVFhaUN3QUFRaFFFQUMwRUJRYUFmRU13QkFBc2dBaUFDUWR5QndBQVFrUUVBQ3lBQVFRUnFFRzhMSUFBb0FnZ2dBa0VjYkdvaUFTQUFLUUtBQVRjQ0FDQUJRUWhxSUFCQmlBRnFJZ01wQWdBM0FnQWdBVUVRYWlBQVFaQUJhaUlFS1FJQU53SUFJQUZCR0dvZ0FFR1lBV29pQmlnQ0FEWUNBQ0FBSUFKQkFXbzJBZ3dnQUVHQUFXcEJGeEJDSUFBb0Fnd2lBaUFBS0FJRVJnUkFJQUJCQkdvUWJ3c2dBQ2dDQ0NBQ1FSeHNhaUlCSUFBcEFvQUJOd0lBSUFGQkNHb2dBeWtDQURjQ0FDQUJRUkJxSUFRcEFnQTNBZ0FnQVVFWWFpQUdLQUlBTmdJQUlBQWdBa0VCYWpZQ0RDQUFRWUFCYWtFWUVFSWdBQ2dDRENJQ0lBQW9BZ1JHQkVBZ0FFRUVhaEJ2Q3lBQUtBSUlJQUpCSEd4cUlnRWdBQ2tDZ0FFM0FnQWdBVUVJYWlBQVFZZ0JhaUlES1FJQU53SUFJQUZCRUdvZ0FFR1FBV29pQkNrQ0FEY0NBQ0FCUVJocUlBQkJtQUZxSWdZb0FnQTJBZ0FnQUNBQ1FRRnFOZ0lNSUFCQmdBRnFRUmtRUWlBQUtBSU1JZ0lnQUNnQ0JFWUVRQ0FBUVFScUVHOExJQUFvQWdnZ0FrRWNiR29pQVNBQUtRS0FBVGNDQUNBQlFRaHFJQU1wQWdBM0FnQWdBVUVRYWlBRUtRSUFOd0lBSUFGQkdHb2dCaWdDQURZQ0FDQUFJQUpCQVdvMkFnd2dBRUdBQVdwQkdoQkNJQUFvQWd3aUFpQUFLQUlFUmdSQUlBQkJCR29RYndzZ0FDZ0NDQ0FDUVJ4c2FpSUJJQUFwQW9BQk53SUFJQUZCQ0dvZ0FFR0lBV29pQXlrQ0FEY0NBQ0FCUVJCcUlBQkJrQUZxSWdRcEFnQTNBZ0FnQVVFWWFpQUFRWmdCYWlJR0tBSUFOZ0lBSUFBZ0FrRUJhallDRENBQVFZQUJha0ViRUVJZ0FDZ0NEQ0lDSUFBb0FnUkdCRUFnQUVFRWFoQnZDeUFBS0FJSUlBSkJIR3hxSWdFZ0FDa0NnQUUzQWdBZ0FVRUlhaUFES1FJQU53SUFJQUZCRUdvZ0JDa0NBRGNDQUNBQlFSaHFJQVlvQWdBMkFnQWdBQ0FDUVFGcU5nSU1JQUJCZ0FGcVFSd1FRaUFBS0FJTUlnSWdBQ2dDQkVZRVFDQUFRUVJxRUc4TElBQW9BZ2dnQWtFY2JHb2lBU0FBS1FLQUFUY0NBQ0FCUVFocUlBQkJpQUZxSWdNcEFnQTNBZ0FnQVVFUWFpQUFRWkFCYWlJRUtRSUFOd0lBSUFGQkdHb2dBRUdZQVdvaUJpZ0NBRFlDQUNBQUlBSkJBV28yQWd3Z0FFR0FBV3BCSFJCQ0lBQW9BZ3dpQWlBQUtBSUVSZ1JBSUFCQkJHb1Fid3NnQUNnQ0NDQUNRUnhzYWlJQklBQXBBb0FCTndJQUlBRkJDR29nQXlrQ0FEY0NBQ0FCUVJCcUlBUXBBZ0EzQWdBZ0FVRVlhaUFHS0FJQU5nSUFJQUFnQWtFQmFqWUNEQ0FBUVlBQmFrRWVFRUlnQUNnQ0RDSUNJQUFvQWdSR0JFQWdBRUVFYWhCdkN5QUFLQUlJSUFKQkhHeHFJZ0VnQUNrQ2dBRTNBZ0FnQVVFSWFpQUFRWWdCYWlJR0tRSUFOd0lBSUFGQkVHb2dBRUdRQVdvaUJ5a0NBRGNDQUNBQlFSaHFJQUJCbUFGcUlnZ29BZ0EyQWdBZ0FDQUNRUUZxTmdJTUlBQkJnQUZxUVI4UVFpQUFLQUlNSWdNZ0FDZ0NCQ0lFUmdSQUlBQkJCR29RYnlBQUtBSUVJUVFMSUFBb0FnZ2lBaUFEUVJ4c2FpSUJJQUFwQW9BQk53SUFJQUZCR0dvZ0NDZ0NBRFlDQUNBQlFSQnFJQWNwQWdBM0FnQWdBVUVJYWlBR0tRSUFOd0lBSUFBZ0EwRUJhaUlETmdJTUlBQW9BakFoQmlBQUtBSXNJUUVnQUNnQ1ZDSUhCRUFnQlNBSFFRSjBRUVFRNHdFTEVBRWdBUVJBSUFZZ0FVRUJFT01CQ3lBREJFQWdBaUVCQTBBZ0FTZ0NBQ0lGQkVBZ0FVRUVhaWdDQUNBRlFRRVE0d0VMSUFGQkhHb2hBU0FEUVFGcklnTU5BQXNMSUFRRVFDQUNJQVJCSEd4QkJCRGpBUXNnQUVHZ0FXb2tBQXVuSkFJSmZ3RitJd0JCRUdzaUNDUUFBa0FDUUFKQUFrQUNRQUpBQWtBZ0FFSDFBVThFUUNBQVFjMy9lMDhOQnlBQVFRdHFJZ0JCZUhFaEJVR2M2TUFBS0FJQUlnbEZEUVJCQUNBRmF5RURBbjlCQUNBRlFZQUNTUTBBR2tFZklBVkIvLy8vQjBzTkFCb2dCVUVHSUFCQkNIWm5JZ0JyZGtFQmNTQUFRUUYwYTBFK2Fnc2lCMEVDZEVHQTVjQUFhaWdDQUNJQlJRUkFRUUFoQUF3Q0MwRUFJUUFnQlVFWklBZEJBWFpyUVFBZ0IwRWZSeHQwSVFRRFFBSkFJQUVvQWdSQmVIRWlCaUFGU1EwQUlBWWdCV3NpQmlBRFR3MEFJQUVoQWlBR0lnTU5BRUVBSVFNZ0FTRUFEQVFMSUFFb0FoUWlCaUFBSUFZZ0FTQUVRUjEyUVFSeGFrRVFhaWdDQUNJQlJ4c2dBQ0FHR3lFQUlBUkJBWFFoQkNBQkRRQUxEQUVMUVpqb3dBQW9BZ0FpQWtFUUlBQkJDMnBCK0FOeElBQkJDMGtiSWdWQkEzWWlBSFlpQVVFRGNRUkFBa0FnQVVGL2MwRUJjU0FBYWlJQlFRTjBJZ0JCa09iQUFHb2lCQ0FBUVpqbXdBQnFLQUlBSWdBb0FnZ2lBMGNFUUNBRElBUTJBZ3dnQkNBRE5nSUlEQUVMUVpqb3dBQWdBa0YrSUFGM2NUWUNBQXNnQUVFSWFpRURJQUFnQVVFRGRDSUJRUU55TmdJRUlBQWdBV29pQUNBQUtBSUVRUUZ5TmdJRURBY0xJQVZCb09qQUFDZ0NBRTBOQXdKQUFrQWdBVVVFUUVHYzZNQUFLQUlBSWdCRkRRWWdBR2hCQW5SQmdPWEFBR29vQWdBaUFpZ0NCRUY0Y1NBRmF5RURJQUloQVFOQUFrQWdBaWdDRUNJQURRQWdBaWdDRkNJQURRQWdBU2dDR0NFSEFrQUNRQ0FCSUFFb0Fnd2lBRVlFUUNBQlFSUkJFQ0FCS0FJVUlnQWJhaWdDQUNJQ0RRRkJBQ0VBREFJTElBRW9BZ2dpQWlBQU5nSU1JQUFnQWpZQ0NBd0JDeUFCUVJScUlBRkJFR29nQUJzaEJBTkFJQVFoQmlBQ0lnQkJGR29nQUVFUWFpQUFLQUlVSWdJYklRUWdBRUVVUVJBZ0FodHFLQUlBSWdJTkFBc2dCa0VBTmdJQUN5QUhSUTBFSUFFZ0FTZ0NIRUVDZEVHQTVjQUFhaUlDS0FJQVJ3UkFJQWRCRUVFVUlBY29BaEFnQVVZYmFpQUFOZ0lBSUFCRkRRVU1CQXNnQWlBQU5nSUFJQUFOQTBHYzZNQUFRWnpvd0FBb0FnQkJmaUFCS0FJY2QzRTJBZ0FNQkFzZ0FDZ0NCRUY0Y1NBRmF5SUNJQU1nQWlBRFNTSUNHeUVESUFBZ0FTQUNHeUVCSUFBaEFnd0FDd0FMQWtCQkFpQUFkQ0lFUVFBZ0JHdHlJQUVnQUhSeGFDSUJRUU4wSWdCQmtPYkFBR29pQkNBQVFaam13QUJxS0FJQUlnQW9BZ2dpQTBjRVFDQURJQVEyQWd3Z0JDQUROZ0lJREFFTFFaam93QUFnQWtGK0lBRjNjVFlDQUFzZ0FDQUZRUU55TmdJRUlBQWdCV29pQmlBQlFRTjBJZ0VnQldzaUJFRUJjallDQkNBQUlBRnFJQVEyQWdCQm9PakFBQ2dDQUNJREJFQWdBMEY0Y1VHUTVzQUFhaUVCUWFqb3dBQW9BZ0FoQWdKL1Faam93QUFvQWdBaUJVRUJJQU5CQTNaMElnTnhSUVJBUVpqb3dBQWdBeUFGY2pZQ0FDQUJEQUVMSUFFb0FnZ0xJUU1nQVNBQ05nSUlJQU1nQWpZQ0RDQUNJQUUyQWd3Z0FpQUROZ0lJQ3lBQVFRaHFJUU5CcU9qQUFDQUdOZ0lBUWFEb3dBQWdCRFlDQUF3SUN5QUFJQWMyQWhnZ0FTZ0NFQ0lDQkVBZ0FDQUNOZ0lRSUFJZ0FEWUNHQXNnQVNnQ0ZDSUNSUTBBSUFBZ0FqWUNGQ0FDSUFBMkFoZ0xBa0FDUUNBRFFSQlBCRUFnQVNBRlFRTnlOZ0lFSUFFZ0JXb2lCQ0FEUVFGeU5nSUVJQU1nQkdvZ0F6WUNBRUdnNk1BQUtBSUFJZ1pGRFFFZ0JrRjRjVUdRNXNBQWFpRUFRYWpvd0FBb0FnQWhBZ0ovUVpqb3dBQW9BZ0FpQlVFQklBWkJBM1owSWdaeFJRUkFRWmpvd0FBZ0JTQUdjallDQUNBQURBRUxJQUFvQWdnTElRWWdBQ0FDTmdJSUlBWWdBallDRENBQ0lBQTJBZ3dnQWlBR05nSUlEQUVMSUFFZ0F5QUZhaUlBUVFOeU5nSUVJQUFnQVdvaUFDQUFLQUlFUVFGeU5nSUVEQUVMUWFqb3dBQWdCRFlDQUVHZzZNQUFJQU0yQWdBTElBRkJDR29oQXd3R0N5QUFJQUp5UlFSQVFRQWhBa0VDSUFkMElnQkJBQ0FBYTNJZ0NYRWlBRVVOQXlBQWFFRUNkRUdBNWNBQWFpZ0NBQ0VBQ3lBQVJRMEJDd05BSUFBZ0FpQUFLQUlFUVhoeElnUWdCV3NpQmlBRFNTSUhHeUVKSUFBb0FoQWlBVVVFUUNBQUtBSVVJUUVMSUFJZ0NTQUVJQVZKSWdBYklRSWdBeUFHSUFNZ0J4c2dBQnNoQXlBQklnQU5BQXNMSUFKRkRRQWdCVUdnNk1BQUtBSUFJZ0JOSUFNZ0FDQUZhMDl4RFFBZ0FpZ0NHQ0VIQWtBQ1FDQUNJQUlvQWd3aUFFWUVRQ0FDUVJSQkVDQUNLQUlVSWdBYmFpZ0NBQ0lCRFFGQkFDRUFEQUlMSUFJb0FnZ2lBU0FBTmdJTUlBQWdBVFlDQ0F3QkN5QUNRUlJxSUFKQkVHb2dBQnNoQkFOQUlBUWhCaUFCSWdCQkZHb2dBRUVRYWlBQUtBSVVJZ0ViSVFRZ0FFRVVRUkFnQVJ0cUtBSUFJZ0VOQUFzZ0JrRUFOZ0lBQ3lBSFJRMENJQUlnQWlnQ0hFRUNkRUdBNWNBQWFpSUJLQUlBUndSQUlBZEJFRUVVSUFjb0FoQWdBa1liYWlBQU5nSUFJQUJGRFFNTUFnc2dBU0FBTmdJQUlBQU5BVUdjNk1BQVFaem93QUFvQWdCQmZpQUNLQUljZDNFMkFnQU1BZ3NDUUFKQUFrQUNRQUpBSUFWQm9PakFBQ2dDQUNJQlN3UkFJQVZCcE9qQUFDZ0NBQ0lBVHdSQUlBVkJyNEFFYWtHQWdIeHhJZ0pCRUhaQUFDRUFJQWhCQkdvaUFVRUFOZ0lJSUFGQkFDQUNRWUNBZkhFZ0FFRi9SaUlDR3pZQ0JDQUJRUUFnQUVFUWRDQUNHellDQUNBSUtBSUVJZ0ZGQkVCQkFDRUREQW9MSUFnb0Fnd2hCa0d3Nk1BQUlBZ29BZ2dpQTBHdzZNQUFLQUlBYWlJQU5nSUFRYlRvd0FCQnRPakFBQ2dDQUNJQ0lBQWdBQ0FDU1JzMkFnQUNRQUpBUWF6b3dBQW9BZ0FpQWdSQVFZRG13QUFoQUFOQUlBRWdBQ2dDQUNJRUlBQW9BZ1FpQjJwR0RRSWdBQ2dDQ0NJQURRQUxEQUlMUWJ6b3dBQW9BZ0FpQUVFQUlBQWdBVTBiUlFSQVFiem93QUFnQVRZQ0FBdEJ3T2pBQUVIL0h6WUNBRUdNNXNBQUlBWTJBZ0JCaE9iQUFDQUROZ0lBUVlEbXdBQWdBVFlDQUVHYzVzQUFRWkRtd0FBMkFnQkJwT2JBQUVHWTVzQUFOZ0lBUVpqbXdBQkJrT2JBQURZQ0FFR3M1c0FBUWFEbXdBQTJBZ0JCb09iQUFFR1k1c0FBTmdJQVFiVG13QUJCcU9iQUFEWUNBRUdvNXNBQVFhRG13QUEyQWdCQnZPYkFBRUd3NXNBQU5nSUFRYkRtd0FCQnFPYkFBRFlDQUVIRTVzQUFRYmptd0FBMkFnQkJ1T2JBQUVHdzVzQUFOZ0lBUWN6bXdBQkJ3T2JBQURZQ0FFSEE1c0FBUWJqbXdBQTJBZ0JCMU9iQUFFSEk1c0FBTmdJQVFjam13QUJCd09iQUFEWUNBRUhjNXNBQVFkRG13QUEyQWdCQjBPYkFBRUhJNXNBQU5nSUFRZGptd0FCQjBPYkFBRFlDQUVIazVzQUFRZGptd0FBMkFnQkI0T2JBQUVIWTVzQUFOZ0lBUWV6bXdBQkI0T2JBQURZQ0FFSG81c0FBUWVEbXdBQTJBZ0JCOU9iQUFFSG81c0FBTmdJQVFmRG13QUJCNk9iQUFEWUNBRUg4NXNBQVFmRG13QUEyQWdCQitPYkFBRUh3NXNBQU5nSUFRWVRud0FCQitPYkFBRFlDQUVHQTU4QUFRZmptd0FBMkFnQkJqT2ZBQUVHQTU4QUFOZ0lBUVlqbndBQkJnT2ZBQURZQ0FFR1U1OEFBUVlqbndBQTJBZ0JCa09mQUFFR0k1OEFBTmdJQVFaem53QUJCa09mQUFEWUNBRUdrNThBQVFaam53QUEyQWdCQm1PZkFBRUdRNThBQU5nSUFRYXpud0FCQm9PZkFBRFlDQUVHZzU4QUFRWmpud0FBMkFnQkJ0T2ZBQUVHbzU4QUFOZ0lBUWFqbndBQkJvT2ZBQURZQ0FFRzg1OEFBUWJEbndBQTJBZ0JCc09mQUFFR281OEFBTmdJQVFjVG53QUJCdU9mQUFEWUNBRUc0NThBQVFiRG53QUEyQWdCQnpPZkFBRUhBNThBQU5nSUFRY0Rud0FCQnVPZkFBRFlDQUVIVTU4QUFRY2pud0FBMkFnQkJ5T2ZBQUVIQTU4QUFOZ0lBUWR6bndBQkIwT2ZBQURZQ0FFSFE1OEFBUWNqbndBQTJBZ0JCNU9mQUFFSFk1OEFBTmdJQVFkam53QUJCME9mQUFEWUNBRUhzNThBQVFlRG53QUEyQWdCQjRPZkFBRUhZNThBQU5nSUFRZlRud0FCQjZPZkFBRFlDQUVIbzU4QUFRZURud0FBMkFnQkIvT2ZBQUVIdzU4QUFOZ0lBUWZEbndBQkI2T2ZBQURZQ0FFR0U2TUFBUWZqbndBQTJBZ0JCK09mQUFFSHc1OEFBTmdJQVFZem93QUJCZ09qQUFEWUNBRUdBNk1BQVFmam53QUEyQWdCQmxPakFBRUdJNk1BQU5nSUFRWWpvd0FCQmdPakFBRFlDQUVHczZNQUFJQUZCRDJwQmVIRWlBRUVJYXlJQ05nSUFRWkRvd0FCQmlPakFBRFlDQUVHazZNQUFJQU5CS0dzaUJDQUJJQUJyYWtFSWFpSUFOZ0lBSUFJZ0FFRUJjallDQkNBQklBUnFRU2cyQWdSQnVPakFBRUdBZ0lBQk5nSUFEQWdMSUFJZ0JFa2dBU0FDVFhJTkFDQUFLQUlNSWdSQkFYRU5BQ0FFUVFGMklBWkdEUU1MUWJ6b3dBQkJ2T2pBQUNnQ0FDSUFJQUVnQUNBQlNSczJBZ0FnQVNBRGFpRUVRWURtd0FBaEFBSkFBa0FEUUNBRUlBQW9BZ0JIQkVBZ0FDZ0NDQ0lBRFFFTUFnc0xJQUFvQWd3aUIwRUJjUTBBSUFkQkFYWWdCa1lOQVF0QmdPYkFBQ0VBQTBBQ1FDQUNJQUFvQWdBaUJFOEVRQ0FDSUFRZ0FDZ0NCR29pQjBrTkFRc2dBQ2dDQ0NFQURBRUxDMEdzNk1BQUlBRkJEMnBCZUhFaUFFRUlheUlFTmdJQVFhVG93QUFnQTBFb2F5SUpJQUVnQUd0cVFRaHFJZ0EyQWdBZ0JDQUFRUUZ5TmdJRUlBRWdDV3BCS0RZQ0JFRzQ2TUFBUVlDQWdBRTJBZ0FnQWlBSFFTQnJRWGh4UVFocklnQWdBQ0FDUVJCcVNSc2lCRUViTmdJRVFZRG13QUFwQWdBaENpQUVRUkJxUVlqbXdBQXBBZ0EzQWdBZ0JDQUtOd0lJUVl6bXdBQWdCallDQUVHRTVzQUFJQU0yQWdCQmdPYkFBQ0FCTmdJQVFZam13QUFnQkVFSWFqWUNBQ0FFUVJ4cUlRQURRQ0FBUVFjMkFnQWdBRUVFYWlJQUlBZEpEUUFMSUFJZ0JFWU5CeUFFSUFRb0FnUkJmbkUyQWdRZ0FpQUVJQUpySWdCQkFYSTJBZ1FnQkNBQU5nSUFJQUJCZ0FKUEJFQWdBaUFBRUZnTUNBc2dBRUY0Y1VHUTVzQUFhaUVCQW45Qm1PakFBQ2dDQUNJRVFRRWdBRUVEZG5RaUFIRkZCRUJCbU9qQUFDQUFJQVJ5TmdJQUlBRU1BUXNnQVNnQ0NBc2hBQ0FCSUFJMkFnZ2dBQ0FDTmdJTUlBSWdBVFlDRENBQ0lBQTJBZ2dNQndzZ0FDQUJOZ0lBSUFBZ0FDZ0NCQ0FEYWpZQ0JDQUJRUTlxUVhoeFFRaHJJZ1lnQlVFRGNqWUNCQ0FFUVE5cVFYaHhRUWhySWdNZ0JTQUdhaUlBYXlFRklBTkJyT2pBQUNnQ0FFWU5BeUFEUWFqb3dBQW9BZ0JHRFFRZ0F5Z0NCQ0lDUVFOeFFRRkdCRUFnQXlBQ1FYaHhJZ0VRVWlBQklBVnFJUVVnQVNBRGFpSURLQUlFSVFJTElBTWdBa0YrY1RZQ0JDQUFJQVZCQVhJMkFnUWdBQ0FGYWlBRk5nSUFJQVZCZ0FKUEJFQWdBQ0FGRUZnTUJnc2dCVUY0Y1VHUTVzQUFhaUVCQW45Qm1PakFBQ2dDQUNJQ1FRRWdCVUVEZG5RaUJIRkZCRUJCbU9qQUFDQUNJQVJ5TmdJQUlBRU1BUXNnQVNnQ0NBc2hBaUFCSUFBMkFnZ2dBaUFBTmdJTUlBQWdBVFlDRENBQUlBSTJBZ2dNQlF0QnBPakFBQ0FBSUFWcklnRTJBZ0JCck9qQUFFR3M2TUFBS0FJQUlnQWdCV29pQWpZQ0FDQUNJQUZCQVhJMkFnUWdBQ0FGUVFOeU5nSUVJQUJCQ0dvaEF3d0lDMEdvNk1BQUtBSUFJUUFDUUNBQklBVnJJZ0pCRDAwRVFFR282TUFBUVFBMkFnQkJvT2pBQUVFQU5nSUFJQUFnQVVFRGNqWUNCQ0FBSUFGcUlnRWdBU2dDQkVFQmNqWUNCQXdCQzBHZzZNQUFJQUkyQWdCQnFPakFBQ0FBSUFWcUlnUTJBZ0FnQkNBQ1FRRnlOZ0lFSUFBZ0FXb2dBallDQUNBQUlBVkJBM0kyQWdRTElBQkJDR29oQXd3SEN5QUFJQU1nQjJvMkFnUkJyT2pBQUVHczZNQUFLQUlBSWdCQkQycEJlSEVpQVVFSWF5SUNOZ0lBUWFUb3dBQkJwT2pBQUNnQ0FDQURhaUlFSUFBZ0FXdHFRUWhxSWdFMkFnQWdBaUFCUVFGeU5nSUVJQUFnQkdwQktEWUNCRUc0Nk1BQVFZQ0FnQUUyQWdBTUF3dEJyT2pBQUNBQU5nSUFRYVRvd0FCQnBPakFBQ2dDQUNBRmFpSUJOZ0lBSUFBZ0FVRUJjallDQkF3QkMwR282TUFBSUFBMkFnQkJvT2pBQUVHZzZNQUFLQUlBSUFWcUlnRTJBZ0FnQUNBQlFRRnlOZ0lFSUFBZ0FXb2dBVFlDQUFzZ0JrRUlhaUVEREFNTFFRQWhBMEdrNk1BQUtBSUFJZ0FnQlUwTkFrR2s2TUFBSUFBZ0JXc2lBVFlDQUVHczZNQUFRYXpvd0FBb0FnQWlBQ0FGYWlJQ05nSUFJQUlnQVVFQmNqWUNCQ0FBSUFWQkEzSTJBZ1FnQUVFSWFpRUREQUlMSUFBZ0J6WUNHQ0FDS0FJUUlnRUVRQ0FBSUFFMkFoQWdBU0FBTmdJWUN5QUNLQUlVSWdGRkRRQWdBQ0FCTmdJVUlBRWdBRFlDR0FzQ1FDQURRUkJQQkVBZ0FpQUZRUU55TmdJRUlBSWdCV29pQUNBRFFRRnlOZ0lFSUFBZ0Eyb2dBellDQUNBRFFZQUNUd1JBSUFBZ0F4QllEQUlMSUFOQmVIRkJrT2JBQUdvaEFRSi9RWmpvd0FBb0FnQWlCRUVCSUFOQkEzWjBJZ054UlFSQVFaam93QUFnQXlBRWNqWUNBQ0FCREFFTElBRW9BZ2dMSVFRZ0FTQUFOZ0lJSUFRZ0FEWUNEQ0FBSUFFMkFnd2dBQ0FFTmdJSURBRUxJQUlnQXlBRmFpSUFRUU55TmdJRUlBQWdBbW9pQUNBQUtBSUVRUUZ5TmdJRUN5QUNRUWhxSVFNTElBaEJFR29rQUNBREM4WUdBUWgvQWtBQ1FDQUJJQUJCQTJwQmZIRWlBeUFBYXlJSVNRMEFJQUVnQ0dzaUJrRUVTUTBBSUFaQkEzRWhCMEVBSVFFQ1FDQUFJQU5HSWdrTkFBSkFJQUFnQTJzaUJFRjhTd1JBUVFBaEF3d0JDMEVBSVFNRFFDQUJJQUFnQTJvaUFpd0FBRUcvZjBwcUlBSkJBV29zQUFCQnYzOUthaUFDUVFKcUxBQUFRYjkvU21vZ0FrRURhaXdBQUVHL2YwcHFJUUVnQTBFRWFpSUREUUFMQ3lBSkRRQWdBQ0FEYWlFQ0EwQWdBU0FDTEFBQVFiOS9TbW9oQVNBQ1FRRnFJUUlnQkVFQmFpSUVEUUFMQ3lBQUlBaHFJUU1DUUNBSFJRMEFJQU1nQmtGOGNXb2lBQ3dBQUVHL2Ywb2hCU0FIUVFGR0RRQWdCU0FBTEFBQlFiOS9TbW9oQlNBSFFRSkdEUUFnQlNBQUxBQUNRYjkvU21vaEJRc2dCa0VDZGlFR0lBRWdCV29oQkFOQUlBTWhBQ0FHUlEwQ1FjQUJJQVlnQmtIQUFVOGJJZ1ZCQTNFaEJ5QUZRUUowSVFOQkFDRUNJQVpCQkU4RVFDQUFJQU5COEFkeGFpRUlJQUFoQVFOQUlBSWdBU2dDQUNJQ1FYOXpRUWQySUFKQkJuWnlRWUdDaEFoeGFpQUJLQUlFSWdKQmYzTkJCM1lnQWtFR2RuSkJnWUtFQ0hGcUlBRW9BZ2dpQWtGL2MwRUhkaUFDUVFaMmNrR0Jnb1FJY1dvZ0FTZ0NEQ0lDUVg5elFRZDJJQUpCQm5aeVFZR0NoQWh4YWlFQ0lBRkJFR29pQVNBSVJ3MEFDd3NnQmlBRmF5RUdJQUFnQTJvaEF5QUNRUWgyUWYrQi9BZHhJQUpCLzRIOEIzRnFRWUdBQkd4QkVIWWdCR29oQkNBSFJRMEFDd0ovSUFBZ0JVSDhBWEZCQW5ScUlnQW9BZ0FpQVVGL2MwRUhkaUFCUVFaMmNrR0Jnb1FJY1NJQklBZEJBVVlOQUJvZ0FTQUFLQUlFSWdGQmYzTkJCM1lnQVVFR2RuSkJnWUtFQ0hGcUlnRWdCMEVDUmcwQUdpQUFLQUlJSWdCQmYzTkJCM1lnQUVFR2RuSkJnWUtFQ0hFZ0FXb0xJZ0ZCQ0haQi80RWNjU0FCUWYrQi9BZHhha0dCZ0FSc1FSQjJJQVJxRHdzZ0FVVUVRRUVBRHdzZ0FVRURjU0VEQWtBZ0FVRUVTUVJBREFFTElBRkJmSEVoQlFOQUlBUWdBQ0FDYWlJQkxBQUFRYjkvU21vZ0FVRUJhaXdBQUVHL2YwcHFJQUZCQW1vc0FBQkJ2MzlLYWlBQlFRTnFMQUFBUWI5L1Ntb2hCQ0FGSUFKQkJHb2lBa2NOQUFzTElBTkZEUUFnQUNBQ2FpRUJBMEFnQkNBQkxBQUFRYjkvU21vaEJDQUJRUUZxSVFFZ0EwRUJheUlERFFBTEN5QUVDN1lXQWhWL0JINGpBRUdRQkdzaUF5UUFJd0JCRUdzaUVpUUFJQklnQURvQUQwSEE0Y0FBSUJKQkQyb1FQQ0VaUWJEaHdBQW9BZ0FpQlVHSUFtc2hCa0cwNGNBQUtBSUFJZ1FnR2FkeElRSWdHVUlaaUVML0FJTkNnWUtFaUpDZ3dJQUJmaUVhSUFCQi93RnhJUXdnQTBHSUFtb2lEd0ovQWtBRFFBSkFJQUlnQldvcEFBQWlHQ0FhaFNJWFFuK0ZJQmRDZ1lLRWlKQ2d3SUFCZllOQ2dJR0NoSWlRb01DQWY0TWlGMUJGQkVBRFFDQUdRUUFnRjNxblFRTjJJQUpxSUFSeGF5SUtRWWdDYkdvdEFBQWdERVlOQWlBWFFnRjlJQmVESWhkUVJRMEFDd3NnR0NBWVFnR0dnMEtBZ1lLRWlKQ2d3SUIvZzFCRkRRSWdBaUFIUVFocUlnZHFJQVJ4SVFJTUFRc0xJQThnQURvQURTQVBRUUU2QUF3Z0QwR3c0Y0FBTmdJSUlBOGdCU0FLUVlnQ2JHbzJBZ1JCQUF3QkMwRzQ0Y0FBS0FJQVJRUkFRUUFoQWtFQUlRY2pBRUVnYXlJUkpBQUNRQUpBQWtBQ1FFRzg0Y0FBS0FJQUlneEJBV29pQlNBTVR3UkFRYlRod0FBb0FnQWlDaUFLUVFGcUlnMUJBM1lpQmtFSGJDQUtRUWhKR3lJSlFRRjJJQVZKQkVBQ1FBSkFBbjhnQlNBSlFRRnFJQVVnQ1VzYklnSkJDRThFUUVGL0lBSkJBM1JCQjI1QkFXdG5ka0VCYWlBQ1FmLy8vLzhCVFEwQkdoQ2pBU0FSS0FJWUdnd0pDMEVFUVFnZ0FrRUVTUnNMSWdLdFFvZ0NmaUlYUWlDSXB3MEFJQmVuSWdRZ0FrRUlhaUlHYWlJRklBUkpEUUFnQlVINS8vLy9CMGtOQVFzUW93RWdFU2dDQ0JvTUJndEIrZVBBQUMwQUFCb2dCVUVJRU5jQklnbEZCRUFnQlJERkFTQVJLQUlRR2d3R0N5QUVJQWxxUWY4QklBWVE5UUVoQ1NBQ1FRRnJJZzRnQWtFRGRrRUhiQ0FDUVFsSkd5RVFJQXhGQkVCQnNPSEFBQ2dDQUNFR0RBVUxJQWxCQ0dvaEUwR3c0Y0FBS0FJQUlnWkJpQUpySVJRZ0Jpa0RBRUovaFVLQWdZS0VpSkNnd0lCL2d5RVhJQVloQkNBTUlRVURRQ0FYVUFSQUlBUWhBZ05BSUFkQkNHb2hCeUFDS1FNSUlBSkJDR29pQkNFQ1FuK0ZRb0NCZ29TSWtLREFnSCtESWhkUURRQUxDeUFKSUE1QndPSEFBQ0FVSUJkNnAwRURkaUFIYWlJVlFmaDliR29RUEtjaUMzRWlDR29wQUFCQ2dJR0NoSWlRb01DQWY0TWlHRkFFUUVFSUlRSURRQ0FDSUFocUlRZ2dBa0VJYWlFQ0lBa2dDQ0FPY1NJSWFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJWVVBMEFDd3NnRjBJQmZTQVhneUVYSUFrZ0dIcW5RUU4ySUFocUlBNXhJZ0pxTEFBQVFRQk9CRUFnQ1NrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklRSUxJQUlnQ1dvZ0MwRVpkaUlJT2dBQUlCTWdBa0VJYXlBT2NXb2dDRG9BQUNBSklBSkJmM05CaUFKc2FpQUdJQlZCZjNOQmlBSnNha0dJQWhEM0FSb2dCVUVCYXlJRkRRQUxEQVFMUWJEaHdBQW9BZ0FoQkFKQUlBWWdEVUVIY1VFQVIyb2lCVVVOQUNBRlFRRkhCRUFnQlVIKy8vLy9BM0VoQndOQUlBSWdCR29pQmlBR0tRTUFJaGRDZjRWQ0I0aENnWUtFaUpDZ3dJQUJneUFYUXYvKy9mdjM3OSsvL3dDRWZEY0RBQ0FHUVFocUlnWWdCaWtEQUNJWFFuK0ZRZ2VJUW9HQ2hJaVFvTUNBQVlNZ0YwTC8vdjM3OSsvZnYvOEFoSHczQXdBZ0FrRVFhaUVDSUFkQkFtc2lCdzBBQ3dzZ0JVRUJjVVVOQUNBQ0lBUnFJZ0lnQWlrREFDSVhRbitGUWdlSVFvR0NoSWlRb01DQUFZTWdGMEwvL3YzNzkrL2Z2LzhBaEh3M0F3QUxJQTFCQ0U4RVFDQUVJQTFxSUFRcEFBQTNBQUFNQWdzZ0JFRUlhaUFFSUEwUTlnRWFJQTBOQVVFQUlRa01BZ3NRb3dFZ0VTZ0NBQm9NQXdzZ0JFRUlhaUVOSUFSQmlBSnJJUk1nQkNFRlFRQWhBZ05BQWtBZ0JDQUNJZ1pxSWc0dEFBQkJnQUZIRFFBZ0V5QUdRZmg5YkdvaEZDQUVJQVpCZjNOQmlBSnNhaUVWQWtBRFFDQUtRY0Rod0FBZ0ZCQThweUlRY1NJSElRZ2dCQ0FIYWlrQUFFS0FnWUtFaUpDZ3dJQi9neUlYVUFSQVFRZ2hBZ05BSUFJZ0NHb2hDQ0FDUVFocUlRSWdCQ0FJSUFweElnaHFLUUFBUW9DQmdvU0lrS0RBZ0grREloZFFEUUFMQ3lBRUlCZDZwMEVEZGlBSWFpQUtjU0lDYWl3QUFFRUFUZ1JBSUFRcEF3QkNnSUdDaElpUW9NQ0FmNE42cDBFRGRpRUNDeUFDSUFkcklBWWdCMnR6SUFweFFRaEpEUUVnQWlBRWFpSUhMUUFBSUFjZ0VFRVpkaUlIT2dBQUlBMGdBa0VJYXlBS2NXb2dCem9BQUVIL0FVY0VRRUg0ZlNFSElBUWdBa0g0Zld4cUlSQURRQ0FGSUFkcUlnSXRBQUFoQ3lBQ0lBY2dFR29pQ0MwQUFEb0FBQ0FJSUFzNkFBQWdBa0VCYWlJTExRQUFJUllnQ3lBSVFRRnFJZ3N0QUFBNkFBQWdDeUFXT2dBQUlBSkJBbW9pQ3kwQUFDRVdJQXNnQ0VFQ2FpSUxMUUFBT2dBQUlBc2dGam9BQUNBQ1FRTnFJZ0l0QUFBaEN5QUNJQWhCQTJvaUFpMEFBRG9BQUNBQ0lBczZBQUFnQjBFRWFpSUhEUUFMREFFTEN5QU9RZjhCT2dBQUlBMGdCa0VJYXlBS2NXcEIvd0U2QUFBZ0JDQUNRWDl6UVlnQ2JHb2dGVUdJQWhEM0FSb01BUXNnRGlBUVFSbDJJZ0k2QUFBZ0RTQUdRUWhySUFweGFpQUNPZ0FBQ3lBR1FRRnFJUUlnQlVHSUFtc2hCU0FHSUFwSERRQUxDMEc0NGNBQUlBa2dER3MyQWdBTUFRdEJ0T0hBQUNBT05nSUFRYkRod0FBZ0NUWUNBRUc0NGNBQUlCQWdER3MyQWdBZ0NrVU5BQ0FLSUExQmlBSnNJZ0pxUVFscUlnVkZEUUFnQmlBQ2F5QUZRUWdRNHdFTElCRkJJR29rQUFzZ0R5QUFPZ0FVSUE5QnNPSEFBRFlDRUNBUElCazNBd2hCQVFzMkFnQWdFa0VRYWlRQUFrQWdBeWdDaUFKRkJFQWdBeWdDakFJaEJDQURRZUFBYWhCTFFlRG93QUFDZmtIWTZNQUFLUU1BVUVVRVFFSGc2TUFBS1FNQVFnRjhEQUVMUWVqb3dBQkNBamNEQUVIWTZNQUFRZ0UzQXdCQ0FnczNBd0FnQXlnQzlBRWhBU0FES0FMNEFTSUNCRUFnQVNFQUEwQWdBQ2dDQUNJRkJFQWdBRUVFYWlnQ0FDQUZRUUVRNHdFTElBQkJIR29oQUNBQ1FRRnJJZ0lOQUFzTElBTW9BdkFCSWdBRVFDQUJJQUJCSEd4QkJCRGpBUXNDUUNBREtBS3NBU0lBUlEwQUlBQWdBRUVCZEVFSmFrRjRjU0lCYWtFSmFpSUFSUTBBSUFNb0FxZ0JJQUZySUFCQkNCRGpBUXNDUUNBREtBTFVBU0lBUlEwQUlBQWdBRUVVYkVFYmFrRjRjU0lCYWtFSmFpSUFSUTBBSUFNb0F0QUJJQUZySUFCQkNCRGpBUXNDUUNBREtBSmtJZ0JGRFFBZ0FDQUFRUVpzUVExcVFYaHhJZ0ZxUVFscUlnQkZEUUFnQXlnQ1lDQUJheUFBUVFnUTR3RUxJQU1vQW9RQklnQkZEUUVnQUNBQVFRSjBRUXRxUVhoeElnRnFRUWxxSWdCRkRRRWdBeWdDZ0FFZ0FXc2dBRUVJRU9NQkRBRUxJQU10QUp3Q0lRWWdBeWdDbUFJaEJTQURLUU9RQWlFWUlBTkI0QUJxRUVzQ2ZrSFk2TUFBS1FNQVVFVUVRRUhvNk1BQUtRTUFJUmRCNE9qQUFDa0RBQXdCQzBJQ0lSZEI2T2pBQUVJQ053TUFRZGpvd0FCQ0FUY0RBRUlCQ3lFWklBTkJFR3BCd0lyQUFDa0RBRGNEQUNBRFFUaHFRZ0EzQXdBZ0EwRStha0lBTndFQUlBTWdHVGNER0VIZzZNQUFJQmxDQVh3M0F3QWdBMEgvL3dNN0FWZ2dBMElFTndOUUlBTkJBRG9BV2lBRFFnQTNBMGdnQTBJQU53TXdJQU5CTWpZQ0tDQURJQmMzQXlBZ0F5QUFPZ0NCQWlBRElBRTZBSUFDSUFOQnVJckFBQ2tEQURjRENDQURRWThDYWlBRFFRaHFRWUFDRVBjQkdpQUZLQUlBSWdFZ0JTZ0NCQ0lFSUJpbklneHhJZ0pxS1FBQVFvQ0Jnb1NJa0tEQWdIK0RJaGRRQkVCQkNDRUFBMEFnQUNBQ2FpRUNJQUJCQ0dvaEFDQUJJQUlnQkhFaUFtb3BBQUJDZ0lHQ2hJaVFvTUNBZjRNaUYxQU5BQXNMSUFFZ0YzcW5RUU4ySUFKcUlBUnhJZ0JxTEFBQUlnSkJBRTRFUUNBQklBRXBBd0JDZ0lHQ2hJaVFvTUNBZjRONnAwRURkaUlBYWkwQUFDRUNDeUFBSUFGcUlBeEJHWFlpRERvQUFDQUJJQUJCQ0dzZ0JIRnFRUWhxSUF3NkFBQWdCU0FGS0FJSUlBSkJBWEZyTmdJSUlBRWdBRUg0Zld4cUlnUkJpQUpySUFZNkFBQWdCRUdIQW1zZ0EwR0lBbXBCaHdJUTl3RWFJQVVnQlNnQ0RFRUJhallDREFzZ0EwR1FCR29rQUNBRVFZQUNhd3U0TmdJV2Z3bCtJd0JCNEFCcklnd2tBQ01BUWVBQWF5SUNKQUFnQWlBQk5nSU1BbjhDUUNBQVFmQUFhaUlIS0FJTVJRMEFJQWRCRUdvaUNDQUNRUXhxRURzaEdDQUhLQUlBSWdaQkZHc2hDaUFIS0FJRUlnUWdHS2R4SVFVZ0dFSVppRUwvQUlOQ2dZS0VpSkNnd0lBQmZpRWFBMEFDUUNBRklBWnFLUUFBSWhrZ0dvVWlHRUovaFNBWVFvR0NoSWlRb01DQUFYMkRRb0NCZ29TSWtLREFnSCtESWhoUVJRUkFBMEFnQ2lBWWVxZEJBM1lnQldvZ0JIRkJiR3hxS0FJQUlBRkdEUUlnR0VJQmZTQVlneUlZVUVVTkFBc0xJQmtnR1VJQmhvTkNnSUdDaElpUW9NQ0FmNE5RUlEwQ0lBVWdBMEVJYWlJRGFpQUVjU0VGREFFTEN5QUNJQUUyQWpnZ0JDQUlJQUpCT0dvUU95SVlwM0VoQlNBWVFobUlRdjhBZzBLQmdvU0lrS0RBZ0FGK0lScEJBQ0VEQWtBRFFDQUZJQVpxS1FBQUloa2dHb1VpR0VKL2hTQVlRb0dDaElpUW9NQ0FBWDJEUW9DQmdvU0lrS0RBZ0grREloaFFSUVJBQTBBZ0NrRUFJQmg2cDBFRGRpQUZhaUFFY1dzaUNFRVViR29vQWdBZ0FVWU5BeUFZUWdGOUlCaURJaGhRUlEwQUN3c2dHU0FaUWdHR2cwS0FnWUtFaUpDZ3dJQi9nMUFFUUNBRklBTkJDR29pQTJvZ0JIRWhCUXdCQ3d0QmxJYkFBQkRuQVFBTElBWWdDRUVVYkdvaUJFRVVheUlHUVJGcUlRb2dCa0VFYWlJSUtBSUFJUVZCQUNFREFrQWdCa0VRYWlJR0xRQUFSUTBBSUFvdEFBQkZEUUFnQkVFVWF5SURRUWhxS0FJQUlBVnJJQU5CRG1vdkFRQWdBMEVNYWk4QkFHdEIvLzhEY1VZaEF3c2dBaUFET2dBVElBSkJCVFlDSkNBQ1FjeUd3QUEyQWlBZ0FrSUZOd0lzSUFJZ0NxMUNnSUNBZ09BQWhEY0RXQ0FDSUFhdFFvQ0FnSURnQUlRM0ExQWdBaUFFUVF4cnJVS0FnSUNBMEFDRU53TklJQUlnQ0sxQ2dJQ0FnTkFBaERjRFFDQUNJQUpCRTJxdFFvQ0FnSURnQUlRM0F6Z2dBaUFDUVRocU5nSW9JQUpCRkdvZ0FrRWdhaEJLSUFJb0FoUWlBd1JBSUFJb0FoZ2dBMEVCRU9NQkN5QUNMUUFUUVFCSERBRUxRUUFoQlVFQUN5RURJQXdnQlRZQ0JDQU1JQU02QUFBZ0FrSGdBR29rQUFKQUFrQUNRQ0FNTFFBQVJRMEFJQXdvQWdRaEZTQU1JQUUyQWlBQ1FBSkFJQUFvQW54RkRRQWdBRUdBQVdvZ0RFRWdhaEE3SVJnZ0FDZ0NjQ0lEUVJScklRUWdBQ2dDZENJRklCaW5jU0VDSUJoQ0dZaEMvd0NEUW9HQ2hJaVFvTUNBQVg0aEdnTkFJQUlnQTJvcEFBQWlHU0FhaFNJWVFuK0ZJQmhDZ1lLRWlKQ2d3SUFCZllOQ2dJR0NoSWlRb01DQWY0TWlHRkJGQkVBRFFDQUVRUUFnR0hxblFRTjJJQUpxSUFWeGF5SUdRUlJzYWlnQ0FDQUJSZzBFSUJoQ0FYMGdHSU1pR0ZCRkRRQUxDeUFaSUJsQ0FZYURRb0NCZ29TSWtLREFnSCtEVUVVTkFTQUNJQWxCQ0dvaUNXb2dCWEVoQWd3QUN3QUxRWlNHd0FBUTV3RUFDeUFESUFaQkZHeHFRUlJySWdKQkNHb29BZ0FoQ3dKQUFuOENRQUpBQWtBQ1FDQUNRUVJxS0FJQUlncEJ1QmROQkVBZ0FDZ0NtQUVpQlVVTkFTQUFLQUtVQVNFSkRBUUxJQW9nQUNnQ21BRWlCVThOQWlBQUtBS1VBU0lKSUFwQkhHeHFJZ0l2QVJBZ0FrRU1heThCQUd0Qi8vOERjVUhRRDAwTkF5QUZJQXRORFFFZ0RFRUNOZ0lrSUF4Qm1JWEFBRFlDSUNBTVFnSTNBaXdnRENBTVFjZ0FhcTFDZ0lDQWdOQUFoRGNET0NBTUlBVTJBa2dnRENBSklBdEJIR3hxSWdGQkVHcXRRb0NBZ0lEQUFJUTNBMEFnRENBTVFUaHFOZ0lvSUF4QkZHb2dERUVnYWhCS0lBd29BaFFpQWdSQUlBd29BaGdnQWtFQkVPTUJDeUFBSUFFdEFCTWdBUzBBRWlBQkx3RVFFRGdnREVFQU5nSUlRUVFNQkF0QnZJVEFBQkRuQVFBTElBc2dCVUhzaE1BQUVKRUJBQXNnQ2lBRlFheUV3QUFRa1FFQUMwRUFJUVlqQUVIUUFHc2lBaVFBSUFJZ0FUWUNBQ0FDSUFjb0Fnd2lBellDQkNBQ0FuOENRQ0FEUlEwQUlBZEJFR29nQWhBN0lSZ2dCeWdDQUNJSVFSUnJJUTRnQnlnQ0JDSUVJQmluY1NFRElCaENHWWhDL3dDRFFvR0NoSWlRb01DQUFYNGhHZ05BSUFNZ0NHb3BBQUFpR1NBYWhTSVlRbitGSUJoQ2dZS0VpSkNnd0lBQmZZTkNnSUdDaElpUW9NQ0FmNE1pR0ZCRkJFQURRRUVCSUFFZ0RpQVllcWRCQTNZZ0Eyb2dCSEZCYkd4cUtBSUFSZzBFR2lBWVFnRjlJQmlESWhoUVJRMEFDd3NnR1NBWlFnR0dnMEtBZ1lLRWlKQ2d3SUIvZzFCRkRRRWdBeUFHUVFocUlnWnFJQVJ4SVFNTUFBc0FDMEVBQ3pvQUN5QUNRVEJxSVFRZ0IwRVFhaUFDRURzaEdDQUhLQUlBSWdaQkZHc2hFU0FIS0FJRUlnZ2dHS2R4SVFNZ0dFSVppRUwvQUlOQ2dZS0VpSkNnd0lBQmZpRWFJQUlvQWdBaEQwRUFJUTRDUUFKQUEwQWdBeUFHYWlrQUFDSVpJQnFGSWhoQ2Y0VWdHRUtCZ29TSWtLREFnQUY5ZzBLQWdZS0VpSkNnd0lCL2d5SVlVRVVFUUFOQUlBOGdFVUVBSUJoNnAwRURkaUFEYWlBSWNTSVFheUlOUVJSc2FpZ0NBRVlOQXlBWVFnRjlJQmlESWhoUVJRMEFDd3NnR1NBWlFnR0dnMEtBZ1lLRWlKQ2d3SUIvZzFBRVFDQURJQTVCQ0dvaURtb2dDSEVoQXd3QkN3c2dCRUVDT2dBUkRBRUxRWUFCSVFNZ0JpQVFRUlJzUVJSdElnNXFJaEVwQUFBaUdDQVlRZ0dHZzBLQWdZS0VpSkNnd0lCL2czcW5RUU4ySUFZZ0RrRUlheUFJY1dvaUNDa0FBQ0lZSUJoQ0FZYURRb0NCZ29TSWtLREFnSCtEZWFkQkEzWnFRUWROQkVBZ0J5QUhLQUlJUVFGcU5nSUlRZjhCSVFNTElCRWdBem9BQUNBSVFRaHFJQU02QUFBZ0J5QUhLQUlNUVFGck5nSU1JQVFnQmlBTlFSUnNha0VVYXlJREtRSUFOd0lBSUFSQkNHb2dBMEVJYWlrQ0FEY0NBQ0FFUVJCcUlBTkJFR29vQWdBMkFnQUxJQUpCQXpZQ0hDQUNRZGlJd0FBMkFoZ2dBa0lETndJa0lBSWdBa0VMYXExQ2dJQ0FnT0FBaERjRFFDQUNJQUpCekFCcXJVS0FnSUNBMEFDRU53TTRJQUlnQWtFRWFxMUNnSUNBZ05BQWhEY0RNQ0FDSUFjb0FndzJBa3dnQWlBRU5nSWdJQUpCREdvZ0FrRVlhaEJLSUFJb0Fnd2lBd1JBSUFJb0FoQWdBMEVCRU9NQkN5QUNRZEFBYWlRQUlBRWdCVUVjYkNBSmFrRVFheWdDQUVjRVFDTUFRYkFCYXlJRUpBQWdCQ0FMSUFwclFRRnFOZ0lNSUFRZ0FUWUNDQ0FIS0FJQUlna3BBd0FoR0NBRUlBY29BZ3dpQ0RZQ0tDQUVJQWsyQWlBZ0JDQUpRUWhxSWdJMkFoZ2dCQ0FKSUFjb0FnUnFRUUZxTmdJY0lBUWdHRUovaFVLQWdZS0VpSkNnd0lCL2d6Y0RFQ0FFUVFFMkFud2dCRUgwaHNBQU5nSjRJQVJDQVRjQ2hBRWdCQ0FFUVJCcXJVS0FnSUNBOEFDRU53TmdJQVFnQkVIZ0FHb2lBVFlDZ0FFZ0JFRXdhaUFFUWZnQWFpSURFRW9nQkVFQ05nSjhJQVJCaUlmQUFEWUNlQ0FFUWdJM0FvUUJJQVFnQkVFSWFxMUNnSUNBZ05BQWhDSVpOd05vSUFRZ0JFRU1hcTFDZ0lDQWdOQUFoQ0lhTndOZ0lBUWdBVFlDZ0FFZ0JFRThhaUFERUVvZ0JDZ0NQQ0lCQkVBZ0JDZ0NRQ0FCUVFFUTR3RUxJQWdFUUNBRVFUQnFyVUtBZ0lDQWdBR0VJUnNnQ1NrREFFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lFWUlBUkJ6QUJxSVFNZ0JFSFlBR29oQlFOQUlCaFFCRUFnQWlFQkEwQWdDVUdnQVdzaENTQUJLUU1BSUFGQkNHb2lBaUVCUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJaGhRRFFBTEN5QVlRZ0Y5SVNBQ1FDQUpJQmg2cDBFRGRrRnNiR29pQjBFVWF5Z0NBQ0lCSUFRb0FnZ2lCa1lnQVNBR2EwRzcvd0ZMY2cwQUlBZEJFR3NpRHExQ2dJQ0FnTkFBaENFY0lBZEJCbXV0UW9DQWdJREFBSVFoSFNBSFFRaHJyVUtBZ0lDQXdBQ0VJUjRnQjBFTWF5SVJyVUtBZ0lDQTBBQ0VJUjhDUUFKQUlBNG9BZ0FnQkNnQ0RFOEVRQ0FFUVFjMkFtUWdCRUc4aDhBQU5nSmdJQVJDQnpjQ2JDQUVJQnMzQTZnQklBUWdIVGNEb0FFZ0JDQWVOd09ZQVNBRUlCODNBNUFCSUFRZ0hEY0RpQUVnQkNBYU53T0FBU0FFSUJrM0EzZ2dCQ0FFUWZnQWFqWUNhQ0FFUWRRQWFpQUVRZUFBYWhCS0lBVWhBU0FFS0FKVUlnWU5BUXdDQ3lBRVFRYzJBbVFnQkVHTWlNQUFOZ0pnSUFSQ0J6Y0NiQ0FFSUJzM0E2Z0JJQVFnSFRjRG9BRWdCQ0FlTndPWUFTQUVJQjgzQTVBQklBUWdIRGNEaUFFZ0JDQWFOd09BQVNBRUlCazNBM2dnQkNBRVFmZ0FhallDYUNBRVFjZ0FhaUFFUWVBQWFoQktJQU1oQVNBRUtBSklJZ1pGRFFFTElBRW9BZ0FnQmtFQkVPTUJDeUFFS0FJTUlRRWdCMEVFYXkwQUFBUkFJQTRnRGlnQ0FDQUJhellDQUFzZ0IwRURheTBBQUVVTkFDQVJJQkVvQWdBZ0FXczJBZ0FMSUJnZ0lJTWhHQ0FJUVFGcklnZ05BQXNMSUFRb0FqQWlBUVJBSUFRb0FqUWdBVUVCRU9NQkN5QUVRYkFCYWlRQUN5QUtJQUFvQXBnQklnRlBEUU1nQVNBTFRRUkFJQXNnQVVIY2hNQUFFSkVCQUFzZ0NpQUxRUUZxSWdKTERRUWdBQ0FLTmdLWUFTQU1JQUJCa0FGcU5nSlVJQXdnQWpZQ1dDQU1JQUVnQW1zMkFsd2dEQ0FBS0FLVUFTSUJJQXBCSEd4cU5nSk1JQXdnQVNBQ1FSeHNhallDVUNBTVFRaHFJUXBCQUNFSkl3QkJRR29pQVNRQUFrQUNRQUpBSUF4QnpBQnFJZ01vQWdBaUJDQURLQUlFSWdWR0JFQWdDa0VBTmdJSUlBcENnSUNBZ01BQU53SUFEQUVMSUFNZ0JFRWNhaUlDTmdJQUlBRkJHR29nQkVFTWFpa0NBRGNEQUNBQlFTQnFJQVJCRkdvcEFnQTNBd0FnQVNBRUtRSUVOd01RSUFRb0FnQWlDRUdBZ0lDQWVFY05BU0FLUVFBMkFnZ2dDa0tBZ0lDQXdBQTNBZ0FnQWlBRlJnMEFBMEFnQWlnQ0FDSUVRWUNBZ0lCNFJnMEJJQVFFUUNBQ0tBSUVJQVJCQVJEakFRc2dBa0VjYWlJQ0lBVkhEUUFMQ3lBRFFvU0FnSURBQURjQ0FDQURFR1FNQVFzQ1FBSkFBa0JCQXlBRklBSnJJZ2RCSEc0aUJpQUdRUU5ORzBFQmFpSUxRUnhzSWdaQkFFZ2dCMEhVLy8vL0IwdHlEUUJCK2VQQUFDMEFBQnBCQkNFSklBWkJCQkRYQVNJSFJRMEFJQWNnQ0RZQ0FDQUhJQUVwQXhBM0FnUWdCMEVNYWlBQlFSaHFLUU1BTndJQUlBZEJGR29nQVVFZ2Fpa0RBRGNDQUNBQlFRRTJBZ3dnQVNBSE5nSUlJQUVnQ3pZQ0JDQURLQUlJSVFzZ0F5Z0NEQ0VSSUFNb0FoQWhEZ0pBSUFJZ0JVWU5BQ0FGSUFSclFUaHJJUWtnQVVFd2FpRVBJQUZCT0dvaEVFRWNJUUpCQVNFR0EwQWdEeUFDSUFScUlnaEJER29wQWdBM0F3QWdFQ0FJUVJScUtRSUFOd01BSUFFZ0NFRUVhaWtDQURjREtBSkFJQWdvQWdBaUZrR0FnSUNBZUVjRVFDQUdJQUVvQWdSSERRRWpBRUVnYXlJREpBQWdCaUFKUVJ4dVFRRnFJQVpxSWcxTEJFQkJBRUVBRU13QkFBdEJCQ0VTUVFRZ0FVRUVhaUlIS0FJQUloTkJBWFFpRkNBTklBMGdGRWtiSWcwZ0RVRUVUUnNpRkVFY2JDRVhJQTFCcFpMSkpFbEJBblFoRFFKQUlCTkZCRUJCQUNFU0RBRUxJQU1nRTBFY2JEWUNIQ0FESUFjb0FnUTJBaFFMSUFNZ0VqWUNHQ0FEUVFocUlBMGdGeUFEUVJScUVIc2dBeWdDQ0FSQUlBTW9BZ3dnQXlnQ0VCRE1BUUFMSUFNb0Fnd2hEU0FISUJRMkFnQWdCeUFOTmdJRUlBTkJJR29rQUNBQktBSUlJUWNNQVFzZ0NFRWNhaUlDSUFWR0RRSURRQ0FDS0FJQUlnTkJnSUNBZ0hoR0RRTWdBd1JBSUFJb0FnUWdBMEVCRU9NQkN5QUNRUnhxSWdJZ0JVY05BQXNNQWdzZ0FpQUhhaUlESUJZMkFnQWdBMEVFYWlBQktRTW9Od0lBSUFOQkRHb2dEeWtEQURjQ0FDQURRUlJxSUJBcEF3QTNBZ0FnQVNBR1FRRnFJZ1kyQWd3Z0NVRWNheUVKSUFKQkhHb2hBaUFJUVJ4cUlBVkhEUUFMQ3lBT1JRMENJQkVnQ3lnQ0NDSUNSZzBCSUFzb0FnUWlBeUFDUVJ4c2FpQURJQkZCSEd4cUlBNUJIR3dROWdFYURBRUxJQWtnQmhETUFRQUxJQXNnQWlBT2FqWUNDQXNnQ2lBQktRSUVOd0lBSUFwQkNHb2dBVUVNYWlnQ0FEWUNBQXNnQVVGQWF5UUFJQXdvQWhBTkFTQU1LQUlNQ3lBTUtBSUlJZ0ZGRFFFZ0FVRWNiRUVFRU9NQkRBRUxJQXhCS0dvZ0RFRVFhaWdDQURZQ0FDQU1JQXdwQWdnM0F5QWpBRUdRQVdzaUJ5UUFBa0FDUUFKQUFrQWdERUVnYWlJRUtBSUlJZ0lFUUNBRUtBSUVJZ0VnQWtFY2JHcEJER3N2QVFBaEVDQUJMd0VRSVEwZ0FTMEFFeUVLSUFFdEFCZ2hFaUFCS0FJTUlSTWdBUzBBRnlFUklBRXRBQkloQ0VFQUlRVWpBRUVRYXlJREpBQWdBMEVBTmdJTUlBTkNnSUNBZ0JBM0FnUWdCQ2dDQkNJQ0lBUW9BZ2dpQmtFY2JHb2hDU0FFS0FJQUlRc2dBaUVCQWtBQ1FDQUdSUTBBUVFFaEJnTkFJQUVvQWdBaURrR0FnSUNBZUVZRVFDQUJRUnhxSVFFTUFnc2dBU2dDQkNFUElBRW9BZ2dpQkNBREtBSUVJQVZyU3dSQUlBTkJCR29nQlNBRUVIUWdBeWdDQ0NFR0lBTW9BZ3doQlFzZ0JTQUdhaUFQSUFRUTl3RWFJQU1nQkNBRmFpSUZOZ0lNSUE0RVFDQVBJQTVCQVJEakFRc2dBVUVjYWlJQklBbEhEUUFMREFFTElBa2dBV3RCSEc0aEJTQUJJQWxHRFFBRFFDQUJLQUlBSWdRRVFDQUJRUVJxS0FJQUlBUkJBUkRqQVFzZ0FVRWNhaUVCSUFWQkFXc2lCUTBBQ3dzZ0N3UkFJQUlnQzBFY2JFRUVFT01CQ3lBSFFRUnFJZ0VnQXlrQ0JEY0NBQ0FCUVFocUlBTkJER29vQWdBMkFnQWdBMEVRYWlRQUlBY2dDRG9BR2lBSElCRTZBQmtnQnlBUlFRRkhPZ0FZSUFjZ0V6WUNFQ0FISUJJNkFCd2dCeUFLT2dBYklBY2dFRHNCRmlBSElBMDdBUlJCbHVMQUFDMEFBRUVDUmdSQVFhaml3QUFvQWdBaEFVR280c0FBUVFBMkFnQWdBVVVOQkNBSFFTQnFJZ0lnQVJFQkFFR3c0Y0FBSUFKQjhBQVE5d0VhUWFEaXdBQkJBallDQUVHVzRzQUFMUUFBUVFKR0RRSUxJQW9nQ0JBbklRb2pBRUVnYXlJRUpBQUNRQ0FIUVFScUlna3ZBUklpQVNBS0x3RlFJZ0pISUFFZ0FtdEIvLzhEY1VHOC93RkpjVVVFUUNBSktBSUFJZ0ZGRFFFZ0NTZ0NCQ0FCUVFFUTR3RU1BUXNnQ2tIUUFHb2hEaUFKTFFBV0lRSWpBRUV3YXlJQkpBQUNRQUpBQWtBQ1FDQUNRUUpyRGdJQkFBTUxJQWtvQWdnaUFrRUZUd1JBUVFZaEJpQUpLQUlFSWdNdEFBUkIvZ0J4UWM0QVJnMENEQU1MUVFRZ0FrRzhqOEFBRUpFQkFBc2dDU2dDQ0NJQ1FRUk5CRUJCQkNBQ1FjeVB3QUFRa1FFQUMwRUZJUVlnQ1NnQ0JDSURMUUFFUVI5eFFRWkhEUUVMSUFZZ0FpQUNJQVpKR3lFSUFrQUNRQUpBQWtBRFFDQUdJQWhHRFFFZ0F5QUdhaUFHUVFGcUlnVWhCaTBBQUVIL0FVWU5BQXRCQUNFR0EwQWdBaUFGVFEwQ0lBWWdBeUFGYWkwQUFDSUlhaUVHSUFWQkFXb2hCU0FJUWY4QlJnMEFDeUFDSUFWQkVHb2lDRWtOQWtFQUlRZ0NRQ0FDUVJCcklBVkdEUUFnQWlBRmEwRVFheUVJSUFWQmNFWU5BQ0FESUFNZ0JXcEJFR29nQ0JEMkFSb0xJQWdnQmtFUWF5SUNTUTBESUFsQkFEWUNDQ0FCSUFrMkFoZ2dBU0FDTmdJY0lBRWdDQ0FDYXpZQ0lDQUJJQU0yQWhBZ0FTQUNJQU5xTmdJVUlBRkJCR29oQmtFQUlSQWpBRUVRYXlJQ0pBQUNRQUpBQWtBZ0FVRVFhaUlES0FJQUlnVWdBeWdDQkNJSVJnUkFJQVpCQURZQ0NDQUdRb0NBZ0lBUU53SUFJQU5DZ1lDQWdCQTNBZ0FnQXlnQ0VDSUZSUTBCSUFNb0Fnd2lDQ0FES0FJSUlnTW9BZ2dpQmtjRVFDQURLQUlFSWdzZ0Jtb2dDQ0FMYWlBRkVQWUJHZ3NnQXlBRklBWnFOZ0lJREFFTElBTWdCVUVCYWlJTk5nSUFRUWdnQ0NBTmEwRUJhaUlMUVg4Z0N4c2lDeUFMUVFoTkd5SVBRUUJJRFFFZ0JTMEFBQ0VTUWZuandBQXRBQUFhUVFFaEVDQVBRUUVRMXdFaUMwVU5BU0FMSUJJNkFBQWdBa0VCTmdJTUlBSWdDellDQ0NBQ0lBODJBZ1FnQXlnQ0VDRVBJQU1vQWd3aEVpQURLQUlJSVJBZ0NDQU5Sd1JBSUFnZ0JXdEJBbXNoRFVFQklRTURRQ0FESUFWcUxRQUFJUk1nQWlnQ0JDQURSZ1JBSUFKQkJHb2dBeUFOUVFGcUlndEJmeUFMR3hCMElBSW9BZ2doQ3dzZ0F5QUxhaUFUT2dBQUlBSWdBMEVCYWlJRE5nSU1JQTFCQVdzaERTQURJQVZxSUFoSERRQUxDeUFQQkVBZ0VDZ0NDQ0lESUJKSEJFQWdFQ2dDQkNJRklBTnFJQVVnRW1vZ0R4RDJBUm9MSUJBZ0F5QVBhallDQ0FzZ0JpQUNLUUlFTndJQUlBWkJDR29nQWtFTWFpZ0NBRFlDQUFzZ0FrRVFhaVFBREFFTElCQWdEeERNQVFBTElBRW9BZ3doQXlBQktBSUlJUUlnQVVFQU5nQXBJQUZCQURZQ0pDQUJRZjRCT2dBb0lBSWdBeUFCUVNScUVEQWdBU2dDQkNJRFJRMEVJQUlnQTBFQkVPTUJEQVFMSUFnZ0FrSHdqOEFBRUpFQkFBc2dCU0FDUWZDUHdBQVFrUUVBQ3lBSUlBSkJ6SURBQUJDU0FRQUxJQUlnQ0VITWdNQUFFSklCQUFzZ0FVRXdhaVFBSUFwQnhBQnFJUWdnQ2lnQ1NDSVBJQW9vQWt3aUEwRWNiR3BCRUdzaEJTQUpLQUlNSVFJZ0NTZ0NCQ0VRSUFrb0FnQWhCaUFKTFFBVklRMGdBeUVCQWtBZ0NnSi9Ba0FDUUFKQUFrQUNRQU5BSUFGRkJFQWdCRUVZYWlBSlFSaHFLQUlBTmdJQUlBUkJFR29nQ1VFUWFpa0NBRGNEQUNBRVFRaHFJQWxCQ0dvcEFnQTNBd0FnQkNBSktRSUFOd01BUVFBaEFnd0RDeUFGS0FJQUlnc2dBa2NnQWlBTGEwRzgvd0ZKY1EwQklBRkJBV3NoQVNBRlFSeHJJUVVnQWlBTFJ3MEFDeUFHUlEwSElCQWdCa0VCRU9NQkRBY0xJQVJCR0dvZ0NVRVlhaWdDQURZQ0FDQUVRUkJxSUFsQkVHb3BBZ0EzQXdBZ0JFRUlhaUFKUVFocUtRSUFOd01BSUFRZ0NTa0NBRGNEQUNBRElBRWlBa2tOQVFzZ0NDZ0NBQ0FEUmdSL0lBZ1FieUFLS0FKSUJTQVBDeUFDUVJ4c2FpRUZJQUlnQTBrRVFDQUZRUnhxSUFVZ0F5QUNhMEVjYkJEMkFSb0xJQVVnQkNrREFEY0NBQ0FGUVJocUlBUkJHR29vQWdBMkFnQWdCVUVRYWlBRVFSQnFLUU1BTndJQUlBVkJDR29nQkVFSWFpa0RBRGNDQUNBS0lBTkJBV29pQ1RZQ1RDQU5EUVFnQ2lnQ1FDSUZJQUpQRFFJZ0JTQUpJQVVnQ1VzYklRc2dDaWdDU0NJUElBVkJIR3hxUVJCcUlRTkJBU0VHQTBBZ0JTQUxSZzBDSUFNdkFRQWdEaThCQUVFQmFrSC8vd054UmdSQUlBTkJIR29oQXlBUElBVkJIR3hxUVJKcUlRNGdCVUVCYWlJRklBSkpJUVlnQVNBRlJnMEVEQUVMQ3lBR1JRMEVBa0FnQWlBSUtBSUlJZ0ZOQkVBZ0NFRUFOZ0lJSUFRZ0FqWUNEQ0FFSUFnMkFnZ2dCQ0FCSUFKck5nSVFJQVFnQ0NnQ0JDSUJJQUpCSEd4cU5nSUVJQVFnQVRZQ0FBd0JDeUFDSUFGQnpJREFBQkNTQVFBTEFrQWdCQ2dDQUNJQ0lBUW9BZ1FpQTBZTkFBTkFJQUlvQWdBaUFVR0FnSUNBZUVZTkFTQUJCRUFnQWlnQ0JDQUJRUUVRNHdFTElBSkJIR29pQWlBRFJ3MEFDd3NnQkVLRWdJQ0F3QUEzQWdBZ0JCQmtRUUFNQXdzZ0FTQURFSTRCQUFzZ0N5QUpRZXlLd0FBUWtRRUFDeUFDQ3pZQ1FBc2dDaEI2Q3lBRVFTQnFKQUJCbHVMQUFDMEFBRUVDUmdSQVFhaml3QUFvQWdBaEFVR280c0FBUVFBMkFnQWdBVVVOQkNBSFFTQnFJZ0lnQVJFQkFFR3c0Y0FBSUFKQjhBQVE5d0VhUWFEaXdBQkJBallDQUVHVzRzQUFMUUFBUVFKR0RRTUxRWURpd0FCQmdPTEFBQ2dDQUVFQmFqWUNBRUdVNHNBQVFmOEJRWlRpd0FBdEFBQkJBV29pQVNBQlFmOEJUeHM2QUFBZ0VVVUVRRUdFNHNBQVFZVGl3QUFvQWdCQkFXbzJBZ0FMSUFkQmtBRnFKQUFNQkF0QkFFRUFRYnlVd0FBUWtRRUFDMEhRazhBQVFTaEIrSlBBQUJDdEFRQUxRZENUd0FCQktFSDRrOEFBRUswQkFBc2dCMEVBTmdJd0lBZEJBVFlDSkNBSFFjU1N3QUEyQWlBZ0IwSUVOd0lvSUFkQklHcEJ3SlBBQUJDa0FRQUxJQUFvQXBnQklCVk5EUUFnQUNBQUtBS1VBU0FWUVJ4c2FpZ0NEQkFvQ3lBTVFlQUFhaVFBRHdzZ0NpQUJRY3lFd0FBUWtRRUFDeUFLSUFKQnpJREFBQkNUQVFBTDYwc0NHSDhIZmlNQVFhQUJheUlKSkFBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBZ0FDZ0NDQ0lDQkVBZ0FDZ0NCQ0lFTFFBQUlRTWdCQ0FFUVFGcUlnb2dBa0VCYXlJRUVQWUJJUVlnQUNBRU5nSUlJQUFvQWdBaEJTQUpJQU5CRDNFaUFEb0FEd0pBQWtBQ1FBSkFBa0FDUUFKQUlBQU9CQUlBQXdFRUN5QUVCRUJCQUNFQUEwQWdBQ0FFVHcwSklBQkJBV29pQVNBRVR3MEtJQUVnQm1vdEFBQWdBQ0FHYWkwQUFFRUlkSElpQVNBQVFRSnFJZ0pxSWdBZ0FVa05DeUFBSUFSTERRd0NRQ0FCUlFSQVFRRWhBd3dCQzBINTQ4QUFMUUFBR2lBQlFRRVExd0VpQTBVTkRnc2dBeUFDSUFacUlBRVE5d0VoQWlBSlFRQTJBRFVnQ1VFQU5nSXdJQWxCQVRvQU5DQUNJQUVnQ1VFd2FoQXdJQUVFUUNBQ0lBRkJBUkRqQVFzZ0FDQUVTUTBBQ3dzZ0JVVU5EeUFHSUFWQkFSRGpBUXdQQ3lBSlFRQTJBa0FnQ1VFQk5nSTBJQWxCako3QUFEWUNNQ0FKUWdRM0FqZ01Bd3NnQ1VFQk5nSTBJQWxCcko3QUFEWUNNQ0FKUWdFM0Fqd2dDU0FKUVN4cXJVS0FnSUNBOEFTRU53TWdJQWtnQkRZQ0xDQUpJQWxCSUdvMkFqZ2dDVUVRYWlBSlFUQnFFRW9nQ1NnQ0VDSUFCRUFnQ1NnQ0ZDQUFRUUVRNHdFTElBUkZEUW9nQmkwQUFDRUFJQVlnQ2lBQ1FRSnJJZ1lROWdFaEFTQUFRZkFCY1VFUVJnMERJQVZGRFEwZ0FTQUZRUUVRNHdFTURRc2dDU0FET2dBOUlBa2dBVG9BUENBSklBUTJBamdnQ1NBR05nSTBJQWtnQlRZQ01DTUFRVUJxSWdva0FDQUtRUkJxSUFsQk1Hb2lBRUVJYWlnQ0FDSUJOZ0lBSUFvZ0FDa0NBRGNEQ0FKQUFrQUNRQ0FCQkVBQ1FDQUtLQUlNTFFBQVFRNXhCRUFnQUNnQ0NDSUJSUTBESUFGQkNFME5CQ0FBS0FJRUlnUXRBQUFoQVNBRUxRQUlJUVFnQ2tFNGFpQUFRUWhxS0FJQU5nSUFJQW9nQUNrQ0FEY0RNQ0FLUVJScUlnQWdDa0V3YWhCTUlBb2dCRUVEY1RvQUxDQUtJQUZCQkhaQkEzRTZBQ3NnQ2lBQlFRZDJPZ0FvSUFvZ0FVRUdkaUlCT2dBcUlBb2dBVUVCY1RvQUtTQUFFR0VNQVFzZ0NrRVVhaUlHSUFwQkNHb1FURUVBSVFBakFFSFFBbXNpQXlRQUFrQUNRQUpBUWM3andBQXRBQUJCQWtZRVFFSGc0OEFBS0FJQUlRRkI0T1BBQUVFQU5nSUFJQUZGRFFFZ0EwR29BV29pQkNBQkVRRUFRZWppd0FBZ0JFSHdBQkQzQVJwQjJPUEFBRUVDTmdJQVFjN2p3QUF0QUFCQkFrWU5BZ3NnQmk4QkNDRVVJQVl0QUJNaERpTUFRUkJySWhNa0FDQVRJQTQ2QUE5QitPTEFBQ0FUUVE5cUVEd2hHMEhvNHNBQUtBSUFJZ1JCcUFGcklRSkI3T0xBQUNnQ0FDSUZJQnVuY1NFQklCdENHWWhDL3dDRFFvR0NoSWlRb01DQUFYNGhIU0FEUWFnQmFpSVBBbjhDUUFOQUFrQWdBU0FFYWlrQUFDSWNJQjJGSWhwQ2Y0VWdHa0tCZ29TSWtLREFnQUY5ZzBLQWdZS0VpSkNnd0lCL2d5SWFVRVVFUUFOQUlBSkJBQ0FhZXFkQkEzWWdBV29nQlhGcklnaEJxQUZzYWkwQUFDQU9SZzBDSUJwQ0FYMGdHb01pR2xCRkRRQUxDeUFjSUJ4Q0FZYURRb0NCZ29TSWtLREFnSCtEVUVVTkFpQUJJQUJCQ0dvaUFHb2dCWEVoQVF3QkN3c2dEeUFPT2dBTklBOUJBVG9BRENBUFFlaml3QUEyQWdnZ0R5QUVJQWhCcUFGc2FqWUNCRUVBREFFTFFmRGl3QUFvQWdCRkJFQkJBQ0VBSXdCQklHc2lFaVFBQWtBQ1FBSkFBa0JCOU9MQUFDZ0NBQ0lDUVFGcUlnRWdBazhFUUVIczRzQUFLQUlBSWdnZ0NFRUJhaUlOUVFOMklnUkJCMndnQ0VFSVNSc2lDMEVCZGlBQlNRUkFBa0FDUUFKL0lBRWdDMEVCYWlBQklBdExHeUlBUVFoUEJFQkJmeUFBUVFOMFFRZHVRUUZyWjNaQkFXb2dBRUgvLy8vL0FVME5BUm9Rb3dFZ0VpZ0NHQm9NQ1F0QkJFRUlJQUJCQkVrYkN5SUFyVUtvQVg0aUdrSWdpS2NOQUNBYXB5SUVJQUJCQ0dvaUJXb2lBU0FFU1EwQUlBRkIrZi8vL3dkSkRRRUxFS01CSUJJb0FnZ2FEQVlMUWZuandBQXRBQUFhSUFGQkNCRFhBU0lMUlFSQUlBRVF4UUVnRWlnQ0VCb01CZ3NnQkNBTGFrSC9BU0FGRVBVQklRc2dBRUVCYXlJUUlBQkJBM1pCQjJ3Z0FFRUpTUnNoRlNBQ1JRUkFRZWppd0FBb0FnQWhCUXdGQ3lBTFFRaHFJUlpCNk9MQUFDZ0NBQ0lGUWFnQmF5RVhJQVVwQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oR2lBRklRRWdBaUVFQTBBZ0dsQUVRQ0FCSVFBRFFDQUhRUWhxSVFjZ0FDa0RDQ0FBUVFocUlnRWhBRUovaFVLQWdZS0VpSkNnd0lCL2d5SWFVQTBBQ3dzZ0N5QVFRZmppd0FBZ0Z5QWFlcWRCQTNZZ0Iyb2lHRUhZZm14cUVEeW5JaEZ4SWd4cUtRQUFRb0NCZ29TSWtLREFnSCtESWh4UUJFQkJDQ0VBQTBBZ0FDQU1haUVNSUFCQkNHb2hBQ0FMSUF3Z0VIRWlER29wQUFCQ2dJR0NoSWlRb01DQWY0TWlIRkFOQUFzTElCcENBWDBnR29NaEdpQUxJQng2cDBFRGRpQU1haUFRY1NJQWFpd0FBRUVBVGdSQUlBc3BBd0JDZ0lHQ2hJaVFvTUNBZjRONnAwRURkaUVBQ3lBQUlBdHFJQkZCR1hZaUREb0FBQ0FXSUFCQkNHc2dFSEZxSUF3NkFBQWdDeUFBUVg5elFhZ0JiR29nQlNBWVFYOXpRYWdCYkdwQnFBRVE5d0VhSUFSQkFXc2lCQTBBQ3d3RUMwSG80c0FBS0FJQUlRRUNRQ0FFSUExQkIzRkJBRWRxSWdSRkRRQWdCRUVCUndSQUlBUkIvdi8vL3dOeElRY0RRQ0FBSUFGcUlnVWdCU2tEQUNJYVFuK0ZRZ2VJUW9HQ2hJaVFvTUNBQVlNZ0drTC8vdjM3OSsvZnYvOEFoSHczQXdBZ0JVRUlhaUlGSUFVcEF3QWlHa0ovaFVJSGlFS0Jnb1NJa0tEQWdBR0RJQnBDLy83OSsvZnYzNy8vQUlSOE53TUFJQUJCRUdvaEFDQUhRUUpySWdjTkFBc0xJQVJCQVhGRkRRQWdBQ0FCYWlJQUlBQXBBd0FpR2tKL2hVSUhpRUtCZ29TSWtLREFnQUdESUJwQy8vNzkrL2Z2MzcvL0FJUjhOd01BQ3lBTlFRaFBCRUFnQVNBTmFpQUJLUUFBTndBQURBSUxJQUZCQ0dvZ0FTQU5FUFlCR2lBTkRRRkJBQ0VMREFJTEVLTUJJQklvQWdBYURBTUxJQUZCQ0dvaERTQUJRYWdCYXlFV0lBRWhCRUVBSVFBRFFBSkFJQUVnQUNJRmFpSVFMUUFBUVlBQlJ3MEFJQllnQlVIWWZteHFJUmNnQVNBRlFYOXpRYWdCYkdvaEdBSkFBMEFnQ0VINDRzQUFJQmNRUEtjaUZYRWlCeUVNSUFFZ0Iyb3BBQUJDZ0lHQ2hJaVFvTUNBZjRNaUdsQUVRRUVJSVFBRFFDQUFJQXhxSVF3Z0FFRUlhaUVBSUFFZ0NDQU1jU0lNYWlrQUFFS0FnWUtFaUpDZ3dJQi9neUlhVUEwQUN3c2dBU0FhZXFkQkEzWWdER29nQ0hFaUFHb3NBQUJCQUU0RVFDQUJLUU1BUW9DQmdvU0lrS0RBZ0grRGVxZEJBM1loQUFzZ0FDQUhheUFGSUFkcmN5QUljVUVJU1EwQklBQWdBV29pQnkwQUFDQUhJQlZCR1hZaUJ6b0FBQ0FOSUFCQkNHc2dDSEZxSUFjNkFBQkIvd0ZIQkVCQjJINGhCeUFCSUFCQjJINXNhaUVWQTBBZ0JDQUhhaUlBTFFBQUlSRWdBQ0FISUJWcUlnd3RBQUE2QUFBZ0RDQVJPZ0FBSUFCQkFXb2lFUzBBQUNFWklCRWdERUVCYWlJUkxRQUFPZ0FBSUJFZ0dUb0FBQ0FBUVFKcUloRXRBQUFoR1NBUklBeEJBbW9pRVMwQUFEb0FBQ0FSSUJrNkFBQWdBRUVEYWlJQUxRQUFJUkVnQUNBTVFRTnFJZ0F0QUFBNkFBQWdBQ0FST2dBQUlBZEJCR29pQncwQUN3d0JDd3NnRUVIL0FUb0FBQ0FOSUFWQkNHc2dDSEZxUWY4Qk9nQUFJQUVnQUVGL2MwR29BV3hxSUJoQnFBRVE5d0VhREFFTElCQWdGVUVaZGlJQU9nQUFJQTBnQlVFSWF5QUljV29nQURvQUFBc2dCVUVCYWlFQUlBUkJxQUZySVFRZ0JTQUlSdzBBQ3d0QjhPTEFBQ0FMSUFKck5nSUFEQUVMUWV6aXdBQWdFRFlDQUVIbzRzQUFJQXMyQWdCQjhPTEFBQ0FWSUFKck5nSUFJQWhGRFFBZ0NDQU5RYWdCYkNJQWFrRUphaUlCUlEwQUlBVWdBR3NnQVVFSUVPTUJDeUFTUVNCcUpBQUxJQThnRGpvQUZDQVBRZWppd0FBMkFoQWdEeUFiTndNSVFRRUxOZ0lBSUJOQkVHb2tBQUpBSUFNb0FxZ0JSUVJBSUFNb0Fxd0JJUUlnQTBFSWFoQlZJQU1vQXBRQklRUWdBeWdDbUFFaUFRUkFJQVFoQUFOQUlBQW9BZ0FpQlFSQUlBQkJCR29vQWdBZ0JVRUJFT01CQ3lBQVFSUnFJUUFnQVVFQmF5SUJEUUFMQ3lBREtBS1FBU0lBQkVBZ0JDQUFRUlJzUVFRUTR3RUxBa0FnQXlnQ2JDSUFSUTBBSUFBZ0FFRUJkRUVKYWtGNGNTSUJha0VKYWlJQVJRMEFJQU1vQW1nZ0FXc2dBRUVJRU9NQkN3SkFJQU1vQWlRaUFFVU5BQ0FBSUFCQkJteEJEV3BCZUhFaUFXcEJDV29pQUVVTkFDQURLQUlnSUFGcklBQkJDQkRqQVFzZ0F5Z0NSQ0lBUlEwQklBQWdBRUVDZEVFTGFrRjRjU0lCYWtFSmFpSUFSUTBCSUFNb0FrQWdBV3NnQUVFSUVPTUJEQUVMSUFNdEFMd0JJUWdnQXlnQ3VBRWhCU0FES1FPd0FTRWFJQVl0QUJJaEFDQURRUWhxSWdFUVZTQURJQTQ2QUtFQklBTWdBRG9Bb0FFZ0EwR3ZBV29nQVVHZ0FSRDNBUm9nQlNnQ0FDSUVJQVVvQWdRaUFpQWFweUlIY1NJQmFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJYVVBUkFRUWdoQUFOQUlBQWdBV29oQVNBQVFRaHFJUUFnQkNBQklBSnhJZ0ZxS1FBQVFvQ0Jnb1NJa0tEQWdIK0RJaHBRRFFBTEN5QUVJQnA2cDBFRGRpQUJhaUFDY1NJQWFpd0FBQ0lCUVFCT0JFQWdCQ0FFS1FNQVFvQ0Jnb1NJa0tEQWdIK0RlcWRCQTNZaUFHb3RBQUFoQVFzZ0FDQUVhaUFIUVJsMklnYzZBQUFnQkNBQVFRaHJJQUp4YWtFSWFpQUhPZ0FBSUFVZ0JTZ0NDQ0FCUVFGeGF6WUNDQ0FFSUFCQjJINXNhaUlDUWFnQmF5QUlPZ0FBSUFKQnB3RnJJQU5CcUFGcVFhY0JFUGNCR2lBRklBVW9BZ3hCQVdvMkFnd0xJd0JCZ0FGcklnVWtBQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQ0FHTHdFUUlnZ2dBa0dnQVdzaUJDOEJsQUVpQUVZZ0NDQUFhMEgvL3dOeFFidi9BVXR5RFFBZ0JVRUthaUFFUWVBQWFpQUlFRUVnQlM4QkNrRUJhdzREQVFBREFnc2dCaWdDQUNJQVJRMEZJQVlvQWdRZ0FFRUJFT01CREFVTElBUkJpQUZxSVFjZ0JDZ0NqQUVpRENBRUtBS1FBU0lCUVJSc2FrRUVheUVDSUFZb0FnUWdCaWdDQUNFTElBRWhBQU5BQWtBQ1FDQUFSUVJBUVFBaEFBd0JDeUFJSUFJdkFRQWlEMFlnQ0NBUGEwSC8vd054UWJ2L0FVdHlEUUVnQUNBQlN3MEZDeUFIS0FJQUlBRkdCSDhnQnhCeElBUW9Bb3dCQlNBTUN5QUFRUlJzYWlFQ0lBQWdBVWtFUUNBQ1FSUnFJQUlnQVNBQWEwRVViQkQyQVJvTElBSWdCaWtDQURjQ0FDQUNRUkJxSUFaQkVHb29BZ0EyQWdBZ0FrRUlhaUFHUVFocUtRSUFOd0lBSUFRZ0FVRUJhallDa0FFTUJRc2dBRUVCYXlFQUlBSkJGR3NoQWlBSUlBOUhEUUFMUWM3andBQXRBQUJCQWtZRVFFSGc0OEFBS0FJQUlRQkI0T1BBQUVFQU5nSUFJQUJGRFFZZ0JVRVFhaUlCSUFBUkFRQkI2T0xBQUNBQlFmQUFFUGNCR2tIWTQ4QUFRUUkyQWdCQnp1UEFBQzBBQUVFQ1JnMEpDMEdJNDhBQUlBZ1FXaUFMUlEwRElBdEJBUkRqQVF3REN5QUVLQUtRQVNJQUlBUW9Bb2dCUmdSQUlBUkJpQUZxRUhFTElBUW9Bb3dCSUFCQkZHeHFJZ0VnQmlrQ0FEY0NBQ0FCUVJCcUlBWkJFR29vQWdBMkFnQWdBVUVJYWlBR1FRaHFLUUlBTndJQUlBUWdBRUVCYWpZQ2tBRU1BZ3NnQmkwQUV5QUZMd0VPSUFVdkFRd2hBQ0FFS0FLUUFTSUJJQVFvQW9nQlJnUkFJQVJCaUFGcUVIRUxJQVFvQW93QklBRkJGR3hxSWdJZ0Jpa0NBRGNDQUNBQ1FSQnFJQVpCRUdvb0FnQTJBZ0FnQWtFSWFpQUdRUWhxS1FJQU53SUFJQVFnQVVFQmFqWUNrQUZCenVQQUFDMEFBRUVDUmdSQVFlRGp3QUFvQWdBaEFVSGc0OEFBUVFBMkFnQWdBVVVOQkNBRlFSQnFJZ1lnQVJFQkFFSG80c0FBSUFaQjhBQVE5d0VhUWRqandBQkJBallDQUVITzQ4QUFMUUFBUVFKR0RRY0xRY0Rqd0FCQndPUEFBQ2dDQUNBQWFqWUNBRUhHNDhBQVFjYmp3QUF2QVFBZ0FHbzdBUUFnQkMwQVdBMEJJQUFRZ3dFTUFRc2dBQ0FCRUk0QkFBc2dCQ2dDa0FFaUFFVU5BQ0FFTHdHVUFVRUJha0gvL3dOeElRRWdCQ2dDakFFdkFSQWhCa0hZNDhBQUtBSUFRUUpIQkVBUW9BRUxJQUVnQmtjRVFDQUFRZERqd0FBdkFRQWlBa2tnQUNBQ2EwRUZUWElOQVFzZ0JDZ0NrQUVpQUFSQUlBRWdCa1loQWdOQUlBUWdCQ2dDakFFaUFTOEJFRHNCbEFFZ0FTZ0NCQ0FCS0FJSUlBVWdBUzBBRXlJR09nQVdJQVZCQWpvQUZDQUZRUUU3QUJjZ0JTQUJMUUFTT2dBVklBVWdBU2dDRERZQ0VDQUZRUkJxRURBZ0FTZ0NCQ0VISUFFb0FnQWhDQ0FCSUFGQkZHb2dBRUVCYXlJQVFSUnNFUFlCR2lBRUlBQTJBcEFCSUFnRVFDQUhJQWhCQVJEakFRc0NRQ0FDUVFGeFJRUkFJQVF0QUJRTkFVSFk0c0FBS0FJQVFRSkhCRUFRbkFFTElBUkJBVG9BRkNBRVFkRGl3QUFvQWdBMkFnQU1BUXNnQkMwQUZFVU5BQ0FFUVFBNkFCUkIyT0xBQUNnQ0FFRUNSd1JBRUp3QkMwSFE0c0FBS0FJQUlBUW9BZ0JySWdCQjlBTk5CRUFnQUVIa0FFME5BU0FFSUFRb0FnUkJBV28yQWdRZ0JDQUVLQUlNSUFCcU5nSU1JQVF0QUJVTkFTQUdJQUJCQUJCUkRBRUxJQVFnQkNnQ0NFRUJhallDQ0NBRUlBUW9BaEFnQUdvMkFoQWdCaUFBSUFRdEFCVVFVUXNnQkNnQ2tBRWlBRVVOQWlBRUx3R1VBVUVCYWtILy93TnhJUUVnQkNnQ2pBRXZBUkFoQmtIWTQ4QUFLQUlBUVFKSEJFQVFvQUVMSUFFZ0JrY0VRQ0FBUWREandBQXZBUUFpQWtrZ0FDQUNhMEVHU1hJTkF3c2dBU0FHUmlFQ0lBUW9BcEFCSWdBTkFBc0xRUUJCQUVIQWc4QUFFSkVCQUFzZ0JVR0FBV29rQUF3QkN5QUZRUUEyQWlBZ0JVRUJOZ0lVSUFWQnhKTEFBRFlDRUNBRlFnUTNBaGdnQlVFUWFrSEFrOEFBRUtRQkFBdEJ0T1BBQUVHMDQ4QUFLQUlBUVFGcU5nSUFRY1Rqd0FCQnhPUEFBQzhCQUVFQmFqc0JBRUdvNDhBQVFhamp3QUFwQXdBZ0ZLMThOd01BUWJEandBQkJzT1BBQUNnQ0FDQVVhallDQUVHNDQ4QUFRYmpqd0FBb0FnQkJBV28yQWdCQnZPUEFBRUc4NDhBQUtBSUFRUUZxTmdJQVFjemp3QUJCL3dGQnpPUEFBQzBBQUVFQmFpSUFJQUJCL3dGUEd6b0FBQ0FEUWRBQ2FpUUFEQUlMSUFOQkFEWUN1QUVnQTBFQk5nS3NBU0FEUWNTU3dBQTJBcWdCSUFOQ0JEY0NzQUVnQTBHb0FXcEJ3SlBBQUJDa0FRQUxRZENUd0FCQktFSDRrOEFBRUswQkFBc0xJQXBCUUdza0FBd0RDMEVBUVFCQi9KVEFBQkNSQVFBTFFRQkJBRUh3ajhBQUVKRUJBQXRCQ0NBQlFmQ1B3QUFRa1FFQUN3d01DeUFKUVFJMkFqUWdDVUhFbnNBQU5nSXdJQWxDQVRjQ1BDQUpJQWxCRDJxdFFvQ0FnSUNnQVlRM0F4QWdDU0FKUVJCcU5nSTRDeUFKUVRCcUVISWdCVVVOQ2lBR0lBVkJBUkRqQVF3S0MwR1c0c0FBTFFBQVFRSkdCRUJCcU9MQUFDZ0NBQ0VFUWFqaXdBQkJBRFlDQUNBRVJRMElJQWxCTUdvaUFpQUVFUUVBUWJEaHdBQWdBa0h3QUJEM0FScEJvT0xBQUVFQ05nSUFRWmJpd0FBdEFBQkJBa1lOQ1FzZ0NTQUdOZ0k0SUFrZ0FUWUNOQ0FKSUFVMkFqQWdDVUV3YWlFRUl3QkJFR3NpRHlRQUlBOGdBRUVQY1NJQ09nQVBBa0FDUUVHODRjQUFLQUlBUlEwQVFjRGh3QUFnRDBFUGFoQThJUnBCc09IQUFDZ0NBQ0lBUVlnQ2F5RURRYlRod0FBb0FnQWlCaUFhcDNFaEFTQWFRaG1JUXY4QWcwS0Jnb1NJa0tEQWdBRitJUnhCQUNFRkEwQWdBQ0FCYWlrQUFDSWJJQnlGSWhwQ2Y0VWdHa0tCZ29TSWtLREFnQUY5ZzBLQWdZS0VpSkNnd0lCL2d5SWFVRVVFUUFOQUlBTkJBQ0FhZXFkQkEzWWdBV29nQm5GcklncEJpQUpzYWkwQUFDQUNSZzBFSUJwQ0FYMGdHb01pR2xCRkRRQUxDeUFiSUJ0Q0FZYURRb0NCZ29TSWtLREFnSCtEVUVVTkFTQUJJQVZCQ0dvaUJXb2dCbkVoQVF3QUN3QUxRWlNQd0FBUTV3RUFDeUFBSUFwQmlBSnNha0VZYXlFTEl3QkI4QUZySWdJa0FBSkFJQVFvQWdnaUFFRUhTd1JBSUFKQkNEWUNFQ0FDUVFFMkFqd2dBa0hrbGNBQU5nSTRJQUpDQVRjQ1JDQUNJQVFvQWdRMkFnd2dBaUFDUVF4cUlnV3RJaHBDZ0lDQWdLQUVoRGNEcUFFZ0FpQUNRYWdCYWpZQ1FDQUNJQUpCT0dvUVNpTUFRUkJySWdNa0FBSkFBa0FDUUNBRUtBSUlJZ29PQWdBQkFndEJBRUVBUVlDUXdBQVFrUUVBQzBFQlFRRkJrSkRBQUJDUkFRQUxBa0FDUUFKQUFrQWdDa0VIVHdSQUlBcEJCMFlOQVNBRUtBSUVJZ2d0QUFZaUFFRUVkaUVHUVFnaEFTQUlMUUFISUFCQkNIUnlJZ0JCLy84QVN3MERJQWd0QUFBaEV5QUlMUUFCSVEwZ0EwRUFOZ0lNSUFOQ0FEY0NCQ0FHUWRpWndBQnFMUUFBSVJRZ0F5QUFRZjhmY1NJSE5nSUFJQWRwSVF3Z0FFR0FJRThFUUNBR0lRQURRQUpBQWtBQ1FDQUJJQVFvQWdnaUIwa0VRQ0FCUVFGcUlnNGdCMDhOQVNBQlFRSnFJaElnQjA4TkFpQUJRUU5xSWhBZ0Iwa05BeUFRSUFkQjBKREFBQkNSQVFBTElBRWdCMEdna01BQUVKRUJBQXNnRGlBSFFiQ1F3QUFRa1FFQUN5QVNJQWRCd0pEQUFCQ1JBUUFMSUFFZ0EycEJCR3NnQkNnQ0JDSUhJQTVxTFFBQVFSQjBJQUVnQjJvdEFBQkJHSFJ5SUFjZ0Vtb3RBQUJCQ0hSeUlBY2dFR290QUFCeUlnYzJBZ0FnQVVFRWFpRUJJQWRwSUF4cUlRd2dBRUVCYXlJQURRQUxJQVpCQW5SQkNHb2hBUXNnQVNBS1RRUkFJQWd2QUFRaEJpQUlMd0FDSVFjZ0NpQUJheUVBUVFFaERpQUJJQXBIQkVCQkFDRUtJQUJCQUVnTkJFSDU0OEFBTFFBQUdrRUJJUW9nQUVFQkVOY0JJZzVGRFFRTElBNGdBU0FJYWlBQUVQY0JJUUVnQlNBTlFRTnhPZ0FpSUFVZ0UwRUlkQ0FOY2tIdy93TnhRUVIyT3dFY0lBVWdGRG9BSXlBRklBWkJDSFFnQmtFSWRuSTdBU0FnQlNBSFFRaDBJQWRCQ0haeU93RWVJQVVnRERvQUpDQUZJQUEyQWdnZ0JTQUJOZ0lFSUFVZ0FEWUNBQ0FGSUFNcEFnQTNBZ3dnQlVFVWFpQURRUWhxS1FJQU53SUFJQVFvQWdBaUFBUkFJQWdnQUVFQkVPTUJDeUFEUVJCcUpBQU1CUXNnQVNBS1FZQ2F3QUFRa0FFQUMwRUdJQXBCZ0pEQUFCQ1JBUUFMUVFkQkIwR1FrTUFBRUpFQkFBc2dDaUFBRU13QkFBc2dCa0VFUWZDWndBQVFrUUVBQ3lBQ0lBc29BZ2dpQVRZQ05DQUNRVEJxSVFBQ1FBSkFBa0FnQWkwQU1DSUVRUUpQQkVBZ0FTQUVRUUZyUWY4QmNVa05BU0FMS0FJRUlBRkJIR3hxUVF4ckx3RUFJQUl2QVNwSkRRRWdBa0VJTmdLc0FTQUNRY2lXd0FBMkFxZ0JJQUpDQ0RjQ3RBRWdBaUFDclVLQWdJQ0FzQVNFTndOd0lBSWdBa0VZYXExQ2dJQ0FnTUFFaERjRGFDQUNJQUpCTG1xdFFvQ0FnSUNnQVlRM0EyQWdBaUFDUVNwcXJVS0FnSUNBd0FDRU53TllJQUlnQWtFb2FxMUNnSUNBZ01BQWhEY0RVQ0FDSUFKQkxHb2lBYTFDZ0lDQWdNQUFoRGNEU0NBQ0lBQ3RRb0NBZ0lDZ0FZUTNBMEFnQWlBQ1FTOXFyVUtBZ0lDQW9BR0VOd000SUFJZ0FrRTRhallDc0FFZ0FrR01BV29nQWtHb0FXb1FTaUFDS0FLTUFTSUFCRUFnQWlnQ2tBRWdBRUVCRU9NQkN5QUNRUUUyQWp3Z0FrSGtsY0FBTmdJNElBSkNBVGNDUkNBQ0lCcENnSUNBZ0RDRU53T29BU0FDSUFKQnFBRnFOZ0pBSUFKQmdBRnFJZ0FnQWtFNGFpSUtFRW9nQWlBQU5nSjhJQUpCMkFCcUlBRXBBZ0EzQXdBZ0FrSFFBR29nQWtFa2Fpa0NBRGNEQUNBQ1FjZ0FhaUFDUVJ4cUtRSUFOd01BSUFKQlFHc2dBa0VVYWlrQ0FEY0RBQ0FDSUFJcEFndzNBemdnQWtHTUFXb2hDRUVBSVFaQkFDRUJRUUFoQlVFQUlRQWpBRUdRQVdzaUF5UUFJQU1nQ2kwQUl6WUNCQ0FEUVJCcUlBcEJGR29wQWdBM0F3QWdBeUFLS1FJTU53TUlJQU1nQ2k4Qkhqc0JIaUFEUVFBMkFpZ2dBMEtBZ0lDQXdBQTNBaUFnQTBFQU5nSXNJQU5CQURZQ01DQURJQXNvQWdnaUREWUNOQ0FEUVFBMkFqZ2dBMEVETmdKTUlBTkJzSnJBQURZQ1NDQURRZ0kzQWxRZ0F5QURRUjVxclVLQWdJQ0F3QUNFTndPQUFTQURJQU5CQkdxdFFvQ0FnSURRQUlRaUhEY0RlQ0FESUFOQitBQnFOZ0pRSUFOQnlBQnFFSElDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnQXlnQ0JBUkFJQU5CeGdCcXJVS0FnSUNBd0FDRUlSMGdBMEZBYTYxQ2dJQ0FnTkFBaENFZUlBTkJOR3F0UW9DQWdJRFFBSVFoSHlBRFFUeHFyVUtBZ0lDQTBBQ0VJUnNnQTBFd2FxMUNnSUNBZ05BQWhDRWFJQU5CeFFCcXJVS0FnSUNBNEFDRUlTQWdDaTBBSkNFTklBc29BZ1FoRWdOQUlBTWdBVFlDUENBRFFRTTJBa3dnQTBIWW1zQUFOZ0pJSUFOQ0FqY0NWQ0FESUJzM0E0QUJJQU1nR2pjRGVDQURJQU5CK0FCcU5nSlFJQU5CeUFCcUVISWdBeUFCUVFGcUlnUTJBaXdnQXlBREtBSThJZ3RCRkdvaUJqWUNRQ0FHUVFWMklRY0NRQUpBSUFaQmdBRkpCRUFnQXlBRFFRaHFJQWRCQW5ScUtBSUFJQVpCZjNOMlFRRnhJZ1k2QUVVZ0JrVUVRQ0FFSWdFZ0F5Z0NCRWtOQkF3R0N5QURJQU12QVI0Z0MybzdBVVlnQTBFSE5nSjhJQU5CdEp2QUFEWUNlQ0FEUWdZM0FvUUJJQU1nSFRjRGNDQURJQ0EzQTJnZ0F5QWVOd05nSUFNZ0d6Y0RXQ0FESUJvM0ExQWdBeUFmTndOSUlBTWdBMEhJQUdvaUJEWUNnQUVnQTBINEFHb2lCaEJ5SUFOQkFqWUNUQ0FEUWZpYndBQTJBa2dnQTBJQk53SlVJQU1nR2pjRGVDQURJQVkyQWxBZ0JCQnlBa0FnQXlnQ01DSUVJQU1vQWpRaUIwOE5BQUpBQTBBZ0JDQU1UdzBFSUJJZ0JFRWNiR29pRUM4QkVDSUhJQU12QVVZaUJrWU5BU0FISUFaclFmLy9BM0ZCdlA4QlR3UkFJQU1nQkVFQmFqWUNNQ0FEUVFJMkFrd2dBMEg0bThBQU5nSklJQU5DQVRjQ1ZDQURJQm8zQTNnZ0F5QURRZmdBYWpZQ1VDQURRY2dBYWhCeUlBTW9BakFpQkNBREtBSTBJZ2RKRFFFTUF3c0xRUUVoQkNBRlFRRnhEUWtNQkFzZ0F5QURLQUk4TmdJNElBTWdCRUVCYWpZQ01DQURLQUlvSWdzZ0F5Z0NJRVlFUUNNQVFTQnJJZ1FrQUNBRFFTQnFJZ2NvQWdBaUJrRi9SZ1JBUVFCQkFCRE1BUUFMUVFRZ0JrRUJkQ0FHUVFGcUlBWkJBRW9iSWc0Z0RrRUVUUnNpRTBFQ2RDRVVJQVFnQmdSL0lBUWdCa0VDZERZQ0hDQUVJQWNvQWdRMkFoUkJCQVZCQUFzMkFoZ2dCRUVJYWlBT1FZQ0FnSUFDU1VFQ2RDQVVJQVJCRkdvUWV5QUVLQUlJQkVBZ0JDZ0NEQ0FFS0FJUUVNd0JBQXNnQkNnQ0RDRUdJQWNnRXpZQ0FDQUhJQVkyQWdRZ0JFRWdhaVFBQ3lBREtBSWtJQXRCQW5ScUlCQTJBZ0FnQXlBTFFRRnFOZ0lvSUFNb0FqUWhCeUFES0FJd0lRUUxJQVFnQjA4TkJTQUFJUVlnQlNFRURBSUxJQWRCQkVISW5jQUFFSkVCQUFzZ0JDQU1RWWljd0FBUWtRRUFDeUFOSUFNb0FpaE5EUVFnQkNFRklBWWhBQ0FCUVFGcUlnRWdBeWdDQkVrTkFBc01BZ3NnQ2kwQUpFRUJSdzBDSUFOQk1HcXRRb0NBZ0lEUUFJUWhHZ3dFQ3lBQUlRWWdCU0VFQ3lBREtBSW9JZ0ZCQVdvZ0RVWU5BUXNnQ0VHQWdJQ0FlRFlDQUNBREtBSWdJZ0FFUUNBREtBSWtJQUJCQW5SQkJCRGpBUXNnQ2lnQ0FDSUFSUTBESUFvb0FnUWdBRUVCRU9NQkRBTUxJQVJCQVhFTkFRc2dBMEVGTmdKOElBTkJySnpBQURZQ2VDQURRZ1EzQW9RQklBTWdIRGNEWUNBRElBTkJPR3F0UW9DQWdJRFFBSVEzQTFnZ0F5QURRU3hxclVLQWdJQ0EwQUNFTndOUUlBTWdHamNEU0NBRElBTkJ5QUJxTmdLQUFTQURRZmdBYWhCeUlBTW9BamdpQUNBREtBSUVJZ0VnQUNBQlN4c2hCeUFBSVFFQ1FBSkFBa0FEUUNBSElBRWlCRVlOQWlBRVFSVnFJZ1ZCQlhZaEN5QUZRWUFCVHcwQklBVkJGR3NoQVNBRFFRaHFJQXRCQW5ScUtBSUFJQVZCZjNOMlFRRnhSUTBBQ3lBRElBUkJBV29pQURZQ09DQURMd0VlSUFCcUlRWU1BZ3NnQTBHQUFTQUFRUlZxSWdBZ0FFR0FBVTBiUVJSck5nSTRJQXRCQkVISW5jQUFFSkVCQUFzZ0F5QUhOZ0k0Q3lBREtBSW9JUUVMSUFGRkRRRWdBeWdDSkNJTEtBSUFJUVVnQ2k4QklDRUFJQW90QUNJaEJ5QURLQUlnSVF3Z0EwSFFBR29nQ2tFSWFpZ0NBRFlDQUNBRElBb3BBZ0EzQTBnZ0FVRUNkQ0VLUVFBaEJBTkFJQVFnQzJvb0FnQWlBUzBBRmlFTklBRW9BZ2doRGlBRFFjZ0FhaUFCRURjZ0FDQU9jeUVBSUFjZ0RYTWhCeUFLSUFSQkJHb2lCRWNOQUFzZ0RBUkFJQXNnREVFQ2RFRUVFT01CQ3lBQVFmLy9BM0VpQUNBREtBSlFUUVJBSUFNZ0FEWUNVQXNnQ0NBREtRTklOd0lBSUFoQkNHb2dBMEhRQUdvb0FnQTJBZ0FnQlNnQ0RDRUFJQVV2QVJJaEFTQUlJQVV2QUJjN0FCY2dDQ0FIT2dBV0lBZ2dCMEVCY1RvQUZTQUlJQWRCQVhaQkFYRTZBQlFnQ0NBQk93RVNJQWdnQmpzQkVDQUlJQUEyQWd3TElBTkJrQUZxSkFBTUFRdEJBRUVBUWRTY3dBQVFrUUVBQ3lBQ0tBS01BVUdBZ0lDQWVFY0VRQ0FDUWNBQmFpQUNRYVFCYWlnQ0FEWUNBQ0FDUWJnQmFpSUFJQUpCbkFGcUtRSUFOd01BSUFKQnNBRnFJQUpCbEFGcUtRSUFJaG8zQXdBZ0FpQUNLUUtNQVRjRHFBRWdBa0VFTmdMWUFTQUNRYWlYd0FBMkF0UUJJQUpDQkRjQzRBRWdBaUFDUWV3QmFxMUNnSUNBZ05BQWhEY0RVQ0FDSUFKQnRBRnFyVUtBZ0lDQTBBQ0VOd05JSUFJZ0FrRytBV3F0UW9DQWdJQ2dBWVEzQTBBZ0FpQUFyVUtBZ0lDQXdBQ0VOd000SUFJZ0dqNEM3QUVnQWlBQ1FUaHFOZ0xjQVNBQ1FjZ0JhaUFDUWRRQmFoQktJQUlvQXNnQklnQUVRQ0FDS0FMTUFTQUFRUUVRNHdFTEFrQWdBaWdDc0FGQmp3TkxEUUFnQWtFQk5nSThJQUpCMkpmQUFEWUNPQ0FDUWdFM0FrUWdBaUFDUWZ3QWFxMUNnSUNBZ05BRWhEY0R5QUVnQWlBQ1FjZ0JhallDUUNBQ1FkUUJhaUFDUVRocUVFb2dBaWdDMUFFaUFFVU5BQ0FDS0FMWUFTQUFRUUVRNHdFTElBSkIwQUJxSUFKQndBRnFLQUlBTmdJQUlBSkJ5QUJxSUFKQnVBRnFLUU1BTndNQUlBSkJRR3NnQWtHd0FXb3BBd0EzQXdBZ0FpQUNLUU9vQVRjRE9DQUNRVGhxRUdFTElBSW9Bb0FCSWdBRVFDQUNLQUtFQVNBQVFRRVE0d0VMSUFJb0FnQWlBRVVOQXlBQ0tBSUVJQUJCQVJEakFRd0RDeUFDUVFJMkFqd2dBa0hFbU1BQU5nSTRJQUpDQWpjQ1JDQUNJQUN0UW9DQWdJQ2dBWVEzQTdBQklBSWdBa0UwYXExQ2dJQ0FnTkFBaERjRHFBRWdBaUFDUWFnQmFqWUNRQ0FDUVl3QmFpQUNRVGhxRUVvZ0FpZ0NqQUVpQUVVTkFTQUNLQUtRQVNBQVFRRVE0d0VNQVFzZ0FrRUROZ0tzQVNBQ1FZU1l3QUEyQXFnQklBSkNBemNDdEFFZ0FpQUNRVFJxclVLQWdJQ0EwQUNFTndOSUlBSWdBa0VxYXExQ2dJQ0FnTUFBaERjRFFDQUNJQUN0UW9DQWdJQ2dBWVEzQXpnZ0FpQUNRVGhxTmdLd0FTQUNRWXdCYWlBQ1FhZ0JhaEJLSUFJb0Fvd0JJZ0JGRFFBZ0FpZ0NrQUVnQUVFQkVPTUJDeUFDS0FJTUlnQUVRQ0FDS0FJUUlBQkJBUkRqQVFzZ0FpZ0NBQ0lBUlEwQUlBSW9BZ1FnQUVFQkVPTUJDeUFDUWZBQmFpUUFEQUVMUVFnZ0FFSFVsY0FBRUpJQkFBc2dEMEVRYWlRQURBa0xRWnlWd0FBUWp3RUFDeUFBSUFSQmdKREFBQkNSQVFBTElBRWdCRUdRa01BQUVKRUJBQXNnQWlBQVFlaWR3QUFRa3dFQUN5QUFJQVJCNkozQUFCQ1NBUUFMUVFFZ0FSRE1BUUFMUWZTQ3dBQVFqd0VBQ3lBSlFRQTJBa0FnQ1VFQk5nSTBJQWxCeEpMQUFEWUNNQ0FKUWdRM0FqZ2dDVUV3YWtIQWs4QUFFS1FCQUF0QjBKUEFBRUVvUWZpVHdBQVFyUUVBQ3lBSlFhQUJhaVFBQzVVTEFRVi9Jd0JCRUdzaUF5UUFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQ0FCRGlnR0FRRUJBUUVCQVFFQ0JBRUJBd0VCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQ0FFQkFRRUhBQXNnQVVIY0FFWU5CQXNnQWtFQmNVVWdBVUdBQmtseURRY0NmeUFCUVF0MElRSkJJU0VGUVNFaEJnSkFBMEFnQWlBRlFRRjJJQVJxSWdWQkFuUkJtTnJBQUdvb0FnQkJDM1FpQjBjRVFDQUZJQVlnQWlBSFNSc2lCaUFGUVFGcUlBUWdBaUFIU3hzaUJHc2hCU0FFSUFaSkRRRU1BZ3NMSUFWQkFXb2hCQXNDUUNBRVFTQk5CRUFnQkVFQ2RDSUZRWmphd0FCcUlnY29BZ0JCRlhZaEFrSFhCU0VHQW44Q1FDQUVRU0JHRFFBZ0IwRUVhaWdDQUVFVmRpRUdJQVFOQUVFQURBRUxJQVZCbE5yQUFHb29BZ0JCLy8vL0FIRUxJUVFDUUNBR0lBSkJmM05xUlEwQUlBRWdCR3NoQjBIWEJTQUNJQUpCMXdWTkd5RUZJQVpCQVdzaEJrRUFJUVFEUUNBQ0lBVkdEUU1nQkNBQ1FaemJ3QUJxTFFBQWFpSUVJQWRMRFFFZ0JpQUNRUUZxSWdKSERRQUxJQVloQWdzZ0FrRUJjUXdDQ3lBRVFTRkIvTmpBQUJDUkFRQUxJQVZCMXdWQmpObkFBQkNSQVFBTFJRMEhJQU5CQ0dwQkFEb0FBQ0FEUVFBN0FRWWdBMEg5QURvQUR5QURJQUZCRDNGQjY4UEFBR290QUFBNkFBNGdBeUFCUVFSMlFROXhRZXZEd0FCcUxRQUFPZ0FOSUFNZ0FVRUlka0VQY1VIcnc4QUFhaTBBQURvQURDQURJQUZCREhaQkQzRkI2OFBBQUdvdEFBQTZBQXNnQXlBQlFSQjJRUTl4UWV2RHdBQnFMUUFBT2dBS0lBTWdBVUVVZGtFUGNVSHJ3OEFBYWkwQUFEb0FDU0FCUVFGeVowRUNkaUlDUVFKcklnRkJDazhOQ0NBRFFRWnFJQUZxUWR3QU9nQUFJQUlnQTJwQkJXcEI5ZllCT3dBQUlBQWdBeWtCQmpjQUFDQUFRUWhxSUFOQkRtb3ZBUUE3QUFBZ0FFRUtPZ0FMSUFBZ0FUb0FDZ3dMQ3lBQVFZQUVPd0VLSUFCQ0FEY0JBaUFBUWR6b0FUc0JBQXdLQ3lBQVFZQUVPd0VLSUFCQ0FEY0JBaUFBUWR6a0FUc0JBQXdKQ3lBQVFZQUVPd0VLSUFCQ0FEY0JBaUFBUWR6Y0FUc0JBQXdJQ3lBQVFZQUVPd0VLSUFCQ0FEY0JBaUFBUWR5NEFUc0JBQXdIQ3lBQVFZQUVPd0VLSUFCQ0FEY0JBaUFBUWR6Z0FEc0JBQXdHQ3lBQ1FZQUNjVVVOQVNBQVFZQUVPd0VLSUFCQ0FEY0JBaUFBUWR6T0FEc0JBQXdGQ3lBQ1FZQ0FCSEVOQXdzQ2Z3SkFJQUZCSUVrTkFBSkFBbjlCQVNBQlFmOEFTUTBBR2lBQlFZQ0FCRWtOQVFKQUlBRkJnSUFJVHdSQUlBRkJzTWNNYTBIUXVpdEpJQUZCeTZZTWEwRUZTWElnQVVHZTlBdHJRZUlMU1NBQlFkN2NDMnRCb2hOSmNuSWdBVUhoMXd0clFROUpJQUZCb3AwTGEwRU9TWElnQVVGK2NVR2U4QXBHY25JTkJDQUJRV0J4UWVETkNrY05BUXdFQ3lBQlFkak53QUJCTEVHd3pzQUFRY1FCUWZUUHdBQkJ3Z01RVUF3RUMwRUFJQUZCdXU0S2EwRUdTUTBBR2lBQlFZQ0F4QUJyUWZDRGRFa0xEQUlMSUFGQnR0UEFBRUVvUVliVXdBQkJvQUpCcHRiQUFFR3RBaEJRREFFTFFRQUxCRUFnQUNBQk5nSUVJQUJCZ0FFNkFBQU1CQXNnQTBFSWFrRUFPZ0FBSUFOQkFEc0JCaUFEUWYwQU9nQVBJQU1nQVVFUGNVSHJ3OEFBYWkwQUFEb0FEaUFESUFGQkJIWkJEM0ZCNjhQQUFHb3RBQUE2QUEwZ0F5QUJRUWgyUVE5eFFldkR3QUJxTFFBQU9nQU1JQU1nQVVFTWRrRVBjVUhydzhBQWFpMEFBRG9BQ3lBRElBRkJFSFpCRDNGQjY4UEFBR290QUFBNkFBb2dBeUFCUVJSMlFROXhRZXZEd0FCcUxRQUFPZ0FKSUFGQkFYSm5RUUoySWdKQkFtc2lBVUVLVHcwQklBTkJCbW9nQVdwQjNBQTZBQUFnQWlBRGFrRUZha0gxOWdFN0FBQWdBQ0FES1FFR053QUFJQUJCQ0dvZ0EwRU9haThCQURzQUFDQUFRUW82QUFzZ0FDQUJPZ0FLREFNTElBRkJDa0c0MmNBQUVKRUJBQXNnQVVFS1Fialp3QUFRa1FFQUN5QUFRWUFFT3dFS0lBQkNBRGNCQWlBQVFkekVBRHNCQUFzZ0EwRVFhaVFBQzY0RkFRWi9Ba0FnQUNnQ0FDSUlJQUFvQWdnaUEzSUVRQUpBSUFORkRRQWdBU0FDYWlFSEFrQWdBQ2dDRENJR1JRUkFJQUVoQkF3QkN5QUJJUVFEUUNBRUlnTWdCMFlOQWdKL0lBTkJBV29nQXl3QUFDSUVRUUJPRFFBYUlBTkJBbW9nQkVGZ1NRMEFHaUFEUVFOcUlBUkJjRWtOQUJvZ0EwRUVhZ3NpQkNBRGF5QUZhaUVGSUFaQkFXc2lCZzBBQ3dzZ0JDQUhSZzBBSUFRc0FBQWFBa0FDUUNBRlJRMEFJQUlnQlVzRVFFRUFJUU1nQVNBRmFpd0FBRUcvZjBvTkFRd0NDMEVBSVFNZ0FpQUZSdzBCQ3lBQklRTUxJQVVnQWlBREd5RUNJQU1nQVNBREd5RUJDeUFJUlEwQklBQW9BZ1FoQndKQUlBSkJFRThFUUNBQklBSVFKaUVEREFFTElBSkZCRUJCQUNFRERBRUxJQUpCQTNFaEJnSkFJQUpCQkVrRVFFRUFJUU5CQUNFRkRBRUxJQUpCREhFaENFRUFJUU5CQUNFRkEwQWdBeUFCSUFWcUlnUXNBQUJCdjM5S2FpQUVRUUZxTEFBQVFiOS9TbW9nQkVFQ2Fpd0FBRUcvZjBwcUlBUkJBMm9zQUFCQnYzOUthaUVESUFnZ0JVRUVhaUlGUncwQUN3c2dCa1VOQUNBQklBVnFJUVFEUUNBRElBUXNBQUJCdjM5S2FpRURJQVJCQVdvaEJDQUdRUUZySWdZTkFBc0xBa0FnQXlBSFNRUkFJQWNnQTJzaEJFRUFJUU1DUUFKQUFrQWdBQzBBSUVFQmF3NENBQUVDQ3lBRUlRTkJBQ0VFREFFTElBUkJBWFloQXlBRVFRRnFRUUYySVFRTElBTkJBV29oQXlBQUtBSVFJUVlnQUNnQ0dDRUZJQUFvQWhRaEFBTkFJQU5CQVdzaUEwVU5BaUFBSUFZZ0JTZ0NFQkVBQUVVTkFBdEJBUThMREFJTFFRRWhBeUFBSUFFZ0FpQUZLQUlNRVFJQUJIOGdBd1ZCQUNFREFuOERRQ0FFSUFNZ0JFWU5BUm9nQTBFQmFpRURJQUFnQmlBRktBSVFFUUFBUlEwQUN5QURRUUZyQ3lBRVNRc1BDeUFBS0FJVUlBRWdBaUFBS0FJWUtBSU1FUUlBRHdzZ0FDZ0NGQ0FCSUFJZ0FDZ0NHQ2dDREJFQ0FBdmNCUUVIZndKL0lBRkZCRUFnQUNnQ0hDRUlRUzBoQ2lBRlFRRnFEQUVMUVN0QmdJREVBQ0FBS0FJY0lnaEJBWEVpQVJzaENpQUJJQVZxQ3lFR0FrQWdDRUVFY1VVRVFFRUFJUUlNQVFzQ1FDQURRUkJQQkVBZ0FpQURFQ1loQVF3QkN5QURSUVJBUVFBaEFRd0JDeUFEUVFOeElRa0NRQ0FEUVFSSkJFQkJBQ0VCREFFTElBTkJESEVoREVFQUlRRURRQ0FCSUFJZ0Iyb2lDeXdBQUVHL2YwcHFJQXRCQVdvc0FBQkJ2MzlLYWlBTFFRSnFMQUFBUWI5L1Ntb2dDMEVEYWl3QUFFRy9mMHBxSVFFZ0RDQUhRUVJxSWdkSERRQUxDeUFKUlEwQUlBSWdCMm9oQndOQUlBRWdCeXdBQUVHL2YwcHFJUUVnQjBFQmFpRUhJQWxCQVdzaUNRMEFDd3NnQVNBR2FpRUdDd0pBQWtBZ0FDZ0NBRVVFUUVFQklRRWdBQ2dDRkNJR0lBQW9BaGdpQUNBS0lBSWdBeEN1QVEwQkRBSUxJQVlnQUNnQ0JDSUhUd1JBUVFFaEFTQUFLQUlVSWdZZ0FDZ0NHQ0lBSUFvZ0FpQURFSzRCRFFFTUFnc2dDRUVJY1FSQUlBQW9BaEFoQ3lBQVFUQTJBaEFnQUMwQUlDRU1RUUVoQVNBQVFRRTZBQ0FnQUNnQ0ZDSUlJQUFvQWhnaUNTQUtJQUlnQXhDdUFRMEJJQWNnQm10QkFXb2hBUUpBQTBBZ0FVRUJheUlCUlEwQklBaEJNQ0FKS0FJUUVRQUFSUTBBQzBFQkR3dEJBU0VCSUFnZ0JDQUZJQWtvQWd3UkFnQU5BU0FBSUF3NkFDQWdBQ0FMTmdJUVFRQWhBUXdCQ3lBSElBWnJJUVlDUUFKQUFrQWdBQzBBSUNJQlFRRnJEZ01BQVFBQ0N5QUdJUUZCQUNFR0RBRUxJQVpCQVhZaEFTQUdRUUZxUVFGMklRWUxJQUZCQVdvaEFTQUFLQUlRSVFnZ0FDZ0NHQ0VISUFBb0FoUWhBQUpBQTBBZ0FVRUJheUlCUlEwQklBQWdDQ0FIS0FJUUVRQUFSUTBBQzBFQkR3dEJBU0VCSUFBZ0J5QUtJQUlnQXhDdUFRMEFJQUFnQkNBRklBY29BZ3dSQWdBTkFFRUFJUUVEUUNBQklBWkdCRUJCQUE4TElBRkJBV29oQVNBQUlBZ2dCeWdDRUJFQUFFVU5BQXNnQVVFQmF5QUdTUThMSUFFUEN5QUdJQVFnQlNBQUtBSU1FUUlBQzhjRkFnUi9BWDRnQVNBQkxRQkVJZ1k2QUVVZ0FTQUJLQUlvUVFkMlFmai9BM0VpQlRzQlFDQUJMd0UrSWdNZ0FTOEJQR3BCLy84RGNTSUVCRUFnQVVFQU9nQkVJQUZCQURZQ0tDQUJRUUEyQWp3Z0FTQURRWkRPQUd3Z0JHNGlCRHNCUWlBQktBSU1CRUFnQVNnQ0JDSURCRUFnQVNnQ0FFSC9BU0FEUVFscUVQVUJHZ3NnQVVFQU5nSU1JQUVnQXlBRFFRRnFRUU4yUVFkc0lBTkJDRWtiTmdJSUN5QUFJQVk2QUJrZ0FDQUJMUUJHT2dBQUlBQWdCVUVJZENBRlFRaDJjanNBRlNBQUlBUkJDSFFnQkVHQS9nTnhRUWgyY2pzQUZ5QUFJQUlvQWd3aUEwRVlkQ0FEUVlEK0EzRkJDSFJ5SUFOQkNIWkJnUDREY1NBRFFSaDJjbkkyQUNvZ0FDQUNLQUlJSWdOQkdIUWdBMEdBL2dOeFFRaDBjaUFEUVFoMlFZRCtBM0VnQTBFWWRuSnlOZ0FtSUFBZ0FpZ0NCQ0lEUVJoMElBTkJnUDREY1VFSWRISWdBMEVJZGtHQS9nTnhJQU5CR0haeWNqWUFJaUFBSUFJb0FnQWlBa0VZZENBQ1FZRCtBM0ZCQ0hSeUlBSkJDSFpCZ1A0RGNTQUNRUmgyY25JMkFCNGdBQ0FCS0FJMElnSkJHSFFnQWtHQS9nTnhRUWgwY2lBQ1FRaDJRWUQrQTNFZ0FrRVlkbkp5TmdBYUlBQWdBU2dDT0NJQ1FSaDBJQUpCZ1A0RGNVRUlkSElnQWtFSWRrR0EvZ054SUFKQkdIWnljallBRVNBQUlBRW9BakFpQWtFWWRDQUNRWUQrQTNGQkNIUnlJQUpCQ0haQmdQNERjU0FDUVJoMmNuSTJBQTBnQUNBQktBSXNJZ0pCR0hRZ0FrR0EvZ054UVFoMGNpQUNRUWgyUVlEK0EzRWdBa0VZZG5KeU5nQUpJQUFnQVNrRElDSUhRamlHSUFkQ2dQNERnMElvaG9RZ0IwS0FnUHdIZzBJWWhpQUhRb0NBZ1BnUGcwSUlob1NFSUFkQ0NJaENnSUNBK0ErRElBZENHSWhDZ0lEOEI0T0VJQWRDS0loQ2dQNERneUFIUWppSWhJU0VOd0FCRHdzakFFRWdheUlBSkFBZ0FFRUFOZ0lZSUFCQkFUWUNEQ0FBUVpEYXdBQTJBZ2dnQUVJRU53SVFJQUJCQ0dwQjRJN0FBQkNrQVFBTC9RVUJCWDhnQUVFSWF5SUJJQUJCQkdzb0FnQWlBMEY0Y1NJQWFpRUNBa0FDUUNBRFFRRnhEUUFnQTBFQ2NVVU5BU0FCS0FJQUlnTWdBR29oQUNBQklBTnJJZ0ZCcU9qQUFDZ0NBRVlFUUNBQ0tBSUVRUU54UVFOSERRRkJvT2pBQUNBQU5nSUFJQUlnQWlnQ0JFRitjVFlDQkNBQklBQkJBWEkyQWdRZ0FpQUFOZ0lBRHdzZ0FTQURFRklMQWtBQ1FBSkFBa0FDUUNBQ0tBSUVJZ05CQW5GRkJFQWdBa0dzNk1BQUtBSUFSZzBDSUFKQnFPakFBQ2dDQUVZTkF5QUNJQU5CZUhFaUFoQlNJQUVnQUNBQ2FpSUFRUUZ5TmdJRUlBQWdBV29nQURZQ0FDQUJRYWpvd0FBb0FnQkhEUUZCb09qQUFDQUFOZ0lBRHdzZ0FpQURRWDV4TmdJRUlBRWdBRUVCY2pZQ0JDQUFJQUZxSUFBMkFnQUxJQUJCZ0FKSkRRSWdBU0FBRUZoQkFDRUJRY0Rvd0FCQndPakFBQ2dDQUVFQmF5SUFOZ0lBSUFBTkJFR0k1c0FBS0FJQUlnQUVRQU5BSUFGQkFXb2hBU0FBS0FJSUlnQU5BQXNMUWNEb3dBQkIveDhnQVNBQlFmOGZUUnMyQWdBUEMwR3M2TUFBSUFFMkFnQkJwT2pBQUVHazZNQUFLQUlBSUFCcUlnQTJBZ0FnQVNBQVFRRnlOZ0lFUWFqb3dBQW9BZ0FnQVVZRVFFR2c2TUFBUVFBMkFnQkJxT2pBQUVFQU5nSUFDeUFBUWJqb3dBQW9BZ0FpQTAwTkEwR3M2TUFBS0FJQUlnSkZEUU5CQUNFQVFhVG93QUFvQWdBaUJFRXBTUTBDUVlEbXdBQWhBUU5BSUFJZ0FTZ0NBQ0lGVHdSQUlBSWdCU0FCS0FJRWFra05CQXNnQVNnQ0NDRUJEQUFMQUF0QnFPakFBQ0FCTmdJQVFhRG93QUJCb09qQUFDZ0NBQ0FBYWlJQU5nSUFJQUVnQUVFQmNqWUNCQ0FBSUFGcUlBQTJBZ0FQQ3lBQVFYaHhRWkRtd0FCcUlRSUNmMEdZNk1BQUtBSUFJZ05CQVNBQVFRTjJkQ0lBY1VVRVFFR1k2TUFBSUFBZ0EzSTJBZ0FnQWd3QkN5QUNLQUlJQ3lFQUlBSWdBVFlDQ0NBQUlBRTJBZ3dnQVNBQ05nSU1JQUVnQURZQ0NBOExRWWptd0FBb0FnQWlBUVJBQTBBZ0FFRUJhaUVBSUFFb0FnZ2lBUTBBQ3d0QndPakFBRUgvSHlBQUlBQkIveDlOR3pZQ0FDQURJQVJQRFFCQnVPakFBRUYvTmdJQUN3dlRCQUlHZmdSL0lBQWdBQ2dDT0NBQ2FqWUNPQUpBSUFBb0Fqd2lDMFVFUUF3QkMwRUVJUWtDZmtFSUlBdHJJZ29nQWlBQ0lBcExHeUlNUVFSSkJFQkJBQ0VKUWdBTUFRc2dBVFVBQUFzaEF5QU1JQWxCQVhKTEJFQWdBU0FKYWpNQUFDQUpRUU4wcllZZ0E0UWhBeUFKUVFKeUlRa0xJQUFnQUNrRE1DQUpJQXhKQkg0Z0FTQUphakVBQUNBSlFRTjByWVlnQTRRRklBTUxJQXRCQTNSQk9IR3Rob1FpQXpjRE1DQUNJQXBQQkVBZ0FDQUFLUU1ZSUFPRklnUWdBQ2tEQ0h3aUJpQUFLUU1RSWdWQ0RZa2dCU0FBS1FNQWZDSUZoU0lIZkNJSUlBZENFWW1GTndNUUlBQWdDRUlnaVRjRENDQUFJQVlnQkVJUWlZVWlCRUlWaVNBRUlBVkNJSWw4SWdTRk53TVlJQUFnQXlBRWhUY0RBQXdCQ3lBQUlBSWdDMm8yQWp3UEN5QUNJQXBySWdKQkIzRWhDU0FDUVhoeElnSWdDa3NFUUNBQUtRTUlJUVFnQUNrREVDRURJQUFwQXhnaEJpQUFLUU1BSVFVRFFDQUVJQUVnQ21vcEFBQWlCeUFHaFNJRWZDSUdJQU1nQlh3aUJTQURRZzJKaFNJRGZDSUlJQU5DRVltRklRTWdCaUFFUWhDSmhTSUVRaFdKSUFRZ0JVSWdpWHdpQllVaEJpQUlRaUNKSVFRZ0JTQUhoU0VGSUFwQkNHb2lDaUFDU1EwQUN5QUFJQU0zQXhBZ0FDQUdOd01ZSUFBZ0JEY0RDQ0FBSUFVM0F3QUxRUVFoQWdKK0lBbEJCRWtFUUVFQUlRSkNBQXdCQ3lBQklBcHFOUUFBQ3lFRElBa2dBa0VCY2tzRVFDQUJJQUpxSUFwcU13QUFJQUpCQTNTdGhpQURoQ0VESUFKQkFuSWhBZ3NnQUNBQ0lBbEpCSDRnQVNBQ0lBcHFhakVBQUNBQ1FRTjByWVlnQTRRRklBTUxOd013SUFBZ0NUWUNQQXZ6QndFRWZ5TUFRZkFBYXlJREpBQWdBeUFCTmdJUUlBRkJnSURBQWswRVFBSkFRWlRod0FBb0FnQWlCRVVFUUVHWTRjQUFLQUlBSVFSQm1PSEFBRUVBTmdJQUlBUkZEUUZCa09IQUFDQUVFUVlBSWdTdFFpQ0dRZ0tFTndNQUN5QUVJQUFnQVJEM0FScEJuT0hBQUNnQ0FFRUNSd1JBSXdCQklHc2lBQ1FBSUFCQm5PSEFBRFlDQ0NBQVFhRGh3QUEyQWd3Z0FDQUFRUjlxTmdJWUlBQWdBRUVNYWpZQ0ZDQUFJQUJCQ0dvMkFoQkJuT0hBQUNBQVFSQnFRYlNSd0FBUU5TQUFRU0JxSkFBTElBTkJnUUUyQWhRZ0F5QUJ1QkFETmdJWUlBTkJySXpBQURZQ0tDQURRZ1kzQWpRZ0F5QUNRUWhxclVLQWdJQ0FvQUdFTndOb0lBTWdBcTFDZ0lDQWdOQUFoRGNEWUNBRElBSkJCMnF0UW9DQWdJQ2dBWVEzQTFnZ0F5QUNRUVZxclVLQWdJQ0FvQUdFTndOSUlBTWdBa0VFYXExQ2dJQ0FnS0FCaERjRFFDQURRUVkyQWl3Z0F5QUNRUVpxclVLQWdJQ0FvQUdFTndOUUlBTWdBMEZBYXpZQ01DQURRUnhxSUFOQktHb2lBQkJLSUFNZ0F5Z0NJQ0lCSUFNb0FpUVFCQ0lDTmdJb1FhVGh3QUFvQWdBZ0EwRVVhaWdDQUNBRFFSaHFLQUlBSUFBb0FnQVFHU0VBUVl6a3dBQW9BZ0FoQkVHSTVNQUFLQUlBSVFWQmlPVEFBRUlBTndJQUlBTkJDR29pQmlBRUlBQWdCVUVCUmlJQUd6WUNCQ0FHSUFBMkFnQWdBeWdDRENFQUlBTW9BZ2hGQkVBZ0FFR0VBVThFUUNBQUVBSWdBeWdDS0NFQ0N5QUNRWVFCVHdSQUlBSVFBZ3NnQXlnQ0hDSUFCRUFnQVNBQVFRRVE0d0VMSUFNb0FoZ2lBRUdFQVU4RVFDQUFFQUlMSUFNb0FoUWlBRUdFQVU4RVFDQUFFQUlMSUFOQjhBQnFKQUFQQ3lBRElBQTJBa0JCN0l6QUFFRW1JQU5CUUd0QjNJekFBRUdVamNBQUVJVUJBQXNnQTBFQU5nSlFJQU5CQVRZQ1JDQURRY1NTd0FBMkFrQWdBMElFTndKSUlBTkJRR3RCd0pQQUFCQ2tBUUFMSUFOQkFqWUNSQ0FEUWJDTndBQTJBa0FnQTBJQ053Sk1JQU1nQXExQ2dJQ0FnTEFCaERjRE1DQURJQU5CRUdxdFFvQ0FnSURRQUlRM0F5Z2dBeUFEUVNocU5nSklJQU5CSEdvaEFTQURRVUJySWdZaUFDZ0NEQ0VDQWtBQ1FBSkFBa0FDUUFKQUFrQWdBQ2dDQkE0Q0FBRUNDeUFDRFFGQkFTRUZRUUFoQUVFQklRSU1Bd3NnQWtVTkFRc2dBU0FBRUVvTUF3c2dBQ2dDQUNJQUtBSUFJUVVnQUNnQ0JDSUFSUVJBUVFFaEFrRUFJUUFNQVFzZ0FFRUFTQTBCUWZuandBQXRBQUFhUVFFaEJDQUFRUUVRMXdFaUFrVU5BUXNnQWlBRklBQVE5d0VoQWlBQklBQTJBZ2dnQVNBQ05nSUVJQUVnQURZQ0FBd0JDeUFFSUFBUXpBRUFDeUFES0FJZ0lRQWdBeWdDSENJQkJFQWdBQ0FCUVFFUTR3RUxJQU5CQURZQ1VDQURRUUUyQWtRZ0EwSGNqY0FBTmdKQUlBTkNCRGNDU0NBR1FlU053QUFRcEFFQUMrZ0VBUVYvSXdCQjBBQnJJZ0VrQUFKQUFrQWdBQ2dDVENJREJFQWdBVUVRYWlBQUtBSklJZ0pCQ0dvcEFnQTNBd0FnQVVFWWFpQUNRUkJxS1FJQU53TUFJQUZCSUdvZ0FrRVlhaWdDQURZQ0FDQUJJQUlwQWdBM0F3Z2dBaUFDUVJ4cUlBTkJBV3NpQWtFY2JCRDJBUm9nQUNBQ05nSk1JQUV0QUI4aEF5QUFMUUE4UlEwQ0lBQkJBRG9BUEVIWTRzQUFLQUlBUVFKSEJFQVFuQUVMUWREaXdBQW9BZ0FnQUNnQ0tHc2lBa0gwQTBzTkFTQUNRZVFBVFEwQ0lBQWdBQ2dDTEVFQmFqWUNMQ0FBSUFBb0FqUWdBbW8yQWpRZ0FDMEFQUTBDSUFNZ0FrRUFFRkVNQWd0Qi9JckFBQkNQQVFBTElBQWdBQ2dDTUVFQmFqWUNNQ0FBSUFBb0FqZ2dBbW8yQWpnZ0F5QUNJQUF0QUQwUVVRc2dBQ0FCTHdFYU93RlFJQUFnQUNnQ1FDSUNRUUZySWdSQkFDQUNJQVJQR3pZQ1FDQUFMUUJTSVFJQ1FBSi9Ba0FDUUNBQkxRQWRCRUFnQWcwQklBRkJBVFlDTkNBQlFhQ0x3QUEyQWpBZ0FVSUJOd0k4SUFFZ0FVRVVhcTFDZ0lDQWdOQUFoRGNEU0NBQklBRkJ5QUJxTmdJNElBRkJKR29nQVVFd2FoQktJQUVvQWlRaUFnUkFJQUVvQWlnZ0FrRUJFT01CQ3lBQUVIb2dBU2dDQ0NJQVJRMEVJQUVvQWd3Z0FFRUJFT01CREFRTElBSkZEUUVnQVNnQ0VDRUVRUUVoQlNBQktBSU1EQUlMSUFFb0FoQWhCQ0FCS0FJTURBRUxRUUVoQlNBQVFRRTZBRklnQVNnQ0VDRUVJQUVvQWd3TElRSWdBU0FGT2dBM0lBRWdBem9BTmlBQklBRXRBQjQ2QURVZ0FVRUNPZ0EwSUFFZ0FTMEFJRG9BT0NBQklBRW9BaFEyQWpBZ0FpQUVJQUZCTUdvUU1DQUFFSG9nQVNnQ0NDSUFSUTBBSUFJZ0FFRUJFT01CQ3lBQlFkQUFhaVFBQzRZTkFnbC9BWDRqQUVHQUFXc2lCQ1FBUVpEaHdBQW9BZ0JCQWtjRVFCQ2RBUXNDUUFKQUFrQUNRQUpBQWtBZ0FFR0JnTUFDU1FSQVFaVGh3QUFvQWdBaEF3SkFJQUJGQkVCQkFTRUZEQUVMUWZuandBQXRBQUFhSUFCQkFSRFhBU0lGUlEwQ0N5QUZJQU1nQUJEM0FTRUpBa0FDUUFKQUlBRkIvd0Z4RGdJQ0FBRUxRWmJpd0FBdEFBQkJBa1lFUUVHbzRzQUFLQUlBSVFGQnFPTEFBRUVBTmdJQUlBRkZEUWtnQkNBQkVRRUFRYkRod0FBZ0JFSHdBQkQzQVJwQm9PTEFBRUVDTmdJQVFaYml3QUF0QUFCQkFrWU5CUXRCdk9IQUFDZ0NBQ0lJQkVCQnNPSEFBQ2dDQUNJRFFRaHFJUVVnQXlrREFFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lFTEEwQWdDMUFFUUNBRklRRURRQ0FEUWNBUWF5RURJQUVwQXdBZ0FVRUlhaUlGSVFGQ2Y0VkNnSUdDaElpUW9NQ0FmNE1pQzFBTkFBc0xJQU1nQzNxblFRTjJRZmg5YkdvaUIwR0lBbXNpQWtIVUFHb2lBU2dDQUNFR0lBRkJBRFlDQUNBR0JFQWdBa0hRQUdvb0FnQWhBUU5BSUFFb0FnQWlDZ1JBSUFGQkJHb29BZ0FnQ2tFQkVPTUJDeUFCUVJ4cUlRRWdCa0VCYXlJR0RRQUxDeUFDUWRvQWFrRUFPZ0FBSUFKQnlBQnFRUUEyQWdBZ0FrRVVhaUlHS0FJQUJFQWdCMEg4QVdzb0FnQWlBUVJBSUFkQmdBSnJLQUlBUWY4QklBRkJDV29ROVFFYUN5QUdRUUEyQWdBZ0IwSDRBV3NnQVNBQlFRRnFRUU4yUVFkc0lBRkJDRWtiTmdJQUN5QUxRZ0Y5SUF1RElRc2dBa0hZQUdwQi8vOERPd0VBSUFKQnhBQnFRUUE2QUFBZ0IwR29BV3NpQVNnQ21BRWhCaUFCUVFBMkFwZ0JJQVlFUUNBQktBS1VBU0VDQTBBZ0FpZ0NBQ0lIQkVBZ0FrRUVhaWdDQUNBSFFRRVE0d0VMSUFKQkhHb2hBaUFHUVFGcklnWU5BQXNMSUFFb0FsUUVRQ0FCS0FKTUlnSUVRQ0FCS0FKSVFmOEJJQUpCQ1dvUTlRRWFDeUFCUVFBMkFsUWdBU0FDSUFKQkFXcEJBM1pCQjJ3Z0FrRUlTUnMyQWxBTElBRkIvLzhET3dGb0lBRW9BbndFUUNBQktBSjBJZ0lFUUNBQktBSndRZjhCSUFKQkNXb1E5UUVhQ3lBQlFRQTJBbndnQVNBQ0lBSkJBV3BCQTNaQkIyd2dBa0VJU1JzMkFuZ0xJQUVvQWd3RVFDQUJLQUlFSWdJRVFDQUJLQUlBUWY4QklBSkJDV29ROVFFYUN5QUJRUUEyQWd3Z0FTQUNJQUpCQVdwQkEzWkJCMndnQWtFSVNSczJBZ2dMSUFFb0Fpd0VRQ0FCS0FJa0lnSUVRQ0FCS0FJZ1FmOEJJQUpCQ1dvUTlRRWFDeUFCUVFBMkFpd2dBU0FDSUFKQkFXcEJBM1pCQjJ3Z0FrRUlTUnMyQWlnTElBaEJBV3NpQ0EwQUN3dEJ6dVBBQUMwQUFFRUNSZ1JBUWVEandBQW9BZ0FoQVVIZzQ4QUFRUUEyQWdBZ0FVVU5DU0FFSUFFUkFRQkI2T0xBQUNBRVFmQUFFUGNCR2tIWTQ4QUFRUUkyQWdCQnp1UEFBQzBBQUVFQ1JnMEdDMEgwNHNBQUtBSUFJZ1pGRFFCQjZPTEFBQ2dDQUNJQ1FRaHFJUVVnQWlrREFFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lFTEEwQWdDMUFFUUNBRklRRURRQ0FDUWNBS2F5RUNJQUVwQXdBZ0FVRUlhaUlGSVFGQ2Y0VkNnSUdDaElpUW9NQ0FmNE1pQzFBTkFBc0xJQUlnQzNxblFRTjJRZGgrYkdwQm9BRnJJZ0VvQXBBQklRY2dBVUVBTmdLUUFTQUhCRUFnQVNnQ2pBRWhBd05BSUFNb0FnQWlDQVJBSUFOQkJHb29BZ0FnQ0VFQkVPTUJDeUFEUVJScUlRTWdCMEVCYXlJSERRQUxDeUFCS0FKc0JFQWdBU2dDWkNJREJFQWdBU2dDWUVIL0FTQURRUWxxRVBVQkdnc2dBVUVBTmdKc0lBRWdBeUFEUVFGcVFRTjJRUWRzSUFOQkNFa2JOZ0pvQ3lBQlFRQTZBQlFnQVVILy93TTdBWUFCSUFFb0FpUUVRQ0FCS0FJY0lnTUVRQ0FCS0FJWVFmOEJJQU5CQ1dvUTlRRWFDeUFCUVFBMkFpUWdBU0FESUFOQkFXcEJBM1pCQjJ3Z0EwRUlTUnMyQWlBTElBRW9Ba1FFUUNBQktBSThJZ01FUUNBQktBSTRRZjhCSUFOQkNXb1E5UUVhQ3lBQlFRQTJBa1FnQVNBRElBTkJBV3BCQTNaQkIyd2dBMEVJU1JzMkFrQUxJQUZCLy84RE93R1VBU0FMUWdGOUlBdURJUXNnQmtFQmF5SUdEUUFMQ3lBQVJRMEdEQVVMSUFBRVFDQUVRZlFBYWlBSkxRQUFFRmtnQkNnQ2ZDRUZJQVFvQW5naEFTQUVRUWhxUVFBNkFBQWdCRUlBTndNQUlBRWdCU0FFRURBZ0JDZ0NkQ0lGUlEwRklBRWdCVUVCRU9NQkRBVUxRUUJCQUVHRWpzQUFFSkVCQUFzZ0FFR0FnTUFDUVppTXdBQVFrZ0VBQzBFQklBQVF6QUVBQzBIUWs4QUFRU2hCK0pQQUFCQ3RBUUFMUWRDVHdBQkJLRUg0azhBQUVLMEJBQXNnQ1NBQVFRRVE0d0VMSUFSQmdBRnFKQUFQQ3lBRVFRQTJBaEFnQkVFQk5nSUVJQVJCeEpMQUFEWUNBQ0FFUWdRM0FnZ2dCRUhBazhBQUVLUUJBQXZ1QkFFS2Z5TUFRVEJySWdNa0FDQURRUU02QUN3Z0EwRWdOZ0ljSUFOQkFEWUNLQ0FESUFFMkFpUWdBeUFBTmdJZ0lBTkJBRFlDRkNBRFFRQTJBZ3dDZndKQUFrQUNRQ0FDS0FJUUlncEZCRUFnQWlnQ0RDSUFSUTBCSUFJb0FnZ2hBU0FBUVFOMElRVWdBRUVCYTBILy8vLy9BWEZCQVdvaEJ5QUNLQUlBSVFBRFFDQUFRUVJxS0FJQUlnUUVRQ0FES0FJZ0lBQW9BZ0FnQkNBREtBSWtLQUlNRVFJQURRUUxJQUVvQWdBZ0EwRU1haUFCS0FJRUVRQUFEUU1nQVVFSWFpRUJJQUJCQ0dvaEFDQUZRUWhySWdVTkFBc01BUXNnQWlnQ0ZDSUFSUTBBSUFCQkJYUWhDeUFBUVFGclFmLy8vejl4UVFGcUlRY2dBaWdDQ0NFSUlBSW9BZ0FoQUFOQUlBQkJCR29vQWdBaUFRUkFJQU1vQWlBZ0FDZ0NBQ0FCSUFNb0FpUW9BZ3dSQWdBTkF3c2dBeUFGSUFwcUlnRkJFR29vQWdBMkFod2dBeUFCUVJ4cUxRQUFPZ0FzSUFNZ0FVRVlhaWdDQURZQ0tDQUJRUXhxS0FJQUlRUkJBQ0VKUVFBaEJnSkFBa0FDUUNBQlFRaHFLQUlBUVFGckRnSUFBZ0VMSUFSQkEzUWdDR29pRENnQ0JBMEJJQXdvQWdBaEJBdEJBU0VHQ3lBRElBUTJBaEFnQXlBR05nSU1JQUZCQkdvb0FnQWhCQUpBQWtBQ1FDQUJLQUlBUVFGckRnSUFBZ0VMSUFSQkEzUWdDR29pQmlnQ0JBMEJJQVlvQWdBaEJBdEJBU0VKQ3lBRElBUTJBaGdnQXlBSk5nSVVJQWdnQVVFVWFpZ0NBRUVEZEdvaUFTZ0NBQ0FEUVF4cUlBRW9BZ1FSQUFBTkFpQUFRUWhxSVFBZ0N5QUZRU0JxSWdWSERRQUxDeUFISUFJb0FnUlBEUUVnQXlnQ0lDQUNLQUlBSUFkQkEzUnFJZ0FvQWdBZ0FDZ0NCQ0FES0FJa0tBSU1FUUlBUlEwQkMwRUJEQUVMUVFBTElBTkJNR29rQUF1eUR3SU5md0YrSXdCQlFHb2lCQ1FBSUFRZ0FVRUFSem9BQzBHUTRjQUFLQUlBUVFKSEJFQVFuUUVMQWtBQ1FBSkFBa0FDUUNBQVFRUnJJZ0pCZ1lEQUFra0VRRUdVNGNBQUtBSUFJUWNDUUNBQ1JRUkFRUUVoQXd3QkMwSDU0OEFBTFFBQUdpQUNRUUVRMXdFaUEwVU5BZ3NnQXlBSElBSVE5d0VoQTBHUTRjQUFLQUlBUVFKSEJFQVFuUUVMSUFCQmdZREFBazhOQWlBRUlBSTJBaFFnQkNBRE5nSVFJQVFnQWpZQ0RFSDU0OEFBTFFBQUdrR1U0Y0FBS0FJQUlBSnFLQUFBSVFCQnNPTEFBQ2dDQUVVRVFFSGc0c0FBS0FJQUlRSkI0T0xBQUVFQU5nSUFJQUpGRFFZZ0JFRVlhaUFDRVFFQVFkaml3QUJCQWpZQ0FFSFE0c0FBSUFSQk9Hb3BBd0EzQXdCQnlPTEFBQ0FFUVRCcUtRTUFOd01BUWNEaXdBQWdCRUVvYWlrREFEY0RBRUc0NHNBQUlBUkJJR29wQXdBM0F3QkJzT0xBQUNBRUtRTVlJZzgzQXdBZ0Q2ZEZEUVFMSXdCQklHc2lBaVFBQWtBZ0FFRVlkQ0FBUVlEK0EzRkJDSFJ5SUFCQkNIWkJnUDREY1NBQVFSaDJjbklpQ1VIUTRzQUFLQUlBUmcwQVFkRGl3QUFnQ1RZQ0FDQUNRUUEyQWdnZ0FrS0FnSUNBSURjQ0FFRzg0c0FBS0FJQUlnWkZEUUJCc09MQUFDZ0NBQ0lIUVFocUlRQWdCeWtEQUVKL2hVS0FnWUtFaUpDZ3dJQi9neUVQQTBBZ0QxQUVRQU5BSUFkQmdBRnJJUWNnQUNrREFDQUFRUWhxSVFCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1pRDFBTkFBc0xJQWtnQnlBUGVxZEJBWFJCOEFGeGF5SURRUXhyS0FJQVR3UkFJQU5CRUdzaUEwRUlhaWdDQUNBRFFReHFLQUlBS0FJVUVRRUFJQU12QVFBaEN5QUNLQUlJSWdnZ0FpZ0NBRVlFUUNNQVFTQnJJZ01rQUNBQ0tBSUFJZ1ZCZjBZRVFFRUFRUUFRekFFQUMwRUVJQVZCQVhRaURDQUZRUUZxSUFWQkFFb2JJZ29nQ2tFRVRSc2lEVUVCZENFT0lBTWdCUVIvSUFNZ0REWUNIQ0FESUFJb0FnUTJBaFJCQWdWQkFBczJBaGdnQTBFSWFpQUtRWUNBZ0lBRVNVRUJkQ0FPSUFOQkZHb1FleUFES0FJSUJFQWdBeWdDRENBREtBSVFFTXdCQUFzZ0F5Z0NEQ0VGSUFJZ0RUWUNBQ0FDSUFVMkFnUWdBMEVnYWlRQUN5QUNLQUlFSUFoQkFYUnFJQXM3QVFBZ0FpQUlRUUZxSWdVMkFnZ0xJQTlDQVgwZ0Q0TWhEeUFHUVFGcklnWU5BQXNnQWlnQ0JDRURJQUlvQWdBaENTQUZCRUFnQlVFQmRDRUhJQU1oQUFOQUlBSWdBQzhCQURzQkRpQUNRUkJxUWNEaXdBQWdBa0VPYWlJRkVEb2dCUkJGQWtBZ0FpZ0NHQ0lGUlEwQUlBSW9BaHdpQmlnQ0FDSUlCRUFnQlNBSUVRRUFDeUFHS0FJRUlnaEZEUUFnQlNBSUlBWW9BZ2dRNHdFTElBQkJBbW9oQUNBSFFRSnJJZ2NOQUFzTElBbEZEUUFnQXlBSlFRRjBRUUlRNHdFTElBSkJJR29rQUFKQUlBRkZCRUFnQkVFTWFrRUFFQ2tNQVF0Qi9PREFBQ2dDQUVHQWdJQ0FlRVlFUUVHSTRjQUFLQUlBSVFCQmlPSEFBRUVBTmdJQUlBQkZEUWNnQkVFWWFpQUFFUUVBUWZqZ3dBQkJBallDQUVIODRNQUFJQVFwQWhnaUR6Y0NBRUdFNGNBQUlBUkJJR29vQWdBMkFnQWdENmRCZ0lDQWdIaEdEUVlMSXdCQk1Hc2lBQ1FBSUFSQkRHb2lDaWdDQkNFTElBUkJDMm9oQXlBS0tBSUlJZ0pCL09EQUFDZ0NBRUdFNGNBQUtBSUFJZ0ZyU3dSQVFmemd3QUFnQVNBQ0VIUkJoT0hBQUNnQ0FDRUJDMEdBNGNBQUtBSUFJQUZxSUFzZ0FoRDNBUnBCaE9IQUFDQUJJQUpxSWdFMkFnQUNRQUpBQWtBZ0FVRURTUTBBSUFNdEFBQkJBRWNoREFOQUlBRkJnT0hBQUNnQ0FDSUNMUUFBUVFoMElBSXRBQUZ5UVFKcUlnTkpEUUZCaE9IQUFFRUFOZ0lBSUFCQi9PREFBRFlDRkNBQUlBTTJBaGdnQUNBQklBTnJOZ0ljSUFBZ0FqWUNEQ0FBSUFJZ0EybzJBaEJCQUNFQlFRQWhBeUFBUVF4cUlnVW9BZ1FpQmlBRktBSUFJZ0pySVFjQ1FBSkFJQUlnQmtjRVFBSkFJQWRCQUVnTkFFSDU0OEFBTFFBQUdrRUJJUU1nQjBFQkVOY0JJZ2xGRFFBZ0IwRURjU0VESUFJZ0JtdEJmRTBFUUNBSFFmei8vLzhIY1NFTkEwQWdBU0FKYWlJR0lBRWdBbW9pQ0MwQUFEb0FBQ0FHUVFGcUlBaEJBV290QUFBNkFBQWdCa0VDYWlBSVFRSnFMUUFBT2dBQUlBWkJBMm9nQ0VFRGFpMEFBRG9BQUNBTklBRkJCR29pQVVjTkFBc2dBU0FDYWlFQ0N5QUZLQUlRSVFZZ0F3UkFBMEFnQVNBSmFpQUNMUUFBT2dBQUlBRkJBV29oQVNBQ1FRRnFJUUlnQTBFQmF5SUREUUFMQ3lBR0RRSU1Bd3NnQXlBSEVNd0JBQXRCQVNFSklBVW9BaEFpQmtVTkFRc2dCU2dDRENJSUlBVW9BZ2dpQWlnQ0NDSURSd1JBSUFJb0FnUWlCU0FEYWlBRklBaHFJQVlROWdFYUN5QUNJQU1nQm1vMkFnZ0xJQUFnQVRZQ0NDQUFJQWsyQWdRZ0FDQUhOZ0lBSUFBb0FnZ2lBVUVCVFEwQ0lBQkJBRFlDQ0NBQlFRSnJJZ0VFUUNBQUtBSUVJZ0lnQWtFQ2FpQUJFUFlCR2lBQUlBRTJBZ2dMSUFCQktHb2dBRUVJYWlnQ0FEWUNBQ0FBSUFBcEFnQTNBeUFnQUVFZ2FpQU1FQ2xCaE9IQUFDZ0NBQ0lCUVFKTERRQUxDeUFLS0FJQUlnRUVRQ0FMSUFGQkFSRGpBUXNnQUVFd2FpUUFEQUVMUVFJZ0FVSE1nTUFBRUpJQkFBc0xJQVJCUUdza0FBOExJQUpCZ0lEQUFrSDRpOEFBRUpJQkFBdEJBU0FDRU13QkFBc2dBRUdBZ01BQ1FZaU13QUFRa2dFQUMwSFFrOEFBUVNoQitKUEFBQkN0QVFBTFFkQ1R3QUJCS0VINGs4QUFFSzBCQUFzZ0JFRUFOZ0lvSUFSQkFUWUNIQ0FFUWNTU3dBQTJBaGdnQkVJRU53SWdJQVJCR0dwQndKUEFBQkNrQVFBTCtBVUJDSDhqQUVFZ2F5SUVKQUFnQUNnQ0FDRUZBa0FDUUFKQUEwQUNRQUpBQWtBQ1FDQUZRUU54SWdjT0F3RUNCUUFMQTBBTUFBc0FDeUFCRFFFTEVLSUJJUWdnQUNBRVFRaHFJQWR5SWdrZ0FDZ0NBQ0lESUFNZ0JVWWlCaHMyQWdBZ0JDQUlOZ0lJSUFRZ0JTQUhhellDRENBRVFRQTZBQkFDUUNBR1JRUkFRUUFnQjJzaENnTkFJQU1pQlVFRGNTQUhSdzBDQWtBZ0JDZ0NDQ0lEUlEwQUlBTWdBeWdDQUNJRFFRRnJOZ0lBSUFOQkFVY05BQ0FFS0FJSUVKc0JDeENpQVNFSUlBQWdDU0FBS0FJQUlnTWdBeUFGUmlJR0d6WUNBQ0FFUVFBNkFCQWdCQ0FJTmdJSUlBUWdCU0FLYWpZQ0RDQUdSUTBBQ3dzZ0JDMEFFRVVFUUFOQUl3QkJFR3NpQlNRQVFmam93QUFvQWdBaUJrVUVRQkJyUWZqb3dBQW9BZ0FoQmdzZ0JpQUdLQUlBSWdOQkFXbzJBZ0FDUUFKQUlBTkJBRTRFUUNBR1JRMEJJQVlnQmlnQ0FDSURRUUZyTmdJQUlBVWdCallDRENBRFFRRkdCRUFnQlVFTWFoQ1lBUXNnQlVFUWFpUUFEQUlMQUF0Qno2M0FBRUhlQUVITXJzQUFFSmtCQUFzZ0JDMEFFRVVOQUFzTEFrQWdCQ2dDQ0NJRFJRMEFJQU1nQXlnQ0FDSURRUUZyTmdJQUlBTkJBVWNOQUNBRUtBSUlFSnNCQ3lBQUtBSUFJUVVNQWdzQ1FDQUVLQUlJSWdORkRRQWdBeUFES0FJQUlnTkJBV3MyQWdBZ0EwRUJSdzBBSUFRb0FnZ1Ftd0VMSUFBb0FnQWhCUXdCQ3lBQUlBVkJBV29nQUNnQ0FDSURJQU1nQlVZYk5nSUFJQU1nQlVjZ0F5RUZEUUFMSUFFZ0FpZ0NFQkVFQUNFQklBQW9BZ0FoQWlBQVFRSkJBQ0FCR3pZQ0FDQUVJQUpCQTNFaUFEWUNCQ0FBUVFGSERRRWdBa0VCYXlJRFJRMEFBMEFnQXlnQ0FDRUNJQU5CQURZQ0FDQUNSUTBESUFNb0FnUWdBMEVCT2dBSUlBSWdBaWdDQUNJQlFRRnJOZ0lBSUFGQkFVWUVRQ0FDRUpzQkN5SUREUUFMQ3lBRVFTQnFKQUFQQ3lBRVFRQTJBZ2dqQUVFUWF5SUFKQUFnQUVHWXFzQUFOZ0lNSUFBZ0JFRUVhallDQ0NBQVFRaHFRWkNwd0FBZ0FFRU1ha0dRcWNBQUlBUkJDR3BCbktyQUFCQk9BQXRCaUtyQUFCRG5BUUFMa3dRQkMzOGdBVUVCYXlFTklBQW9BZ1FoQ2lBQUtBSUFJUXNnQUNnQ0NDRU1BMEFDUUFKQUlBSWdBMGtOQUFOQUlBRWdBMm9oQlFKQUFrQUNRQ0FDSUFOcklnZEJCMDBFUUNBQ0lBTkhEUUVnQWlFRERBVUxBa0FnQlVFRGFrRjhjU0lHSUFWcklnUUVRRUVBSVFBRFFDQUFJQVZxTFFBQVFRcEdEUVVnQkNBQVFRRnFJZ0JIRFFBTElBUWdCMEVJYXlJQVRRMEJEQU1MSUFkQkNHc2hBQXNEUUNBR1FRUnFLQUlBSWdsQmlwU28wQUJ6UVlHQ2hBaHJJQWxCZjNOeElBWW9BZ0FpQ1VHS2xLalFBSE5CZ1lLRUNHc2dDVUYvYzNGeVFZQ0Jnb1I0Y1EwQ0lBWkJDR29oQmlBRVFRaHFJZ1FnQUUwTkFBc01BUXRCQUNFQUEwQWdBQ0FGYWkwQUFFRUtSZzBDSUFjZ0FFRUJhaUlBUncwQUN5QUNJUU1NQXdzZ0JDQUhSZ1JBSUFJaEF3d0RDd05BSUFRZ0JXb3RBQUJCQ2tZRVFDQUVJUUFNQWdzZ0J5QUVRUUZxSWdSSERRQUxJQUloQXd3Q0N5QUFJQU5xSWdaQkFXb2hBd0pBSUFJZ0JrME5BQ0FBSUFWcUxRQUFRUXBIRFFCQkFDRUZJQU1oQmlBRElRQU1Bd3NnQWlBRFR3MEFDd3RCQVNFRklBSWlBQ0FJSWdaSERRQkJBQThMQWtBZ0RDMEFBRVVOQUNBTFFkakd3QUJCQkNBS0tBSU1FUUlBUlEwQVFRRVBDMEVBSVFRZ0FDQUlSd1JBSUFBZ0RXb3RBQUJCQ2tZaEJBc2dBQ0FJYXlFQUlBRWdDR29oQnlBTUlBUTZBQUFnQmlFSUlBc2dCeUFBSUFvb0Fnd1JBZ0FpQUNBRmNrVU5BQXNnQUF1R0JBSUdmd0YrSXdCQk1Hc2lBaVFBSUFJZ0FEWUNBQ0FBS0FJSUlRVWdBaUFCTmdJRUlBRW9BZ2doQVNBQ1FRTTJBaHdnQWtIc25NQUFOZ0lZSUFKQ0FqY0NKQ0FDSUFKQkJHcXRRb0NBZ0lEZ0JJUTNBeEFnQWlBQ3JVS0FnSUNBNEFTRUlnZzNBd2dnQWlBQ1FRaHFOZ0lnSUFKQkdHb1FjaUFGSUFFZ0FTQUZTeHNpQXdSQVFRQWhBQU5BQWtBZ0FpZ0NBQ0lFS0FJSUlnWWdBRXNFUUNBQUlBSW9BZ1FpQmlnQ0NDSUhTUTBCSUFBZ0IwRzRuY0FBRUpFQkFBc2dBQ0FHUWFpZHdBQVFrUUVBQ3lBRUtBSUVJQUJxSWdRZ0JpZ0NCQ0FBYWkwQUFDQUVMUUFBY3pvQUFDQUFRUUZxSWdBZ0EwY05BQXNMQWtBQ1FBSkFJQUVnQlVrTkFDQUJJQUlvQWdRaUFDZ0NDQ0lEU3cwQklBQW9BZ1FoQmlBQ0tBSUFJUVFnQVNBRmF5RUFRUUVoQXlBQklBVkdJZ2RGQkVCQkFDRUJJQUJCQUVnTkEwSDU0OEFBTFFBQUdrRUJJUUVnQUVFQkVOY0JJZ05GRFFNTElBTWdCU0FHYWlBQUVQY0JJUUVnQUNBRUtBSUFJQVFvQWdnaUEydExCRUFnQkNBRElBQVFkQ0FFS0FJSUlRTUxJQVFvQWdRZ0Eyb2dBU0FBRVBjQkdpQUVJQUFnQTJvMkFnZ2dCdzBBSUFFZ0FFRUJFT01CQ3lBQ1FRSTJBaHdnQWtHWW5jQUFOZ0lZSUFKQ0FUY0NKQ0FDSUFnM0F3Z2dBaUFDUVFocU5nSWdJQUpCR0dvUWNpQUNRVEJxSkFBUEN5QUJJQU5CaEozQUFCQ1NBUUFMSUFFZ0FCRE1BUUFMcVFZQkJYOGpBRUVRYXlJSEpBQWdBQ2dDbUFFaEJTQUFRUUEyQXBnQklBVUVRQ0FBS0FLVUFTRUVBMEFnQkNnQ0FDSUdCRUFnQkVFRWFpZ0NBQ0FHUVFFUTR3RUxJQVJCSEdvaEJDQUZRUUZySWdVTkFBc0xJQUFvQWxRRVFDQUFLQUpNSWdRRVFDQUFLQUpJUWY4QklBUkJDV29ROVFFYUN5QUFRUUEyQWxRZ0FDQUVJQVJCQVdwQkEzWkJCMndnQkVFSVNSczJBbEFMSUFBb0Fud0VRQ0FBS0FKMElnUUVRQ0FBS0FKd1FmOEJJQVJCQ1dvUTlRRWFDeUFBUVFBMkFud2dBQ0FFSUFSQkFXcEJBM1pCQjJ3Z0JFRUlTUnMyQW5nTElBQW9BZ3dFUUNBQUtBSUVJZ1FFUUNBQUtBSUFRZjhCSUFSQkNXb1E5UUVhQ3lBQVFRQTJBZ3dnQUNBRUlBUkJBV3BCQTNaQkIyd2dCRUVJU1JzMkFnZ0xJQUFvQWl3RVFDQUFLQUlrSWdRRVFDQUFLQUlnUWY4QklBUkJDV29ROVFFYUN5QUFRUUEyQWl3Z0FDQUVJQVJCQVdwQkEzWkJCMndnQkVFSVNSczJBaWdMSXdCQjhBQnJJZ1FrQUFKQUFrQUNRRUdXNHNBQUxRQUFRUUpHQkVCQnFPTEFBQ2dDQUNFRlFhaml3QUJCQURZQ0FDQUZSUTBCSUFRZ0JSRUJBRUd3NGNBQUlBUkI4QUFROXdFYVFhRGl3QUJCQWpZQ0FFR1c0c0FBTFFBQVFRSkdEUUlMSUFFZ0FoQW5JZ0lvQWt3aEJpQUNRUUEyQWt3Z0JnUkFJQUlvQWtnaEJRTkFJQVVvQWdBaUNBUkFJQVZCQkdvb0FnQWdDRUVCRU9NQkN5QUZRUnhxSVFVZ0JrRUJheUlHRFFBTEN5QUNRUUE2QUZJZ0FrRUFOZ0pBSUFJb0Fnd0VRQ0FDS0FJRUlnVUVRQ0FDS0FJQVFmOEJJQVZCQ1dvUTlRRWFDeUFDUVFBMkFnd2dBaUFGSUFWQkFXcEJBM1pCQjJ3Z0JVRUlTUnMyQWdnTElBSWdBenNCVUNBQ1FRQTZBRHdnQkVId0FHb2tBQXdDQ3lBRVFRQTJBaEFnQkVFQk5nSUVJQVJCeEpMQUFEWUNBQ0FFUWdRM0FnZ2dCRUhBazhBQUVLUUJBQXRCMEpQQUFFRW9RZmlUd0FBUXJRRUFDeUFBSUFNN0FXaEIrZVBBQUMwQUFCcEJCRUVCRU5jQklnSkZCRUJCQVVFRUVNd0JBQXNnQWtFQU9nQUNJQUpCZ0FRN0FBQWdBaUFCUVNCeU9nQURJQWRCQ0dwQkFEb0FBQ0FIUWdBM0F3QWdBa0VFSUFjUU1DQUNRUVJCQVJEakFTQUFJQU03QVp3QklBQkJBRG9BbmdFZ0IwRVFhaVFBQzd3REFRUi9JQUFvQXZRQklRSWdBQ2dDK0FFaUF3UkFJQUloQVFOQUlBRW9BZ0FpQkFSQUlBRkJCR29vQWdBZ0JFRUJFT01CQ3lBQlFSeHFJUUVnQTBFQmF5SUREUUFMQ3lBQUtBTHdBU0lCQkVBZ0FpQUJRUnhzUVFRUTR3RUxBa0FnQUNnQ3JBRWlBVVVOQUNBQklBRkJBWFJCQ1dwQmVIRWlBbXBCQ1dvaUFVVU5BQ0FBS0FLb0FTQUNheUFCUVFnUTR3RUxBa0FnQUNnQzFBRWlBVVVOQUNBQklBRkJGR3hCRzJwQmVIRWlBbXBCQ1dvaUFVVU5BQ0FBS0FMUUFTQUNheUFCUVFnUTR3RUxBa0FnQUNnQ1pDSUJSUTBBSUFFZ0FVRUdiRUVOYWtGNGNTSUNha0VKYWlJQlJRMEFJQUFvQW1BZ0Ftc2dBVUVJRU9NQkN3SkFJQUFvQW9RQklnRkZEUUFnQVNBQlFRSjBRUXRxUVhoeElnSnFRUWxxSWdGRkRRQWdBQ2dDZ0FFZ0Ftc2dBVUVJRU9NQkN5QUFLQUpRSVFJZ0FDZ0NWQ0lEQkVBZ0FpRUJBMEFnQVNnQ0FDSUVCRUFnQVVFRWFpZ0NBQ0FFUVFFUTR3RUxJQUZCSEdvaEFTQURRUUZySWdNTkFBc0xJQUFvQWt3aUFRUkFJQUlnQVVFY2JFRUVFT01CQ3dKQUlBQW9BZ3dpQVVVTkFDQUJJQUZCQTNRaUFtcEJFV29pQVVVTkFDQUFLQUlJSUFKclFRaHJJQUZCQ0JEakFRc0x2d01DQm40Q2Z5TUFRZEFBYXlJSUpBQWdDRUZBYXlJSlFnQTNBd0FnQ0VJQU53TTRJQWdnQUNrRENDSUNOd013SUFnZ0FDa0RBQ0lETndNb0lBZ2dBa0x6eXRITHA0elpzdlFBaFRjRElDQUlJQUpDN2Q2Ujg1Yk0zTGZrQUlVM0F4Z2dDQ0FEUXVIa2xmUFc3Tm04N0FDRk53TVFJQWdnQTBMMXlzMkQxNnpidC9NQWhUY0RDQ0FJSUFFdkFRQTdBVTRnQ0VFSWFpQUlRYzRBYWtFQ0VDOGdDQ2tEQ0NFRElBZ3BBeGdoQWlBSk5RSUFJUVlnQ0NrRE9DRUVJQWdwQXlBZ0NDa0RFQ0VISUFoQjBBQnFKQUFnQkNBR1FqaUdoQ0lHaFNJRVFoQ0pJQVFnQjN3aUJJVWlCVUlWaVNBRklBSWdBM3dpQTBJZ2lYd2lCWVVpQjBJUWlTQUhJQVFnQWtJTmlTQURoU0lDZkNJRFFpQ0pRdjhCaFh3aUJJVWlCMElWaVNBSElBTWdBa0lSaVlVaUFpQUZJQWFGZkNJRFFpQ0pmQ0lHaFNJRlFoQ0pJQVVnQXlBQ1FnMkpoU0lDSUFSOElnTkNJSWw4SWdTRklnVkNGWWtnQlNBRElBSkNFWW1GSWdJZ0Jud2lBMElnaVh3aUJvVWlCVUlRaVNBRklBSkNEWWtnQTRVaUFpQUVmQ0lEUWlDSmZDSUVoVUlWaVNBQ1FoR0pJQU9GSWdKQ0RZa2dBaUFHZklVaUFrSVJpWVVnQWlBRWZDSUNRaUNKaFNBQ2hRdS9Bd0lHZmdKL0l3QkIwQUJySWdna0FDQUlRVUJySWdsQ0FEY0RBQ0FJUWdBM0F6Z2dDQ0FBS1FNSUlnSTNBekFnQ0NBQUtRTUFJZ00zQXlnZ0NDQUNRdlBLMGN1bmpObXk5QUNGTndNZ0lBZ2dBa0x0M3BIemxzemN0K1FBaFRjREdDQUlJQU5DNGVTVjg5YnMyYnpzQUlVM0F4QWdDQ0FEUXZYS3pZUFhyTnUzOHdDRk53TUlJQWdnQVNnQ0FEWUNUQ0FJUVFocUlBaEJ6QUJxUVFRUUx5QUlLUU1JSVFNZ0NDa0RHQ0VDSUFrMUFnQWhCaUFJS1FNNElRUWdDQ2tESUNBSUtRTVFJUWNnQ0VIUUFHb2tBQ0FFSUFaQ09JYUVJZ2FGSWdSQ0VJa2dCQ0FIZkNJRWhTSUZRaFdKSUFVZ0FpQURmQ0lEUWlDSmZDSUZoU0lIUWhDSklBY2dCQ0FDUWcySklBT0ZJZ0o4SWdOQ0lJbEMvd0dGZkNJRWhTSUhRaFdKSUFjZ0F5QUNRaEdKaFNJQ0lBVWdCb1Y4SWdOQ0lJbDhJZ2FGSWdWQ0VJa2dCU0FESUFKQ0RZbUZJZ0lnQkh3aUEwSWdpWHdpQklVaUJVSVZpU0FGSUFNZ0FrSVJpWVVpQWlBR2ZDSURRaUNKZkNJR2hTSUZRaENKSUFVZ0FrSU5pU0FEaFNJQ0lBUjhJZ05DSUlsOElnU0ZRaFdKSUFKQ0VZa2dBNFVpQWtJTmlTQUNJQVo4aFNJQ1FoR0poU0FDSUFSOElnSkNJSW1GSUFLRkM3OERBZ1orQW44akFFSFFBR3NpQ0NRQUlBaEJRR3NpQ1VJQU53TUFJQWhDQURjRE9DQUlJQUFwQXdnaUFqY0RNQ0FJSUFBcEF3QWlBemNES0NBSUlBSkM4OHJSeTZlTTJiTDBBSVUzQXlBZ0NDQUNRdTNla2ZPV3pOeTM1QUNGTndNWUlBZ2dBMExoNUpYejF1elp2T3dBaFRjREVDQUlJQU5DOWNyTmc5ZXMyN2Z6QUlVM0F3Z2dDQ0FCTFFBQU9nQlBJQWhCQ0dvZ0NFSFBBR3BCQVJBdklBZ3BBd2doQXlBSUtRTVlJUUlnQ1RVQ0FDRUdJQWdwQXpnaEJDQUlLUU1nSUFncEF4QWhCeUFJUWRBQWFpUUFJQVFnQmtJNGhvUWlCb1VpQkVJUWlTQUVJQWQ4SWdTRklnVkNGWWtnQlNBQ0lBTjhJZ05DSUlsOElnV0ZJZ2RDRUlrZ0J5QUVJQUpDRFlrZ0E0VWlBbndpQTBJZ2lVTC9BWVY4SWdTRklnZENGWWtnQnlBRElBSkNFWW1GSWdJZ0JTQUdoWHdpQTBJZ2lYd2lCb1VpQlVJUWlTQUZJQU1nQWtJTmlZVWlBaUFFZkNJRFFpQ0pmQ0lFaFNJRlFoV0pJQVVnQXlBQ1FoR0poU0lDSUFaOElnTkNJSWw4SWdhRklnVkNFSWtnQlNBQ1FnMkpJQU9GSWdJZ0JId2lBMElnaVh3aUJJVkNGWWtnQWtJUmlTQURoU0lDUWcySklBSWdCbnlGSWdKQ0VZbUZJQUlnQkh3aUFrSWdpWVVnQW9VTHB3NENGbjhFZmlNQVFSQnJJaEVrQUNBUklBRTdBUTRnQUVFUWFpSVBJQkZCRG1vUU9pRVpJQUFvQWdoRkJFQWpBRUVnYXlJTkpBQUNRQUpBQWtBQ1FDQUFLQUlNSWdkQkFXb2lBaUFIVHdSQUlBQW9BZ1FpQ2lBS1FRRnFJZ3RCQTNZaUJFRUhiQ0FLUVFoSkd5SUlRUUYySUFKSkJFQUNmeUFDSUFoQkFXb2dBaUFJU3hzaUFrRUlUd1JBUVg4Z0FrRURkRUVIYmtFQmEyZDJRUUZxSUFKQi8vLy8vd0ZORFFFYUVLTUJJQTBvQWhnYURBY0xRUVJCQ0NBQ1FRUkpHd3NpQWtFQmRFRUhha0Y0Y1NJRElBSkJDR29pQm1vaUJFSDUvLy8vQjA4RVFCQ2pBU0FOS0FJSUdnd0dDMEg1NDhBQUxRQUFHaUFFUVFnUTF3RWlCVVVFUUNBRUVNVUJJQTBvQWhBYURBWUxJQU1nQldwQi93RWdCaEQxQVNFSUlBSkJBV3NpQ1NBQ1FRTjJRUWRzSUFKQkNVa2JJUkFnQjBVRVFDQUFLQUlBSVFNTUJRc2dDRUVJYWlFU0lBQW9BZ0FpQTBFQ2F5RVRJQU1wQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oR0NBRElRUWdCeUVHQTBBZ0dGQUVRQ0FFSVFJRFFDQU1RUWhxSVF3Z0Fpa0RDQ0FDUVFocUlnUWhBa0ovaFVLQWdZS0VpSkNnd0lCL2d5SVlVQTBBQ3dzZ0NDQUpJQThnRXlBWWVxZEJBM1lnREdvaUZFRUJkR3NRT3FjaUZYRWlCV29wQUFCQ2dJR0NoSWlRb01DQWY0TWlHbEFFUUVFSUlRSURRQ0FDSUFWcUlRVWdBa0VJYWlFQ0lBZ2dCU0FKY1NJRmFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJYVVBMEFDd3NnR0VJQmZTQVlneUVZSUFnZ0ducW5RUU4ySUFWcUlBbHhJZ0pxTEFBQVFRQk9CRUFnQ0NrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklRSUxJQUlnQ0dvZ0ZVRVpkaUlGT2dBQUlCSWdBa0VJYXlBSmNXb2dCVG9BQUNBSUlBSkJmM05CQVhScUlBTWdGRUYvYzBFQmRHb3ZBQUE3QVFBZ0JrRUJheUlHRFFBTERBUUxRUUFoQWlBQUtBSUFJUU1DUUNBRUlBdEJCM0ZCQUVkcUlnUkZEUUFnQkVFQlJ3UkFJQVJCL3YvLy93TnhJUVVEUUNBQ0lBTnFJZ1lnQmlrREFDSVlRbitGUWdlSVFvR0NoSWlRb01DQUFZTWdHRUwvL3YzNzkrL2Z2LzhBaEh3M0F3QWdCa0VJYWlJR0lBWXBBd0FpR0VKL2hVSUhpRUtCZ29TSWtLREFnQUdESUJoQy8vNzkrL2Z2MzcvL0FJUjhOd01BSUFKQkVHb2hBaUFGUVFKcklnVU5BQXNMSUFSQkFYRkZEUUFnQWlBRGFpSUNJQUlwQXdBaUdFSi9oVUlIaUVLQmdvU0lrS0RBZ0FHRElCaEMvLzc5Ky9mdjM3Ly9BSVI4TndNQUN5QUxRUWhQQkVBZ0F5QUxhaUFES1FBQU53QUFEQUlMSUFOQkNHb2dBeUFMRVBZQkdpQUxEUUZCQUNFSURBSUxFS01CSUEwb0FnQWFEQU1MSUFOQkNHb2hDeUFEUVFKcklSSkJBQ0VDQTBBQ1FDQURJQUlpQkdvaURDMEFBRUdBQVVjTkFDQVNJQVJCQVhScklSTWdBeUFFUVg5elFRRjBhaUVHQWtBRFFDQUtJQThnRXhBNnB5SVFjU0lKSVFVZ0F5QUphaWtBQUVLQWdZS0VpSkNnd0lCL2d5SVlVQVJBUVFnaEFnTkFJQUlnQldvaEJTQUNRUWhxSVFJZ0F5QUZJQXB4SWdWcUtRQUFRb0NCZ29TSWtLREFnSCtESWhoUURRQUxDeUFESUJoNnAwRURkaUFGYWlBS2NTSUNhaXdBQUVFQVRnUkFJQU1wQXdCQ2dJR0NoSWlRb01DQWY0TjZwMEVEZGlFQ0N5QUNJQWxySUFRZ0NXdHpJQXB4UVFoUEJFQWdBaUFEYWlJRkxRQUFJQVVnRUVFWmRpSUZPZ0FBSUFzZ0FrRUlheUFLY1dvZ0JUb0FBQ0FESUFKQmYzTkJBWFJxSVFKQi93RkdEUUlnQmkwQUFDRUZJQVlnQWkwQUFEb0FBQ0FHTFFBQklRa2dCaUFDTFFBQk9nQUJJQUlnQlRvQUFDQUNJQWs2QUFFTUFRc0xJQXdnRUVFWmRpSUNPZ0FBSUFzZ0JFRUlheUFLY1dvZ0Fqb0FBQXdCQ3lBTVFmOEJPZ0FBSUFzZ0JFRUlheUFLY1dwQi93RTZBQUFnQWlBR0x3QUFPd0FBQ3lBRVFRRnFJUUlnQkNBS1J3MEFDd3NnQUNBSUlBZHJOZ0lJREFFTElBQWdDVFlDQkNBQUlBZzJBZ0FnQUNBUUlBZHJOZ0lJSUFwRkRRQWdBeUFMUVFGMFFRZHFRWGh4SWdKcklBSWdDbXBCQ1dwQkNCRGpBUXNnRFVFZ2FpUUFDeUFBS0FJQUlnUkJBbXNoRHlBWlFobUlJaHBDL3dDRFFvR0NoSWlRb01DQUFYNGhHeUFacHlFSElBQW9BZ1FoQXlBQlFmLy9BM0VoQmdKQUEwQWdCQ0FESUFkeElnZHFLUUFBSWhrZ0c0VWlHRUovaFNBWVFvR0NoSWlRb01DQUFYMkRRb0NCZ29TSWtLREFnSCtESWhoUVJRUkFBMEFnRHlBWWVxZEJBM1lnQjJvZ0EzRkJBWFJyTHdFQUlBWkdEUU1nR0VJQmZTQVlneUlZVUVVTkFBc0xJQmxDZ0lHQ2hJaVFvTUNBZjRNaEdFRUJJUUlnRmtFQlJ3UkFJQmg2cDBFRGRpQUhhaUFEY1NFT0lCaENBRkloQWdzZ0dDQVpRZ0dHZzFBRVFDQUhJQmRCQ0dvaUYyb2hCeUFDSVJZTUFRc0xJQVFnRG1vc0FBQWlCMEVBVGdSQUlBUWdCQ2tEQUVLQWdZS0VpSkNnd0lCL2czcW5RUU4ySWc1cUxRQUFJUWNMSUFRZ0Rtb2dHcWRCL3dCeElnSTZBQUFnQkNBT1FRaHJJQU54YWtFSWFpQUNPZ0FBSUFBZ0FDZ0NDQ0FIUVFGeGF6WUNDQ0FBSUFBb0FneEJBV28yQWd3Z0JDQU9RUUYwYTBFQ2F5QUJPd0VBQ3lBUlFSQnFKQUFMcXhVQ0ZuOEVmaU1BUVNCckloQWtBQ0FRUVFocUlSRWdBU2dDRENFVEl3QkJFR3NpRkNRQUlCUWdFellDRENBQVFSQnFJQlJCREdvUU95RWJJQUFvQWdBaUJVRVVheUVFSUFBb0FnUWlDaUFicDNFaEF5QWJRaG1JUXY4QWcwS0Jnb1NJa0tEQWdBRitJUndDZndKQUEwQUNRQ0FESUFWcUtRQUFJaG9nSElVaUdVSi9oU0FaUW9HQ2hJaVFvTUNBQVgyRFFvQ0Jnb1NJa0tEQWdIK0RJaGxRUlFSQUEwQWdCRUVBSUJsNnAwRURkaUFEYWlBS2NXc2lCMEVVYkdvb0FnQWdFMFlOQWlBWlFnRjlJQm1ESWhsUVJRMEFDd3NnR2lBYVFnR0dnMEtBZ1lLRWlKQ2d3SUIvZzFCRkRRSWdBeUFKUVFocUlnbHFJQXB4SVFNTUFRc0xJQkVnRXpZQ0NDQVJRUUUyQWdRZ0VTQUZJQWRCRkd4cU5nSU1RUUFoQTBFUURBRUxJQUFvQWdoRkJFQWdBRUVRYWlFWEl3QkJJR3NpRWlRQUFrQUNRQUpBQWtBZ0FDZ0NEQ0lLUVFGcUlnTWdDazhFUUNBQUtBSUVJZ2tnQ1VFQmFpSVBRUU4ySWdWQkIyd2dDVUVJU1JzaURFRUJkaUFEU1FSQUFrQUNRQUovSUFNZ0RFRUJhaUFESUF4TEd5SURRUWhQQkVCQmZ5QURRUU4wUVFkdVFRRnJaM1pCQVdvZ0EwSC8vLy8vQVUwTkFSb1Fvd0VnRWlnQ0dCb01DUXRCQkVFSUlBTkJCRWtiQ3lJRHJVSVVmaUlaUWlDSXB3MEFJQm1uSWdWQmVFc05BQ0FGUVFkcVFYaHhJZ1FnQTBFSWFpSUhhaUlGSUFSSkRRQWdCVUg1Ly8vL0Iwa05BUXNRb3dFZ0VpZ0NDQm9NQmd0QitlUEFBQzBBQUJvZ0JVRUlFTmNCSWdaRkJFQWdCUkRGQVNBU0tBSVFHZ3dHQ3lBRUlBWnFRZjhCSUFjUTlRRWhEQ0FEUVFGcklnZ2dBMEVEZGtFSGJDQURRUWxKR3lFTElBcEZCRUFnQUNnQ0FDRUVEQVVMSUF4QkNHb2hGU0FBS0FJQUlnUkJGR3NoRmlBRUtRTUFRbitGUW9DQmdvU0lrS0RBZ0grRElSa2dCQ0VGUVFBaEJpQUtJUWNEUUNBWlVBUkFJQVVoQXdOQUlBWkJDR29oQmlBREtRTUlJQU5CQ0dvaUJTRURRbitGUW9DQmdvU0lrS0RBZ0grRElobFFEUUFMQ3lBTUlBZ2dGeUFXSUJsNnAwRURkaUFHYWlJT1FXeHNhaEE3cHlJWWNTSU5haWtBQUVLQWdZS0VpSkNnd0lCL2d5SWFVQVJBUVFnaEF3TkFJQU1nRFdvaERTQURRUWhxSVFNZ0RDQUlJQTF4SWcxcUtRQUFRb0NCZ29TSWtLREFnSCtESWhwUURRQUxDeUFaUWdGOUlCbURJUmtnRENBYWVxZEJBM1lnRFdvZ0NIRWlBMm9zQUFCQkFFNEVRQ0FNS1FNQVFvQ0Jnb1NJa0tEQWdIK0RlcWRCQTNZaEF3c2dBeUFNYWlBWVFSbDJJZzA2QUFBZ0ZTQURRUWhySUFoeGFpQU5PZ0FBSUF3Z0EwRi9jMEVVYkdvaUEwRVFhaUFFSUE1QmYzTkJGR3hxSWcxQkVHb29BQUEyQUFBZ0EwRUlhaUFOUVFocUtRQUFOd0FBSUFNZ0RTa0FBRGNBQUNBSFFRRnJJZ2NOQUFzTUJBdEJBQ0VESUFBb0FnQWhCd0pBSUFVZ0QwRUhjVUVBUjJvaUJVVU5BQ0FGUVFGSEJFQWdCVUgrLy8vL0EzRWhCZ05BSUFNZ0Iyb2lCQ0FFS1FNQUlobENmNFZDQjRoQ2dZS0VpSkNnd0lBQmd5QVpRdi8rL2Z2Mzc5Ky8vd0NFZkRjREFDQUVRUWhxSWdRZ0JDa0RBQ0laUW4rRlFnZUlRb0dDaElpUW9NQ0FBWU1nR1VMLy92Mzc5Ky9mdi84QWhIdzNBd0FnQTBFUWFpRURJQVpCQW1zaUJnMEFDd3NnQlVFQmNVVU5BQ0FESUFkcUlnTWdBeWtEQUNJWlFuK0ZRZ2VJUW9HQ2hJaVFvTUNBQVlNZ0dVTC8vdjM3OSsvZnYvOEFoSHczQXdBTElBOUJDRThFUUNBSElBOXFJQWNwQUFBM0FBQU1BZ3NnQjBFSWFpQUhJQThROWdFYUlBOE5BVUVBSVF3TUFnc1Fvd0VnRWlnQ0FCb01Bd3NnQjBFSWFpRVBJQWRCRkdzaEZVRUFJUU1EUUFKQUlBY2dBeUlGYWlJTkxRQUFRWUFCUncwQUlCVWdCVUZzYkdvaEZpQUhJQVZCZjNOQkZHeHFJUVFDUUFOQUlBa2dGeUFXRUR1bklndHhJZ2doQmlBSElBaHFLUUFBUW9DQmdvU0lrS0RBZ0grRElobFFCRUJCQ0NFREEwQWdBeUFHYWlFR0lBTkJDR29oQXlBSElBWWdDWEVpQm1vcEFBQkNnSUdDaElpUW9NQ0FmNE1pR1ZBTkFBc0xJQWNnR1hxblFRTjJJQVpxSUFseElnTnFMQUFBUVFCT0JFQWdCeWtEQUVLQWdZS0VpSkNnd0lCL2czcW5RUU4ySVFNTElBTWdDR3NnQlNBSWEzTWdDWEZCQ0U4RVFDQURJQWRxSWdZdEFBQWdCaUFMUVJsMklnWTZBQUFnRHlBRFFRaHJJQWx4YWlBR09nQUFJQWNnQTBGL2MwRVViR29oQTBIL0FVWU5BaUFFTFFBQklRWWdCQ0FETFFBQk9nQUJJQVF0QUFJaENDQUVJQU10QUFJNkFBSWdCQzBBQXlFTElBUWdBeTBBQXpvQUF5QUVMUUFBSVE0Z0JDQURMUUFBT2dBQUlBTWdCam9BQVNBRElBZzZBQUlnQXlBTE9nQURJQU1nRGpvQUFDQUVMUUFGSVFZZ0JDQURMUUFGT2dBRklBUXRBQVloQ0NBRUlBTXRBQVk2QUFZZ0JDMEFCeUVMSUFRZ0F5MEFCem9BQnlBRUxRQUVJUTRnQkNBRExRQUVPZ0FFSUFNZ0Jqb0FCU0FESUFnNkFBWWdBeUFMT2dBSElBTWdEam9BQkNBRUxRQUpJUVlnQkNBRExRQUpPZ0FKSUFRdEFBb2hDQ0FFSUFNdEFBbzZBQW9nQkMwQUN5RUxJQVFnQXkwQUN6b0FDeUFFTFFBSUlRNGdCQ0FETFFBSU9nQUlJQU1nQmpvQUNTQURJQWc2QUFvZ0F5QUxPZ0FMSUFNZ0Rqb0FDQ0FFTFFBTklRWWdCQ0FETFFBTk9nQU5JQVF0QUE0aENDQUVJQU10QUE0NkFBNGdCQzBBRHlFTElBUWdBeTBBRHpvQUR5QUVMUUFNSVE0Z0JDQURMUUFNT2dBTUlBTWdCam9BRFNBRElBZzZBQTRnQXlBTE9nQVBJQU1nRGpvQURDQUVMUUFSSVFZZ0JDQURMUUFST2dBUklBUXRBQkloQ0NBRUlBTXRBQkk2QUJJZ0JDMEFFeUVMSUFRZ0F5MEFFem9BRXlBRUxRQVFJUTRnQkNBRExRQVFPZ0FRSUFNZ0Jqb0FFU0FESUFnNkFCSWdBeUFMT2dBVElBTWdEam9BRUF3QkN3c2dEU0FMUVJsMklnTTZBQUFnRHlBRlFRaHJJQWx4YWlBRE9nQUFEQUVMSUExQi93RTZBQUFnRHlBRlFRaHJJQWx4YWtIL0FUb0FBQ0FEUVJCcUlBUkJFR29vQUFBMkFBQWdBMEVJYWlBRVFRaHFLUUFBTndBQUlBTWdCQ2tBQURjQUFBc2dCVUVCYWlFRElBVWdDVWNOQUFzTElBQWdEQ0FLYXpZQ0NBd0JDeUFBSUFnMkFnUWdBQ0FNTmdJQUlBQWdDeUFLYXpZQ0NDQUpSUTBBSUFrZ0QwRVViRUVIYWtGNGNTSURha0VKYWlJRlJRMEFJQVFnQTJzZ0JVRUlFT01CQ3lBU1FTQnFKQUFMSUJFZ0V6WUNFQ0FSSUJzM0F3aEJBU0VEUVJRTElCRWdBellDQUNBUmFpQUFOZ0lBSUJSQkVHb2tBQUpBSUJBb0FnaEZCRUFnRUNnQ0ZDRUFEQUVMSUJBb0Fod2lDaWdDQUNJRklBb29BZ1FpQkNBUUtRTVFweUlIY1NJRGFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJWlVBUkFRUWdoQUFOQUlBQWdBMm9oQXlBQVFRaHFJUUFnQlNBRElBUnhJZ05xS1FBQVFvQ0Jnb1NJa0tEQWdIK0RJaGxRRFFBTEN5QVFLQUlZSVFrZ0JTQVplcWRCQTNZZ0Eyb2dCSEVpQUdvc0FBQWlBMEVBVGdSQUlBVWdCU2tEQUVLQWdZS0VpSkNnd0lCL2czcW5RUU4ySWdCcUxRQUFJUU1MSUFBZ0JXb2dCMEVaZGlJSE9nQUFJQW9nQ2lnQ0NDQURRUUZ4YXpZQ0NDQUZJQUJCQ0dzZ0JIRnFRUWhxSUFjNkFBQWdCU0FBUVd4c2FpSUFRUlJySWdOQkJHcENBRGNDQUNBRFFRcHFRZ0EzQVFBZ0F5QUpOZ0lBSUFvZ0NpZ0NERUVCYWpZQ0RBc2dBUzBBRkFSQUlBQkJGR3NpQTBFUWFrRUJPZ0FBSUFOQkRHb2dBUzhCRURzQkFDQURRUVJxSUFJMkFnQUxJQUJCQTJzaEF3SkFJQUV0QUJWRkJFQWdBeTBBQUVVTkFTQUFRUXhySWdBZ0FDZ0NBRUVCYWpZQ0FBd0JDeUFEUVFFNkFBQWdBRUVVYXlJQVFRNXFJQUV2QVJBN0FRQWdBRUVJYWlBQ05nSUFDeUFRUVNCcUpBQUwrQU1CQW44Z0FDQUJhaUVDQWtBQ1FDQUFLQUlFSWdOQkFYRU5BQ0FEUVFKeFJRMEJJQUFvQWdBaUF5QUJhaUVCSUFBZ0Eyc2lBRUdvNk1BQUtBSUFSZ1JBSUFJb0FnUkJBM0ZCQTBjTkFVR2c2TUFBSUFFMkFnQWdBaUFDS0FJRVFYNXhOZ0lFSUFBZ0FVRUJjallDQkNBQ0lBRTJBZ0FNQWdzZ0FDQURFRklMQWtBQ1FBSkFJQUlvQWdRaUEwRUNjVVVFUUNBQ1Fhem93QUFvQWdCR0RRSWdBa0dvNk1BQUtBSUFSZzBESUFJZ0EwRjRjU0lDRUZJZ0FDQUJJQUpxSWdGQkFYSTJBZ1FnQUNBQmFpQUJOZ0lBSUFCQnFPakFBQ2dDQUVjTkFVR2c2TUFBSUFFMkFnQVBDeUFDSUFOQmZuRTJBZ1FnQUNBQlFRRnlOZ0lFSUFBZ0FXb2dBVFlDQUFzZ0FVR0FBazhFUUNBQUlBRVFXQThMSUFGQmVIRkJrT2JBQUdvaEFnSi9RWmpvd0FBb0FnQWlBMEVCSUFGQkEzWjBJZ0Z4UlFSQVFaam93QUFnQVNBRGNqWUNBQ0FDREFFTElBSW9BZ2dMSVFFZ0FpQUFOZ0lJSUFFZ0FEWUNEQ0FBSUFJMkFnd2dBQ0FCTmdJSUR3dEJyT2pBQUNBQU5nSUFRYVRvd0FCQnBPakFBQ2dDQUNBQmFpSUJOZ0lBSUFBZ0FVRUJjallDQkNBQVFham93QUFvQWdCSERRRkJvT2pBQUVFQU5nSUFRYWpvd0FCQkFEWUNBQThMUWFqb3dBQWdBRFlDQUVHZzZNQUFRYURvd0FBb0FnQWdBV29pQVRZQ0FDQUFJQUZCQVhJMkFnUWdBQ0FCYWlBQk5nSUFDd3Z3QndFSGZ5TUFRU0JySWdZa0FBSkFBa0FDUUFKQUFrQUNRQ0FCS0FJQUlnUW9BaEJGQkVBZ0JFRi9OZ0lRSUFNZ0F5QUNRUU5xUVh4eElBSnJJZ3ByUVFkeFFRQWdBeUFLVHhzaUFXc2hCUUovQWtBQ1FDQUJJQU5OQkVBQ1FDQUJSUTBBQW44Z0FpQURhaUlCSUFJZ0JXb2lCMnNpQ0VFQmF5QUJRUUZySWdrdEFBQkJDa1lOQUJvZ0J5QUpSZzBCSUFoQkFtc2dBVUVDYXlJSkxRQUFRUXBHRFFBYUlBY2dDVVlOQVNBSVFRTnJJQUZCQTJzaUNTMEFBRUVLUmcwQUdpQUhJQWxHRFFFZ0NFRUVheUFCUVFScklna3RBQUJCQ2tZTkFCb2dCeUFKUmcwQklBaEJCV3NnQVVFRmF5SUpMUUFBUVFwR0RRQWFJQWNnQ1VZTkFTQUlRUVpySUFGQkJtc2lDUzBBQUVFS1JnMEFHaUFISUFsR0RRRWdDRUVIYXlBQlFRZHJJZ0V0QUFCQkNrWU5BQm9nQVNBSFJnMEJJQWhCQ0dzTElBVnFJUUVNQXdzZ0NpQURJQU1nQ2tzYklRY0RRQ0FISUFVaUFVa0VRQ0FCUVFocklRVWdBU0FDYWlJSVFRUnJLQUlBUVlxVXFOQUFjeUlLUVlHQ2hBaHJJQXBCZjNOeElBaEJDR3NvQWdCQmlwU28wQUJ6SWdoQmdZS0VDR3NnQ0VGL2MzRnlRWUNCZ29SNGNVVU5BUXNMSUFFZ0Ewc05BU0FDUVFGcklRVURRRUVBSUFGRkRRUWFJQUVnQldvZ0FVRUJheUVCTFFBQVFRcEhEUUFMREFJTElBVWdBMEhNeWNBQUVKQUJBQXNnQVNBRFFkekp3QUFRa2dFQUMwRUJDeUVGSUFZZ0FUWUNCQ0FHSUFVMkFnQWdCaWdDQUVVRVFBSkFJQVFvQWh3aUFVVUVRRUVBSVFFTUFRc2dBU0FFS0FJWWFrRUJheTBBQUVFS1J3MEFRUUFoQVNBRVFRQTJBaHdnQkVFQU9nQWdDeUFESUFRb0FoUWdBV3RQQkVBZ0FDQUVRUlJxSUFJZ0F4Q01BUXdIQ3lBRUtBSVlJQUZxSUFJZ0F4RDNBUm9nQUVFRU9nQUFJQVFnQVNBRGFqWUNIQXdHQ3lBRElBWW9BZ1JCQVdvaUFVa05CaUFFS0FJY0lnVkZEUVFnQVNBRUtBSVVJQVZyU1EwQklBWkJDR29nQkVFVWFpQUNJQUVRakFFZ0JpMEFDRUVFUncwQ0lBUW9BaHdoQlF3REN5TUFRVEJySWdBa0FDQUFRUUUyQWd3Z0FFR2N4TUFBTmdJSUlBQkNBVGNDRkNBQUlBQkJMMnF0UW9DQWdJREFESVEzQXlBZ0FDQUFRU0JxTmdJUUlBQkJDR3BCdExiQUFCQ2tBUUFMSUFRb0FoZ2dCV29nQWlBQkVQY0JHaUFFSUFFZ0JXb2lCVFlDSEF3QkN5QUFJQVlwQXdnM0FnQU1BZ3NnQlVVTkFDQUVRUUEyQWh3Z0JFRUFPZ0FnQ3lBQklBSnFJUUlnQXlBQmF5SUJJQVFvQWhSUEJFQWdBQ0FFUVJScUlBSWdBUkNNQVF3QkN5QUVLQUlZSUFJZ0FSRDNBUm9nQUVFRU9nQUFJQVFnQVRZQ0hBc2dCQ0FFS0FJUVFRRnFOZ0lRSUFaQklHb2tBQThMSUFaQkFEWUNHQ0FHUVFFMkFnd2dCa0hzcjhBQU5nSUlJQVpDQkRjQ0VDQUdRUWhxUWZTdndBQVFwQUVBQzdVR0FnTitDSDhqQUVFUWF5SUtKQUFnQ2lBQ093RU9Ba0FDUUNBQkx3RWdJZ2NnQWtILy93TnhSeUFDSUFkclFmLy9BM0ZCdlA4QlNYRkZCRUJCQWlFSUlBRW9BZ3hGRFFJZ0FVRVFhaUlOSUFwQkRtb1FPaUVESUFFb0FnQWlDVUVDYXlFTElBRW9BZ1FpQnlBRHAzRWhCaUFEUWhtSVF2OEFnMEtCZ29TSWtLREFnQUYrSVFVZ0FrSC8vd054SVFJRFFDQUdJQWxxS1FBQUlnUWdCWVVpQTBKL2hTQURRb0dDaElpUW9NQ0FBWDJEUW9DQmdvU0lrS0RBZ0grRElnTlFSUVJBQTBBZ0N5QURlcWRCQTNZZ0Jtb2dCM0ZCQVhSckx3RUFJQUpHRFFRZ0EwSUJmU0FEZ3lJRFVFVU5BQXNMSUFRZ0JFSUJob05DZ0lHQ2hJaVFvTUNBZjROUVJRMERJQVlnREVFSWFpSU1haUFIY1NFR0RBQUxBQXNnQVNBQ093RWdJQUpCLy84RGNTQUhRUUZxSWdsQi8vOERjVVlOQVNBQ0lBbHJJZ0pCLy84RGNVRzcvd0ZMRFFFRFFDQUJJQVpCQVdvaUJpQUhhaEE5SUFaQi8vOERjU0FDUWYvL0EzRkpEUUFMSUFBZ0NUc0JCQ0FBSUFJN0FRSkJBeUVJREFFTElBcEJDR29oQ1NBTklBcEJEbW9pQmhBNklRTWdBU2dDQUNJSFFRSnJJUXNnQTBJWmlFTC9BSU5DZ1lLRWlKQ2d3SUFCZmlFRklBRW9BZ1FpQ0NBRHAzRWhBaUFHTHdFQUlReEJBQ0VHQWtBRFFBSkFJQUlnQjJvcEFBQWlCQ0FGaFNJRFFuK0ZJQU5DZ1lLRWlKQ2d3SUFCZllOQ2dJR0NoSWlRb01DQWY0TWlBMUJGQkVBRFFDQU1JQXNnQTNxblFRTjJJQUpxSUFoeElnMUJBWFJyTHdFQVJnMENJQU5DQVgwZ0E0TWlBMUJGRFFBTEN5QUVJQVJDQVlhRFFvQ0Jnb1NJa0tEQWdIK0RVQVJBSUFJZ0JrRUlhaUlHYWlBSWNTRUNEQUlGUVFBaEJnd0RDd0FMQzBFQklRWkJnQUVoQWlBSElBMUJBWFJCQVhVaUMyb2lEQ2tBQUNJRElBTkNBWWFEUW9DQmdvU0lrS0RBZ0grRGVxZEJBM1lnQnlBTFFRaHJJQWh4YWlJSUtRQUFJZ01nQTBJQmhvTkNnSUdDaElpUW9NQ0FmNE41cDBFRGRtcEJCMDBFUUNBQklBRW9BZ2hCQVdvMkFnaEIvd0VoQWdzZ0RDQUNPZ0FBSUFoQkNHb2dBam9BQUNBQklBRW9BZ3hCQVdzMkFnd2dCMEVBSUExclFRRjBha0VDYXk4QkFDRUNDeUFKSUFJN0FRSWdDU0FHT3dFQVFRRWhDQXNnQUNBSU93RUFJQXBCRUdva0FBdUNCZ0lKZndKK0l3QkJFR3NpQkNRQUlBUVF1QUVpQlRZQ0FDQUVRUUE2QUF3Z0JFSzhub0NBZ1BRRE53SUVBbjhnQkVFRWFpSUNLQUlFSWdZZ0FpZ0NBQ0lJVGdSQUlBUW9BZ0FoQXlBR0lBaHJRUUZxSWdKRkJFQWdBMEVJYWlFR0FrQWdBeWdDaUFJaUFrSEFBRWtOQUNBRFFaQUNhaUVIQWtBZ0F5a0R5QUlpQzBJQVZ3MEFRUUFoQWlBREtBTFFBa0VBU0EwQUlBTWdDMEtBQW4wM0E4Z0NJQWNnQmhBakRBRUxJQWNnQmhCblFRQWhBZ3NnQXlBQ1FRRnFOZ0tJQWlBR0lBSkJBblJxS0FJQURBSUxJQU5Ca0FKcUlRa2dBMEVJYWlFSElBSWdBbWQwUVFGcklRb2dBeWdDaUFJaEJpQUNyU0VMQTBBZ0JpSUNRY0FBVHdSQUFrQUNRQ0FES1FQSUFpSU1RZ0JYRFFBZ0F5Z0MwQUpCQUVnTkFDQURJQXhDZ0FKOU53UElBaUFKSUFjUUl3d0JDeUFKSUFjUVp3dEJBQ0VDQ3lBRElBSkJBV29pQmpZQ2lBSWdDaUFISUFKQkFuUnFOUUlBSUF0K0lneW5TUTBBQ3lBSUlBeENJSWluYWd3QkMwSFVtTUFBUVJsQnlKbkFBQkN0QVFBTElRWWdCU0FGS0FJQVFRRnJJZ0kyQWdBQ1FDQUNEUUFnQlVFRWFpSUNJQUlvQWdCQkFXc2lBallDQUNBQ0RRQWdCVUhZQWtFSUVPTUJDeUFFUVFBMkFnd2dCRUtBZ0lDQUVEY0NCQ0FHUVFCS0JFQURRQkM0QVNJQ1FRaHFJUU1nQWlnQ2lBSWlCVUhBQUU4RVFDQUNRWkFDYWlFRkFrQUNRQ0FDS1FQSUFpSUxRZ0JYRFFBZ0FpZ0MwQUpCQUVnTkFDQUNJQXRDZ0FKOU53UElBaUFGSUFNUUl3d0JDeUFGSUFNUVp3dEJBQ0VGQ3lBQ0lBVkJBV28yQW9nQ0lBSWdBaWdDQUVFQmF5SUhOZ0lBSUFNZ0JVRUNkR29vQWdBaEF3SkFJQWNOQUNBQ1FRUnFJZ1VnQlNnQ0FFRUJheUlGTmdJQUlBVU5BQ0FDUWRnQ1FRZ1E0d0VMSUFRb0Fnd2lBaUFFS0FJRVJnUkFJQVJCQkdvUWRRc2dCQ2dDQ0NBQ2FpQURPZ0FBSUFRZ0FrRUJhallDRENBR1FRRnJJZ1lOQUFzTElBQWdCQ2tDQkRjQ0FDQUFRUWhxSUFSQkRHb29BZ0EyQWdBZ0FFRUFPZ0FZSUFCQkFqc0JFaUFBSUFFN0FSQWdBRUhIbGFZRk5nSU1JQUJCQURZQ0ZDQUVRUkJxSkFBTGlnTUNCbjhCZmlNQVFmQUFheUlDSkFBZ0FFRUVhaWdDQUNFRUlBQW9BZ0FpQVNnQ0FDRUFJQUZCQURZQ0FDQUFLQUo0SVFFZ0FFRUFOZ0o0SUFFRVFDQUNJQUVSQVFBZ0JDZ0NBQ0lCTFFCbVFRSkhCSDhDUUNBQktBSWtJZ0JGRFFBZ0FDQUFRUUYwUVFscVFYaHhJZ05xUVFscUlnQkZEUUFnQVNnQ0lDQURheUFBUVFnUTR3RUxBa0FnQVNnQ0JDSUZSUTBBSUFFb0Fnd2lCZ1JBSUFFb0FnQWlBMEVJYWlFQUlBTXBBd0JDZjRWQ2dJR0NoSWlRb01DQWY0TWhCd05BSUFkUUJFQURRQ0FEUWNBS2F5RURJQUFwQXdBZ0FFRUlhaUVBUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJZ2RRRFFBTEN5QURJQWQ2cDBFRGRrSFlmbXhxUWFnQmF4QmdJQWRDQVgwZ0I0TWhCeUFHUVFGcklnWU5BQXNMSUFVZ0JVRUJha0dvQVd3aUFHcEJDV29pQTBVTkFDQUJLQUlBSUFCcklBTkJDQkRqQVFzZ0JDZ0NBQVVnQVFzZ0FrSHdBQkQzQVJvZ0FrSHdBR29rQUVFQkR3c2dBa0VBTmdJUUlBSkJBVFlDQkNBQ1FjU1N3QUEyQWdBZ0FrSUVOd0lJSUFKQnNKUEFBQkNrQVFBTGlnTUNCbjhCZmlNQVFmQUFheUlDSkFBZ0FFRUVhaWdDQUNFRUlBQW9BZ0FpQVNnQ0FDRUFJQUZCQURZQ0FDQUFLQUo0SVFFZ0FFRUFOZ0o0SUFFRVFDQUNJQUVSQVFBZ0JDZ0NBQ0lCTFFCbVFRSkhCSDhDUUNBQktBSWtJZ0JGRFFBZ0FDQUFRUUYwUVFscVFYaHhJZ05xUVFscUlnQkZEUUFnQVNnQ0lDQURheUFBUVFnUTR3RUxBa0FnQVNnQ0JDSUZSUTBBSUFFb0Fnd2lCZ1JBSUFFb0FnQWlBMEVJYWlFQUlBTXBBd0JDZjRWQ2dJR0NoSWlRb01DQWY0TWhCd05BSUFkUUJFQURRQ0FEUWNBUWF5RURJQUFwQXdBZ0FFRUlhaUVBUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJZ2RRRFFBTEN5QURJQWQ2cDBFRGRrSDRmV3hxUVlnQ2F4QTVJQWRDQVgwZ0I0TWhCeUFHUVFGcklnWU5BQXNMSUFVZ0JVRUJha0dJQW13aUFHcEJDV29pQTBVTkFDQUJLQUlBSUFCcklBTkJDQkRqQVFzZ0JDZ0NBQVVnQVFzZ0FrSHdBQkQzQVJvZ0FrSHdBR29rQUVFQkR3c2dBa0VBTmdJUUlBSkJBVFlDQkNBQ1FjU1N3QUEyQWdBZ0FrSUVOd0lJSUFKQnNKUEFBQkNrQVFBTG9nTUNCbjhDZmtHdzRzQUFLQUlBSWdSQkVHc2hCVUcwNHNBQUtBSUFJZ1lnQWFkeElRTWdBVUlaaUVML0FJTkNnWUtFaUpDZ3dJQUJmaUVLSUFJdkFRQWhDRUVBSVFJQ1FBTkFJQU1nQkdvcEFBQWlDU0FLaFNJQlFuK0ZJQUZDZ1lLRWlKQ2d3SUFCZllOQ2dJR0NoSWlRb01DQWY0TWlBVkJGQkVBRFFDQUlJQVVnQVhxblFRTjJJQU5xSUFaeElnZEJCSFJyTHdFQVJnMERJQUZDQVgwZ0FZTWlBVkJGRFFBTEN5QUpJQWxDQVlhRFFvQ0Jnb1NJa0tEQWdIK0RVQVJBSUFNZ0FrRUlhaUlDYWlBR2NTRUREQUVMQ3lBQVFRQTJBZ2dQQzBHQUFTRURJQVFnQjBFRWRFRUVkU0lDYWlJRktRQUFJZ0VnQVVJQmhvTkNnSUdDaElpUW9NQ0FmNE42cDBFRGRpQUVJQUpCQ0dzZ0JuRnFJZ0lwQUFBaUFTQUJRZ0dHZzBLQWdZS0VpSkNnd0lCL2czbW5RUU4yYWtFSFRRUkFRYmppd0FCQnVPTEFBQ2dDQUVFQmFqWUNBRUgvQVNFREN5QUZJQU02QUFBZ0FrRUlhaUFET2dBQVFieml3QUJCdk9MQUFDZ0NBRUVCYXpZQ0FDQUFJQVJCQUNBSGEwRUVkR3BCRUdzaUFpa0NBRGNDQUNBQVFRaHFJQUpCQ0dvcEFnQTNBZ0FMeVFrQ0MzOENmaU1BUWJBQmF5SUJKQUFnQVVFS2FpRUtJd0JCOEFCcklnQWtBRUdnNHNBQUtBSUFRUUpIQkVBUW5nRUxRYnpod0FBb0FnQWlDUVJBUWJEaHdBQW9BZ0FpQWtFSWFpRUhJQUlwQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oREFOQUFrQWdERkJGQkVBZ0RDRUxEQUVMQTBBZ0FrSEFFR3NoQWlBSEtRTUFJQWRCQ0dvaEIwSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lJTFVBMEFDd3NnQzBJQmZTQUxneUVNSUFJZ0MzcW5RUU4yUWZoOWJHcEJpQUpySWdoQlFHc29BZ0FnQTJvaEF5QUlRVFJxS0FJQUlBWnFJUVlnQ0VFOGFpZ0NBQ0FGYWlFRklBaEJPR29vQWdBZ0JHb2hCQ0FKUVFGcklna05BQXNMQWtBQ1FBSkFRWmJpd0FBdEFBQkJBa1lFUUVHbzRzQUFLQUlBSVFKQnFPTEFBRUVBTmdJQUlBSkZEUU1nQUNBQ0VRRUFRYkRod0FBZ0FFSHdBQkQzQVJwQm9PTEFBRUVDTmdJQVFaYml3QUF0QUFCQkFrWU5BUXNnQUNBRE5nSU1JQUFnQkRZQ0NDQUFJQVUyQWdRZ0FDQUdOZ0lBSUFwQjBPSEFBQ0FBRUMwZ0FFSHdBR29rQUF3QkMwSFFrOEFBUVNoQitKUEFBQkN0QVFBTElBRkI1Z0JxSVFKQkFDRUVRUUFoQlVFQUlRWkJBQ0VISXdCQjhBQnJJZ0FrQUVIWTQ4QUFLQUlBUVFKSEJFQVFvQUVMUWZUaXdBQW9BZ0FpQ2dSQVFlaml3QUFvQWdBaUEwRUlhaUVJSUFNcEF3QkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaERBTkFBa0FnREZCRkJFQWdEQ0VMREFFTEEwQWdBMEhBQ21zaEF5QUlLUU1BSUFoQkNHb2hDRUovaFVLQWdZS0VpSkNnd0lCL2d5SUxVQTBBQ3dzZ0MwSUJmU0FMZ3lFTUlBTWdDM3FuUVFOMlFkaCtiR3BCcUFGcklnbEJHR29vQWdBZ0JHb2hCQ0FKUVF4cUtBSUFJQWRxSVFjZ0NVRVVhaWdDQUNBR2FpRUdJQWxCRUdvb0FnQWdCV29oQlNBS1FRRnJJZ29OQUFzTEFrQUNRRUhPNDhBQUxRQUFRUUpHQkVCQjRPUEFBQ2dDQUNFRFFlRGp3QUJCQURZQ0FDQURSUTBESUFBZ0F4RUJBRUhvNHNBQUlBQkI4QUFROXdFYVFkamp3QUJCQWpZQ0FFSE80OEFBTFFBQVFRSkdEUUVMSUFBZ0JEWUNEQ0FBSUFVMkFnZ2dBQ0FHTmdJRUlBQWdCellDQUNBQ1FZamp3QUFnQUJBdElBQkI4QUJxSkFBTUFRdEIwSlBBQUVFb1FmaVR3QUFRclFFQUMwSDU0OEFBTFFBQUdrSGNBRUVCRU5jQklnQUVRQ0FBSUFFcEFBbzNBQUFnQUNBQ0tRQUFOd0F1SUFCQkptb2dBVUV3YWlrQUFEY0FBQ0FBUVNCcUlBRkJLbW9wQUFBM0FBQWdBRUVZYWlBQlFTSnFLUUFBTndBQUlBQkJFR29nQVVFYWFpa0FBRGNBQUNBQVFRaHFJQUZCRW1vcEFBQTNBQUFnQUVFMmFpQUNRUWhxS1FBQU53QUFJQUJCUG1vZ0FrRVFhaWtBQURjQUFDQUFRY1lBYWlBQ1FSaHFLUUFBTndBQUlBQkJ6Z0JxSUFKQklHb3BBQUEzQUFBZ0FFSFVBR29nQWtFbWFpa0FBRGNBQUNBQlFRRTJBandnQVVHZ2pzQUFOZ0k0SUFGQ0FUY0NSQ0FCSUFGQnJBRnFyVUtBZ0lDQTBBQ0VOd09nQVNBQlFkd0FOZ0tzQVNBQklBRkJvQUZxTmdKQUlBRkJsQUZxSUFGQk9Hb1FTaUFCS0FLVUFTSUNCRUFnQVNnQ21BRWdBa0VCRU9NQkN5QUJRUUEyQUQwZ0FVRUFOZ0k0SUFGQi93RTZBRHdnQUVIY0FDQUJRVGhxRURBZ0FFSGNBRUVCRU9NQklBRkJzQUZxSkFBUEMwRUJRZHdBRU13QkFBc2dBRUVBTmdJUUlBQkJBVFlDQkNBQVFjU1N3QUEyQWdBZ0FFSUVOd0lJSUFCQndKUEFBQkNrQVFBTDV3SUJCWDhDUUVITi8zdEJFQ0FBSUFCQkVFMGJJZ0JySUFGTkRRQWdBRUVRSUFGQkMycEJlSEVnQVVFTFNSc2lCR3BCREdvUUpTSUNSUTBBSUFKQkNHc2hBUUpBSUFCQkFXc2lBeUFDY1VVRVFDQUJJUUFNQVFzZ0FrRUVheUlGS0FJQUlnWkJlSEVnQWlBRGFrRUFJQUJyY1VFSWF5SUNJQUJCQUNBQ0lBRnJRUkJORzJvaUFDQUJheUlDYXlFRElBWkJBM0VFUUNBQUlBTWdBQ2dDQkVFQmNYSkJBbkkyQWdRZ0FDQURhaUlESUFNb0FnUkJBWEkyQWdRZ0JTQUNJQVVvQWdCQkFYRnlRUUp5TmdJQUlBRWdBbW9pQXlBREtBSUVRUUZ5TmdJRUlBRWdBaEEvREFFTElBRW9BZ0FoQVNBQUlBTTJBZ1FnQUNBQklBSnFOZ0lBQ3dKQUlBQW9BZ1FpQVVFRGNVVU5BQ0FCUVhoeElnSWdCRUVRYWswTkFDQUFJQVFnQVVFQmNYSkJBbkkyQWdRZ0FDQUVhaUlCSUFJZ0JHc2lCRUVEY2pZQ0JDQUFJQUpxSWdJZ0FpZ0NCRUVCY2pZQ0JDQUJJQVFRUHdzZ0FFRUlhaUVEQ3lBREM0VURBZ1ovQVg0akFFSHdBR3NpQXlRQUlBQW9BZ0FpQVNnQ0FDRUNJQUZCQURZQ0FDQUNLQUo0SVFFZ0FrRUFOZ0o0SUFFRVFDQURJQUVSQVFBZ0FDZ0NCQ0lHS0FJQUlnRXRBR1pCQWtjRWZ3SkFJQUVvQWlRaUFFVU5BQ0FBSUFCQkFYUkJDV3BCZUhFaUFtcEJDV29pQUVVTkFDQUJLQUlnSUFKcklBQkJDQkRqQVFzQ1FDQUJLQUlFSWdSRkRRQWdBU2dDRENJRkJFQWdBU2dDQUNJQVFRaHFJUUlnQUNrREFFSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lFSEEwQWdCMUFFUUFOQUlBQkJ3QkJySVFBZ0Fpa0RBQ0FDUVFocUlRSkNmNFZDZ0lHQ2hJaVFvTUNBZjRNaUIxQU5BQXNMSUFBZ0IzcW5RUU4yUWZoOWJHcEJpQUpyRURrZ0IwSUJmU0FIZ3lFSElBVkJBV3NpQlEwQUN3c2dCQ0FFUVFGcVFZZ0NiQ0lBYWtFSmFpSUNSUTBBSUFFb0FnQWdBR3NnQWtFSUVPTUJDeUFHS0FJQUJTQUJDeUFEUWZBQUVQY0JHaUFEUWZBQWFpUUFRUUVQQ3lBRFFRQTJBaEFnQTBFQk5nSUVJQU5CeEpMQUFEWUNBQ0FEUWdRM0FnZ2dBMEd3azhBQUVLUUJBQXVGQXdJR2Z3RitJd0JCOEFCcklnTWtBQ0FBS0FJQUlnRW9BZ0FoQWlBQlFRQTJBZ0FnQWlnQ2VDRUJJQUpCQURZQ2VDQUJCRUFnQXlBQkVRRUFJQUFvQWdRaUJpZ0NBQ0lCTFFCbVFRSkhCSDhDUUNBQktBSWtJZ0JGRFFBZ0FDQUFRUUYwUVFscVFYaHhJZ0pxUVFscUlnQkZEUUFnQVNnQ0lDQUNheUFBUVFnUTR3RUxBa0FnQVNnQ0JDSUVSUTBBSUFFb0Fnd2lCUVJBSUFFb0FnQWlBRUVJYWlFQ0lBQXBBd0JDZjRWQ2dJR0NoSWlRb01DQWY0TWhCd05BSUFkUUJFQURRQ0FBUWNBS2F5RUFJQUlwQXdBZ0FrRUlhaUVDUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJZ2RRRFFBTEN5QUFJQWQ2cDBFRGRrSFlmbXhxUWFnQmF4QmdJQWRDQVgwZ0I0TWhCeUFGUVFGcklnVU5BQXNMSUFRZ0JFRUJha0dvQVd3aUFHcEJDV29pQWtVTkFDQUJLQUlBSUFCcklBSkJDQkRqQVFzZ0JpZ0NBQVVnQVFzZ0EwSHdBQkQzQVJvZ0EwSHdBR29rQUVFQkR3c2dBMEVBTmdJUUlBTkJBVFlDQkNBRFFjU1N3QUEyQWdBZ0EwSUVOd0lJSUFOQnNKUEFBQkNrQVFBTC9nSUJCMzhqQUVFUWF5SUVKQUFDUUFKQUFrQUNRQUpBSUFFb0FnUWlBa1VOQUNBQktBSUFJUWNnQWtFRGNTRUZBa0FnQWtFRVNRUkFRUUFoQWd3QkN5QUhRUnhxSVFNZ0FrRjhjU0VJUVFBaEFnTkFJQU1vQWdBZ0EwRUlheWdDQUNBRFFSQnJLQUlBSUFOQkdHc29BZ0FnQW1wcWFtb2hBaUFEUVNCcUlRTWdDQ0FHUVFScUlnWkhEUUFMQ3lBRkJFQWdCa0VEZENBSGFrRUVhaUVEQTBBZ0F5Z0NBQ0FDYWlFQ0lBTkJDR29oQXlBRlFRRnJJZ1VOQUFzTElBRW9BZ3dFUUNBQ1FRQklEUUVnQnlnQ0JFVWdBa0VRU1hFTkFTQUNRUUYwSVFJTElBSU5BUXRCQVNFRFFRQWhBZ3dCQzBFQUlRVWdBa0VBU0EwQlFmbmp3QUF0QUFBYVFRRWhCU0FDUVFFUTF3RWlBMFVOQVFzZ0JFRUFOZ0lJSUFRZ0F6WUNCQ0FFSUFJMkFnQWdCRUhJdjhBQUlBRVFNMFVOQVVHNHdNQUFRZFlBSUFSQkQycEJxTURBQUVHb3djQUFFSVVCQUFzZ0JTQUNFTXdCQUFzZ0FDQUVLUUlBTndJQUlBQkJDR29nQkVFSWFpZ0NBRFlDQUNBRVFSQnFKQUFMakFNQ0FuOEdmaU1BUVJCcklnSWtBQkNYQVNJQkJFQUNRQ0FCSUFFcEF3QWlBMElCZkRjREFDQUJLUU1JSVFRZ0FFSFFBR3BCdUlYQUFDa0RBRGNEQUNBQVFiQ0Z3QUFwQXdBM0EwZ2dBRUgvL3dNN0FXZ2dBQ0FFTndOZ0lBQWdBemNEV0JDWEFTSUJSUTBBSUFFZ0FTa0RBQ0lEUWdGOE53TUFJQUVwQXdnaEJDQUFRZmdBYWtHNGhjQUFLUU1BTndNQUlBQkJzSVhBQUNrREFEY0RjQ0FBSUFRM0E0Z0JJQUFnQXpjRGdBRVFsd0VpQVVVTkFDQUJJQUVwQXdBaUEwSUJmRGNEQUNBQktRTUlJUVFRbHdFaUFVVU5BQ0FCSUFFcEF3QWlCVUlCZkRjREFDQUJLUU1JSVFZZ0FFRUlha0c0anNBQUtRTUFJZ2MzQXdBZ0FFR3dqc0FBS1FNQUlnZzNBd0FnQUVFQU9nQkFJQUFnQkRjREdDQUFJQU0zQXhBZ0FDQUlOd01nSUFCQktHb2dCemNEQUNBQVFRRTZBSjRCSUFCQi8vOERPd0djQVNBQVFRQTJBcGdCSUFCQ2dJQ0FnTUFBTndPUUFTQUFJQVkzQXpnZ0FDQUZOd013SUFKQkVHb2tBQThMQzBHQWljQUFRY1lBSUFKQkQycEI4SWpBQUVHWWlzQUFFSVVCQUF1WUF3RUlmd0pBQWtBQ1FBSkFBa0FDUUFKQUlBRW9BZ2dpQWdSQUlBSkJBMGtOQVNBQ1FRTkdEUUlnQWtFRlNRMERJQUpCQlVZTkJDQUNRUVpORFFVZ0FrRUhSZzBHSUFKQkNVOEVRQ0FCS0FJRUlnTXRBQUFoQ0NBREx3QUNJUVlnQXlnQUJDRUVJQU10QUFFaENRSkFJQUpCQ1dzaUFrVUVRRUVCSVFVTUFRc2dBa0VBU0EwSlFmbmp3QUF0QUFBYVFRRWhCeUFDUVFFUTF3RWlCVVVOQ1FzZ0JTQURRUWxxSUFJUTl3RWhCU0FBSUFrNkFCTWdBQ0FJUVE5eE9nQVNJQUFnQmtFSWRDQUdRUWgyY2pzQkVDQUFJQVJCR0hRZ0JFR0EvZ054UVFoMGNpQUVRUWgyUVlEK0EzRWdCRUVZZG5KeU5nSU1JQUFnQWpZQ0NDQUFJQVUyQWdRZ0FDQUNOZ0lBSUFFb0FnQWlBQVJBSUFNZ0FFRUJFT01CQ3c4TFFRa2dBa0hjaGNBQUVKQUJBQXRCQUVFQVFmQ1B3QUFRa1FFQUMwRUNJQUpCZ0pEQUFCQ1JBUUFMUVFOQkEwR1FrTUFBRUpFQkFBdEJCQ0FDUWFDUXdBQVFrUUVBQzBFRlFRVkJzSkRBQUJDUkFRQUxRUVlnQWtIQWtNQUFFSkVCQUF0QkIwRUhRZENRd0FBUWtRRUFDeUFISUFJUXpBRUFDN29EQVFGL0l3QkJRR29pQWlRQUFrQUNRQUpBQWtBQ1FBSkFJQUF0QUFCQkFXc09Bd0VDQXdBTElBSWdBQ2dDQkRZQ0JFSDU0OEFBTFFBQUdrRVVRUUVRMXdFaUFFVU5CQ0FBUVJCcVFjeTd3QUFvQUFBMkFBQWdBRUVJYWtIRXU4QUFLUUFBTndBQUlBQkJ2THZBQUNrQUFEY0FBQ0FDUVJRMkFoQWdBaUFBTmdJTUlBSkJGRFlDQ0NBQ1FRTTJBaXdnQWtHQXRzQUFOZ0lvSUFKQ0FqY0NOQ0FDSUFKQkJHcXRRb0NBZ0lDUUJvUTNBeUFnQWlBQ1FRaHFyVUtBZ0lDQXNBaUVOd01ZSUFJZ0FrRVlhallDTUNBQktBSVVJQUVvQWhnZ0FrRW9haEF6SVFBZ0FpZ0NDQ0lCUlEwRElBSW9BZ3dnQVVFQkVPTUJEQU1MSUFBdEFBRWhBQ0FDUVFFMkFpd2dBa0dzcjhBQU5nSW9JQUpDQVRjQ05DQUNJQUpCR0dxdFFvQ0FnSURBQ0lRM0F3Z2dBaUFBUVFKMElnQkJrTHpBQUdvb0FnQTJBaHdnQWlBQVFiUzl3QUJxS0FJQU5nSVlJQUlnQWtFSWFqWUNNQ0FCS0FJVUlBRW9BaGdnQWtFb2FoQXpJUUFNQWdzZ0FDZ0NCQ0lBS0FJQUlBQW9BZ1FnQVJEMEFTRUFEQUVMSUFBb0FnUWlBQ2dDQUNBQklBQW9BZ1FvQWhBUkFBQWhBQXNnQWtGQWF5UUFJQUFQQzBFQlFSUVF6QUVBQzZzQ0FRRi9Jd0JCOEFCcklnWWtBQ0FHSUFFMkFnd2dCaUFBTmdJSUlBWWdBellDRkNBR0lBSTJBaEFnQmtHY3hjQUFOZ0lZSUFaQkFqWUNIQUpBSUFRb0FnQkZCRUFnQmtFRE5nSmNJQVpCMk1YQUFEWUNXQ0FHUWdNM0FtUWdCaUFHUVJCcXJVS0FnSUNBMEF5RU53TklJQVlnQmtFSWFxMUNnSUNBZ05BTWhEY0RRQXdCQ3lBR1FUQnFJQVJCRUdvcEFnQTNBd0FnQmtFb2FpQUVRUWhxS1FJQU53TUFJQVlnQkNrQ0FEY0RJQ0FHUVFRMkFsd2dCa0dNeHNBQU5nSllJQVpDQkRjQ1pDQUdJQVpCRUdxdFFvQ0FnSURRRElRM0ExQWdCaUFHUVFocXJVS0FnSUNBMEF5RU53TklJQVlnQmtFZ2FxMUNnSUNBZ1BBTWhEY0RRQXNnQmlBR1FSaHFyVUtBZ0lDQTRBeUVOd000SUFZZ0JrRTRhallDWUNBR1FkZ0FhaUFGRUtRQkFBdnVBZ0lGZndGK0l3QkJFR3NpQWlRQUlBSkJBRFlDQkFKL0FrQUNRQ0FCUVlBQlR3UkFJQUZCZ0JCSkRRRWdBVUdBZ0FSUERRSWdBaUFCUVQ5eFFZQUJjam9BQmlBQ0lBRkJESFpCNEFGeU9nQUVJQUlnQVVFR2RrRS9jVUdBQVhJNkFBVkJBd3dEQ3lBQ0lBRTZBQVJCQVF3Q0N5QUNJQUZCUDNGQmdBRnlPZ0FGSUFJZ0FVRUdka0hBQVhJNkFBUkJBZ3dCQ3lBQ0lBRkJQM0ZCZ0FGeU9nQUhJQUlnQVVFR2RrRS9jVUdBQVhJNkFBWWdBaUFCUVF4MlFUOXhRWUFCY2pvQUJTQUNJQUZCRW5aQkIzRkI4QUZ5T2dBRVFRUUxJUUVnQWtFSWFpQUFLQUlJSUFKQkJHb2dBUkJBSUFJdEFBZ2lCa0VFUndSQUlBQW9BZ1FoQVNBQ0tRTUlJUWNnQUMwQUFDSURRUVJOSUFOQkEwZHhSUVJBSUFFb0FnQWhBeUFCUVFScUtBSUFJZ1VvQWdBaUJBUkFJQU1nQkJFQkFBc2dCU2dDQkNJRUJFQWdBeUFFSUFVb0FnZ1E0d0VMSUFGQkRFRUVFT01CQ3lBQUlBYzNBZ0FMSUFKQkVHb2tBQ0FHUVFSSEM5VUNBUWQvUVFFaENRSkFBa0FnQWtVTkFDQUJJQUpCQVhScUlRb2dBRUdBL2dOeFFRaDJJUXNnQUVIL0FYRWhEUU5BSUFGQkFtb2hEQ0FISUFFdEFBRWlBbW9oQ0NBTElBRXRBQUFpQVVjRVFDQUJJQXRMRFFJZ0NDRUhJQXdpQVNBS1JnMENEQUVMQWtBQ1FDQUhJQWhOQkVBZ0JDQUlTUTBCSUFNZ0Iyb2hBUU5BSUFKRkRRTWdBa0VCYXlFQ0lBRXRBQUFnQVVFQmFpRUJJQTFIRFFBTFFRQWhDUXdGQ3lBSElBaEJ5TTNBQUJDVEFRQUxJQWdnQkVISXpjQUFFSklCQUFzZ0NDRUhJQXdpQVNBS1J3MEFDd3NnQmtVTkFDQUZJQVpxSVFNZ0FFSC8vd054SVFFRFFDQUZRUUZxSVFBQ1FDQUZMUUFBSWdMQUlnUkJBRTRFUUNBQUlRVU1BUXNnQUNBRFJ3UkFJQVV0QUFFZ0JFSC9BSEZCQ0hSeUlRSWdCVUVDYWlFRkRBRUxRYmpOd0FBUTV3RUFDeUFCSUFKcklnRkJBRWdOQVNBSlFRRnpJUWtnQXlBRlJ3MEFDd3NnQ1VFQmNRdkFBZ0VDZnlNQVFkQUFheUlESkFCQitlUEFBQzBBQUJwQkJrRUJFTmNCSWdRRVFDQUVRUUE2QUFJZ0JFR0FDRHNBQUNBRUlBQkJNSEk2QUFNZ0F5QUVOZ0pJSUFOQkJqWUNSQ0FEUVFRMkFreEJCQ0lBSUFNb0FraHFJQUZCQ0hRZ0FVR0EvZ0Z4UVlDQWZrRUFJQUliY2tHQS9nTnhRUWgyY2pzQUFDQURRY3dBYWlBQVFRSnFJZ0EyQWdBZ0EwRVFhaUFBTmdJQUlBTWdBeWtDUkRjRENDQURRUUUyQWlRZ0EwR1VnOEFBTmdJZ0lBTkNBVGNDTENBRElBTkJDR3F0UW9DQWdJQXdoRGNET0NBRElBTkJPR28yQWlnZ0EwRVVhaUFEUVNCcUVFb2dBeWdDRkNJQUJFQWdBeWdDR0NBQVFRRVE0d0VMSUFNb0Fnd2dBeWdDRUNBRFFTaHFRUUE2QUFBZ0EwSUFOd01nSUFOQklHb1FNQ0FES0FJSUlnQUVRQ0FES0FJTUlBQkJBUkRqQVFzZ0EwSFFBR29rQUE4TFFRRkJCaERNQVFBTDhRSUJCSDhnQUNnQ0RDRUNBa0FDUUNBQlFZQUNUd1JBSUFBb0FoZ2hBd0pBQWtBZ0FDQUNSZ1JBSUFCQkZFRVFJQUFvQWhRaUFodHFLQUlBSWdFTkFVRUFJUUlNQWdzZ0FDZ0NDQ0lCSUFJMkFnd2dBaUFCTmdJSURBRUxJQUJCRkdvZ0FFRVFhaUFDR3lFRUEwQWdCQ0VGSUFFaUFrRVVhaUFDUVJCcUlBSW9BaFFpQVJzaEJDQUNRUlJCRUNBQkcyb29BZ0FpQVEwQUN5QUZRUUEyQWdBTElBTkZEUUlnQUNBQUtBSWNRUUowUVlEbHdBQnFJZ0VvQWdCSEJFQWdBMEVRUVJRZ0F5Z0NFQ0FBUmh0cUlBSTJBZ0FnQWtVTkF3d0NDeUFCSUFJMkFnQWdBZzBCUVp6b3dBQkJuT2pBQUNnQ0FFRitJQUFvQWh4M2NUWUNBQXdDQ3lBQUtBSUlJZ0FnQWtjRVFDQUFJQUkyQWd3Z0FpQUFOZ0lJRHd0Qm1PakFBRUdZNk1BQUtBSUFRWDRnQVVFRGRuZHhOZ0lBRHdzZ0FpQUROZ0lZSUFBb0FoQWlBUVJBSUFJZ0FUWUNFQ0FCSUFJMkFoZ0xJQUFvQWhRaUFFVU5BQ0FDSUFBMkFoUWdBQ0FDTmdJWUN3dUJBd0lGZndGK0l3QkJRR29pQlNRQVFRRWhCd0pBSUFBdEFBUU5BQ0FBTFFBRklRa2dBQ2dDQUNJR0tBSWNJZ2hCQkhGRkJFQWdCaWdDRkVIZnhzQUFRZHpHd0FBZ0NSdEJBa0VESUFrYklBWW9BaGdvQWd3UkFnQU5BU0FHS0FJVUlBRWdBaUFHS0FJWUtBSU1FUUlBRFFFZ0JpZ0NGRUdzeHNBQVFRSWdCaWdDR0NnQ0RCRUNBQTBCSUFNZ0JpQUVLQUlNRVFBQUlRY01BUXNnQ1VVRVFDQUdLQUlVUWVIR3dBQkJBeUFHS0FJWUtBSU1FUUlBRFFFZ0JpZ0NIQ0VJQ3lBRlFRRTZBQnNnQlNBR0tRSVVOd0lNSUFWQndNYkFBRFlDTkNBRklBVkJHMm8yQWhRZ0JTQUdLUUlJTndJa0lBWXBBZ0FoQ2lBRklBZzJBamdnQlNBR0tBSVFOZ0lzSUFVZ0JpMEFJRG9BUENBRklBbzNBaHdnQlNBRlFReHFJZ2cyQWpBZ0NDQUJJQUlRTmcwQUlBVkJER3BCck1iQUFFRUNFRFlOQUNBRElBVkJIR29nQkNnQ0RCRUFBQTBBSUFVb0FqQkI1TWJBQUVFQ0lBVW9BalFvQWd3UkFnQWhCd3NnQUVFQk9nQUZJQUFnQnpvQUJDQUZRVUJySkFBZ0FBdkFBZ0VEZnlNQVFZQUJheUlFSkFBQ2Z3SkFBa0FnQVNnQ0hDSUNRUkJ4UlFSQUlBSkJJSEVOQVNBQU5RSUFRUUVnQVJCV0RBTUxJQUFvQWdBaEFFRUFJUUlEUUNBQ0lBUnFRZjhBYWlBQVFROXhJZ05CTUhJZ0EwSFhBR29nQTBFS1NSczZBQUFnQWtFQmF5RUNJQUJCRUVrZ0FFRUVkaUVBUlEwQUN3d0JDeUFBS0FJQUlRQkJBQ0VDQTBBZ0FpQUVha0gvQUdvZ0FFRVBjU0lEUVRCeUlBTkJOMm9nQTBFS1NSczZBQUFnQWtFQmF5RUNJQUJCRUVrZ0FFRUVkaUVBUlEwQUN5QUNRWUFCYWlJQVFZRUJUd1JBSUFCQmdBRkJqTWZBQUJDUUFRQUxJQUZCQVVHY3g4QUFRUUlnQWlBRWFrR0FBV3BCQUNBQ2F4QXNEQUVMSUFKQmdBRnFJZ0JCZ1FGUEJFQWdBRUdBQVVHTXg4QUFFSkFCQUFzZ0FVRUJRWnpId0FCQkFpQUNJQVJxUVlBQmFrRUFJQUpyRUN3TElBUkJnQUZxSkFBTDJ3SUNBbjhHZmlNQVFSQnJJZ0lrQUJDWEFTSUJCRUFDUUNBQklBRXBBd0FpQTBJQmZEY0RBQ0FCS1FNSUlRUWdBRUhvQUdwQnVJWEFBQ2tEQURjREFDQUFRYkNGd0FBcEF3QTNBMkFnQUVILy93TTdBWUFCSUFBZ0JEY0RlQ0FBSUFNM0EzQVFsd0VpQVVVTkFDQUJJQUVwQXdBaUEwSUJmRGNEQUNBQktRTUlJUVFRbHdFaUFVVU5BQ0FCSUFFcEF3QWlCVUlCZkRjREFDQUJLUU1JSVFZZ0FFRWdha0c0anNBQUtRTUFJZ2MzQXdBZ0FFR3dqc0FBS1FNQUlnZzNBeGdnQUVFQk9nQllJQUFnQkRjRE1DQUFJQU0zQXlnZ0FDQUlOd000SUFCQlFHc2dCemNEQUNBQVFmLy9BenNCbEFFZ0FFRUFOZ0tRQVNBQVFvQ0FnSURBQURjRGlBRWdBQ0FHTndOUUlBQWdCVGNEU0NBQVFnQTNBd0FnQUVFSWFrSUFOd01BSUFCQkRXcENBRGNBQUNBQVFRRTZBQlVnQWtFUWFpUUFEd3NMUVlDSndBQkJ4Z0FnQWtFUGFrSHdpTUFBUVppS3dBQVFoUUVBQzcwQ0FnVi9BWDRqQUVFd2F5SUZKQUJCSnlFREFrQWdBRUtRemdCVUJFQWdBQ0VJREFFTEEwQWdCVUVKYWlBRGFpSUVRUVJySUFBZ0FFS1F6Z0NBSWdoQ2tNNEFmbjJuSWdaQi8vOERjVUhrQUc0aUIwRUJkRUdleDhBQWFpOEFBRHNBQUNBRVFRSnJJQVlnQjBIa0FHeHJRZi8vQTNGQkFYUkJuc2ZBQUdvdkFBQTdBQUFnQTBFRWF5RURJQUJDLzhIWEwxWWdDQ0VBRFFBTEN5QUlweUlFUWVNQVN3UkFJQU5CQW1zaUF5QUZRUWxxYWlBSXB5SUVJQVJCLy84RGNVSGtBRzRpQkVIa0FHeHJRZi8vQTNGQkFYUkJuc2ZBQUdvdkFBQTdBQUFMQWtBZ0JFRUtUd1JBSUFOQkFtc2lBeUFGUVFscWFpQUVRUUYwUVo3SHdBQnFMd0FBT3dBQURBRUxJQU5CQVdzaUF5QUZRUWxxYWlBRVFUQnlPZ0FBQ3lBQ0lBRkJBVUVBSUFWQkNXb2dBMnBCSnlBRGF4QXNJQVZCTUdva0FBdkRBZ0VDZnlNQVFSQnJJZ0lrQUFKQUFuOENRQ0FCUVlBQlR3UkFJQUpCQURZQ0RDQUJRWUFRU1EwQklBRkJnSUFFU1FSQUlBSWdBVUUvY1VHQUFYSTZBQTRnQWlBQlFReDJRZUFCY2pvQURDQUNJQUZCQm5aQlAzRkJnQUZ5T2dBTlFRTU1Bd3NnQWlBQlFUOXhRWUFCY2pvQUR5QUNJQUZCQm5aQlAzRkJnQUZ5T2dBT0lBSWdBVUVNZGtFL2NVR0FBWEk2QUEwZ0FpQUJRUkoyUVFkeFFmQUJjam9BREVFRURBSUxJQUFvQWdnaUF5QUFLQUlBUmdSQUlBQVFkUXNnQUNBRFFRRnFOZ0lJSUFBb0FnUWdBMm9nQVRvQUFBd0NDeUFDSUFGQlAzRkJnQUZ5T2dBTklBSWdBVUVHZGtIQUFYSTZBQXhCQWdzaEFTQUJJQUFvQWdBZ0FDZ0NDQ0lEYTBzRVFDQUFJQU1nQVJCMElBQW9BZ2doQXdzZ0FDZ0NCQ0FEYWlBQ1FReHFJQUVROXdFYUlBQWdBU0FEYWpZQ0NBc2dBa0VRYWlRQVFRQUx4QUlCQkg4Z0FFSUFOd0lRSUFBQ2YwRUFJQUZCZ0FKSkRRQWFRUjhnQVVILy8vOEhTdzBBR2lBQlFRWWdBVUVJZG1jaUEydDJRUUZ4SUFOQkFYUnJRVDVxQ3lJQ05nSWNJQUpCQW5SQmdPWEFBR29oQkVFQklBSjBJZ05Cbk9qQUFDZ0NBSEZGQkVBZ0JDQUFOZ0lBSUFBZ0JEWUNHQ0FBSUFBMkFnd2dBQ0FBTmdJSVFaem93QUJCbk9qQUFDZ0NBQ0FEY2pZQ0FBOExBa0FDUUNBQklBUW9BZ0FpQXlnQ0JFRjRjVVlFUUNBRElRSU1BUXNnQVVFWklBSkJBWFpyUVFBZ0FrRWZSeHQwSVFVRFFDQURJQVZCSFhaQkJIRnFRUkJxSWdRb0FnQWlBa1VOQWlBRlFRRjBJUVVnQWlFRElBSW9BZ1JCZUhFZ0FVY05BQXNMSUFJb0FnZ2lBU0FBTmdJTUlBSWdBRFlDQ0NBQVFRQTJBaGdnQUNBQ05nSU1JQUFnQVRZQ0NBOExJQVFnQURZQ0FDQUFJQU0yQWhnZ0FDQUFOZ0lNSUFBZ0FEWUNDQXZOQVFFRWZ5TUFRUkJySWdJa0FBSkFBa0JCK2VQQUFDMEFBQnBCQkVFQkVOY0JJZ05GRFFFZ0FrRUFOZ0lNSUFJZ0F6WUNDQ0FDUVFRMkFnUU1BQXNnQXlBRWFrR0FCRHNBQUNBQ0lBUkJBbW9pQlRZQ0RDQUNLQUlFSUFWR0JIOGdBa0VFYWhCMUlBSW9BZ2dGSUFNTElBVnFRUUE2QUFBZ0FpQUVRUU5xSWdNMkFnd2dBaWdDQkNBRFJnUkFJQUpCQkdvUWRRc2dBaWdDQ0NBRGFpQUJRU0J5T2dBQUlBQkJDR29nQkVFRWFqWUNBQ0FBSUFJcEFnUTNBZ0FnQWtFUWFpUUFEd3RCQVVFRUVNd0JBQXUxQWdJRGZnZC9Jd0JCRUdzaUJpUUFJQVlnQVRzQkRnSkFBa0FnQUNnQ0RFVU5BQ0FBUVJCcUlBWkJEbW9RT2lFQ0lBQW9BZ0FpQ1VFQ2F5RUtJQUFvQWdRaUJ5QUNwM0VoQlNBQ1FobUlRdjhBZzBLQmdvU0lrS0RBZ0FGK0lRUWdBVUgvL3dOeElRc0RRQ0FGSUFscUtRQUFJZ01nQklVaUFrSi9oU0FDUW9HQ2hJaVFvTUNBQVgyRFFvQ0Jnb1NJa0tEQWdIK0RJZ0pRUlFSQUEwQWdDaUFDZXFkQkEzWWdCV29nQjNGQkFYUnJMd0VBSUF0R0RRUWdBa0lCZlNBQ2d5SUNVRVVOQUFzTElBTWdBMElCaG9OQ2dJR0NoSWlRb01DQWY0TlFSUTBCSUFVZ0NFRUlhaUlJYWlBSGNTRUZEQUFMQUFzZ0FDQUJFRDBnQUNBQUtBSTRJZ0ZCQVdzaUJVRUFJQUVnQlU4Yk5nSTRJQUFnQUM4QlBpSUFRUUZySWdGQkFDQUFJQUZQR3pzQlBnc2dCa0VRYWlRQUM2VUNBUUovSXdCQkVHc2lBaVFBSUFKQkFEWUNEQUovQWtBQ1FDQUJRWUFCVHdSQUlBRkJnQkJKRFFFZ0FVR0FnQVJQRFFJZ0FpQUJRVDl4UVlBQmNqb0FEaUFDSUFGQkRIWkI0QUZ5T2dBTUlBSWdBVUVHZGtFL2NVR0FBWEk2QUExQkF3d0RDeUFDSUFFNkFBeEJBUXdDQ3lBQ0lBRkJQM0ZCZ0FGeU9nQU5JQUlnQVVFR2RrSEFBWEk2QUF4QkFnd0JDeUFDSUFGQlAzRkJnQUZ5T2dBUElBSWdBVUVHZGtFL2NVR0FBWEk2QUE0Z0FpQUJRUXgyUVQ5eFFZQUJjam9BRFNBQ0lBRkJFblpCQjNGQjhBRnlPZ0FNUVFRTElRRWdBU0FBS0FJSUlnTW9BZ0FnQXlnQ0NDSUFhMHNFUUNBRElBQWdBUkIwSUFNb0FnZ2hBQXNnQXlnQ0JDQUFhaUFDUVF4cUlBRVE5d0VhSUFNZ0FDQUJhallDQ0NBQ1FSQnFKQUJCQUF2UUFnRUNmeU1BUVRCcklnSWtBQUpBQWtBQ1FBSkFRYURod0FBb0FnQkZCRUJCck9IQUFDZ0NBQ0VEUWF6aHdBQkJBRFlDQUNBRFJRMEVJQUpCRUdvZ0F4RUJBRUdjNGNBQVFvS0FnSUFRTndJQVFhamh3QUFnQWlnQ0ZEWUNBRUdrNGNBQUlBSW9BaEFpQXpZQ0FBd0JDMEdrNGNBQUtBSUFJUU1MSUFOQmd3Rk5CRUJCcE9IQUFDQUFOZ0lBREFFTElBTVFBa0drNGNBQUlBQTJBZ0JCb09IQUFDZ0NBQTBBUWF6aHdBQW9BZ0FoQUVHczRjQUFRUUEyQWdBZ0FFVU5BaUFDUVFocUlBQVJBUUJCbk9IQUFFS0NnSUNBRURjQ0FFR280Y0FBSUFJb0Fnd2lBellDQUVHazRjQUFJQUlvQWdnMkFnQU1BUXRCcU9IQUFDZ0NBQ0VEQ3lBRFFZUUJUd1JBSUFNUUFndEJxT0hBQUNBQk5nSUFJQUpCTUdva0FBOExJQUpCQURZQ0tDQUNRUUUyQWh3Z0FrSEVrc0FBTmdJWUlBSkNCRGNDSUNBQ1FSaHFRY0NUd0FBUXBBRUFDNzRDQWdSL0FYNGpBRUZBYWlJREpBQkJBU0VGQWtBZ0FDMEFCQTBBSUFBdEFBVWhCUUpBSUFBb0FnQWlCQ2dDSENJR1FRUnhSUVJBSUFWRkRRRkJBU0VGSUFRb0FoUkIzOGJBQUVFQ0lBUW9BaGdvQWd3UkFnQkZEUUVNQWdzZ0JVVUVRRUVCSVFVZ0JDZ0NGRUh0eHNBQVFRRWdCQ2dDR0NnQ0RCRUNBQTBDSUFRb0Fod2hCZ3RCQVNFRklBTkJBVG9BR3lBRElBUXBBaFEzQWd3Z0EwSEF4c0FBTmdJMElBTWdBMEViYWpZQ0ZDQURJQVFwQWdnM0FpUWdCQ2tDQUNFSElBTWdCallDT0NBRElBUW9BaEEyQWl3Z0F5QUVMUUFnT2dBOElBTWdCemNDSENBRElBTkJER28yQWpBZ0FTQURRUnhxSUFJb0Fnd1JBQUFOQVNBREtBSXdRZVRHd0FCQkFpQURLQUkwS0FJTUVRSUFJUVVNQVFzZ0FTQUVJQUlvQWd3UkFBQWhCUXNnQUVFQk9nQUZJQUFnQlRvQUJDQURRVUJySkFBTHBRSUNBMzhCZmlNQVFVQnFJZ0lrQUNBQktBSUFRWUNBZ0lCNFJnUkFJQUVvQWd3aEF5QUNRU1JxSWdSQkFEWUNBQ0FDUW9DQWdJQVFOd0ljSUFKQk9Hb2dBMEVRYWlrQ0FEY0RBQ0FDUVRCcUlBTkJDR29wQWdBM0F3QWdBaUFES1FJQU53TW9JQUpCSEdwQjdLdkFBQ0FDUVNocUVETWFJQUpCR0dvZ0JDZ0NBQ0lETmdJQUlBSWdBaWtDSENJRk53TVFJQUZCQ0dvZ0F6WUNBQ0FCSUFVM0FnQUxJQUVwQWdBaEJTQUJRb0NBZ0lBUU53SUFJQUpCQ0dvaUF5QUJRUWhxSWdFb0FnQTJBZ0FnQVVFQU5nSUFRZm5qd0FBdEFBQWFJQUlnQlRjREFFRU1RUVFRMXdFaUFRUkFJQUVnQWlrREFEY0NBQ0FCUVFocUlBTW9BZ0EyQWdBZ0FFSGt1c0FBTmdJRUlBQWdBVFlDQUNBQ1FVQnJKQUFQQzBFRVFRd1E4UUVBQzdrQ0FnUi9BWDRqQUVGQWFpSURKQUFnQUNnQ0FDRUZJQUFDZjBFQklBQXRBQWdOQUJvZ0FDZ0NCQ0lFS0FJY0lnWkJCSEZGQkVCQkFTQUVLQUlVUWQvR3dBQkI2Y2JBQUNBRkcwRUNRUUVnQlJzZ0JDZ0NHQ2dDREJFQ0FBMEJHaUFCSUFRZ0FpZ0NEQkVBQUF3QkN5QUZSUVJBUVFFZ0JDZ0NGRUhxeHNBQVFRSWdCQ2dDR0NnQ0RCRUNBQTBCR2lBRUtBSWNJUVlMSUFOQkFUb0FHeUFESUFRcEFoUTNBZ3dnQTBIQXhzQUFOZ0kwSUFNZ0EwRWJhallDRkNBRElBUXBBZ2czQWlRZ0JDa0NBQ0VISUFNZ0JqWUNPQ0FESUFRb0FoQTJBaXdnQXlBRUxRQWdPZ0E4SUFNZ0J6Y0NIQ0FESUFOQkRHbzJBakJCQVNBQklBTkJIR29nQWlnQ0RCRUFBQTBBR2lBREtBSXdRZVRHd0FCQkFpQURLQUkwS0FJTUVRSUFDem9BQ0NBQUlBVkJBV28yQWdBZ0EwRkFheVFBQy9vQkFRUi9JQUFvQXBRQklRRWdBQ2dDbUFFaUF3UkFJQUVoQWdOQUlBSW9BZ0FpQkFSQUlBSkJCR29vQWdBZ0JFRUJFT01CQ3lBQ1FSUnFJUUlnQTBFQmF5SUREUUFMQ3lBQUtBS1FBU0lDQkVBZ0FTQUNRUlJzUVFRUTR3RUxBa0FnQUNnQ2JDSUJSUTBBSUFFZ0FVRUJkRUVKYWtGNGNTSUNha0VKYWlJQlJRMEFJQUFvQW1nZ0Ftc2dBVUVJRU9NQkN3SkFJQUFvQWlRaUFVVU5BQ0FCSUFGQkJteEJEV3BCZUhFaUFtcEJDV29pQVVVTkFDQUFLQUlnSUFKcklBRkJDQkRqQVFzQ1FDQUFLQUpFSWdGRkRRQWdBU0FCUVFKMFFRdHFRWGh4SWdKcVFRbHFJZ0ZGRFFBZ0FDZ0NRQ0FDYXlBQlFRZ1E0d0VMQzl3UUFnOS9BWDRqQUVId0FHc2lBaVFBQWtBQ1FFR1c0c0FBTFFBQVFRSkdCRUJCcU9MQUFDZ0NBQ0VEUWFqaXdBQkJBRFlDQUNBRFJRMEJJQUlnQXhFQkFFR3c0Y0FBSUFKQjhBQVE5d0VhUWFEaXdBQkJBallDQUVHVzRzQUFMUUFBUVFKR0RRSUxRZnpod0FCQi9PSEFBQ2dDQUVFQmFqWUNBRUdNNHNBQVFZeml3QUF2QVFCQkFXbzdBUUJCK09IQUFDQUFRUWhxSWdZdkFRQWlBMEg0NGNBQUtBSUFhallDQUVIdzRjQUFRZkRod0FBcEF3QWdBNjE4TndNQUlBQXRBQk1nQUMwQUVoQW5JUU1nQWtFWWFpQUFRUmhxS0FJQU5nSUFJQUpCRUdvZ0FFRVFhaWtDQURjREFDQUNRUWhxSUFZcEFnQTNBd0FnQWlBQUtRSUFOd01BSXdCQjhBRnJJZ0VrQUNBQklBTkIyQUJxSWdRb0FwZ0JJZ00yQWd3Q1FBSkFBa0FDUUFKQUlBTkJ1QmROQkVBZ0FTQUNMd0VRSWdjN0FSQWdBVUVTYWlBRVFjZ0FhaUFIRUVFZ0FTOEJFaUlBUVFKR0JFQWdBVUVCTmdLRUFTQUJRZHlEd0FBMkFvQUJJQUZDQVRjQ2pBRWdBU0FDUVJCcXJVS0FnSUNBd0FDRU53TTRJQUVnQVVFNGFqWUNpQUVnQVVISUFHb2dBVUdBQVdvUVNpQUJLQUpJSWdBRVFDQUJLQUpNSUFCQkFSRGpBUXRCK2VQQUFDMEFBQm9NQWdzZ0JFR1FBV29oRGlBQ0tBSU1JUThDUUFKQUFrQUNRQUpBQWtBZ0FFRUJhdzREQVFBQ0F3c0FDeUFFS0FLVUFVRU1heUVHSUFRb0FwZ0JJZ2hCSEd3aENRTkFJQWhGRFFNZ0J5QUdJQWxxTHdFQUlnTkdJZ0JGSUFjZ0EydEIvLzhEY1VHOC93RkpjUTBESUFoQkFXc2hDQ0FKUVJ4cklRa2dBRVVOQUF0Qmx1TEFBQzBBQUVFQ1JnUkFRYWppd0FBb0FnQWhBMEdvNHNBQVFRQTJBZ0FnQTBVTkNTQUJRWUFCYWlJQUlBTVJBUUJCc09IQUFDQUFRZkFBRVBjQkdrR2c0c0FBUVFJMkFnQkJsdUxBQUMwQUFFRUNSZzBNQzBIUTRjQUFJQWNRV2lBRUlBOFFLQ0FDS0FJQUlnQkZEUWNnQWlnQ0JDQUFRUUVRNHdFTUJ3c2dBaTBBRXlBQklBRXZBUlE3QVRZZ0FTOEJGaUFCUVFNMkFrd2dBVUh3ZzhBQU5nSklJQUZDQXpjQ1ZDQUJJQUZCTm1xdFFvQ0FnSURBQUlRM0E1QUJJQUVnQVVFTWFxMUNnSUNBZ05BQWhEY0RpQUVnQVNBQlFSQnFyVUtBZ0lDQXdBQ0VOd09BQVNBQklBRkJnQUZxTmdKUUlBRkJPR29nQVVISUFHb1FTaUFCS0FJNElnQUVRQ0FCS0FJOElBQkJBUkRqQVFzZ0JFSHdBR29nQWlBQktBSU1FRDRnQVVINEFHb2lCaUFDUVJocUtBSUFOZ0lBSUFGQjhBQnFJZ01nQWtFUWFpa0NBRGNEQUNBQlFlZ0FhaUlBSUFKQkNHb3BBZ0EzQXdBZ0FTQUNLUUlBTndOZ0lBUW9BcGdCSWd3Z0JDZ0NrQUZHQkVBZ0RoQnZDeUFFS0FLVUFTQU1RUnhzYWlJSklBRXBBMkEzQWdBZ0NVRVlhaUFHS0FJQU5nSUFJQWxCRUdvZ0F5a0RBRGNDQUNBSlFRaHFJQUFwQXdBM0FnQWdCQ0FNUVFGcU5nS1lBU0FCTHdFMklnWWhDMEdXNHNBQUxRQUFRUUpHQkVCQnFPTEFBQ2dDQUNFRFFhaml3QUJCQURZQ0FDQURSUTBJSUFGQmdBRnFJZ0FnQXhFQkFFR3c0Y0FBSUFCQjhBQVE5d0VhUWFEaXdBQkJBallDQUVHVzRzQUFMUUFBUVFKR0RRc2dBUzhCTmlFTEMwR0k0c0FBUVlqaXdBQW9BZ0FnQm1vMkFnQkJqdUxBQUVHTzRzQUFMd0VBSUFacU93RUFJQVF0QUVBTkFpQUxFSU1CREFJTElBUkI4QUJxSUFJZ0F4QStJQUZCTUdvaUJpQUNRUmhxS0FJQU5nSUFJQUZCS0dvaUF5QUNRUkJxS1FJQU53TUFJQUZCSUdvaUFDQUNRUWhxS1FJQU53TUFJQUVnQWlrQ0FEY0RHQ0FFS0FLWUFTSUhJQVFvQXBBQlJnUkFJQTRRYndzZ0JDZ0NsQUVnQjBFY2JHb2lDaUFCS1FNWU53SUFJQXBCR0dvZ0JpZ0NBRFlDQUNBS1FSQnFJQU1wQXdBM0FnQWdDa0VJYWlBQUtRTUFOd0lBSUFRZ0IwRUJhallDbUFFTUFRc2dCRUh3QUdvaUFDQUNJQWdRUGlBRUtBSjhJZ29FUUNBQUtBSUFJZ3RCQ0dvaERDQUxLUU1BUW4rRlFvQ0Jnb1NJa0tEQWdIK0RJUkFEUUNBUVVBUkFBMEFnQzBHZ0FXc2hDeUFNS1FNQUlBeEJDR29oREVKL2hVS0FnWUtFaUpDZ3dJQi9neUlRVUEwQUN3c2dDeUFRZXFkQkEzWkJiR3hxSWdOQkZHc29BZ0FpQUNBUFJpQUFJQTlyUWJ2L0FVdHlSUVJBSXdCQjBBQnJJZ1VrQUNBRlFjU0x3QUEyQWhnZ0JVSUVOd0lrSUFVZ0EwRVFheUlOUVExcUlnYXRRb0NBZ0lEZ0FJUTNBMGdnQlNBTlFReHFJZ090UW9DQWdJRGdBSVEzQTBBZ0JTQU5yVUtBZ0lDQTBBQ0VOd013SUFWQkJEWUNIQ0FGSUExQkJHb2lCNjFDZ0lDQWdOQUFoRGNET0NBRklBVkJNR28yQWlBZ0JVRU1haUFGUVJocUVFb2dCU2dDRENJQUJFQWdCU2dDRUNBQVFRRVE0d0VMSUFNdEFBQUVRQ0FOSUEwb0FnQkJBV28yQWdBTElBWXRBQUFFUUNBSElBY29BZ0JCQVdvMkFnQUxJQVZCMEFCcUpBQUxJQkJDQVgwZ0VJTWhFQ0FLUVFGcklnb05BQXNMSUFGQm1BRnFJQUpCR0dvb0FnQTJBZ0FnQVVHUUFXb2dBa0VRYWlrQ0FEY0RBQ0FCUVlnQmFpQUNRUWhxS1FJQU53TUFJQUVnQWlrQ0FEY0RnQUVnQkNnQ21BRWlBQ0FJU1EwRElBNG9BZ0FnQUVZRVFDQU9FRzhMSUFRb0FwUUJJQWxxSVFNZ0FDQUlTd1JBSUFOQkhHb2dBeUFBSUFoclFSeHNFUFlCR2dzZ0F5QUJLUU9BQVRjQ0FDQURRUmhxSUFGQm1BRnFLQUlBTmdJQUlBTkJFR29nQVVHUUFXb3BBd0EzQWdBZ0EwRUlhaUFCUVlnQmFpa0RBRGNDQUNBRUlBQkJBV28yQXBnQkN5QUVJQThRS0F3REN5QUVJQUl0QUJNZ0FpMEFFaUFDTHdFUUVEZ0xJQUlvQWdBaUFFVU5BU0FDS0FJRUlBQkJBUkRqQVF3QkN5QUlJQUFRamdFQUN5QUJRZkFCYWlRQURBRUxJQUZCQURZQ2tBRWdBVUVCTmdLRUFTQUJRY1NTd0FBMkFvQUJJQUZDQkRjQ2lBRWdBVUdBQVdwQndKUEFBQkNrQVFBTElBSkI4QUJxSkFBUEN5QUNRUUEyQWhBZ0FrRUJOZ0lFSUFKQnhKTEFBRFlDQUNBQ1FnUTNBZ2dnQWtIQWs4QUFFS1FCQUF0QjBKUEFBRUVvUWZpVHdBQVFyUUVBQy9RQkFnRitCMzhDUUNBQUtBSUVJZ1pGRFFBZ0FDZ0NEQ0lIQkVBZ0FDZ0NBQ0lDUVFocUlRTWdBaWtEQUVKL2hVS0FnWUtFaUpDZ3dJQi9neUVCQTBBZ0FWQUVRQU5BSUFKQmdBRnJJUUlnQXlrREFDQURRUWhxSVFOQ2Y0VkNnSUdDaElpUW9NQ0FmNE1pQVZBTkFBc0xJQUlnQVhxblFRRjBRZkFCY1d0QkVHc2lCRUVJYWlnQ0FDRUlJQVJCREdvb0FnQWlCQ2dDQUNJRkJFQWdDQ0FGRVFFQUN5QUVLQUlFSWdVRVFDQUlJQVVnQkNnQ0NCRGpBUXNnQVVJQmZTQUJneUVCSUFkQkFXc2lCdzBBQ3dzZ0JpQUdRUVIwSWdOcVFSbHFJZ0pGRFFBZ0FDZ0NBQ0FEYTBFUWF5QUNRUWdRNHdFTEM0RUNBUUovSXdCQk1Hc2lBaVFBQW44Q1FDQUFLQUlBSWdCQkFFZ0VRRUgvOHdFZ0FIWkJBWEZGSUFCQi8vLy8vd2R4SWdOQkQwOXlEUUVnQVNBRFFRSjBJZ0JCMktmQUFHb29BZ0FnQUVHVXFNQUFhaWdDQUJEUUFRd0NDeUFDSUFBMkFpd2dBa0VCTmdJTUlBSkJ5S2ZBQURZQ0NDQUNRZ0UzQWhRZ0FpQUNRU3hxclVLQWdJQ0FrQWFFTndNZ0lBSWdBa0VnYWpZQ0VDQUJLQUlVSUFFb0FoZ2dBa0VJYWhBekRBRUxJQUpCQVRZQ0RDQUNRYlNud0FBMkFnZ2dBa0lCTndJVUlBSWdBRFlDTENBQ0lBSkJMR3F0UW9DQWdJRFFBSVEzQXlBZ0FpQUNRU0JxTmdJUUlBRW9BaFFnQVNnQ0dDQUNRUWhxRURNTElBSkJNR29rQUF2ekFRRUVmeUFBS0FJRUlRSWdBQ2dDQUNFQklBQkNoSUNBZ01BQU53SUFJQUlnQVd0QkhHNGhBeUFBS0FJSUlRUUNRQUpBSUFFZ0FrWUVRQ0FBS0FJUUlnRkZEUUVnQUNnQ0RDSUNJQVFvQWdnaUFFWU5BaUFFS0FJRUlnTWdBRUVjYkdvZ0F5QUNRUnhzYWlBQlFSeHNFUFlCR2d3Q0N3TkFJQUVvQWdBaUFnUkFJQUZCQkdvb0FnQWdBa0VCRU9NQkN5QUJRUnhxSVFFZ0EwRUJheUlERFFBTElBQW9BaEFpQVVVTkFDQUFLQUlNSWdJZ0JDZ0NDQ0lBUndSQUlBUW9BZ1FpQXlBQVFSeHNhaUFESUFKQkhHeHFJQUZCSEd3UTlnRWFDeUFFSUFBZ0FXbzJBZ2dMRHdzZ0JDQUFJQUZxTmdJSUM2MENBZ0ovQkg0akFFRVFheUlDSkFBUWx3RWlBUVJBUWdFaEF5QUJJQUVwQXdBaUJFSUJmRGNEQUNBQktRTUlJUVVDZmtIWTZNQUFLUU1BVUVVRVFFSGc2TUFBS1FNQUlRTkI2T2pBQUNrREFBd0JDMEhvNk1BQVFnSTNBd0JCMk9qQUFFSUJOd01BUWdJTElRWWdBRUlBTndOQUlBQWdCVGNET0NBQUlBUTNBekFnQUVFeU93Rm9JQUFnQmpjREdDQUFJQU0zQXhCQjRPakFBQ0FEUWdGOE53TUFJQUJCc0lYQUFDa0RBRGNESUNBQVFTaHFRYmlGd0FBcEF3QTNBd0FnQUVISUFHcENBRGNEQUNBQVFkQUFha0lBTndNQUlBQkIyQUJxUWdBM0F3QWdBRUhmQUdwQ0FEY0FBQ0FBUWJDT3dBQXBBd0EzQXdBZ0FFRUlha0c0anNBQUtRTUFOd01BSUFKQkVHb2tBQThMUVlDSndBQkJ4Z0FnQWtFUGFrSHdpTUFBUVppS3dBQVFoUUVBQzdBQ0FnSi9BMzRqQUVFUWF5SUNKQUFRbHdFaUFRUkFRZ0VoQXlBQklBRXBBd0FpQkVJQmZEY0RBQ0FCS1FNSUlRVWdBRUVvYWtHNGhjQUFLUU1BTndNQUlBQkJzSVhBQUNrREFEY0RJQ0FBUVFBNkFHUWdBRUVBTmdKSUlBQWdCVGNET0NBQUlBUTNBekFnQUVHQUFqc0FaU0FBUWdBM0Fsd2dBRUlBTndOQUlBQkNBRGNDVENBQVFkUUFha0lBTndJQUFuNUIyT2pBQUNrREFGQkZCRUJCNE9qQUFDa0RBQ0VEUWVqb3dBQXBBd0FNQVF0QjZPakFBRUlDTndNQVFkam93QUJDQVRjREFFSUNDeUVFSUFCQk1qc0JhQ0FBSUFRM0F4Z2dBQ0FETndNUVFlRG93QUFnQTBJQmZEY0RBQ0FBUVpDVXdBQXBBd0EzQXdBZ0FFRUlha0dZbE1BQUtRTUFOd01BSUFKQkVHb2tBQThMUVlDSndBQkJ4Z0FnQWtFUGFrSHdpTUFBUVppS3dBQVFoUUVBQy93QkFnUi9CSDRqQUVFd2F5SUNKQUFnQWtFb2FrSUFOd01BSUFKQklHcENBRGNEQUNBQ1FSaHFRZ0EzQXdBZ0FrSUFOd01RSUFKQkNHb2dBa0VRYWhDaEFRSkFJQUlvQWdnaUEwVUVRQ0FDS1FNUUlRWWdBaWtER0NFSElBSXBBeUFoQ0NBQ0tRTW9JUWxCcUlyQUFCQ29BU0VESUFCQnJJckFBQkNvQVRZQ0xDQUFJQU0yQWlnZ0FFSUFOd01nSUFBZ0NUY0RHQ0FBSUFnM0F4QWdBQ0FITndNSUlBQWdCamNEQUF3QkN5QUNLQUlNSWdVb0FnQWlCQVJBSUFNZ0JCRUJBQXNnQlNnQ0JDSUVSUTBBSUFNZ0JDQUZLQUlJRU9NQkN5QUFRUUEyQWtBZ0FDQUFLUU13UW9BQ2ZUY0RPQ0FBSUFFUUl5QUNRVEJxSkFBTC9RRUJBWDhqQUVFZ2F5SUNKQUFnQWtFTWFpQUJRZkNod0FCQkJSQzZBUUpBQWtBZ0FDZ0NBQ0lBUVFCSUJFQkIvL01CSUFCMlFRRnhSU0FBUWYvLy8vOEhjU0lCUVE5UGNnMEJJQUlnQVVFQ2RDSUJRWlNvd0FCcUtBSUFOZ0lZSUFJZ0FVSFlwOEFBYWlnQ0FEWUNGQ0FDSUFBMkFod2dBa0VNYWlJQVFkU213QUJCRFNBQ1FSeHFRY1Ntd0FBUVV4b2dBRUgwcHNBQVFRc2dBa0VVYWtIa3BzQUFFRk1hREFJTElBSWdBRFlDRkNBQ1FReHFRWnlud0FCQkNDQUNRUlJxUVl5bndBQVFVeG9NQVFzZ0FpQUFOZ0lVSUFKQkRHcEIvNmJBQUVFTUlBSkJGR3BCeEtiQUFCQlRHZ3NnQWtFTWFoQ0lBU0FDUVNCcUpBQUw0QUVCQTM4akFFRXdheUlCSkFBZ0FFRUVhaWdDQUNFRElBQW9BZ0FpQWlnQ0FDRUFJQUpCQURZQ0FDQUFLQUl3SVFJZ0FFRUFOZ0l3SUFJRVFDQUJRUWhxSUFJUkFRQWdBeWdDQUNJQUtBSUFCRUFnQUJCaUlBTW9BZ0FoQUFzZ0FDQUJLUU1JTndNQUlBQkJJR29nQVVFb2Fpa0RBRGNEQUNBQVFSaHFJQUZCSUdvcEF3QTNBd0FnQUVFUWFpQUJRUmhxS1FNQU53TUFJQUJCQ0dvZ0FVRVFhaWtEQURjREFDQUJRVEJxSkFCQkFROExJQUZCQURZQ0dDQUJRUUUyQWd3Z0FVSEVrc0FBTmdJSUlBRkNCRGNDRUNBQlFRaHFRYkNUd0FBUXBBRUFDOXNCQVFOL0l3QkJNR3NpQVNRQUlBQW9BZ0FpQWlnQ0FDRURJQUpCQURZQ0FDQURLQUl3SVFJZ0EwRUFOZ0l3SUFJRVFDQUJRUWhxSUFJUkFRQWdBQ2dDQkNJREtBSUFJZ0FvQWdBRVFDQUFFR0lnQXlnQ0FDRUFDeUFBSUFFcEF3ZzNBd0FnQUVFZ2FpQUJRU2hxS1FNQU53TUFJQUJCR0dvZ0FVRWdhaWtEQURjREFDQUFRUkJxSUFGQkdHb3BBd0EzQXdBZ0FFRUlhaUFCUVJCcUtRTUFOd01BSUFGQk1Hb2tBRUVCRHdzZ0FVRUFOZ0lZSUFGQkFUWUNEQ0FCUWNTU3dBQTJBZ2dnQVVJRU53SVFJQUZCQ0dwQnNKUEFBQkNrQVFBTHhBSUNCSDhEZmlNQVFTQnJJZ0VrQUNNQVFSQnJJZ0FrQUNBQlFRZzJBZ0FnQVVFZ05nSUVJQUJCRUdva0FDQUJLQUlBSVFJQ1FBSkFJQUVvQWdRaUF3Ui9RZm5qd0FBdEFBQWFJQU1nQWhEWEFRVWdBZ3NpQUFSQUlBQkJBallDRUNBQVFvR0FnSUFRTndNQVFmamt3QUFwQXdBaEJBTkFJQVJDZjFFTkFrSDQ1TUFBSUFSQ0FYd2lCVUg0NU1BQUtRTUFJZ1lnQkNBR1VTSUNHemNEQUNBR0lRUWdBa1VOQUF0QjhPakFBQ0FGTndNQUlBQWdCVGNEQ0VINDZNQUFLQUlBUlEwQ0lBRkJBRFlDR0NBQlFRRTJBZ3dnQVVIWXFzQUFOZ0lJSUFGQ0JEY0NFQ0FCUVFocVFiQ3J3QUFRcEFFQUN5QUNJQU1ROFFFQUN5TUFRU0JySWdBa0FDQUFRUUEyQWhnZ0FFRUJOZ0lNSUFCQmxLL0FBRFlDQ0NBQVFnUTNBaEFnQUVFSWFrR2NyOEFBRUtRQkFBdEIrT2pBQUNBQU5nSUFJQUZCSUdva0FBdmFBZ0VDZnlNQVFUQnJJZ01rQUNBRFFReHFJZ0lnQVNnQ0ZFRUJRUUFnQVNnQ0dDZ0NEQkVDQURvQUNDQUNJQUUyQWdRZ0FrRUJPZ0FKSUFKQkFEWUNBQ0FESUFCQkJHbzJBaGdnQXlBQVFRVnFOZ0ljSUFNZ0FFRUdhallDSUNBRElBQkJCMm8yQWlRZ0F5QUFOZ0lvSUFNZ0FFRUlhallDTENBQ0lBTkJHR3BCekpUQUFCQmZJQUlnQTBFY2FrSE1sTUFBRUY4Z0FpQURRU0JxUWN5VXdBQVFYeUFDSUFOQkpHcEJ6SlRBQUJCZklBSWdBMEVvYWtIY2xNQUFFRjhnQWlBRFFTeHFRY3lVd0FBUVh3Si9JQUl0QUFnaUFFRUFSeUFDS0FJQUlnRkZEUUFhQWtBZ0FFVUVRQ0FDS0FJRUlRQWdBVUVCUncwQklBSXRBQWxGRFFFZ0FDMEFIRUVFY1EwQklBQW9BaFJCN01iQUFFRUJJQUFvQWhnb0Fnd1JBZ0JGRFFFTElBSkJBVG9BQ0VFQkRBRUxJQUlnQUNnQ0ZFSG93OEFBUVFFZ0FDZ0NHQ2dDREJFQ0FDSUFPZ0FJSUFBTElBTkJNR29rQUF1NkFRSUJmZ04vSXdCQkVHc2lBeVFBSUFOQkJHb2dBUkM3QVNBQUtBSVlJZ1FFUUNBQUtBSVFJUUVnQUNnQ0NDRUZJQUFwQXdBaEFnTkFJQUpRQkVBZ0JTRUFBMEFnQVVHZ0FXc2hBU0FBS1FNQUlBQkJDR29pQlNFQVFuK0ZRb0NCZ29TSWtLREFnSCtESWdKUURRQUxDeUFESUFFZ0FucW5RUU4yUVd4c2FrRVVhellDRENBRFFRUnFJQU5CREdwQjNKVEFBQkJkSUFKQ0FYMGdBb01oQWlBRVFRRnJJZ1FOQUFzTElBTkJCR29RdVFFZ0EwRVFhaVFBQy9nQkFRSi9Jd0JCSUdzaUJTUUFRZkRrd0FCQjhPVEFBQ2dDQUNJR1FRRnFOZ0lBQWtBZ0JrRUFTQTBBUWNqb3dBQXRBQUJGQkVCQnlPakFBRUVCT2dBQVFjVG93QUJCeE9qQUFDZ0NBRUVCYWpZQ0FFSGs1TUFBS0FJQUlnWkJBRWdOQVVIazVNQUFJQVpCQVdvMkFnQkI1T1RBQUVIbzVNQUFLQUlBQkg4Z0JTQUFJQUVvQWhRUkF3QWdCU0FFT2dBZElBVWdBem9BSENBRklBSTJBaGdnQlNBRktRTUFOd0lRUWVqa3dBQW9BZ0FnQlVFUWFrSHM1TUFBS0FJQUtBSVVFUU1BUWVUa3dBQW9BZ0JCQVdzRklBWUxOZ0lBUWNqb3dBQkJBRG9BQUNBRFJRMEJBQXNnQlVFSWFpQUFJQUVvQWhnUkF3QUxBQXZFQVFFR2Z5TUFRU0JySWdFa0FDQUFLQUlBSWdKQmYwWUVRRUVBUVFBUXpBRUFDMEVFSVFWQkJDQUNRUUYwSWdNZ0FrRUJhaUlFSUFNZ0JFc2JJZ01nQTBFRVRSc2lCRUVjYkNFR0lBTkJwWkxKSkVsQkFuUWhBd0pBSUFKRkJFQkJBQ0VGREFFTElBRWdBa0VjYkRZQ0hDQUJJQUFvQWdRMkFoUUxJQUVnQlRZQ0dDQUJRUWhxSUFNZ0JpQUJRUlJxRUhzZ0FTZ0NDQVJBSUFFb0Fnd2dBU2dDRUJETUFRQUxJQUVvQWd3aEFpQUFJQVEyQWdBZ0FDQUNOZ0lFSUFGQklHb2tBQXZZQVFFRmZ5TUFRU0JySWdFa0FDQUFRUVJxS0FJQUlRTWdBQ2dDQUNJQ0tBSUFJUUFnQWtFQU5nSUFJQUFvQWhBaEFpQUFRUUEyQWhBZ0FnUkFJQUVnQWhFQkFDQUJLQUlFSVFRZ0FTZ0NBQ0VGQWtBZ0F5Z0NBQ0lBS0FJQVJRMEFJQUFvQWdnaEFpQUFLQUlFSWdCQmhBRlBCRUFnQUJBQ0N5QUNRWVFCU1EwQUlBSVFBZ3NnQXlnQ0FDSUFJQVEyQWdnZ0FDQUZOZ0lFSUFCQkFUWUNBQ0FCUVNCcUpBQkJBUThMSUFGQkFEWUNHQ0FCUVFFMkFnd2dBVUhFa3NBQU5nSUlJQUZDQkRjQ0VDQUJRUWhxUWJDVHdBQVFwQUVBQzdFQkFRWi9Jd0JCSUdzaUFTUUFJQUFvQWdBaUFrRi9SZ1JBUVFCQkFCRE1BUUFMUVFRZ0FrRUJkQ0FDUVFGcUlBSkJBRW9iSWdNZ0EwRUVUUnNpQlVFVWJDRUdJQUVnQWdSL0lBRWdBa0VVYkRZQ0hDQUJJQUFvQWdRMkFoUkJCQVVnQkFzMkFoZ2dBVUVJYWlBRFFlZk1tVE5KUVFKMElBWWdBVUVVYWhCN0lBRW9BZ2dFUUNBQktBSU1JQUVvQWhBUXpBRUFDeUFCS0FJTUlRSWdBQ0FGTmdJQUlBQWdBallDQkNBQlFTQnFKQUFMbUEwQ0NIOEJmaU1BUWRBQWF5SUZKQUFnQlVFR05nSU1JQVZCL0xiQUFEWUNDQUpBQWtBQ1FBSi9Jd0JCSUdzaUF5UUFBa0FDUUVHbzVNQUFMUUFBUlEwQVFjem93QUF0QUFCRkJFQWpBRUVRYXlJQkpBQkJ6T2pBQUMwQUFDRUdRY3pvd0FCQkFUb0FBRUhRNk1BQUtBSUFJUVJCME9qQUFFRUFOZ0lBSUFFZ0JEWUNEQ0FCSUFZMkFnZ0NRQ0FHUlNBRVJYSU5BQ0FFSUFRb0FnQWlCRUVCYXpZQ0FDQUVRUUZIRFFBZ0FVRU1haENmQVFzZ0FVRVFhaVFBQzBIUTZNQUFLQUlBSVFSQjBPakFBRUVBTmdJQUlBUkZEUUFnQkMwQUNDRUJJQVJCQVRvQUNDQURJQUU2QUFjZ0FRMEJJQU5CQ0dvaEFpTUFRVEJySWdFa0FDQUJRUVE2QUFnZ0FTQUVRUXhxTmdJUUFrQWdBVUVJYWtIVXE4QUFJQUFRTTBVRVFDQUNRUVE2QUFBZ0FTZ0NEQ0VDSUFFdEFBZ2lCa0VFVFNBR1FRTkhjUTBCSUFJb0FnQWhCaUFDUVFScUtBSUFJZ2NvQWdBaUNBUkFJQVlnQ0JFQkFBc2dCeWdDQkNJSUJFQWdCaUFJSUFjb0FnZ1E0d0VMSUFKQkRFRUVFT01CREFFTElBRXRBQWhCQkVjRVFDQUNJQUVwQXdnM0FnQU1BUXNNQlFzZ0FVRXdhaVFBSUFNb0Fnd2hBU0FETFFBSUlnSkJCRTBnQWtFRFIzRkZCRUFnQVNnQ0FDRUNJQUZCQkdvb0FnQWlCaWdDQUNJSEJFQWdBaUFIRVFFQUN5QUdLQUlFSWdjRVFDQUNJQWNnQmlnQ0NCRGpBUXNnQVVFTVFRUVE0d0VMSUFSQkFEb0FDRUhRNk1BQUtBSUFJUUZCME9qQUFDQUVOZ0lBSUFNZ0FUWUNDQUpBSUFGRkRRQWdBU0FCS0FJQUlnRkJBV3MyQWdBZ0FVRUJSdzBBSUFOQkNHb1Fud0VMUVFFaEFnc2dBMEVnYWlRQUlBSU1BUXNNQXd0RkJFQkIyT1RBQUMwQUFFRURSd1JBSXdCQkVHc2lBaVFBUWRqa3dBQXRBQUJCQTBjRVFDQUNRYkRrd0FBMkFnUWdBaUFDUVE5cU5nSUlJQUpCQkdvaEJDTUFRU0JySWdNa0FBSkFBa0FDUUFKQUFrQkIyT1RBQUMwQUFDSUJRUUpQQkVBZ0FVRURhdzBFREFFTFFkamt3QUJCQWpvQUFDQUVLQUlBSVFFZ0JFRUFOZ0lBSUFGRkRRRkIrZVBBQUMwQUFCcEJnQWhCQVJEWEFTSUVSUTBDSUFGQkFEb0FJQ0FCUVFBMkFod2dBU0FFTmdJWUlBRkNnSUNBZ0lDQUFUY0RFQ0FCUVFBNkFBd2dBVUVBTmdJSUlBRkNBRGNEQUVIWTVNQUFRUU02QUFBTElBTkJJR29rQUF3REMwR2N1Y0FBRU9jQkFBdEJBVUdBQ0JETUFRQUxJQU5CQURZQ0dDQURRUUUyQWd3Z0EwR0l2TUFBTmdJSUlBTkNCRGNDRUNBRFFRaHFRWXk1d0FBUXBBRUFDd3NnQWtFUWFpUUFDeUFGUWJEa3dBQTJBaHdnQlNBRlFSeHFOZ0lvSUFWQkVHb2hCaU1BUVRCcklnRWtBQ0FCQW44Z0JVRW9haWdDQUNNQVFTQnJJZ01rQUNnQ0FDRUVBa0FDUUFKQVFmRG93QUFwQXdBaUNVSUFVZzBBUWZqb3dBQW9BZ0FpQWtVRVFCQnJRZmpvd0FBb0FnQWhBZ3NnQWlBQ0tBSUFJZ2RCQVdvMkFnQWdCMEVBU0EwQklBSkZEUUlnQWlBQ0tBSUFJZ2RCQVdzMkFnQWdBeUFDTmdJSUlBSXBBd2doQ1NBSFFRRkhEUUFnQTBFSWFoQ1lBUXNDUUFKQUlBUXBBd0FnQ1ZJRVFDQUVMUUFNSVFJZ0JFRUJPZ0FNSUFNZ0Fqb0FCeUFDUlEwQkRBa0xJQVFvQWdnaUFrRi9Sd1JBSUFRZ0FrRUJhallDQ0F3Q0MwR3N1Y0FBUVNaQitMbkFBQkNaQVFBTElBUkJBVFlDQ0NBRUlBazNBd0FMSUFOQklHb2tBQ0FFREFJTEFBdEJ6NjNBQUVIZUFFSE1yc0FBRUprQkFBczJBZ1FnQVVFRU9nQUlJQUVnQVVFRWFqWUNFQUpBSUFGQkNHcEJoS3pBQUNBQUVETkZCRUFnQmtFRU9nQUFJQUVvQWd3aEFDQUJMUUFJSWdOQkJFMGdBMEVEUjNFTkFTQUFLQUlBSVFNZ0FFRUVhaWdDQUNJQ0tBSUFJZ1FFUUNBRElBUVJBUUFMSUFJb0FnUWlCQVJBSUFNZ0JDQUNLQUlJRU9NQkN5QUFRUXhCQkJEakFRd0JDeUFCTFFBSVFRUkdEUU1nQmlBQktRTUlOd0lBQ3lBQktBSUVJZ0FnQUNnQ0NFRUJheUlETmdJSUlBTkZCRUFnQUVFQU9nQU1JQUJDQURjREFBc2dBVUV3YWlRQUlBVXRBQkJCQkVjTkFRc2dCVUhRQUdva0FBOExJQVVnQlNrREVEY0RJQ0FGUVFJMkFpd2dCVUhjdHNBQU5nSW9JQVZDQWpjQ05DQUZJQVZCSUdxdFFvQ0FnSURRQ0lRM0EwZ2dCU0FGUVFocXJVS0FnSUNBd0FpRU53TkFJQVVnQlVGQWF6WUNNQ0FGUVNocVFleTJ3QUFRcEFFQUN5QUJRUUEyQWlnZ0FVRUJOZ0ljSUFGQjlMZkFBRFlDR0NBQlFnUTNBaUFnQVVFWWFrSDh0OEFBRUtRQkFBc2dBMElBTndJVUlBTkNnWUNBZ01BQU53SU1JQU5CckxqQUFEWUNDQ01BUVJCcklnQWtBQ0FBUWNDcndBQTJBZ3dnQUNBRFFRZHFOZ0lJSUFCQkNHcEJ4S3ZBQUNBQVFReHFRY1Nyd0FBZ0EwRUlha0hndU1BQUVFNEFDOU1CQVFWL0l3QkJJR3NpQVNRQUlBQW9BZ0FpQWlnQ0FDRURJQUpCQURZQ0FDQURLQUlRSVFJZ0EwRUFOZ0lRSUFJRVFDQUJJQUlSQVFBZ0FTZ0NCQ0VDSUFFb0FnQWhCQUpBSUFBb0FnUWlCU2dDQUNJQUtBSUFSUTBBSUFBb0FnZ2hBeUFBS0FJRUlnQkJoQUZQQkVBZ0FCQUNDeUFEUVlRQlNRMEFJQU1RQWdzZ0JTZ0NBQ0lBSUFJMkFnZ2dBQ0FFTmdJRUlBQkJBVFlDQUNBQlFTQnFKQUJCQVE4TElBRkJBRFlDR0NBQlFRRTJBZ3dnQVVIRWtzQUFOZ0lJSUFGQ0JEY0NFQ0FCUVFocVFiQ1R3QUFRcEFFQUM3Y0JBUU4vSXdCQklHc2lBeVFBSUFFZ0FTQUNhaUlDU3dSQVFRQkJBQkRNQVFBTFFRRWhBVUVJSUFBb0FnQWlCVUVCZENJRUlBSWdBaUFFU1JzaUFpQUNRUWhOR3lJQ1FYOXpRUjkySVFRQ1FDQUZSUVJBUVFBaEFRd0JDeUFESUFVMkFod2dBeUFBS0FJRU5nSVVDeUFESUFFMkFoZ2dBMEVJYWlBRUlBSWdBMEVVYWhCN0lBTW9BZ2dFUUNBREtBSU1JQU1vQWhBUXpBRUFDeUFES0FJTUlRRWdBQ0FDTmdJQUlBQWdBVFlDQkNBRFFTQnFKQUFMdHdFQkJYOGpBRUVnYXlJQkpBQWdBQ2dDQUNJQ1FYOUdCRUJCQUVFQUVNd0JBQXRCQVNFRlFRZ2dBa0VCZENJRElBSkJBV29pQkNBRElBUkxHeUlESUFOQkNFMGJJZ05CZjNOQkgzWWhCQUpBSUFKRkJFQkJBQ0VGREFFTElBRWdBallDSENBQklBQW9BZ1EyQWhRTElBRWdCVFlDR0NBQlFRaHFJQVFnQXlBQlFSUnFFSHNnQVNnQ0NBUkFJQUVvQWd3Z0FTZ0NFQkRNQVFBTElBRW9BZ3doQWlBQUlBTTJBZ0FnQUNBQ05nSUVJQUZCSUdva0FBdTNBUUVEZnlNQVFTQnJJZ01rQUNBQklBRWdBbW9pQWtzRVFFRUFRUUFRekFFQUMwRUJJUUZCQ0NBQUtBSUFJZ1ZCQVhRaUJDQUNJQUlnQkVrYklnSWdBa0VJVFJzaUFrRi9jMEVmZGlFRUFrQWdCVVVFUUVFQUlRRU1BUXNnQXlBRk5nSWNJQU1nQUNnQ0JEWUNGQXNnQXlBQk5nSVlJQU5CQ0dvZ0JDQUNJQU5CRkdvUWVDQURLQUlJQkVBZ0F5Z0NEQ0FES0FJUUVNd0JBQXNnQXlnQ0RDRUJJQUFnQWpZQ0FDQUFJQUUyQWdRZ0EwRWdhaVFBQzhrQkFRSi9Jd0JCSUdzaUFTUUFJQUVnQURZQ0VFR1E0Y0FBS0FJQVFRSkhCRUFRblFFTFFaVGh3QUFvQWdCQmdJREFBaEMxQVNFQUlBRkJnUUUyQWhRZ0FTQUFOZ0lZSUFGQkNHb2dBVUVRYWlBQlFSUnFJQUZCR0dvUXF3RWdBU2dDRENFQ0lBRW9BZ2hGQkVBZ0FrR0VBVThFUUNBQ0VBSWdBU2dDR0NFQUN5QUFRWVFCVHdSQUlBQVFBZ3NnQVNnQ0ZDSUFRWVFCVHdSQUlBQVFBZ3NnQVVFZ2FpUUFEd3NnQVNBQ05nSWNRZXlNd0FCQkppQUJRUnhxUWR5TXdBQkI5STNBQUJDRkFRQUxyZ0VCQTM5QkFTRUVRUVFoQmlBQlJTQUNRUUJJY2tVRVFBSi9Ba0FDUUFKL0lBTW9BZ1FFUUNBREtBSUlJZ0ZGQkVBZ0FrVUVRQXdFQzBINTQ4QUFMUUFBR2lBQ1FRRVExd0VNQWdzZ0F5Z0NBQ0FCUVFFZ0FoRE9BUXdCQ3lBQ1JRUkFEQUlMUWZuandBQXRBQUFhSUFKQkFSRFhBUXNpQkVVTkFRc2dBQ0FFTmdJRVFRQU1BUXNnQUVFQk5nSUVRUUVMSVFSQkNDRUdJQUloQlFzZ0FDQUdhaUFGTmdJQUlBQWdCRFlDQUF1OEFRSURmd0YrSXdCQk1Hc2lBaVFBSUFFb0FnQkJnSUNBZ0hoR0JFQWdBU2dDRENFRElBSkJGR29pQkVFQU5nSUFJQUpDZ0lDQWdCQTNBZ3dnQWtFb2FpQURRUkJxS1FJQU53TUFJQUpCSUdvZ0EwRUlhaWtDQURjREFDQUNJQU1wQWdBM0F4Z2dBa0VNYWtIc3E4QUFJQUpCR0dvUU14b2dBa0VJYWlBRUtBSUFJZ00yQWdBZ0FpQUNLUUlNSWdVM0F3QWdBVUVJYWlBRE5nSUFJQUVnQlRjQ0FBc2dBRUhrdXNBQU5nSUVJQUFnQVRZQ0FDQUNRVEJxSkFBTGppOENHbjhGZmdKQUlBQW9Ba3dpQ1VVTkFDQUFLQUpJSWdFdEFCVWhBaUFCTHdFUUlBQXZBVkJCQVdwQi8vOERjVWNFUUFKQUlBSUVRRUdnNHNBQUtBSUFRUUpIQkVBUW5nRUxJQWxCbU9MQUFDOEJBRThOQVF3REN5QUFFREVQQ3lBQktBSU1JUTBnQVMwQUZ5RUNJd0JCUUdvaUN5UUFJQUFvQWlBaENRSkFBa0FDUUFKQVFiRGl3QUFvQWdCRkJFQkI0T0xBQUNnQ0FDRUJRZURpd0FCQkFEWUNBQ0FCUlEwQklBdEJHR29nQVJFQkFFSFk0c0FBUVFJMkFnQkIwT0xBQUNBTFFUaHFLUU1BTndNQVFjaml3QUFnQzBFd2Fpa0RBRGNEQUVIQTRzQUFJQXRCS0dvcEF3QTNBd0JCdU9MQUFDQUxRU0JxS1FNQU53TUFRYkRpd0FBZ0N5a0RHQ0liTndNQUlCdW5SUTBDQzBIVTRzQUFRZFRpd0FBdkFRQkJBV29pQ0RzQkFFSDU0OEFBTFFBQUdrSFE0c0FBS0FJQUlRTkJBVUVCRU5jQklnRkZEUUlnQVNBQ09nQUFJQXRCK0pEQUFEWUNJQ0FMSUFFMkFod2dDeUFESUFscU5nSVlJQXRCREdvaEdTQUxRUmhxSVJWQkFDRUpJd0JCRUdzaURpUUFJQTRnQ0RzQkFFSEE0c0FBSUE0UU9pRWRRYmppd0FBb0FnQkZCRUFqQUVFZ2F5SVNKQUFDUUFKQUFrQUNRQUpBQWtBQ1FFRzg0c0FBS0FJQUlnVkJBV29pQVNBRlR3UkFRYlRpd0FBb0FnQWlCaUFHUVFGcUlncEJBM1lpQTBFSGJDQUdRUWhKR3lJTVFRRjJJQUZKQkVBZ0FTQU1RUUZxSUFFZ0RFc2JJZ0ZCQ0VrTkFpQUJRZi8vLy84QlN3UkFFS01CSUJJb0FoZ2FEQWtMUVg4Z0FVRURkRUVIYmtFQmEyZDJJZ0ZCL3YvLy93QkxEUVlnQVVFQmFpRUNEQVVMUVFBaEFrR3c0c0FBS0FJQUlRY0NRQ0FESUFwQkIzRkJBRWRxSWdGRkRRQWdBVUVCUndSQUlBRkIvdi8vL3dOeElRUURRQ0FDSUFkcUlnTWdBeWtEQUNJYlFuK0ZRZ2VJUW9HQ2hJaVFvTUNBQVlNZ0cwTC8vdjM3OSsvZnYvOEFoSHczQXdBZ0EwRUlhaUlESUFNcEF3QWlHMEovaFVJSGlFS0Jnb1NJa0tEQWdBR0RJQnRDLy83OSsvZnYzNy8vQUlSOE53TUFJQUpCRUdvaEFpQUVRUUpySWdRTkFBc0xJQUZCQVhGRkRRQWdBaUFIYWlJQklBRXBBd0FpRzBKL2hVSUhpRUtCZ29TSWtLREFnQUdESUJ0Qy8vNzkrL2Z2MzcvL0FJUjhOd01BQ3lBS1FRaFBCRUFnQnlBS2FpQUhLUUFBTndBQURBTUxJQWRCQ0dvZ0J5QUtFUFlCR2lBS0RRSkJBQ0VNREFNTEVLTUJJQklvQWdBYURBWUxRUVJCQ0NBQlFRUkpHeUVDREFJTElBZEJDR29oQ2lBSFFSQnJJUlpCQUNFQ0EwQUNRQ0FISUFJaUFXb2lFQzBBQUVHQUFVY05BQ0FXSUFGQkJIUnJJUmNnQnlBQlFYOXpRUVIwYWlFREFrQURRQ0FHUWNEaXdBQWdGeEE2cHlJVWNTSVBJUVFnQnlBUGFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJYlVBUkFRUWdoQWdOQUlBSWdCR29oQkNBQ1FRaHFJUUlnQnlBRUlBWnhJZ1JxS1FBQVFvQ0Jnb1NJa0tEQWdIK0RJaHRRRFFBTEN5QUhJQnQ2cDBFRGRpQUVhaUFHY1NJQ2Fpd0FBRUVBVGdSQUlBY3BBd0JDZ0lHQ2hJaVFvTUNBZjRONnAwRURkaUVDQ3lBQ0lBOXJJQUVnRDJ0eklBWnhRUWhQQkVBZ0FpQUhhaUlFTFFBQUlBUWdGRUVaZGlJRU9nQUFJQW9nQWtFSWF5QUdjV29nQkRvQUFDQUhJQUpCZjNOQkJIUnFJUUpCL3dGR0RRSWdBeTBBQUNFRUlBTWdBaTBBQURvQUFDQURMUUFCSVE4Z0F5QUNMUUFCT2dBQklBTXRBQUloRkNBRElBSXRBQUk2QUFJZ0F5MEFBeUVZSUFNZ0FpMEFBem9BQXlBQ0lBUTZBQUFnQWlBUE9nQUJJQUlnRkRvQUFpQUNJQmc2QUFNZ0F5MEFCQ0VFSUFNZ0FpMEFCRG9BQkNBQ0lBUTZBQVFnQXkwQUJTRUVJQU1nQWkwQUJUb0FCU0FDSUFRNkFBVWdBeTBBQmlFRUlBTWdBaTBBQmpvQUJpQUNJQVE2QUFZZ0F5MEFCeUVFSUFNZ0FpMEFCem9BQnlBQ0lBUTZBQWNnQXkwQUNDRUVJQU1nQWkwQUNEb0FDQ0FDSUFRNkFBZ2dBeTBBQ1NFRUlBTWdBaTBBQ1RvQUNTQUNJQVE2QUFrZ0F5MEFDaUVFSUFNZ0FpMEFDam9BQ2lBQ0lBUTZBQW9nQXkwQUN5RUVJQU1nQWkwQUN6b0FDeUFDSUFRNkFBc2dBeTBBRENFRUlBTWdBaTBBRERvQURDQUNJQVE2QUF3Z0F5MEFEU0VFSUFNZ0FpMEFEVG9BRFNBQ0lBUTZBQTBnQXkwQURpRUVJQU1nQWkwQURqb0FEaUFDSUFRNkFBNGdBeTBBRHlFRUlBTWdBaTBBRHpvQUR5QUNJQVE2QUE4TUFRc0xJQkFnRkVFWmRpSUNPZ0FBSUFvZ0FVRUlheUFHY1dvZ0Fqb0FBQXdCQ3lBUVFmOEJPZ0FBSUFvZ0FVRUlheUFHY1dwQi93RTZBQUFnQWtFSWFpQURRUWhxS1FBQU53QUFJQUlnQXlrQUFEY0FBQXNnQVVFQmFpRUNJQUVnQmtjTkFBc0xRYmppd0FBZ0RDQUZhellDQUF3REN5QUNRUVIwSWdNZ0FrRUlhaUlIYWlJQklBTkpEUUFnQVVINS8vLy9CMGtOQVFzUW93RWdFaWdDQ0JvTUFRdEIrZVBBQUMwQUFCb2dBVUVJRU5jQklneEZCRUFnQVJERkFTQVNLQUlRR2d3QkN5QURJQXhxUWY4QklBY1E5UUVoRENBQ1FRRnJJZzhnQWtFRGRrRUhiQ0FDUVFsSkd5RVVBa0FnQlVVRVFFR3c0c0FBS0FJQUlRY01BUXNnREVFSWFpRVdRYkRpd0FBb0FnQWlCMEVRYXlFWElBY3BBd0JDZjRWQ2dJR0NoSWlRb01DQWY0TWhHeUFISVFFZ0JTRURBMEFnRzFBRVFDQUJJUUlEUUNBRVFRaHFJUVFnQWlrRENDQUNRUWhxSWdFaEFrSi9oVUtBZ1lLRWlKQ2d3SUIvZ3lJYlVBMEFDd3NnRENBUFFjRGl3QUFnRnlBYmVxZEJBM1lnQkdvaUdFRUVkR3NRT3FjaUduRWlFR29wQUFCQ2dJR0NoSWlRb01DQWY0TWlIRkFFUUVFSUlRSURRQ0FDSUJCcUlSQWdBa0VJYWlFQ0lBd2dEeUFRY1NJUWFpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJY1VBMEFDd3NnRzBJQmZTQWJneUViSUF3Z0hIcW5RUU4ySUJCcUlBOXhJZ0pxTEFBQVFRQk9CRUFnRENrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklRSUxJQUlnREdvZ0drRVpkaUlRT2dBQUlCWWdBa0VJYXlBUGNXb2dFRG9BQUNBTUlBSkJmM05CQkhScUlnSkJDR29nQnlBWVFYOXpRUVIwYWlJUVFRaHFLUUFBTndBQUlBSWdFQ2tBQURjQUFDQURRUUZySWdNTkFBc0xRYlRpd0FBZ0R6WUNBRUd3NHNBQUlBdzJBZ0JCdU9MQUFDQVVJQVZyTmdJQUlBWkZEUUFnQnlBS1FRUjBJZ0ZySUFFZ0JtcEJDV3BCQ0JEakFRc2dFa0VnYWlRQUN5QWRRaG1JSWg1Qy93Q0RRb0dDaElpUW9NQ0FBWDRoSHlBZHB5RURRYlRpd0FBb0FnQWhCVUd3NHNBQUtBSUFJUUlnQ0VILy93TnhJUWNDUUFKQUEwQWdBaUFESUFWeElnTnFLUUFBSWgwZ0g0VWlHMEovaFNBYlFvR0NoSWlRb01DQUFYMkRRb0NCZ29TSWtLREFnSCtESWh4UVJRUkFBMEFnQWlBY2VxZEJBM1lnQTJvZ0JYRkJCSFJySWdGQkVHc3ZBUUFnQjBZTkF5QWNRZ0Y5SUJ5REloeFFSUTBBQ3dzZ0hVS0FnWUtFaUpDZ3dJQi9neUViUVFFaEFTQUpRUUZIQkVBZ0czcW5RUU4ySUFOcUlBVnhJUkVnRzBJQVVpRUJDeUFiSUIxQ0FZYURVQVJBSUFNZ0UwRUlhaUlUYWlFRElBRWhDUXdCQ3dzZ0FpQVJhaXdBQUNJRFFRQk9CRUFnQWlBQ0tRTUFRb0NCZ29TSWtLREFnSCtEZXFkQkEzWWlFV290QUFBaEF3c2dBaUFSYWlBZXAwSC9BSEVpQVRvQUFDQUNJQkZCQ0dzZ0JYRnFRUWhxSUFFNkFBQWdEa0VNYWlBVlFRaHFLQUVBTmdFQVFiaml3QUJCdU9MQUFDZ0NBQ0FEUVFGeGF6WUNBRUc4NHNBQVFieml3QUFvQWdCQkFXbzJBZ0FnQWlBUlFRUjBhMEVRYXlJQklBZzdBUUFnRGlBVktRRUFOd0VFSUFGQkFtb2dEaWtCQWpjQkFDQUJRUWhxSUE1QkNHb3BBUUEzQVFBZ0dVRUFOZ0lFREFFTElCbEJDR29nQVVFUWF5SUJRUXhxSWdJb0FnQTJBZ0FnR1NBQlFRUnFJZ0VwQWdBM0FnQWdBU0FWS1FJQU53SUFJQUlnRlVFSWFpZ0NBRFlDQUFzZ0RrRVFhaVFBQWtBZ0N5Z0NFQ0lCUlEwQUlBc29BaFFpQWlnQ0FDSUpCRUFnQVNBSkVRRUFDeUFDS0FJRUlnbEZEUUFnQVNBSklBSW9BZ2dRNHdFTElBdEJDR29oRlVIVTRzQUFMd0VBSVJSQkFDRVNRUUFoREVFQUlRbEJBQ0VaSXdCQkVHc2lEeVFBSUE4Z0RTSUhOZ0lNSUFCQkVHb2lFQ0FQUVF4cUVEc2hIQ0FBS0FJSVJRUkFJd0JCSUdzaUVTUUFBa0FDUUFKQUFrQUNRQUpBQWtBZ0FDZ0NEQ0lEUVFGcUlnRWdBMDhFUUNBQUtBSUVJZzBnRFVFQmFpSU9RUU4ySWdKQkIyd2dEVUVJU1JzaUJFRUJkaUFCU1FSQUlBRWdCRUVCYWlBQklBUkxHeUlCUVFoSkRRSWdBVUgvLy8vL0FVc0VRQkNqQVNBUktBSVlHZ3dKQzBGL0lBRkJBM1JCQjI1QkFXdG5kaUlCUWY3Ly8vOEJTdzBHSUFGQkFXb2hBUXdGQzBFQUlRRWdBQ2dDQUNFSUFrQWdBaUFPUVFkeFFRQkhhaUlDUlEwQUlBSkJBVWNFUUNBQ1FmNy8vLzhEY1NFR0EwQWdBU0FJYWlJRklBVXBBd0FpRzBKL2hVSUhpRUtCZ29TSWtLREFnQUdESUJ0Qy8vNzkrL2Z2MzcvL0FJUjhOd01BSUFWQkNHb2lCU0FGS1FNQUlodENmNFZDQjRoQ2dZS0VpSkNnd0lBQmd5QWJRdi8rL2Z2Mzc5Ky8vd0NFZkRjREFDQUJRUkJxSVFFZ0JrRUNheUlHRFFBTEN5QUNRUUZ4UlEwQUlBRWdDR29pQVNBQktRTUFJaHRDZjRWQ0I0aENnWUtFaUpDZ3dJQUJneUFiUXYvKy9mdjM3OSsvL3dDRWZEY0RBQXNnRGtFSVR3UkFJQWdnRG1vZ0NDa0FBRGNBQUF3REN5QUlRUWhxSUFnZ0RoRDJBUm9nRGcwQ1FRQWhCQXdEQ3hDakFTQVJLQUlBR2d3R0MwRUVRUWdnQVVFRVNSc2hBUXdDQ3lBSVFRaHFJUTRnQ0VFSWF5RVdRUUFoQVFOQUFrQWdDQ0FCSWdKcUloSXRBQUJCZ0FGSERRQWdGaUFDUVFOMGF5RVhJQWdnQWtGL2MwRURkR29oQlFKQUEwQWdEU0FRSUJjUU82Y2lFM0VpQ2lFR0lBZ2dDbW9wQUFCQ2dJR0NoSWlRb01DQWY0TWlHMUFFUUVFSUlRRURRQ0FCSUFacUlRWWdBVUVJYWlFQklBZ2dCaUFOY1NJR2Fpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJYlVBMEFDd3NnQ0NBYmVxZEJBM1lnQm1vZ0RYRWlBV29zQUFCQkFFNEVRQ0FJS1FNQVFvQ0Jnb1NJa0tEQWdIK0RlcWRCQTNZaEFRc2dBU0FLYXlBQ0lBcHJjeUFOY1VFSVR3UkFJQUVnQ0dvaUJpMEFBQ0FHSUJOQkdYWWlCam9BQUNBT0lBRkJDR3NnRFhGcUlBWTZBQUFnQ0NBQlFYOXpRUU4wYWlFQlFmOEJSZzBDSUFVdEFBQWhCaUFGSUFFdEFBQTZBQUFnQlMwQUFTRUtJQVVnQVMwQUFUb0FBU0FGTFFBQ0lSTWdCU0FCTFFBQ09nQUNJQVV0QUFNaEdDQUZJQUV0QUFNNkFBTWdBU0FHT2dBQUlBRWdDam9BQVNBQklCTTZBQUlnQVNBWU9nQURJQVV0QUFRaEJpQUZJQUV0QUFRNkFBUWdBU0FHT2dBRUlBVXRBQVVoQmlBRklBRXRBQVU2QUFVZ0FTQUdPZ0FGSUFVdEFBWWhCaUFGSUFFdEFBWTZBQVlnQVNBR09nQUdJQVV0QUFjaEJpQUZJQUV0QUFjNkFBY2dBU0FHT2dBSERBRUxDeUFTSUJOQkdYWWlBVG9BQUNBT0lBSkJDR3NnRFhGcUlBRTZBQUFNQVFzZ0VrSC9BVG9BQUNBT0lBSkJDR3NnRFhGcVFmOEJPZ0FBSUFFZ0JTa0FBRGNBQUFzZ0FrRUJhaUVCSUFJZ0RVY05BQXNMSUFBZ0JDQURhellDQ0F3REN5QUJRUU4wSWdVZ0FVRUlhaUlJYWlJQ0lBVkpEUUFnQWtINS8vLy9CMGtOQVFzUW93RWdFU2dDQ0JvTUFRdEIrZVBBQUMwQUFCb2dBa0VJRU5jQklnWkZCRUFnQWhERkFTQVJLQUlRR2d3QkN5QUZJQVpxUWY4QklBZ1E5UUVoQkNBQlFRRnJJZ29nQVVFRGRrRUhiQ0FCUVFsSkd5RVRBa0FnQTBVRVFDQUFLQUlBSVFVTUFRc2dCRUVJYWlFV0lBQW9BZ0FpQlVFSWF5RVhJQVVwQXdCQ2Y0VkNnSUdDaElpUW9NQ0FmNE1oR3lBRklRSWdBeUVJQTBBZ0cxQUVRQ0FDSVFFRFFDQVNRUWhxSVJJZ0FTa0RDQ0FCUVFocUlnSWhBVUovaFVLQWdZS0VpSkNnd0lCL2d5SWJVQTBBQ3dzZ0JDQUtJQkFnRnlBYmVxZEJBM1lnRW1vaUdFRURkR3NRTzZjaUduRWlCbW9wQUFCQ2dJR0NoSWlRb01DQWY0TWlIVkFFUUVFSUlRRURRQ0FCSUFacUlRWWdBVUVJYWlFQklBUWdCaUFLY1NJR2Fpa0FBRUtBZ1lLRWlKQ2d3SUIvZ3lJZFVBMEFDd3NnRzBJQmZTQWJneUViSUFRZ0hYcW5RUU4ySUFacUlBcHhJZ0ZxTEFBQVFRQk9CRUFnQkNrREFFS0FnWUtFaUpDZ3dJQi9nM3FuUVFOMklRRUxJQUVnQkdvZ0drRVpkaUlHT2dBQUlCWWdBVUVJYXlBS2NXb2dCam9BQUNBRUlBRkJmM05CQTNScUlBVWdHRUYvYzBFRGRHb3BBQUEzQXdBZ0NFRUJheUlJRFFBTEN5QUFJQW8yQWdRZ0FDQUVOZ0lBSUFBZ0V5QURhellDQ0NBTlJRMEFJQVVnRGtFRGRDSUJheUFCSUExcVFRbHFRUWdRNHdFTElCRkJJR29rQUFzZ0hFSVppQ0lkUXY4QWcwS0Jnb1NJa0tEQWdBRitJUjRnSEtjaEF5QUFLQUlFSVFVZ0FDZ0NBQ0VDQWtBQ1FBTkFJQUlnQXlBRmNTSURhaWtBQUNJY0lCNkZJaHRDZjRVZ0cwS0Jnb1NJa0tEQWdBRjlnMEtBZ1lLRWlKQ2d3SUIvZ3lJYlVFVUVRQU5BSUFJZ0czcW5RUU4ySUFOcUlBVnhRUU4wYXlJQlFRaHJLQUlBSUFkR0RRTWdHMElCZlNBYmd5SWJVRVVOQUFzTElCeENnSUdDaElpUW9NQ0FmNE1oRzBFQklRRWdDVUVCUndSQUlCdDZwMEVEZGlBRGFpQUZjU0VNSUJ0Q0FGSWhBUXNnR3lBY1FnR0dnMUFFUUNBRElCbEJDR29pR1dvaEF5QUJJUWtNQVFzTFFRQWhBeUFDSUF4cUxBQUFJZ0ZCQUU0RVFDQUNJQUlwQXdCQ2dJR0NoSWlRb01DQWY0TjZwMEVEZGlJTWFpMEFBQ0VCQ3lBQ0lBeHFJQjJuUWY4QWNTSUpPZ0FBSUFJZ0RFRUlheUFGY1dwQkNHb2dDVG9BQUNBQUlBQW9BZ2dnQVVFQmNXczJBZ2dnQUNBQUtBSU1RUUZxTmdJTUlBSWdERUVEZEdzaUFVRUlheUFITmdJQUlBRkJCR3NoQVF3QkN5QUJRUVJySWdFdkFRQWhBa0VCSVFNTElBRWdGRHNCQUNBVklBSTdBUUlnRlNBRE93RUFJQTlCRUdva0FDQUxRVUJySkFBTUF3c2dDMEVBTmdJb0lBdEJBVFlDSENBTFFjU1N3QUEyQWhnZ0MwSUVOd0lnSUF0QkdHcEJ3SlBBQUJDa0FRQUxRZENUd0FCQktFSDRrOEFBRUswQkFBdEJBVUVCRVBFQkFBc2dBQzBBUEEwQlFkaml3QUFvQWdCQkFrY0VRQkNjQVFzZ0FFRUJPZ0E4SUFCQjBPTEFBQ2dDQURZQ0tBOExJQUlFUUFKQUlBRW9BZ3doQ1NNQVFUQnJJZ0VrQUNBQklBazJBZ0FDUUFKQUFrQUNRQ0FBS0FJTVJRMEFJQUJCRUdvaUJ5QUJFRHNoR3lBQUtBSUFJZ2hCQ0dzaERTQUFLQUlFSWdVZ0c2ZHhJUUlnRzBJWmlFTC9BSU5DZ1lLRWlKQ2d3SUFCZmlFZEEwQUNRQ0FDSUFocUtRQUFJaHdnSFlVaUcwSi9oU0FiUW9HQ2hJaVFvTUNBQVgyRFFvQ0Jnb1NJa0tEQWdIK0RJaHRRUlFSQUEwQWdEU0FiZXFkQkEzWWdBbW9nQlhGQkEzUnJLQUlBSUFsR0RRSWdHMElCZlNBYmd5SWJVRVVOQUFzTElCd2dIRUlCaG9OQ2dJR0NoSWlRb01DQWY0TlFSUTBDSUFJZ0EwRUlhaUlEYWlBRmNTRUNEQUVMQ3lBQlFRaHFJUWtnQnlBQkVEc2hHeUFBS0FJQUlnTkJDR3NoRFNBQUtBSUVJZ1VnRzZkeElRSWdHMElaaUVML0FJTkNnWUtFaUpDZ3dJQUJmaUVkSUFFb0FnQWhDMEVBSVFjQ1FBTkFBa0FnQWlBRGFpa0FBQ0ljSUIyRklodENmNFVnRzBLQmdvU0lrS0RBZ0FGOWcwS0FnWUtFaUpDZ3dJQi9neUliVUVVRVFBTkFJQXNnRFNBYmVxZEJBM1lnQW1vZ0JYRWlDRUVEZEdzb0FnQkdEUUlnRzBJQmZTQWJneUliVUVVTkFBc0xJQndnSEVJQmhvTkNnSUdDaElpUW9NQ0FmNE5RQkVBZ0FpQUhRUWhxSWdkcUlBVnhJUUlNQWdVZ0NVRUFOZ0lBREFNTEFBc0xRWUFCSVFJZ0F5QUlRUU4wUVFOMUlnZHFJZzBwQUFBaUd5QWJRZ0dHZzBLQWdZS0VpSkNnd0lCL2czcW5RUU4ySUFNZ0IwRUlheUFGY1dvaUJTa0FBQ0liSUJ0Q0FZYURRb0NCZ29TSWtLREFnSCtEZWFkQkEzWnFRUWROQkVBZ0FDQUFLQUlJUVFGcU5nSUlRZjhCSVFJTElBMGdBam9BQUNBRlFRaHFJQUk2QUFBZ0FDQUFLQUlNUVFGck5nSU1JQWtnQTBFQUlBaHJRUU4wYWtFSWF5SUNRUVJxTHdFQU93RUlJQWtnQWlnQ0FEWUNCQ0FKUVFFMkFnQUxJQUVvQWdoRkRRRWdBUzhCRUNFSlFiRGl3QUFvQWdCRkJFQkI0T0xBQUNnQ0FDRUNRZURpd0FCQkFEWUNBQ0FDUlEwRElBRkJDR29nQWhFQkFFSFk0c0FBUVFJMkFnQkIwT0xBQUNBQlFTaHFLUU1BTndNQVFjaml3QUFnQVVFZ2Fpa0RBRGNEQUVIQTRzQUFJQUZCR0dvcEF3QTNBd0JCdU9MQUFDQUJRUkJxS1FNQU53TUFRYkRpd0FBZ0FTa0RDQ0liTndNQUlCdW5SUTBFQ3lBQklBazdBUVlnQVVFSWFrSEE0c0FBSUFGQkJtb2lBaEE2SUFJUVJTQUJLQUlRSWdKRkRRQWdBU2dDRkNJSktBSUFJZ01FUUNBQ0lBTVJBUUFMSUFrb0FnUWlBMFVOQUNBQ0lBTWdDU2dDQ0JEakFRc2dBVUV3YWlRQURBTUxRYVNSd0FBUTV3RUFDeUFCUVFBMkFoZ2dBVUVCTmdJTUlBRkJ4SkxBQURZQ0NDQUJRZ1EzQWhBZ0FVRUlha0hBazhBQUVLUUJBQXRCMEpQQUFFRW9RZmlUd0FBUXJRRUFDd3NnQUJBeEN3dWJBUUVCZndKQUFrQWdBUVJBSUFKQkFFZ05BUUovSUFNb0FnUUVRQUpBSUFNb0FnZ2lCRVVFUUF3QkN5QURLQUlBSUFRZ0FTQUNFTTRCREFJTEN5QUJJQUpGRFFBYVFmbmp3QUF0QUFBYUlBSWdBUkRYQVFzaUF3UkFJQUFnQWpZQ0NDQUFJQU0yQWdRZ0FFRUFOZ0lBRHdzZ0FDQUNOZ0lJSUFBZ0FUWUNCQXdDQ3lBQVFRQTJBZ1FNQVFzZ0FFRUFOZ0lFQ3lBQVFRRTJBZ0FMb2dFQkFYOGpBRUVRYXlJR0pBQUNRQ0FCQkVBZ0JrRUVhaUFCSUFNZ0JDQUZJQUlvQWhBUkNRQUNRQ0FHS0FJRUlnSWdCaWdDRENJQlRRUkFJQVlvQWdnaEJRd0JDeUFDUVFKMElRSWdCaWdDQ0NFRElBRkZCRUJCQkNFRklBTWdBa0VFRU9NQkRBRUxJQU1nQWtFRUlBRkJBblFpQWhET0FTSUZSUTBDQ3lBQUlBRTJBZ1FnQUNBRk5nSUFJQVpCRUdva0FBOExFT2dCQUF0QkJDQUNFTXdCQUF1Z0FRSUVmd0YrSXdCQkVHc2lBeVFBSUFOQkNHb2dBQ2dDQ0NBQklBSVFRQ0FETFFBSUlnWkJCRWNFUUNBQUtBSUVJUUVnQXlrRENDRUhJQUF0QUFBaUFrRUVUU0FDUVFOSGNVVUVRQ0FCS0FJQUlRSWdBVUVFYWlnQ0FDSUZLQUlBSWdRRVFDQUNJQVFSQVFBTElBVW9BZ1FpQkFSQUlBSWdCQ0FGS0FJSUVPTUJDeUFCUVF4QkJCRGpBUXNnQUNBSE53SUFDeUFEUVJCcUpBQWdCa0VFUnd1a0FRRUJmeU1BUVVCcUlnSWtBQ0FBS0FJQUlRQWdBa0lBTndNNElBSkJPR29nQUJBZ0lBSWdBaWdDUENJQU5nSTBJQUlnQWlnQ09EWUNNQ0FDSUFBMkFpd2dBaUFDUVN4cXJVS0FnSUNBb0FpRU53TWdJQUpCQWpZQ0RDQUNRYmlxd0FBMkFnZ2dBa0lCTndJVUlBSWdBa0VnYWpZQ0VDQUJLQUlVSUFFb0FoZ2dBa0VJYWhBeklBSW9BaXdpQVFSQUlBSW9BakFnQVVFQkVPTUJDeUFDUVVCckpBQUxrQUVCQTM4akFFR0FBV3NpQkNRQUlBQW9BZ0FoQUFOQUlBSWdCR3BCL3dCcUlBQkJEM0VpQTBFd2NpQURRZGNBYWlBRFFRcEpHem9BQUNBQ1FRRnJJUUlnQUVFUVNTQUFRUVIySVFCRkRRQUxJQUpCZ0FGcUlnQkJnUUZQQkVBZ0FFR0FBVUdNeDhBQUVKQUJBQXNnQVVFQlFaekh3QUJCQWlBQ0lBUnFRWUFCYWtFQUlBSnJFQ3dnQkVHQUFXb2tBQXVQQVFFRGZ5TUFRWUFCYXlJRUpBQWdBQ2dDQUNFQUEwQWdBaUFFYWtIL0FHb2dBRUVQY1NJRFFUQnlJQU5CTjJvZ0EwRUtTUnM2QUFBZ0FrRUJheUVDSUFCQkVFa2dBRUVFZGlFQVJRMEFDeUFDUVlBQmFpSUFRWUVCVHdSQUlBQkJnQUZCak1mQUFCQ1FBUUFMSUFGQkFVR2N4OEFBUVFJZ0FpQUVha0dBQVdwQkFDQUNheEFzSUFSQmdBRnFKQUFMaXdFQkFuOGpBRUVRYXlJQ0pBQWdBa0VFYWlJRElBRVF1d0VnQWlBQU5nSU1JQU1nQWtFTWFrSGNsTUFBRUYwZ0FpQUFRUVJxTmdJTUlBSkJCR29nQWtFTWFrSGNsTUFBRUYwZ0FpQUFRUWhxTmdJTUlBSkJCR29nQWtFTWFrSGNsTUFBRUYwZ0FpQUFRUXhxTmdJTUlBSkJCR29nQWtFTWFrSGNsTUFBRUYwZ0F4QzVBU0FDUVJCcUpBQUxrZ0VCQkg4akFFRVFheUlDSkFCQkFTRUVBa0FnQVNnQ0ZDSURRU2NnQVNnQ0dDSUZLQUlRSWdFUkFBQU5BQ0FDUVFScUlBQW9BZ0JCZ1FJUUtnSkFJQUl0QUFSQmdBRkdCRUFnQXlBQ0tBSUlJQUVSQUFCRkRRRU1BZ3NnQXlBQ0xRQU9JZ0FnQWtFRWFtb2dBaTBBRHlBQWF5QUZLQUlNRVFJQURRRUxJQU5CSnlBQkVRQUFJUVFMSUFKQkVHb2tBQ0FFQzh3Q0FRWi9Jd0JCSUdzaUJTUUFJQVZCQkdvaEJpTUFRUkJySWdRa0FFSDU0OEFBTFFBQUdnSkFRUWhCQVJEWEFTSURCRUFnQXlBQU9nQURJQU5CQURvQUFpQURRWUFNT3dBQUlBUWdBellDQ0NBRVFRZzJBZ1FnQkVFRU5nSU1JQVFvQWdnaUIwRUVhaUFCUVFoMElBRkJnUDREY1VFSWRuSTdBQUFnQkVFR0lnTTJBZ3dnQmlBRUtRSUVOd0lBSUFSQkRHb2dBMEVDYWlJSU5nSUFJQVpCQ0dvZ0NEWUNBQ0FESUFkcVFYOUJFQ0FDUWYvL0EzRnJJZ05CQUNBRFFSQk5HMEVQY1hRaUEwRUlkQ0FEUVlEK0EzRkJDSFp5T3dBQUlBUkJFR29rQUF3QkMwRUJRUWdRekFFQUN5QUZLQUlNSVFNZ0JTZ0NDQ0VFSUFWQkdHcEJBRG9BQUNBRlFnQTNBeEFnQkNBRElBVkJFR29RTUNBQ1FmLy9BM0ZCRUVzRVFDQUFJQUZCRUdvZ0FrRVFheENEQVFzZ0JTZ0NCQ0lBQkVBZ0JDQUFRUUVRNHdFTElBVkJJR29rQUF0M0FRRi9Jd0JCSUdzaUFpUUFBbjhnQUNnQ0FFR0FnSUNBZUVjRVFDQUJJQUFvQWdRZ0FDZ0NDQkRRQVF3QkN5QUNRUmhxSUFBb0Fnd2lBRUVRYWlrQ0FEY0RBQ0FDUVJCcUlBQkJDR29wQWdBM0F3QWdBaUFBS1FJQU53TUlJQUVvQWhRZ0FTZ0NHQ0FDUVFocUVETUxJQUpCSUdva0FBdDhBUUYvSXdCQlFHb2lCU1FBSUFVZ0FUWUNEQ0FGSUFBMkFnZ2dCU0FETmdJVUlBVWdBallDRUNBRlFRSTJBaHdnQlVHd3hzQUFOZ0lZSUFWQ0FqY0NKQ0FGSUFWQkVHcXRRb0NBZ0lEUURJUTNBemdnQlNBRlFRaHFyVUtBZ0lDQTRBeUVOd013SUFVZ0JVRXdhallDSUNBRlFSaHFJQVFRcEFFQUM0RUJBUU4vSXdCQklHc2lBU1FBSUFCQkJHb29BZ0FnQUNnQ0FDSUNLQUlBSVFBZ0FrRUFOZ0lBSUFBb0FnZ2hBaUFBUVFBMkFnZ2dBa1VFUUNBQlFRQTJBaGdnQVVFQk5nSU1JQUZCeEpMQUFEWUNDQ0FCUWdRM0FoQWdBVUVJYWtHd2s4QUFFS1FCQUFzZ0FoRUdBQ0VBS0FJQUlBQTJBZ0FnQVVFZ2FpUUFRUUVMYVFFQ2Z5TUFRUkJySWdJa0FDQUFLQUlBSWdBb0FnZ2hBeUFBS0FJRUlRQWdBa0VFYWlBQkVMc0JJQU1FUUFOQUlBSWdBRFlDRENBQ1FRUnFJQUpCREdwQnpKVEFBQkJkSUFCQkFXb2hBQ0FEUVFGcklnTU5BQXNMSUFKQkJHb1F1UUVnQWtFUWFpUUFDM2dCQW44Z0FDMEFCQ0VDSUFBdEFBVkZCRUFnQWtFQVJ3OExRUUVoQVNBQ1JRUkFJQUFvQWdBaUFTMEFIRUVFY1VVRVFDQUFJQUVvQWhSQjU4YkFBRUVDSUFFb0FoZ29BZ3dSQWdBaUFEb0FCQ0FBRHdzZ0FTZ0NGRUhteHNBQVFRRWdBU2dDR0NnQ0RCRUNBQ0VCQ3lBQUlBRTZBQVFnQVF0K0FRTi9Jd0JCSUdzaUFTUUFJQUFvQWdBaUFpZ0NBQ0VESUFKQkFEWUNBQ0FES0FJSUlRSWdBMEVBTmdJSUlBSkZCRUFnQVVFQU5nSVlJQUZCQVRZQ0RDQUJRY1NTd0FBMkFnZ2dBVUlFTndJUUlBRkJDR3BCc0pQQUFCQ2tBUUFMSUFJUkJnQWhBeUFBS0FJRUtBSUFJQU0yQWdBZ0FVRWdhaVFBUVFFTFpBRUNmeU1BUVJCcklnSWtBQ0FBS0FJSUlRTWdBQ2dDQkNFQUlBSkJCR29nQVJDN0FTQURCRUFEUUNBQ0lBQTJBZ3dnQWtFRWFpQUNRUXhxUWN5VXdBQVFYU0FBUVFGcUlRQWdBMEVCYXlJRERRQUxDeUFDUVFScUVMa0JJQUpCRUdva0FBdGtBUUovSXdCQkVHc2lBaVFBSUFBb0FnUWhBeUFBS0FJQUlRQWdBa0VFYWlBQkVMc0JJQU1FUUFOQUlBSWdBRFlDRENBQ1FRUnFJQUpCREdwQnpKVEFBQkJkSUFCQkFXb2hBQ0FEUVFGcklnTU5BQXNMSUFKQkJHb1F1UUVnQWtFUWFpUUFDMmdCQW44Z0FTZ0NDQ0lFUlNBQktBSUFJZ1VnQkdzZ0EwOXlSUVJBSUFGQkFEWUNDQ0FCUVFBNkFBeEJBQ0VFQ3lBRElBVkpCRUFnQVNnQ0JDQUVhaUFDSUFNUTl3RWFJQUJCQkRvQUFDQUJJQU1nQkdvMkFnZ1BDeUFBUWdRM0FnQWdBVUVBT2dBTUM0b0JBUUorQW41QjJPakFBQ2tEQUZCRkJFQkI2T2pBQUNrREFDRUJRZURvd0FBcEF3QU1BUXRDQWlFQlFlam93QUJDQWpjREFFSFk2TUFBUWdFM0F3QkNBUXNoQWlBQVFRQTdBU1FnQUVFQU5nSWdJQUFnQVRjREdDQUFJQUkzQXhCQjRPakFBQ0FDUWdGOE53TUFJQUJCNkpEQUFDa0RBRGNEQUNBQVFRaHFRZkNRd0FBcEF3QTNBd0FMYmdFQmZ5TUFRVEJySWdJa0FDQUNJQUUyQWdRZ0FpQUFOZ0lBSUFKQkF6WUNEQ0FDUWVEQ3dBQTJBZ2dnQWtJQ053SVVJQUlnQWtFRWFxMUNnSUNBZ05BQWhEY0RLQ0FDSUFLdFFvQ0FnSURRQUlRM0F5QWdBaUFDUVNCcU5nSVFJQUpCQ0dwQjNJREFBQkNrQVFBTGF3RUJmeU1BUVRCcklnRWtBQ0FCUVFBMkFnUWdBVUVBTmdJQUlBRkJBellDRENBQlFZekR3QUEyQWdnZ0FVSUNOd0lVSUFFZ0FVRUVhcTFDZ0lDQWdOQUFoRGNES0NBQklBR3RRb0NBZ0lEUUFJUTNBeUFnQVNBQlFTQnFOZ0lRSUFGQkNHb2dBQkNrQVFBTGFnSUJmd0YrSXdCQk1Hc2lBeVFBSUFNZ0FEWUNBQ0FESUFFMkFnUWdBMEVDTmdJTUlBTkJvTXJBQURZQ0NDQURRZ0kzQWhRZ0EwS0FnSUNBMEFBaUJDQURRUVJxcllRM0F5Z2dBeUFFSUFPdGhEY0RJQ0FESUFOQklHbzJBaEFnQTBFSWFpQUNFS1FCQUF0cUFnRi9BWDRqQUVFd2F5SURKQUFnQXlBQk5nSUVJQU1nQURZQ0FDQURRUUkyQWd3Z0EwR014Y0FBTmdJSUlBTkNBamNDRkNBRFFvQ0FnSURRQUNJRUlBT3RoRGNES0NBRElBUWdBMEVFYXEyRU53TWdJQU1nQTBFZ2FqWUNFQ0FEUVFocUlBSVFwQUVBQzJvQ0FYOEJmaU1BUVRCcklnTWtBQ0FESUFBMkFnQWdBeUFCTmdJRUlBTkJBallDRENBRFFjREt3QUEyQWdnZ0EwSUNOd0lVSUFOQ2dJQ0FnTkFBSWdRZ0EwRUVhcTJFTndNb0lBTWdCQ0FEcllRM0F5QWdBeUFEUVNCcU5nSVFJQU5CQ0dvZ0FoQ2tBUUFMYWdJQmZ3RitJd0JCTUdzaUF5UUFJQU1nQURZQ0FDQURJQUUyQWdRZ0EwRUNOZ0lNSUFOQjlNckFBRFlDQ0NBRFFnSTNBaFFnQTBLQWdJQ0EwQUFpQkNBRFFRUnFyWVEzQXlnZ0F5QUVJQU90aERjRElDQURJQU5CSUdvMkFoQWdBMEVJYWlBQ0VLUUJBQXRkQVFKL0l3QkJJR3NpQVNRQUlBRkJCR29nQUMwQUFCQlpJQUVvQWd3aEFpQUJLQUlJSVFBZ0FVRVlha0VBT2dBQUlBRkNBRGNERUNBQUlBSWdBVUVRYWhBd0lBRW9BZ1FpQWdSQUlBQWdBa0VCRU9NQkN5QUJRU0JxSkFBTFp3QWpBRUV3YXlJQUpBQkIrT1BBQUMwQUFBUkFJQUJCQWpZQ0RDQUFRYXk2d0FBMkFnZ2dBRUlCTndJVUlBQWdBVFlDTENBQUlBQkJMR3F0UW9DQWdJRFFBSVEzQXlBZ0FDQUFRU0JxTmdJUUlBQkJDR3BCMUxyQUFCQ2tBUUFMSUFCQk1Hb2tBQXRlQVFOL0lBQW9BZ1FoQVNBQUxRQUFJZ0JCQkUwZ0FFRURSM0ZGQkVBZ0FTZ0NBQ0VBSUFGQkJHb29BZ0FpQXlnQ0FDSUNCRUFnQUNBQ0VRRUFDeUFES0FJRUlnSUVRQ0FBSUFJZ0F5Z0NDQkRqQVFzZ0FVRU1RUVFRNHdFTEN6RUFRZGpvd0FBcEF3QlFCRUJCNk9qQUFFSUNOd01BUWVEb3dBQkNBVGNEQUVIWTZNQUFRZ0UzQXdBTFFlRG93QUFMWGdFQ2Z3SkFJQUFvQWdBaUFDZ0NFRUVCUncwQUlBQW9BaFFpQVVFQU9nQUFJQUFvQWhnaUFrVU5BQ0FCSUFKQkFSRGpBUXNDUUNBQVFYOUdEUUFnQUNBQUtBSUVJZ0ZCQVdzMkFnUWdBVUVCUncwQUlBQkJJRUVJRU9NQkN3dGJBUUYvSXdCQk1Hc2lBeVFBSUFNZ0FUWUNEQ0FESUFBMkFnZ2dBMEVCTmdJVUlBTkJwTVRBQURZQ0VDQURRZ0UzQWh3Z0F5QURRUWhxclVLQWdJQ0E0QXlFTndNb0lBTWdBMEVvYWpZQ0dDQURRUkJxSUFJUXBBRUFDMVFCQVg4akFFRWdheUlDSkFBZ0FrRUJOZ0lFSUFKQnJLSEFBRFlDQUNBQ1FnRTNBZ3dnQWlBQXJVS0FnSUNBb0FXRU53TVlJQUlnQWtFWWFqWUNDQ0FCS0FJVUlBRW9BaGdnQWhBeklBSkJJR29rQUF0WkFRSi9Ba0FnQUNnQ0VFRUJSdzBBSUFBb0FoUWlBVUVBT2dBQUlBQW9BaGdpQWtVTkFDQUJJQUpCQVJEakFRc0NRQ0FBUVg5R0RRQWdBQ0FBS0FJRUlnRkJBV3MyQWdRZ0FVRUJSdzBBSUFCQklFRUlFT01CQ3d0WEFRRi9Jd0JCSUdzaUFDUUFJQUJCc09MQUFEWUNDQ0FBUWJEaXdBQTJBZ3dnQUNBQVFSOXFOZ0lZSUFBZ0FFRU1hallDRkNBQUlBQkJDR28yQWhCQjJPTEFBQ0FBUVJCcVFkeVJ3QUFRTlNBQVFTQnFKQUFMVndFQmZ5TUFRU0JySWdBa0FDQUFRWkRod0FBMkFnZ2dBRUdVNGNBQU5nSU1JQUFnQUVFZmFqWUNHQ0FBSUFCQkRHbzJBaFFnQUNBQVFRaHFOZ0lRUVpEaHdBQWdBRUVRYWtId2tjQUFFRFVnQUVFZ2FpUUFDMWNCQVg4akFFRWdheUlBSkFBZ0FFR3c0Y0FBTmdJSUlBQkJzT0hBQURZQ0RDQUFJQUJCSDJvMkFoZ2dBQ0FBUVF4cU5nSVVJQUFnQUVFSWFqWUNFRUdnNHNBQUlBQkJFR3BCaEpMQUFCQTFJQUJCSUdva0FBdE9BUUYvSUFBb0FnQWlBRUVNYWlnQ0FDSUJCRUFnQUVFUWFpZ0NBQ0FCUVFFUTR3RUxBa0FnQUVGL1JnMEFJQUFnQUNnQ0JDSUJRUUZyTmdJRUlBRkJBVWNOQUNBQVFSaEJCQkRqQVFzTFZ3RUJmeU1BUVNCcklnQWtBQ0FBUWVqaXdBQTJBZ2dnQUVIbzRzQUFOZ0lNSUFBZ0FFRWZhallDR0NBQUlBQkJER28yQWhRZ0FDQUFRUWhxTmdJUVFkamp3QUFnQUVFUWFrSElrY0FBRURVZ0FFRWdhaVFBQzZ3TUFRdC9JQUVoQ1VFZ0lRY2pBRUVRYXlJS0pBQUNRQUpBQWtBQ1FFSG80OEFBS0FJQUlnRkJBMFlFZnlNQVFTQnJJZ1VrQUVHQTVNQUFLQUlBUlFSQUVCTWhBVUdNNU1BQUtBSUFJUU5CaU9UQUFDZ0NBQ0VFUVlqa3dBQkNBRGNDQUFKQUFrQUNRQ0FFUVFGSERRQVFGQ0VCUVl6a3dBQW9BZ0FoQkVHSTVNQUFLQUlBUVlqa3dBQkNBRGNDQUNBRFFZUUJUd1JBSUFNUUFndEJBVWNOQUJBVklRRkJqT1RBQUNnQ0FDRUdRWWprd0FBb0FnQkJpT1RBQUVJQU53SUFJQVJCaEFGUEJFQWdCQkFDQzBFQlJ3MEFFQlloQVVHTTVNQUFLQUlBSVFOQmlPVEFBQ2dDQUVHSTVNQUFRZ0EzQWdBZ0JrR0VBVThFUUNBR0VBSUxRUUVoQkVFQlJnMEJDeUFCRUJkQkFVY05BVUVBSVFSQkFTRUNJQUZCaEFGUEJFQWdBUkFDQ3lBQklRTUxRZENvd0FCQkN4QVFJZ0ZCZ0FFUUVTRU1RWXprd0FBb0FnQWhCa0dJNU1BQUtBSUFJUWhCaU9UQUFFSUFOd0lBSUFoQkFVY2dCa0dEQVUxeVJRUkFJQVlRQWdzZ0FVR0VBVThFUUNBQkVBSUxRWUFCSUF3Z0NFRUJSaHNoQVFKQUlBSUVRQ0FFSUFOQmd3RkxjVVVOQWd3QkN5QURRWU1CVFEwQkN5QURFQUlMUVlUa3dBQW9BZ0FoQTBHRTVNQUFJQUUyQWdCQmdPVEFBQ2dDQUVHQTVNQUFRUUUyQWdCRklBTkJoQUZKY2tVRVFDQURFQUlMQ3lBRlFZVGt3QUFvQWdBUUVpSUNOZ0lVQWtBQ1FDQUNFQVVpQXhBR1FRRkdCRUFnQXlFQkRBRUxBa0FDUUFKQUFrQWdBaEFISWdFUUJrRUJSdzBBSUFFUUNDSUVFQVpCQVVZRVFDQUVFQWtpQmhBS0lRZ2dCa0dFQVU4RVFDQUdFQUlMSUFSQmhBRlBCRUFnQkJBQ0N5QUJRWU1CVFEwQ0lBRVFBZ3dDQ3lBRVFZUUJTUTBBSUFRUUFnc2dBVUdFQVVrTkFTQUJFQUlNQVFzZ0NFRUJSdzBBRUFzaEFrR001TUFBS0FJQUlRWkJpT1RBQUNnQ0FDRUJRWWprd0FCQ0FEY0NBQUpBQWtBZ0FVRUJSaUlJRFFBZ0FoQU1RUUZIRFFBZ0JTQUNOZ0lZSUFWQjBLZkFBRUVHRUFRaUFqWUNIQ0FGUVFocUlBVkJHR29nQlVFVWFpQUZRUnhxRUtzQklBVW9BZ3doQVNBRktBSUlSUVJBUVFBaEJBd0NDMEVDSVFRZ0FVR0VBVWtFUUVHTWdJQ0FlQ0VCREFJTElBRVFBaUFGS0FJY0lRSkJqSUNBZ0hnaEFRd0JDMEVDSVFSQmpvQ0FnSGdoQVNBR0lBSWdDQnNpQWtHRUFVa05BaUFDRUFJTUFnc2dBa0dFQVU4RVFDQUNFQUlMSUFVb0FoZ2lBa0dFQVVrTkFTQUNFQUlNQVFzZ0FoQU5JZ0VRQmtFQlJnUkFJQU5CaEFGSkRRSWdBeEFDREFJTFFRSWhCQ0FCUVlRQlR3UkFJQUVRQWd0Qmg0Q0FnSGdoQVFzZ0EwR0VBVThFUUNBREVBSUxJQVVvQWhRaUFrR0VBVThFUUNBQ0VBSUxEQUVMUVlBQ0VCNGhBeUFDUVlRQlR3UkFJQUlRQWd0QkFTRUVDMEh3NDhBQUtBSUFJUUpCOE9QQUFDQUROZ0lBUWV6andBQW9BZ0FoQTBIczQ4QUFJQUUyQWdCQjZPUEFBQ2dDQUNFQlFlamp3QUFnQkRZQ0FBSkFJQUZCZm5GQkFrWU5BQUpBSUFGRkJFQWdBeUlDUVlNQlN3MEJEQUlMSUFOQmhBRlBCRUFnQXhBQ0N5QUNRWVFCU1EwQkN5QUNFQUlMSUFWQklHb2tBRUhvNDhBQUtBSUFCU0FCQzBFQmF3NENBZ0FCQzBIczQ4QUFLQUlBSVFFTUFndEJBQ0VCUWV6andBQW9BZ0FoQlFOQUlBZEZEUUlnQlNBSlFmLy8vLzhISUFjZ0IwSC8vLy8vQjA4YklnTVF0UUVRRGtHTTVNQUFLQUlBSVFKQmlPVEFBQ2dDQUVHSTVNQUFRZ0EzQWdBZ0J5QURheUVISUFNZ0NXb2hDVUVCUncwQUMwR05nSUNBZUNFQklBSkJoQUZKRFFFZ0FoQUNEQUVMUWV6andBQW9BZ0FoQkFKQUEwQWdDa0h3NDhBQUtBSUFRUUJCZ0FJZ0J5QUhRWUFDVHhzaUF4QWZJZ0UyQWd3Z0JDQUJFQTlCak9UQUFDZ0NBQ0VCUVlqa3dBQW9BZ0JCaU9UQUFFSUFOd0lBUVFGR0RRRWdCeUFEYXlFSEVDSWlBaEFhSWdVUUhDRUJJQVZCaEFGUEJFQWdCUkFDQ3lBQklBcEJER29vQWdBZ0NSQWRJQUZCaEFGUEJFQWdBUkFDQ3lBQ1FZUUJUd1JBSUFJUUFnc2dDaWdDRENJQlFZUUJUd1JBSUFFUUFnc2dBeUFKYWlFSklBY05BQXRCQUNFQkRBRUxJQUZCaEFGUEJFQWdBUkFDQ3lBS0tBSU1JZ0ZCaEFGUEJFQWdBUkFDQzBHSWdJQ0FlQ0VCQ3lBS1FSQnFKQUFDUUNBQkJFQkIrZVBBQUMwQUFCcEJCRUVFRU5jQklndEZEUUVnQ3lBQk5nSUFDeUFBUWNTaHdBQTJBZ1FnQUNBTE5nSUFEd3RCQkVFRUVQRUJBQXRTQVFKL1Fmam93QUFvQWdBaUFFVUVRQkJyUWZqb3dBQW9BZ0FoQUFzZ0FDQUFLQUlBSWdGQkFXbzJBZ0FDUUNBQlFRQk9CRUFnQUVVTkFTQUFEd3NBQzBIUHJjQUFRZDRBUWN5dXdBQVFtUUVBQ3pvQkFYOGpBRUVnYXlJQUpBQWdBRUVBTmdJWUlBQkJBVFlDRENBQVFmUyt3QUEyQWdnZ0FFSUVOd0lRSUFCQkNHcEJxTC9BQUJDa0FRQUx0QUlCQTM4akFFRWdheUlDSkFBZ0FrRVFhaUlESUFCQkVHb3BBZ0EzQXdBZ0FrRUlhaUlFSUFCQkNHb3BBZ0EzQXdBZ0FrRUJPd0VjSUFJZ0FUWUNHQ0FDSUFBcEFnQTNBd0FqQUVFZ2F5SUFKQUFnQWlnQ0dDRUJJQUJCRUdvZ0F5a0NBRGNEQUNBQVFRaHFJQVFwQWdBM0F3QWdBQ0FDTmdJY0lBQWdBVFlDR0NBQUlBSXBBZ0EzQXdCQkFDRUNJd0JCRUdzaUFTUUFJQUFvQWd3aEF3SkFBa0FDUUFKQUlBQW9BZ1FPQWdBQkFnc2dBdzBCUVFFaEF3d0NDeUFERFFBZ0FDZ0NBQ0lES0FJRUlRSWdBeWdDQUNFRERBRUxJQUZCZ0lDQWdIZzJBZ0FnQVNBQU5nSU1JQUZCb0x2QUFDQUFLQUlZSUFBb0Fod2lBQzBBSENBQUxRQWRFRzRBQ3lBQklBSTJBZ1FnQVNBRE5nSUFJQUZCaEx2QUFDQUFLQUlZSUFBb0Fod2lBQzBBSENBQUxRQWRFRzRBQzBjQkFYOGdBaUFBS0FJSUlnQW9BZ0FnQUNnQ0NDSURhMHNFUUNBQUlBTWdBaEIwSUFBb0FnZ2hBd3NnQUNnQ0JDQURhaUFCSUFJUTl3RWFJQUFnQWlBRGFqWUNDRUVBQzA4QkFuOUIrZVBBQUMwQUFCb2dBU2dDQkNFQ0lBRW9BZ0FoQTBFSVFRUVExd0VpQVFSQUlBRWdBallDQkNBQklBTTJBZ0FnQUVIMHVzQUFOZ0lFSUFBZ0FUWUNBQThMUVFSQkNCRHhBUUFMVHdFQ2Z5QUFLQUlFSVFJZ0FDZ0NBQ0VEQWtBZ0FDZ0NDQ0lBTFFBQVJRMEFJQU5CMk1iQUFFRUVJQUlvQWd3UkFnQkZEUUJCQVE4TElBQWdBVUVLUmpvQUFDQURJQUVnQWlnQ0VCRUFBQXNnQVFGL0l3QkJJR3NpQVNRQUlBRkJCRFlDQkNBQUtBQUFJQUZCSUdva0FBdENBUUYvSUFJZ0FDZ0NBQ0FBS0FJSUlnTnJTd1JBSUFBZ0F5QUNFSFFnQUNnQ0NDRURDeUFBS0FJRUlBTnFJQUVnQWhEM0FSb2dBQ0FDSUFOcU5nSUlRUUFMUWdFQmZ5QUNJQUFvQWdBZ0FDZ0NDQ0lEYTBzRVFDQUFJQU1nQWhCMklBQW9BZ2doQXdzZ0FDZ0NCQ0FEYWlBQklBSVE5d0VhSUFBZ0FpQURhallDQ0VFQUMwc0FJQUVvQWdBZ0FpZ0NBQ0FES0FJQUVCZ2hBVUdNNU1BQUtBSUFJUUpCaU9UQUFDZ0NBQ0VEUVlqa3dBQkNBRGNDQUNBQUlBSWdBU0FEUVFGR0lnRWJOZ0lFSUFBZ0FUWUNBQXM0QUFKQUlBRnBRUUZIUVlDQWdJQjRJQUZySUFCSmNnMEFJQUFFUUVINTQ4QUFMUUFBR2lBQUlBRVExd0VpQVVVTkFRc2dBUThMQUF0Q0FRRi9Jd0JCSUdzaUF5UUFJQU5CQURZQ0VDQURRUUUyQWdRZ0EwSUVOd0lJSUFNZ0FUWUNIQ0FESUFBMkFoZ2dBeUFEUVJocU5nSUFJQU1nQWhDa0FRQUxPUUFDUUFKL0lBSkJnSURFQUVjRVFFRUJJQUFnQWlBQktBSVFFUUFBRFFFYUN5QUREUUZCQUFzUEN5QUFJQU1nQkNBQktBSU1FUUlBQzhRQ0FRTi9JQUFvQWdBaEFDQUJLQUljSWdOQkVIRkZCRUFnQTBFZ2NVVUVRQ0FBSUFFUTVRRVBDeU1BUVlBQmF5SUVKQUFnQUMwQUFDRUFBMEFnQWlBRWFrSC9BR29nQUVFUGNTSURRVEJ5SUFOQk4yb2dBMEVLU1JzNkFBQWdBa0VCYXlFQ0lBQWlBMEVFZGlFQUlBTkJFRThOQUFzZ0FrR0FBV29pQUVHQkFVOEVRQ0FBUVlBQlFZekh3QUFRa0FFQUN5QUJRUUZCbk1mQUFFRUNJQUlnQkdwQmdBRnFRUUFnQW1zUUxDQUVRWUFCYWlRQUR3c2pBRUdBQVdzaUJDUUFJQUF0QUFBaEFBTkFJQUlnQkdwQi93QnFJQUJCRDNFaUEwRXdjaUFEUWRjQWFpQURRUXBKR3pvQUFDQUNRUUZySVFJZ0FDSURRUVIySVFBZ0EwRVFUdzBBQ3lBQ1FZQUJhaUlBUVlFQlR3UkFJQUJCZ0FGQmpNZkFBQkNRQVFBTElBRkJBVUdjeDhBQVFRSWdBaUFFYWtHQUFXcEJBQ0FDYXhBc0lBUkJnQUZxSkFBTE9BRUJmeUFBS0FJQUlRQWdBU2dDSENJQ1FSQnhSUVJBSUFKQklIRkZCRUFnQUNBQkVPUUJEd3NnQUNBQkVJQUJEd3NnQUNBQkVIOEwwUUVCQW44akFFRVFheUlDSkFBZ0FpQUFOZ0lNSXdCQkVHc2lBQ1FBSUFFb0FoUkJxSUhBQUVFTklBRW9BaGdvQWd3UkFnQWhBeUFBUVFBNkFBMGdBQ0FET2dBTUlBQWdBVFlDQ0NBQVFRaHFRYldCd0FCQkJDQUNRUXhxUVppQndBQVFVeUVCQW44Z0FDMEFEQ0lEUVFCSElBQXRBQTFGRFFBYVFRRWdBdzBBR2lBQktBSUFJZ0V0QUJ4QkJIRkZCRUFnQVNnQ0ZFSG54c0FBUVFJZ0FTZ0NHQ2dDREJFQ0FBd0JDeUFCS0FJVVFlYkd3QUJCQVNBQktBSVlLQUlNRVFJQUN5QUFRUkJxSkFBZ0FrRVFhaVFBQ3k0QUFrQWdBMmxCQVVkQmdJQ0FnSGdnQTJzZ0FVbHlEUUFnQUNBQklBTWdBaERPQVNJQVJRMEFJQUFQQ3dBTE1RRUJmeUFCS0FJY0lnSkJFSEZGQkVBZ0FrRWdjVVVFUUNBQUlBRVE1QUVQQ3lBQUlBRVFnQUVQQ3lBQUlBRVFmd3N4QVFGL0lBRW9BaHdpQWtFUWNVVUVRQ0FDUVNCeFJRUkFJQUFnQVJDOEFROExJQUFnQVJDQUFROExJQUFnQVJCL0N5d0JBbjhRSWlJQ0VCb2lBeUFBSUFFUUd5QUNRWVFCVHdSQUlBSVFBZ3NnQTBHRUFVOEVRQ0FERUFJTEN6a0JBWDlCQVNFQ0FrQWdBQ0FCRUZRTkFDQUJLQUlVUWVuRHdBQkJBaUFCS0FJWUtBSU1FUUlBRFFBZ0FFRUVhaUFCRUZRaEFnc2dBZ3NzQVFGL0l3QkJFR3NpQUNRQUlBQkJDR29pQWlBQlFjU3R3QUJCQ3hDNkFTQUNFSWdCSUFCQkVHb2tBQXVwQkFFTWYwSDg0OEFBS0FJQUlnQkZCRUFqQUVGQWFpSUFKQUFnQUVFNGFrSUFOd01BSUFCQk1HcENBRGNEQUNBQVFTaHFRZ0EzQXdBZ0FFSUFOd01nSUFCQkNHb2dBRUVnYWhDaEFRSkFJQUFvQWdnaUFVVUVRQ0FBS0FJOElRSWdBQ2dDT0NFRElBQW9BalFoQkNBQUtBSXdJUVVnQUNnQ0xDRUdJQUFvQWlnaEJ5QUFLQUlrSVFnZ0FDZ0NJQ0VKUWRTZXdBQVFxQUVoQ2tIWW5zQUFFS2dCSVF0QitlUEFBQzBBQUJwQjJBSkJDQkRYQVNJQkRRRkJDRUhZQWhEeEFRQUxJQUFnQUNnQ0REWUNGQ0FBSUFFMkFoQWdBRUVCTmdJa0lBQkJnSi9BQURZQ0lDQUFRZ0UzQWl3Z0FDQUFRUkJxclVLQWdJQ0FnQVdFTndNWUlBQWdBRUVZYWpZQ0tDQUFRU0JxUWV5ZndBQVFwQUVBQ3lBQlFvR0FnSUFRTndNQUlBRkJDR3BCQUVHQUFoRDFBUm9nQVVFQU5nTFFBaUFCUW9DQUJEY0R5QUlnQVVLQWdBUTNBOEFDSUFFZ0N6WUN2QUlnQVNBS05nSzRBaUFCUWdBM0E3QUNJQUVnQWpZQ3JBSWdBU0FETmdLb0FpQUJJQVEyQXFRQ0lBRWdCVFlDb0FJZ0FTQUdOZ0tjQWlBQklBYzJBcGdDSUFFZ0NEWUNsQUlnQVNBSk5nS1FBaUFCUWNBQU5nS0lBa0g4NDhBQUtBSUFJUUpCL09QQUFDQUJOZ0lBQWtBZ0FrVU5BQ0FDSUFJb0FnQkJBV3NpQVRZQ0FDQUJEUUFnQWtFRWFpSUJJQUVvQWdCQkFXc2lBVFlDQUNBQkRRQWdBa0hZQWtFSUVPTUJDeUFBUVVCckpBQkIvT1BBQUNnQ0FDRUFDeUFBSUFBb0FnQkJBV29pQVRZQ0FDQUJSUVJBQUFzZ0FBc3ZBUUYvUVFFaEFTQUFMUUFFQkg4Z0FRVWdBQ2dDQUNJQUtBSVVRZTdHd0FCQkFTQUFLQUlZS0FJTUVRSUFDd3N0QUNBQktBSVVJQUlnQXlBQktBSVlLQUlNRVFJQUlRSWdBRUVBT2dBRklBQWdBam9BQkNBQUlBRTJBZ0FMTWdFQmZ5QUJLQUlVUWF6RXdBQkJBU0FCS0FJWUtBSU1FUUlBSVFJZ0FFRUFPZ0FGSUFBZ0Fqb0FCQ0FBSUFFMkFnQUxJd0VCZnlBQUtBSUFJZ0FnQUVFZmRTSUNjeUFDYTYwZ0FFRi9jMEVmZGlBQkVGWUxLQUFnQVNBQUtBSUFMUUFBUVFKMElnQkJ6SUxBQUdvb0FnQWdBRUc0Z3NBQWFpZ0NBQkRRQVFzZUFDQUFSUVJBRU9nQkFBc2dBQ0FDSUFNZ0JDQUZJQUVvQWhBUkN3QUxIQUFnQUVVRVFCRG9BUUFMSUFBZ0FpQURJQVFnQVNnQ0VCRUlBQXNjQUNBQVJRUkFFT2dCQUFzZ0FDQUNJQU1nQkNBQktBSVFFUlFBQ3h3QUlBQkZCRUFRNkFFQUN5QUFJQUlnQXlBRUlBRW9BaEFSRmdBTEhBQWdBRVVFUUJEb0FRQUxJQUFnQWlBRElBUWdBU2dDRUJFS0FBc2NBQ0FBUlFSQUVPZ0JBQXNnQUNBQ0lBTWdCQ0FCS0FJUUVSZ0FDeWdCQVg4Z0FDZ0NBQ0lCUVlDQWdJQjRja0dBZ0lDQWVFY0VRQ0FBS0FJRUlBRkJBUkRqQVFzTENnQkJDQ0FBRVBFQkFBc2FBQ0FBUlFSQUVPZ0JBQXNnQUNBQ0lBTWdBU2dDRUJFRkFBc2lBQ0FBTFFBQVJRUkFJQUZCZ2NuQUFFRUZFQ3NQQ3lBQlFZYkp3QUJCQkJBckN4Z0JBWDhRK1FFaEFTQUFFUGtCTmdJRUlBQWdBVFlDQUFzWUFDQUFSUVJBRU9nQkFBc2dBQ0FDSUFFb0FoQVJBQUFMR2dFQmZ5QUFLQUlBSWdFRVFDQUFLQUlFSUFGQkFSRGpBUXNMRkFBZ0FDZ0NBQ0lBUVlRQlR3UkFJQUFRQWdzTFJnQWdBRVVFUUNNQVFTQnJJZ0FrQUNBQVFRQTJBaGdnQUVFQk5nSU1JQUJCOUwvQUFEWUNDQ0FBUWdRM0FoQWdBRUVJYWtHWXdNQUFFS1FCQUFzZ0FDQUJFUEVCQUFzV0FDQUFLQUlBSWdBb0FnUWdBQ2dDQ0NBQkVQUUJDOXdHQVFaL0FuOENRQUpBQWtBQ1FBSkFJQUJCQkdzaUJTZ0NBQ0lHUVhoeElnUkJCRUVJSUFaQkEzRWlCeHNnQVdwUEJFQWdCMEVBSUFGQkoyb2lDU0FFU1JzTkFRSkFBa0FnQWtFSlR3UkFJQUlnQXhCSElnZ05BVUVBREFrTElBTkJ6UDk3U3cwQlFSQWdBMEVMYWtGNGNTQURRUXRKR3lFQkFrQWdCMFVFUUNBQlFZQUNTU0FFSUFGQkJISkpjaUFFSUFGclFZR0FDRTl5RFFFTUNRc2dBRUVJYXlJQ0lBUnFJUWNDUUFKQUFrQUNRQ0FCSUFSTEJFQWdCMEdzNk1BQUtBSUFSZzBFSUFkQnFPakFBQ2dDQUVZTkFpQUhLQUlFSWdaQkFuRU5CU0FHUVhoeElnWWdCR29pQkNBQlNRMEZJQWNnQmhCU0lBUWdBV3NpQTBFUVNRMEJJQVVnQVNBRktBSUFRUUZ4Y2tFQ2NqWUNBQ0FCSUFKcUlnRWdBMEVEY2pZQ0JDQUNJQVJxSWdJZ0FpZ0NCRUVCY2pZQ0JDQUJJQU1RUHd3TkN5QUVJQUZySWdOQkQwc05BZ3dNQ3lBRklBUWdCU2dDQUVFQmNYSkJBbkkyQWdBZ0FpQUVhaUlCSUFFb0FnUkJBWEkyQWdRTUN3dEJvT2pBQUNnQ0FDQUVhaUlFSUFGSkRRSUNRQ0FFSUFGcklnTkJEMDBFUUNBRklBWkJBWEVnQkhKQkFuSTJBZ0FnQWlBRWFpSUJJQUVvQWdSQkFYSTJBZ1JCQUNFRFFRQWhBUXdCQ3lBRklBRWdCa0VCY1hKQkFuSTJBZ0FnQVNBQ2FpSUJJQU5CQVhJMkFnUWdBaUFFYWlJQ0lBTTJBZ0FnQWlBQ0tBSUVRWDV4TmdJRUMwR282TUFBSUFFMkFnQkJvT2pBQUNBRE5nSUFEQW9MSUFVZ0FTQUdRUUZ4Y2tFQ2NqWUNBQ0FCSUFKcUlnRWdBMEVEY2pZQ0JDQUhJQWNvQWdSQkFYSTJBZ1FnQVNBREVEOE1DUXRCcE9qQUFDZ0NBQ0FFYWlJRUlBRkxEUWNMSUFNUUpTSUJSUTBCSUFFZ0FFRjhRWGdnQlNnQ0FDSUJRUU54R3lBQlFYaHhhaUlCSUFNZ0FTQURTUnNROXdFZ0FCQXVEQWdMSUFnZ0FDQUJJQU1nQVNBRFNSc1E5d0VhSUFVb0FnQWlBa0Y0Y1NJRElBRkJCRUVJSUFKQkEzRWlBaHRxU1EwRElBSkJBQ0FESUFsTEd3MEVJQUFRTGdzZ0NBd0dDMEhGck1BQVFTNUI5S3pBQUJDdEFRQUxRWVN0d0FCQkxrRzByY0FBRUswQkFBdEJ4YXpBQUVFdVFmU3N3QUFRclFFQUMwR0VyY0FBUVM1QnRLM0FBQkN0QVFBTElBVWdBU0FHUVFGeGNrRUNjallDQUNBQklBSnFJZ0lnQkNBQmF5SUJRUUZ5TmdJRVFhVG93QUFnQVRZQ0FFR3M2TUFBSUFJMkFnQWdBQXdCQ3lBQUN3c1pBQ0FCS0FJVVFmdkR3QUJCRGlBQktBSVlLQUlNRVFJQUN4WUFJQUFvQWhRZ0FTQUNJQUFvQWhnb0Fnd1JBZ0FMRkFBZ0FDZ0NBQ0FCSUFBb0FnUW9BaEFSQUFBTEZBQWdBQ2dDQUNBQklBQW9BZ1FvQWd3UkFBQUx6d2dCQlg4akFFSHdBR3NpQlNRQUlBVWdBellDRENBRklBSTJBZ2dDUUFKQUlBRkJnUUpQQkVBZ0FBSi9RUU1nQUN3QWdBSkJ2MzlLRFFBYVFRSWdBQ3dBL3dGQnYzOUtEUUFhSUFBc0FQNEJRYjkvU2d0Qi9RRnFJZ1pxTEFBQVFiOS9UQTBCSUFVZ0JqWUNGQ0FGSUFBMkFoQkJCU0VIUVlUTHdBQWhCZ3dDQ3lBRklBRTJBaFFnQlNBQU5nSVFRUUVoQmd3QkN5QUFJQUZCQUNBR0lBUVEwd0VBQ3lBRklBYzJBaHdnQlNBR05nSVlBa0FDUUFKQUFrQUNRQ0FCSUFKSklnY2dBU0FEU1hKRkJFQWdBaUFEU3cwQklBSkZJQUVnQWsxeVJRUkFJQVZCREdvZ0JVRUlhaUFBSUFKcUxBQUFRYjkvU2hzb0FnQWhBd3NnQlNBRE5nSWdJQU1nQVNJQ1NRUkFJQU5CQVdvaUJ5QURRUU5ySWdKQkFDQUNJQU5OR3lJQ1NRMERBa0FnQWlBSFJnMEFJQUFnQjJvZ0FDQUNhaUlJYXlFSElBQWdBMm9pQ1N3QUFFRy9mMG9FUUNBSFFRRnJJUVlNQVFzZ0FpQURSZzBBSUFsQkFXc2lBeXdBQUVHL2Ywb0VRQ0FIUVFKcklRWU1BUXNnQXlBSVJnMEFJQWxCQW1zaUF5d0FBRUcvZjBvRVFDQUhRUU5ySVFZTUFRc2dBeUFJUmcwQUlBbEJBMnNpQXl3QUFFRy9mMG9FUUNBSFFRUnJJUVlNQVFzZ0F5QUlSZzBBSUFkQkJXc2hCZ3NnQWlBR2FpRUNDd0pBSUFKRkRRQWdBU0FDU3dSQUlBQWdBbW9zQUFCQnYzOUtEUUVNQmdzZ0FTQUNSdzBGQ3lBQklBSkdEUU1DZndKQUFrQWdBQ0FDYWlJQkxBQUFJZ0JCQUVnRVFDQUJMUUFCUVQ5eElRWWdBRUVmY1NFRElBQkJYMHNOQVNBRFFRWjBJQVp5SVFNTUFnc2dCU0FBUWY4QmNUWUNKRUVCREFJTElBRXRBQUpCUDNFZ0JrRUdkSEloQmlBQVFYQkpCRUFnQmlBRFFReDBjaUVEREFFTElBTkJFblJCZ0lEd0FIRWdBUzBBQTBFL2NTQUdRUVowY25JaUEwR0FnTVFBUmcwRkN5QUZJQU0yQWlSQkFTQURRWUFCU1EwQUdrRUNJQU5CZ0JCSkRRQWFRUU5CQkNBRFFZQ0FCRWtiQ3lFQUlBVWdBallDS0NBRklBQWdBbW8yQWl3Z0JVRUZOZ0kwSUFWQmpNekFBRFlDTUNBRlFnVTNBandnQlNBRlFSaHFyVUtBZ0lDQTRBeUVOd05vSUFVZ0JVRVFhcTFDZ0lDQWdPQU1oRGNEWUNBRklBVkJLR3F0UW9DQWdJQ0FEWVEzQTFnZ0JTQUZRU1JxclVLQWdJQ0FrQTJFTndOUUlBVWdCVUVnYXExQ2dJQ0FnTkFBaERjRFNBd0ZDeUFGSUFJZ0F5QUhHellDS0NBRlFRTTJBalFnQlVITXpNQUFOZ0l3SUFWQ0F6Y0NQQ0FGSUFWQkdHcXRRb0NBZ0lEZ0RJUTNBMWdnQlNBRlFSQnFyVUtBZ0lDQTRBeUVOd05RSUFVZ0JVRW9hcTFDZ0lDQWdOQUFoRGNEU0F3RUN5QUZRUVEyQWpRZ0JVR3N5OEFBTmdJd0lBVkNCRGNDUENBRklBVkJHR3F0UW9DQWdJRGdESVEzQTJBZ0JTQUZRUkJxclVLQWdJQ0E0QXlFTndOWUlBVWdCVUVNYXExQ2dJQ0FnTkFBaERjRFVDQUZJQVZCQ0dxdFFvQ0FnSURRQUlRM0EwZ01Bd3NnQWlBSFFZRE53QUFRa3dFQUN5QUVFT2NCQUFzZ0FDQUJJQUlnQVNBRUVOTUJBQXNnQlNBRlFjZ0FhallDT0NBRlFUQnFJQVFRcEFFQUN4UUFJQUJCQURZQ0NDQUFRb0NBZ0lBUU53SUFDeEVBSUFBb0FnUWdBQ2dDQ0NBQkVQUUJDeFVBUWZuandBQXRBQUFhUVlDQXdBSkJBUkRYQVFzWkFBSi9JQUZCQ1U4RVFDQUJJQUFRUnd3QkN5QUFFQ1VMQ3hNQUlBQkJLRFlDQkNBQVFZU2h3QUEyQWdBTElRQWdBRUx5M1B1M3BPNlBqZ0kzQXdnZ0FFTForNHI3NUliczVmSUFOd01BQzlzR0FROS9JQUFvQWdBaEJ5QUFLQUlFSVFWQkFDRUFJd0JCRUdzaUJpUUFRUUVoREFKQUlBRW9BaFFpQ2tFaUlBRW9BaGdpRFNnQ0VDSU9FUUFBRFFBQ1FDQUZSUVJBREFFTFFRQWdCV3NoRHlBSElRRWdCU0VBQWtBQ2Z3SkFBa0FEUUNBQUlBRnFJUkJCQUNFREFrQURRQ0FCSUFOcUlnUXRBQUFpQ1VIL0FHdEIvd0Z4UWFFQlNTQUpRU0pHY2lBSlFkd0FSbklOQVNBQUlBTkJBV29pQTBjTkFBc2dBQ0FJYWd3RUN5QUVRUUZxSVFFQ1FDQUVMQUFBSWdCQkFFNEVRQ0FBUWY4QmNTRUFEQUVMSUFFdEFBQkJQM0VoQ3lBQVFSOXhJUWtnQkVFQ2FpRUJJQUJCWDAwRVFDQUpRUVowSUF0eUlRQU1BUXNnQVMwQUFFRS9jU0FMUVFaMGNpRUxJQVJCQTJvaEFTQUFRWEJKQkVBZ0N5QUpRUXgwY2lFQURBRUxJQWxCRW5SQmdJRHdBSEVnQVMwQUFFRS9jU0FMUVFaMGNuSWhBQ0FFUVFScUlRRUxJQVpCQkdvZ0FFR0JnQVFRS2dKQUFrQWdCaTBBQkVHQUFVWU5BQ0FHTFFBUElBWXRBQTVyUWY4QmNVRUJSZzBBSUFJZ0F5QUlhaUlFU3cwREFrQWdBa1VOQUNBQ0lBVkpCRUFnQWlBSGFpd0FBRUcvZjBvTkFRd0ZDeUFDSUFWSERRUUxBa0FnQkVVTkFDQUVJQVZKQkVBZ0J5QUlhaUFEYWl3QUFFRy9mMHdOQlF3QkN5QUVJQTlxRFFRTElBb2dBaUFIYWlBSUlBSnJJQU5xSUEwb0Fnd2lBaEVDQUEwQkFrQWdCaTBBQkVHQUFVWUVRQ0FLSUFZb0FnZ2dEaEVBQUVVTkFRd0RDeUFLSUFZdEFBNGlCQ0FHUVFScWFpQUdMUUFQSUFScklBSVJBZ0FOQWdzQ2YwRUJJQUJCZ0FGSkRRQWFRUUlnQUVHQUVFa05BQnBCQTBFRUlBQkJnSUFFU1JzTElBaHFJQU5xSVFJTEFuOUJBU0FBUVlBQlNRMEFHa0VDSUFCQmdCQkpEUUFhUVFOQkJDQUFRWUNBQkVrYkN5QUlhaUlFSUFOcUlRZ2dFQ0FCYXlJQVJRMEREQUVMQ3d3RkN5QUhJQVVnQWlBRVFZekp3QUFRMHdFQUN5QURJQVJxQ3lJRElBSkpEUUJCQUNFQUFrQWdBa1VOQUNBQ0lBVkpCRUFnQWlJQUlBZHFMQUFBUWI5L1RBMENEQUVMSUFJaUFDQUZSdzBCQ3lBRFJRUkFRUUFoQXd3Q0N5QURJQVZKQkVBZ0FDRUNJQU1nQjJvc0FBQkJ2MzlLRFFJTUFRc2dBQ0VDSUFNZ0JVWU5BUXNnQnlBRklBSWdBMEdjeWNBQUVOTUJBQXNnQ2lBQUlBZHFJQU1nQUdzZ0RTZ0NEQkVDQUEwQUlBcEJJaUFPRVFBQUlRd0xJQVpCRUdva0FDQU1DeFlBUVl6a3dBQWdBRFlDQUVHSTVNQUFRUUUyQWdBTElRQWdBRUwwaGZlZHNjdlVyOE1BTndNSUlBQkNuTHUyeEl2Ti82OW1Od01BQ3lJQUlBQkM3YnF0dHMyRjFQWGpBRGNEQ0NBQVF2aUNtYjJWN3NiRnVYODNBd0FMRVFBZ0FDZ0NBQ0FBS0FJRUlBRVE5QUVMRXdBZ0FFSDB1c0FBTmdJRUlBQWdBVFlDQUFzUkFDQUJJQUFvQWdBZ0FDZ0NCQkRRQVFzUUFDQUJJQUFvQWdBZ0FDZ0NCQkFyQ3hBQUlBRW9BaFFnQVNnQ0dDQUFFRE1MWVFFQmZ3SkFBa0FnQUVFRWF5Z0NBQ0lDUVhoeElnTkJCRUVJSUFKQkEzRWlBaHNnQVdwUEJFQWdBa0VBSUFNZ0FVRW5ha3NiRFFFZ0FCQXVEQUlMUWNXc3dBQkJMa0gwck1BQUVLMEJBQXRCaEszQUFFRXVRYlN0d0FBUXJRRUFDd3NOQUNBQU5RSUFRUUVnQVJCV0N3MEFJQUF4QUFCQkFTQUJFRllMRFFBZ0FETUJBRUVCSUFFUVZnc1BBRUd0eE1BQVFTc2dBQkN0QVFBTERBQkIyNmpBQUVFeUVDRUFDd3dBSUFBb0FnQWdBUkRIQVFzTkFDQUFRZXlyd0FBZ0FSQXpDdzBBSUFCQmhLekFBQ0FCRURNTERRQWdBRUhVcThBQUlBRVFNd3NNQUNBQUlBRXBBZ0EzQXdBTERRQWdBRUhJdjhBQUlBRVFNd3NPQUNBQlFiaS93QUJCQlJEUUFRc09BQ0FCUWIyL3dBQkJDeERRQVFzYUFDQUFJQUZCNE9UQUFDZ0NBQ0lBUWNZQUlBQWJFUU1BQUF2eUF3RUhmeU1BUVJCcklnTWtBQUpBQW44Q1FDQUJRWUFCVHdSQUlBTkJBRFlDRENBQlFZQVFTUTBCSUFGQmdJQUVTUVJBSUFNZ0FVRS9jVUdBQVhJNkFBNGdBeUFCUVF4MlFlQUJjam9BRENBRElBRkJCblpCUDNGQmdBRnlPZ0FOUVFNTUF3c2dBeUFCUVQ5eFFZQUJjam9BRHlBRElBRkJCblpCUDNGQmdBRnlPZ0FPSUFNZ0FVRU1ka0UvY1VHQUFYSTZBQTBnQXlBQlFSSjJRUWR4UWZBQmNqb0FERUVFREFJTElBQW9BZ2dpQnlBQUtBSUFSZ1JBSXdCQklHc2lBaVFBSUFBb0FnQWlCRUYvUmdSQVFRQkJBQkRNQVFBTFFRRWhDRUVJSUFSQkFYUWlCU0FFUVFGcUlnWWdCU0FHU3hzaUJTQUZRUWhOR3lJRlFYOXpRUjkySVFZQ1FDQUVSUVJBUVFBaENBd0JDeUFDSUFRMkFod2dBaUFBS0FJRU5nSVVDeUFDSUFnMkFoZ2dBa0VJYWlBR0lBVWdBa0VVYWhCNElBSW9BZ2dFUUNBQ0tBSU1JQUlvQWhBUXpBRUFDeUFDS0FJTUlRUWdBQ0FGTmdJQUlBQWdCRFlDQkNBQ1FTQnFKQUFMSUFBZ0IwRUJhallDQ0NBQUtBSUVJQWRxSUFFNkFBQU1BZ3NnQXlBQlFUOXhRWUFCY2pvQURTQURJQUZCQm5aQndBRnlPZ0FNUVFJTElRRWdBU0FBS0FJQUlBQW9BZ2dpQW10TEJFQWdBQ0FDSUFFUWRpQUFLQUlJSVFJTElBQW9BZ1FnQW1vZ0EwRU1haUFCRVBjQkdpQUFJQUVnQW1vMkFnZ0xJQU5CRUdva0FFRUFDdzBBSUFCQndNYkFBQ0FCRURNTENnQWdBaUFBSUFFUUt3dXZBUUVEZnlBQklRVUNRQ0FDUVJCSkJFQWdBQ0VCREFFTElBQkJBQ0FBYTBFRGNTSURhaUVFSUFNRVFDQUFJUUVEUUNBQklBVTZBQUFnQVVFQmFpSUJJQVJKRFFBTEN5QUVJQUlnQTJzaUFrRjhjU0lEYWlFQklBTkJBRW9FUUNBRlFmOEJjVUdCZ29RSWJDRURBMEFnQkNBRE5nSUFJQVJCQkdvaUJDQUJTUTBBQ3dzZ0FrRURjU0VDQ3lBQ0JFQWdBU0FDYWlFQ0EwQWdBU0FGT2dBQUlBRkJBV29pQVNBQ1NRMEFDd3NnQUF1VkJRRUlmd0pBQW44Q1FDQUNJZ1VnQUNBQmEwc0VRQ0FCSUFWcUlRWWdBQ0FGYWlFQ0lBQWdCVUVRU1EwQ0dpQUNRWHh4SVFSQkFDQUNRUU54SWdkcklRZ2dCd1JBSUFFZ0JXcEJBV3NoQXdOQUlBSkJBV3NpQWlBRExRQUFPZ0FBSUFOQkFXc2hBeUFDSUFSTERRQUxDeUFFSUFVZ0Iyc2lCMEY4Y1NJRmF5RUNJQVlnQ0dvaUJrRURjUVJBSUFWQkFFd05BaUFHUVFOMElnTkJHSEVoQ0NBR1FYeHhJZ2xCQkdzaEFVRUFJQU5yUVJoeElRb2dDU2dDQUNFREEwQWdCRUVFYXlJRUlBTWdDblFnQVNnQ0FDSURJQWgyY2pZQ0FDQUJRUVJySVFFZ0FpQUVTUTBBQ3d3Q0N5QUZRUUJNRFFFZ0FTQUhha0VFYXlFQkEwQWdCRUVFYXlJRUlBRW9BZ0EyQWdBZ0FVRUVheUVCSUFJZ0JFa05BQXNNQVFzQ1FDQUZRUkJKQkVBZ0FDRUNEQUVMSUFCQkFDQUFhMEVEY1NJR2FpRUVJQVlFUUNBQUlRSWdBU0VEQTBBZ0FpQURMUUFBT2dBQUlBTkJBV29oQXlBQ1FRRnFJZ0lnQkVrTkFBc0xJQVFnQlNBR2F5SUZRWHh4SWdkcUlRSUNRQ0FCSUFacUlnWkJBM0VFUUNBSFFRQk1EUUVnQmtFRGRDSURRUmh4SVFnZ0JrRjhjU0lKUVFScUlRRkJBQ0FEYTBFWWNTRUtJQWtvQWdBaEF3TkFJQVFnQXlBSWRpQUJLQUlBSWdNZ0NuUnlOZ0lBSUFGQkJHb2hBU0FFUVFScUlnUWdBa2tOQUFzTUFRc2dCMEVBVEEwQUlBWWhBUU5BSUFRZ0FTZ0NBRFlDQUNBQlFRUnFJUUVnQkVFRWFpSUVJQUpKRFFBTEN5QUZRUU54SVFVZ0JpQUhhaUVCQ3lBRlJRMENJQUlnQldvaEF3TkFJQUlnQVMwQUFEb0FBQ0FCUVFGcUlRRWdBa0VCYWlJQ0lBTkpEUUFMREFJTElBZEJBM0VpQVVVTkFTQUdJQVZySVFZZ0FpQUJhd3NoQXlBR1FRRnJJUUVEUUNBQ1FRRnJJZ0lnQVMwQUFEb0FBQ0FCUVFGcklRRWdBaUFEU3cwQUN3c2dBQXU0QWdFSGZ3SkFJQUlpQkVFUVNRUkFJQUFoQWd3QkN5QUFRUUFnQUd0QkEzRWlBMm9oQlNBREJFQWdBQ0VDSUFFaEJnTkFJQUlnQmkwQUFEb0FBQ0FHUVFGcUlRWWdBa0VCYWlJQ0lBVkpEUUFMQ3lBRklBUWdBMnNpQ0VGOGNTSUhhaUVDQWtBZ0FTQURhaUlEUVFOeEJFQWdCMEVBVEEwQklBTkJBM1FpQkVFWWNTRUpJQU5CZkhFaUJrRUVhaUVCUVFBZ0JHdEJHSEVoQkNBR0tBSUFJUVlEUUNBRklBWWdDWFlnQVNnQ0FDSUdJQVIwY2pZQ0FDQUJRUVJxSVFFZ0JVRUVhaUlGSUFKSkRRQUxEQUVMSUFkQkFFd05BQ0FESVFFRFFDQUZJQUVvQWdBMkFnQWdBVUVFYWlFQklBVkJCR29pQlNBQ1NRMEFDd3NnQ0VFRGNTRUVJQU1nQjJvaEFRc2dCQVJBSUFJZ0JHb2hBd05BSUFJZ0FTMEFBRG9BQUNBQlFRRnFJUUVnQWtFQmFpSUNJQU5KRFFBTEN5QUFDd2tBSUFCQkFEWUNBQXNJQUVFQlFRQVFFQXNEQUFFTEM2NWhGUUJCZ0lEQUFBdXpCUzl5ZFhOMFl5OWxaV0k1TUdOa1lURTVOamt6T0RObU5UWmhNall6TjJOaVpETXdNemRpWkdZMU9UZzROREZqTDJ4cFluSmhjbmt2WVd4c2IyTXZjM0pqTDNabFl5OXRiMlF1Y25NQUFCQUFUQUFBQUprSUFBQWtBQUFBQUFBUUFFd0FBQUFvQmdBQURRQUFBRVZ0Y0hSNVNXNTJZV3hwWkVScFoybDBVRzl6VDNabGNtWnNiM2RPWldkUGRtVnlabXh2ZDFwbGNtOEFBQUFBQUFRQUFBQUVBQUFBQVFBQUFGQmhjbk5sU1c1MFJYSnliM0pyYVc1a01UQXdNVEF3TVRBd01UQXdjM0pqTDJOdmJuUnliMnd2ZEdWemRGOW1aV011Y25QRkFCQUFGd0FBQUZvQUFBQVJBQUFBQUFBQUFBRUFBQUFCQUFBQUFnQUFBR05oYkd4bFpDQmdVbVZ6ZFd4ME9qcDFibmR5WVhBb0tXQWdiMjRnWVc0Z1lFVnljbUFnZG1Gc2RXVUF4UUFRQUJjQUFBQlFBQUFBTXdBQUFBVUFBQUFNQUFBQUN3QUFBQXNBQUFBRUFBQUFiQUFRQUhFQUVBQjlBQkFBaUFBUUFKTUFFQUJ6Y21NdlkyOXVkSEp2YkM5dGIyUXVjbk1BQUdBQkVBQVNBQUFBS2dBQUFCb0FBQUJ6Wlc1a1gycGlZU0IyWVd4MVpUMEFoQUVRQUE4QUFBQnpjbU12YldWa2FXRXZZWFZrYVc4dllWOW1jbUZ0WlY5aWRXWm1aWEl1Y25NQUFBQ2NBUkFBSVFBQUFNUUFBQUFrQUFBQWFXNTJZV3hwWkN3Z2MyNDkwQUVRQUF3QUFBQnpiajBnYzJsNlpUMGdiajNrQVJBQUF3QUFBT2NCRUFBR0FBQUE3UUVRQUFNQUFBQnpjbU12YldWa2FXRXZkbWxrWlc4dmRsOXdZV05yWlhSZlluVm1abVZ5TG5KekFBQUlBaEFBSWdBQUFESUJBQUFUQUFBQUNBSVFBQ0lBQUFCSEFRQUFJd0FBQUFnQ0VBQWlBQUFBVUFFQUFCc0FBQUFJQWhBQUlnQUFBRkVCQUFBWkFBQUFDQUlRQUNJQUFBQTRBUUFBSVFBQUFDaG5ZWEFnUGlBeE1EQXdLU0J4ZFdWMVpWOXphWHBsUFNCemJqMThBaEFBR0FBQUFKUUNFQUFFQUFBQS8vLy8vLy8vLy8rb0FoQUFRY0NGd0FBTHJRTnpjbU12YldWa2FXRXZZMjl0Ylc5dUwzQmhZMnRsZEM1eWN3QUF3QUlRQUJvQUFBQXpBQUFBSEFBQUFITnlZeTl0WldScFlTOTJhV1JsYnk5MlgyWnlZVzFsWDJsdVptOWZiV0Z1WVdkbGNpNXljd0RzQWhBQUp3QUFBREVBQUFBbUFBQUFhWE5mWTI5dGNHeGxkR1U5TENCemRHRnlkRDBnWlc1a1BTQm1hWE4wUFNCc1lYTjBQUUFBQUNRREVBQU1BQUFBTUFNUUFBZ0FBQUE0QXhBQUJRQUFBRDBERUFBR0FBQUFRd01RQUFZQUFBQUJBQUFBQUFBQUFITnBlbVU5SUhSelBRQUFBSHdERUFBRkFBQUFnUU1RQUFRQUFBQnlaVzF2ZG1WZmNHRmphMlYwY3lCdWIzSnRZV3dnZEhNOUlITnBlbVU5SUNCclBRQ1lBeEFBR1FBQUFMRURFQUFHQUFBQXR3TVFBQUVBQUFDM0F4QUFBUUFBQUxjREVBQUJBQUFBdHdNUUFBRUFBQUM0QXhBQUF3QUFBSEpsYlc5MlpWOXdZV05yWlhSeklHVnljbTl5SUhSelBmUURFQUFZQUFBQXNRTVFBQVlBQUFDM0F4QUFBUUFBQUxjREVBQUJBQUFBdHdNUUFBRUFBQUMzQXhBQUFRQUFBTGdERUFBREFBQUFiR1Z1TVQwZ2JHVnVNajBnWTI5dWRHRnBiajFFQkJBQUJRQUFBRWtFRUFBR0FBQUFUd1FRQUFrQVFmaUl3QUFMclFFQkFBQUFEQUFBQUdOaGJtNXZkQ0JoWTJObGMzTWdZU0JVYUhKbFlXUWdURzlqWVd3Z1UzUnZjbUZuWlNCMllXeDFaU0JrZFhKcGJtY2diM0lnWVdaMFpYSWdaR1Z6ZEhKMVkzUnBiMjR2Y25WemRHTXZaV1ZpT1RCalpHRXhPVFk1TXpnelpqVTJZVEkyTXpkalltUXpNRE0zWW1SbU5UazRPRFF4WXk5c2FXSnlZWEo1TDNOMFpDOXpjbU12ZEdoeVpXRmtMMnh2WTJGc0xuSnpBQUFBeGdRUUFFOEFBQUFFQVFBQUdnQkJzSXJBQUFzTC8vLy8vLy8vLy84d0JSQUFRY2lLd0FBTDZ3TnpjbU12YldWa2FXRXZkbWxrWlc4dmRsOW1jbUZ0WlY5aWRXWm1aWEl1Y25NQUFBQklCUkFBSVFBQUFHc0FBQUFvQUFBQVNBVVFBQ0VBQUFDNEFBQUFKUUFBQU9TNG91VzhnK1drdE9tRHFGRGx1S2M2QUFBQWpBVVFBQkVBQUFCcGJtTnlaV0Z6WlY5emRHRnlkQ0J6ZEdGeWREMGdaVzVrUFNBQXFBVVFBQlVBQUFDOUJSQUFCUUFBQU1JRkVBQUJBQUFBd2dVUUFBRUFBQUJ6Y21NdmMyaGhjbVZrTDIxdlpDNXljd0FBQU9RRkVBQVJBQUFBS0FBQUFCd0FBQURrQlJBQUVRQUFBQ2tBQUFBdEFBQUE1QVVRQUJFQUFBQXdBQUFBSFFBQUFDd0FBQUFCQUFBQUFBQUFBQ2dHRUFBQkFBQUFLQVlRQUFFQUFBQW9CaEFBQVFBQUFDZ0dFQUFCQUFBQUtBWVFBQUVBQUFBUEFBQUFCQUFBQUFRQUFBQVFBQUFBVkdobElHTmhiR3hpWVdOcklHWjFibU4wYVc5dUlITm9iM1ZzWkNCdWIzUWdkR2h5YjNjQUFPUUZFQUFSQUFBQWdnQUFBQTRBQUFCdVBTQmxlSFJ5WVQwQUFBQ2tCaEFBQWdBQUFLWUdFQUFIQUFBQVUyaGhjbVZrUW5WbVptVnlJRTkyWlhJZ1RXRjRJRU52ZFc1MEFNQUdFQUFiQUFBQTVBVVFBQkVBQUFCdEFBQUFDUUFBQU9RRkVBQVJBQUFBUlFBQUFBNEFBQURrQlJBQUVRQUFBTTRBQUFBV0FBQUFjM1JoZEhOZmJHVnVQUUFBRkFjUUFBb0FBQUQvLy8vLy8vLy8veWdIRUFCQndJN0FBQXVyQW5OeVl5OXRaV1JwWVM5amIyMXRiMjR2YldWa2FXRmZjM1JoZEhNdWNuTUFRQWNRQUI4QUFBQm5BQUFBRFFBQUFITnlZeTl0WldScFlTOTJhV1JsYnk5MlgycHBkSFJsY2w5aWRXWm1aWEl1Y25NQUFIQUhFQUFpQUFBQWVBQUFBRUFBQUFCemNtTXZiV1ZrYVdFdmRtbGtaVzh2ZGw5elpXa3Vjbk9rQnhBQUdBQUFBRDBBQUFBUUFBQUFwQWNRQUJnQUFBQTVBQUFBRHdBQUFITnlZeTkxZEdsc2N5OWllWFJsY3k1eWN3QUEzQWNRQUJJQUFBQVpBQUFBRHdBQUFOd0hFQUFTQUFBQUlnQUFBQkFBQUFEY0J4QUFFZ0FBQUNJQUFBQXRBQUFBM0FjUUFCSUFBQUFxQUFBQUVBQUFBTndIRUFBU0FBQUFLd0FBQUJZQUFBRGNCeEFBRWdBQUFDd0FBQUFXQUFBQTNBY1FBQklBQUFBdEFBQUFGUUFBQVAvLy8vLy8vLy8vWUFnUUFFSDhrTUFBQzVjREFRQUFBQUVBQUFBU0FBQUFFd0FBQUJNQUFBQnpjbU12ZFhScGJITXZkR2x0WlhJdWNuTUFBSkFJRUFBU0FBQUFkUUFBQUN3QUFBQUFBQUFBREFBQUFBUUFBQUFWQUFBQUZnQUFBQUFBQUFBTUFBQUFCQUFBQUJjQUFBQVlBQUFBQUFBQUFBd0FBQUFFQUFBQUdRQUFBQm9BQUFBQUFBQUFEQUFBQUFRQUFBQWJBQUFBSEFBQUFBQUFBQUFNQUFBQUJBQUFBQjBBQUFBZUFBQUFUR0Y2ZVNCcGJuTjBZVzVqWlNCb1lYTWdjSEpsZG1sdmRYTnNlU0JpWldWdUlIQnZhWE52Ym1Wa0FBQVlDUkFBS2dBQUFDOVZjMlZ5Y3k5aWVYUmxaR0Z1WTJVdkxtTmhjbWR2TDNKbFoybHpkSEo1TDNOeVl5OXBibVJsZUM1amNtRjBaWE11YVc4dE5tWXhOMlF5TW1KaVlURTFNREF4Wmk5dmJtTmxYMk5sYkd3dE1TNHhPQzR3TDNOeVl5OXNhV0l1Y25NQUFBQk1DUkFBWVFBQUFDRUZBQUFaQUFBQVRBa1FBR0VBQUFBMUJRQUFIUUFBQUdsdWRHVnlibUZzSUdWeWNtOXlPaUJsYm5SbGNtVmtJSFZ1Y21WaFkyaGhZbXhsSUdOdlpHVk1DUkFBWVFBQUFEa0ZBQUF6QUFBQS8vLy8vLy8vLy84SUNoQUFRYUNVd0FBTHNRcHpjbU12YldWa2FXRXZkbWxrWlc4dmRsOW1jbUZ0WlM1eWN3QUFJQW9RQUJvQUFBQWVBQUFBSndBQUFBQUFBQUFFQUFBQUJBQUFBQ0FBQUFBQUFBQUFCQUFBQUFRQUFBQWhBQUFBYzNKakwyMWxaR2xoTDIxdlpDNXljMndLRUFBUUFBQUFHZ0FBQURJQUFBQnpjbU12WTJkMGNDOXRiMlF1Y25NQWpBb1FBQThBQUFBdUFBQUFHd0FBQUhOeVl5OXRaV1JwWVM5MmFXUmxieTkyWDNCaFkydGxkRjltWldOZmJXRnVZV2RsY2k1eWN3Q3NDaEFBSndBQUFEc0FBQUF2QUFBQUFRQUFBQUFBQUFCeVpXTmxhWFpsWDJabFl5QXhJR0p3Y0Y5c1pXNW5kR2c5SUhCZmMybDZaVDBnY21WamIzWmxjbDlzWlc1bmRHZzlJSE5sY1hWbGJtTmxQU0J3YVdROUlHWnlZV2R0Wlc1MFBTQmljSEE5SUdabFkxOW9aV0ZrWlhJOUFPd0tFQUFaQUFBQUJRc1FBQWdBQUFBTkN4QUFFQUFBQUIwTEVBQUtBQUFBSndzUUFBVUFBQUFzQ3hBQUNnQUFBRFlMRUFBRkFBQUFPd3NRQUF3QUFBQnlaV05sYVhabFgyWmxZeUF6SUhOdVBTQm1QU0IwY3owZ2JHVnVQUUFBQUlnTEVBQVJBQUFBbVFzUUFBTUFBQUNjQ3hBQUJBQUFBS0FMRUFBRkFBQUFabVZqSUhCaGVXeHZZV1FnUFNBQUFNZ0xFQUFPQUFBQWRYTmxiR1Z6Y3lCbVpXTWdabVZqWDNCcmRGOXphWHBsUFNCMlpXTmZiR1Z1UFFBQTRBc1FBQmtBQUFBbkN4QUFCUUFBQVBrTEVBQUpBQUFBWm1WakxuQmhZMnRsZEY5emFYcGxJRHdnTWlCMlpXTmZiR1Z1UFN3Z1ptVmpYM05wZW1VOUFCd01FQUFjQUFBQU9Bd1FBQXNBQUFCallXNXViM1FnYzJGdGNHeGxJR1Z0Y0hSNUlISmhibWRsTDFWelpYSnpMMko1ZEdWa1lXNWpaUzh1WTJGeVoyOHZjbVZuYVhOMGNua3ZjM0pqTDJsdVpHVjRMbU55WVhSbGN5NXBieTAyWmpFM1pESXlZbUpoTVRVd01ERm1MM0poYm1RdE1DNDRMalV2YzNKakwzSnVaeTV5YzIwTUVBQmJBQUFBaGdBQUFBa0FBQUFNTEV4c2MzSmpMMk52Ym5SeWIyd3ZabVZqTG5KekFBRGNEQkFBRWdBQUFHSUFBQUFhQUFBQTNBd1FBQklBQUFCNUFBQUFJQUFBQUdoaGJtUnNaU0JtWldNZ2MzUmhjblFnWW5Cd1gyeGxiajBnY0dsa1BRb0FFQTBRQUJrQUFBQXBEUkFBQlFBQUFDNE5FQUFCQUFBQVptOXlYMmx1WkdWNE1Tc3JJQ0FBQUVnTkVBQU5BQUFBVlEwUUFBRUFBQUF1RFJBQUFRQUFBR2hoYm1Sc1pTQm1aV01nZG1WalgyeGxiajBnZG1WalgybHVaR1Y0UFNCbWFUMGdZbkJ3WDJsdVpHVjRQU0JwYzE5cGJsOWljSEE5SUdWNGNHVmpkRjl6YmowQWNBMFFBQk1BQUFDRERSQUFDd0FBQUk0TkVBQUVBQUFBa2cwUUFBc0FBQUNkRFJBQUN3QUFBS2dORUFBTEFBQUFMZzBRQUFFQUFBQjJaV05mYVc1a1pYZzlBQURzRFJBQUNnQUFBQzRORUFBQkFBQUEzQXdRQUJJQUFBQ3lBQUFBR3dBQUFDRm9ZWE5mWm1WalgzTnVJSFpwUFNCc2FUMEFHQTRRQUE4QUFBQ09EUkFBQkFBQUFDY09FQUFFQUFBQVZRMFFBQUVBQUFBdURSQUFBUUFBQU53TUVBQVNBQUFBNndBQUFCc0FBQUF4UFNBeVBRQUFBR1FPRUFBQ0FBQUFaZzRRQUFNQUFBQXVEUkFBQVFBQUFOd01FQUFTQUFBQUhRRUFBQ0FBQUFBelBRQUFsQTRRQUFJQUFBQXVEUkFBQVFBQUFOd01FQUFTQUFBQUdBRUFBQjhBQUFEY0RCQUFFZ0FBQUJnQkFBQXNBQUFBM0F3UUFCSUFBQUF2QVFBQUhBQUFBSE55WXk5bllXMWxMMjF2WkM1eWN3RFlEaEFBRHdBQUFCb0FBQUFkQUFBQVUzUmhkR2xqSUc1dmRDQnpkWEJ3YjNKMENnRDREaEFBRXdBQUFISmxZMlZwZG1VZ1kyOXVkSEp2YkNCd1lYbHNiMkZrUFJRUEVBQVlBQUFBVlc1cmJtOTNiaUJVZVhCbElBQUFBRFFQRUFBTkFBQUFMZzBRQUFFQVFkeWV3QUFMMFFKamIzVnNaQ0J1YjNRZ2FXNXBkR2xoYkdsNlpTQjBhSEpsWVdSZmNtNW5PaUFBQUFCY0R4QUFJUUFBQUM5VmMyVnljeTlpZVhSbFpHRnVZMlV2TG1OaGNtZHZMM0psWjJsemRISjVMM055WXk5cGJtUmxlQzVqY21GMFpYTXVhVzh0Tm1ZeE4yUXlNbUppWVRFMU1EQXhaaTl5WVc1a0xUQXVPQzQxTDNOeVl5OXlibWR6TDNSb2NtVmhaQzV5Y3dDSUR4QUFZd0FBQUVnQUFBQVJBQUFBQUFBQUFBUUFBQUFFQUFBQUtRQUFBQzlWYzJWeWN5OWllWFJsWkdGdVkyVXZMbU5oY21kdkwzSmxaMmx6ZEhKNUwzTnlZeTlwYm1SbGVDNWpjbUYwWlhNdWFXOHRObVl4TjJReU1tSmlZVEUxTURBeFppOXlZVzVrWDJOb1lXTm9ZUzB3TGpNdU1TOXpjbU12WjNWMGN5NXljd0FFQUFBQURCQVFBR01BQUFEbUFBQUFCUUFBQUdSbGMyTnlhWEIwYVc5dUtDa2dhWE1nWkdWd2NtVmpZWFJsWkRzZ2RYTmxJRVJwYzNCc1lYa0JBRUc0b2NBQUM0VUtCQUFBQUFRQUFBQXJBQUFBQUFBQUFBUUFBQUFFQUFBQUxBQUFBQ3NBQUFDMEVCQUFMUUFBQUM0QUFBQXZBQUFBTFFBQUFEQUFBQUJGY25KdmNtZGxkSEpoYm1SdmJUb2dkR2hwY3lCMFlYSm5aWFFnYVhNZ2JtOTBJSE4xY0hCdmNuUmxaR1Z5Y201dk9pQmthV1FnYm05MElISmxkSFZ5YmlCaElIQnZjMmwwYVhabElIWmhiSFZsZFc1bGVIQmxZM1JsWkNCemFYUjFZWFJwYjI1VFpXTlNZVzVrYjIxRGIzQjVRbmwwWlhNNklHbFBVeUJUWldOMWNtbDBlU0JtY21GdFpYZHZjbXNnWm1GcGJIVnlaVkowYkVkbGJsSmhibVJ2YlRvZ1YybHVaRzkzY3lCemVYTjBaVzBnWm5WdVkzUnBiMjRnWm1GcGJIVnlaVkpFVWtGT1JEb2dabUZwYkdWa0lHMTFiSFJwY0d4bElIUnBiV1Z6T2lCRFVGVWdhWE56ZFdVZ2JHbHJaV3g1VWtSU1FVNUVPaUJwYm5OMGNuVmpkR2x2YmlCdWIzUWdjM1Z3Y0c5eWRHVmtWMlZpSUVOeWVYQjBieUJCVUVrZ2FYTWdkVzVoZG1GcGJHRmliR1ZEWVd4c2FXNW5JRmRsWWlCQlVFa2dZM0o1Y0hSdkxtZGxkRkpoYm1SdmJWWmhiSFZsY3lCbVlXbHNaV1J5WVc1a1UyVmpkWEpsT2lCV2VGZHZjbXR6SUZKT1J5QnRiMlIxYkdVZ2FYTWdibTkwSUdsdWFYUnBZV3hwZW1Wa1RtOWtaUzVxY3lCamNubHdkRzhnUTI5dGJXOXVTbE1nYlc5a2RXeGxJR2x6SUhWdVlYWmhhV3hoWW14bFEyRnNiR2x1WnlCT2IyUmxMbXB6SUVGUVNTQmpjbmx3ZEc4dWNtRnVaRzl0Um1sc2JGTjVibU1nWm1GcGJHVmtUbTlrWlM1cWN5QkZVeUJ0YjJSMWJHVnpJR0Z5WlNCdWIzUWdaR2x5WldOMGJIa2djM1Z3Y0c5eWRHVmtMQ0J6WldVZ2FIUjBjSE02THk5a2IyTnpMbkp6TDJkbGRISmhibVJ2YlNOdWIyUmxhbk10WlhNdGJXOWtkV3hsTFhOMWNIQnZjblFBQUFBQUFBQUVBQUFBQkFBQUFESUFBQUJwYm5SbGNtNWhiRjlqYjJSbEFBQUFBQUFBQUFnQUFBQUVBQUFBTXdBQUFHUmxjMk55YVhCMGFXOXVkVzVyYm05M2JsOWpiMlJsQUFBQUFBQUVBQUFBQkFBQUFEUUFBQUJ2YzE5bGNuSnZjbFZ1YTI1dmQyNGdSWEp5YjNJNklBQ2tFeEFBRHdBQUFFOVRJRVZ5Y205eU9pQUFBTHdURUFBS0FBQUFZM0o1Y0hSdkFBRDFFQkFBSEJFUUFFSVJFQUJXRVJBQWlCRVFBTFVSRUFEa0VSQUFCUklRQUNJU0VBRDFFQkFBOVJBUUFFOFNFQUNBRWhBQXJSSVFBTjBTRUFBbkFBQUFKZ0FBQUJRQUFBQXlBQUFBTFFBQUFDOEFBQUFoQUFBQUhRQUFBQzBBQUFBbkFBQUFKd0FBQURFQUFBQXRBQUFBTUFBQUFHVUFBQUJ5WlhSMWNtNGdkR2hwYzJOc2IzTjFjbVVnYVc1MmIydGxaQ0J5WldOMWNuTnBkbVZzZVNCdmNpQmhablJsY2lCaVpXbHVaeUJrY205d2NHVmtBQUFBQUFBQUFBUUFBQUFFQUFBQVFRQUFBQzlWYzJWeWN5OWllWFJsWkdGdVkyVXZMbU5oY21kdkwzSmxaMmx6ZEhKNUwzTnlZeTlwYm1SbGVDNWpjbUYwWlhNdWFXOHRObVl4TjJReU1tSmlZVEUxTURBeFppOXZibU5sWDJObGJHd3RNUzR4T0M0d0wzTnlZeTlwYlhCZmMzUmtMbkp6QUFBQW9CUVFBR1VBQUFDaEFBQUFOZ0FBQUFFQUFBQ2dGQkFBWlFBQUFKc0FBQUFKQUFBQVNuTldZV3gxWlNncEFBQUFMQlVRQUFnQUFBQTBGUkFBQVFBQUFISmxaVzUwY21GdWRDQnBibWwwQUFCSUZSQUFEZ0FBQUM5eWRYTjBZeTlsWldJNU1HTmtZVEU1Tmprek9ETm1OVFpoTWpZek4yTmlaRE13TXpkaVpHWTFPVGc0TkRGakwyeHBZbkpoY25rdlkyOXlaUzl6Y21NdlkyVnNiQzl2Ym1ObExuSnpBQUFBWUJVUUFFMEFBQUFrQVFBQVFnQkJ5S3ZBQUF2ZEZBUUFBQUFFQUFBQVJ3QUFBRWdBQUFBTUFBQUFCQUFBQUVrQUFBQktBQUFBU3dBQUFFd0FBQUFNQUFBQUJBQUFBRTBBQUFCT0FBQUFUd0FBQUVnQUFBQU1BQUFBQkFBQUFGQUFBQUJSQUFBQVVnQUFBQzl5ZFhOMEwyUmxjSE12Wkd4dFlXeHNiMk10TUM0eUxqWXZjM0pqTDJSc2JXRnNiRzlqTG5KellYTnpaWEowYVc5dUlHWmhhV3hsWkRvZ2NITnBlbVVnUGowZ2MybDZaU0FySUcxcGJsOXZkbVZ5YUdWaFpBQWNGaEFBS1FBQUFLZ0VBQUFKQUFBQVlYTnpaWEowYVc5dUlHWmhhV3hsWkRvZ2NITnBlbVVnUEQwZ2MybDZaU0FySUcxaGVGOXZkbVZ5YUdWaFpBQUFIQllRQUNrQUFBQ3VCQUFBRFFBQUFFRmpZMlZ6YzBWeWNtOXlkWE5sSUc5bUlITjBaRG82ZEdoeVpXRmtPanBqZFhKeVpXNTBLQ2tnYVhNZ2JtOTBJSEJ2YzNOcFlteGxJR0ZtZEdWeUlIUm9aU0IwYUhKbFlXUW5jeUJzYjJOaGJDQmtZWFJoSUdoaGN5QmlaV1Z1SUdSbGMzUnliM2xsWkd4cFluSmhjbmt2YzNSa0wzTnlZeTkwYUhKbFlXUXZiVzlrTG5KekFBQXRGeEFBSFFBQUFBRURBQUFUQUFBQVptRnBiR1ZrSUhSdklHZGxibVZ5WVhSbElIVnVhWEYxWlNCMGFISmxZV1FnU1VRNklHSnBkSE53WVdObElHVjRhR0YxYzNSbFpBQmNGeEFBTndBQUFDMFhFQUFkQUFBQTFBUUFBQTBBQUFBQkFBQUFBQUFBQUd4cFluSmhjbmt2YzNSa0wzTnlZeTlwYnk5aWRXWm1aWEpsWkM5c2FXNWxkM0pwZEdWeWMyaHBiUzV5YzIxcFpDQStJR3hsYmdBQTRSY1FBQWtBQUFDMEZ4QUFMUUFBQUFvQkFBQXBBQUFBWlc1MGFYUjVJRzV2ZENCbWIzVnVaSEJsY20xcGMzTnBiMjRnWkdWdWFXVmtZMjl1Ym1WamRHbHZiaUJ5WldaMWMyVmtZMjl1Ym1WamRHbHZiaUJ5WlhObGRHaHZjM1FnZFc1eVpXRmphR0ZpYkdWdVpYUjNiM0pySUhWdWNtVmhZMmhoWW14bFkyOXVibVZqZEdsdmJpQmhZbTl5ZEdWa2JtOTBJR052Ym01bFkzUmxaR0ZrWkhKbGMzTWdhVzRnZFhObFlXUmtjbVZ6Y3lCdWIzUWdZWFpoYVd4aFlteGxibVYwZDI5eWF5QmtiM2R1WW5KdmEyVnVJSEJwY0dWbGJuUnBkSGtnWVd4eVpXRmtlU0JsZUdsemRITnZjR1Z5WVhScGIyNGdkMjkxYkdRZ1lteHZZMnR1YjNRZ1lTQmthWEpsWTNSdmNubHBjeUJoSUdScGNtVmpkRzl5ZVdScGNtVmpkRzl5ZVNCdWIzUWdaVzF3ZEhseVpXRmtMVzl1YkhrZ1ptbHNaWE41YzNSbGJTQnZjaUJ6ZEc5eVlXZGxJRzFsWkdsMWJXWnBiR1Z6ZVhOMFpXMGdiRzl2Y0NCdmNpQnBibVJwY21WamRHbHZiaUJzYVcxcGRDQW9aUzVuTGlCemVXMXNhVzVySUd4dmIzQXBjM1JoYkdVZ2JtVjBkMjl5YXlCbWFXeGxJR2hoYm1Sc1pXbHVkbUZzYVdRZ2FXNXdkWFFnY0dGeVlXMWxkR1Z5YVc1MllXeHBaQ0JrWVhSaGRHbHRaV1FnYjNWMGQzSnBkR1VnZW1WeWIyNXZJSE4wYjNKaFoyVWdjM0JoWTJWelpXVnJJRzl1SUhWdWMyVmxhMkZpYkdVZ1ptbHNaV1pwYkdWemVYTjBaVzBnY1hWdmRHRWdaWGhqWldWa1pXUm1hV3hsSUhSdmJ5QnNZWEpuWlhKbGMyOTFjbU5sSUdKMWMzbGxlR1ZqZFhSaFlteGxJR1pwYkdVZ1luVnplV1JsWVdSc2IyTnJZM0p2YzNNdFpHVjJhV05sSUd4cGJtc2diM0lnY21WdVlXMWxkRzl2SUcxaGJua2diR2x1YTNOcGJuWmhiR2xrSUdacGJHVnVZVzFsWVhKbmRXMWxiblFnYkdsemRDQjBiMjhnYkc5dVoyOXdaWEpoZEdsdmJpQnBiblJsY25KMWNIUmxaSFZ1YzNWd2NHOXlkR1ZrZFc1bGVIQmxZM1JsWkNCbGJtUWdiMllnWm1sc1pXOTFkQ0J2WmlCdFpXMXZjbmx2ZEdobGNpQmxjbkp2Y25WdVkyRjBaV2R2Y21sNlpXUWdaWEp5YjNJZ0tHOXpJR1Z5Y205eUlDa0FBQUFCQUFBQUFBQUFBUEVhRUFBTEFBQUEvQm9RQUFFQUFBQnNhV0p5WVhKNUwzTjBaQzl6Y21NdmFXOHZjM1JrYVc4dWNuTUFHQnNRQUJzQUFBQXRBd0FBRkFBQUFHWmhhV3hsWkNCd2NtbHVkR2x1WnlCMGJ5QTZJQUFBQUVRYkVBQVRBQUFBVnhzUUFBSUFBQUFZR3hBQUd3QUFBRjRFQUFBSkFBQUFjM1JrYjNWMGJHbGljbUZ5ZVM5emRHUXZjM0pqTDJsdkwyMXZaQzV5YzJFZ1ptOXliV0YwZEdsdVp5QjBjbUZwZENCcGJYQnNaVzFsYm5SaGRHbHZiaUJ5WlhSMWNtNWxaQ0JoYmlCbGNuSnZjaUIzYUdWdUlIUm9aU0IxYm1SbGNteDVhVzVuSUhOMGNtVmhiU0JrYVdRZ2JtOTBBQUFBbXhzUUFGWUFBQUNDR3hBQUdRQUFBQ3dIQUFBVkFBQUFZMkZ1Ym05MElISmxZM1Z5YzJsMlpXeDVJR0ZqY1hWcGNtVWdiWFYwWlhnTUhCQUFJQUFBQUd4cFluSmhjbmt2YzNSa0wzTnlZeTl6ZVhNdmMzbHVZeTl0ZFhSbGVDOXViMTkwYUhKbFlXUnpMbkp6TkJ3UUFDd0FBQUFVQUFBQUNRQUFBR3hwWW5KaGNua3ZjM1JrTDNOeVl5OXplVzVqTDI5dVkyVXVjbk53SEJBQUhBQUFBTmtBQUFBVUFBQUFjQndRQUJ3QUFBRFpBQUFBTVFBQUFHeHZZMnNnWTI5MWJuUWdiM1psY21ac2IzY2dhVzRnY21WbGJuUnlZVzUwSUcxMWRHVjRiR2xpY21GeWVTOXpkR1F2YzNKakwzTjVibU12Y21WbGJuUnlZVzUwWDJ4dlkyc3VjblBTSEJBQUpnQUFBQ0lCQUFBdEFBQUFiV1Z0YjNKNUlHRnNiRzlqWVhScGIyNGdiMllnSUdKNWRHVnpJR1poYVd4bFpBQUFDQjBRQUJVQUFBQWRIUkFBRFFBQUFHeHBZbkpoY25rdmMzUmtMM055WXk5aGJHeHZZeTV5Y3p3ZEVBQVlBQUFBWkFFQUFBa0FBQUJNQUFBQURBQUFBQVFBQUFCVEFBQUFBQUFBQUFnQUFBQUVBQUFBVkFBQUFBQUFBQUFJQUFBQUJBQUFBRlVBQUFCV0FBQUFWd0FBQUZnQUFBQlpBQUFBRUFBQUFBUUFBQUJhQUFBQVd3QUFBRndBQUFCZEFBQUFiM0JsY21GMGFXOXVJSE4xWTJObGMzTm1kV3h2Ym1VdGRHbHRaU0JwYm1sMGFXRnNhWHBoZEdsdmJpQnRZWGtnYm05MElHSmxJSEJsY21admNtMWxaQ0J5WldOMWNuTnBkbVZzZWRBZEVBQTRBQUFBRUFBQUFCRUFBQUFTQUFBQUVBQUFBQkFBQUFBVEFBQUFFZ0FBQUEwQUFBQU9BQUFBRlFBQUFBd0FBQUFMQUFBQUZRQUFBQlVBQUFBUEFBQUFEZ0FBQUJNQUFBQW1BQUFBT0FBQUFCa0FBQUFYQUFBQURBQUFBQWtBQUFBS0FBQUFFQUFBQUJjQUFBQVpBQUFBRGdBQUFBMEFBQUFVQUFBQUNBQUFBQnNBQUFBT0FBQUFFQUFBQUJZQUFBQVZBQUFBQ3dBQUFCWUFBQUFOQUFBQUN3QUFBQk1BQUFBRUdCQUFGQmdRQUNVWUVBQTNHQkFBUnhnUUFGY1lFQUJxR0JBQWZCZ1FBSWtZRUFDWEdCQUFyQmdRQUxnWUVBRERHQkFBMkJnUUFPMFlFQUQ4R0JBQUNoa1FBQjBaRUFCREdSQUFleGtRQUpRWkVBQ3JHUkFBdHhrUUFNQVpFQURLR1JBQTJoa1FBUEVaRUFBS0doQUFHQm9RQUNVYUVBQTVHaEFBUVJvUUFGd2FFQUJxR2hBQWVob1FBSkFhRUFDbEdoQUFzQm9RQU1ZYUVBRFRHaEFBM2hvUUFFaGhjMmdnZEdGaWJHVWdZMkZ3WVdOcGRIa2diM1psY21ac2IzZFlIeEFBSEFBQUFDOXlkWE4wTDJSbGNITXZhR0Z6YUdKeWIzZHVMVEF1TVRRdU5TOXpjbU12Y21GM0wyMXZaQzV5Y3dBQWZCOFFBQ29BQUFCV0FBQUFLQUFBQUVWeWNtOXlUR0Y1YjNWMFJYSnliM0plQUFBQURBQUFBQVFBQUFCZkFBQUFZQUFBQUdFQUFBQmpZWEJoWTJsMGVTQnZkbVZ5Wm14dmR3QUFBT0FmRUFBUkFBQUFiR2xpY21GeWVTOWhiR3h2WXk5emNtTXZjbUYzWDNabFl5NXljL3dmRUFBY0FBQUFHUUFBQUFVQVFiREF3QUFMaFFFQkFBQUFZZ0FBQUdFZ1ptOXliV0YwZEdsdVp5QjBjbUZwZENCcGJYQnNaVzFsYm5SaGRHbHZiaUJ5WlhSMWNtNWxaQ0JoYmlCbGNuSnZjaUIzYUdWdUlIUm9aU0IxYm1SbGNteDVhVzVuSUhOMGNtVmhiU0JrYVdRZ2JtOTBiR2xpY21GeWVTOWhiR3h2WXk5emNtTXZabTEwTG5KekFBQ09JQkFBR0FBQUFIOENBQUFPQUVIQXdjQUFDN0lmQVFBQUFHTUFBQUJqWVd4c1pXUWdZRkpsYzNWc2REbzZkVzUzY21Gd0tDbGdJRzl1SUdGdUlHQkZjbkpnSUhaaGJIVmxiR2xpY21GeWVTOWhiR3h2WXk5emNtTXZjM2x1WXk1eWMvTWdFQUFaQUFBQWJ3RUFBRElBQUFBcElITm9iM1ZzWkNCaVpTQThJR3hsYmlBb2FYTWdLV2x1YzJWeWRHbHZiaUJwYm1SbGVDQW9hWE1nS1NCemFHOTFiR1FnWW1VZ1BEMGdiR1Z1SUNocGN5QUFBRE1oRUFBVUFBQUFSeUVRQUJjQUFBQXlJUkFBQVFBQUFISmxiVzkyWVd3Z2FXNWtaWGdnS0dseklBQUFlQ0VRQUJJQUFBQWNJUkFBRmdBQUFESWhFQUFCQUFBQVpuSnZiVjl6ZEhKZmNtRmthWGhmYVc1ME9pQnRkWE4wSUd4cFpTQnBiaUIwYUdVZ2NtRnVaMlVnWUZzeUxDQXpObDFnSUMwZ1ptOTFibVFncENFUUFEd0FBQUFwTGk0d01USXpORFUyTnpnNVlXSmpaR1ZtUW05eWNtOTNUWFYwUlhKeWIzSmhiSEpsWVdSNUlHSnZjbkp2ZDJWa09pQUFDU0lRQUJJQUFBQUJBQUFBQUFBQUFGdGpZV3hzWldRZ1lFOXdkR2x2YmpvNmRXNTNjbUZ3S0NsZ0lHOXVJR0VnWUU1dmJtVmdJSFpoYkhWbGFXNWtaWGdnYjNWMElHOW1JR0p2ZFc1a2N6b2dkR2hsSUd4bGJpQnBjeUFnWW5WMElIUm9aU0JwYm1SbGVDQnBjeUFBQUZnaUVBQWdBQUFBZUNJUUFCSUFBQUE5UFNFOWJXRjBZMmhsYzJGemMyVnlkR2x2YmlCZ2JHVm1kQ0FnY21sbmFIUmdJR1poYVd4bFpBb2dJR3hsWm5RNklBb2djbWxuYUhRNklBQ25JaEFBRUFBQUFMY2lFQUFYQUFBQXppSVFBQWtBQUFBZ2NtbG5hSFJnSUdaaGFXeGxaRG9nQ2lBZ2JHVm1kRG9nQUFBQXB5SVFBQkFBQUFEd0loQUFFQUFBQUFBakVBQUpBQUFBemlJUUFBa0FBQUE2SUFBQUFRQUFBQUFBQUFBc0l4QUFBZ0FBQUFBQUFBQU1BQUFBQkFBQUFHb0FBQUJyQUFBQWJBQUFBQ0FnSUNBZ2V5QXNJQ0I3Q2l3S2ZTQjlLQ2dLTEFwZGJHbGljbUZ5ZVM5amIzSmxMM055WXk5bWJYUXZiblZ0TG5KekFBQnZJeEFBR3dBQUFHa0FBQUFYQUFBQU1IZ3dNREF4TURJd016QTBNRFV3TmpBM01EZ3dPVEV3TVRFeE1qRXpNVFF4TlRFMk1UY3hPREU1TWpBeU1USXlNak15TkRJMU1qWXlOekk0TWprek1ETXhNekl6TXpNME16VXpOak0zTXpnek9UUXdOREUwTWpRek5EUTBOVFEyTkRjME9EUTVOVEExTVRVeU5UTTFORFUxTlRZMU56VTROVGsyTURZeE5qSTJNelkwTmpVMk5qWTNOamcyT1Rjd056RTNNamN6TnpRM05UYzJOemMzT0RjNU9EQTRNVGd5T0RNNE5EZzFPRFk0TnpnNE9EazVNRGt4T1RJNU16azBPVFU1TmprM09UZzVPV3hwWW5KaGNua3ZZMjl5WlM5emNtTXZabTEwTDIxdlpDNXljMlpoYkhObGRISjFaUUFBWmlRUUFCc0FBQUNOQ1FBQUpnQUFBR1lrRUFBYkFBQUFsZ2tBQUJvQUFBQnNhV0p5WVhKNUwyTnZjbVV2YzNKakwzTnNhV05sTDIxbGJXTm9jaTV5YzZ3a0VBQWdBQUFBZ3dBQUFCNEFBQUNzSkJBQUlBQUFBSjhBQUFBSkFBQUFjbUZ1WjJVZ2MzUmhjblFnYVc1a1pYZ2dJRzkxZENCdlppQnlZVzVuWlNCbWIzSWdjMnhwWTJVZ2IyWWdiR1Z1WjNSb0lPd2tFQUFTQUFBQS9pUVFBQ0lBQUFCeVlXNW5aU0JsYm1RZ2FXNWtaWGdnTUNVUUFCQUFBQUQrSkJBQUlnQUFBSE5zYVdObElHbHVaR1Y0SUhOMFlYSjBjeUJoZENBZ1luVjBJR1Z1WkhNZ1lYUWdBRkFsRUFBV0FBQUFaaVVRQUEwQUFBQmJMaTR1WFdKbFoybHVJRHc5SUdWdVpDQW9JRHc5SUNrZ2QyaGxiaUJ6YkdsamFXNW5JR0JnaVNVUUFBNEFBQUNYSlJBQUJBQUFBSnNsRUFBUUFBQUFxeVVRQUFFQUFBQmllWFJsSUdsdVpHVjRJQ0JwY3lCdWIzUWdZU0JqYUdGeUlHSnZkVzVrWVhKNU95QnBkQ0JwY3lCcGJuTnBaR1VnSUNoaWVYUmxjeUFwSUc5bUlHQUF6Q1VRQUFzQUFBRFhKUkFBSmdBQUFQMGxFQUFJQUFBQUJTWVFBQVlBQUFDckpSQUFBUUFBQUNCcGN5QnZkWFFnYjJZZ1ltOTFibVJ6SUc5bUlHQUFBTXdsRUFBTEFBQUFOQ1lRQUJZQUFBQ3JKUkFBQVFBQUFHeHBZbkpoY25rdlkyOXlaUzl6Y21NdmMzUnlMMjF2WkM1eWN3QmtKaEFBR3dBQUFBVUJBQUFzQUFBQWJHbGljbUZ5ZVM5amIzSmxMM055WXk5MWJtbGpiMlJsTDNCeWFXNTBZV0pzWlM1eWN3QUFBSkFtRUFBbEFBQUFHZ0FBQURZQUFBQ1FKaEFBSlFBQUFBb0FBQUFyQUFBQUFBWUJBUU1CQkFJRkJ3Y0NDQWdKQWdvRkN3SU9CQkFCRVFJU0JSTVJGQUVWQWhjQ0dRMGNCUjBJSHdFa0FXb0Vhd0t2QTdFQ3ZBTFBBdEVDMUF6VkNkWUMxd0xhQWVBRjRRTG5CT2dDN2lEd0JQZ0MrZ1A3QVF3bk96NU9UNCtlbnA5N2k1T1dvcks2aHJFR0J3azJQVDVXODlEUkJCUVlOamRXVjMrcXJxKzlOZUFTaDRtT25nUU5EaEVTS1RFME9rVkdTVXBPVDJSbFhMYTNHeHdIQ0FvTEZCYzJPVHFvcWRqWkNUZVFrYWdIQ2pzK1ptbVBraEZ2WDcvdTcxcGk5UHovVTFTYW15NHZKeWhWbmFDaG82U25xSzI2dk1RR0N3d1ZIVG8vUlZHbXA4ek5vQWNaR2lJbFBqL243Ty8veGNZRUlDTWxKaWd6T0RwSVNreFFVMVZXV0ZwY1htQmpaV1pyYzNoOWY0cWtxcSt3d05DdXIyNXZ2cE5lSW5zRkF3UXRBMllEQVM4dWdJSWRBekVQSEFRa0NSNEZLd1ZFQkE0cWdLb0dKQVFrQkNnSU5BdE9RNEUzQ1JZS0NCZzdSVGtEWXdnSk1CWUZJUU1iQlFGQU9BUkxCUzhFQ2djSkIwQWdKd1FNQ1RZRE9nVWFCd1FNQjFCSk56TU5Nd2N1Q0FxQkpsSkxLd2dxRmhvbUhCUVhDVTRFSkFsRURSa0hDZ1pJQ0NjSmRRdENQaW9HT3dVS0JsRUdBUVVRQXdXQWkySWVTQWdLZ0taZUlrVUxDZ1lORXpvR0NqWXNCQmVBdVR4a1V3eElDUXBHUlJ0SUNGTU5TUWNLZ1BaR0NoMERSMGszQXc0SUNnWTVCd3FCTmhrSE93TWNWZ0VQTWcyRG0yWjFDNERFaWt4akRZUXdFQmFQcW9KSG9ibUNPUWNxQkZ3R0pncEdDaWdGRTRLd1cyVkxCRGtIRVVBRkN3SU9sL2dJaE5ZcUNhTG5nVE1QQVIwR0RnUUlnWXlKQkdzRkRRTUpCeENTWUVjSmREeUE5Z3B6Q0hBVlJub1VEQlFNVndrWmdJZUJSd09GUWc4VmhGQWZCZ2FBMVNzRlBpRUJjQzBER2dRQ2dVQWZFVG9GQVlIUUtvTG1nUGNwVEFRS0JBS0RFVVJNUFlEQ1BBWUJCRlVGR3pRQ2dRNHNCR1FNVmdxQXJqZ2REU3dFQ1FjQ0RnYUFtb1BZQkJFRERRTjNCRjhHREFRQkR3d0VPQWdLQmlnSUlrNkJWQXdkQXdrSE5nZ09CQWtIQ1FlQXl5VUtoQVlBQVFNRkJRWUdBZ2NHQ0FjSkVRb2NDeGtNR2cwUURnd1BCQkFERWhJVENSWUJGd1FZQVJrREdnY2JBUndDSHhZZ0F5c0RMUXN1QVRBRU1RSXlBYWNDcVFLcUJLc0krZ0w3QmYwQy9nUC9DYTE0ZVl1Tm9qQlhXSXVNa0J6ZERnOUxUUHY4TGk4L1hGMWY0b1NOanBHU3FiRzZ1OFhHeWNyZTVPWC9BQVFSRWlreE5EYzZPejFKU2wyRWpwS3BzYlM2dThiS3pzL2s1UUFFRFE0UkVpa3hORG83UlVaSlNsNWtaWVNSbTUzSnpzOE5FU2s2TzBWSlYxdGNYbDlrWlkyUnFiUzZ1OFhKMytUbDhBMFJSVWxrWllDRXNyeSt2OVhYOFBHRGhZdWtwcjYveGNmUDJ0dEltTDNOeHM3UFNVNVBWMWxlWDRtT2o3RzJ0Ny9CeHNmWEVSWVhXMXoyOS83L2dHMXgzdDhPSDI1dkhCMWZmWDZ1cjMrN3ZCWVhIaDlHUjA1UFdGcGNYbjUvdGNYVTFkenc4ZlZ5YzQ5MGRaWW1MaStucjdlL3g4L1gzNW9BUUplWU1JOGYwdFRPLzA1UFdsc0hDQThRSnkvdTcyNXZOejAvUWtXUWtWTm5kY2pKME5IWTJlZisvd0FnWHlLQzN3U0NSQWdiQkFZUmdhd09nS3NGSHdtQkd3TVpDQUVFTHdRMEJBY0RBUWNHQnhFS1VBOFNCMVVIQXdRY0Nna0RDQU1IQXdJREF3TU1CQVVEQ3dZQkRoVUZUZ2NiQjFjSEFnWVhERkFFUXdNdEF3RUVFUVlQRERvRUhTVmZJRzBFYWlXQXlBV0NzQU1hQm9MOUExa0hGZ2tZQ1JRTUZBeHFCZ29HR2daWkJ5c0ZSZ29zQkF3RUFRTXhDeXdFR2dZTEE0Q3NCZ29HTHpGTkE0Q2tDRHdERHdNOEJ6Z0lLd1dDL3hFWUNDOFJMUU1oRHlFUGdJd0VncGNaQ3hXSWxBVXZCVHNIQWc0WUNZQytJblFNZ05ZYWdSQUZnTjhMOHA0RE53bUJYQlNBdUFpQXl3VUtHRHNEQ2dZNENFWUlEQVowQ3g0RFdnUlpDWUNER0J3S0ZnbE1CSUNLQnF1a0RCY0VNYUVFZ2RvbUJ3d0ZCWUNtRUlIMUJ3RWdLZ1pNQklDTkJJQytBeHNERHcxc2FXSnlZWEo1TDJOdmNtVXZjM0pqTDNWdWFXTnZaR1V2ZFc1cFkyOWtaVjlrWVhSaExuSnpBRk1zRUFBb0FBQUFVQUFBQUNnQUFBQlRMQkFBS0FBQUFGd0FBQUFXQUFBQWJHbGljbUZ5ZVM5amIzSmxMM055WXk5bGMyTmhjR1V1Y25NQUFKd3NFQUFhQUFBQVRRQUFBQVVBQUFCc2FXSnlZWEo1TDJOdmNtVXZjM0pqTDI1MWJTOXRiMlF1Y25NQXlDd1FBQnNBQUFBQ0JnQUFBUUFBQUdGMGRHVnRjSFFnZEc4Z1pHbDJhV1JsSUdKNUlIcGxjbThBQUFEMExCQUFHUUFBQUFBREFBQ0RCQ0FBa1FWZ0FGMFRvQUFTRnlBZkRDQmdIKzhzb0NzcU1DQXNiNmJnTEFLb1lDMGUrMkF1QVA0Z05wNy9ZRGI5QWVFMkFRb2hOeVFONFRlckRtRTVMeGloT1RBY1lVanpIcUZNUURSaFVQQnFvVkZQYnlGU25ieWhVZ0RQWVZObDBhRlRBTm9oVkFEZzRWV3U0bUZYN09RaFdkRG9vVmtnQU81WjhBRi9XZ0J3QUFjQUxRRUJBUUlCQWdFQlNBc3dGUkFCWlFjQ0JnSUNBUVFqQVI0Yld3czZDUWtCR0FRQkNRRURBUVVyQXp3SUtoZ0JJRGNCQVFFRUNBUUJBd2NLQWgwQk9nRUJBUUlFQ0FFSkFRb0NHZ0VDQWprQkJBSUVBZ0lEQXdFZUFnTUJDd0k1QVFRRkFRSUVBUlFDRmdZQkFUb0JBUUlCQkFnQkJ3TUtBaDRCT3dFQkFRd0JDUUVvQVFNQk53RUJBd1VEQVFRSEFnc0NIUUU2QVFJQkFnRURBUVVDQndJTEFod0NPUUlCQVFJRUNBRUpBUW9DSFFGSUFRUUJBZ01CQVFnQlVRRUNCd3dJWWdFQ0NRc0hTUUliQVFFQkFRRTNEZ0VGQVFJRkN3RWtDUUZtQkFFR0FRSUNBaGtDQkFNUUJBMEJBZ0lHQVE4QkFBTUFBeDBDSGdJZUFrQUNBUWNJQVFJTENRRXRBd0VCZFFJaUFYWURCQUlKQVFZRDJ3SUNBVG9CQVFjQkFRRUJBZ2dHQ2dJQk1COHhCREFIQVFFRkFTZ0pEQUlnQkFJQ0FRTTRBUUVDQXdFQkF6b0lBZ0tZQXdFTkFRY0VBUVlCQXdMR1FBQUJ3eUVBQTQwQllDQUFCbWtDQUFRQkNpQUNVQUlBQVFNQkJBRVpBZ1VCbHdJYUVnMEJKZ2daQ3k0RE1BRUNCQUlDSndGREJnSUNBZ0lNQVFnQkx3RXpBUUVEQWdJRkFnRUJLZ0lJQWU0QkFnRUVBUUFCQUJBUUVBQUNBQUhpQVpVRkFBTUJBZ1VFS0FNRUFhVUNBQVFBQWxBRFJnc3hCSHNCTmc4cEFRSUNDZ014QkFJQ0J3RTlBeVFGQVFnK0FRd0NOQWtLQkFJQlh3TUNBUUVDQmdFQ0FaMEJBd2dWQWprQ0FRRUJBUllCRGdjREJjTUlBZ01CQVJjQlVRRUNCZ0VCQWdFQkFnRUM2d0VDQkFZQ0FRSWJBbFVJQWdFQkFtb0JBUUVDQmdFQlpRTUNCQUVGQUFrQkF2VUJDZ0lCQVFRQmtBUUNBZ1FCSUFvb0JnSUVDQUVKQmdJRExnMEJBZ0FIQVFZQkFWSVdBZ2NCQWdFQ2VnWURBUUVDQVFjQkFVZ0NBd0VCQVFBQ0N3STBCUVVCQVFFQUFRWVBBQVU3QndBQlB3UlJBUUFDQUM0Q0Z3QUJBUU1FQlFnSUFnY2VCSlFEQURjRU1nZ0JEZ0VXQlFFUEFBY0JFUUlIQVFJQkJXUUJvQWNBQVQwRUFBUUFCMjBIQUdDQThBQkIvK0RBQUFzS2dBQUFBQUFBQUFBQUNRQkJtT0hBQUFzQkRRQkJyT0hBQUFzQkRnQkJsdUxBQUFzQkFnQkJxT0xBQUFzQkVRQkI0T0xBQUFzQkZBQkJ6dVBBQUFzQkFnQkI0T1BBQUFzSkh3QUFBQUFBQUFBREFHOEpjSEp2WkhWalpYSnpBZ2hzWVc1bmRXRm5aUUVFVW5WemRBQU1jSEp2WTJWemMyVmtMV0o1QXdWeWRYTjBZeDB4TGpneExqQWdLR1ZsWWprd1kyUmhNU0F5TURJMExUQTVMVEEwS1FaM1lXeHlkWE1HTUM0eU1DNHpESGRoYzIwdFltbHVaR2RsYmdZd0xqSXVPRGtBTEE5MFlYSm5aWFJmWm1WaGRIVnlaWE1DS3c5dGRYUmhZbXhsTFdkc2IySmhiSE1yQ0hOcFoyNHRaWGgwIixzZWxmLmxvY2F0aW9uKSksZz1nQSgpLCgic3RyaW5nIj09dHlwZW9mIEl8fCJmdW5jdGlvbiI9PXR5cGVvZiBSZXF1ZXN0JiZJIGluc3RhbmNlb2YgUmVxdWVzdHx8ImZ1bmN0aW9uIj09dHlwZW9mIFVSTCYmSSBpbnN0YW5jZW9mIFVSTCkmJihJPWZldGNoKEkpKSxBLnQwPUFBLEEubmV4dD05LEk7Y2FzZSA5OnJldHVybiBBLnQxPUEuc2VudCxBLnQyPWcsQS5uZXh0PTEzLCgwLEEudDApKEEudDEsQS50Mik7Y2FzZSAxMzpyZXR1cm4gQj1BLnNlbnQsUT1CLmluc3RhbmNlLEM9Qi5tb2R1bGUsQS5hYnJ1cHQoInJldHVybiIsQkEoUSxDKSk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEVBKCl7dmFyIEE9ZnVuY3Rpb24oKXt9LEk9ZnVuY3Rpb24oKXt9O3JldHVybntyZWFkeTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZyxCKXtBPWcsST1CfSkpLHJlc29sdmU6QSxyZWplY3Q6SX19ZnVuY3Rpb24gaUEoKXt2YXIgQT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06NTAwLEk9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihnKXt2YXIgQj1zZXRUaW1lb3V0KGcsQSk7bnVsbD09SXx8SShCKX0pKX1mdW5jdGlvbiBEQSgpe3ZhciBBPTAsST0xZTgsZz0wLEI9MCxRPTAsQz0xLS45LEU9MDtyZXR1cm4gZnVuY3Rpb24oaSxEKXtyZXR1cm4gaTxJP0k9aTppPmcmJihnPWkpLHZvaWQgMD09PUQmJihEPSsrRSksQj1wYXJzZUZsb2F0KCgoQSs9aSkvRCkudG9GaXhlZCgyKSkse3ZhbHVlOmksbWluOkksbWF4OmcsYXZnOkIsc2F2ZzpRPS45KlEraSpDfX19dmFyIG9BPWZ1bmN0aW9uKEEpe3JldHVybiBBW0EuQ29udHJvbD0wXT0iQ29udHJvbCIsQVtBLkdhbWU9MV09IkdhbWUiLEFbQS5NZWRpYT0yXT0iTWVkaWEiLEFbQS5TdGF0aWM9M109IlN0YXRpYyIsQVtBLlN0YXRzPTI1NV09IlN0YXRzIixBW0EuU2VpPTI1NF09IlNlaSIsQX0ob0F8fHt9KSx3QT1mdW5jdGlvbihBKXtyZXR1cm4gQVtBLk1lZGlhRGF0YT0wXT0iTWVkaWFEYXRhIixBW0EuU3RhcnQ9MV09IlN0YXJ0IixBW0EuU3RvcD0yXT0iU3RvcCIsQVtBLkdhbWVDb250cm9sPTNdPSJHYW1lQ29udHJvbCIsQVtBLlN0YXRzPTRdPSJTdGF0cyIsQVtBLlNlaT01XT0iU2VpIixBW0EuV2VidHNSZWFkeT02XT0iV2VidHNSZWFkeSIsQVtBLkZpcnN0UGFja2V0PTddPSJGaXJzdFBhY2tldCIsQVtBLlRlc3Q9OF09IlRlc3QiLEFbQS5FbmFibGVMb2c9OV09IkVuYWJsZUxvZyIsQVtBLkVuYWJsZVBrdExvc3Q9MTBdPSJFbmFibGVQa3RMb3N0IixBW0EuTWVkaWFXcml0ZXI9MTFdPSJNZWRpYVdyaXRlciIsQVtBLlJvdGF0aW9uQ2hhbmdlPTEyXT0iUm90YXRpb25DaGFuZ2UiLEFbQS5EZWNvZGVySW5pdGlhbGl6ZWQ9MTNdPSJEZWNvZGVySW5pdGlhbGl6ZWQiLEFbQS5GcmFtZVNpemVDaGFuZ2U9MTRdPSJGcmFtZVNpemVDaGFuZ2UiLEFbQS5GaXJzdEZyYW1lPTE1XT0iRmlyc3RGcmFtZSIsQVtBLlZpZGVvRnJhbWU9MTZdPSJWaWRlb0ZyYW1lIixBW0EuUGF1c2VWaWRlbz0xN109IlBhdXNlVmlkZW8iLEFbQS5SZWNvbm5lY3RGYWlsPTE4XT0iUmVjb25uZWN0RmFpbCIsQVtBLk9ubGluZT0xOV09Ik9ubGluZSIsQVtBLkRpc2Nvbm5lY3RlZD0yMF09IkRpc2Nvbm5lY3RlZCIsQVtBLlJlY29ubmVjdGVkPTIxXT0iUmVjb25uZWN0ZWQiLEF9KHdBfHx7fSksR0E9ZnVuY3Rpb24oQSl7cmV0dXJuIEFbQS5BQUM9MF09IkFBQyIsQVtBLk9QVVM9MV09Ik9QVVMiLEFbQS5IMjY0PTJdPSJIMjY0IixBW0EuSDI2NT0zXT0iSDI2NSIsQX0oR0F8fHt9KSxhQT1mdW5jdGlvbihBKXtyZXR1cm4gQVtBLlBMST0wXT0iUExJIixBW0EuUkVTRVQ9MV09IlJFU0VUIixBfShhQXx8e30pLGhBPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKGZ1bmN0aW9uIEEoKXtRKHRoaXMsQSksdGhpcy5tYXhTaXplPTB9KSxbe2tleToiaW5pdCIsdmFsdWU6KEk9ZyhOKCkubWFyaygoZnVuY3Rpb24gQSgpe3ZhciBJLGcsQixRLEM9dGhpcztyZXR1cm4gTigpLndyYXAoKGZ1bmN0aW9uKEEpe2Zvcig7Oylzd2l0Y2goQS5wcmV2PUEubmV4dCl7Y2FzZSAwOnJldHVybiBBLm5leHQ9MixRQShIKCkpO2Nhc2UgMjpyZXR1cm4gST1BLnNlbnQsdGhpcy53YXNtPUksZz1FQSgpLEI9Zy5yZWFkeSxRPWcucmVzb2x2ZSx6KChmdW5jdGlvbihBKXtDLnNoYXJlZFU4cz1BLEMubWF4U2l6ZT1BLmxlbmd0aCxuKCJ3YXNtIGluaXRlZCBtYXhTaXplPSIsQy5tYXhTaXplKSxRKCl9KSksQS5hYnJ1cHQoInJldHVybiIsQik7Y2FzZSA3OmNhc2UiZW5kIjpyZXR1cm4gQS5zdG9wKCl9fSksQSx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToic2VuZFBsaSIsdmFsdWU6ZnVuY3Rpb24oQSl7dGhpcy5zZW5kRGF0YShhQS5QTEksbmV3IFVpbnQ4QXJyYXkoW0FdKSl9fSx7a2V5OiJzZW5kRGF0YSIsdmFsdWU6ZnVuY3Rpb24oQSxJKXtuKCJzZW5kX3RvX3dhc20iLEEsSSksSSYmMCE9PUkubGVuZ3RoP3RoaXMuc2hhcmVEYXRhKEksKGZ1bmN0aW9uKEkpe0kmJlAoSSxBKX0pKTpQKDAsQSl9fSx7a2V5OiJzaGFyZURhdGEiLHZhbHVlOihBPWcoTigpLm1hcmsoKGZ1bmN0aW9uIEEoSSxnKXt2YXIgQixRPXRoaXM7cmV0dXJuIE4oKS53cmFwKChmdW5jdGlvbihBKXtmb3IoOzspc3dpdGNoKEEucHJldj1BLm5leHQpe2Nhc2UgMDppZihJPXRoaXMuYXBwZW5kVGltZVN0YW1wKEkpLCEoKEI9SS5sZW5ndGgpPnRoaXMubWF4U2l6ZSkpe0EubmV4dD02O2JyZWFrfXJldHVybiBjb25zb2xlLndhcm4oIldBU00g5Y+R6YCB5pWw5o2u6LaF6L+H5pyA5aSn6ZW/5bqm77yMIix0aGlzLm1heFNpemUpLGcoMCksQS5hYnJ1cHQoInJldHVybiIsMCk7Y2FzZSA2OmlmKDAhPT10aGlzLnNoYXJlZFU4cy5ieXRlTGVuZ3RoKXtBLm5leHQ9MTE7YnJlYWt9cmV0dXJuIHooKGZ1bmN0aW9uKEEpe1Euc2hhcmVkVThzPUEsUS5tYXhTaXplPUEubGVuZ3RoLG4oIndhc20gcmVpbml0ZWQgbWF4U2l6ZT0iLFEubWF4U2l6ZSksUS5zaGFyZWRVOHMuc2V0KEkpLGcoQil9KSksQS5hYnJ1cHQoInJldHVybiIsQik7Y2FzZSAxMTp0aGlzLnNoYXJlZFU4cy5zZXQoSSksZyhCKTtjYXNlIDEzOmNhc2UiZW5kIjpyZXR1cm4gQS5zdG9wKCl9fSksQSx0aGlzKX0pKSksZnVuY3Rpb24oSSxnKXtyZXR1cm4gQS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiYXBwZW5kVGltZVN0YW1wIix2YWx1ZTpmdW5jdGlvbihBKXt2YXIgST1uZXcgVWludDhBcnJheShBLmJ5dGVMZW5ndGgrNCk7SS5zZXQoQSk7dmFyIGc9NDI5NDk2NzI5NSZEYXRlLm5vdygpLEI9bmV3IFVpbnQ4QXJyYXkoNCk7cmV0dXJuIG5ldyBEYXRhVmlldyhCLmJ1ZmZlcikuc2V0VWludDMyKDAsZyksSS5zZXQoQixBLmJ5dGVMZW5ndGgpLEl9fSx7a2V5OiJyZWNlaXZlUGFja2V0Iix2YWx1ZTpmdW5jdGlvbihBLEkpe3RoaXMuc2hhcmVEYXRhKEEsKGZ1bmN0aW9uKEEpe0EmJmZ1bmN0aW9uKEEsSSl7TC5vbl9yZWNlaXZlX3BhY2tldChBLEkpfShBLCJzdHJlYW0iPT09SSl9KSl9fSx7a2V5OiJnZXRTaGFyZWREYXRhRnJvbVdhc20iLHZhbHVlOmZ1bmN0aW9uKEEsSSl7dmFyIGc9dGhpczswPT09dGhpcy5zaGFyZWRVOHMuYnl0ZUxlbmd0aD96KChmdW5jdGlvbihCKXtuKCLjgJBXQVNNIDLjgJFyZWluaXQgcmVjZWl2ZVNoYXJlZFU4cyIpLGcuc2hhcmVkVThzPUIsSShCLnNsaWNlKDAsQSkpfSkpOkkodGhpcy5zaGFyZWRVOHMuc2xpY2UoMCxBKSl9fSx7a2V5OiJvbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKEEpe3ZhciBJLGcsQj10aGlzO0k9ZnVuY3Rpb24oSSxnKXt2YXIgUT1nLnNwbGl0KCIsIiksQz17bWVzX3R5cGU6cGFyc2VJbnQoUVswXSksc3ViX3R5cGU6cGFyc2VJbnQoUVsxXSksc3RyZWFtX2lkOnBhcnNlSW50KFFbMl0pLGlzX2lmcmFtZToxPT09cGFyc2VJbnQoUVszXSksdGltZXN0YW1wOnBhcnNlSW50KFFbNF0pLHJvdGF0aW9uOnBhcnNlSW50KFFbNV0pfTtCLmdldFNoYXJlZERhdGFGcm9tV2FzbShJLChmdW5jdGlvbihJKXtBKEksQyl9KSl9LGc9ZnVuY3Rpb24oQSxJKXtuKCIiLmNvbmNhdChBKSxJKX0sTC5yZWdpc3RfanNfb25tZXNzYWdlKGwoSSksbChnKSl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe319XSk7dmFyIEEsSX0oKSxOQT1TeW1ib2woIm9uY2UiKSxjQT1mdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbiBBKCl7USh0aGlzLEEpLHRoaXMudXNlUHJldkVtaXQ9ITAsdGhpcy5fbWFwPXt9LHRoaXMuX3ByZXZEYXRhPXt9fSksW3trZXk6Imhhc0V2ZW50Iix2YWx1ZTpmdW5jdGlvbihBKXtyZXR1cm4hIXRoaXMuX21hcFtBXX19LHtrZXk6Im9uIix2YWx1ZTpmdW5jdGlvbihBLEkpe3ZhciBnPXRoaXM7aWYoIm9iamVjdCI9PT10KEEpKXt2YXIgQj1bXTtmb3IodmFyIFEgaW4gQSlCLnB1c2godGhpcy5vbihRLEFbUV0pKTtyZXR1cm4gZnVuY3Rpb24oKXtCLmZvckVhY2goKGZ1bmN0aW9uKEEpe3JldHVybiBBKCl9KSl9fWlmKCFJKXRocm93IG5ldyBFcnJvcigiZm4gaXMgcmVxdWlyZWQiKTtyZXR1cm4gdGhpcy5fY2hlY2tQcmV2KEEsSSk9PT1OQT9mdW5jdGlvbigpe306KHRoaXMuX2dldExpc3QoQSkucHVzaChJKSxmdW5jdGlvbigpe2cuJG9mZihBLEkpfSl9fSx7a2V5OiJlbWl0Iix2YWx1ZTpmdW5jdGlvbihBKXtmb3IodmFyIEk9YXJndW1lbnRzLmxlbmd0aCxnPW5ldyBBcnJheShJPjE/SS0xOjApLEI9MTtCPEk7QisrKWdbQi0xXT1hcmd1bWVudHNbQl07dGhpcy5fcHJldkRhdGFbQV09Zzt2YXIgUT10aGlzLl9tYXBbQV07aWYoIVEpcmV0dXJuITE7Zm9yKHZhciBDPTA7QzxRLmxlbmd0aDtDKyspe1FbQ10uYXBwbHkodm9pZCAwLGcpPT09TkEmJkMtLX1yZXR1cm4hMH19LHtrZXk6IiRvZmYiLHZhbHVlOmZ1bmN0aW9uKEEsSSl7dmFyIGc9dGhpcy5fbWFwW0FdO2lmKCFnKXJldHVybiExO3ZhciBCPWcuaW5kZXhPZihJKTtyZXR1cm4tMSE9PUImJihnLnNwbGljZShCLDEpLCEwKX19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbihBKXtyZXR1cm4hIXRoaXMuX21hcFtBXSYmKGRlbGV0ZSB0aGlzLl9tYXBbQV0sZGVsZXRlIHRoaXMuX3ByZXZEYXRhW0FdLCEwKX19LHtrZXk6IiRvbldhaXQiLHZhbHVlOihBPWcoTigpLm1hcmsoKGZ1bmN0aW9uIEEoSSl7dmFyIGcsQixRO3JldHVybiBOKCkud3JhcCgoZnVuY3Rpb24oQSl7Zm9yKDs7KXN3aXRjaChBLnByZXY9QS5uZXh0KXtjYXNlIDA6cmV0dXJuIGc9RUEoKSxCPWcucmVhZHksUT1nLnJlc29sdmUsdGhpcy4kb25jZShJLChmdW5jdGlvbigpe2Zvcih2YXIgQT1hcmd1bWVudHMubGVuZ3RoLEk9bmV3IEFycmF5KEEpLGc9MDtnPEE7ZysrKUlbZ109YXJndW1lbnRzW2ddO3JldHVybiBRKEkpfSkpLEEuYWJydXB0KCJyZXR1cm4iLEIpO2Nhc2UgMzpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEsdGhpcyl9KSkpLGZ1bmN0aW9uKEkpe3JldHVybiBBLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX21hcD17fSx0aGlzLl9wcmV2RGF0YT17fX19LHtrZXk6Il9jaGVja1ByZXYiLHZhbHVlOmZ1bmN0aW9uKEEsSSl7aWYodGhpcy51c2VQcmV2RW1pdCl7dmFyIGc9dGhpcy5fcHJldkRhdGFbQV07cmV0dXJuIHZvaWQgMCE9PWc/SS5hcHBseSh2b2lkIDAsRihnKSk6bnVsbH19fSx7a2V5OiIkb25jZSIsdmFsdWU6ZnVuY3Rpb24oQSxJKXtyZXR1cm4gdGhpcy5vbihBLHRoaXMuX29uY2VMaXN0ZW5lcihBLEkpKX19LHtrZXk6ImhlYWQiLHZhbHVlOmZ1bmN0aW9uKEEsSSl7dmFyIGc9dGhpcztyZXR1cm4gdGhpcy5fY2hlY2tQcmV2KEEsSSk9PT1OQT9mdW5jdGlvbigpe306KHRoaXMuX2dldExpc3QoQSkudW5zaGlmdChJKSxmdW5jdGlvbigpe2cuJG9mZihBLEkpfSl9fSx7a2V5OiJoZWFkT25jZSIsdmFsdWU6ZnVuY3Rpb24oQSxJKXtyZXR1cm4gdGhpcy5oZWFkKEEsdGhpcy5fb25jZUxpc3RlbmVyKEEsSSkpfX0se2tleToiX2dldExpc3QiLHZhbHVlOmZ1bmN0aW9uKEEpe3ZhciBJPXRoaXMuX21hcFtBXTtyZXR1cm4gSXx8KHRoaXMuX21hcFtBXT1JPVtdKSxJfX0se2tleToiX29uY2VMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oQSxJKXt2YXIgZz10aGlzLEI9ZnVuY3Rpb24oKXtyZXR1cm4gSS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSxnLiRvZmYoQSxCKSxOQX07cmV0dXJuIEJ9fV0pO3ZhciBBfSgpLHNBPW5ldyBjQSxGQT1mdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbiBBKCl7USh0aGlzLEEpLHRoaXMuaW5kZXg9MCx0aGlzLmdhcHM9WzUsNSw1LDUsNSwxMCwxMCwxMCwxMCwxMCwyMCwyMCwzMCw1MCw3MCwxMDBdLHRoaXMubj10aGlzLmdhcHMubGVuZ3RoLHRoaXMubWF4PTEwMCp0aGlzLmdhcHNbdGhpcy5uLTFdfSksW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5kZXg9MH19LHtrZXk6ImdhcCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg+PXRoaXMubi0xP3RoaXMubWF4OjEwMCp0aGlzLmdhcHNbdGhpcy5pbmRleCsrXX19XSl9KCkseUE9ZnVuY3Rpb24oKXtyZXR1cm4gRSgoZnVuY3Rpb24gQShJKXtRKHRoaXMsQSksdGhpcy53YWl0VGltZXI9bnVsbCx0aGlzLnJlY29ubmVjdEdhcD1uZXcgRkEsdGhpcy5wYXJlbnQ9SSxzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm9ubGluZSIsKGZ1bmN0aW9uKCl7Zm9yKHZhciBBPWFyZ3VtZW50cy5sZW5ndGgsST1uZXcgQXJyYXkoQSksZz0wO2c8QTtnKyspSVtnXT1hcmd1bWVudHNbZ107Y29uc29sZS53YXJuKCJvbmxpbmUgY2hhbmdlMiIsSSl9KSl9KSxbe2tleToiaW5pdFJlY29ubmVjdCIsdmFsdWU6KEk9ZyhOKCkubWFyaygoZnVuY3Rpb24gQSgpe3ZhciBJO3JldHVybiBOKCkud3JhcCgoZnVuY3Rpb24oQSl7Zm9yKDs7KXN3aXRjaChBLnByZXY9QS5uZXh0KXtjYXNlIDA6cmV0dXJuIEEucHJldj0wLEEubmV4dD0zLHRoaXMucGFyZW50LnRyYW5zcG9ydC5jbG9zZWQ7Y2FzZSAzOkk9QS5zZW50LGNvbnNvbGUud2FybigiY2xvc2U6IFRoZSBIVFRQLzMgY29ubmVjdGlvbiB0byAiLmNvbmNhdCh0aGlzLnBhcmVudC51cmwsIiBjbG9zZWQgZ3JhY2VmdWxseS4iKSxJKSxBLm5leHQ9MTM7YnJlYWs7Y2FzZSA3OkEucHJldj03LEEudDA9QS5jYXRjaCgwKSxzQS5lbWl0KCJwYXVzZS12aWRlbyIpLGNvbnNvbGUuZXJyb3IoImNsb3NlOiBUaGUgSFRUUC8zIGNvbm5lY3Rpb24gdG8gIi5jb25jYXQodGhpcy5wYXJlbnQudXJsLCIgY2xvc2VkIGR1ZSB0byAiKSxBLnQwKSxzQS5lbWl0KCJzZW5kLXRvLW1haW4iLHt0eXBlOndBLkRpc2Nvbm5lY3RlZH0pLHRoaXMudHJ5Q29ubmVjdCghMCwhMCk7Y2FzZSAxMzp0aGlzLnBhcmVudC5lbmRDb25uZWN0aW9uKCk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEsdGhpcyxbWzAsN11dKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToidHJ5Q29ubmVjdCIsdmFsdWU6KEE9ZyhOKCkubWFyaygoZnVuY3Rpb24gQSgpe3ZhciBJLGc9dGhpcyxCPWFyZ3VtZW50cztyZXR1cm4gTigpLndyYXAoKGZ1bmN0aW9uKEEpe2Zvcig7Oylzd2l0Y2goQS5wcmV2PUEubmV4dCl7Y2FzZSAwOnJldHVybiBJPUIubGVuZ3RoPjEmJnZvaWQgMCE9PUJbMV0mJkJbMV0sKCEoQi5sZW5ndGg+MCYmdm9pZCAwIT09QlswXSl8fEJbMF0pJiZ0aGlzLnJlY29ubmVjdEdhcC5yZXNldCgpLEEubmV4dD01LHRoaXMucGFyZW50LmluaXRUcmFuc3BvcnQoKTtjYXNlIDU6aWYoQS5zZW50KXtBLm5leHQ9MTQ7YnJlYWt9cmV0dXJuIEEubmV4dD0xMCxpQSh0aGlzLnJlY29ubmVjdEdhcC5nYXAsKGZ1bmN0aW9uKEEpe3JldHVybiBnLmRlbGF5VGltZXI9QX0pKTtjYXNlIDEwOnJldHVybiBBLm5leHQ9MTIsdGhpcy50cnlDb25uZWN0KCExLEkpO2Nhc2UgMTI6QS5uZXh0PTE4O2JyZWFrO2Nhc2UgMTQ6cmV0dXJuIEEubmV4dD0xNix0aGlzLnBhcmVudC5vbkNvbm5lY3RlZCgpO2Nhc2UgMTY6dGhpcy5pbml0UmVjb25uZWN0KCksSSYmKHNBLmVtaXQoInNlbmQtdG8tbWFpbiIse3R5cGU6d0EuUmVjb25uZWN0ZWR9KSxzQS5lbWl0KCJyZXNldC13YXNtIiksc0EuZW1pdCgic2VuZC1wbGkiKSx0aGlzLm9uTW9uaXRvckNvbm5lY3Rpb25Ob3JtYWwoKSk7Y2FzZSAxODpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Im9uUmVjZWl2ZVBhY2tldCIsdmFsdWU6ZnVuY3Rpb24oQSl7bnVsbCE9PXRoaXMud2FpdFRpbWVyJiYoQTwxMHx8KGNsZWFyVGltZW91dCh0aGlzLndhaXRUaW1lciksdGhpcy53YWl0VGltZXI9bnVsbCxjb25zb2xlLndhcm4oIumHjei/nuaBouWkjeaUtuWMhSIpKSl9fSx7a2V5OiJvbk1vbml0b3JDb25uZWN0aW9uTm9ybWFsIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMud2FpdFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7c0EuZW1pdCgic2VuZC10by1tYWluIix7dHlwZTp3QS5SZWNvbm5lY3RGYWlsLGRhdGE6e3JlYXNvbjoibm8gcGFja2V0In19KX0pLDJlMyl9fSx7a2V5OiJvbmxpbmVSZWNvbm5lY3QiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpLHRoaXMudHJ5Q29ubmVjdCghMCwhMCl9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy53YWl0VGltZXIpLHRoaXMud2FpdFRpbWVyPXRoaXMuZGVsYXlUaW1lcj1udWxsfX1dKTt2YXIgQSxJfSgpLHRBPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKGZ1bmN0aW9uIEEoKXtRKHRoaXMsQSksdGhpcy51cmw9IiIsdGhpcy5zdHJlYW1Xcml0ZXI9bnVsbCx0aGlzLmRhdGFncmFtV3JpdGVyPW51bGwsdGhpcy5yZWFkeVN0YXRlPTAsdGhpcy5fc29ja2V0UmVzb2x2ZT1udWxsLHRoaXMub25vcGVuPWZ1bmN0aW9uKCl7fSx0aGlzLm9ubWVzc2FnZT1mdW5jdGlvbihBLEkpe30sdGhpcy5vbmNsb3NlPWZ1bmN0aW9uKCl7fX0pLFt7a2V5OiJjbG9zZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiAzPT09dGhpcy5yZWFkeVN0YXRlfX0se2tleToib25NZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihBKXt0aGlzLm9ubWVzc2FnZT1BfX0se2tleToiaW5pdCIsdmFsdWU6KEQ9ZyhOKCkubWFyaygoZnVuY3Rpb24gQShJKXtyZXR1cm4gTigpLndyYXAoKGZ1bmN0aW9uKEEpe2Zvcig7Oylzd2l0Y2goQS5wcmV2PUEubmV4dCl7Y2FzZSAwOnJldHVybiB0aGlzLnVybD1JLHRoaXMucmVjb25uZWN0SGVscGVyPW5ldyB5QSh0aGlzKSxjb25zb2xlLmxvZygiaW5pdCIsSSksQS5uZXh0PTUsdGhpcy5yZWNvbm5lY3RIZWxwZXIudHJ5Q29ubmVjdCgpO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEsdGhpcyl9KSkpLGZ1bmN0aW9uKEEpe3JldHVybiBELmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJpbml0VHJhbnNwb3J0Iix2YWx1ZTooaT1nKE4oKS5tYXJrKChmdW5jdGlvbiBBKCl7dmFyIEksZyxCLFEsQyxFPXRoaXM7cmV0dXJuIE4oKS53cmFwKChmdW5jdGlvbihBKXtmb3IoOzspc3dpdGNoKEEucHJldj1BLm5leHQpe2Nhc2UgMDppZihJPW51bGwsQS5wcmV2PTEsZz1uZXcgV2ViVHJhbnNwb3J0KHRoaXMudXJsKSl7QS5uZXh0PTc7YnJlYWt9cmV0dXJuIEEuYWJydXB0KCJyZXR1cm4iLCExKTtjYXNlIDc6cmV0dXJuIEI9RUEoKSxRPUIucmVhZHksQz1CLnJlc29sdmUsST1zZXRUaW1lb3V0KChmdW5jdGlvbigpe0MoITEpfSksMmUzKSxnLnJlYWR5LnRoZW4oKGZ1bmN0aW9uKCl7RS50cmFuc3BvcnQ9ZyxjbGVhclRpbWVvdXQoSSksQyghMCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KEkpLEMoITEpfSkpLEEuYWJydXB0KCJyZXR1cm4iLFEpO2Nhc2UgMTE6QS5uZXh0PTE3O2JyZWFrO2Nhc2UgMTM6cmV0dXJuIEEucHJldj0xMyxBLnQwPUEuY2F0Y2goMSksY2xlYXJUaW1lb3V0KEkpLEEuYWJydXB0KCJyZXR1cm4iLCExKTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gQS5zdG9wKCl9fSksQSx0aGlzLFtbMSwxM11dKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiaW5pdERhdGFncmFtIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBBPXRoaXMudHJhbnNwb3J0LmRhdGFncmFtcztyZXR1cm4gdGhpcy5kYXRhZ3JhbVdyaXRlcj1BLndyaXRhYmxlLmdldFdyaXRlcigpLEF9fSx7a2V5OiJyZWFkRGF0YWdyYW0iLHZhbHVlOihDPWcoTigpLm1hcmsoKGZ1bmN0aW9uIEEoSSl7dmFyIGcsQixRO3JldHVybiBOKCkud3JhcCgoZnVuY3Rpb24oQSl7Zm9yKDs7KXN3aXRjaChBLnByZXY9QS5uZXh0KXtjYXNlIDA6Zz1JLnJlYWRhYmxlLmdldFJlYWRlcigpO2Nhc2UgMTpyZXR1cm4gQS5uZXh0PTQsZy5yZWFkKCk7Y2FzZSA0OmlmKEI9QS5zZW50LFE9Qi52YWx1ZSwhQi5kb25lKXtBLm5leHQ9OTticmVha31yZXR1cm4gQS5hYnJ1cHQoImJyZWFrIiwxMyk7Y2FzZSA5OnRoaXMucmVjb25uZWN0SGVscGVyLm9uUmVjZWl2ZVBhY2tldChRLmxlbmd0aCksdGhpcy5vbm1lc3NhZ2UoUSwiZGF0YWdyYW0iKSxBLm5leHQ9MTticmVhaztjYXNlIDEzOmNhc2UiZW5kIjpyZXR1cm4gQS5zdG9wKCl9fSksQSx0aGlzKX0pKSksZnVuY3Rpb24oQSl7cmV0dXJuIEMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImluaXRTdHJlYW0iLHZhbHVlOihCPWcoTigpLm1hcmsoKGZ1bmN0aW9uIEEoKXt2YXIgSTtyZXR1cm4gTigpLndyYXAoKGZ1bmN0aW9uKEEpe2Zvcig7Oylzd2l0Y2goQS5wcmV2PUEubmV4dCl7Y2FzZSAwOnJldHVybiBBLm5leHQ9Mix0aGlzLnRyYW5zcG9ydC5jcmVhdGVCaWRpcmVjdGlvbmFsU3RyZWFtKCk7Y2FzZSAyOnJldHVybiBJPUEuc2VudCx0aGlzLnN0cmVhbVdyaXRlcj1JLndyaXRhYmxlLmdldFdyaXRlcigpLEEuYWJydXB0KCJyZXR1cm4iLEkpO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InJlYWRTdHJlYW0iLHZhbHVlOihJPWcoTigpLm1hcmsoKGZ1bmN0aW9uIEEoSSl7dmFyIGcsQixRO3JldHVybiBOKCkud3JhcCgoZnVuY3Rpb24oQSl7Zm9yKDs7KXN3aXRjaChBLnByZXY9QS5uZXh0KXtjYXNlIDA6Zz1JLnJlYWRhYmxlLmdldFJlYWRlcigpO2Nhc2UgMTpyZXR1cm4gQS5uZXh0PTQsZy5yZWFkKCk7Y2FzZSA0OmlmKEI9QS5zZW50LFE9Qi52YWx1ZSwhQi5kb25lKXtBLm5leHQ9OTticmVha31yZXR1cm4gQS5hYnJ1cHQoImJyZWFrIiwxMik7Y2FzZSA5OnRoaXMub25tZXNzYWdlKFEsInN0cmVhbSIpLEEubmV4dD0xO2JyZWFrO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiBBLnN0b3AoKX19KSxBLHRoaXMpfSkpKSxmdW5jdGlvbihBKXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToic2VuZFN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oQSl7aWYoIXRoaXMuY2xvc2VkKXJldHVybiB0aGlzLnN0cmVhbVdyaXRlci53cml0ZShBKX19LHtrZXk6InNlbmREZ20iLHZhbHVlOmZ1bmN0aW9uKEEpe2lmKCF0aGlzLmNsb3NlZClyZXR1cm4gdGhpcy5kYXRhZ3JhbVdyaXRlci53cml0ZShBKX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2xvc2VkfHwodGhpcy5yZWFkeVN0YXRlPTIsY29uc29sZS53YXJuKCJjbG9zZTogY2FsbCBjbG9zZSIpLHRoaXMudHJhbnNwb3J0LmNsb3NlKCksdGhpcy5lbmRDb25uZWN0aW9uKCksdGhpcy5yZWNvbm5lY3RIZWxwZXIuY2xlYXIoKSl9fSx7a2V5OiJlbmRDb25uZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBBO251bGw9PT0oQT10aGlzLm9uY2xvc2UpfHx2b2lkIDA9PT1BfHxBLmNhbGwodGhpcyksdGhpcy50cmFuc3BvcnQ9bnVsbCx0aGlzLnJlYWR5U3RhdGU9M319LHtrZXk6Im9uQ29ubmVjdGVkIix2YWx1ZTooQT1nKE4oKS5tYXJrKChmdW5jdGlvbiBBKCl7dmFyIEksZztyZXR1cm4gTigpLndyYXAoKGZ1bmN0aW9uKEEpe2Zvcig7Oylzd2l0Y2goQS5wcmV2PUEubmV4dCl7Y2FzZSAwOnJldHVybiB0aGlzLnJlYWR5U3RhdGU9MSxBLm5leHQ9Myx0aGlzLmluaXRTdHJlYW0oKTtjYXNlIDM6ST1BLnNlbnQsdGhpcy5yZWFkU3RyZWFtKEkpLGc9dGhpcy5pbml0RGF0YWdyYW0oKSx0aGlzLnJlYWREYXRhZ3JhbShnKSx0aGlzLm9ub3BlbigpO2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIEEuc3RvcCgpfX0pLEEsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSk7dmFyIEEsSSxCLEMsaSxEfSgpO3ZhciBNQT1mdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbiBBKCl7USh0aGlzLEEpLHRoaXMubWF4U2l6ZT0xZTMsdGhpcy5zdXBwb3J0ZWQ9ITEsdGhpcy5zdXBwb3J0ZWQmJih0aGlzLmJ1ZmZlcj1uZXcgU2hhcmVkQXJyYXlCdWZmZXIodGhpcy5tYXhTaXplKSx0aGlzLmFycj1uZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpfSksW3trZXk6InNoYXJlIix2YWx1ZTpmdW5jdGlvbihBKXtyZXR1cm4gdGhpcy5zdXBwb3J0ZWQ/KHRoaXMuYXJyLnNldChBKSx0aGlzLmJ1ZmZlcik6QS5idWZmZXJ9fV0pfSgpLGtBPWZ1bmN0aW9uKEEpe2Z1bmN0aW9uIEkoKXtyZXR1cm4gUSh0aGlzLEkpLEIodGhpcyxJLGFyZ3VtZW50cyl9cmV0dXJuIEcoSSxBKSxFKEkpfShmdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbiBBKEkpe1EodGhpcyxBKSx0aGlzLmVuY29kZXI9bmV3IFRleHRFbmNvZGVyLHRoaXMuZGVjb2Rlcj1uZXcgVGV4dERlY29kZXIsdGhpcy5idWZmZXI9bmV3IE1BLHRoaXMuY2xpZW50PUl9KSxbe2tleToic2VuZE1lZGlhRGF0YSIsdmFsdWU6ZnVuY3Rpb24oQSxJLGcpe3ZhciBCPXRoaXMuYnVmZmVyLnNoYXJlKEEpO3RoaXMuY2xpZW50LnBvc3RNZXNzYWdlKHt0eXBlOndBLk1lZGlhRGF0YSxkYXRhOkIsaXNJRnJhbWU6Zyxpc0F1ZGlvOkl9KX19LHtrZXk6InNlbmQiLHZhbHVlOmZ1bmN0aW9uKEEpe3RoaXMuY2xpZW50LnBvc3RNZXNzYWdlKEEpfX0se2tleToib25NZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihBKXt0aGlzLmNsaWVudC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oSSl7QShJLmRhdGEpfSkpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgQSxJO251bGw9PT0oQT0oST10aGlzLmNsaWVudCkudGVybWluYXRlKXx8dm9pZCAwPT09QXx8QS5jYWxsKEkpfX1dKX0oKSk7ZnVuY3Rpb24gUkEoKXtyZXR1cm4gNjU1MzUmRGF0ZS5ub3coKX1mdW5jdGlvbiBZQShBLEkpe3ZhciBnPVJBKCk7cmV0dXJuIGc8QSYmKGcrPTY1NTM2KSxnLUEtSX12YXIgZUE9ZnVuY3Rpb24oKXtyZXR1cm4gRSgoZnVuY3Rpb24gQSgpe1EodGhpcyxBKSx0aGlzLmxhc3RSVFQ9MCx0aGlzLnZpZGVvPW5ldyBuQSx0aGlzLmF1ZGlvPW5ldyBuQSx0aGlzLmF1ZGlvLmlzQXVkaW89ITB9KSxbe2tleToicGFyc2VNZWRpYVU4cyIsdmFsdWU6ZnVuY3Rpb24oQSl7dmFyIEk9QS5idWZmZXIsZz1uZXcgRGF0YVZpZXcoSSksQj1BLmJ5dGVMZW5ndGgvMjtyZXR1cm57dmlkZW86dGhpcy52aWRlby5wYXJzZVNpbmdsZShnLDAsdGhpcy5sYXN0UlRUKSxhdWRpbzp0aGlzLmF1ZGlvLnBhcnNlU2luZ2xlKGcsQix0aGlzLmxhc3RSVFQpfX19XSl9KCksbkE9ZnVuY3Rpb24oKXtyZXR1cm4gRSgoZnVuY3Rpb24gQSgpe1EodGhpcyxBKSx0aGlzLmlzQXVkaW89ITEsdGhpcy5fc3RhcnRUaW1lPTAsdGhpcy5fY291bnQ9MCx0aGlzLmJpdHJhdGU9REEoKSx0aGlzLmZwcz1EQSgpLHRoaXMubG9zdFBhY2tldFJhdGU9REEoKSx0aGlzLnJ0dD1EQSgpfSksW3trZXk6InBhcnNlU2luZ2xlIix2YWx1ZTpmdW5jdGlvbihBLEksZyl7MD09PXRoaXMuX3N0YXJ0VGltZSYmKHRoaXMuX3N0YXJ0VGltZT1EYXRlLm5vdygpLTFlMyksdGhpcy5fY291bnQrKzt2YXIgQj1mdW5jdGlvbihBLEksZyl7cmV0dXJue2lzQXVkaW86MT09PUEuZ2V0VWludDgoSSkscmVjZWl2ZWRCeXRlczpwYXJzZUludChBLmdldEJpZ1VpbnQ2NChJKz0xKS50b1N0cmluZygpKSxyZWNlaXZlZFBhY2tldHM6QS5nZXRVaW50MzIoSSs9OCkscmVjZWl2ZWRGcmFtZXM6QS5nZXRVaW50MzIoSSs9NCksbG9zdFBhY2tldHM6QS5nZXRVaW50MzIoSSs9NCksYml0cmF0ZTpBLmdldFVpbnQxNihJKz00KSxsb3N0UGFja2V0UmF0ZTpBLmdldFVpbnQxNihJKz0yKS8xMDAsZnBzOkEuZ2V0VWludDgoSSs9MikscmVjZWl2ZWRJRnJhbWVzOkEuZ2V0VWludDMyKEkrPTEpLHN0YWxsQ291bnQxMDBtczpBLmdldFVpbnQzMihJKz00KSxzdGFsbER1cmF0aW9uMTAwbXM6QS5nZXRVaW50MzIoSSs9NCksc3RhbGxDb3VudDUwMG1zOkEuZ2V0VWludDMyKEkrPTQpLHN0YWxsRHVyYXRpb241MDBtczpBLmdldFVpbnQzMihJKz00KSxydHQ6Z319KEEsSSxnKTtyZXR1cm57aXNBdWRpbzpCLmlzQXVkaW8scmVjZWl2ZWRCeXRlczpCLnJlY2VpdmVkQnl0ZXMscmVjZWl2ZWRQYWNrZXRzOkIucmVjZWl2ZWRQYWNrZXRzLHJlY2VpdmVkRnJhbWVzOkIucmVjZWl2ZWRGcmFtZXMscmVjZWl2ZWRJRnJhbWVzOkIucmVjZWl2ZWRJRnJhbWVzLGxvc3RQYWNrZXRzOkIubG9zdFBhY2tldHMsYml0cmF0ZTp0aGlzLmJpdHJhdGUoQi5iaXRyYXRlLHRoaXMuX2NvdW50KSxsb3N0UGFja2V0UmF0ZTp0aGlzLmxvc3RQYWNrZXRSYXRlKEIubG9zdFBhY2tldFJhdGUsdGhpcy5fY291bnQpLHN0YWxsQ291bnQ1MDBtczpCLnN0YWxsQ291bnQ1MDBtcyxzdGFsbENvdW50MTAwbXM6Qi5zdGFsbENvdW50MTAwbXMsc3RhbGxEdXJhdGlvbjUwMG1zOkIuc3RhbGxEdXJhdGlvbjUwMG1zLHN0YWxsRHVyYXRpb24xMDBtczpCLnN0YWxsRHVyYXRpb24xMDBtcyxzdGFsbENvdW50UmF0ZTUwMG1zOkIuc3RhbGxDb3VudDUwMG1zL0IucmVjZWl2ZWRGcmFtZXMsc3RhbGxDb3VudFJhdGUxMDBtczpCLnN0YWxsQ291bnQxMDBtcy9CLnJlY2VpdmVkRnJhbWVzLHJ0dDp0aGlzLnJ0dChCLnJ0dCx0aGlzLl9jb3VudCksZnBzOnRoaXMuZnBzKEIuZnBzLHRoaXMuX2NvdW50KSxjb3VudDp0aGlzLl9jb3VudCxkdXJhdGlvbjpEYXRlLm5vdygpLXRoaXMuX3N0YXJ0VGltZSxyZW5kZXI6e3ZhbHVlOjAsbWluOjAsbWF4OjAsYXZnOjAsc2F2ZzowfSxkZWNvZGU6e3ZhbHVlOjAsbWluOjAsbWF4OjAsYXZnOjAsc2F2ZzowfSx2U3RhbGxDb3VudDUwMG1zOjAsdlN0YWxsQ291bnQxMDBtczowLHZTdGFsbENvdW50UmF0ZTUwMG1zOjAsdlN0YWxsQ291bnRSYXRlMTAwbXM6MCx2U3RhbGxEdXJhdGlvbjUwMG1zOjAsdlN0YWxsRHVyYXRpb24xMDBtczowfX19XSl9KCk7dmFyIFNBPWZ1bmN0aW9uKEEpe3JldHVybiBBW0EuUlRUPTBdPSJSVFQiLEF9KFNBfHx7fSksVUE9ZnVuY3Rpb24oKXtyZXR1cm4gRSgoZnVuY3Rpb24gQSgpe1EodGhpcyxBKX0pLFt7a2V5OiJjcmVhdGVTaW5nbGVHYW1lQ01EIix2YWx1ZTpmdW5jdGlvbihBKXt2YXIgST1uZXcgVWludDhBcnJheSgyK0EuYnl0ZUxlbmd0aCksZz1uZXcgRGF0YVZpZXcoSS5idWZmZXIpO3JldHVybiBnLnNldFVpbnQxNigwLEEuYnl0ZUxlbmd0aCksSS5zZXQoQSwyKSxnPW51bGwsSX19LHtrZXk6ImNyZWF0ZUdhbWVDTURzIix2YWx1ZTpmdW5jdGlvbihBKXt2YXIgSSxnPTMsQj1pKEEpO3RyeXtmb3IoQi5zKCk7IShJPUIubigpKS5kb25lOyl7Zys9MitJLnZhbHVlLmJ5dGVMZW5ndGh9fWNhdGNoKGEpe0IuZShhKX1maW5hbGx5e0IuZigpfXZhciBRPW5ldyBVaW50OEFycmF5KGcpLEM9bmV3IERhdGFWaWV3KFEuYnVmZmVyKTtDLnNldFVpbnQxNigwLGctMiksQy5zZXRVaW50OCgyLDEpO3ZhciBFLEQ9MyxvPWkoQSk7dHJ5e2ZvcihvLnMoKTshKEU9by5uKCkpLmRvbmU7KXt2YXIgdz1FLnZhbHVlLEc9dGhpcy5jcmVhdGVTaW5nbGVHYW1lQ01EKHcpO1Euc2V0KEcsRCksRCs9Ry5ieXRlTGVuZ3RofX1jYXRjaChhKXtvLmUoYSl9ZmluYWxseXtvLmYoKX1yZXR1cm4gUX19LHtrZXk6ImNyZWF0ZVJUVFBrdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgQT1uZXcgVWludDhBcnJheSg2KSxJPW5ldyBEYXRhVmlldyhBLmJ1ZmZlcik7SS5zZXRVaW50OCgwLDApLEkuc2V0VWludDgoMSw2NCk7dmFyIGc9UkEoKTtyZXR1cm4gSS5zZXRVaW50MTYoMixnKSxJLnNldFVpbnQxNig0LDApLEF9fSx7a2V5OiJoYW5kbGVTaW1wbGVNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihBLEkpe2lmKDA9PT1BWzBdJiY2ND09PUFbMV0pe3ZhciBnPW5ldyBEYXRhVmlldyhBLmJ1ZmZlcik7cmV0dXJue3R5cGU6MCxkYXRhOllBKGcuZ2V0VWludDE2KDIpLGcuZ2V0VWludDE2KDQpKX19cmV0dXJuIG51bGx9fV0pfSgpLEpBPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKGZ1bmN0aW9uIEEoKXtRKHRoaXMsQSksdGhpcy5oYW5kbGVyPW51bGwsdGhpcy5saXN0ZW5lcnM9W10sdGhpcy5pbml0KCl9KSxbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgQT10aGlzO3RoaXMuc3RhdEludGVydmFsPXNldEludGVydmFsKChmdW5jdGlvbigpe0EubGlzdGVuZXJzLmZvckVhY2goKGZ1bmN0aW9uKEEpe3RyeXtBKCl9Y2F0Y2goSSl7fX0pKX0pLDFlMyl9fSx7a2V5OiJhZGRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oQSl7dGhpcy5saXN0ZW5lcnMucHVzaChBKX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRJbnRlcnZhbCksdGhpcy5saXN0ZW5lcnM9W119fV0pfSgpLHJBPUQoRChEKEQoe30sR0EuQUFDLCJtcDRhLjQwLjIiKSxHQS5PUFVTLCJvcHVzIiksR0EuSDI2NCwiYXZjMS40MjAwMmEiKSxHQS5IMjY1LCJoZXYxLjEuNi5MOTMuQjAiKTtmdW5jdGlvbiBLQShBKXt2YXIgSSxnPUEubWVkaWFUeXBlLEI9QS5vdXRwdXQsUT1BLmV4dHJhLEM9dm9pZCAwPT09UT97fTpRLEU9QS5lcnJvcixpPUEuQ2h1bmssbz1BLkRlY29kZXIsdz17b3V0cHV0OkIsZXJyb3I6RXx8ZnVuY3Rpb24oQSl7Y29uc29sZS53YXJuKCJEZWNvZGVFcnJvciBtZWRpYVR5cGU9Ii5jb25jYXQoZyksQSl9fSxHPWZ1bmN0aW9uKEEpe2Zvcih2YXIgST0xO0k8YXJndW1lbnRzLmxlbmd0aDtJKyspe3ZhciBnPW51bGwhPWFyZ3VtZW50c1tJXT9hcmd1bWVudHNbSV06e307SSUyP2goT2JqZWN0KGcpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihJKXtEKEEsSSxnW0ldKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGcpKTpoKE9iamVjdChnKSkuZm9yRWFjaCgoZnVuY3Rpb24oSSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEEsSSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGcsSSkpfSkpfXJldHVybiBBfSh7Y29kZWM6ckFbZ119LEMpOyhJPW5ldyBvKHcpKS5jb25maWd1cmUoRyk7dmFyIGE9ITE7cmV0dXJue2RlY29kZXI6SSxjb2RlYzpHLmNvZGVjLG1lZGlhVHlwZTpnLGRlY29kZTpmdW5jdGlvbihBLGcsQil7dmFyIFE9ImRlbHRhIjtpZihCKVE9ImtleSIsYXx8KGE9ITApO2Vsc2UgaWYoIWEpcmV0dXJuIGNvbnNvbGUubG9nKCLmsqHmnIlJ5bin5Yiw6L6+5Lii5byDIFDluKciKSwhMTt2YXIgQz1uZXcgaSh7dHlwZTpRLHRpbWVzdGFtcDpnLGRhdGE6QX0pO3JldHVybiBJLmRlY29kZShDKSwhMH19fXZhciBMQT1mdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbiBBKCl7USh0aGlzLEEpLHRoaXMuc3RhcnRRdWV1ZT1bXSx0aGlzLl9zdGF0PURBKCksdGhpcy5zdW09MCx0aGlzLmNvdW50PTAsdGhpcy5zdGF0Q291bnQ9MH0pLFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0UXVldWUucHVzaChEYXRlLm5vdygpKX19LHtrZXk6ImNhbmNlbCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0UXVldWUucG9wKCl9fSx7a2V5OiJmaW5pc2giLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIEE9dGhpcy5zdGFydFF1ZXVlLnNoaWZ0KCk7aWYoQSl7dmFyIEk9RGF0ZS5ub3coKS1BO0k+MTAwfHwodGhpcy5zdW0rPUksdGhpcy5jb3VudCsrKX19fSx7a2V5OiJzdGF0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdENvdW50Kys7dmFyIEE9dGhpcy5jb3VudD90aGlzLnN1bS90aGlzLmNvdW50OjA7cmV0dXJuIHRoaXMuc3VtPXRoaXMuY291bnQ9MCx0aGlzLl9zdGF0KEEsdGhpcy5zdGF0Q291bnQpfX1dKX0oKSxIQT1bIkFBQyIsIk9QVVMiLCJIMjY0IiwiSDI2NSJdLGRBPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKGZ1bmN0aW9uIEEoSSl7USh0aGlzLEEpLHRoaXMuZmlyc3RGcmFtZT0hMSx0aGlzLl9faW5pdERlY29kZXI9ITEsdGhpcy5tZXNzZW5nZXI9SSx0aGlzLmRlY29kZVN0YXQ9bmV3IExBfSksW3trZXk6ImluaXREZWNvZGVyIix2YWx1ZTpmdW5jdGlvbihBKXt2YXIgST10aGlzO3RoaXMuX19pbml0RGVjb2Rlcnx8KHRoaXMuX19pbml0RGVjb2Rlcj0hMCx0aGlzLm1lZGlhVHlwZT1BLGNvbnNvbGUud2FybigiaW5pdERlY29kZXIiLEEpLHRoaXMuZGVjb2Rlcj10aGlzLmNyZWF0ZURlY29kZXIoe21lZGlhVHlwZTpBLG91dHB1dDp0aGlzLm9uSGFuZGxlRnJhbWVEZWNvZGVkLmJpbmQodGhpcyksZXJyb3I6ZnVuY3Rpb24oQSl7Y29uc29sZS53YXJuKCJyZXNldCBkZWNvZGVyIOino+eggeWksei0pemHjee9ruino+eggeWZqCwgaXNBdWRpbz0iLmNvbmNhdChJLmlzQXVkaW8pLEEpLEkuX19pbml0RGVjb2Rlcj0hMSxJLmlzQXVkaW98fHNBLmVtaXQoInNlbmQtcGxpIil9fSksdGhpcy5tZWRpYUNvZGVjPSIiLmNvbmNhdChIQVt0aGlzLmRlY29kZXIubWVkaWFUeXBlXSwiLSIpLmNvbmNhdCh0aGlzLmRlY29kZXIuY29kZWMpKX19LHtrZXk6InJlc2V0RGVjb2RlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9faW5pdERlY29kZXI9ITF9fSx7a2V5OiJvbkZyYW1lRGF0YSIsdmFsdWU6ZnVuY3Rpb24oQSxJLGcsQil7dGhpcy5pbml0RGVjb2RlcihCKSx0aGlzLmRlY29kZVN0YXQuc3RhcnQoKSx0aGlzLmRlY29kZXIuZGVjb2RlKEEsZyxJKXx8dGhpcy5kZWNvZGVTdGF0LmNhbmNlbCgpfX0se2tleToib25IYW5kbGVGcmFtZURlY29kZWQiLHZhbHVlOmZ1bmN0aW9uKEEpe3RoaXMuZGVjb2RlU3RhdC5maW5pc2goKSx0aGlzLmJlZm9yZUZyYW1lV3JpdGUoQSksdGhpcy53cml0ZXIud3JpdGUoQSksQS5jbG9zZSgpLHRoaXMuZmlyc3RGcmFtZXx8KHRoaXMuZmlyc3RGcmFtZT0hMCx0aGlzLm1lc3Nlbmdlci5zZW5kKHt0eXBlOndBLkZpcnN0RnJhbWUsZGF0YTp7aXNBdWRpbzp0aGlzLmlzQXVkaW8sY29kZWM6dGhpcy5tZWRpYUNvZGVjfX0pKX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dHJ5e3RoaXMuZGVjb2Rlci5kZWNvZGVyLmZsdXNoKCl9Y2F0Y2goQSl7fX19LHtrZXk6Im9uV2FzbURhdGEiLHZhbHVlOmZ1bmN0aW9uKEEsSSl7dm9pZCAwPT09dGhpcy5zdHJlYW1JZCYmKHRoaXMuc3RyZWFtSWQ9SS5zdHJlYW1faWQsY29uc29sZS5sb2coImZpcnN0IGRhdGEiLEkpKSx0aGlzLm9uRnJhbWVEYXRhKEEsSS5pc19pZnJhbWUsSS50aW1lc3RhbXAsSS5zdWJfdHlwZSl9fV0pfSgpLHFBPWZ1bmN0aW9uKEEpe2Z1bmN0aW9uIEkoKXt2YXIgQTtyZXR1cm4gUSh0aGlzLEkpLChBPUIodGhpcyxJLGFyZ3VtZW50cykpLmlzQXVkaW89ITEsQS5wcmV2Um90YXRpb249LTEsQS5fbGFzdEZyYW1lV2lkdGg9LTEsQS5fbGFzdEZyYW1lSGVpZ2h0PS0xLEF9cmV0dXJuIEcoSSxBKSxFKEksW3trZXk6ImNyZWF0ZURlY29kZXIiLHZhbHVlOmZ1bmN0aW9uKEEpe3JldHVybiBjb25zb2xlLmxvZygiY3JlYXRlRGVjb2RlciIpLHRoaXMubWVzc2VuZ2VyLnNlbmQoe3R5cGU6d0EuRGVjb2RlckluaXRpYWxpemVkfSksST1BLEtBKE9iamVjdC5hc3NpZ24oSSx7Q2h1bms6c2VsZi5FbmNvZGVkVmlkZW9DaHVuayxEZWNvZGVyOnNlbGYuVmlkZW9EZWNvZGVyfSkpO3ZhciBJfX0se2tleToib25XYXNtRGF0YSIsdmFsdWU6ZnVuY3Rpb24oQSxnKXtzKEksIm9uV2FzbURhdGEiLHRoaXMsMykoW0EsZ10pLGcucm90YXRpb24hPT10aGlzLnByZXZSb3RhdGlvbiYmKGNvbnNvbGUud2FybigiV29ya2VyIFdvcmtlck1lc3NhZ2VUeXBlLlJvdGF0aW9uQ2hhbmdlIixnLnJvdGF0aW9uKSx0aGlzLnByZXZSb3RhdGlvbj1nLnJvdGF0aW9uLHRoaXMubWVzc2VuZ2VyLnNlbmQoe3R5cGU6d0EuUm90YXRpb25DaGFuZ2UsZGF0YTp7cm90YXRpb246OTAqZy5yb3RhdGlvbn19KSl9fSx7a2V5OiJiZWZvcmVGcmFtZVdyaXRlIix2YWx1ZTpmdW5jdGlvbihBKXt0aGlzLm1lc3Nlbmdlci5zZW5kKHt0eXBlOndBLlZpZGVvRnJhbWV9KTt2YXIgST1BLmRpc3BsYXlXaWR0aCxnPUEuZGlzcGxheUhlaWdodDtJPT09dGhpcy5fbGFzdEZyYW1lV2lkdGgmJmc9PT10aGlzLl9sYXN0RnJhbWVIZWlnaHR8fCh0aGlzLl9sYXN0RnJhbWVIZWlnaHQ9Zyx0aGlzLl9sYXN0RnJhbWVXaWR0aD1JLGNvbnNvbGUud2Fybigic2VuZCBXb3JrZXJNZXNzYWdlVHlwZS5GcmFtZVNpemVDaGFuZ2UiLEksZyksdGhpcy5tZXNzZW5nZXIuc2VuZCh7dHlwZTp3QS5GcmFtZVNpemVDaGFuZ2UsZGF0YTp7d2lkdGg6SSxoZWlnaHQ6Z319KSl9fV0pfShkQSksZkE9MS0uOTgscEE9ZnVuY3Rpb24oQSl7ZnVuY3Rpb24gSShBKXt2YXIgZztyZXR1cm4gUSh0aGlzLEkpLChnPUIodGhpcyxJLFtBXSkpLmlzQXVkaW89ITAsZy5maXJzdEF1ZGlvR2FwPTAsZy5nYXBBdmc9MCxnLmRlY29kZVN0YXQ9bmV3IExBLGcucmVuZGVyU3RhdD1uZXcgTEEsZ31yZXR1cm4gRyhJLEEpLEUoSSxbe2tleToib25XYXNtRGF0YSIsdmFsdWU6ZnVuY3Rpb24oQSxnKXt2YXIgQj1EYXRlLm5vdygpLWcudGltZXN0YW1wO3RoaXMuZmlyc3RBdWRpb0dhcHx8KHRoaXMuZmlyc3RBdWRpb0dhcD1CKTt2YXIgUT1CLXRoaXMuZmlyc3RBdWRpb0dhcDtpZihRPjEwMClyZXR1cm4gdGhpcy5maXJzdEF1ZGlvR2FwPUIsdm9pZCh0aGlzLmdhcEF2Zz0wKTt0aGlzLmdhcEF2Zz1wYXJzZUludCguOTgqdGhpcy5nYXBBdmcrZkEqUSksdGhpcy5maXJzdEF1ZGlvR2FwKz10aGlzLmdhcEF2ZyxzKEksIm9uV2FzbURhdGEiLHRoaXMsMykoW0EsZ10pfX0se2tleToib25IYW5kbGVGcmFtZURlY29kZWQiLHZhbHVlOmZ1bmN0aW9uKEEpe3RoaXMucmVuZGVyU3RhdC5zdGFydCgpLHMoSSwib25IYW5kbGVGcmFtZURlY29kZWQiLHRoaXMsMykoW0FdKSx0aGlzLnJlbmRlclN0YXQuZmluaXNoKCl9fSx7a2V5OiJiZWZvcmVGcmFtZVdyaXRlIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImNyZWF0ZURlY29kZXIiLHZhbHVlOmZ1bmN0aW9uKEEpe3JldHVybiBJPUEsS0EoT2JqZWN0LmFzc2lnbihJLHtDaHVuazpzZWxmLkVuY29kZWRBdWRpb0NodW5rLERlY29kZXI6c2VsZi5BdWRpb0RlY29kZXIsZXh0cmE6e3NhbXBsZVJhdGU6NDhlMyxudW1iZXJPZkNoYW5uZWxzOjJ9fSkpO3ZhciBJfX1dKX0oZEEpLGxBPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKGZ1bmN0aW9uIEEoSSl7USh0aGlzLEEpLHRoaXMuYXVkaW9EZWNvZGVyPW5ldyBwQShJKSx0aGlzLnZpZGVvRGVjb2Rlcj1uZXcgcUEoSSl9KSxbe2tleToib25NZWRpYUZyYW1lIix2YWx1ZTpmdW5jdGlvbihBLEkpe3N3aXRjaChJLnN1Yl90eXBlKXtjYXNlIEdBLkgyNjQ6Y2FzZSBHQS5IMjY1OnRoaXMudmlkZW9EZWNvZGVyLm9uV2FzbURhdGEoQSxJKTticmVhaztjYXNlIEdBLkFBQzpjYXNlIEdBLk9QVVM6dGhpcy5hdWRpb0RlY29kZXIub25XYXNtRGF0YShBLEkpfX19LHtrZXk6ImluaXRXcml0ZXIiLHZhbHVlOmZ1bmN0aW9uKEEpe3RoaXMuYXVkaW9EZWNvZGVyLndyaXRlcj1BLmF1ZGlvLmdldFdyaXRlcigpLHRoaXMudmlkZW9EZWNvZGVyLndyaXRlcj1BLnZpZGVvLmdldFdyaXRlcigpfX0se2tleToiZmlsbFN0YXQiLHZhbHVlOmZ1bmN0aW9uKEEpe0EuYXVkaW8uZGVjb2RlPXRoaXMuYXVkaW9EZWNvZGVyLmRlY29kZVN0YXQuc3RhdCgpLEEuYXVkaW8ucmVuZGVyPXRoaXMuYXVkaW9EZWNvZGVyLnJlbmRlclN0YXQuc3RhdCgpLEEudmlkZW8uZGVjb2RlPXRoaXMudmlkZW9EZWNvZGVyLmRlY29kZVN0YXQuc3RhdCgpfX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1ZGlvRGVjb2Rlci5kZXN0cm95KCksdGhpcy52aWRlb0RlY29kZXIuZGVzdHJveSgpfX1dKX0oKSxiQT1mdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbiBBKCl7dmFyIEk9dGhpcztRKHRoaXMsQSksdGhpcy5fZmlyc3RfcGFja2V0PSExLHRoaXMubWVzc2VuZ2VyPW5ldyBrQShnbG9iYWxUaGlzKSx0aGlzLmNvZGVjPW5ldyBsQSh0aGlzLm1lc3NlbmdlciksdGhpcy53YXNtUHJveHk9bmV3IGhBLHRoaXMud2VidHM9bmV3IHRBLHRoaXMuY2d0cD1uZXcgVUEsdGhpcy50aW1lcj1uZXcgSkEsdGhpcy5tZWRpYVN0YXRzPW5ldyBlQSxuKCJXb3JrZXIgaW5pdCIpLGNvbnNvbGUubG9nKCJWaWRlb0RlY29kZXIiLFZpZGVvRGVjb2RlcixBdWRpb0RlY29kZXIsbmF2aWdhdG9yLmdwdSksdGhpcy5tZXNzZW5nZXIub25NZXNzYWdlKChmdW5jdGlvbihBKXtpZihBLmJ5dGVMZW5ndGgpO2Vsc2Ugc3dpdGNoKEEudHlwZSl7Y2FzZSB3QS5TdGFydDpJLmluaXQoQS5kYXRhKTticmVhaztjYXNlIHdBLlN0b3A6SS5zdG9wKCk7YnJlYWs7Y2FzZSB3QS5HYW1lQ29udHJvbDp2YXIgZz1JLmNndHAuY3JlYXRlR2FtZUNNRHMoQS5kYXRhKTtJLndlYnRzLnNlbmRTdHJlYW0oZyk7YnJlYWs7Y2FzZSB3QS5FbmFibGVMb2c6ZShBLmRhdGEuZW5hYmxlKTticmVhaztjYXNlIHdBLk1lZGlhV3JpdGVyOkkuY29kZWMuaW5pdFdyaXRlcihBKTticmVhaztjYXNlIHdBLk9ubGluZTpJLndlYnRzLnJlY29ubmVjdEhlbHBlci5vbmxpbmVSZWNvbm5lY3QoKX1uKCJXb3JrZXIgcmVjOiIsQSl9KSksc0Eub24oeyJyZXNldC13YXNtIjpmdW5jdGlvbigpe0kud2FzbVByb3h5LnNlbmREYXRhKGFBLlJFU0VUKX0sInBhdXNlLXZpZGVvIjpmdW5jdGlvbigpe0kubWVzc2VuZ2VyLnNlbmQoe3R5cGU6d0EuUGF1c2VWaWRlb30pfSwic2VuZC1wbGkiOmZ1bmN0aW9uKCl7dmFyIEE9SS5jb2RlYy52aWRlb0RlY29kZXIuc3RyZWFtSWQ7SS53YXNtUHJveHkuc2VuZFBsaShBKX0sInNlbmQtdG8tbWFpbiI6ZnVuY3Rpb24oQSl7SS5tZXNzZW5nZXIuc2VuZChBKX19KX0pLFt7a2V5OiJpbml0Iix2YWx1ZTooQT1nKE4oKS5tYXJrKChmdW5jdGlvbiBBKEkpe3ZhciBnLEI9dGhpcztyZXR1cm4gTigpLndyYXAoKGZ1bmN0aW9uKEEpe2Zvcig7Oylzd2l0Y2goQS5wcmV2PUEubmV4dCl7Y2FzZSAwOnJldHVybiBnPUkudXJsLGUoSS5lbmFibGVMb2cpLG4oIndvcmtlciBpbml0IHN1Y2Nlc3MiLEkpLGNvbnNvbGUubG9nKCJpbml0IHN0YXJ0OiAiLmNvbmNhdCgobmV3IERhdGUpLnRvTG9jYWxlU3RyaW5nKCksIjoiKS5jb25jYXQoKG5ldyBEYXRlKS5nZXRNaWxsaXNlY29uZHMoKSkpLEEubmV4dD02LHRoaXMud2FzbVByb3h5LmluaXQoKTtjYXNlIDY6cmV0dXJuIHRoaXMudGltZXIuYWRkTGlzdGVuZXIoXyksdGhpcy53YXNtUHJveHkub25NZXNzYWdlKHRoaXMuX29uV2FzbU1lc3NhZ2UuYmluZCh0aGlzKSksdGhpcy53ZWJ0cy5vbk1lc3NhZ2UodGhpcy5fb25XVFNNZXNzYWdlLmJpbmQodGhpcykpLGNvbnNvbGUubG9nKCJXYXNtIGluaXQgZG9uZTogIi5jb25jYXQoKG5ldyBEYXRlKS50b0xvY2FsZVN0cmluZygpLCI6IikuY29uY2F0KChuZXcgRGF0ZSkuZ2V0TWlsbGlzZWNvbmRzKCkpKSxBLm5leHQ9MTIsdGhpcy53ZWJ0cy5pbml0KGcpO2Nhc2UgMTI6dGhpcy50aW1lci5hZGRMaXN0ZW5lcigoZnVuY3Rpb24oKXtCLndlYnRzLnNlbmREZ20oQi5jZ3RwLmNyZWF0ZVJUVFBrdCgpKX0pKSxjb25zb2xlLmxvZygiV2VidHMgaW5pdCBkb25lOiAiLmNvbmNhdCgobmV3IERhdGUpLnRvTG9jYWxlU3RyaW5nKCksIjoiKS5jb25jYXQoKG5ldyBEYXRlKS5nZXRNaWxsaXNlY29uZHMoKSkpLHRoaXMubWVzc2VuZ2VyLnNlbmQoe3R5cGU6d0EuV2VidHNSZWFkeX0pO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiBBLnN0b3AoKX19KSxBLHRoaXMpfSkpKSxmdW5jdGlvbihJKXtyZXR1cm4gQS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX29uV1RTTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oQSxJKXt2YXIgZz10aGlzLmNndHAuaGFuZGxlU2ltcGxlTWVzc2FnZShBLEkpO2lmKGcpe3ZhciBCPWcudHlwZSxRPWcuZGF0YTtpZihCPT09U0EuUlRUKXRoaXMubWVkaWFTdGF0cy5sYXN0UlRUPVF9ZWxzZSJkYXRhZ3JhbSIhPT1JfHx0aGlzLl9maXJzdF9wYWNrZXR8fCh0aGlzLl9maXJzdF9wYWNrZXQ9ITAsdGhpcy5tZXNzZW5nZXIuc2VuZCh7dHlwZTp3QS5GaXJzdFBhY2tldH0pKSx0aGlzLndhc21Qcm94eS5yZWNlaXZlUGFja2V0KEEsSSl9fSx7a2V5OiJfb25XYXNtTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oQSxJKXtzd2l0Y2goSS5tZXNfdHlwZSl7Y2FzZSBvQS5NZWRpYTp0aGlzLmNvZGVjLm9uTWVkaWFGcmFtZShBLEkpO2JyZWFrO2Nhc2Ugb0EuU3RhdHM6dmFyIGc9dGhpcy5tZWRpYVN0YXRzLnBhcnNlTWVkaWFVOHMoQSk7dGhpcy5jb2RlYy5maWxsU3RhdChnKSx0aGlzLm1lc3Nlbmdlci5zZW5kKHt0eXBlOndBLlN0YXRzLGRhdGE6Z30pO2JyZWFrO2Nhc2Ugb0EuQ29udHJvbDp0aGlzLndlYnRzLnNlbmRTdHJlYW0oQSk7YnJlYWs7Y2FzZSBvQS5HYW1lOnRoaXMubWVzc2VuZ2VyLnNlbmQoe3R5cGU6d0EuR2FtZUNvbnRyb2wsZGF0YTpBfSk7YnJlYWs7Y2FzZSBvQS5TZWk6dGhpcy5tZXNzZW5nZXIuc2VuZCh7dHlwZTp3QS5TZWksZGF0YTpBfSl9fX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXtuKCJ3b3JrZXIgc3RvcCIpLHRoaXMud2VidHMuY2xvc2UoKSx0aGlzLndhc21Qcm94eS5kZXN0cm95KCksdGhpcy5jb2RlYy5kZXN0cm95KCl9fV0pO3ZhciBBfSgpO2NvbnNvbGUubG9nKCItLS0tLS0tLS0tIiwid29ya2VyIGNvcmUiKSxuZXcgYkF9KCk7Cg==",blob="undefined"!=typeof window&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){var e;try{if(!(e=blob&&(window.URL||window.webkitURL).createObjectURL(blob)))throw"";return new Worker(e)}catch(e2){return new Worker("data:application/javascript;base64,"+encodedJs)}finally{!("undefined"!=typeof window&&navigator.userAgent.indexOf("Trident/")>0)&&e&&(window.URL||window.webkitlRL).revokeObjectURL(e)}}var MAX_BUFFER_SIZE=1e3;function supportSharedBuffer(){return!1}var SharedBuffer=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.maxSize=MAX_BUFFER_SIZE,this.supported=supportSharedBuffer(),this.supported&&(this.buffer=new SharedArrayBuffer(this.maxSize),this.arr=new Uint8Array(this.buffer))}),[{key:"share",value:function(e){return this.supported?(this.arr.set(e),this.buffer):e.buffer}}])}(),WorkerMessageType=function(e){return e[e.MediaData=0]="MediaData",e[e.Start=1]="Start",e[e.Stop=2]="Stop",e[e.GameControl=3]="GameControl",e[e.Stats=4]="Stats",e[e.Sei=5]="Sei",e[e.WebtsReady=6]="WebtsReady",e[e.FirstPacket=7]="FirstPacket",e[e.Test=8]="Test",e[e.EnableLog=9]="EnableLog",e[e.EnablePktLost=10]="EnablePktLost",e[e.MediaWriter=11]="MediaWriter",e[e.RotationChange=12]="RotationChange",e[e.DecoderInitialized=13]="DecoderInitialized",e[e.FrameSizeChange=14]="FrameSizeChange",e[e.FirstFrame=15]="FirstFrame",e[e.VideoFrame=16]="VideoFrame",e[e.PauseVideo=17]="PauseVideo",e[e.ReconnectFail=18]="ReconnectFail",e[e.Online=19]="Online",e[e.Disconnected=20]="Disconnected",e[e.Reconnected=21]="Reconnected",e}(WorkerMessageType||{}),MediaType=function(e){return e[e.AAC=0]="AAC",e[e.OPUS=1]="OPUS",e[e.H264=2]="H264",e[e.H265=3]="H265",e}(MediaType||{}),Messenger=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.buffer=new SharedBuffer,this.client=t}),[{key:"sendMediaData",value:function(e,t,n){var r=this.buffer.share(e);this.client.postMessage({type:WorkerMessageType.MediaData,data:r,isIFrame:n,isAudio:t})}},{key:"send",value:function(e){this.client.postMessage(e)}},{key:"onMessage",value:function(e){this.client.addEventListener("message",(function(t){e(t.data)}))}},{key:"destroy",value:function(){var e,t;null===(e=(t=this.client).terminate)||void 0===e||e.call(t)}}])}(),WebTSWorker=function(){return _createClass$1((function e(){_classCallCheck$1(this,e);var t=new WorkerWrapper;this.messenger=new Messenger(t),this.buffer=new SharedBuffer,window.tsWorker=this}),[{key:"onMessage",value:function(e){this.messenger.onMessage(e)}},{key:"sendMediaData",value:function(e){console.log("client send:",e)}},{key:"sendMessage",value:function(e){this.messenger.send(e)}},{key:"sendWriter",value:function(e,t){this.messenger.client.postMessage({type:WorkerMessageType.MediaWriter,video:t,audio:e},[t,e])}},{key:"destroy",value:function(){this.messenger.destroy()}}])}();function withResolve(){var e=function(){},t=function(){};return{ready:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}}function createStat(){var e=0,t=1e8,n=0,r=0,i=0,a=1-.9,o=0;return function(s,l){return s<t?t=s:s>n&&(n=s),void 0===l&&(l=++o),r=parseFloat(((e+=s)/l).toFixed(2)),{value:s,min:t,max:n,avg:r,savg:i=.9*i+s*a}}}var CodecStats=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.startQueue=[],this._stat=createStat(),this.sum=0,this.count=0,this.statCount=0}),[{key:"start",value:function(){this.startQueue.push(Date.now())}},{key:"cancel",value:function(){this.startQueue.pop()}},{key:"finish",value:function(){var e=this.startQueue.shift();if(e){var t=Date.now()-e;t>100||(this.sum+=t,this.count++)}}},{key:"stat",value:function(){this.statCount++;var e=this.count?this.sum/this.count:0;return this.sum=this.count=0,this._stat(e,this.statCount)}}])}(),WebtsPlayer=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this.paused=!1,this.event=t,this.audioRenderStat=new CodecStats,this.videoRenderStat=new CodecStats,this.audioGenerator=new MediaStreamTrackGenerator({kind:"audio"}),this.videoGenerator=new MediaStreamTrackGenerator({kind:"video"});var n=new MediaStream;n.addTrack(this.videoGenerator);var r=document.createElement("video");r.srcObject=n,r.setAttribute("style","width:100%;height:100%;object-fit:contain;"),this.event.emit("on-video-init",r),this.video=r,n.addTrack(this.audioGenerator)}),[{key:"destroy",value:function(){try{this.video.remove()}catch(e2){}}},{key:"play",value:function(){this.video.play().then((function(){})).catch((function(e){console.warn("pause abort: ",e)}))}},{key:"resume",value:function(){this.video.paused||this.video.pause(),this.play()}},{key:"onVideoFrame",value:function(){var e=this;!this.paused&&this.video.paused&&this.play(),this.videoRenderStat.start(),this.video.requestVideoFrameCallback((function(){e.videoRenderStat.finish()}))}},{key:"fillStat",value:function(e){var t,n;Object.assign(e.video,{render:this.videoRenderStat.stat(),width:(null===(t=this.video)||void 0===t?void 0:t.videoWidth)||0,height:(null===(n=this.video)||void 0===n?void 0:n.videoHeight)||0})}}])}(),OnceMark=Symbol("once"),EventBus=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.usePrevEmit=!0,this._map={},this._prevData={}}),[{key:"hasEvent",value:function(e){return!!this._map[e]}},{key:"on",value:function(e,t){var n=this;if("object"===_typeof$1(e)){var r=[];for(var i in e)r.push(this.on(i,e[i]));return function(){r.forEach((function(e){return e()}))}}if(!t)throw new Error("fn is required");return this._checkPrev(e,t)===OnceMark?function(){}:(this._getList(e).push(t),function(){n.$off(e,t)})}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._prevData[e]=n;var i=this._map[e];if(!i)return!1;for(var a=0;a<i.length;a++){i[a].apply(void 0,n)===OnceMark&&a--}return!0}},{key:"$off",value:function(e,t){var n=this._map[e];if(!n)return!1;var r=n.indexOf(t);return-1!==r&&(n.splice(r,1),!0)}},{key:"clear",value:function(e){return!!this._map[e]&&(delete this._map[e],delete this._prevData[e],!0)}},{key:"$onWait",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=withResolve(),r=n.ready,i=n.resolve,this.$once(t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(t)})),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"destroy",value:function(){this._map={},this._prevData={}}},{key:"_checkPrev",value:function(e,t){if(this.usePrevEmit){var n=this._prevData[e];return void 0!==n?t.apply(void 0,_toConsumableArray(n)):null}}},{key:"$once",value:function(e,t){return this.on(e,this._onceListener(e,t))}},{key:"head",value:function(e,t){var n=this;return this._checkPrev(e,t)===OnceMark?function(){}:(this._getList(e).unshift(t),function(){n.$off(e,t)})}},{key:"headOnce",value:function(e,t){return this.head(e,this._onceListener(e,t))}},{key:"_getList",value:function(e){var t=this._map[e];return t||(this._map[e]=t=[]),t}},{key:"_onceListener",value:function(e,t){var n=this,r=function(){return t.apply(void 0,arguments),n.$off(e,r),OnceMark};return r}}]);var e}(),MediaCodecStr=_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},MediaType.AAC,"mp4a.40.2"),MediaType.OPUS,"opus"),MediaType.H264,"avc1.42002a"),MediaType.H265,"hev1.1.6.L93.B0");function createVideoDecoder(e){return createCodec(Object.assign(e,{Chunk:self.EncodedVideoChunk,Decoder:self.VideoDecoder}))}function createCodec(e){var t,n=e.mediaType,r=e.output,i=e.extra,a=void 0===i?{}:i,o=e.error,s=e.Chunk,l=e.Decoder,c={output:r,error:o||function(e){console.warn("DecodeError mediaType=".concat(n),e)}},d=_objectSpread2({codec:MediaCodecStr[n]},a);(t=new l(c)).configure(d);var u=!1;return{decoder:t,codec:d.codec,mediaType:n,decode:function(e,n,r){var i="delta";if(r)i="key",u||(u=!0);else if(!u)return console.log("没有I帧到达丢弃 P帧"),!1;var a=new s({type:i,timestamp:n,data:e});return t.decode(a),!0}}}function isH265Support(){return testSupportVideoCodec("0 0 0 1 40 1 C 1 FF FF 1 60 0 0 3 0 B0 0 0 3 0 0 3 0 78 AC 9 0 0 0 1 42 1 1 1 60 0 0 3 0 B0 0 0 3 0 0 3 0 78 A0 5 2 0 50 16 5A EE 4C 92 EA 52 A C C 5 DA 14 25 0 0 0 1 44 1 C0 E3 F 3 B0 84 0 0 0 1 26 1 AF 23 F9 2E 8F FF 70 A2 30 4 49 26 71 B0 44 57 40 0 0 14 50 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 1 DF",MediaType.H265)}function isH264Support(){return testSupportVideoCodec("0 0 0 1 67 64 0 20 AC B4 5 0 50 D2 90 50 60 60 6D A 13 50 0 0 0 1 68 EE 6 F2 C0 0 0 0 1 65 B8 20 39 FF FC D 60 67 2 92 89 89 2F AB 20 15 A4 8D F6 A A5 45 78 0 0 3 0 0 3 0 8 42 90 A0 8B C0 0 2D 0 9A 4 DC 3A C2 E4 35 43 C0 50 C7 58 A7 10 2 4 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 0 3 0 1 35 0 0 0 0 0 0",MediaType.H264)}function testSupportVideoCodec(e,t){var n=e.split(" ").map((function(e){return parseInt(e,16)})),r=new Uint8Array(n),i=withResolve(),a=i.resolve,o=i.ready,s=setTimeout((function(){a(!1)}),300);try{var l=createVideoDecoder({mediaType:t,output:function(e){a(!0),clearTimeout(s),e.close(),d.close()},error:function(){a(!1),clearTimeout(s),d.close()}}),c=l.decode,d=l.decoder;c(r,0,!0)}catch(e2){a(!1),clearTimeout(s)}return o}function isWebTSSupport(){return FailMark.supported()?checkApiListSupported(["WebTransport","EncodedVideoChunk","VideoDecoder","EncodedAudioChunk","AudioDecoder","MediaStreamTrackGenerator","MediaStream"]):{supported:!1,info:"mark fail"}}function checkApiListSupported(e){var t,n=!0,r="",i=_createForOfIteratorHelper$1(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!(a in window)){n=!1,r="".concat(a," not Supported");break}}}catch(err2){i.e(err2)}finally{i.f()}return{supported:n,info:r}}var FailMark=(FailMarkKey="_webts_fail_",getCount=function(){return parseInt(localStorage.getItem(FailMarkKey)||"0")},{supported:function(){return getCount()<2},start:function(e){var t=setTimeout((function(){var t;t=getCount(),localStorage.setItem(FailMarkKey,"".concat(t+1)),e(getCount())}),12e3);return function(){localStorage.removeItem(FailMarkKey),clearTimeout(t)}}}),FailMarkKey,getCount,WebTSEngine=function(e){function t(e){var n;return _classCallCheck$1(this,t),(n=_callSuper(this,t)).codec="",e&&(n.config=e),n.worker=new WebTSWorker,n.player=new WebtsPlayer(n),n.worker.sendWriter(n.player.audioGenerator.writable,n.player.videoGenerator.writable),n.worker.onMessage((function(e){switch(e.type){case WorkerMessageType.Stats:var t=e.data;n.player.fillStat(t),n.emit("on-media-stats",t);break;case WorkerMessageType.Sei:n.emit("on-sei",e.data);break;case WorkerMessageType.GameControl:n.emit("on-game-control",e.data);break;case WorkerMessageType.WebtsReady:n.emit("on-engine-ready");break;case WorkerMessageType.FirstPacket:n.emit("on-first-packet");break;case WorkerMessageType.RotationChange:n.emit("on-rotation-change",e.data.rotation);break;case WorkerMessageType.DecoderInitialized:n.emit("on-decoder-init");break;case WorkerMessageType.FirstFrame:var r=e.data;console.warn("FirstFrame",r.mediaCodec),r.isAudio?(n.emit("on-first-audio-frame",r.codec),setTimeout((function(){console.warn("resume audio"),n.player.resume()}),1e3)):(n.emit("on-first-frame",r.codec),n.codec=r.codec,n.player.video.play(),console.warn("video codec:",r.codec));break;case WorkerMessageType.FrameSizeChange:n.emit("on-frame-resize",e.data);break;case WorkerMessageType.VideoFrame:n.player.onVideoFrame();break;case WorkerMessageType.PauseVideo:n.player.video.pause();break;case WorkerMessageType.ReconnectFail:var i=e.data.reason,a="reconnect fail reason=".concat(i);console.warn(a),n.emit("on-error",a);break;case WorkerMessageType.Disconnected:n.emit("on-disconnected");break;case WorkerMessageType.Reconnected:n.emit("on-reconnected")}})),n}return _inherits(t,e),_createClass$1(t,[{key:"setConfig",value:function(e){this.config=e}},{key:"sendToWorker",value:function(e){this.worker.sendMessage(e)}},{key:"start",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=FailMark.start((function(e){l.emit("on-error","first frame timeout ".concat(e))})),this.on("on-first-frame",t),r=(n=!1)?"&trace=1":"",i="&red=2",a=this.config,o=a.mediaUrl,s=a.userId,o){e.next=9;break}throw this.emit("on-error","media url is empty"),new Error("Media Url is Empty");case 9:console.warn("webts url = ".concat(o,"; trace = ").concat(n,"; red=").concat(!!i)),this.worker.sendMessage({type:WorkerMessageType.Start,data:{enableLog:!!window._webts_enableClientLog,url:"".concat(o).concat(r).concat(i,"&user_id=").concat(s)}}),window.__enableLog=function(e){l.worker.sendMessage({type:WorkerMessageType.EnableLog,data:{enable:e}})},window.__clientMockLost=function(){l.worker.sendMessage({type:WorkerMessageType.EnablePktLost})};case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"stop",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=withResolve(),n=t.ready,r=t.resolve,this.worker.sendMessage({type:WorkerMessageType.Stop}),this.worker.destroy(),this.player.destroy(),requestAnimationFrame((function(){r(!0)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"sendGameCMD",value:function(e){this.worker.sendMessage({type:WorkerMessageType.GameControl,data:e})}},{key:"getAudio",value:function(){return this.video}},{key:"video",get:function(){return this.player.video}},{key:"play",value:function(){return this.player.play()}},{key:"resume",value:function(){return this.player.resume()}}]);var n,r}(EventBus);function isSizeLandscape(){return window.innerWidth>window.innerHeight}function getSizeOrientation(){return isSizeLandscape()?90:0}function isOrientationSupport(){return"orientation"in window&&"onorientationchange"in window}function getOrientationValue(){return isOrientationSupport()?window.orientation:getSizeOrientation()}function isMobile$1(){return/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Windows Phone|MQQBrowser)/i.test(navigator.userAgent)}function isLandscape(){return isMobile$1()?0!==window.orientation:isSizeLandscape()}function orientationChange(e){var t=isOrientationSupport(),n=getOrientationValue(),r=[],i=function(e,t){window.addEventListener(e,t,!0),r.push((function(){window.removeEventListener(e,t,!0)}))};if(t&&i("orientationchange",(function(){setTimeout((function(){var t=window.orientation;if(t!==n){var r=isSizeLandscape();if(0===t){if(r)return}else if(90===t&&!r)return;e(n=t,"orientationchange")}}),100)})),isMobile$1()||!t){var a=!0;i("resize",(function(){a&&(a=!1,setTimeout((function(){a=!0}),400),setTimeout((function(){var t=getSizeOrientation();t!==n&&e(n=t,"resize")}),200))}))}return function(){r.forEach((function(e){e()}))}}function delay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return new Promise((function(t){setTimeout((function(){t(!0)}),e)}))}function onResize(e){var t=function(){return{w:window.innerWidth,h:window.innerHeight}},n=t(),r=n.w,i=n.h,a=null,o=function(){clearTimeout(a),a=setTimeout(_asyncToGenerator(_regeneratorRuntime().mark((function n(){var a;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=0;case 1:if(o=void 0,s=void 0,l=void 0,o=t(),s=o.w,l=o.h,!((s===r&&l===i||(i=l,r=s,e({width:s,height:l}),0))&&a<8)){n.next=7;break}return a++,n.next=5,delay();case 5:n.next=1;break;case 7:a>=8&&console.warn("未检测到sizechange");case 8:case"end":return n.stop()}var o,s,l}),n)}))),100)};return window.addEventListener("resize",o,!0),function(){window.removeEventListener("resize",o,!0)}}var WebtsEngine$1=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),this._videoRenderMode="",this._frameSize={width:0,height:0},this.status="",this.rotation=0,this.isReady=!1,EventEmitter$2(this),this.client=new WebTSEngine,this._player=t,this._logger=n.logger,this._userId=n.userId,this._containerDomId=n.containerDomId,this._videoRenderMode=n.videoRenderMode,this.client.setConfig({mediaUrl:n.mediaUrl,userId:n.userId})}),[{key:"sendStartUp",value:function(){this._logger.localWarnLog("Start","rtc.start","sendStartUp");var e=MessageFactory$1.eventTypeStartUp(!1);this.sendMessage(e),console.warn("webtransport send startup",e)}},{key:"start",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initEvents(),e.next=3,this.client.start();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stop",value:function(){return this.client.stop()}},{key:"initEvents",value:function(){var e=this;this.client.on({"on-video-init":function(t){e.renderEle=t,t.style.objectFit=["contain","fill","cover"][e._videoRenderMode||0],document.getElementById(e._containerDomId).appendChild(t)},"on-media-stats":function(t){var n=t.video;e._stats={accessDelay:n.rtt.value,videoReceivedPacketsLostRate:n.lostPacketRate.value/100,videoReceivedBitrate:n.bitrate.value,videoReceivedFrameRate:n.fps.value,videoReceivedResolutionHeight:e._frameSize.width,videoReceivedResolutionWidth:e._frameSize.height,videoStallCount:n.stallCount500ms,videoStallDuration:n.stallDuration500ms,videoStallCount100MS:n.stallCount100ms,videoStallDuration100MS:n.stallDuration100ms},e._logger.send("receivedStreamStats",{stats:JSON.stringify(e._stats)}),e._player.emit("received-stream-stats",{stats:{width:e._frameSize.width,height:e._frameSize.height,rtt:n.rtt.value,videoLossRate:n.lostPacketRate.value/100,statsInterval:0,receivedKBitrate:n.bitrate.value,decoderOutputFrameRate:n.fps.value,receivedFrameRate:n.fps.value,e2eDelay:n.rtt.value,totalRtt:n.rtt.value,stallCount:n.stallCount500ms,stallDuration:n.stallDuration500ms,stallDuration100MS:n.stallCount100ms,stallCount100MS:n.stallDuration100ms}})},"on-sei":function(t){e._player.seiMessageReceviedHandler({sei:t},"")},"on-engine-ready":function(){console.log("engine ready"),e.isReady=!0,e.status="connected"},"on-first-packet":function(){console.log("on-first-packet")},"on-rotation-change":function(t){e.rotation=t,e._player.once("_onVideoFirstFrameRendered",(function(){e._updateVideoScale()}))},"on-decoder-init":function(){},"on-first-frame":function(t){var n;e._logger.localInfoLog("PodTrigger","onVideoFirstFrameRendered","first video frame"),e.renderEle.setAttribute("poster","");try{e._player.emit("first-remote-video-render"),e._player.emit("_onVideoFirstFrameRendered",t),e._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_FRAME_RENDER_SUCCESS})}catch(e2){}console.log("first-frame",t),e.client.play(),null===(n=e._player._pcImeHandler)||void 0===n||n.init(e.renderEle),e._player.touchHandler.updateVideoScale(e.renderEle),e.status="playing",e.sendStartUp()},"on-first-audio-frame":function(t){e._logger.localInfoLog("PodTrigger","onAudioFirstFrameDecoded","first audio frame"),e._logger.send("onFirstRemoteAudioFrame",{cost:0}),setTimeout((function(){console.warn("resume audio"),e.client.resume()}),1e3)},"on-frame-resize":function(t){e._frameSize=t,e._player.touchHandler.setStreamSize({streamWidth:t.width,streamHeight:t.height})},"on-game-control":function(t){if(e._player.usePB){var n={message:t.buffer};e._player.binaryMessageReceviedHandler(n),e.emit("message-received",{message:n})}else{var r={message:(new TextDecoder).decode(t)};e._player.messageReceivedHandler(r),e.emit("message-received",{message:r})}}})}},{key:"_client",get:function(){return console.warn("wts 音视频引擎不支持该功能，请切换RTC使用"),{}}},{key:"_updateVideoScale",value:function(){if(this.renderEle){var e=this._player.store,t=this.rotation,n=270===t||90===t;if("landscape"===e.paasGameRotation&&n){var r=document.getElementById(this._containerDomId),i=r.offsetWidth,a=r.offsetHeight,o=a/i;console.warn("count scale",r.offsetHeight,r.offsetWidth,o,this._frameSize);var s=1;if(o>=1){s=o>i/a?i/a:a/i}else{var l=a*(this._frameSize.height/this._frameSize.width);s=o>l/a?a/i:l/a}this.renderEle.style.scale="".concat(s),this.renderEle.style.rotate="-90deg"}}}},{key:"sendMessage",value:function(e){return this.client.sendGameCMD([new Uint8Array(e)]),Promise.resolve()}},{key:"isAudioMuted",value:function(){return this.renderEle.muted}},{key:"isVideoMuted",value:function(){return this.renderEle.muted}},{key:"muteStream",value:function(e,t){return this.renderEle.muted=!!e.audio,this.renderEle.muted}},{key:"getStats",value:function(){return Promise.resolve(this._stats)}},{key:"getConnectionState",value:function(){return this.status}},{key:"pauseOrResume",value:function(e){return this.client.player.paused=e,e?Promise.resolve(this.renderEle.pause()):this.renderEle.play()}},{key:"setAudioMute",value:function(e){return this.renderEle.muted=e,Promise.resolve("")}},{key:"play",value:function(e){return e&&this.renderEle.load(),this.renderEle.play()}},{key:"_publishStream",value:function(){return Promise.resolve("not implemented")}},{key:"_unPublishStream",value:function(){return Promise.resolve("not implemented")}},{key:"updateVideoRenderMode",value:function(e){return Promise.resolve("not implemented")}},{key:"destroy",value:function(){this.client.destroy()}},{key:"setVolume",value:function(e){this.client.video.volume=limitRange(e,0,1)}},{key:"getVolume",value:function(){return this.client.video.volume}}],[{key:"support",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isMobile$1()){e.next=2;break}return e.abrupt("return",!1);case 2:if(isWebTSSupport().supported){e.next=5;break}return e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,isH264Support();case 8:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[5,13]])}))),function(){return t.apply(this,arguments)})},{key:"support265",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,isH265Support();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(){return e.apply(this,arguments)})}]);var e,t,n}(),WebtsEngine=WebtsEngine$1;function isBusinessWtsSupport(e){return _isBusinessWtsSupport.apply(this,arguments)}function _isBusinessWtsSupport(){return(_isBusinessWtsSupport=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===MODE.CLOUD_PHONE_GAME){e.next=2;break}return e.abrupt("return",!1);case 2:if(isPC()){e.next=4;break}return e.abrupt("return",!1);case 4:if(n=isWebTSSupport(),n.supported){e.next=7;break}return e.abrupt("return",!1);case 7:return e.next=9,isH264Support();case 9:if(e.sent){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function chooseMediaProvider(e){return _chooseMediaProvider.apply(this,arguments)}function _chooseMediaProvider(){return _chooseMediaProvider=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}n=t,e.next=11;break;case 4:return e.next=6,isRtcSupported();case 6:if(!e.sent){e.next=10;break}n=COMMUNICATION_MODE.RTC,e.next=11;break;case 10:n=isSocketSupported()?COMMUNICATION_MODE.WS:COMMUNICATION_MODE.RTC;case 11:return console.log("chooseMediaProvider ".concat(n)),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)}))),_chooseMediaProvider.apply(this,arguments)}var logger=new Logger$2({}),statusMap=function(e){return STATUS_ERROR[e.exit_code]||STATUS_ERROR[e.pod_status]||[POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.CODE,POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.MESSAGE]};function checkRotationParam(e){if(e&&"landscape"!==e&&"portrait"!==e)throw logger.localErrorLog("Start","checkRotationParam","rotation error: ","rotation只能取值landscape或者portrait或者为空"),{errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,message:START_ERROR.ERROR_SDK_GENERAL.MESSAGE}}function countPassDuration(e){if(!e)return 0;var t=e.get("X-Paas-Start"),n=e.get("X-Paas-End");return t&&n?parseInt(n)-parseInt(t):0}function getSDKInfo(e){return{sdk_info:{head_os:"Web",sdk_version:e||"1.59.2",rtc_version:index.getSdkVersion()}}}function generateStartBody(e){return _generateStartBody.apply(this,arguments)}function _generateStartBody(){return(_generateStartBody=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gameHost,n=t.gameId,r=t.customGameId,t.token,i=t.userId,a=t.did,o=t.roundId,s=t.videoStreamProfileId,l=t.accountId,c=t.planId,d=t.reservedId,u=t.sessionId,U=t.autoRecycleTime,F=t.idleReminderDuration,p=t.width,Q=t.height,h=t.rotation,R=t.isScreenLock,_=t.userTag,S=t.extra,B=t.mediaProvider,m=t.userProfilePathList,t.enableFullScreen,f=t.platform,E=t.podSettings,v=t.sdkVersion,y=t.sessionMode,g=t.queuePriority,T=t.disableWebTsABTest,V=t.mode,checkRotationParam(h),k=!1,T&&"webts"!==B){e.next=13;break}return e.next=6,isBusinessWtsSupport(V);case 6:if(!(k=e.sent)){e.next=13;break}return e.next=10,isH265Support();case 10:if(!e.sent){e.next=12;break}N="H.265";case 12:T||(B="");case 13:return e.abrupt("return",_objectSpread2(_objectSpread2({game_id:n,custom_game_id:r,client_user_id:i,round_id:o,width:p,height:Q,device_id:a,client_session_id:u,platform:f,reserved_id:d,user_profile_path_list:m,configuration_code:c,game_rotation:h,orientation_lock:R,user_tag:_,extra:S,pod_settings:E?JSON.stringify(E):null,inner_extra:clearUndf({isPCWeb:"true",support_pb:MessageFactory$1.usePB?"true":void 0,web_video_codec:N,support_webts:k?"true":void 0}),video_stream_profile_id:void 0===s?null:parseInt(s),media_provider:B,auto_recycle_time:U,idle_reminder_duration:F,account_id:l,mode_type:y,queue_priority:g,client_user_ip:window.__client_user_ip||void 0},getSDKInfo(v)),getSDKInfo(v).sdk_info));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GameStart(e,t,n){return _GameStart.apply(this,arguments)}function _GameStart(){return(_GameStart=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U,F,p,Q;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.localInfoLog("Start","GameStart","controlright podSettings",n.podSettings),i=n.token,a=n.gameHost,o=n.roundId,s={Action:"SDKGameStart"},e.next=5,fetchBase({token:i,host:a,defaultHosts:GAME_HOST,extraRequiredParam:{roundId:o},params:s,body:t,name:"gameStart"},r);case 5:if(l=e.sent,c=l.success,d=l.data,u=l.error,U=l.req,F=l.origin,p=l.headers,Q={request:U,response:F,category:{paas_duration:countPassDuration(p)}},c||Object.assign(Q,{errc:u.errorCode,msg:u.message,oErrc:u.originalErrorCode,oMsg:u.originalMessage,oReqId:u.requestId,httpStatus:u.httpStatus}),r.send("startRequest",Q),c){e.next=20;break}throw r.localErrorLog("Start","GameStart","GameStart error",u),u;case 20:return r.localInfoLog("Start","GameStart","GameStart success"),e.abrupt("return",d);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PhoneStart(e,t){return _PhoneStart.apply(this,arguments)}function _PhoneStart(){return(_PhoneStart=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.phoneHost,a=t.productId,o=t.podId,s=t.userId,l=t.accountId,c=t.token,d=t.applicationId,u=t.sessionId,U=t.width,F=t.height,p=t.rotation,Q=t.planId,h=t.isReset,R=t.roundId,_=t.videoStreamProfileId,S=t.userTag,B=t.extra,t.mediaProvider,t.remoteLocationMock,m=t.enableLocalKeyboard,f=t.autoRecycleTime,E=t.mode,v=t.sdkVersion,y=t.did,g=t.platform,T=t.waitTime,V=t.isSimpleFetch,k=t.expireDuration,checkRotationParam(p),N={ProductId:a,ClientUserId:s,PodId:o,ConfigurationCode:Q,Reset:h,RoundId:R,UserTag:S,AccountId:l,Width:U,Height:F,VideoStreamProfileId:void 0===_?null:parseInt(_),AppId:d,AutoRecycleTime:f,Extra:B,InnerExtra:{fullDisplayFlag:"true"},EnableLocalKeyboard:m,ClientSessionId:u,RotationMode:void 0===p?"auto_rotation":p,SDKVersion:getSDKInfo(v).sdk_info.sdk_version,HeadOs:"Web",Platform:g,DeviceId:y,Timeout:Number.isNaN(Number(T))?1e4:1e3*T,ExpireDuration:k},e.next=5,fetchBase({token:c,host:i,defaultHosts:PHONE_HOST,signKey:"ACEP",extraRequiredParam:{productId:a},params:{Action:"PodStart",Version:"2023-10-30"},body:N,name:"phoneStart",noSendExtra:{mode:E},isSimpleFetch:V},n);case 5:if(b=e.sent,C=b.success,J=b.data,W=b.error,D=b.req,Z=b.origin,M=b.headers,C){e.next=17;break}throw n.localErrorLog("Start","PhoneStart","PodStart error",W),W;case 17:n.localInfoLog("Start","PodStart","PodStart success"),n.send("startRequest",{request:D,response:Z,category:{paas_duration:countPassDuration(M)}});case 19:if(null==J||null===(r=J.MediaList)||void 0===r||!r[0]){e.next=24;break}return O=null==J||null===(I=J.MediaList)||void 0===I?void 0:I[0],e.abrupt("return",{media_provider:O.StreamProvider,rtc_app_id:O.MediaAppId,rotation_mode:(null==O?void 0:O.Rotation)||(null==J?void 0:J.RotationMode),pod_id:null==J?void 0:J.PodId,reserved_id:null==J?void 0:J.ReserveId,s_key:null==J?void 0:J.SKey,room_id:O.RoomId,token:O.Token,pod_user_id:O.PodUserId,width:O.Width,height:O.Height,configuration_code:(null==J?void 0:J.ConfigurationCode)||O.ConfigurationCode,expected_rtc_idc:(null==J?void 0:J.ExpectedRtcIdc)||O.ExpectedRtcIdc});case 24:throw Error("invalid response in PodStart");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function StartPodEventSync(e,t){return _StartPodEventSync.apply(this,arguments)}function _StartPodEventSync(){return(_StartPodEventSync=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,i=t.roundId,a=void 0===i?"".concat((new Date).getTime()):i,o=t.productId,s=t.userId,l=t.controlledPodIdList,c=t.enableForce,d=t.phoneHost,u=void 0===d?"":d,U=t.masterPodId,F=void 0===U?"":U,p=t.roomSize,Q=void 0===p?300:p,h=t.extraInfoList,R=void 0===h?[]:h,_={ProductId:o,ClientId:s,RoundId:a,ControlledPodIdList:l,RoomSize:Q,MasterPodId:F,EnableForce:c},Array.isArray(R)&&R.length>0&&(_.ExtraInfoList=R.map((function(e){return{PodId:e.podId,ExpireDuration:e.expireTime}}))),e.next=5,fetchBase({token:r,host:u,defaultHosts:PHONE_HOST,signKey:"ACEP",params:{Action:"StartPodEventSync",Version:"2023-10-30"},body:_,name:"startPodEventSync"},n);case 5:if(S=e.sent,B=S.success,m=S.data,f=S.error,S.req,S.origin,S.headers,B){e.next=17;break}throw n.localErrorLog("Start","StartPodEventSync","PodStart error",f),f;case 17:n.localInfoLog("Start","StartPodEventSync","PodStart success");case 18:return e.abrupt("return",m);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MonitorPod(e,t){return _MonitorPod.apply(this,arguments)}function _MonitorPod(){return(_MonitorPod=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.phoneHost,i=t.monitorPodId,a=t.monitorUserId,o=t.monitorToken,t.monitorAccountId,e.next=3,fetchBase({token:o,host:r,defaultHosts:PHONE_HOST,method:"GET",signKey:"ACEP",extraRequiredParam:{monitorPodId:i,monitorUserId:a},params:{Action:"MonitorPod",Version:"2020-10-25",pod_id:i,client_user_id:a},name:"monitorPod"},n);case 3:if(s=e.sent,l=s.success,c=s.data,d=s.error,l){e.next=10;break}throw n.localErrorLog("Start","MonitorPod","MonitorPod error:",d),d;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GetResourceStatus(e,t){var n=e.getResourceHost,r=e.reservedId,i=e.skey;return fetchInnerApi({host:n,url:"/api/instance/status",name:"getResourceStatus",extraRequiredParam:{reservedId:r,skey:i},params:{reserved_id:r,skey:i},customHandleReturn:function(e){if(e.success){var t=_slicedToArray(statusMap(e),2),n=t[0],r=t[1],i=e.exit_code||e.pod_status,a="".concat(e.exit_code,"_").concat(e.pod_status);return _objectSpread2(_objectSpread2({},e),{},{errorCode:n,message:r,originalErrorCode:i,originalMessage:a})}var o="";try{(o=JSON.stringify(e)).length>300&&(o=o.substring(0,300))}catch(e2){o="parse result failed"}return _objectSpread2(_objectSpread2({},e),{},{errorCode:POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.CODE,message:POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.MESSAGE,originalMessage:"GetResourceStatus 失败 ".concat(o)})}},t)}function GetVePhonePodStatus(e,t){var n=e.getResourceHost,r=e.sKey;return fetchInnerApi({host:n,url:"/openapi/sdk/cloudnative/v2/pod/get_status",name:"GetPodStatus",defaultHosts:VEPHONE_GET_RESOURCE_HOST,headers:{Authorization:"Bearer ".concat(r)},customHandleReturn:function(e){return e}},t)}function GetMediaToken(e,t){return _GetMediaToken.apply(this,arguments)}function _GetMediaToken(){return(_GetMediaToken=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.phoneHost,i=t.token,a=t.productId,o=t.userId,s=t.mediaList,e.next=3,fetchBase({token:i,host:r,defaultHosts:PHONE_HOST,signKey:"ACEP",params:{Action:"GetMediaToken",Version:"2023-10-30"},body:{ProductId:a,ClientUserId:o,MediaList:s},name:"getMediaToken"},n);case 3:if(l=e.sent,c=l.success,d=l.data,u=l.error,c){e.next=10;break}throw n.localErrorLog("updateExpireTime","GetMediaToken","GetMediaToken error:",u),u;case 10:if(!d.TokenList){e.next=14;break}return e.abrupt("return",d.TokenList);case 14:throw Error("invalid response in GetMediaToken");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UpdatePhoneRTCToken(e,t){return _UpdatePhoneRTCToken.apply(this,arguments)}function _UpdatePhoneRTCToken(){return _UpdatePhoneRTCToken=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getResourceHost,i=t.skey,e.abrupt("return",fetchInnerApi({host:r,url:"/openapi/sdk/cloudnative/v2/get_rtc_token",name:"GetRTCToken",defaultHosts:VEPHONE_GET_RESOURCE_HOST,headers:{Authorization:"Bearer ".concat(i)},customHandleReturn:function(e){return e}},n));case 2:case"end":return e.stop()}}),e)}))),_UpdatePhoneRTCToken.apply(this,arguments)}function UpdateMediaToken(e,t){return _UpdateMediaToken.apply(this,arguments)}function _UpdateMediaToken(){return(_UpdateMediaToken=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getResourceHost,i=t.reservedId,a=t.skey,o=t.userId,e.next=3,fetchBase({token:!1,host:r,defaultHosts:GET_RESOURCE_HOST,url:"/api/volc/media_token",method:"GET",signKey:null,params:{client_user_id:o,reserved_id:i,skey:a},name:"updateMediaToken"},n);case 3:if(s=e.sent,l=s.success,c=s.data,d=s.error,l){e.next=10;break}throw n.localErrorLog("Start","UpdateMediaToken","UpdateMediaToken error:",d),d;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GetTaskInfo(e,t){return _GetTaskInfo.apply(this,arguments)}function _GetTaskInfo(){return(_GetTaskInfo=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.phoneHost,i=t.token,a=t.taskId,o=t.productId,e.next=3,fetchBase({token:i,host:r,defaultHosts:PHONE_HOST,signKey:"ACEP",method:"GET",params:{Action:"GetTaskInfo",Version:"2023-10-30",ProductId:o,TaskId:a},name:"getTaskInfo"},n);case 3:if(s=e.sent,l=s.success,c=s.data,d=s.error,l){e.next=10;break}throw n.localErrorLog("startEventSync","GetTaskInfo","GetTaskInfo error:",d),d;case 10:if(!c){e.next=14;break}return e.abrupt("return",c);case 14:throw Error("invalid response in GetTaskInfo");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EventStore=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this._removeList=[]}),[{key:"setElement",value:function(e){this.el=e}},{key:"getTarget",value:function(e){return["keydown","keyup","paste"].includes(e)?document:this.el}},{key:"add",value:function(e,t){if("object"===_typeof$1(e))for(var n in e)this.add(n,e[n]);else{if(null===t)return;this.getTarget(e).addEventListener(e,t),this._removeList.push({name:e,fn:t})}}},{key:"remove",value:function(e){var t,n=null===(t=this._removeList.find((function(t){var n=t.name;return e===n})))||void 0===t?void 0:t.fn;if(n){this.getTarget(e).removeEventListener(e,n);var r=this._removeList.indexOf(n);r>-1&&this._removeList.splice(r,1)}}},{key:"clear",value:function(){var e=this;this._removeList.forEach((function(t){var n=t.name,r=t.fn;e.getTarget(n).removeEventListener(n,r)})),this._removeList=[]}},{key:"getChangedTouches",value:function(e){var t=this;return Array.from(e.changedTouches).filter((function(e){return t.el.contains(e.target)}))}}])}(),TouchIdUnifier=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.isIOS=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),this.idArray=[],this.idMap={},this._nextId=0}),[{key:"touchCancel",value:function(){this.idArray=[],this.idMap={},this._nextId=0}},{key:"unite",value:function(e){return this.isIOS?(this.handleTouches(e.touches),this.handleTouches(e.changedTouches,"touchend"===e.type),e):e}},{key:"uniteId",value:function(e,t){var n=this.idMap[e],r=null!=n?n:this.nextId(e);return t&&this.onTouchEnd(e),r}},{key:"handleTouches",value:function(e,t){var n,r=_createForOfIteratorHelper$1(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.uniteId(i.identifier,t);Object.defineProperty(i,"identifier",{value:a})}}catch(err2){r.e(err2)}finally{r.f()}}},{key:"nextId",value:function(e){var t=this._nextId;return this.idArray[t]=e,this.idMap[e]=t,this.updateNextId(),t}},{key:"updateNextId",value:function(){for(var e=0;e<this.idArray.length;e++)if(void 0===this.idArray[e])return void(this._nextId=e);this._nextId=this.idArray.length}},{key:"onTouchEnd",value:function(e){var t=this.idMap[e];"number"==typeof t&&(delete this.idMap[e],this.idArray[t]=void 0,this.updateNextId())}}])}(),TouchSender=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._touchCacheMap={},this.touchUnifier=new TouchIdUnifier,this._touchDataCache={},this.parent=t}),[{key:"_modifyTouchCache",value:function(e,t){Array.isArray(e)||(e=[e]);var n=this._touchCacheMap;e.forEach((function(e){var r=e.pointerId;if(!t){var i=n[r];i?(i.x=e.x,i.y=e.y):n[r]=Object.assign({},e)}n[r]?n[r].isActive=!0:console.warn("cacheMap[id] not exist",r,Object.keys(n).length)}));var r=this.generateTouchList();return t&&e.forEach((function(e){var t=e.pointerId;n[t]&&delete n[t]})),r}},{key:"generateTouchList",value:function(){var e=this._touchCacheMap,t=[],n=[];for(var r in e)t.push(parseInt(r)),n.push(Object.assign({},e[r])),e[r].isActive=!1;return{idArr:t,touchList:n}}},{key:"clearAllTouch",value:function(){var e=this._touchCacheMap;for(var t in e){var n=e[t],r=n.pointerId,i=n.x,a=n.y;this.send({pointerId:r,x:i,y:a,action:ACTION.TOUCH_END})}this.touchUnifier.touchCancel()}},{key:"isPCTouch",get:function(){return this.parent.mode===MODE.CLOUD_PC&&!this.parent._player._isHaiMACloud}},{key:"sendTouchList",value:function(e){var t=this,n=e.touchList,r=e.action,i=e.androidAction,a=this.isPCTouch,o=n.map((function(e){return{action:a?t.countPCTouchAction(e.isActive,r):i,originAction:r,pointerId:e.pointerId,x:e.x,y:e.y}})),s=this.parent,l=s._player,c=s.disableDefaultTouchEvent,d=s.podWidth,u=s.podHeight;if(l.emit("on-touch-event",o.map((function(e){var n=e.pointerId,i=e.x,a=e.y,o={action:r,pointerId:n,x:i,y:a,movementX:0,movementY:0};if(r===ACTION.TOUCH_MOVE){var s;if(null!==(s=t._touchDataCache[n])&&void 0!==s&&s.triggered){var l=i-t._touchDataCache[n].lastX,c=a-t._touchDataCache[n].lastY;o.movementX=Math.round(l*d),o.movementY=Math.round(c*u)}else t._touchDataCache[n]={};Object.assign(t._touchDataCache[n],{triggered:!0,lastX:i,lastY:a})}else t._touchDataCache[n]={triggered:!1,lastX:0,lastY:0};return o}))),!c)if(this.isPCTouch){var U=[];o.forEach((function(e){U.push({id:e.pointerId,type:e.action,w:d,h:u,x:Math.round(d*parseFloat(e.x)),y:Math.round(u*parseFloat(e.y)),radius:1,pressure:1})}));var F=ProtoBufMessage.encodeTouchMsg(U);l._sendMessage(F,!0)}else{var p;MessageFactory$1.usePB&&o.forEach((function(e,t){o[t].pointer_id=e.pointerId,delete o[t].pointerId}));var Q=(null===(p=l._detectDelayHandler)||void 0===p?void 0:p.touchDelayDetector.geneCheckId())||0,h=MessageFactory$1.eventTypeTouch({eventData:o,checkId:Q});l._sendCustomMessage(h)}}},{key:"send",value:function(e){var t=this;Array.isArray(e)||(e=[e]);var n=Array.isArray(e)?e[0]:e,r=n.action,i=r===ACTION.TOUCH_END;e.forEach((function(e){e.isActive=n===e,e.pointerId=t.touchUnifier.uniteId(e.pointerId,i)}));var a=this._modifyTouchCache(e,i),o=a.idArr,s=a.touchList,l=this.isPCTouch?null:this.countSendAction(o,r,n.pointerId);this.sendTouchList({action:r,touchList:s,androidAction:l})}},{key:"countSendAction",value:function(e,t,n){if(t===ACTION.TOUCH_MOVE||e.length<2)return t;var r=t===ACTION.TOUCH_START?5:6;return 256*e.indexOf(n)+r}},{key:"countPCTouchAction",value:function(e,t){return t===ACTION.MOVE?ACTION.PC_TOUCH_MOVE:t===ACTION.TOUCH_START?e?ACTION.PC_TOUCH_DOWN:ACTION.PC_TOUCH_MOVE:e?ACTION.PC_TOUCH_UP:ACTION.PC_TOUCH_MOVE}}])}(),TouchHandler=function(){return _createClass$1((function e(t,n){var r=this,i=n.domId,a=n.mode,o=n.isPC,s=void 0!==o&&o,l=n.disableInteraction,c=void 0!==l&&l,d=n.enableLocalMouseScroll,u=void 0!==d&&d,U=n.localKeyboardHandler,F=void 0===U?null:U,p=n.systemCursorShowStatHandler,Q=n.disableDefaultTouchEvent;_classCallCheck$1(this,e),this.noScaleAndLandscape=!1,this.noScale=!1,this.eventStore=new EventStore,this.hasVideoBlackPadding=!1,this.mouseMoveInterval=0,this.mouseMoveLastTriggerTime=Date.now(),this.mouseMoveCacheData={movementX:0,movementY:0},this._isPEinited=!1,this.touchSender=new TouchSender(this),this._player=t,this.domId=i,this.mode=a,this.isPC=s,this.disableInteraction=c,this.enableLocalMouseScroll=u,this.disableDefaultTouchEvent=Q,this.hasMouseScrollVirtualClick=!1,this.mouseScrollVirtualClickPosition={clientX:null,clientY:null},this.touchElement=document.getElementById(i),this.eventStore.setElement(this.touchElement),this.keyPressedList={},this.isMouseDown=!1,this.podUserId=null,this.podWidth=null,this.podHeight=null,this.streamWidth=null,this.streamHeight=null,this.scale=null,this.enableScale=!0,this.degree=null,this.rotation=null,this.localKeyboardHandler=F,this.systemCursorShowStatHandler=p,this.systemCursorShowStat=!0,this.systemCursorHiddenVirtualPosition={clientX:null,clientY:null},this._videoRenderMode=VIDEO_RENDER_MODE.CONTAIN,this._isClickFlag=!1,this._initEvent(),this._player.getConfig("enableScreenRotationTouch")&&this.isPC&&0===this.mode&&"portrait"!==this._player.rotationMode&&this._player.on("on-screen-rotation",(function(e){e.fromPod&&(r.rotation=e.rotation)}))}),[{key:"setMouseMoveInterval",value:function(e){this.mouseMoveInterval=e}},{key:"setDegree",value:function(e){var t=e%360;this._player.emit("on-screen-rotation",{appOriginDirection:0===this._player.rotationDegree?"portrait":"landscape",streamDirection:"portrait"===this._player.rotationMode&&0!==this.rotation?"landscape":"portrait",uiDomRotation:null!=t?t:0}),this.degree=t}},{key:"setRotation",value:function(e){this.rotation=e%360}},{key:"pointerMove",value:function(e){var t=this,n=e.getCoalescedEvents();n&&n.forEach((function(e){t.mouseMove(e)})),this._isPEinited||(this._isPEinited=!0,this.eventStore.remove(n?"mousemove":"pointermove"))}},{key:"_initEvent",value:function(){var e=this;if(!this.disableInteraction){var t,n,r=function(){return{touchstart:e.touchStart.bind(e),touchend:e.touchEnd.bind(e),touchmove:e.touchMove.bind(e),touchcancel:function(){e.touchSender.clearAllTouch()}}},i=function(){return{mousedown:e.mouseDown.bind(e),mouseup:e.mouseUp.bind(e),mousemove:e.mouseMove.bind(e),pointermove:e.pointerMove.bind(e),contextmenu:e.contextListener.bind(e)}},a=function(){return{keydown:e.keydown.bind(e),keyup:e.keyup.bind(e)}};this.mode===MODE.CLOUD_PHONE||this.mode===MODE.CLOUD_PHONE_GAME?(t=function(){return e.eventStore.add(_objectSpread2(_objectSpread2({},i()),{},{mouseleave:e.mouseUp.bind(e),mousewheel:e.enableLocalMouseScroll?e.wheelEvent.bind(e):null}))},n=function(){return e.eventStore.add(r())}):this.mode===MODE.CLOUD_PC&&(t=function(){return e.eventStore.add(_objectSpread2(_objectSpread2(_objectSpread2({},i()),a()),{},{mousewheel:e.wheelEvent.bind(e)}))},n=function(){return e.eventStore.add(_objectSpread2(_objectSpread2({},r()),a()))});var o=this._player.config.mouseAndTouch||"auto",s="mouse"===o||"both"===o||"auto"===o&&this.isPC,l="touch"===o||"both"===o||"auto"===o&&!this.isPC;s&&t(),l&&n()}}},{key:"setStreamSize",value:function(e){var t=e.streamWidth,n=e.streamHeight;this.streamWidth=t,this.streamHeight=n}},{key:"setContentSize",value:function(e){var t=e.width,n=e.height,r=e.enableScale;t&&(this.podWidth=t),n&&(this.podHeight=n),"boolean"==typeof r&&(this.enableScale=r)}},{key:"videoRenderMode",get:function(){return this._videoRenderMode},set:function(e){this._videoRenderMode=e}},{key:"updateVideoScale",value:function(e){var t=1;if(this.noScale){if(this._videoRenderMode===VIDEO_RENDER_MODE.COVER&&this.hasVideoBlackPadding){t=(this.podWidth/this.podHeight).toFixed(6)>(this.touchElement.clientWidth/this.touchElement.clientHeight).toFixed(6)?this.touchElement.clientHeight*this.podWidth/(this.podHeight*this.touchElement.clientWidth):this.touchElement.clientWidth*this.podHeight/(this.podWidth*this.touchElement.clientHeight);var n="scale(".concat(t.toFixed(6),")");e.style.transform=n}return{podWidth:this.podWidth,podHeight:this.podHeight,streamWidth:this.streamWidth,streamHeight:this.streamHeight,clientWidth:this.touchElement.clientWidth,clientHeight:this.touchElement.clientHeight,scale:t,noScale:!0}}if(this.noScaleAndLandscape){var r,i,a=(this.podWidth/this.podHeight).toFixed(6),o=(this.podHeight/this.podWidth).toFixed(6),s=(this.touchElement.clientWidth/this.touchElement.clientHeight).toFixed(6);a>s?(r=this.touchElement.clientWidth,i=this.podHeight/this.podWidth*r):(i=this.touchElement.clientHeight,r=this.podWidth/this.podWidth*i);var l=i,c=r;t=o>s?this._videoRenderMode===VIDEO_RENDER_MODE.COVER?this.touchElement.clientHeight/c:this.touchElement.clientWidth/l:this._videoRenderMode===VIDEO_RENDER_MODE.COVER?this.touchElement.clientWidth/l:this.touchElement.clientHeight/c;var d="rotate(90deg) scale(".concat(t.toFixed(6),")");return e.style.transform=d,{podWidth:this.podWidth,podHeight:this.podHeight,streamWidth:this.streamWidth,streamHeight:this.streamHeight,clientWidth:this.touchElement.clientWidth,clientHeight:this.touchElement.clientHeight,scale:t,noScaleAndLandscape:!0}}var u=this.podWidth,U=this.podHeight,F=this.streamWidth,p=this.streamHeight;270!==this.rotation&&90!==this.rotation||(u=this.podHeight,U=this.podWidth,F=this.streamHeight,p=this.streamWidth);var Q=e,h=(F/p).toFixed(6),R=(u/U).toFixed(6),_=(this.touchElement.clientWidth/this.touchElement.clientHeight).toFixed(6);if(this.enableScale&&R>h&&_>h)if(R>_){var S=F/p*this.touchElement.clientHeight;t=this.touchElement.clientWidth/S}else{var B=U/u*F/p*this.touchElement.clientHeight;t=this.touchElement.clientHeight/B}if(this.enableScale&&h>R&&h>_)if(R>_){var m=u/U*p/F*this.touchElement.clientWidth;t=this.touchElement.clientWidth/m}else{var f=p/F*this.touchElement.clientWidth;t=this.touchElement.clientHeight/f}if(t){this.scale=Math.ceil(1e5*t)/1e5;var E="scale(".concat(this.scale,")");Q&&(Q.style.transform=E)}return{rotationPodWidth:u,rotationPodHeight:U,rotationStreamWidth:F,rotationStreamHeight:p,clientWidth:this.touchElement.clientWidth,clientHeight:this.touchElement.clientHeight,scale:t||1}}},{key:"contextListener",value:function(e){e.preventDefault()}},{key:"touchStart",value:function(e){var t;if(this._player.canOperate&&"playing"===(null===(t=this._player.client)||void 0===t?void 0:t.status)){this._player.lastTouchTime=(new Date).getTime(),e.preventDefault(),1===e.touches.length&&isiOS()&&this.localKeyboardHandler&&this.localKeyboardHandler.status===LOCAL_KEYBOARD_STATUS.NEED_INTERACTION&&this.localKeyboardHandler.inputFocus();for(var n=this.eventStore.getChangedTouches(e),r=this.touchElement.getBoundingClientRect(),i=this.touchElement.clientWidth,a=this.touchElement.clientHeight,o=r.left,s=r.top,l=0;l<n.length;l++){var c=n[l],d=c.clientX-o,u=c.clientY-s,U=this.coordinateScaleAndRotate({width:i,height:a,targetx:d,targety:u,podWidth:this.podWidth,podHeight:this.podHeight}),F=U.x,p=U.y,Q=c.identifier,h={action:ACTION.TOUCH_START,pointerId:Q,x:F,y:p};this.sendTouchMessage(h)}this._isClickFlag=!0}}},{key:"touchEnd",value:function(e){var t;if(this._player.canOperate&&"playing"===(null===(t=this._player.client)||void 0===t?void 0:t.status)){e.preventDefault();for(var n=this.eventStore.getChangedTouches(e),r=this.touchElement.getBoundingClientRect(),i=this.touchElement.clientWidth,a=this.touchElement.clientHeight,o=r.left,s=r.top,l=0;l<n.length;l++){var c=n[l],d=c.clientX-o,u=c.clientY-s,U=this.coordinateScaleAndRotate({width:i,height:a,targetx:d,targety:u,podWidth:this.podWidth,podHeight:this.podHeight}),F=U.x,p=U.y,Q=c.identifier,h={action:ACTION.TOUCH_END,pointerId:Q,x:F,y:p};this.sendTouchMessage(h)}this._firstClickPlayAudio()}}},{key:"touchMove",value:function(e){var t;if(this._player.canOperate&&"playing"===(null===(t=this._player.client)||void 0===t?void 0:t.status)){e.preventDefault();for(var n=this.eventStore.getChangedTouches(e),r=this.touchElement.getBoundingClientRect(),i=this.touchElement.clientWidth,a=this.touchElement.clientHeight,o=r.left,s=r.top,l=[],c=0;c<n.length;c++){var d=n[c],u=d.clientX-o,U=d.clientY-s,F=this.coordinateScaleAndRotate({width:i,height:a,targetx:u,targety:U,podWidth:this.podWidth,podHeight:this.podHeight}),p=F.x,Q=F.y,h=d.identifier;l.push({action:ACTION.TOUCH_MOVE,pointerId:h,x:p,y:Q})}this.sendTouchMessage(l),isiOS()&&(this._isClickFlag=!1)}}},{key:"sendTouchMessage",value:function(e){return this.touchSender.send(e)}},{key:"mouseDown",value:function(e){var t;if(this._player.canOperate&&"playing"===(null===(t=this._player.client)||void 0===t?void 0:t.status)){if(this._player.lastTouchTime=(new Date).getTime(),this.mode===MODE.CLOUD_PC){e.preventDefault(),this.systemCursorShowStatHandler.setSystemCursorShowAuto("mousedown");var n=ProtoBufMessage.encodeMouseKeyMsg(e.button,!0);this._player._sendMessage(n,!0)}else{if(2===e.button)return;this.resetMouseScrollVirtualClick(e),this.isMouseDown=!0;var r=this.mouseConvert(e,ACTION.DOWN);this.sendTouchMessage(r)}this._isClickFlag=!0,this._firstClickPlayAudio()}}},{key:"mouseMove",value:function(e){var t;if(this._player.canOperate&&"playing"===(null===(t=this._player.client)||void 0===t?void 0:t.status))if(this.mode===MODE.CLOUD_PC){var n,r;if(this.mouseMoveCacheData.movementX+=e.movementX,this.mouseMoveCacheData.movementY+=e.movementY,Date.now()-this.mouseMoveLastTriggerTime<this.mouseMoveInterval)return;var i=this.touchElement.getBoundingClientRect(),a=i.left,o=i.top,s=this.touchElement.clientWidth,l=this.touchElement.clientHeight,c=this.mouseMoveCacheData.movementX,d=this.mouseMoveCacheData.movementY,u={clientX:e.clientX,clientY:e.clientY},U=!1;if(null===(n=this.systemCursorShowStatHandler)||void 0===n||n.setSystemCursorShowAuto(),null!==(r=this.systemCursorShowStatHandler)&&void 0!==r&&r.localCursorShowStats)this.systemCursorHiddenVirtualPosition={clientX:null,clientY:null};else{var F;U=!0;var p=null===(F=this.systemCursorShowStatHandler)||void 0===F?void 0:F.cursorSensitivity;if(c=parseInt(c*p),d=parseInt(d*p),null===this.systemCursorHiddenVirtualPosition.clientX&&null===this.systemCursorHiddenVirtualPosition.clientY)this.systemCursorHiddenVirtualPosition={clientX:e.clientX,clientY:e.clientY};else{var Q=this.systemCursorHiddenVirtualPosition.clientX+c,h=this.systemCursorHiddenVirtualPosition.clientY+d,R=Q-a,_=h-o;R<=s&&R>=0&&(this.systemCursorHiddenVirtualPosition.clientX=Q),_<=l&&_>=0&&(this.systemCursorHiddenVirtualPosition.clientY=h)}u=this.systemCursorHiddenVirtualPosition}var S=this._player.handlers.CursorPosHandler;S.isEnable&&(u=S.onMouseMove({isPointLock:U,clientWidth:s,clientHeight:l,offsetLeft:a,offsetTop:o,movementX:c,movementY:d}));var B=this.mouseConvertPCPB({event:u,action:ACTION.MOVE,width:s,height:l,offsetLeft:a,offsetTop:o}),m=B.x,f=B.y;this._player._debug&&console.log(LOG_TAG,"x, y: ",m+", "+f);var E=limitRange(parseInt(s*parseFloat(m)),1,s-1),v=limitRange(parseInt(l*parseFloat(f)),1,l-1),y=ProtoBufMessage.encodeMouseMoveMsg({movementX:c,movementY:d,clientWidth:s,clientHeight:l,offsetX:E,offsetY:v}),g=y.movePBMessage,T=y.cursorPosPBMessage;this._player._sendMessage(g,!0),this._player._sendMessage(T,!0),this.mouseMoveLastTriggerTime=Date.now(),this.mouseMoveCacheData.movementX=0,this.mouseMoveCacheData.movementY=0}else{if(2===e.button)return;if(!this.isMouseDown)return;this.resetMouseScrollVirtualClick(e);var V=this.mouseConvert(e,ACTION.MOVE);this.sendTouchMessage(V)}}},{key:"mouseUp",value:function(e){var t;if(this._player.canOperate&&"playing"===(null===(t=this._player.client)||void 0===t?void 0:t.status))if(this.mode===MODE.CLOUD_PC){e.preventDefault();var n=ProtoBufMessage.encodeMouseKeyMsg(e.button);this._player._sendMessage(n,!0)}else{if(2===e.button)return;if(!this.isMouseDown)return;this.resetMouseScrollVirtualClick(e),this.isMouseDown=!1;var r=this.mouseConvert(e,ACTION.UP);this.sendTouchMessage(r)}}},{key:"resetMouseScrollVirtualClick",value:function(){if(this.mode===MODE.CLOUD_PHONE&&this.hasMouseScrollVirtualClick){this.hasMouseScrollVirtualClick=!1;var e=this.mouseConvert(this.mouseScrollVirtualClickPosition,ACTION.MOVE,MOUSE_SCROLL_VIRTUAL_CLICK);this.sendTouchMessage(e);var t=this.mouseConvert(this.mouseScrollVirtualClickPosition,ACTION.UP,MOUSE_SCROLL_VIRTUAL_CLICK);this.sendTouchMessage(t),this.mouseScrollVirtualClickPosition={clientX:null,clientY:null}}}},{key:"mouseConvert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NATIVE_MOUSE_PRE,r=this.touchElement.clientWidth,i=this.touchElement.clientHeight,a=this.podWidth,o=this.podHeight,s=this.touchElement.getBoundingClientRect().left,l=this.touchElement.getBoundingClientRect().top,c=e.clientX-s,d=e.clientY-l,u=this.coordinateScaleAndRotate({width:r,height:i,targetx:c,targety:d,podWidth:a,podHeight:o}),U={x:u.x,y:u.y};return U.action=t,U.pointerId=n,U}},{key:"wheelEvent",value:function(e){var t=this;if(this._player.canOperate)if(e.preventDefault(),this.mode===MODE.CLOUD_PC){var n;if("playing"!==(null===(n=this._player.client)||void 0===n?void 0:n.status))return;this.systemCursorShowStatHandler.setSystemCursorShowAuto();var r=e.deltaX,i=e.deltaY;isMac$1()||(r=-r,i=-i);var a=ProtoBufMessage.encodeWheelMsg(r,i);this._player._sendMessage(a,!0)}else if(this.mode===MODE.CLOUD_PHONE){if(!this.hasMouseScrollVirtualClick){this.hasMouseScrollVirtualClick=!0;var o=this.mouseConvert(e,ACTION.DOWN,MOUSE_SCROLL_VIRTUAL_CLICK);this.sendTouchMessage(o),this.resetMouseScroll=debounce((function(){return t.resetMouseScrollVirtualClick()}),200)}this.resetMouseScroll(),null===this.mouseScrollVirtualClickPosition.clientX&&null===this.mouseScrollVirtualClickPosition.clientY&&(this.mouseScrollVirtualClickPosition={clientX:e.clientX,clientY:e.clientY});var s=e.deltaX,l=e.deltaY;isMac$1()||(s=-s,l=-l);var c=s&&(s>0?1:-1)*this.touchElement.clientWidth*.1,d=l&&(l>0?1:-1)*this.touchElement.clientHeight*.1;this.mouseScrollVirtualClickPosition.clientX+=c,this.mouseScrollVirtualClickPosition.clientY+=d;var u=this.mouseConvert(this.mouseScrollVirtualClickPosition,ACTION.MOVE,MOUSE_SCROLL_VIRTUAL_CLICK);this.sendTouchMessage(u)}else{var U=this.touchElement.getBoundingClientRect(),F=this.mouseConvertPC({event:e,action:ACTION.WHEEL,width:this.touchElement.clientWidth,height:this.touchElement.clientHeight,offsetLeft:U.left,offsetTop:U.top});this._player._sendCustomMessage(F)}}},{key:"mouseConvertPC",value:function(e){var t,n,r,i=e.event,a=e.action,o=e.width,s=e.height,l=e.offsetLeft,c=e.offsetTop,d=i.clientX-l,u=i.clientY-c,U=this.coordinateScaleAndRotate({width:o,height:s,targetx:d,targety:u,podWidth:this.podWidth,podHeight:this.podHeight}),F=U.x,p=U.y,Q=i.button;return a===ACTION.WHEEL?(r=i.deltaY,n=i.deltaX,t=0):t=1===Q?2:2===Q?1:0,MessageFactory$1.eventTypeMouse({button:t,action:a,x:F,y:p,deltaX:n,deltaY:r})}},{key:"mouseConvertPCPB",value:function(e){var t=e.event;e.action;var n=e.width,r=e.height,i=e.offsetLeft,a=e.offsetTop,o=t.clientX-i,s=t.clientY-a,l=this.coordinateScaleAndRotate({width:n,height:r,targetx:o,targety:s,podWidth:this.podWidth,podHeight:this.podHeight});return{x:l.x,y:l.y}}},{key:"coordinateScaleAndRotate",value:function(e){var t,n,r=e.width,i=e.height,a=e.targetx,o=e.targety,s=e.podWidth,l=e.podHeight,c=this.degree,d=s,u=l,U=r,F=i;if((270===this.rotation||90===this.rotation||this.noScaleAndLandscape)&&(d=l,u=s),90===c||270===c){var p=d;d=u,u=p,p=U,U=F,F=p}var Q,h,R,_=d/u,S=U/F;if(this._videoRenderMode===VIDEO_RENDER_MODE.COVER)this.noScaleAndLandscape?_>S?(n=o/(Q=F),t=(a+((h=parseInt(Q/u*d))-U)/2)/h):(t=a/(h=U),n=(o+((Q=parseInt(h/d*u))-F)/2)/Q):_>S?(n=o/(Q=F),t=(a+((h=parseInt(d/u*Q))-U)/2)/h):(t=a/(h=U),n=(o+((Q=parseInt(u/d*h))-F)/2)/Q);else if(this._videoRenderMode===VIDEO_RENDER_MODE.FILL)t=a/U,n=o/F;else{if(d&&u)if(_>S)t=a/(h=U),n=(o-(F-(Q=parseInt(u/d*h)))/2)/Q;else Q=F,t=(a-(U-(h=parseInt(d/u*Q)))/2)/h,n=o/Q;else t=a/U,n=o/F}return R=90===c?{x:n.toFixed(6),y:(1-t).toFixed(6)}:180===c?{x:(1-t).toFixed(6),y:(1-n).toFixed(6)}:270===c?{x:(1-n).toFixed(6),y:t.toFixed(6)}:{x:t.toFixed(6),y:n.toFixed(6)},this.noScaleAndLandscape?{x:parseFloat(R.y),y:1-parseFloat(R.x)}:{x:parseFloat(R.x),y:parseFloat(R.y)}}},{key:"_sendKeyDown",value:function(e){this._player._sendMessage(ProtoBufMessage.encodeKeyMsg(e,!0),!0)}},{key:"keydown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._player.canOperate)if(this.mode===MODE.CLOUD_PC){var n,r=e.code||e.key;if("playing"!==(null===(n=this._player.client)||void 0===n?void 0:n.status))return;if(this.systemCursorShowStatHandler.setSystemCursorShowAuto(),this.keyPressedList[r]&&"Backspace"!==r&&!t)return;this.keyPressedList[r]=r;var i=this._player._pcImeHandler;if(!i||i.needSendKey(e,!0)||t){var a=ProtoBufMessage.encodeKeyMsg(r,!0);this._player._sendMessage(a,!0)}}else{var o=keyCodeConvertPCtoAndroid(e);if(o&&-1!==o){var s=MessageFactory$1.eventTypeKey({action:ACTION.DOWN,key_code:o});this._player._sendCustomMessage(s)}}}},{key:"keyup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._player.canOperate)if(this.mode===MODE.CLOUD_PC){var n,r=e.code;if("playing"!==(null===(n=this._player.client)||void 0===n?void 0:n.status))return;if(!this.keyPressedList[r]&&!t)return;delete this.keyPressedList[r];var i=this._player._pcImeHandler;if(!i||i.needSendKey(e)||t){var a=ProtoBufMessage.encodeKeyMsg(r,!1);this._player._sendMessage(a,!0)}}else{var o=keyCodeConvertPCtoAndroid(e);if(o)if(-1===o){var s=MessageFactory$1.eventTypeKey({action:ACTION.UP,key_code:-1,value:e.key&&encodeURIComponent(e.key)});this._player._sendCustomMessage(s)}else{var l=MessageFactory$1.eventTypeKey({action:ACTION.UP,key_code:o});this._player._sendCustomMessage(l)}}}},{key:"clearPressedKey",value:function(){var e=this;Object.keys(this.keyPressedList).forEach((function(t){delete e.keyPressedList[t];var n=ProtoBufMessage.encodeKeyMsg(t,!1);try{e._player._sendMessage(n,!0)}catch(r){console.warn(null==r?void 0:r.message)}}))}},{key:"pasteEvent",value:function(e){var t=(e.clipboardData||window.clipboardData).getData("text"),n=MessageFactory$1.eventTypeKey({action:ACTION.UP,key_code:-1,value:encodeURIComponent(t||"")});this._player._sendCustomMessage(n),e.preventDefault()}},{key:"_firstClickPlayAudio",value:function(){var e;this._player._needFirstClickPlayAudio&&"playing"===(null===(e=this._player.client)||void 0===e?void 0:e.status)&&this._isClickFlag&&(this._player._needFirstClickPlayAudio=!1,this._player.client.play(),this._player._setAudioMute(!1))}},{key:"destroy",value:function(){this.eventStore.clear()}}])}(),LocalKeyboardHandler$1=function(){return _createClass$1((function e(t,n){var r=n.customLocalKeyboardInputId,i=n.useCustomLocalKeyboardInput;_classCallCheck$1(this,e),this._player=t,this._isVePhone=null==t?void 0:t.isVePhone,this._inputContainerDomId="cc-player-input-container",this._inputDomId="cc-player-input",this._customLocalKeyboardInputId=r,this._useCustomLocalKeyboardInput=i,this._inputMethodData={actionId:0,selectionStart:0,selectionEnd:0},this._isFirstResponseRotation=!0,this._status=LOCAL_KEYBOARD_STATUS.BLUR,this._inputFocused=!1,this.inputCon=this.init(),this._keydownFn=null,this.composText=""}),[{key:"status",get:function(){return this._status}},{key:"init",value:function(){var e,t,n,r=this;this._customLocalKeyboardInputId||this._useCustomLocalKeyboardInput?n=document.getElementById(this._customLocalKeyboardInputId):((n=document.createElement("textarea")).id=this._inputDomId,(t=document.createElement("div")).id=this._inputContainerDomId,t.style.position="fixed",t.style.marginRight=8,t.style.width="100%",t.style.maxWidth="95%",t.style.display="none",t.style.opacity=.01,t.style.left=0,t.style.top=0,t.style.pointerEvents="none"),this._player.on("on-keyboard-enable-change",(function(e){r._getInputElement()&&(n.disabled=!e)})),n&&this._initInputRelatedEvent(n),null===(e=t)||void 0===e||e.appendChild(n);var i={ArrowLeft:21,ArrowRight:22,ArrowUp:19,ArrowDown:20,Enter:66,Backspace:67};return document.addEventListener("keydown",this._keydownFn=function(e){var t;if(null===(t=r._player._pcImeHandler)||void 0===t||!t.isInComposition){var n=r._getInputElement();if((null==n||!n.composing)&&r._inputFocused){var a,o=i[e.key];if(o)(67!==o||null!==(a=r._player)&&void 0!==a&&a.isPodLxc)&&(e.preventDefault(),r._sendKeyCustom(o),r._sendKeyCustom(o,1))}}}),t}},{key:"_sendKeyCustom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._player._sendCustomMessage(MessageFactory$1.eventTypeKeyCustom({action:t,keycode:e}))}},{key:"_initInputRelatedEvent",value:function(e){var t=this;e.autocomplete="off",null==e||e.addEventListener("compositionstart",this._inputComsitionStartListener=function(e){e.target.composing=!0}),null==e||e.addEventListener("compositionend",this._inputComsitionEndListener=function(e){if(e.target.composing){e.target.composing=!1;var t=new Event("input");e.target.dispatchEvent(t)}}),null==e||e.addEventListener("input",this._inputInputListener=function(n){var r;if((""!==e.value||t._isVePhone)&&(null===(r=t._player._pcImeHandler)||void 0===r||!r.isInComposition)){if(!n.target.composing){var i,a={charSequence:e.value,isPodLxc:null===(i=t._player)||void 0===i?void 0:i.isPodLxc};t._customLocalKeyboardInputId?a.directInput=!0:"number"==typeof t._inputMethodData.actionId&&(a.actionId=t._inputMethodData.actionId);var o=MessageFactory$1.eventTypeInputMethod(a);t._player._sendCustomMessage(o);var s=n.data;"insertText"!==n.inputType&&"insertCompositionText"!==n.inputType&&!1!==n.isTrusted||!s||t._player.emit("custom-input-text",s)}if(!1===n.isTrusted){var l=t.composText;t.composText="",l&&t._player.emit("custom-input-text",l)}!0===n.isComposing&&!0===n.isTrusted&&(t.composText=(null==n?void 0:n.data)||"")}}),null==e||e.addEventListener("blur",this._inputBlurListener=function(){t._inputFocused=!1}),null==e||e.addEventListener("focus",this._inputFocusListener=function(){t._inputFocused=!0,t.updateInputSelection()})}},{key:"_removeInputRelatedEvent",value:function(e){null==e||e.removeEventListener("compositionstart",this._inputComsitionStartListener),null==e||e.removeEventListener("compositionend",this._inputComsitionEndListener),null==e||e.removeEventListener("input",this._inputInputListener),null==e||e.removeEventListener("blur",this._inputBlurListener),null==e||e.removeEventListener("focus",this._inputFocusListener)}},{key:"setCustomLocalKeyboardInputId",value:function(e){this._customLocalKeyboardInputId=e,this._hasInitInputRelatedEvent||(this._initInputRelatedEvent(this._getInputElement()),this._hasInitInputRelatedEvent=!0)}},{key:"clearCustomLocalKeyboardInput",value:function(){this._removeInputRelatedEvent(this._getInputElement()),this._customLocalKeyboardInputId=null,this._hasInitInputRelatedEvent=!1}},{key:"inputFocus",value:function(){var e=this._getInputElement();e===document.activeElement&&(null==e||e.focus(),this._status=LOCAL_KEYBOARD_STATUS.FOCUS)}},{key:"syncLocalKeyboardCloseStatus",value:function(){var e,t=this._getInputElement(),n={charSequence:null==t?void 0:t.value,isPodLxc:null===(e=this._player)||void 0===e?void 0:e.isPodLxc,visibility:!1};"number"==typeof this._inputMethodData.actionId&&(n.actionId=this._inputMethodData.actionId);var r=MessageFactory$1.eventTypeInputMethod(n);return this._player._sendCustomMessage(r)}},{key:"_getInputElement",value:function(){return this._customLocalKeyboardInputId||this._useCustomLocalKeyboardInput?document.getElementById(this._customLocalKeyboardInputId):document.getElementById(this._inputDomId)}},{key:"onReceiveCurText",value:function(e,t){var n;if(!e)return!1;var r=null!==(n=this._player)&&void 0!==n&&n.isPodLxc?t:decodeURIComponent(t),i=r===e.value;return i||(e.value=r),e.focus(),i}},{key:"handleInputMethodEvent",value:function(e){var t=document.getElementById(this._inputContainerDomId),n=this._getInputElement();if(e.command===SERVER_COMMAND.CMD_INPUT_START){t&&(t.style.display="block");var r=e.currentText,i=e.selectionStart,a=e.selectionEnd;this.onReceiveCurText(n,r),this._inputMethodData.actionId=e.data.actionId,this._inputMethodData.selectionStart=i,this._inputMethodData.selectionEnd=a,this._status=LOCAL_KEYBOARD_STATUS.NEED_INTERACTION,this._player.emit("local-keyboard-open",{currentText:r,selectionStart:i,selectionEnd:a})}if(e.command===SERVER_COMMAND.CMD_INPUT_SHOW){t&&(t.style.display="block");var o=e.currentText,s=e.selectionStart,l=e.selectionEnd;this.onReceiveCurText(n,o),this._inputMethodData.selectionStart=s,this._inputMethodData.selectionEnd=l,this.updateInputSelection(),this._status=LOCAL_KEYBOARD_STATUS.NEED_INTERACTION,this._player.emit("local-keyboard-open",{currentText:o,selectionStart:s,selectionEnd:l})}e.command===SERVER_COMMAND.CMD_INPUT_DESTROY&&(t&&(t.style.display="none"),this._inputMethodData.selectionStart=null,this._inputMethodData.selectionEnd=null,null==n||n.blur(),n&&(n.value=""),this._status=LOCAL_KEYBOARD_STATUS.BLUR,this._player.emit("local-keyboard-close"))}},{key:"handleRotationEvent",value:function(e){if(this._isFirstResponseRotation){this._isFirstResponseRotation=!1;var t=MessageFactory$1.eventTypeOrientation();this._player._sendCustomMessage(t)}if(!this._isVePhone){var n,r=MessageFactory$1.eventTypeInputMethod({actionId:this._inputMethodData.actionId,isPodLxc:null===(n=this._player)||void 0===n?void 0:n.isPodLxc});return this._player._sendCustomMessage(r)}}},{key:"updateInputSelection",value:function(){var e=this._getInputElement();null!==this._inputMethodData.selectionStart&&null!==this._inputMethodData.selectionEnd&&(null==e||e.setSelectionRange(this._inputMethodData.selectionStart,this._inputMethodData.selectionEnd))}},{key:"reset",value:function(){this._isFirstResponseRotation=!0,this._status=LOCAL_KEYBOARD_STATUS.BLUR,this.composText=""}},{key:"destroy",value:function(){this.inputCon=null,document.removeEventListener("keydown",this._keydownFn)}}])}(),LocalKeyboardHandler=function(){return _createClass$1((function e(t,n){var r=this,i=n.customLocalKeyboardInputId;_classCallCheck$1(this,e),this.keydown=function(e){var t=null==KEYCODE_ANDROID_ORIGIN?void 0:KEYCODE_ANDROID_ORIGIN[null==FUNCTION_KEYCODE_CONVERT_ANDROID?void 0:FUNCTION_KEYCODE_CONVERT_ANDROID[(null==e?void 0:e.code)||(null==e?void 0:e.key)]];if(""!==r.composText||!r._inputFocused)return!1;if((null!=r&&r._isMac&&"KeyA"===(null==e?void 0:e.code)&&!0===(null==e?void 0:e.metaKey)||(null==r||!r._isMac)&&"KeyA"===(null==e?void 0:e.code)&&!0===(null==e?void 0:e.ctrlKey))&&(r.clientSelectAllText=decodeURIComponent(r.currentText)),null!=r&&r._isMac&&"KeyC"===(null==e?void 0:e.code)&&!0===(null==e?void 0:e.metaKey)||(null==r||!r._isMac)&&"KeyC"===(null==e?void 0:e.code)&&!0===(null==e?void 0:e.ctrlKey)){if(!r.clientSelectAllText)return void e.preventDefault();navigator.clipboard&&(decodeURIComponent(r.clientSelectAllText)||r.clientSelectAllText,navigator.clipboard.writeText(r.clientSelectAllText).then((function(){console.log("导入剪切板成功")})).catch((function(){console.log("导入剪切板失败")}))),e.preventDefault()}if(null!=r&&r._isMac&&"KeyX"===(null==e?void 0:e.code)&&!0===(null==e?void 0:e.metaKey)||(null==r||!r._isMac)&&"KeyX"===(null==e?void 0:e.code)&&!0===(null==e?void 0:e.ctrlKey)){if(!r.clientSelectAllText)return void e.preventDefault();if(navigator.clipboard){var n=MessageFactory$1.eventTypeInputMethod({inputContext:"",type:1,version:3});r._player._sendCustomMessage(n);var i=decodeURIComponent(r.clientSelectAllText)||r.clientSelectAllText;navigator.clipboard.writeText(i).then((function(){console.log("导入剪切板成功")})).catch((function(){console.log("导入剪切板失败")}))}e.preventDefault()}(null!=r&&r._isMac&&"MetaLeft"===(null==e?void 0:e.code)||null!=r&&r._isMac&&"ControlLeft"===(null==e?void 0:e.code))&&(r.clientSelectAllText=""),t&&(r._player._sendCustomMessage(MessageFactory$1.eventTypeKeyCustom({action:0,keycode:t})),r._player._sendCustomMessage(MessageFactory$1.eventTypeKeyCustom({action:1,keycode:t})),r._player.emit("custom-input-key-event",{action:0,keycode:t}),r._player.emit("custom-input-key-event",{action:1,keycode:t}))},this.keyup=function(e){var t=null==KEYCODE_ANDROID_ORIGIN?void 0:KEYCODE_ANDROID_ORIGIN[null==FUNCTION_KEYCODE_CONVERT_ANDROID?void 0:FUNCTION_KEYCODE_CONVERT_ANDROID[null==e?void 0:e.code]];if(""!==r.composText)return!1;t&&(r._player._sendCustomMessage(MessageFactory$1.eventTypeKeyCustom({action:1,keycode:t})),r._player.emit("custom-input-key-event",{action:1,keycode:t}))},this.pasteEvent=function(e){var t=(e.clipboardData||window.clipboardData).getData("text")||"";if(r.clientSelectAllText="",t&&r._inputFocused){var n="string"==typeof t?t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"):t,i={inputContext:n},a=MessageFactory$1.eventTypeInputCombineMethod(i);r._player._sendCustomMessage(a),r._player.emit("custom-input-text",n)}},this.mouseUp=function(e){if(r.clientSelectAllText="",(r._status===LOCAL_KEYBOARD_STATUS.FOCUS||r._status===LOCAL_KEYBOARD_STATUS.NEED_INTERACTION)&&!r._inputFocused){var t=document.getElementById(r._inputDomId);null==t||t.focus()}},this._player=t,this._inputContainerDomId="".concat(this._player.containerDomId,"-inputGroup"),this._inputDomId="".concat(this._player.containerDomId,"-input"),this._customLocalKeyboardInputId=i,this.touchElement=document.getElementById(this._player.domId),this._isFirstResponseRotation=!0,this._status=LOCAL_KEYBOARD_STATUS.BLUR,this._inputFocused=!1,this.inputCon=this.init(),this.composText="",this.currentText="",this.clientSelectAllText="",this._isMac=isMac$1()}),[{key:"status",get:function(){return this._status}},{key:"init",value:function(){var e,t,n,r=this;return this._customLocalKeyboardInputId?(n=document.getElementById(this._customLocalKeyboardInputId),this._inputDomId=this._customLocalKeyboardInputId):((n=document.createElement("textarea")).id=this._inputDomId,(t=document.createElement("div")).id=this._inputContainerDomId,t.style.position="absolute",t.style.marginRight=8,t.style.width="100%",t.style.maxWidth="95%",t.style.display="none",t.style.opacity=.01,t.style.left=0,t.style.top=0,t.style.pointerEvents="none"),n.autocomplete="off",this._player.on("on-keyboard-enable-change",(function(e){n.disabled=!e})),n.addEventListener("compositionstart",(function(e){e.target.composing=!0})),n.addEventListener("compositionend",(function(e){if(e.target.composing){e.target.composing=!1;var t=new Event("input");e.target.dispatchEvent(t)}})),n.addEventListener("input",(function(e){var t;if(null===(t=r._player._pcImeHandler)||void 0===t||!t.isInComposition){if(r.clientSelectAllText="",!e.target.composing||!1===e.isTrusted){var n=e.data;if(!1===e.isTrusted&&(n=r.composText,r.composText=""),("insertText"===e.inputType||"insertCompositionText"===e.inputType||!1===e.isTrusted)&&n){var i={inputContext:n},a=MessageFactory$1.eventTypeInputCombineMethod(i);r._player._sendCustomMessage(a),r._player.emit("custom-input-text",n)}}!0===e.isComposing&&!0===e.isTrusted&&(r.composText=(null==e?void 0:e.data)||"")}})),n.addEventListener("blur",(function(){r.clientSelectAllText="",r._inputFocused=!1})),n.addEventListener("focus",(function(){r._inputFocused=!0})),null===(e=t)||void 0===e||e.appendChild(n),document.addEventListener("keydown",this.keydown),this._player.isPC&&(document.addEventListener("paste",this.pasteEvent),this.touchElement.addEventListener("mouseup",this.mouseUp)),t}},{key:"inputFocus",value:function(){var e=document.getElementById(this._inputDomId);e===document.activeElement&&(e.focus(),this._status=LOCAL_KEYBOARD_STATUS.FOCUS)}},{key:"handleInputMethodEvent",value:function(e){var t,n,r=document.getElementById(this._inputContainerDomId),i=document.getElementById(this._inputDomId);e.command===SERVER_COMMAND.CMD_TEXT_INPUT_CONTROL&&null!=e&&null!==(t=e.data)&&void 0!==t&&t.enable&&(r&&(r.style.display="block"),i.focus(),this._status=LOCAL_KEYBOARD_STATUS.NEED_INTERACTION,this._player.emit("local-keyboard-open")),e.command!==SERVER_COMMAND.CMD_TEXT_INPUT_CONTROL||null!=e&&null!==(n=e.data)&&void 0!==n&&n.enable||(r&&(r.style.display="none"),i.blur(),i.value="",this._status=LOCAL_KEYBOARD_STATUS.BLUR,this._player.emit("local-keyboard-close")),e.command===SERVER_COMMAND.CMD_INPUT_SHOW&&(this.currentText=null==e?void 0:e.currentText)}},{key:"handleRotationEvent",value:function(e){if(this._isFirstResponseRotation){this._isFirstResponseRotation=!1;var t=MessageFactory$1.eventTypeOrientation();this._player._sendCustomMessage(t)}}},{key:"reset",value:function(){this._isFirstResponseRotation=!0,this.composText="",this._status=LOCAL_KEYBOARD_STATUS.BLUR}},{key:"destroy",value:function(){this.inputCon=null,document.removeEventListener("keydown",this.keydown),document.removeEventListener("paste",this.pasteEvent),this.touchElement.removeEventListener("mouseup",this.mouseUp)}}])}(),LocationServiceHandler=function(){return _createClass$1((function e(t,n){var r=n.enable,i=void 0!==r&&r;_classCallCheck$1(this,e),this._player=t,this.logger=this._player.logger,this._locationPollFlag=!1,this._enable=i,this._mode=LOCATION_SERVICE_MODE.MODE_AUTO}),[{key:"enableLocationService",value:function(e){this._enable=!!e}},{key:"isLocationServiceEnabled",value:function(){return this._enable}},{key:"setLocationServiceMode",value:function(e){this._mode=e}},{key:"getLocationServiceMode",value:function(){return this._mode}},{key:"setRemoteLocationMock",value:function(e){var t=this,n=e.latitude,r=e.longitude,i=MessageFactory$1.eventTypeFixLocation({latitude:n,longitude:r});this.logger.send("setRemoteLocationMock");var a=!1;return new Promise((function(e,n){var r=START_ERROR.ERROR_SDK_GENERAL.CODE,o=START_ERROR.ERROR_SDK_GENERAL.MESSAGE;t._player._sendCustomMessage(i).then((function(){var i;t._player.client.isReady?(t._player.client._client.on(index.events.onUserMessageReceived,i=function(n){var r=n.message&&JSON.parse(n.message);r&&r.command===SERVER_COMMAND.CMD_LOCATION_UPDATE&&(a=!0,e(r.data),t._player.client._client.off(index.events.onUserMessageReceived,i))}),setTimeout((function(){!1===a&&n({errorCode:r,message:o})}),3e4)):n({errorCode:r,message:o})})).catch((function(){n({errorCode:r,message:o})}))}))}},{key:"handleInputMethodEvent",value:function(e){if(navigator.geolocation&&this._enable&&this._mode===LOCATION_SERVICE_MODE.MODE_AUTO){if(!this._locationPollFlag&&e.command===SERVER_COMMAND.CMD_START_LOCATION_REQUEST&&"gps"===e.provider){var t=e.interval>5e3?e.interval:5e3;this._locationPollFlag=!0,this._getLocation(t)}e.command===SERVER_COMMAND.CMD_STOP_LOCATION_REQUEST&&(this._locationPollFlag=!1)}if(this._enable&&this._mode===LOCATION_SERVICE_MODE.MODE_MANUAL&&"gps"===e.provider){if(e.command===SERVER_COMMAND.CMD_START_LOCATION_REQUEST){var n=e.fastestInterval,r=e.numUpdates,i=e.provider,a=e.smallestDisplacement;this._player.emit("remote-location-request-received",{provider:i,fastestInterval:n,smallestDisplacement:a,numUpdates:r})}e.command===SERVER_COMMAND.CMD_STOP_LOCATION_REQUEST&&this._player.emit("remote-location-request-ended-received")}}},{key:"_getLocation",value:function(e){var t=this;navigator.geolocation.getCurrentPosition((function(n){var r=n.coords,i=r.longitude,a=r.latitude;t.logger.localInfoLog("PodTrigger","_getLocation","longitude: ".concat(i,",latitude: ").concat(a));var o=MessageFactory$1.eventTypeFixLocation({latitude:a,longitude:i});t._player._sendCustomMessage(o),t._locationPollFlag&&t._player.client.renderEle&&setTimeout((function(){t._getLocation(e)}),e)}),(function(e){var n=START_ERROR.ERROR_SDK_LACK_OF_LOCATION_PERMISSION;t.logger.localWarnLog("PodTrigger","_getLocation","获取经纬度失败：",e),t._player.emit("location-permission-error",{errorCode:n.CODE,errorMessage:n.MESSAGE})}))}},{key:"destroy",value:function(){this._locationPollFlag=!1}}])}(),ClipboardHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t}),[{key:"sendClipBoardMessage",value:function(e){var t=MessageFactory$1.eventTypeClipboard(encodeURIComponent(e));return this._player._sendCustomMessage(t)}},{key:"handleClipboardEvent",value:function(e){var t,n=((null===(t=e.data)||void 0===t?void 0:t.clipData)||[]).map((function(e){return decodeURIComponent(e)}));this._player.emit("clipboard-message-received",n)}}])}(),ClipboardAutoSyncHandler=function(){return _createClass$1((function e(t,n){var r=n.containerDomId;_classCallCheck$1(this,e),this._player=t,this.logger=this._player.logger,this._containerDomId=r,this._clipboardText="",this._init()}),[{key:"_init",value:function(){var e=this;if(navigator.clipboard){var t=document.getElementById(this._containerDomId);this._player.isPC||t.addEventListener("touchstart",(function(){navigator.clipboard.readText().then((function(t){if(t!==e._clipboardText){e._clipboardText=t;var n=MessageFactory$1.eventTypeClipboard(t);e._player._sendCustomMessage(n)}})).catch((function(t){e.logger.localWarnLog("PodTrigger","ClipboardAutoSyncHandler._init","clip error: ",t)}))}))}}},{key:"handleClipboardEvent",value:function(e){var t,n=this,r=decodeURIComponent(null===(t=e.data)||void 0===t?void 0:t.clipData[0]);navigator.clipboard&&navigator.clipboard.writeText(r).then((function(){n.logger.localInfoLog("PodTrigger","ClipboardAutoSyncHandler.handleClipboardEvent","clip write success")})).catch((function(e){n.logger.localWarnLog("PodTrigger","ClipboardAutoSyncHandler.handleClipboardEvent","clip write error: ",e)}))}}])}(),CommonHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t,this.logger=this._player.logger,this.podError=this._player.mode!==MODE.CLOUD_PHONE?POD_ERROR$1:_objectSpread2(_objectSpread2({},POD_ERROR$1),POD_ERROR_PHONE_EXTEND)}),[{key:"handleErrorEvent",value:function(e){var t,n,r;console.log("🚀 ~ file: commonHandler.ts:26 ~handleErrorEvent msg:",e);var i=null,a=null===(t=e.data)||void 0===t?void 0:t.reason,o=this.podError,s=function(e){return _defineProperty$1(_defineProperty$1(_defineProperty$1({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"errorCode",e.CODE),"message",e.MESSAGE),"reason",a)};switch(a){case 0:i=s(o.ERROR_GAME_CRASH);break;case 1:i=s(o.ERROR_GAME_OFFLINE);break;case 2:i=s(o.ERROR_GAME_EXIT_TIMEOUT);break;case 3:i=s(o.ERROR_GAME_STOPPED_IDLE);break;case 4:i=s(o.ERROR_GAME_STOPPED_RESET);break;case 5:i=s(o.ERROR_GAME_STOPPED_API);break;case 6:i=s(o.ERROR_POD_STOPPED_BACKGROUND_TIMEOUT);break;case 7:i=s(o.WARNING_GAME_STOPPED_INGAME_EXIT,"warningCode");break;case 9:i=s(o.ERROR_REMOTE_POWER_OFF);break;default:i=s(o.ERROR_POD_EXIT_GENERAL)}this.logger.localWarnLog("PodTrigger","handleErrorEvent","pod error",i),this._player.logger.send("podError",{errc:null===(n=i)||void 0===n?void 0:n.errorCode,msg:null===(r=i)||void 0===r?void 0:r.message,reason:a}),i&&(this._player.emit(i.warningCode?"warning":"error",i),this._player._stop())}},{key:"handleAudioEvent",value:function(e){var t=e.subcmd;1===t&&this._player._enableLocalAudio(),2===t&&this._player._disableLocalAudio()}}])}(),VideoStreamProfileHandler=function(){return _createClass$1((function e(t){var n=this;_classCallCheck$1(this,e),this._player=t,this._player.on("messageShield",(function(e){var t=e.subType;if(e.type===PB_MESSAGE.TYPES.MsgAVOutput&&t===PB_MESSAGE.SUBTYPES.MsgAVOutputVideoFormatLevel){var r=POD_WARNING.WARNING_VIEWER_METHOD_CALLED,i=r.CODE,a=r.MESSAGE;n._player.emit("warning",{warningCode:i,message:a})}}))}),[{key:"switchVideoStreamProfile",value:function(e){var t=this;return this._player.logger.send("switchVideoStreamProfile",{switchVideoStreamProfile:e}),new Promise((function(n,r){var i=START_ERROR.ERROR_SDK_GENERAL.CODE,a=START_ERROR.ERROR_SDK_GENERAL.MESSAGE,o=START_ERROR.ERROR_STREAM_CHANGE_CLARITY_ID_NOT_IN_START_STATE,s=MessageFactory$1.eventTypeClarityIndex({id:e});t._player._sendCustomMessageWithReturn({message:s,jsonCmd:SERVER_COMMAND.CMD_CLARITY_INDEX,pbType:PB_MESSAGE.TYPES.MsgAVOutput,pbSubType:PB_MESSAGE.SUBTYPES.MsgAVOutputVideoFormatLevel,transformPBMes:function(e){return{data:{result:e.result,from:e.levelFrom,current:e.levelTo,fps:e.format.fpsNom/e.format.fpsDen}}}}).then((function(e){var s=e.success,l=e.data,c=e.fromCatch;if(s){var d=t._handleVideoStreamProfileEvent(l);n(d)}else r({errorCode:c?i:o.CODE,message:c?a:o.MESSAGE})}))}))}},{key:"getVideoStreamProfile",value:function(){var e=this;return new Promise((function(t,n){var r=START_ERROR.ERROR_SDK_GENERAL.CODE,i=START_ERROR.ERROR_SDK_GENERAL.MESSAGE,a=START_ERROR.ERROR_STREAM_CHANGE_CLARITY_ID_NOT_IN_START_STATE,o=MessageFactory$1.eventTypeClarityIndex({action:1});e._player._sendCustomMessageWithReturn({message:o,jsonCmd:SERVER_COMMAND.CMD_CLARITY_INDEX}).then((function(o){var s=o.success,l=o.data,c=o.fromCatch;if(s){var d=e._handleVideoStreamProfileEvent(l);t(d)}else n({errorCode:c?r:a.CODE,message:c?i:a.MESSAGE})}))}))}},{key:"_handleVideoStreamProfileEvent",value:function(e){var t=e.data,n={before:t.from,after:t.current,fps:t.fps,result:null,reason:"",code:null,callUserId:e.callUserId};if(0===t.result)n.result=0,this._player.client.isReady&&t.fps&&(this._player.client.fps=t.fps);else if(2===t.result){n.result=2;var r=POD_ERROR$1.WARNING_VIDEO_PROFILE_NOT_SUPPORT_CURRENT_PLAN;n.reason=r.MESSAGE,n.code=r.CODE}else{var i=START_ERROR.ERROR_GAME_VIDEO_STREAM_PROFILE_NOT_IN_RANGE.MESSAGE;n.result=1,n.reason=i}return this._player.logger.send("switchVideoStreamProfileResult",n),_objectSpread2({result:n.result,reason:n.reason,before:n.before,after:n.after,fps:n.fps,code:n.code},n.callUserId&&{callUserId:n.callUserId})}}])}(),BackgroundHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t}),[{key:"switchBackground",value:function(e){var t=this,n=MessageFactory$1.eventTypeUserStatus(e);return this._player.logger.send("switchBackground",{switchBackground:e}),new Promise((function(e,r){var i=START_ERROR.ERROR_SDK_GENERAL.CODE,a=START_ERROR.ERROR_SDK_GENERAL.MESSAGE;t._player._sendCustomMessageWithReturn({message:n,jsonCmd:SERVER_COMMAND.CMD_USERSTATUS,pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.UserStatus,transformPBMes:function(e){return e.action,{data:{result:e.result}}}}).then((function(n){var o=n.success,s=n.data;o?(console.log(s),function(t){0===t?e(t):2===t?r({errorCode:POD_ERROR$1.WARNING_LOCAL_ALREADY_SET_BACKGROUND.CODE,message:POD_ERROR$1.WARNING_LOCAL_ALREADY_SET_BACKGROUND.MESSAGE}):3===t&&r({errorCode:POD_ERROR$1.WARNING_LOCAL_ALREADY_SET_FOREGROUND.CODE,message:POD_ERROR$1.WARNING_LOCAL_ALREADY_SET_FOREGROUND.MESSAGE})}(t.handleBackgroundEvent(s,!0).result)):r({errorCode:i,message:a})}))}))}},{key:"handleBackgroundEvent",value:function(e,t){var n=e.data,r=n.result,i=n.current;if(1!==r||t)return{result:r,current:i};this._player.emit("background-switched",{current:i})}}])}(),AutoRecycleTimeHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t}),[{key:"_autoRecycleTime",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t?"set":"get",i=MessageFactory$1.eventTypeAutoRecycleTime(t,n),this._player.logger.send("".concat(r,"AutoRecycleTime"),{time:n}),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?1:t,i=e.error,a=void 0===i?POD_ERROR$1.ERROR_SET_INVALID_AUTO_RECYCLE_TIME:i,o=a.CODE,s=a.MESSAGE;if(_._player.logger.send("".concat(r,"AutoRecycleTimeResult"),_objectSpread2({result:n},0!==n&&{errc:o,msg:s})),1===n)throw{errorCode:o,message:s}},t&&n<=0&&a({error:POD_ERROR$1.ERROR_SET_INVALID_AUTO_RECYCLE_TIME}),e.next=7,this._player._sendCustomMessageWithReturn({message:i,jsonCmd:SERVER_COMMAND.CMD_AUTO_RECYCLE_TIME,pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.MsgBusinessAutoRecycleTime,transformPBMes:function(e){return{data:{action:e.action,result:e.result,current:e.current}}},onTimeout:a});case 7:if(o=e.sent,s=o.success,l=o.data,!s){e.next=21;break}if(c=l.data,d=c.result,u=void 0===d?0:d,U=c.action,F=void 0===U?0:U,p=c.current,Q=void 0===p?0:p,h=c.callUserId,R=t?0:1,0!==u||F!==R){e.next=18;break}return a({result:0}),e.abrupt("return",t?{time:Q,duration:Q,userId:h}:{duration:Q,time:Q});case 18:a({error:t?POD_ERROR$1.ERROR_SET_INVALID_AUTO_RECYCLE_TIME:void 0});case 19:e.next=22;break;case 21:a();case 22:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"setAutoRecycleTime",value:function(e){return this._autoRecycleTime(!0,e)}},{key:"getAutoRecycleTime",value:function(){return this._autoRecycleTime(!1)}}]);var e}(),UserProfilePathHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t}),[{key:"setUserProfilePath",value:function(e){return this._userProfilePath(!0,e)}},{key:"getUserProfilePath",value:function(){return this._userProfilePath(!1)}},{key:"_userProfilePath",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=MessageFactory$1.eventTypeProfilePath(t,n),this._player.logger.send("getUserProfilePath"),e.next=4,this._player._sendCustomMessageWithReturn({message:r,jsonCmd:[SERVER_COMMAND.CMD_PROFILE_PATH,SERVER_COMMAND.CMD_PROFILE_STATUS],pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.MsgBusinessUserProfile,throwGeneral:!0,transformPBMes:function(e){var t=e.action,n=e.path;return{data:{action:t,result:e.result,type:e.type,user_profile_path:n}}}});case 4:if(i=e.sent,a=i.data,o=a.data,s=o.result,l=o.type,c=o.user_profile_path,!t){e.next=14;break}if(1!==s||0!==l){e.next=12;break}return e.abrupt("return",!0);case 12:if(0!==s||0!==l){e.next=14;break}throw new Error("setUserProfile: result === 0 && type === 0");case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})}]);var e}(),RemoteAppBackgroundHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t}),[{key:"_backgroundAppClient",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,l,c,d,u,U=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.handleMessage,a=r.logName,o=r.errorLogName,s=MessageFactory$1.eventTypeBackgroundAppClient(t,n),this._player.logger.send(a),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?1:t,r=e.error;if(!r)return!0;var i=r.CODE,a=r.MESSAGE;if(U._player.logger.send(o,{result:n,errc:i,msg:a}),1===n)throw{errorCode:i,message:a};return!1},e.next=6,this._player._sendCustomMessageWithReturn({message:s,jsonCmd:[SERVER_COMMAND.CMD_FOREGROUND_CHANGE_STATUS,SERVER_COMMAND.CMD_BACKGROUND_APP_LIST],pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.MsgBusinessBackgroundApp,transformPBMes:function(e){return{data:e}},onTimeout:l});case 6:if(c=e.sent,d=c.success,u=c.data,!d){e.next=11;break}return e.abrupt("return",i(u,l));case 11:return e.abrupt("return",l());case 12:case"end":return e.stop()}}),e,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"setRemoteGameForeground",value:function(e){return this._backgroundAppClient(!0,e,{logName:"setRemoteGameForeground",errorLogName:"setRemoteGameForegroundResult",handleMessage:function(e,t){var n=e.result,r=e.foreground;return 0===n&&1===r?t({result:0}):2===n?t({error:ERROR_BUILDER.WARNING_REMOTE_$_ALREADY_FOREGROUND("")}):void 0}})}},{key:"getRemoteBackgroundAppList",value:function(){return this._backgroundAppClient(!1,void 0,{logName:"setRemoteAppForeground",errorLogName:"setRemoteAppForegroundResult",handleMessage:function(e,t){var n=((null==e?void 0:e.data)||{}).app_list;return t({result:0,appList:n}),n}})}},{key:"setRemoteAppForeground",value:function(e){return this._backgroundAppClient(!0,e,{logName:"setRemoteAppForeground",errorLogName:"setRemoteAppForegroundResult",handleMessage:function(t,n){var r=t.result,i=t.foreground;if(0===r&&1===i)return n({result:0});if([-1,-2,-3,2].includes(r)){var a=ERROR_BUILDER.WARNING_REMOTE_$_FOREGROUND_FAILURE_NO_SUCH_PACKAGE_NAME(e);return n({"-1":a,"-2":a,2:ERROR_BUILDER.WARNING_REMOTE_$_ALREADY_FOREGROUND(e),"-3":ERROR_BUILDER.WARNING_REMOTE_$_FOREGROUND_FAILURE_NO_PACKAGE_NAME_BACKGROUND(e)}[r])}}})}},{key:"handleGameForegroundChangeStatus",value:function(e){var t=e.data,n=t.result,r=t.foreground;1===n&&1===r&&(this._player.emit("remote-game-switched-foreground"),this._player.logger.send("remoteGameSwitchedForeground")),1===n&&0===r&&(this._player.emit("remote-game-switched-background"),this._player.logger.send("remoteGameSwitchedBackground"))}},{key:"handleAppsForegroundChangeStatus",value:function(e){var t=e.data,n=t.result,r=t.foreground,i=t.packageName;1===n&&1===r&&(this._player.emit("remote-app-switched-foreground",i),this._player.logger.send("remoteAppSwitchedForeground",{packageName:i})),1===n&&0===r&&(this._player.emit("remote-app-switched-background",i),this._player.logger.send("remoteAppSwitchedBackground",{packageName:i}))}}]);var e}(),MCCKeyParser=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.KEYM=1297696075}),[{key:"encode",value:function(e,t){if(!t)return e;this.encoder||(this.encoder=new TextEncoder);var n=this.encoder.encode(t),r=n.byteLength,i=new Uint8Array(12+n.byteLength+e.byteLength),a=new DataView(i.buffer),o=0;return a.setUint32(o,this.KEYM,!0),o+=4,a.setUint32(o,r,!0),o+=4,i.set(n,o),o+=r,a.setUint32(o,e.byteLength,!0),o+=4,i.set(new Uint8Array(e),o),i.buffer}},{key:"decode",value:function(e){var t=new DataView(new Uint8Array(e).buffer);if(t.getUint32(0,!0)!==this.KEYM)return{key:"",data:e};var n=4,r=t.getUint32(n,!0);n+=4;var i=e.slice(n,n+=r),a=t.getUint32(n,!0);n+=4;var o=e.slice(n,n+a);return this.decoder||(this.decoder=new TextDecoder),{key:this.decoder.decode(i),data:o}}}])}(),VEMessageHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t,this._isMessageChannelOnline=!1,this._mccKeyParser=new MCCKeyParser,this._time=6e3,this.initMap()}),[{key:"initMap",value:function(){this._isMessageChannelOnlineMap=new Map,this._msgSetTimeout=new Map}},{key:"sendVEMessage",value:function(e){var t=this,n=e.message,r=e.needAck,i=e.timeout,a=void 0===i?3e4:i,o=e.destUserId,s=void 0===o?"":o,l=e.key,c=void 0===l?"":l;return new Promise((function(e,i){var o={errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,message:START_ERROR.ERROR_SDK_GENERAL.MESSAGE},l=!("string"==typeof n),d=[0,61440],u=n?l?n.byteLength:(new TextEncoder).encode(n).byteLength:0;if(u>d[1]||u<=d[0])return o.errorCode=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_OVER_SIZED.CODE,o.message=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_OVER_SIZED.MESSAGE,void i(o);if(!Number.isInteger(a)||a<=0){var U=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_TIMEOUT_ILLEGAL,F=U.CODE,p=U.MESSAGE;return Object.assign(o,{errorCode:F,message:p}),void i(o)}var Q=!1;if(""===s){if(!(t._isMessageChannelOnlineMap.size<=1))return o.errorCode=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_CHANNEL_UID_ILLEGAL.CODE,o.message=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_CHANNEL_UID_ILLEGAL.MESSAGE,void i(o);Q=t._isMessageChannelOnline}else Q=t._isMessageChannelOnlineMap.get(s);if(!Q)return Object.assign(o,{errorCode:MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_NOT_CONNECTED.CODE,message:MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_NOT_CONNECTED.MESSAGE}),void i(o);var h=t._player.userId,R=(new Date).getTime().toString()+randomNumString$1(4),_=Date.now();l&&(n=t._mccKeyParser.encode(n,c));var S=MessageFactory$1["".concat(l?"veMessageBinary":"veMessage")]({payload:n,userId:h,mid:R,needAck:r,destUserId:s,time:_});r?t._player._sendCustomMessageWithReturn({message:S,jsonCmd:SERVER_COMMAND.CMD_MSG_CHANNEL,pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:l?PB_BUSINESS.SUBTYPES.MsgBusinessBinaryMsgChannel:PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel,timeout:a||3e4,transformPBMes:l?function(e){return e}:function(e){return{data:JSON.stringify(_objectSpread2(_objectSpread2({},e),{},{message:e.payload}))}}}).then((function(r){var i=r.data;(l?t.receiveVEBinaryMessage(i):t.receiveVEMessage(i)).ackId===R&&(t._player.logger.send("send".concat(l?"Binary":"Text","Message"),{mid:R,dest_user_id:s}),e({mid:R,text:n,time:_,userId:h,message:n}))})).catch((function(e){t._player.logger.localErrorLog("PodTrigger","sendVEMessage error",e),t._player.logger.send("send".concat(l?"Binary":"Text","MessageFailure"),{err:e,mid:R,dest_user_id:s}),i(o)})):t._player._sendCustomMessage(S).then((function(){t._player.logger.send("send".concat(l?"Binary":"Text","Message"),{mid:R,dest_user_id:s}),e({mid:R,text:n,time:_,userId:h,message:n})})).catch((function(e){t._player.logger.localErrorLog("PodTrigger","sendVEMessage error",e),t._player.logger.send("send".concat(l?"Binary":"Text","MessageFailure"),{err:e,mid:R,dest_user_id:s}),i(o)}))}))}},{key:"receiveVEMessage",value:function(e){var t=this,n=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_FAILED_TO_PARSE_MSG,r={};try{r=JSON.parse(e.data)}catch(e2){this._player.logger.localErrorLog("PodTrigger","receiveVEMessage",e),this._player.logger.send("error",{errorCode:n.CODE,message:n.MESSAGE})}if(6===r.type){var i,a=(new Date).getTime().toString()+randomNumString$1(4),o=this._player.userId,s=r.user_id,l=(null===(i=r.payload)||void 0===i?void 0:i.mid)||r.message.mid,c=MessageFactory$1.veMessageHearBeatResponse({userId:o,mid:a,ackId:l,destUserId:s});this._player._sendCustomMessage(c);var d=!0;this._isMessageChannelOnline=d,this.updateMessageChannelState({destUserId:s,online:d});var u=this._msgSetTimeout.get(s);return u&&clearTimeout(u),u=setTimeout((function(){t.updateMessageChannelState({destUserId:s,online:!1}),t._isMessageChannelOnline=!1}),this._time),void this._msgSetTimeout.set(s,u)}if(5!==r.type){if(4===r.type){var U=this._player.userId,F=r.user_id,p=MessageFactory$1.veMessageReadyResponse({userId:U,destUserId:F});this._player._sendCustomMessage(p).then((function(){t._hasEmitChannelReadyEvent||(t._hasEmitChannelReadyEvent=!0,t._player.emit("message-channel-connected"))}))}if(3!==r.type){if(1===r.type)return{ackId:r.ack_id};if(0===r.type||void 0===r.type){var Q=this._player.userId,h=r.message.mid,R=r.user_id,_=MessageFactory$1.veMessageResponse({userId:Q,ackId:h,destUserId:R});this._player._sendCustomMessage(_);var S=_objectSpread2(_objectSpread2({},r&&r.message),{},{userId:R});this._player.emit("message",S)}}else{var B=r.user_id,m=_objectSpread2(_objectSpread2({},r&&r.message),{},{userId:B});this._player.emit("message",m)}}else{var f,E,v=this._player.userId,y=(null===(f=r.payload)||void 0===f?void 0:f.mid)||r.message.mid,g=r.user_id,T=1===JSON.parse((null===(E=r.payload)||void 0===E?void 0:E.text)||r.message.text).state;this._isMessageChannelOnline=T;var V=MessageFactory$1.veMessageStatusChangeResponse({userId:v,ackId:y,destUserId:g});this._player._sendCustomMessage(V).then((function(){t.updateMessageChannelState({destUserId:g,online:T})}))}}},{key:"receiveVEBinaryMessage",value:function(e){var t=e.payload,n=e.type,r=e.dest_user_id,i=e.ack_id;if(108===n)return _objectSpread2({ackId:i},e);if(9===n||8===n){var a=this._mccKeyParser.decode(t.data),o=a.key,s=a.data,l={mid:t.mid,data:s,binary:s,time:t.time_ms,userId:r,key:o};if(this._player.emit("message",l),8===n){var c=MessageFactory$1.veMessageBinaryResponse({userId:r,ackId:t.mid,destUserId:r});this._player._sendCustomMessage(c)}}}},{key:"updateMessageChannelState",value:function(e){var t=e.destUserId,n=e.online;n!==this._isMessageChannelOnlineMap.get(t)&&(n?(this._isMessageChannelOnlineMap.set(t,n),this._player.logger.send("onRemoteOnline",{dest_user_Id:t}),this._player.emit("message-channel-online",t)):(this._isMessageChannelOnlineMap.delete(t),this._player.logger.send("onRemoteOffline",{dest_user_Id:t}),this._player.emit("message-channel-offline",t)))}}])}(),ScreenLockHandler=function(){return _createClass$1((function e(t,n){var r=n.domId;_classCallCheck$1(this,e),this._player=t,this.logger=this._player.logger,this._domId=r,this.containerDomId=this._player.containerDomId,this._init()}),[{key:"_init",value:function(){var e=this;if(this._isOrientation="orientation"in window&&"onorientationchange"in window,window.orientation>0?this.handleScreenLock(!0,270):this.handleScreenLock(!1,0),this._rotation=0===getOrientationValue()?0:270,this._isRotation=0!==this._rotation,this._isOrientation)this._clear=orientationChange((function(t,n){switch(e._player.emit("orientationchange",t,n),t){case 90:case-90:e._isRotation=!0,e._rotation=270;break;default:e._isRotation=!1,e._rotation=0}e._player.logger.send("orientationChange",{rotation:e._rotation,isRotation:e._isRotation}),e.handleScreenLock(e._isRotation,e._rotation)}));else{var t=document.getElementById(this._domId),n=function(){e._isRotation=t.offsetWidth>t.offsetHeight,e._rotation=e._isRotation?270:0,e.handleScreenLock()};window.addEventListener("resize",this._orientationchangeListener=this.debounce((function(t){n(),e._player.emit("resize",t)}),100)),this._player.on("first-remote-video-render",(function(){n()})),this._player.on("__refresh_screen_lock_state",(function(){n()}))}}},{key:"handleScreenLock",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isRotation,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._rotation,i=document.getElementById(this._domId),a=document.getElementById(this.containerDomId);if(this.logger.localInfoLog("Start","handleScreenLock","isRotation: ".concat(n,",rotation: ").concat(r)),i){var o,s;if((o=i.clientWidth)>(s=i.clientHeight)){var l=s;s=o,o=l}a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),n?(a.style.transform="translate(".concat(Math.abs(o-s)/2,"px, ").concat(-Math.abs(o-s)/2,"px) rotate(").concat(r,"deg)"),this._player.rotateCoordinate(r)):(this._player.rotateCoordinate(0),a.style.transform=""),this._player.logger.send("orientationChangeSuccess",{width:o,height:s,isRotation:n,rotation:r}),this._player.client&&this._player.client.renderEle&&this._player.touchHandler&&this._player.touchHandler.updateVideoScale(this._player.client.renderEle)}null===(e=(t=this._player.client)._updateVideoScale)||void 0===e||e.call(t)}},{key:"debounce",value:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}},{key:"destroy",value:function(){var e;this._isOrientation?(null===(e=this._clear)||void 0===e||e.call(this),this.logger.localInfoLog("Start","ScreenLockHandler","screenLockHandler destroy orientationchang")):(window.removeEventListener("resize",this._orientationchangeListener),this.logger.localInfoLog("Start","ScreenLockHandler","screenLockHandler destroy resize"))}}])}(),ScreenShotHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t,this._sequence=0}),[{key:"_loggerSend",value:function(e){var t=e.result,n=e.savePath,r=e.message,i=e.errorCode,a=e.downloadUrl;this._player.logger.send("onScreenShot",{result:t,savePath:n,message:r,downloadUrl:a,errorCode:i})}},{key:"screenShot",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U,F,p=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]&&p[0],n=MessageFactory$1.eventTypeScreenShot(this._sequence.toString(),t),this._player.logger.send("screenShot"),this._sequence++,e.next=6,this._player._sendCustomMessageWithReturn({message:n,jsonCmd:SERVER_COMMAND.CMD_SCREENSHOT_RESPONSE,pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.MsgBusinessScreenshot,transformPBMes:function(e){return{data:e}}});case 6:if(r=e.sent,i=r.success,a=r.data,!i){e.next=19;break}if(o=a.data,s=o.result,l=o.save_path,c=o.download_url,0!==s){e.next=16;break}return d={result:s,savePath:l,message:"",downloadUrl:decodeURIComponent(c)},this._loggerSend(d),e.abrupt("return",d);case 16:throw u=-1===s?POD_ERROR$1.ERROR_STORAGE_NOT_ENOUGH:POD_ERROR$1.ERROR_POD_UNKNOWN_FAILURE,U=u.CODE,F=u.MESSAGE,this._loggerSend({errorCode:U,message:F}),{errorCode:U,message:F};case 19:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}(),_PodStatusMapClient,PodStatusMapClient=(_PodStatusMapClient={},_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_PodStatusMapClient,256,"ERROR_POD_STOPPED_BACKGROUND_TIMEOUT"),771,"ERROR_POD_STOPPED_BACKGROUND_TIMEOUT"),784,"ERROR_POD_STOPPED_BACKGROUND_TIMEOUT"),785,"ERROR_POD_STOPPED_BACKGROUND_TIMEOUT"),786,"ERROR_STREAM_STOPPED_AUTO_RECYCLE"),789,"ERROR_GAME_ABNORMAL_EXIT"),1024,"ERROR_GAME_ABNORMAL_EXIT"),1028,"ERROR_GAME_ABNORMAL_EXIT"),1031,"ERROR_GAME_ABNORMAL_EXIT"),1280,"ERROR_GAME_CRASH"),_defineProperty$1(_defineProperty$1(_PodStatusMapClient,1281,"ERROR_GAME_CRASH"),1282,"ERROR_GAME_CRASH")),RTCEngine=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),this.isRTC=!0,this._userJoined=!1,this._joinRoomTimeout=3e4,EventEmitter$2(this),this._player=t,this._logger=n.logger,this._userId=n.userId,this._containerDomId=n.containerDomId,index.setParameter("PUB_SUB_MODE","recv_only"),index.setParameter("VIDEO_STALL_100MS",!0),console.log("recv_only"),this._logger.localInfoLog("Init","_initEngine","rtc version is ",index.getSdkVersion()),this.audioEle=null,this._podUserId=null,this._remoteStream=null,this._rtcVideoEleId=null,this.renderEle=null,this._mute=null,this._startMute=null,this._reconnectTime=6e4,this._sdkType=n.sdkType,this._expectedIDC=n.expectedIDC,this._muteState={audio:!1,video:!1},this._isAudioPublishStream=!1,this._isVideoPublishStream=!1}),[{key:"start",value:function(e){var t=this,n=e.roomId,r=e.token,i=e.podUserId,a=e.rtcAppId,o=e.width,s=e.height,l=e.mute,c=e.videoRenderMode,d=e.startTime;e.retry;var u=e.gameType,U=void 0===u?"android":u,F=e.disableAudioInjection;return this._podUserId=i,this._mute=l,this._startMute=l,this._hasEmitAudioAutoWarning=!1,this._canEmitReconnectedEvent=!1,this._hasAddVisibilityChangeListener=!1,this._hasInvisible=!1,window.___vegame_test_env&&(n="wuhao_".concat(n),r=null,a="62e1007b60bad301902561d9",index.setParameter("ICE_CONFIG_REQUEST_URLS",["rtc-test.bytedance.com","rtc-access-test-hl.bytedance.com"]),index.setParameter("EXPECTED_ADDR","10.122.132.255"),console.warn("启用rtc测试环境",{roomId:n,token:r,rtcAppId:a,serverIp:"10.122.132.255"})),new Promise((function(e,l){t.status="start";var u,p,Q=t._player.getStore("expectedIdc"),h=Q?{expectedIDC:Q}:{};(Q&&console.warn("set expectedIdc",Q),t._client=index.createEngine(a,h),window.___vegame_sync_av)?console.warn("已启用rtc音视频同步"):null===(u=t._client)||void 0===u||null===(p=u.setRemoteStreamRenderSync)||void 0===p||p.call(u,!1);var R,_,S=t._client;t._player._rtc_business_id&&S.setBusinessId(t._player._rtc_business_id),t._remoteUsers=[];var B=function(){!function(){t._logger.localWarnLog("Start","rtc.start","sendStartUp");var e=MessageFactory$1.eventTypeStartUp(F),n=void 0!==(null==e?void 0:e.op_type);t.sendMessage(n?JSON.stringify(e):e,!n)}(),t.status="playing",t._hasAddVisibilityChangeListener||isPC()||(t._hasAddVisibilityChangeListener=!0,document.addEventListener("visibilitychange",t._visibilityCallback=function(){var e,i,a;if(t._invisible=!1,"visible"===document.visibilityState)if(t._logger.localInfoLog("Reconnect","rtc.start","document.visibilityState = 'visible' && status = ".concat(t.status," && connectionState = ").concat(null==S||null===(e=S._room)||void 0===e||null===(e=e._mediaServerClient)||void 0===e?void 0:e.connectionState)),"playing"===t.status&&"connected"!==(null==S||null===(i=S._room)||void 0===i||null===(i=i._mediaServerClient)||void 0===i?void 0:i.connectionState)){if("veGame"!==t._sdkType)return!1;t._player.emit("stream-reconnecting"),t._logger.send("streamReconnecting",{reason:1}),S._room.destroy();var o={roomId:n,token:r,startTime:new Date,retry:!0},s=function(){setTimeout((function(){var e,n;t._cancelReconnect(),t._logger.localInfoLog("Reconnect","rtc.start","check remote user id: ",null==S||null===(e=S._room)||void 0===e?void 0:e._remoteUsers.get(t._podUserId)),null!=S&&null!==(n=S._room)&&void 0!==n&&n._remoteUsers.get(t._podUserId)?(t._player.emit("stream-reconnected"),t._logger.send("streamReconnected",{reason:1})):t._peerLeave({errorCode:POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.CODE,message:POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.MESSAGE,originalMessage:"rtc切回前台重连失败"})}),1e3)};t._joinRoom(o).then((function(){s()})).catch((function(e){t._logger.localInfoLog("Reconnect","rtc.start","joinRoom failed and resume retry, failed reason: ".concat(e)),setTimeout((function(){return t._joinRoom(o).then((function(){s()}))}),1e3)})),t._logger.localInfoLog("Reconnect","rtc.start","visible start")}else t.restoreVisibleToHiddenStats();else t._logger.localInfoLog("Reconnect","rtc.start","document.visibilityState = 'hidden' && status = ".concat(t.status," && connectionState = ").concat(null==S||null===(a=S._room)||void 0===a||null===(a=a._mediaServerClient)||void 0===a?void 0:a.connectionState)),t._invisible=!0,t.saveVisibleToHiddenStats()})),e({width:o,height:s,streamWidth:R,streamHeight:_})};S.on(index.events.onTokenWillExpire,_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._player.updateMediaToken();case 3:n=e.sent,(i=n.Token)&&(S.updateToken(i),t._logger.send("updateSessionToken",{err:"",token:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t._logger.send("updateSessionToken",{err:e.t0,token:""});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))),S.on(index.events.onUserJoined,(function(e){var n,r;t._logger.localInfoLog("PodTrigger","onUserJoined",e);var i=(null==e||null===(n=e.userInfo)||void 0===n?void 0:n.userId)===t._podUserId;t._player.emit("on-user-joined",{userId:null==e||null===(r=e.userInfo)||void 0===r?void 0:r.userId,isPodJoin:i}),t._logger.send("remoteJoin",{cost:(new Date).getTime()-d,isPodJoin:i}),t._remoteUsers.push(e),i&&(t._userJoined=!0,t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.POD_JOIN_ROOM_SUCCESS}))})),S.on(index.events.onUserPublishStream,(function(e){var n=e.mediaType;e.userId;var r=e.videoStreamDescriptions;if(n!==MediaType$1.AUDIO){if(t._logger.localInfoLog("PodTrigger","onUserPublishStream","stream-added success",e),t._player.emit("stream-added",{podUserId:i}),(null==e?void 0:e.userId)!==t._podUserId)return!1;t._logger.send("remotePublish",{cost:Date.now()-d,userId:t._podUserId}),R=r[0].width,_=r[0].height,t._remoteStream=!0;var a=MediaType$1.AUDIO_AND_VIDEO;t.initStats(),t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.POD_HAS_PUBLISH_STREAM}),S.subscribeStream(t._podUserId,a).then((function(e){var n;if(t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_SUBSCRIBE_STREAM}),t._muteState={video:!1,audio:!1},t._logger.localInfoLog("PodTrigger","onUserPublishStream.subscribeStream","subscribed stream success"),t._player.emit("stream-subscribed",{podUserId:i}),t._logger.send("remoteSubscribe",{cost:(new Date).getTime()-d}),t._player.touchHandler.setStreamSize({streamWidth:R,streamHeight:_}),t.renderEle=S.setRemoteVideoPlayer(StreamIndex.STREAM_INDEX_MAIN,{renderDom:t._containerDomId,userId:t._podUserId}),t.initPauseDetect(t.renderEle),t.updateVideoRenderMode(c),"pc"===U){var r=function(e,n){t._player.touchHandler.setContentSize({width:e,height:n});var r=t._player.touchHandler.updateVideoScale(t.renderEle);t._logger.send("onRemoteVideoSizeChanged",_objectSpread2({videoWidth:e,videoHeight:n},r))};r(R,_),t.renderEle.addEventListener("resize",(function(){r(this.videoWidth,this.videoHeight)}))}null===(n=t._player._pcImeHandler)||void 0===n||n.init(t.renderEle),t._scaleParams=t._player.touchHandler.updateVideoScale(t.renderEle),t._remotePlayerDom=S._remoteAudioPlayer.get(t._podUserId),t._remotePlayerDom&&(t.audioEle=t._remotePlayerDom._audioDom),t._logger.localInfoLog("PodTrigger","onUserPublishStream.subscribeStream","audioEle",t.audioEle),t._initMediaDomProps(t.renderEle,t.audioEle)})).catch((function(e){t._logger.send("onRTCError",{errc:SDK_CUSTOM_ERROR.RTC_CLIENT_SUBSCRIBE_FAILED.CODE,msg:SDK_CUSTOM_ERROR.RTC_CLIENT_SUBSCRIBE_FAILED.MESSAGE,oErr:e}),l({errorCode:SDK_CUSTOM_ERROR.RTC_CLIENT_SUBSCRIBE_FAILED.CODE,message:SDK_CUSTOM_ERROR.RTC_CLIENT_SUBSCRIBE_FAILED.MESSAGE})}))}})),S.on(index.events.onUserMessageReceived,(function(e){t._player.messageReceivedHandler(e,t._podUserId)})),S.on(index.events.onUserBinaryMessageReceived,(function(e){try{t._player.binaryMessageReceviedHandler(e,t._podUserId)}catch(e2){t._logger.localErrorLog("PodTrigger","onUserBinaryMessageReceived","decode binaryMessage error",e2)}})),S.on(index.events.onSEIMessageReceived,(function(e){t._player.seiMessageReceviedHandler(e,t._podUserId)})),S.on(index.events.onVideoFirstFrameRendered,(function(e){t._logger.localInfoLog("PodTrigger","onVideoFirstFrameRendered","first video frame time: ".concat((new Date).getTime()-d,"ms")),t.renderEle.setAttribute("poster","");try{t._player.emit("first-remote-video-render")}catch(e2){}t._player.emit("_onVideoFirstFrameRendered",e),t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_FRAME_RENDER_SUCCESS}),e.userId===t._podUserId&&B()})),S.on(index.events.onAudioFirstFrameDecoded,(function(e){t._logger.localInfoLog("PodTrigger","onAudioFirstFrameDecoded","first audio frame time: ".concat((new Date).getTime()-d,"ms")),t._logger.send("onFirstRemoteAudioFrame",{cost:(new Date).getTime()-d})})),S.on(index.events.onUserUnpublishStream,(function(e){var n=e.userId,r=e.mediaType,a=e.reason;t._logger.localInfoLog("PodTrigger","onUserUnpublishStream","stream-remove succes"),t._logger.send("streamRemove",{userId:n,mediaType:r,reason:a}),n===i&&t._player.emit("stream-removed",{podUserId:n})})),S.on(index.events.onConnectionStateChanged,(function(e){t._logger.localInfoLog("PodTrigger","onConnectionStateChanged","connect state change: ".concat(JSON.stringify(e))),t._player.emit("_onConnectionStateChanged",e),t.connectionStateMap(e)})),S.on(index.events.onPlayerEvent,(function(e){e&&"video"===e.type&&"play"===e.eventName&&(t._logger.localInfoLog("PodTrigger","onPlayerEvent","video play success"),t._rtcVideoEleId=t.renderEle.id,t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_PLAY_SUCCESS}),t._logger.send("videoPlay",_objectSpread2({cost:(new Date).getTime()-d},t._scaleParams)))})),S.on(index.events.onAutoplayFailed,(function(e){t._logger.localInfoLog("PodTrigger","onAutoplayFailed","".concat(e.kind," auto play error"),e);var n,r,i="".concat(e.kind," auto play error"),a=e.kind;"audio"===e.kind?(n=POD_WARNING.WARNING_START_AUDIO_AUTO_PLAY_FAILED.CODE,r=POD_WARNING.WARNING_START_AUDIO_AUTO_PLAY_FAILED.MESSAGE,t._startMute||t._hasEmitAudioAutoWarning?t._logger.send("videoPlayInnerWarning",_objectSpread2(_objectSpread2({cost:(new Date).getTime()-d},t._scaleParams),{},{errc:n,msg:r,oMsg:i,oErrType:a})):(t._logger.localWarnLog("PodTrigger","_initEngine","".concat(e.kind," auto play error"),e),t._logger.send("videoPlay",_objectSpread2(_objectSpread2({cost:(new Date).getTime()-d},t._scaleParams),{},{errc:n,msg:r,oMsg:i,oErrType:a})),t._hasEmitAudioAutoWarning=!0,t._player.emit("warning",{warningCode:n,message:r}))):(n=START_ERROR.ERROR_START_STREAM_AUTO_PLAY_FAILED.CODE,r=START_ERROR.ERROR_START_STREAM_AUTO_PLAY_FAILED.MESSAGE,t._logger.send("videoPlay",_objectSpread2(_objectSpread2({cost:(new Date).getTime()-d},t._scaleParams),{},{errc:n,msg:r,oMsg:i,oErrType:a})),l({errorCode:n,message:r}))})),S.on(index.events.onError,(function(e){var n,r;t._logger.localErrorLog("PodTrigger","onError","rtc event error..",e),e.errorCode===index.ErrorCode.DUPLICATE_LOGIN?(n=POD_ERROR$1.ERROR_GAME_STOPPED_DUPLICATE_START.CODE,r=POD_ERROR$1.ERROR_GAME_STOPPED_DUPLICATE_START.MESSAGE):e.errorCode===index.ErrorCode.TOKEN_EXPIRED?(n=POD_ERROR$1.ERROR_REMOTE_STOPPED_TOKEN_EXPIRED.CODE,r=POD_ERROR$1.ERROR_REMOTE_STOPPED_TOKEN_EXPIRED.MESSAGE):e.errorCode===index.ErrorCode.RECONNECT_FAILED?(n=POD_ERROR$1.ERROR_RECONNECT_FAILED.CODE,r=POD_ERROR$1.ERROR_RECONNECT_FAILED.MESSAGE):(n=START_ERROR.ERROR_STREAM_GENERAL.CODE,r=START_ERROR.ERROR_STREAM_GENERAL.MESSAGE),t._player.emit("error",{errorCode:n,message:r}),t._logger.send("onRTCError",{errc:n,msg:r,oErrc:e.errorCode,oMsg:"rtc error"}),t._player._stop(!1,!1)})),S.on(index.events.onUserLeave,(function(e){var n,r;t._logger.localWarnLog("PodTrigger","onUserLeave",e);var i,a=(null==e||null===(n=e.userInfo)||void 0===n?void 0:n.userId)===t._podUserId;if(t._player.emit("on-user-leave",{userId:null==e||null===(r=e.userInfo)||void 0===r?void 0:r.userId,isPodLeave:a}),a)if(t._logger.send("onUserLeave",{reason:null==e||null===(i=e.userInfo)||void 0===i?void 0:i.extraInfo}),"veGame"===t._sdkType){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=START_ERROR.ERROR_NET_REQUEST_ERROR.CODE;e.errorCode===n&&(e.originalErrorCode=n,e.originalMessage=(e.message||"")+" getResourceStatus network error",e.errorCode=POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.CODE),t._peerLeave(e),e.errorCode===POD_ERROR$1.ERROR_POD_REMOTE_OFFLINE&&t._logger.send("onPodExit",{errCode:e.errorCode,errMsg:e.message})};t._player.getResourceStatus().then(o).catch(o)}else{var s=_objectSpread2(_objectSpread2({},POD_ERROR$1),POD_ERROR_PHONE_EXTEND),l={errorCode:s.ERROR_GAME_ABNORMAL_EXIT.CODE,message:s.ERROR_GAME_ABNORMAL_EXIT.MESSAGE};setTimeout((function(){t._player.getVePhonePodStatus().then((function(e){var n=e.podStatus,r=(null==PodStatusMapClient?void 0:PodStatusMapClient[n])||"ERROR_GAME_ABNORMAL_EXIT";l={errorCode:null==s?void 0:s[r].CODE,message:null==s?void 0:s[r].MESSAGE,originalErrorCode:n},t._peerLeave(l)})).catch((function(e){l={errorCode:POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.CODE,message:POD_ERROR$1.ERROR_GAME_ABNORMAL_EXIT.MESSAGE,originalErrorCode:START_ERROR.ERROR_NET_REQUEST_ERROR.CODE,originalMessage:"getVePhonePodStatus error: ".concat(e.message)},t._peerLeave(l)}))}),300)}}));var m={roomId:n,token:r,startTime:d,width:o,height:s,podUserId:i},f=t._logger.getCommonParams().sessionId;t._joinRoom(m).then((function(e){var n;t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_JOIN_ROOM_SUCCESS}),null===(n=t._player._fileChannelHandler)||void 0===n||n.socket.connect(),t._logger.localInfoLog("Start","_joinRoomSuccess","clientUser join room success, podUser is ".concat(t._podUserId)),t.isPlaying=!0,t._logger.send("onJoinRoomResult",{cost:(new Date).getTime()-d,result:0})})).catch((function(e){var r;t._player.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_JOIN_ROOM_FAILED});var i=e.code,a=e.message,o=(null==e||null===(r=e.error)||void 0===r?void 0:r.stack)||"",s=START_ERROR.ERROR_SDK_GENERAL.CODE,c=START_ERROR.ERROR_SDK_GENERAL.MESSAGE;o&&o.toString().includes("Cannot create so many PeerConnections")?(s=START_ERROR.ERROR_SDK_MANY_CONNECTION.CODE,c=START_ERROR.ERROR_SDK_MANY_CONNECTION.MESSAGE):e&&"leave_room"===e.message?(s=START_ERROR.ERROR_SDK_USER_HAS_LEAVE_ROOM.CODE,c=START_ERROR.ERROR_SDK_USER_HAS_LEAVE_ROOM.MESSAGE):(null==e?void 0:e.code)===index.ErrorCode.JOIN_ROOM_FAILED?(s=START_ERROR.ERROR_SDK_JOIN_ROOM_FAILED.CODE,c=START_ERROR.ERROR_SDK_JOIN_ROOM_FAILED.MESSAGE):(null==e?void 0:e.code)===index.ErrorCode.USER_FORBIDDEN?(s=START_ERROR.ERROR_SDK_USER_FORBIDDEN.CODE,c=START_ERROR.ERROR_SDK_USER_FORBIDDEN.MESSAGE):"Get offer Error"===a?(s=START_ERROR.ERROR_SDK_MANY_CONNECTION.CODE,c=START_ERROR.ERROR_SDK_MANY_CONNECTION.MESSAGE):"ESTABLISH_DATACHANNEL_FAILED"!==i&&"ICE_SERVER_WRONG"!==i||(s=START_ERROR.ERROR_SDK_JOIN_ROOM_NET_ABNORMAL.CODE,c=START_ERROR.ERROR_SDK_JOIN_ROOM_NET_ABNORMAL.MESSAGE),t._logger.localErrorLog("Start","_joinRoomError","clientUser join room failed",n,e),t._logger.send("joinRoomResult",{roomId:n,cost:(new Date).getTime()-d,result:1,msg:c,errc:s,oMsg:a,oErrc:i,stackMsg:o},{sessionId:f}),l({errorCode:s,message:c})}))}))}},{key:"_initMediaDomProps",value:function(e,t){e&&(e.poster="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.id=(65535&(new Date).getTime())+""+parseInt(1e3*Math.random()),this._mute&&(e.setAttribute("muted","true"),e.muted=!0)),t&&this._mute&&(t.setAttribute("muted","true"),t.muted=!0)}},{key:"_joinRoom",value:function(e){var t=this,n=e.roomId,r=e.token,i=e.width,a=e.height,o=e.podUserId;this._logger.send("joinRoom",{podUserId:o,token:r,podWith:i,podHeight:a});var s=null;return new Promise((function(e,i){t._client.joinRoom(r,n,{userId:t._userId||" "},{isAutoPublish:!1,isAutoSubscribeAudio:!1,isAutoSubscribeVideo:!1}).then((function(t){e(t)})).catch((function(e){i(e)})).finally((function(){s&&clearTimeout(s)})),s=setTimeout((function(){t._logger.localWarnLog("ClientTrigger","_joinRoom","RTC ICE Timeout"),t._logger.send("warning",{warningCode:POD_WARNING.WARNING_START_RTC_ICE_TIMEOUT.CODE,msg:"rtc timeout",ua:navigator.userAgent}),t._player.emit("warning",{warningCode:POD_WARNING.WARNING_START_RTC_ICE_TIMEOUT.CODE,message:POD_WARNING.WARNING_START_RTC_ICE_TIMEOUT.MESSAGE})}),t._joinRoomTimeout)}))}},{key:"_peerLeave",value:function(e){var t=e.errorCode,n=e.message,r=e.originalErrorCode,i=void 0===r?"":r,a=e.originalMessage,o=void 0===a?"":a;this._player.emit("error",{errorCode:t,message:n}),this._logger.send("error",{errc:t,msg:n,oErrc:i,oMsg:o}),this._player._stop()}},{key:"stop",value:function(){var e=this;return document.removeEventListener("visibilitychange",this._visibilityCallback),new Promise((function(t,n){var r=START_ERROR.ERROR_SDK_GENERAL.CODE,i=START_ERROR.ERROR_SDK_GENERAL.MESSAGE;e._client?(e._logger.send("leaveRoom"),e._connectState="DISCONNECTED",e._logger.localInfoLog("Stop","stop","stop..."),e._isAudioPublishStream=!1,e._isVideoPublishStream=!1,e._client.leaveRoom().then((function(){e._logger.localInfoLog("Stop","stop","stop sccuess"),index.destroyEngine(e._client),e._logger.send("stopSuccess"),t(!0)})).catch((function(t){e._logger.localErrorLog("Stop","stop","stop fail",t),e._logger.send("stopFail",{error:t}),n({errorCode:r,message:i})}))):(e._logger.send("stopFail",{error:"client not exist"}),n({errorCode:r,message:i})),e.status="stop"}))}},{key:"sendMessage",value:function(e,t){var n=this,r=this._podUserId;if(!t){var i=JSON.parse(e);i.op_type!==CLIENT_EVENT_TYPE.EVENT_TYPE_TOUCH&&i.op_type!==CLIENT_EVENT_TYPE.EVENT_TEST_DELAY&&this._logger.localInfoLog("ClientTrigger","sendMessage","sendMessage to:"+r+" message:"+e)}return new Promise((function(i,a){var o=MESSAGE_CHANNEL_ERROR.ERROR_MESSAGE_NOT_READY,s=o.CODE,l=o.MESSAGE;n._userJoined?t?n._client.sendUserBinaryMessage(r,e).then((function(e){i(e)})).catch((function(e){n._logger.localWarnLog("ClientTrigger","sendMessage.sendUserBinaryMessage","rtc-data-channel-error",e),a({errorCode:s,message:l})})):n._client.sendUserMessage(r,e).then((function(t){JSON.parse(e).op_type!==CLIENT_EVENT_TYPE.EVENT_TEST_DELAY&&n._logger.localInfoLog("ClientTrigger","sendMessage.sendUserMessage","sendMessage success",e),i(t)})).catch((function(e){n._logger.localWarnLog("ClientTrigger","sendMessage.sendUserMessage","rtc-data-channel-error",e),a({errorCode:s,message:l})})):(n._logger.localWarnLog("ClientTrigger","sendMessage","remoteStream-error, podUser has not joined"),a({errorCode:s,message:l}))}))}},{key:"initStats",value:function(){var e=this;this._client.on(index.events.onRemoteStreamStats,(function(t){var n,r,i,a;e._stats={accessDelay:t.videoStats.rtt<0?0:t.videoStats.rtt,videoReceivedPacketsLostRate:t.videoStats.videoLossRate,videoReceivedBitrate:t.videoStats.receivedKBitrate,videoReceivedFrameRate:t.videoStats.decoderOutputFrameRate,videoReceivedResolutionHeight:t.videoStats.width,videoReceivedResolutionWidth:t.videoStats.height,videoStallCount:null===(n=t.videoStats)||void 0===n?void 0:n.stallCount,videoStallDuration:null===(r=t.videoStats)||void 0===r?void 0:r.stallDuration,videoStallCount100MS:null===(i=t.videoStats)||void 0===i?void 0:i.stallCount100MS,videoStallDuration100MS:null===(a=t.videoStats)||void 0===a?void 0:a.stallDuration100MS},e._logger.send("receivedStreamStats",{stats:JSON.stringify(t.videoStats)}),e._player.emit("received-stream-stats",{stats:t.videoStats})})),this._client.on(index.events.onLocalStreamStats,(function(t){e._player.emit("send-stream-stats",{stats:t.audioStats}),e._logger.send("localStreamStats",{stats:JSON.stringify(t.audioStats)}),e._logger.send("sendStreamStats",{stats:JSON.stringify(t.videoStats)})})),this._client.on(index.events.onAudioDeviceStateChanged,(function(t){e._logger.localInfoLog("ClientTrigger","onAudioDeviceStateChanged","audio device state changed",t),e._logger.send("localAudioStreamState",{state:t.deviceState,deviceId:t.mediaDeviceInfo.deviceId}),e._player.emit("local-audio-stream-state",t)})),this._client.on(index.events.onVideoDeviceStateChanged,(function(t){e._logger.localInfoLog("ClientTrigger","onVideoDeviceStateChanged","video device state changed",t),e._logger.send("localVideoStateChanged",{state:t.deviceState,deviceId:t.mediaDeviceInfo.deviceId}),e._player.emit("local-video-stream-state",t)}))}},{key:"getStats",value:function(){var e=this;return new Promise((function(t,n){e._remoteStream?e._stats?t(e._stats):e._client.on(index.events.onRemoteStreamStats,(function(n){var r,i,a,o;e._stats={accessDelay:n.videoStats.rtt<0?0:n.videoStats.rtt,videoReceivedPacketsLostRate:n.videoStats.videoLossRate,videoReceivedBitrate:n.videoStats.receivedKBitrate,videoReceivedFrameRate:n.videoStats.decoderOutputFrameRate,videoReceivedResolutionHeight:n.videoStats.width,videoReceivedResolutionWidth:n.videoStats.height,videoStallCount:null===(r=n.videoStats)||void 0===r?void 0:r.stallCount,videoStallDuration:null===(i=n.videoStats)||void 0===i?void 0:i.stallDuration,videoStallCount100MS:null===(a=n.videoStats)||void 0===a?void 0:a.stallCount100MS,videoStallDuration100MS:null===(o=n.videoStats)||void 0===o?void 0:o.stallDuration100MS},t(e._stats)})):n()}))}},{key:"connectionStateMap",value:function(e){var t=e&&e.state,n=e&&e.message;switch(t){case ConnectionState.CONNECTION_START:this._connectState="START";break;case ConnectionState.CONNECTION_STATE_DISCONNECTED:this._connectState="DISCONNECTED",this._logger.send("streamReconnecting",{reason:0}),!this._invisible&&this._canEmitReconnectedEvent&&this._player.emit("stream-reconnecting");break;case ConnectionState.CONNECTION_STATE_CONNECTING:this._connectState="CONNECTING";break;case ConnectionState.CONNECTION_STATE_CONNECTED:this._canEmitReconnectedEvent=!0,this._connectState="CONNECTED";break;case ConnectionState.CONNECTION_STATE_RECONNECTING:this._connectState="RECONNECTING",this._reconnect(this._reconnectTime),this._invisible&&(this._hasInvisible=!0);break;case ConnectionState.CONNECTION_STATE_RECONNECTED:this._connectState="RECONNECTED",this._player.emit("stream-reconnected"),this._logger.send("streamReconnected",{reason:0}),this._hasInvisible=!1,this._cancelReconnect();break;default:this._connectState="OTHER"}t!==ConnectionState.CONNECTION_STATE_RECONNECTED&&t!==ConnectionState.CONNECTION_STATE_DISCONNECTED||this._player.emit("status-change",{code:t,message:n})}},{key:"saveVisibleToHiddenStats",value:function(){var e;null===(e=this._remotePlayerDom)||void 0===e||e.pause()}},{key:"restoreVisibleToHiddenStats",value:function(){var e,t;this._mute||(null===(e=this.renderEle)||void 0===e||e.play(),null===(t=this._remotePlayerDom)||void 0===t||t.manuallyPlay())}},{key:"getConnectionState",value:function(){return this._connectState}},{key:"play",value:function(){var e;(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||isIOSUniApp()||isiOS()&&getIOSVersion()<13)&&(null===(e=this.renderEle)||void 0===e||e.load());return this._client.play(this._podUserId)}},{key:"setAudioMute",value:function(e){var t;(this._mute=!!e,!e&&this.audioEle)&&(null===(t=this._remotePlayerDom)||void 0===t||t.manuallyPlay());this.audioEle&&(this.audioEle.muted=e)}},{key:"isAudioMuted",value:function(){return this._muteState.audio}},{key:"muteStream",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(this._logger.localInfoLog("ClientTrigger","muteStream","subscribeType start",t),this._client){var r,i=Object.assign({audio:this._muteState.audio,video:this._muteState.video},t),a=null;n===SUBSCRIBE_TYPE.PAUSE&&(a="unsubscribe",r=MediaType$1.AUDIO_AND_VIDEO),n===SUBSCRIBE_TYPE.RESUME&&(a="subscribe",r=MediaType$1.AUDIO_AND_VIDEO),n===SUBSCRIBE_TYPE.AUDIO&&(a=t.audio?"unsubscribe":"subscribe",r=MediaType$1.AUDIO),n===SUBSCRIBE_TYPE.VIDEO&&(a=t.video?"unsubscribe":"subscribe",r=MediaType$1.VIDEO),this._logger.send("mute"+n,{mute:i}),"unsubscribe"===a&&(this._logger.localInfoLog("ClientTrigger","muteStream","unsubscribeType",r),this.unsubscribeStream(r,(function(){e._muteState=i,n&&(e._logger.send("mute".concat(n,"Updated"),{mute:e._muteState}),e._logger.localInfoLog("ClientTrigger","muteStream","mute success",i),e._player.emit("_onVideoPlaying",i))}))),"subscribe"===a&&(this._logger.localInfoLog("ClientTrigger","muteStream","subscribeType",r),this.subscribeStream(r,(function(){e._muteState=i,n&&(e._logger.send("mute".concat(n,"Updated"),{mute:e._muteState}),e._logger.localInfoLog("ClientTrigger","muteStream","mute success",i),e._player.emit("_onVideoPlaying",i))})))}}},{key:"isVideoMuted",value:function(){return this._muteState.video}},{key:"setVideoMute",value:function(e){var t;(this._mute=!!e,!e&&this.audioEle)&&(null===(t=this._remotePlayerDom)||void 0===t||t.manuallyPlay());this.audioEle&&(this.audioEle.muted=e)}},{key:"unsubscribeStream",value:function(e,t){return this._client.unsubscribeStream(this._podUserId,e).then((function(){t()}))}},{key:"subscribeStream",value:function(e,t){return this._client.subscribeStream(this._podUserId,e).then((function(){t()}))}},{key:"pauseOrResume",value:function(e){var t;if(this._remoteStream)return this._mute=e,t=e?SUBSCRIBE_TYPE.PAUSE:SUBSCRIBE_TYPE.RESUME,this.muteStream({audio:e,video:e},t)}},{key:"_retryIsTimeOut",value:function(e){var t={errorCode:POD_ERROR$1.ERROR_GAME_ALREADY_STOPPED.CODE,message:POD_ERROR$1.ERROR_GAME_ALREADY_STOPPED.MESSAGE},n=this._remoteUsers,r=!1;if(this._logger.localInfoLog("Reconnect","_retryIsTimeOut","remote users",n),e){if(n)for(var i=0;i<n.length;i++)n[i].userInfo&&n[i].userInfo.userId===this._podUserId&&(r=!0);r||(this._player.emit("error",t),this._logger.send("error",{errc:t.errorCode,msg:t.message}))}}},{key:"_streamStop",value:function(){var e=this;this._client&&this._remoteStream&&this._client.unsubscribe(this._podUserId,!1).then((function(){e._logger.localInfoLog("Stop","stop","unsubscribe success")})),this._removeClientListener()}},{key:"_removeClientListener",value:function(){this._client&&this._client.removeAllListeners(),this._remoteStream&&this._remoteStream.removeAllListeners()}},{key:"_reconnect",value:function(e){var t=this,n=POD_ERROR$1.ERROR_GAME_ALREADY_STOPPED.CODE,r=POD_ERROR$1.ERROR_GAME_ALREADY_STOPPED.MESSAGE;this._reconnectInterId||(this._reconnectInterId=window.setTimeout((function(){if("CONNECTED"!==t._connectState&&"RECONNECTED"!==t._connectState){if(t._cancelReconnect(),t._hasInvisible)return t._hasInvisible=!1,t._reconnect(e),!1;t._logger.localInfoLog("Reconnect","_reconnect","reconnect failed"),t._player.emit("error",{errorCode:n,message:r}),t._logger.send("error",{errc:n,msg:r}),t._player._stop()}else t._hasInvisible=!1}),e))}},{key:"_cancelReconnect",value:function(){clearTimeout(this._reconnectInterId),this._reconnectInterId=null}},{key:"_publishStream",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MediaType$1.AUDIO_AND_VIDEO;return new Promise((function(n,r){var i;!e._isAudioPublishStream&&t===MediaType$1.AUDIO||!e._isVideoPublishStream&&t===MediaType$1.VIDEO||!e._isVideoPublishStream&&!e._isAudioPublishStream&&t===MediaType$1.AUDIO_AND_VIDEO?(i=t,e._client?e._client.publishStream(i).then((function(){e._logger.send("publishStreamSuccess"),i===MediaType$1.AUDIO?e._isAudioPublishStream=!0:(i===MediaType$1.VIDEO||(e._isAudioPublishStream=!0),e._isVideoPublishStream=!0),n(!0)})).catch((function(t){e._logger.send("publishStreamFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.PUBLISH_STREAM_RTC_FAIL.CODE,errMsg:SDK_CUSTOM_ERROR.PUBLISH_STREAM_RTC_FAIL.MESSAGE,oErr:t}),r()})):(e._logger.send("publishStreamFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.RTC_CLIENT_NOT_CREATE.CODE,errMsg:SDK_CUSTOM_ERROR.RTC_CLIENT_NOT_CREATE.MESSAGE,oErr:""}),r())):n(!0)}))}},{key:"_unPublishStream",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MediaType$1.AUDIO_AND_VIDEO;return new Promise((function(n,r){var i;e._isAudioPublishStream&&t===MediaType$1.AUDIO||e._isVideoPublishStream&&t===MediaType$1.VIDEO||e._isVideoPublishStream&&e._isAudioPublishStream&&t===MediaType$1.AUDIO_AND_VIDEO?(i=t,e._client?e._client.unpublishStream(i).then((function(){e._logger.send("unpublishStreamSuccess"),i===MediaType$1.AUDIO?e._isAudioPublishStream=!1:(i===MediaType$1.VIDEO||(e._isAudioPublishStream=!1),e._isVideoPublishStream=!1),n(!0)})).catch((function(t){e._logger.send("unpublishStreamFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.UNPUBLISH_STREAM_RTC_FAIL.CODE,errMsg:SDK_CUSTOM_ERROR.UNPUBLISH_STREAM_RTC_FAIL.MESSAGE,oErr:t}),r()})):e._logger.send("disableLocalAudioFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.RTC_CLIENT_NOT_CREATE.CODE,errMsg:SDK_CUSTOM_ERROR.RTC_CLIENT_NOT_CREATE.MESSAGE,oErr:""})):n(!0)}))}},{key:"updateVideoRenderMode",value:function(e){switch(this._logger.send("updateVideoRenderMode",{videoRenderMode:e}),e){case VIDEO_RENDER_MODE.CONTAIN:this.renderEle&&(this.renderEle.style.objectFit="contain");break;case VIDEO_RENDER_MODE.COVER:this.renderEle&&(this.renderEle.style.objectFit="cover");break;case VIDEO_RENDER_MODE.FILL:this.renderEle&&(this.renderEle.style.objectFit="fill");break;default:this.renderEle&&(this.renderEle.style.objectFit="contain")}}},{key:"reconnectTime",get:function(){return this._reconnectTime},set:function(e){this._reconnectTime=e}},{key:"remoteStream",get:function(){return this._remoteStream}},{key:"isReady",get:function(){return!!this._remoteStream}},{key:"destroy",value:function(){this._remoteStream=null}},{key:"initPauseDetect",value:function(e){var t=this;e?e.addEventListener("pause",(function(){var e;(console.warn("Video is PAUSED"),"vePhone"===t._sdkType&&isiOS()&&isWxApp())&&(console.warn("vePhone Video is Force played"),null===(e=t.renderEle)||void 0===e||e.play());(t._player.getConfig("shouldPlayWhenPause")||isIOSUniApp()&&getIOSVersion()>17)&&(console.warn("Video is Force played"),t._client.play(t._podUserId))})):console.warn("Video is undefined")}},{key:"setVolume",value:function(e){this.audioEle&&(this.audioEle.volume=limitRange(e,0,1))}},{key:"getVolume",value:function(){var e;return(null===(e=this.audioEle)||void 0===e?void 0:e.volume)||0}}],[{key:"setDeviceId",value:function(e){e&&index.setParameter("DEVICE_ID",e)}}])}(),SocketEngine=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e);var r=getPlugin("socketEngine");return r?new r(t,n):(console.warn("如果需要使用SocketEngine，请先引入相关插件"),null)}),null,[{key:"isSupported",value:function(){var e=getPlugin("socketEngine");return e?e.isSupported():(console.warn("如果需要使用SocketEngine，请先引入相关插件"),{result:!1,msg:"wasm: need install @byted/ve-socket"})}}])}(),LocalAudioHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t,this._client=t.client,this._logger=this._player.logger,this._captureState="wait",this.localAudioStreamState(),this._isSelfCollect=!1}),[{key:"setAudioSourceType",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isSelfCollect=!(n!==AudioSourceType.AUDIO_SOURCE_TYPE_EXTERNAL),this._logger.send("setAudioSourceType",{streamType:t,audioSourceType:n}),e.next=4,this._player.client._client.setAudioSourceType(t,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"startExternalAudioTrack",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._player.client._client,this._logger.send("pushExternalAudioFrame",{streamType:t}),e.next=4,r.setExternalAudioTrack(t,n);case 4:return e.next=6,r.publishStream(MediaType$1.AUDIO);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"stopExternalAudioTrack",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._logger.send("stopExternalAudioTrack"),e.next=3,this._player.client._client.unpublishStream(MediaType$1.AUDIO);case 3:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"startSendAudioStream",value:function(){var e=this;return this._logger.send("startAudioStream"),this._logger.localInfoLog("PodTrigger","startSendAudioStream","start Send Audio Stream"),new Promise((function(t,n){e._player.client._client.publishStream(MediaType$1.AUDIO).then((function(){e._logger.send("publishStreamSuccess"),e._player.client._client.startAudioCapture(e._audioinput).then((function(){e._captureState="capturing",e._logger.localInfoLog("PodTrigger","startSendAudioStream.publishStream","start Send Audio Stream success"),e._logger.send("startAudioCapture"),e._player.emit("start-audio-capture"),t({success:!0})})).catch((function(n){e._logger.localWarnLog("PodTrigger","startSendAudioStream.publishStream","start Send Audio Stream error",n),t(_objectSpread2({success:!1},n))}))})).catch((function(n){e._logger.send("publishStreamFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.PUBLISH_STREAM_RTC_FAIL.CODE,errMsg:SDK_CUSTOM_ERROR.PUBLISH_STREAM_RTC_FAIL.MESSAGE,oErr:n}),t(_objectSpread2({success:!1,code:"PUBLISH_FAIL"},n))}))}))}},{key:"stopSendAudioStream",value:function(){var e,t=this;this._logger.send("stopAudioStream"),this._logger.localInfoLog("PodTrigger","stopSendAudioStream","stop Send Audio Stream"),null===(e=this._player.client)||void 0===e||e._unPublishStream(MediaType$1.AUDIO).then((function(){var e,n;null===(e=t._player.client._client)||void 0===e||null===(n=e.stopAudioCapture)||void 0===n||n.call(e).then((function(){t._captureState="wait",t._logger.send("stopAudioCapture"),t._player.emit("stop-audio-capture")})).catch((function(e){t._logger.localWarnLog("PodTrigger","stopSendAudioStream","stop Audio Stream error",e)}))})).catch((function(e){console.log(e)}))}},{key:"setAudioCaptureDevice",value:function(e){var t=this;return this._audioinput=e,this._logger.localInfoLog("PodTrigger","setAudioCaptureDevice","set Audio Capture Device"),new Promise((function(n){"capturing"!==t._captureState?n(!0):t._player.client._client.setAudioCaptureDevice(e).then((function(){n(!0),t._player.emit("audio-capture-route-updated",{deviceId:e})}))}))}},{key:"setAudioPlaybackDevice",value:function(e){var t=this;this._logger.send("setAudioPlaybackDevice",{deviceId:e}),this._logger.localInfoLog("PodTrigger","setAudioPlaybackDevice","set Audio Playback Route"),this._audiooutput=e,this._player.client._client.setAudioPlaybackDevice("null"===e?null:e).then((function(){t._player.emit("audio-playback-route-updated",{deviceId:e}),t._logger.send("audioPlaybackDeviceChanged",{deviceId:e})}))}},{key:"getAudioPlaybackDeviceList",value:function(){var e=this;return new Promise((function(t,n){index.enumerateAudioPlaybackDevices().then((function(n){e._logger.localInfoLog("PodTrigger","getAudioPlaybackDeviceList","get Audio Playback Device List",n),e._logger.send("getAudioPlaybackDevice",{devices:n}),t(n)}))}))}},{key:"getAudioCaptureDeviceList",value:function(){var e=this;return new Promise((function(t,n){index.enumerateDevices().then((function(n){e._mediaDevices=n;var r=[];e._mediaDevices.forEach((function(e){"audioinput"===e.kind&&r.push(e)})),e._player.emit("audio-capture-list-update",r),e._logger.localInfoLog("PodTrigger","getAudioCaptureDeviceList","get Audio Capture Device List",e._mediaDevices,r),t(r)}))}))}},{key:"getAudioCaptureDevice",value:function(){return this._audioinput}},{key:"getAudioPlaybackDevice",value:function(){return this._audiooutput}},{key:"localAudioStreamState",value:function(){var e=this;this._player.on("local-audio-stream-state",(function(t){var n=t.kind;"audioinput"===n?index.enumerateAudioCaptureDevices().then((function(t){var n=[];t.forEach((function(e){"audioinput"===e.kind&&n.push(e)})),e._player.emit("audio-capture-list-update",n),e.setAudioCaptureDevice(n[0].deviceId)})):"audiooutput"===n&&index.enumerateAudioPlaybackDevices().then((function(t){var n=[];t.forEach((function(e){"audiooutput"===e.kind&&n.push(e)})),e._player.emit("audio-playback-list-update",n),e.setAudioPlaybackDevice(n[0].deviceId)}))}))}},{key:"handleAudioEvent",value:function(e){e&&1===e.subcmd?(this._logger.localInfoLog("PodTrigger","handleAudioEvent","Remote Stream Start Request "),this._logger.send("startAudioStreamCaptureRequest"),this._player.emit("remote-stream-start-request",{isAudio:!0,isVideo:!1})):(this._logger.localInfoLog("PodTrigger","handleAudioEvent","remote Stream Stop Request "),this._logger.send("stopAudioStreamCaptureRequest"),this._player.emit("remote-stream-stop-request",{isAudio:!0,isVideo:!1}))}},{key:"handleAudioPBEvent",value:function(e){var t;null!=e&&null!==(t=e.msg)&&void 0!==t&&t.enable?(this._logger.localInfoLog("PodTrigger","handleAudioPBEvent","Remote Stream Start Request "),this._logger.send("startAudioStreamCaptureRequest"),this._player.emit("remote-stream-start-request",{isAudio:!0,isVideo:!1})):(this._logger.localInfoLog("PodTrigger","handleAudioPBEvent","remote Stream Stop Request "),this._logger.send("stopAudioStreamCaptureRequest"),this._player.emit("remote-stream-stop-request",{isAudio:!0,isVideo:!1}))}},{key:"stop",value:function(){this._isSelfCollect?this.stopExternalAudioTrack():this.stopSendAudioStream()}}]);var e,t,n}(),PromiseQueue=function(){return _createClass$1((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;_classCallCheck$1(this,e),this.queueList=[],this.maxLimit=t,this.index=0}),[{key:"push",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queueTask();case 2:return e.prev=2,e.next=5,t();case 5:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,this.index--,this.scheduleNextTask(),e.finish(7);case 11:case"end":return e.stop()}}),e,this,[[2,,7,11]])}))),function(e){return t.apply(this,arguments)})},{key:"queueTask",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.index++,!(this.index>this.maxLimit)){e.next=4;break}return e.next=4,new Promise((function(e){return t.queueList.push(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"scheduleNextTask",value:function(){this.queueList.length>0&&this.queueList.shift()()}}]);var e,t}(),LocalCameraHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._deviceId="",this._player=t,this._client=t.client,this._logger=this._player.logger,this._config={},this._streamIndex=0,this.virtualDevicesList=[{deviceId:"user",label:"前置",kind:"videoinput"},{deviceId:"environment",label:"后置",kind:"videoinput"}],this._isSelfCollect=!1,this._queueTask=new PromiseQueue}),[{key:"setVideoSourceType",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._streamIndex=t,this._isSelfCollect=!(n!==VideoSourceType.VIDEO_SOURCE_TYPE_EXTERNAL),this._logger.send("setVideoSourceType",{streamType:t,videoSourceType:n}),e.next=5,this._player.client._client.setVideoSourceType(t,n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"startExternalVideoTrack",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._player.client._client,this._logger.send("pushExternalVideoFrame",{streamType:t}),this._streamIndex=t,e.next=5,r.setExternalVideoTrack(t,n);case 5:return e.next=7,r.publishStream(MediaType$1.VIDEO);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"stopExternalVideoTrack",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._player.client._client.unpublishStream(MediaType$1.VIDEO);case 2:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"startVideoStream",value:function(e){var t=this;return this._queueTask.push((function(){return t.startVideoStreamOrigin(e)}))}},{key:"startVideoStreamOrigin",value:function(e){var t=this;return this._logger.localInfoLog("PodTrigger","startVideoStream","start Send Video Stream"),this._logger.send("startVideoStream"),new Promise((function(n,r){t._player.client._publishStream(MediaType$1.VIDEO).then((function(){t._logger.send("publishStreamSuccess"),t._player.client._client.startVideoCapture(e).then((function(e){var r;t.sendVideoSEIMessage(t._streamIndex,null===(r=t._config)||void 0===r?void 0:r.facingMode),t._deviceId=e.deviceId,t._logger.localInfoLog("PodTrigger","startVideoStream","start video stream success"),t._logger.send("startCapture"),t._player.emit("start-video-capture"),n({success:!0})})).catch((function(e){t._logger.localWarnLog("PodTrigger","startVideoStream","start Video Stream error",e),n(_objectSpread2({success:!1},e))}))})).catch((function(e){t._logger.localWarnLog("PodTrigger","startVideoStream","start Video Stream error",e),t._logger.send("publishStreamFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.PUBLISH_STREAM_RTC_FAIL.CODE,errMsg:SDK_CUSTOM_ERROR.PUBLISH_STREAM_RTC_FAIL.MESSAGE,oErr:e}),n(_objectSpread2({success:!1,code:"PUBLISH_FAIL"},e))}))}))}},{key:"sendVideoSEIMessage",value:function(e,t){var n="user"===t?0:1;this._logger.send("sendVideoSEIMessage",{streamIndex:e,cameraId:n}),this._player.client._client.sendSEIMessage(e,{camera_id:n},3)}},{key:"stopVideoStream",value:function(){var e=this;return this._queueTask.push((function(){return e.stopVideoStreamOrigin()}))}},{key:"stopVideoStreamOrigin",value:function(){var e=this;return this._logger.localInfoLog("PodTrigger","stopVideoStream","stop Video Stream "),this._logger.send("stopVideoStream"),new Promise((function(t,n){var r;null===(r=e._player.client)||void 0===r||r._unPublishStream(MediaType$1.VIDEO).then((function(){var n,r;null===(n=e._player.client._client)||void 0===n||null===(r=n.stopVideoCapture)||void 0===r||r.call(n).then((function(){e._deviceId="",t(0),e._logger.send("stopCapture"),e._player.emit("stop-video-capture")})).catch((function(n){e._logger.localWarnLog("PodTrigger","stopVideoStream","stop Video Stream error",n),t(-1)}))})).catch((function(n){e._logger.localWarnLog("PodTrigger","stopVideoStream","stop Video Stream error",n),t(-1)}))}))}},{key:"setVideoCaptureDevice",value:function(e){var t=this;return this._logger.send("switchCamera",{deviceId:e}),new Promise((function(n,r){t._logger.localInfoLog("PodTrigger","setVideoCaptureDevice","set video Capture Device"),t._player.client._client.setVideoCaptureDevice(e).then((function(){t._logger.localInfoLog("PodTrigger","setVideoCaptureDevice","set video Capture Device success"),t._deviceId=e,t._player.emit("video-capture-route-updated",{deviceId:e}),t._logger.send("switchCameraResult",{success:!0}),n(e)})).catch((function(e){t._logger.localWarnLog("PodTrigger","setVideoCaptureDevice","set video Capture Device error",e),t._logger.send("switchCameraResult",{success:!1,err:e}),r(e)}))}))}},{key:"getVideoPlaybackDeviceList",value:function(){var e=this,t=this.virtualDevicesList;return new Promise((function(n,r){e._logger.localInfoLog("PodTrigger","getVideoPlaybackDeviceList","isPc: ".concat(isPC())),isPC()?index.enumerateVideoCaptureDevices().then((function(t){e._mediaDevices=t;var r=[];e._mediaDevices.forEach((function(e){"videoinput"===e.kind&&r.push(e)})),e._logger.localInfoLog("PodTrigger","getVideoPlaybackDeviceList","get Video Capture Device List",r),n(r)})):(e._logger.localInfoLog("PodTrigger","getVideoPlaybackDeviceList","get Video Capture Device List",t),n(t))}))}},{key:"getVideoCaptureDevice",value:function(){return this._deviceId}},{key:"setLocalVideoView",value:function(e){var t=e.streamIndex,n=e.videoPlayerOption;return this._logger.send("setLocalVideoView"),"contain"===n.renderMode?n.renderMode=VideoRenderMode.RENDER_MODE_FIT:n.renderMode=VideoRenderMode.RENDER_MODE_HIDDEN,this._player.client._client.setLocalVideoPlayer(t,n)}},{key:"setLocalVideoMirrorMode",value:function(e){this._logger.send("setLocalVideoMirrorMode",{mirrorType:e}),this._player.client._client.setLocalVideoMirrorType(e),this._mirrorType=e}},{key:"getLocalVideoMirrorMode",value:function(){return this._logger.send("getLocalVideoMirrorMode"),this._mirrorType||0}},{key:"setVideoCaptureConfig",value:function(e){var t=this,n=Object.assign(this._config,e),r=n.width,i=n.height,a=n.facingMode;this._logger.send("setVideoCaptureConfig",{width:r,height:i,facingMode:a}),isPC()?index.enumerateVideoCaptureDevices().then((function(e){t._mediaDevices=e,t._logger.localInfoLog("PodTrigger","setVideoCaptureConfig","get Video Capture Device List",e),t._player.client._client.setVideoCaptureDevice(e[0].deviceId).then((function(){t._deviceId=e[0].deviceId,t._logger.localInfoLog("PodTrigger","setVideoCaptureConfig","set Video Capture Device success",e[0].deviceId)})).catch((function(e){t._logger.localWarnLog("PodTrigger","setVideoCaptureConfig","set Video Capture Device  fail",e)}))})):this._player.client._client.setVideoCaptureDevice(a).then((function(){var e;t.sendVideoSEIMessage(t._streamIndex,null===(e=t._config)||void 0===e?void 0:e.facingMode),t._logger.localInfoLog("PodTrigger","setVideoCaptureConfig","set h5 Video Capture Device success",a)})).catch((function(e){t._logger.localWarnLog("PodTrigger","setVideoCaptureConfig","set h5 Video Capture Device  fail",e)}))}},{key:"setVideoEncoderConfig",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._logger.send("setVideoEncoderConfig",_objectSpread2({},t)),new Promise((function(n,r){e._logger.localInfoLog("PodTrigger","setVideoEncoderConfig","set video encoder config",t),e._player.client._client.setVideoEncoderConfig(t).then((function(){e._logger.localInfoLog("PodTrigger","setVideoEncoderConfig","set video encoder config success"),n(!0)})).catch((function(t){e._logger.localWarnLog("PodTrigger","setVideoEncoderConfig","set video encoder config fail",t),r()}))}))}},{key:"handleCameraEvent",value:function(e){if(e&&1===e.data.subcmd){var t,n;if(null!==(t=e.data)&&void 0!==t&&t.args)this._cameraId=e.data.args.id,this._cameraW=e.data.args.width,this._cameraH=e.data.args.height,n=0===this._cameraId?"user":"environment",this._config={facingMode:n,width:this._cameraW,height:this._cameraH},this._isSelfCollect||this.setVideoCaptureConfig({facingMode:n,width:this._cameraW,height:this._cameraH});this._logger.localInfoLog("PodTrigger","handleCameraEvent","Remote Stream Camera start Request"),this._logger.send("remoteStreamStartRequest",{isAudio:!1,isVideo:!0}),this._player.emit("remote-stream-start-request",{isAudio:!1,isVideo:!0,videoWidth:this._cameraW,videoHeight:this._cameraH})}else this._logger.localInfoLog("PodTrigger","handleCameraEvent","remote Stream Camera Stop Request "),this._logger.send("remoteStreamStopRequest",{isAudio:!1,isVideo:!0}),this._player.emit("remote-stream-stop-request",{isAudio:!1,isVideo:!0})}},{key:"handleCameraPBEvent",value:function(e){var t;if(null!=e&&null!==(t=e.msg)&&void 0!==t&&t.enable){var n;this._logger.localInfoLog("PodTrigger","handleCameraPBEvent","Remote Stream Camera start Request",null==e?void 0:e.msg);var r=null==e||null===(n=e.msg)||void 0===n?void 0:n.params,i=(null==r?void 0:r.width)||0,a=(null==r?void 0:r.height)||0,o=(null==r?void 0:r.id)||0,s={isAudio:!1,isVideo:!0,videoWidth:i,videoHeight:a,cameraId:o};this._config={facingMode:1===o?"environment":"user",width:i,height:a},this._logger.send("remoteStreamStartRequest",_objectSpread2({},s)),this._player.emit("remote-stream-start-request",s)}else this._logger.localInfoLog("PodTrigger","handleCameraPBEvent","remote Stream Camera Stop Request "),this._logger.send("remoteStreamStopRequest",{isAudio:!1,isVideo:!0}),this._player.emit("remote-stream-stop-request",{isAudio:!1,isVideo:!0})}},{key:"stop",value:function(){this._isSelfCollect?this.stopExternalVideoTrack():this.stopVideoStream()}}]);var e,t,n}(),FullscreenHandler=function(){return _createClass$1((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fsFitMode:"contain"};_classCallCheck$1(this,e),this._player=t,this.fsFitMode=r.fsFitMode||"contain";var i=t.containerDomId,a=document.getElementById(i);this.unbindScreenChangeEventFn=fullscreenHelper.bindFullscreenchange(document,(function(e){var t=a.querySelector("video");t&&(fullscreenHelper.fullscreenElement?(t.style["object-fit"]=n.fsFitMode,n._player.emit("full-screen-change",{originalEvent:e,state:!0})):(t.style["object-fit"]="contain",n._player.emit("full-screen-change",{originalEvent:e,state:!1})))})),this.unbindScreenErrorEventFn=fullscreenHelper.bindFullscreenerror((function(e){n._player.emit("full-screen-error",{originalEvent:e})}))}),[{key:"setFullScreenState",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fitMode,n=void 0===t?"":t;n&&(this.fsFitMode=n);var r=this._player.containerDomId,i=document.getElementById(r);i&&e&&!fullscreenHelper.fullscreenElement?fullscreenHelper.requestFullscreen(i):fullscreenHelper.exitFullscreen(),this._player.logger.send("setFullScreenState",{state:e});var a=i.querySelector("video");a&&(fullscreenHelper.fullscreenElement?a.style["object-fit"]=this.fsFitMode:a.style["object-fit"]="contain")}},{key:"destroy",value:function(){this.unbindScreenChangeEventFn(),this.unbindScreenErrorEventFn()}}])}(),StartWithFrameworkHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=t,this.logger=this._player.logger}),[{key:"handleWarningEvent",value:function(e){var t={};switch(e.data&&e.data.result){case 0:t=POD_WARNING.WARNING_START_WITH_FRAMEWORK_NOT_FOUND;break;case 1:t=POD_WARNING.WARNING_START_WITH_FRAMEWORK_PART_MATCH;break;case 2:t=POD_WARNING.WARNING_START_WITH_FRAMEWORK_WRONG_INPUT_FORMAT}var n=t,r=n.CODE,i=n.MESSAGE;this._player.logger.localWarnLog("PodTrigger","handleWarningEvent",e),this._player.logger.send("warning",{warningCode:r,message:i,extra:e.data}),this._player.emit("warning",{warningCode:r,message:i})}}])}();function generateImageData(e,t,n){for(var r=new ImageData(e,t),i=0;i<n.length;i+=4){var a=n.slice(i+1,i+4);r.data.set(a,i),r.data[i+3]=n[i]}return r}function imageDataToBlobUrl(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),new Promise((function(e){t.toBlob((function(t){var n=URL.createObjectURL(t);e(n)}),"image/png")}))}var CursorIdMap={65539:"default",65541:"alias",65543:"wait",65545:"crosshair",65547:"n-resize",65549:"nwse-resize",65551:"nesw-resize",65553:"ew-resize",65555:"ns-resize",65557:"move",65559:"not-allowed",65561:"progress",65563:"help",65567:"pointer",65573:"grabbing",65575:"context-menu"},SystemCursorImage=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).localImgUrl="",e.mode=1,e.prevMsg=null,e}return _inherits(t,e),_createClass$1(t,[{key:"onCursorImgMsg",value:function(e){this.prevMsg=e.msg;var t=this.isShowCursorMode();return t&&this.renderCursor(),t}},{key:"isShowCursorMode",value:function(){var e=this.prevMsg;if(0===Object.keys(e).length)return!1;var t=function(t){return e.hasOwnProperty(t)};if(t("id")&&0===e.id)return!1;return!(t("w")&&e.w<5||t("h")&&e.h<5)&&(!t("data")||!this.isTransparentImage(e.data))}},{key:"isTransparentImage",value:function(e){if(!e||0===e.length)return!1;for(var t=0;t<e.length;t+=4)if(e[t]>5)return!1;return!0}},{key:"renderCursor",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.prevMsg){e.next=2;break}return e.abrupt("return");case 2:if(t=this.prevMsg,n=t.id,r=t.w,i=t.h,a=t.x,o=t.y,s=t.data,this.log("cursorImage",{name:"pod",id:n,w:r,h:i,x:a,y:o,length:s.byteLength}),0!==n){e.next=7;break}return e.abrupt("return");case 7:if(!(l=CursorIdMap[n])){e.next=11;break}return this.setStyle(l),e.abrupt("return");case 11:if(c="",1!==this.mode){e.next=19;break}return d=generateImageData(r,i,s),e.next=16,imageDataToBlobUrl(d);case 16:c=e.sent,e.next=24;break;case 19:if(0!==this.mode){e.next=24;break}if(c=this.localImgUrl){e.next=24;break}return this.setStyle("default"),e.abrupt("return");case 24:u="number"!=typeof a?0:-a,U="number"!=typeof a?0:-o,this.setStyle('url("'.concat(c,'") ').concat(u," ").concat(U,", auto"));case 27:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setStyle",value:function(e){this.renderEle&&(this.renderEle.style.cursor=e)}},{key:"setDefaultCursorImage",value:function(e){return this.localImgUrl=e,this.log("cursorImage",{name:"image",url:e}),this.renderCursor(),0}},{key:"setRemoteCursorMode",value:function(e){return this.mode=e,this.log("cursorImage",{name:"mode",mode:e}),this.renderCursor(),0}}]);var n}(BaseHandler$1),SystemCursorShowStatHandler=function(){return _createClass$1((function e(t){var n=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).systemCursorShowStatManual,i=void 0!==r&&r;_classCallCheck$1(this,e),this.onPointerLockChange=function(){n._localCursorShowStats=!(document.pointerLockElement===n._player.client.renderEle);var e=n._localCursorShowStats?"show":"hidden";n._player.emit("local-system-cursor-stat-changed",e),n._player.logger.send("localSystemCursorStatChanged",{status:e})},this._isCursorImageShow=!0,this._isVisibilityShow=!0,this.cursorImage=new SystemCursorImage(t,t.handlers),this._player=t,this._localCursorShowStats=!0,this._remoteCursorShowStats=!0,this._hasFirstTriggerFlag=!1,this._systemCursorShowStatManual=i,this._systemCursorShowStatControlKey=null,this._systemCursorShowStatControlKeyListener=null,this._cursorSensitivity=1,this._init()}),[{key:"localCursorShowStats",get:function(){return this._localCursorShowStats}},{key:"cursorSensitivity",get:function(){return this._cursorSensitivity}},{key:"_init",value:function(){document.addEventListener("pointerlockchange",this.onPointerLockChange,!1)}},{key:"handleMessage",value:function(e){var t;(e.type===ProtoBufMessage.protoRoot.MsgType.MsgOutput&&e.subtype===ProtoBufMessage.protoRoot.MsgOutputType.MsgOutputCursorImage&&(this._isCursorImageShow=this.cursorImage.onCursorImgMsg(e)),e.type===ProtoBufMessage.protoRoot.MsgType.MsgOutput&&e.subtype===ProtoBufMessage.protoRoot.MsgOutputType.MsgOutputCursorVisibility)&&(this._isVisibilityShow=!(null==e||null===(t=e.msg)||void 0===t||!t.visible));var n=this._isCursorImageShow&&this._isVisibilityShow;this._remoteCursorShowStats=n;var r=n?"show":"hidden";this._player.emit("system-cursor-stat-changed",r),this._player.logger.send("systemCursorStatChanged",{status:r}),this._systemCursorShowStatManual||(n&&this._player.client.renderEle===document.pointerLockElement?this.setSystemCursorShowStat(!0):this._hasFirstTriggerFlag=!1)}},{key:"setSystemCursorShowAuto",value:function(e){var t=this;if(!this._systemCursorShowStatManual){if(!this._hasFirstTriggerFlag&&!this._remoteCursorShowStats&&this._localCursorShowStats&&!document.pointerLockElement){this.setSystemCursorShowStat(!1);try{var n;null===(n=this._player.client.renderEle)||void 0===n||n.requestPointerLock().then((function(){t._hasFirstTriggerFlag=!0})).catch((function(e){console.log(e)}))}catch(e2){console.warn("setSystemCursorShowAuto",e2)}}this._hasFirstTriggerFlag&&"mousedown"===e&&!this._remoteCursorShowStats&&this._localCursorShowStats&&!document.pointerLockElement&&this.setSystemCursorShowStat(!1)}}},{key:"setSystemCursorShowStat",value:function(e){if(this._player.logger.send("setSystemCursorShowStat",{show:e}),e)document.exitPointerLock();else try{var t;null===(t=this._player.client.renderEle)||void 0===t||t.requestPointerLock()}catch(e2){console.warn("setSystemCursorShowStat",e2)}}},{key:"setSystemCursorShowStatControlKey",value:function(e){var t=this;this._player.logger.send("setSystemCursorShowStatControlKey",{keyCode:e}),this._systemCursorShowStatControlKey=e,this._systemCursorShowStatControlKeyListener||(this._systemCursorShowStatControlKeyListener=function(e){e.code===t._systemCursorShowStatControlKey&&t.setSystemCursorShowStat(!0)},document.addEventListener("keyup",this._systemCursorShowStatControlKeyListener))}},{key:"setSystemCursorSensitivity",value:function(e){this._player.logger.send("setSystemCursorSensitivity",{sensitivity:e}),this._cursorSensitivity=e}},{key:"setSystemCursorShowStatManual",value:function(e){this._systemCursorShowStatManual=e}},{key:"destroy",value:function(){this._systemCursorShowStatControlKeyListener&&document.removeEventListener("keyup",this._systemCursorShowStatControlKeyListener),this._systemCursorShowStatControlKeyListener=null,this._systemCursorShowStatControlKey=null,document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1)}}])}(),TouchDelayDetector=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.checkIdList=[],this.firstMin=0,this.firstMax=0,this.lastMin=0,this.lastMax=0,this.firstSum=0,this.lastSum=0,this.frameCount=0,this.touchCount=0,this.lostTouchCount=0,this.lastTimeStamp=0,this.MAX_SIZE=1e3}),[{key:"reset",value:function(){this.firstMin=this.firstMax=this.lastMin=this.lastMax=this.firstSum=this.lastSum=this.frameCount=this.touchCount=this.lostTouchCount=0}},{key:"geneCheckId",value:function(){var e=0|Date.now();return this.checkIdList.push(e),this.checkIdList.length>this.MAX_SIZE&&this.checkIdList.shift(),e}},{key:"receiveTouchDelayMessage",value:function(e){var t=e.check_id,n=e.has_touch_delay,r=e.min_check_id,i=e.max_check_id;if(n&&t){var a=0|Date.now(),o=a-r,s=a-i;(o<this.firstMin||!this.firstMin)&&(this.firstMin=o),o>this.firstMax&&(this.firstMax=o),(s<this.lastMin||!this.lastMin)&&(this.lastMin=s),s>this.lastMax&&(this.lastMax=s),this.firstSum+=o,this.lastSum+=s,this.frameCount++;var l=this.checkIdList.indexOf(r);l<0&&(l=this.checkIdList.length),this.lostTouchCount+=l;var c=this.checkIdList.indexOf(i);if(c>=0){var d=this.checkIdList.splice(0,c+1);this.touchCount+=d.length}}}},{key:"countTouchDelayData",value:function(){var e=Date.now();if(0===this.frameCount)return this.lastTimeStamp=e,this.reset(),null;var t=this.lastTimeStamp?e-this.lastTimeStamp:2e3,n={min_delay:[this.firstMin,Math.round(this.firstSum/this.frameCount),this.firstMax],max_delay:[this.lastMin,Math.round(this.lastSum/this.frameCount),this.lastMax],event_count:this.touchCount,loss_count:this.lostTouchCount,frame_count:this.frameCount,interval:t};return this.lastTimeStamp=e,this.reset(),n}},{key:"clearCheckIds",value:function(){this.checkIdList.length=0}}])}(),DetectDelayHandler=function(){return _createClass$1((function e(t,n){var r=this;n.mode,_classCallCheck$1(this,e),this.paused=!1,this.checkFrames=5,this._detectDelayCache=[],this.rvfcHandler=null,this.visibleHandler=null,this._player=t,this._detectDelayInterval=null,this._detectDelayInfo={},this.logger=this._player.logger,this.touchDelayDetector=new TouchDelayDetector,document.addEventListener("visibilitychange",this.visibleHandler=function(){var e,t;"visible"===document.visibilityState&&null!==(e=r._player)&&void 0!==e&&null!==(e=e.client)&&void 0!==e&&e.renderEle&&(r._detectDelayInfo={},null===(t=r._player.client.renderEle)||void 0===t||t.cancelVideoFrameCallback(r.rvfcHandler),r.touchDelayDetector.clearCheckIds())})}),[{key:"injectCheckId",value:function(e,t){this._detectDelayInfo[e]={sendTime:t||e}}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.paused=e,e&&(this._detectDelayInfo={})}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;this._detectDelayInterval||(this._detectDelayInterval=setInterval((function(){if(!e.paused&&e._player.canOperate){e._report();var t=Date.now().toString(),n=MessageFactory$1.eventTestDelay(t,e.checkFrames);e._player._sendCustomMessage(n).then((function(){e.injectCheckId(t)}))}else e._detectDelayInfo={}}),t))}},{key:"setDetectInterval",value:function(e){return e<500&&(e=500,console.warn("最小允许设置500ms")),this._detectDelayInterval&&(clearInterval(this._detectDelayInterval),this._detectDelayInterval=null),this.start(e),!0}},{key:"_report",value:function(){var e=this.touchDelayDetector.countTouchDelayData(),t=this._detectDelayCache.shift()||{elapse:-1,elapse_decoded:-1,sei_to_decoded:-1},n=t.elapse;!e&&n<0||(e&&(t.touch_delay=e),this.logger.localTraceLog("Running","handleDetectDelayMessage",n),n>=0&&this._player.emit("delay-detected",t),this._player.logger.send("onDetectDelay",t))}},{key:"_receiveDelayTestMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Date.now(),a=this._detectDelayInfo[t];delete this._detectDelayInfo[t];var o=parseInt(a.sendTime),s={elapse:e-o,elapse_decoded:i-o,sei_to_decoded:i-e,check_frames:this.checkFrames,interval_ms:n,frame_index:r};this._detectDelayCache.push(s)}},{key:"_calcElapse",value:function(e){var t=this,n=e.check_id,r=e.has_touch_delay,i=e.interval_ms,a=e.frame_index;if(n||r){var o=Date.now();o-parseInt(n)>5e3?this._player.logger.send("onDetectDelayAbnormal",{checkId:n,time:o,value:o-n}):this.rvfcHandler=this._player.client.renderEle.requestVideoFrameCallback((function(){r&&t.touchDelayDetector.receiveTouchDelayMessage(e),n&&t._detectDelayInfo[n]&&t._receiveDelayTestMessage(o,n,i,a)}))}}},{key:"handleDetectDelayMessage",value:function(e){var t=this,n=e.sei;if(MessageFactory$1.usePB){var r,i=ProtoBufMessage.decodePBMessage(n.buffer),a=null==i||null===(r=i.msg)||void 0===r?void 0:r.sei_node;if(!(a&&a instanceof Array))return;var o=null;return a.forEach((function(e){var n=ProtoBufMessage.decodeDelayTestMessagePodData(e.sei_data);t._calcElapse(n),o||(o=n)})),o}if("string"==typeof n){var s=JSON.parse(n);return this._calcElapse(s),s}var l=JSON.parse((new TextDecoder).decode(n));return l.op_type===CLIENT_EVENT_TYPE.EVENT_TEST_DELAY&&this._calcElapse(l),l}},{key:"stop",value:function(){this._detectDelayInterval&&(clearInterval(this._detectDelayInterval),this._detectDelayInterval=null),document.removeEventListener("visibilitychange",this.visibleHandler),this.touchDelayDetector.clearCheckIds()}}])}(),ControlRightHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this.role=CONTROL_ROLE_TYPE.Player,this.canOperate=!0,this._player=t;var n=t.options.podSettings;n&&this._setRole("number"==typeof n.role?n.role:0===n.type||void 0===n.type?CONTROL_ROLE_TYPE.Player:CONTROL_ROLE_TYPE.Viewer)}),[{key:"isPlayer",get:function(){return this.role===CONTROL_ROLE_TYPE.Player}},{key:"userId",get:function(){return this._player.userId}},{key:"changeRole",value:function(e){var t=e.userId,n=e.role;this._player.logger.send("callChangeRole",{targetUid:t,role:n});var r=ProtoBufMessage.encodeControlChangeMsg({role:n,userId:t});return this._player._sendMessage(r,!0)}},{key:"handleMessage",value:function(e){if(e.type!==PB_MESSAGE.TYPES.MsgBusiness||!Object.values(PB_BUSINESS_CONTROL.SUBTYPES).includes(e.subtype))return!1;var t=e.subtype,n=e.msg,r=["control-start","control-change-response","control-player-update","control-notify"][t]||"control-change-default-result";return this._player.logger.send("receiveControlMsg",{name:r,subtype:t,msg:n}),t===CONTROL_SUBTYPES.ControlStart?this._onReceivePlayers(null==n?void 0:n.players,!1):t===CONTROL_SUBTYPES.ControlPlayerUpdate?this._onReceivePlayers(null==n?void 0:n.players,!0):t===CONTROL_SUBTYPES.ControlChange&&(n.result&&0!==n.result?this._player.options.isDebug&&console.warn("切换失败 result=".concat(n.result)):n.user_id===this.userId?this._setRole(null==n?void 0:n.role):(null==n?void 0:n.role)===CONTROL_ROLE_TYPE.Player&&this._setRole(CONTROL_ROLE_TYPE.Viewer)),this._player.options.isDebug&&console.warn("controlright",t,n,this.role),this._player.emit(r,e),!0}},{key:"_onReceivePlayers",value:function(e,t){if(e){var n=e.includes(this.userId);if(n&&t){var r=ProtoBufMessage.encodeControlNotifyMsg();this._player._sendMessage(r,!0)}this._setRole(n?CONTROL_ROLE_TYPE.Player:CONTROL_ROLE_TYPE.Viewer)}}},{key:"_setRole",value:function(e){void 0!==e&&e!==this.role&&(this._player.logger.send("changeUserControlRole",{role:e,userId:this.userId}),this.role=e,this.canOperate=this.role!==CONTROL_ROLE_TYPE.Viewer)}}])}(),ControlKeys={ArrowLeft:1,ArrowUp:1,ArrowRight:1,ArrowDown:1,Escape:1,Tab:1,ShiftLeft:1,ShiftRight:1,MetaRight:1,AltLeft:1,ControlLeft:1,AltRight:1,Backspace:1,Enter:1},PCImeHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._player=null,this._lastClickPosition={x:0,y:0},this.inCompositionEvent=!1,this.isPC=isPC(),this.inInputMode=!1,this.showInput=!1,this.renderEle=null,this._player=t}),[{key:"isInComposition",get:function(){return this.inInputMode&&this.inCompositionEvent}},{key:"needSendKey",value:function(e){var t=e.code||e.key;return"Tab"===t&&e.preventDefault(),this.inInputMode&&!this.isPC?!(!ControlKeys[t]||""!==this.input.value):!this.inCompositionEvent&&(!!ControlKeys[t]||!this.inInputMode)}},{key:"_setInputVisible",value:function(e){e?(this.showInput&&(this.isPC?(this.input.style.opacity="100",this.input.style.zIndex="100"):this.input.style.display="block"),this.enterInputMode()):this.isPC?(this.input.style.opacity="0",this.input.style.zIndex="-1"):this.input.style.display="none"}},{key:"_createInput",value:function(){var e=document.createElement("input"),t="vegame-input";e.className=t;var n="position:fixed; ";this.isPC?n+="z-index: -1;opacity: 0":(n+="transform: translatex(-50%);\n            width: 80%;\n            height: 40px;\n            max-width: 350px;\n            border-radius: 4px;\n            outline: none;\n            border: 1px solid #ddd;\n            box-shadow: 0 0 10px 0px rgb(0 0 0 / 20%);\n            padding-left: 10px;\n            top:8%;left:50%;\n            z-index: 10000;opacity: 1;\n            -webkit-appearance: none;\n            display: none;",e.setAttribute("placeholder",isiOS()?"点击输入框以进行输入":"请输入内容"));var r=document.createElement("style");return r.innerText=".".concat(t,"{").concat(n,"}"),document.head.insertBefore(r,document.head.children[0]),document.body.appendChild(e),e}},{key:"init",value:function(e){this.renderEle=e;var t=this._createInput();this.input=t,this._player.on("on-keyboard-enable-change",(function(e){t.__disabled=!e,t.disabled=!e})),this.isPC?this._initPCEvent(t,e):this._initH5Event(t,e)}},{key:"_initPCEvent",value:function(e,t){var n=this;t.addEventListener("click",(function(e){n._lastClickPosition={x:e.clientX,y:e.clientY},setTimeout((function(){n.inInputMode&&n.enterInputMode()}),300)})),e.addEventListener("input",(function(){n.inCompositionEvent||(n.sendText(e.value),e.value="")})),e.addEventListener("compositionstart",(function(t){e.value="",n.inCompositionEvent=!0,n._setInputVisible(n.inCompositionEvent),n.sendImeMessage(IME_COMPOSITION_TYPE.ImeCompositionBegin)})),e.addEventListener("compositionupdate",(function(e){n.sendImeMessage(IME_COMPOSITION_TYPE.ImeComposition,e.data)})),e.addEventListener("compositionend",(function(t){n.inCompositionEvent=!1,n._setInputVisible(n.inCompositionEvent),n.sendImeMessage(IME_COMPOSITION_TYPE.ImeCompositionEnd),e.value=""}))}},{key:"_initH5Event",value:function(e,t){var n=this;e.addEventListener("change",(function(){e.value&&(n.sendText(e.value),e.value="",e.style.display="none",e.blur())}),!0),e.addEventListener("blur",(function(){e.value&&(e.value=""),e.style.display="none"}),!0),t.addEventListener("touchstart",(function(t){setTimeout((function(){n.inInputMode&&(e.style.display="block",e.focus())}),300)}))}},{key:"sendText",value:function(e){this.sendImeMessage(IME_COMPOSITION_TYPE.ImeCompositionBegin),this.sendImeMessage(IME_COMPOSITION_TYPE.ImeComposition,e),this.sendImeMessage(IME_COMPOSITION_TYPE.ImeCompositionEnd)}},{key:"enterInputMode",value:function(){if(this.inInputMode){if(this.isPC){var e=this._lastClickPosition,t=e.x,n=e.y;this.input.style.left=t+"px",this.input.style.top=n+"px"}else this.input.style.display="block";this.input.focus()}}},{key:"sendImeMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ProtoBufMessage.encodeImeMsg({str:t,type:e});this._player._sendMessage(n,!0)}},{key:"handleMessage",value:function(e){if(e.type!==PB_MESSAGE.TYPES.MsgOutput||!Object.values(PB_OUTPUT_IME.SUBTYPES).includes(e.subtype))return!1;var t=e.subtype,n=e.msg;return t===PB_OUTPUT_IME.SUBTYPES.MsgOutputImeState&&(this.inInputMode=!!n.state,this.enterInputMode(),this._player._debug&&console.log("IME handleMessage",this.inInputMode),this.inInputMode||(this.input.blur(),this._setInputVisible(!1),this.inCompositionEvent&&(this.inCompositionEvent=!1,this.sendImeMessage(IME_COMPOSITION_TYPE.ImeComposition,""),this.sendImeMessage(IME_COMPOSITION_TYPE.ImeCompositionEnd),this.input.value=""))),!0}},{key:"setInputVisible",value:function(e,t){!0!==this.input.__disabled&&(this.showInput=e,e?(this.input.disabled=!1,this.input.setAttribute("style",this.input.getAttribute("style")+t)):this.input.disabled=!0)}}])}(),_excluded$1=["download_url"],ScreenRecordHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this.player=t}),[{key:"handleResponse",value:function(e){var t=e.data||e.result||{};this.player.logger.send("screenRecordResponse",t);var n=t.download_url,r=_objectWithoutProperties(t,_excluded$1);this.player.emit("on-screen-record-response",_objectSpread2(_objectSpread2(_objectSpread2({},r),n&&{downloadUrl:n}),(null==t?void 0:t.save_path)&&{savePath:(null==t?void 0:t.savePath)||(null==t?void 0:t.save_path)}))}},{key:"startRecording",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.player.logger.send("startScreenRecord",{duration:e,isSavedOnPod:n}),new Promise((function(r,i){var a=MessageFactory$1.eventScreenRecordStart(e,n);t.player._sendCustomMessage(a).then((function(){r(!0)})).catch((function(){i()}))}));console.error("[startRecording] 请传入 duration ")}},{key:"stopRecording",value:function(){var e=this;return this.player.logger.send("stopScreenRecord",{}),new Promise((function(t,n){var r=MessageFactory$1.eventScreenRecordStop();e.player._sendCustomMessage(r).then((function(){t(!0)})).catch((function(){n()}))}))}}])}(),KeyboardDisableHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this.player=null,this._enabled=!0,this.player=t}),[{key:"setEnabled",value:function(e){e!==this._enabled&&(this._enabled=e,this.player.emit("on-keyboard-enable-change",e))}},{key:"handleResponse",value:function(e){this.player._debug&&console.log(LOG_TAG,"server keyboard disabled response: "+JSON.stringify(e));var t=e.data||e.result||{};"boolean"==typeof t.enable&&this.setEnabled(t.enable),this.player.logger.send("onKeyboardResult",t),this.player.emit("on-keyboard-enable-result",t)}},{key:"setKeyboardEnable",value:function(e){var t=this;if(void 0!==e)return this.player.logger.send("keyboardEnable",{enable:e}),new Promise((function(n,r){var i=MessageFactory$1.eventKeyboardEnable(e);t.player._sendCustomMessage(i).then((function(){n(!0)})).catch((function(){r()}))}));console.error("[setKeyboardEnable] 请传入 enable ")}},{key:"getKeyboardEnable",value:function(){return this._enabled}}])}(),BAD_RTT_THRESHOLD=400,BAD_LOSS_THRESHOLD=.2,MIN_BANDWIDTH_THRESHOLD=150,BAD_STATUS_QUEUE_SIZE=3,NetworkQuality={VERY_BAD:5,BAD:4,GOOD:2,DOWN:6,UNKNOWN:0,EXCELLENT:1,POOR:3},NetworkHandler=function(){return _createClass$1((function e(t){var n=this;_classCallCheck$1(this,e),this.queue=[],this.player=t,this.mIsVideoPlaying=!0,this.mIsAudioPlaying=!0,this.mHasFirstVideoFrame=!1,this.mNetworkDown=!1,this.visibilityState=!0,this.player.on("_onConnectionStateChanged",(function(e){n.networkStatus=null==e?void 0:e.state,n.mNetworkDown=1===n.networkStatus||4===n.networkStatus||6===n.networkStatus})),this.player.on("_onVideoFirstFrameRendered",(function(e){n.mHasFirstVideoFrame=!0})),this.player.on("on-visible-change",(function(e){n.visibilityState=e})),this.player.on("_onVideoPlaying",(function(e){null!=e&&e.video?n.mIsVideoPlaying=!1:n.mIsVideoPlaying=!0,null!=e&&e.audio?n.mIsAudioPlaying=!1:n.mIsAudioPlaying=!0})),this.player.on("received-stream-stats",(function(e){(n.visibilityState||!n.visibilityState&&n.mIsAudioPlaying)&&n.player.emit("network-quality",n._receiveStat(e.stats))}))}),[{key:"_receiveStat",value:function(e){if(this.mNetworkDown&&(this.queue=[]),!this.mHasFirstVideoFrame)return NetworkQuality.VERY_BAD;if(this.mHasFirstVideoFrame&&0===e.stallDuration||!this.mIsVideoPlaying)return this.queue=[],e.rtt>BAD_RTT_THRESHOLD?NetworkQuality.BAD:NetworkQuality.GOOD;this.queue.push(e),this.queue.length>3&&this.queue.shift();for(var t=0,n=0,r=0;r<this.queue.length;r++){var i=this.queue[r];i.receivedKBitrate<=MIN_BANDWIDTH_THRESHOLD?n+=1:(i.rtt>BAD_RTT_THRESHOLD||i.videoLossRate>BAD_LOSS_THRESHOLD)&&(t+=1)}return n===BAD_STATUS_QUEUE_SIZE?NetworkQuality.DOWN:t+n>0?t+n<BAD_STATUS_QUEUE_SIZE?NetworkQuality.BAD:NetworkQuality.VERY_BAD:NetworkQuality.GOOD}}])}();NetworkHandler.NetworkQuality=NetworkQuality;var BaseHandler=null,MessageFactory=null,randomNumString=null,POD_ERROR=null;function injectBridge(e){BaseHandler=e.BaseHandler,e.CLIENT_EVENT_TYPE,MessageFactory=e.MessageFactory,randomNumString=e.randomNumString,POD_ERROR=e.POD_ERROR,e.fetchBase}var HandlerPlugin={pluginName:"handlers",injectBridge:injectBridge},BaseHandlerProxy=function(){return _createClass$1((function e(t,n){var r=this;_classCallCheck$1(this,e),this.player=t,this.manager=n,this.base=new BaseHandler(t,n),this.base.onMessage=function(e){r.onMessage(e)}}),[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"handleMessage",value:function(e){return void 0===this.base.pbType&&(this.base.pbType=this.pbType),this.base.pbSubTypes||(this.base.pbSubTypes=this.pbSubTypes),this.base.handleMessage(e)}},{key:"onMessage",value:function(e){}},{key:"on",value:function(e,t){this.base.on(e,t)}},{key:"off",value:function(e,t){this.base.off(e,t)}},{key:"emit",value:function(e,t){this.base.emit(e,t)}},{key:"log",value:function(e,t){this.base.log(e,t)}},{key:"print",value:function(e){this.base.print(e)}},{key:"sendPBMessage",value:function(e){return this.base.sendPBMessage(e)}},{key:"sendJsonMessage",value:function(e){return this.base.sendJsonMessage(e)}},{key:"setLogInfo",value:function(e,t){this.base.setLogInfo(e,t)}},{key:"store",get:function(){return this.store}}])}();function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}BaseHandlerProxy.HandlerPlugin=HandlerPlugin;var localforage={exports:{}};!function(e,t){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof commonjsRequire&&commonjsRequire;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){var n=t[o][1][e];return i(n||e)}),d,d.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof commonjsRequire&&commonjsRequire,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(d),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function u(e){1!==c.push(e)||r||n()}t.exports=u}).call(this,void 0!==commonjsGlobal$1?commonjsGlobal$1:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&F(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){r((function(){var r;try{r=t(n)}catch(e2){return a.reject(e,e2)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function U(e){var t=e&&e.then;if(e&&("object"===_typeof$1(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function F(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}function o(){t(i,r)}var s=p(o);"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e2){n.status="error",n.value=e2}return n}function Q(e){return e instanceof this?e:a.resolve(new this(i),e)}function h(e){var t=new this(i);return a.reject(t,e)}function R(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,l=-1,c=new this(i);++l<n;)d(e[l],l);return c;function d(e,i){function l(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(c,o))}t.resolve(e).then(l,(function(e){r||(r=!0,a.reject(c,e))}))}}function _(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)l(e[o]);return s;function l(e){t.resolve(e).then((function(e){r||(r=!0,a.resolve(s,e))}),(function(e){r||(r=!0,a.reject(s,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?u(n,this.state===s?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(U,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)F(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=Q,c.reject=h,c.all=R,c.race=_},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==commonjsGlobal$1?commonjsGlobal$1:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"===_typeof$1(Symbol.iterator)?function(e){return _typeof$1(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof$1(e)};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e2){return}}var o=a();function s(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e2){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(e2){if("TypeError"!==e2.name)throw e2;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function d(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function U(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function F(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",Q=void 0,h={},R=Object.prototype.toString,_="readonly",S="readwrite";function B(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function m(e){return new c((function(t){var n=e.transaction(p,S),r=l([""]);n.objectStore(p).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function f(e){return"boolean"==typeof Q?c.resolve(Q):m(e).then((function(e){return Q=e}))}function E(e){var t=h[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function v(e){var t=h[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function y(e,t){var n=h[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function g(e,t){return new c((function(n,r){if(h[e.name]=h[e.name]||Z(),e.db){if(!t)return n(e.db);E(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(p)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),v(e)}}))}function T(e){return g(e,!1)}function V(e){return g(e,!0)}function k(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function N(e){return new c((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function b(e){return l([B(atob(e.data))],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function J(e){var t=this,n=t._initReady().then((function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function W(e){E(e);for(var t=h[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,T(e).then((function(t){return e.db=t,k(e)?V(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw y(e,t),t}))}function D(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(err2){if(r>0&&(!e.db||"InvalidStateError"===err2.name||"NotFoundError"===err2.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===err2.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),V(e)})).then((function(){return W(e).then((function(){D(e,t,n,r-1)}))})).catch(n);n(err2)}}function Z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=h[n.name];i||(i=Z(),h[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=J);var a=[];function o(){return c.resolve()}for(var s=0;s<i.forages.length;s++){var l=i.forages[s];l!==t&&a.push(l._initReady().catch(o))}var d=i.forages.slice(0);return c.all(a).then((function(){return n.db=i.db,T(n)})).then((function(e){return n.db=e,k(n,t._defaultConfig.version)?V(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<d.length;r++){var a=d[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))}function I(e,t){var n=this;e=U(e);var r=new c((function(t,r){n.ready().then((function(){D(n._dbInfo,_,(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),C(e)&&(e=b(e)),t(e)},o.onerror=function(){r(o.error)}}catch(e2){r(e2)}}))})).catch(r)}));return d(r,t),r}function O(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){D(n._dbInfo,_,(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;C(r)&&(r=b(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},o.onerror=function(){r(o.error)}}catch(e2){r(e2)}}))})).catch(r)}));return d(r,t),r}function A(e,t,n){var r=this;e=U(e);var i=new c((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===R.call(t)?f(a.db).then((function(e){return e?t:N(t)})):t})).then((function(t){D(r._dbInfo,S,(function(a,o){if(a)return i(a);try{var s=o.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(e2){i(e2)}}))})).catch(i)}));return d(i,n),i}function w(e,t){var n=this;e=U(e);var r=new c((function(t,r){n.ready().then((function(){D(n._dbInfo,S,(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(o.error)},a.onabort=function(){var e=o.error?o.error:o.transaction.error;r(e)}}catch(e2){r(e2)}}))})).catch(r)}));return d(r,t),r}function x(e){var t=this,n=new c((function(e,n){t.ready().then((function(){D(t._dbInfo,S,(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e2){n(e2)}}))})).catch(n)}));return d(n,e),n}function P(e){var t=this,n=new c((function(e,n){t.ready().then((function(){D(t._dbInfo,_,(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e2){n(e2)}}))})).catch(n)}));return d(n,e),n}function L(e,t){var n=this,r=new c((function(t,r){e<0?t(null):n.ready().then((function(){D(n._dbInfo,_,(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName),s=!1,l=o.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e2){r(e2)}}))})).catch(r)}));return d(r,t),r}function G(e){var t=this,n=new c((function(e,n){t.ready().then((function(){D(t._dbInfo,_,(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var t=a.result;t?(o.push(t.key),t.continue()):e(o)},a.onerror=function(){n(a.error)}}catch(e2){n(e2)}}))})).catch(n)}));return d(n,e),n}function Y(e,t){t=F.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var a=e.name===n.name&&i._dbInfo.db?c.resolve(i._dbInfo.db):T(e).then((function(t){var n=h[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;E(e);var r=h[e.name],i=r.forages;t.close();for(var a=0;a<i.length;a++){var s=i[a];s._dbInfo.db=null,s._dbInfo.version=n}return new c((function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,v(n._dbInfo)}})).catch((function(t){throw(y(e,t)||c.resolve()).catch((function(){})),t}))}})):a.then((function(t){E(e);var n=h[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new c((function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)v(r[t]._dbInfo)})).catch((function(t){throw(y(e,t)||c.resolve()).catch((function(){})),t}))}))}else r=c.reject("Invalid arguments");return d(r,t),r}var H={_driver:"asyncStorage",_initStorage:M,_support:s(),iterate:O,getItem:I,setItem:A,removeItem:w,clear:x,length:P,key:L,keys:G,dropInstance:Y};function $(){return"function"==typeof openDatabase}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",K=/^~~local_forage_type~([^~]+)~/,z="__lfsc__:",q=z.length,ee="arbf",te="blob",ne="si08",re="ui08",ie="uic8",ae="si16",oe="si32",se="ur16",le="ui32",ce="fl32",de="fl64",ue=q+ee.length,Ue=Object.prototype.toString;function Fe(e){var t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),d=new Uint8Array(c);for(t=0;t<s;t+=4)n=j.indexOf(e[t]),r=j.indexOf(e[t+1]),i=j.indexOf(e[t+2]),a=j.indexOf(e[t+3]),d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|i>>2,d[l++]=(3&i)<<6|63&a;return c}function pe(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=j[n[t]>>2],r+=j[(3&n[t])<<4|n[t+1]>>4],r+=j[(15&n[t+1])<<2|n[t+2]>>6],r+=j[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function Qe(e,t){var n="";if(e&&(n=Ue.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Ue.call(e.buffer))){var r,i=z;e instanceof ArrayBuffer?(r=e,i+=ee):(r=e.buffer,"[object Int8Array]"===n?i+=ne:"[object Uint8Array]"===n?i+=re:"[object Uint8ClampedArray]"===n?i+=ie:"[object Int16Array]"===n?i+=ae:"[object Uint16Array]"===n?i+=se:"[object Int32Array]"===n?i+=oe:"[object Uint32Array]"===n?i+=le:"[object Float32Array]"===n?i+=ce:"[object Float64Array]"===n?i+=de:t(new Error("Failed to get type for BinaryArray"))),t(i+pe(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n=X+e.type+"~"+pe(this.result);t(z+te+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(e2){console.error("Couldn't convert value into a JSON string: ",e),t(null,e2)}}function he(e){if(e.substring(0,q)!==z)return JSON.parse(e);var t,n=e.substring(ue),r=e.substring(q,ue);if(r===te&&K.test(n)){var i=n.match(K);t=i[1],n=n.substring(i[0].length)}var a=Fe(n);switch(r){case ee:return a;case te:return l([a],{type:t});case ne:return new Int8Array(a);case re:return new Uint8Array(a);case ie:return new Uint8ClampedArray(a);case ae:return new Int16Array(a);case se:return new Uint16Array(a);case oe:return new Int32Array(a);case le:return new Uint32Array(a);case ce:return new Float32Array(a);case de:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}var Re={serialize:Qe,deserialize:he,stringToBuffer:Fe,bufferToString:pe};function _e(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Se(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new c((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e2){return r(e2)}n.db.transaction((function(i){_e(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Re,i}function Be(e,t,n,r,i,a){e.executeSql(n,r,i,(function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?a(e,o):_e(e,t,(function(){e.executeSql(n,r,i,a)}),a)}),a):a(e,o)}),a)}function me(e,t){var n=this;e=U(e);var r=new c((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Be(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function fe(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Be(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var a=r.rows,o=a.length,s=0;s<o;s++){var l=a.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function Ee(e,t,n,r){var i=this;e=U(e);var a=new c((function(a,o){i.ready().then((function(){void 0===t&&(t=null);var s=t,l=i._dbInfo;l.serializer.serialize(t,(function(t,c){c?o(c):l.db.transaction((function(n){Be(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(s)}),(function(e,t){o(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void a(Ee.apply(i,[e,s,n,r-1]));o(t)}}))}))})).catch(o)}));return d(a,n),a}function ve(e,t,n){return Ee.apply(this,[e,t,n,1])}function ye(e,t){var n=this;e=U(e);var r=new c((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Be(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function ge(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Be(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Te(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Be(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Ve(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Be(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,t),r}function ke(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Be(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Ne(e){return new c((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],a=0;a<r.rows.length;a++)i.push(r.rows.item(a).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function be(e,t){t=F.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return r=e.name?new c((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ne(r))})).then((function(e){return new c((function(t,n){e.db.transaction((function(r){function i(e){return new c((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],o=0,s=e.storeNames.length;o<s;o++)a.push(i(e.storeNames[o]));c.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),d(r,t),r}var Ce={_driver:"webSQLStorage",_initStorage:Se,_support:$(),iterate:fe,getItem:me,setItem:ve,removeItem:ye,clear:ge,length:Te,key:Ve,keys:ke,dropInstance:be};function Je(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e2){return!1}}function We(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function De(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e2){return!0}}function Ze(){return!De()||localStorage.length>0}function Me(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=We(e,t._defaultConfig),Ze()?(t._dbInfo=n,n.serializer=Re,c.resolve()):c.reject()}function Ie(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return d(n,e),n}function Oe(e,t){var n=this;e=U(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return d(r,t),r}function Ae(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,a=localStorage.length,o=1,s=0;s<a;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),o++)))return c}}}));return d(r,t),r}function we(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return d(r,t),r}function xe(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r}));return d(n,e),n}function Pe(e){var t=this.keys().then((function(e){return e.length}));return d(t,e),t}function Le(e,t){var n=this;e=U(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return d(r,t),r}function Ge(e,t,n){var r=this;e=U(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(i,a){var o=r._dbInfo;o.serializer.serialize(t,(function(t,r){if(r)a(r);else try{localStorage.setItem(o.keyPrefix+e,t),i(n)}catch(e2){"QuotaExceededError"!==e2.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e2.name||a(e2),a(e2)}}))}))}));return d(i,n),i}function Ye(e,t){if(t=F.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new c((function(t){e.storeName?t(We(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),d(r,t),r}var He={_driver:"localStorageWrapper",_initStorage:Me,_support:Je(),iterate:Ae,getItem:Oe,setItem:Ge,removeItem:Le,clear:Ie,length:Pe,key:we,keys:xe,dropInstance:Ye},$e=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},je=function(e,t){for(var n=e.length,r=0;r<n;){if($e(e[r],t))return!0;r++}return!1},Xe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ke={},ze={},qe={INDEXEDDB:H,WEBSQL:Ce,LOCALSTORAGE:He},et=[qe.INDEXEDDB._driver,qe.WEBSQL._driver,qe.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function at(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Xe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ot=function(){function e(t){for(var n in i(this,e),qe)if(qe.hasOwnProperty(n)){var r=qe[n],a=r._driver;this[n]=a,Ke[a]||this.defineDriver(r)}this._defaultConfig=at({},rt),this._config=at({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=nt.concat("_initStorage"),o=0,s=a.length;o<s;o++){var l=a[o];if((!je(tt,l)||e[l])&&"function"!=typeof e[l])return void n(i)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return d(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var i=tt[n];e[i]||(e[i]=t(i))}};u();var U=function(n){Ke[r]&&console.info("Redefining LocalForage driver: "+r),Ke[r]=e,ze[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(U,n):U(!!e._support):U(!0)}catch(e2){n(e2)}}));return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ke[e]?c.resolve(Ke[e]):c.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve(Re);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Xe(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function o(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(o).catch(n)}a();var s=new Error("No available storage method found.");return r._driverSet=c.reject(s),r._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=l.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=s(i)}))})).catch((function(){a();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ze[e]},e.prototype._extend=function(e){at(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)it(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new ot;t.exports=st},{3:3}]},{},[4])(4)}(localforage);var localforageExports=localforage.exports,localForage=getDefaultExportFromCjs$1(localforageExports),supported=!0;"indexedDB"in window||("webkitIndexedDB"in window?(window.indexedDB=window.webkitIndexedDB,window.IDBKeyRange=window.webkitIDBKeyRange,window.IDBTransaction=window.webkitIDBTransaction):"mozIndexedDB"in window?window.indexedDB=window.mozIndexedDB:supported=!1);var CacheManager=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$1(this,"md5","DEF"),_defineProperty$1(this,"loadedData",null),_defineProperty$1(this,"needReset",!1),_defineProperty$1(this,"supported",supported)}),[{key:"lenKey",get:function(){return"_FC_PART_".concat(this.md5,"_length")}},{key:"dataKey",get:function(){return"_FC_PART_".concat(this.md5)}},{key:"urlKey",get:function(){return"_FC_PART_".concat(this.md5,"_url")}},{key:"saveLength",value:function(e){localForage.setItem(this.lenKey,e)}},{key:"clearCache",value:function(){localForage.removeItem(this.lenKey),this._clearDataCache()}},{key:"_clearDataCache",value:function(){localForage.removeItem(this.dataKey),localForage.removeItem(this.urlKey),this.loadedData=null}},{key:"_checkNeedReset",value:function(){return!!this.needReset&&(this.needReset=!1,this._clearDataCache(),!0)}},{key:"checkPoint",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._checkNeedReset()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,localForage.getItem(this.dataKey);case 4:return e.abrupt("return",!!e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"initLoadedData",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._checkNeedReset()){e.next=2;break}return e.abrupt("return",0);case 2:if(this.loadedData){e.next=9;break}return e.next=5,localForage.getItem(this.dataKey);case 5:if(this.loadedData=e.sent,this.loadedData){e.next=9;break}return this.loadedData=[],e.abrupt("return",0);case 9:for(t=0,n=0;n<this.loadedData.length;n++)t+=this.loadedData[n].size;return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"getFileLength",value:function(){return localForage.getItem(this.lenKey)}},{key:"saveBlob",value:function(e){this.loadedData.push(e),localForage.setItem(this.dataKey,this.loadedData)}},{key:"saveUrlInfo",value:function(e){localForage.setItem(this.urlKey,e)}},{key:"getUrlInfo",value:function(e){return localForage.getItem(this.urlKey,e)}},{key:"buildFile",value:function(){var e=new Blob(this.loadedData);return this.clearCache(),e}}]);var e,t}(),DownloadProgress=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$1(this,"gap",5242880)}),[{key:"run",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.start,r=t.length,i=t.handler,a=t.onprogress,o=t.ondata,s=!1;case 2:if(s){e.next=16;break}return(l=n+this.gap-1)>=r&&(s=!0,l=""),e.next=7,i({start:n,end:l},(function(e){var t=n+e.loaded;a(100*t/r)}));case 7:if(c=e.sent,n=s?r:n+this.gap,c){e.next=13;break}return e.abrupt("return",!1);case 13:o(c,l);case 14:e.next=2;break;case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),Downloader=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$1(this,"start",0),_defineProperty$1(this,"url",""),_defineProperty$1(this,"cache",null),_defineProperty$1(this,"progress",null),_defineProperty$1(this,"request",null),_defineProperty$1(this,"fileSize",0),this.cache=new CacheManager,this.progress=new DownloadProgress}),[{key:"setUrl",value:function(e,t){this.cache.md5=t,this.url=e,this.cache.saveUrlInfo({url:e,md5:t})}},{key:"md5",get:function(){return this.cache.md5}},{key:"checkPoint",value:function(){return this.cache.checkPoint()}},{key:"download",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cache.supported){e.next=2;break}return e.abrupt("return",this.downloadAll(t));case 2:return e.next=4,this.cache.initLoadedData();case 4:return n=e.sent,e.next=7,this.getContentLength();case 7:return r=e.sent,this.fileSize=r,e.next=11,this.progress.run({length:r,start:n,handler:this._send.bind(this),onprogress:function(e){t(e)},ondata:function(e,t){console.log("ondata",e,t),i.cache.saveBlob(e)}});case 11:if(!e.sent){e.next=16;break}return e.abrupt("return",this.cache.buildFile());case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"downloadAll",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._sendBase((function(e){e.onprogress=function(e){t(e)}})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_send",value:function(e,t){var n=this;return this._sendBase((function(r){r.setRequestHeader("Range","bytes=".concat(e.start,"-").concat(e.end)),r.onprogress=function(e){t(e)},n.request=r}))}},{key:"pause",value:function(){this.request&&this.request.abort()}},{key:"cancel",value:function(){this.pause(),this.cache.clearCache()}},{key:"getContentLength",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cache.getFileLength();case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",new Promise((function(e){n._sendBase((function(t){t.onreadystatechange=function(r){2===r.readyState&&t.abort();var i=parseInt(t.getResponseHeader("Content-Length"));n.cache.saveLength(i),e(i)}}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"_sendBase",value:function(e){var t=this;return new Promise((function(n){var r=new XMLHttpRequest;r.open("GET",t.url,!0),r.responseType="blob",e&&e(r),r.onload=function(){n(r.response)},r.onerror=function(){n(null)},r.send()}))}}]);var e,t,n}(),ErrorMap={"-1":"ERROR_FILE_CHANNEL_FILE_NOT_FOUND","-2":"ERROR_FILE_CHANNEL_TIMEOUT","-3":"ERROR_FILE_CHANNEL_NETWORK_ABORT","-4":"ERROR_FILE_CHANNEL_NETWORK_ABORT","-5":"ERROR_FILE_CHANNEL_STORAGE_NOT_ENOUGH","-6":"ERROR_FILE_CHANNEL_FILE_NO_ACCESS","-7":"ERROR_FILE_CHANNEL_INTERNAL_ERROR"};function getFileChannelError(e){return POD_ERROR[ErrorMap[e]||ErrorMap[-3]]}var FileChannelMessenger=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),_defineProperty$1(this,"player",null),_defineProperty$1(this,"_logProgress",0),_defineProperty$1(this,"options",{}),this.player=t}),[{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.error,r=void 0===n?null:n,i=e.oErrc,a=e.oMsg,o=e.elapse,s=e.progress,l={file_size:e.fileSize,file_md5:this.options.md5};"start"===o?this._elapseStart=Date.now():"end"===o&&this._elapseStart&&(l.elapse=Date.now()-this._elapseStart),s&&(l.progress=this._logProgress),r&&(l.errc=r.CODE,l.msg=r.MESSAGE),i&&(l.oErrc=i),a&&(l.oMsg=a),this.options.options&&(l.options=Object.keys(this.options.options).join(",")),this.player.logger.send(t,l)}},{key:"_send",value:function(e){var t=MessageFactory.eventFileChannelSend(e,this.options);return this.player._sendCustomMessage(t)}},{key:"_sendDone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.options,r=n.folder,i=n.name,a=n.md5,o=n.options,s={filePath:e?"/browser_download_dir/def":"".concat(r,"/").concat(i),md5:a,sendResult:t,subType:e?5:6};o&&(s.options=o);var l={payload:s,type:7,userId:this.player.userId,mid:Date.now().toString()+randomNumString(4)},c=MessageFactory.veMessage(l);return console.warn("发送7：",c,l),this.player._sendCustomMessage(c)}}])}(),DOWNLOAD_ACTION={RECEIVE_START:16,SEND_START:16,RECEIVE_UPLOAD_PROGRESS:17,RECEIVE_DOWNLOAD_URL:18,SEND_DOWNLOAD:19,SEND_CANCEL:8,RECEIVE_CANCEL:24},ACTIONS$1=Object.values(DOWNLOAD_ACTION),DownloadMessenger=function(e){function t(e){var n;return _classCallCheck$1(this,t),_defineProperty$1(n=_callSuper(this,t,[e]),"player",null),_defineProperty$1(n,"downloader",null),_defineProperty$1(n,"fileName",""),_defineProperty$1(n,"returnUrl",!1),n.player=e,n.downloader=new Downloader,n}return _inherits(t,e),_createClass$1(t,[{key:"handleResponse",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.player._debug&&console.log("server DownloadMessenger response: "+JSON.stringify(t)),n=t.data||t.result||{},r=n.action,i=n.carries,ACTIONS$1.includes(r)){e.next=4;break}return e.abrupt("return",!1);case 4:if(0===(a=i.result)){e.next=10;break}return this.player.emit("on-download-file-message-error",{action:r,carries:i}),this.logError(a),this._sendDone(!0,1),e.abrupt("return",!0);case 10:if(r!==DOWNLOAD_ACTION.RECEIVE_START){e.next=25;break}return this.options=i,this.log({name:"fileChannelReceiveOnStart",elapse:"start"}),e.next=15,this.downloader.cache.checkPoint();case 15:if(!e.sent){e.next=22;break}return e.next=18,this.downloader.cache.getUrlInfo();case 18:(o=e.sent)?(this.player._debug&&console.log("触发断点下载: ",o),this._download(o)):this._send(DOWNLOAD_ACTION.SEND_START),e.next=23;break;case 22:this._send(DOWNLOAD_ACTION.SEND_START);case 23:e.next=26;break;case 25:r===DOWNLOAD_ACTION.RECEIVE_UPLOAD_PROGRESS?this.onProgress(.5*i.progress):r===DOWNLOAD_ACTION.RECEIVE_DOWNLOAD_URL?(this.fileName=i.name,this._download(i)):r===DOWNLOAD_ACTION.RECEIVE_CANCEL&&(this.downloader.cancel(),this.player.emit("on-download-file-cancel",{reason:"from-server",carries:i}),this.log({name:"fileChannelReceiveOnCancel",elapse:"end",progress:!0}),this._sendDone(!0,2));case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_download",value:function(e){var t=this,n=e.url,r=e.md5;if(this.returnUrl)return this.onProgress(100),void this._onDownloadDone(decodeURIComponent(n));this.downloader.setUrl(n,r),this.downloader.download((function(e){t.onProgress(50+.5*e)})).then((function(e){t._onDownloadDone(e)})).catch((function(e){t.player.emit("on-download-file-request-error",{e:e,options:t.options}),t.logError("-3","from_client:客户端下载失败"),t._sendDone(!0,1)}))}},{key:"_onDownloadDone",value:function(e){this.player.emit("on-download-file-done",e,this.options),this.log({name:"fileChannelReceiveOnComplete",elapse:"end"}),this._sendDone(!0)}},{key:"onProgress",value:function(e){this._logProgress=e,this.player.emit("on-download-file-progress",e,this.options)}},{key:"stopReceiveFile",value:function(){this.log({name:"fileChannelStopReceiveFile"}),this._send(DOWNLOAD_ACTION.SEND_CANCEL),this.downloader.cancel(),this.player.emit("on-download-file-cancel",{reason:"user-call",options:this.options}),this._sendDone(!0,2)}},{key:"logError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from_pod";this.log({name:"fileChannelReceiveOnError",elapse:"end",progress:!0,error:getFileChannelError(e),oErrc:e,oMsg:t})}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=e.error,i=e.oErrc,a=e.oMsg,o=e.elapse,s=e.progress;_superPropGet(t,"log",this,3)([{name:n,error:r,elapse:o,progress:s,fileSize:this.downloader.fileSize,oErrc:i,oMsg:a}])}},{key:"sendDownload",value:function(e){var t=e.folder,n=e.name,r=e.returnUrl,i=void 0!==r&&r;if(!n)return console.warn("请传入需要下载的文件名"),this.logError("-7","from_client:empty_file_name"),!1;this.returnUrl=i,this.options.name=n,t?this.options.folder=t:delete this.options.folder,this._send(DOWNLOAD_ACTION.SEND_DOWNLOAD)}}]);var n}(FileChannelMessenger),CacheRoom=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$1(this,"roomId",""),_defineProperty$1(this,"key","file-channel-room-id"),_defineProperty$1(this,"roomChanged",!1),this.roomId=localStorage.getItem("file-channel-room-id")||""}),[{key:"setId",value:function(e){var t=e.substr(e.lastIndexOf("_")+1);return this.roomId&&t!==this.roomId&&(this.roomChanged=!0),this.roomId=t,localStorage.setItem("file-channel-room-id",t),this.roomChanged}}])}(),hmacSha256$2={exports:{}},core={exports:{}},__viteBrowserExternal=new Proxy({},{get(e,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),__viteBrowserExternal$1=Object.freeze({__proto__:null,default:__viteBrowserExternal}),require$$0$1=getAugmentedNamespace$1(__viteBrowserExternal$1),hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(e){var t;e.exports=(t=t||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==commonjsGlobal$1&&commonjsGlobal$1.crypto&&(n=commonjsGlobal$1.crypto),!n&&"function"==typeof commonjsRequire)try{n=require$$0$1}catch(err2){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(err2){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(err2){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},o=a.lib={},s=o.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=o.WordArray=s.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new l.init(t,e)}}),c=a.enc={},d=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},U=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e2){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},F=o.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=U.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,d=e.min(4*c,a);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(i,u);n=i.splice(0,c),r.sigBytes-=d}return new l.init(n,d)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=F.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){F.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=a.algo={};return a}(Math),t)}(core)),core.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(e){var t;e.exports=(t=requireCore(),function(e){var n=t,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),l[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],d=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],d=n[5],u=n[6],U=n[7],F=0;F<64;F++){if(F<16)c[F]=0|e[t+F];else{var p=c[F-15],Q=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,h=c[F-2],R=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;c[F]=Q+c[F-7]+R+c[F-16]}var _=r&i^r&a^i&a,S=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),B=U+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&u)+l[F]+c[F];U=u,u=d,d=s,s=o+B|0,o=a,a=i,i=r,r=B+(S+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+U|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=a._createHelper(d),n.HmacSHA256=a._createHmacHelper(d)}(Math),t.SHA256)}(sha256)),sha256.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(e){var t,n,r,i;e.exports=(t=requireCore(),r=(n=t).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))}(hmac)),hmac.exports}!function(e,t){var n;e.exports=(n=requireCore(),requireSha256(),requireHmac(),n.HmacSHA256)}(hmacSha256$2);var hmacSha256Exports=hmacSha256$2.exports,cryptoHmacSha256=getDefaultExportFromCjs$1(hmacSha256Exports),sha256Exports=requireSha256(),cryptoHashSha256=getDefaultExportFromCjs$1(sha256Exports),md5={exports:{}};!function(e,t){var n;e.exports=(n=requireCore(),function(e){var t=n,r=t.lib,i=r.WordArray,a=r.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],F=e[t+2],p=e[t+3],Q=e[t+4],h=e[t+5],R=e[t+6],_=e[t+7],S=e[t+8],B=e[t+9],m=e[t+10],f=e[t+11],E=e[t+12],v=e[t+13],y=e[t+14],g=e[t+15],T=a[0],V=a[1],k=a[2],N=a[3];T=c(T,V,k,N,o,7,s[0]),N=c(N,T,V,k,l,12,s[1]),k=c(k,N,T,V,F,17,s[2]),V=c(V,k,N,T,p,22,s[3]),T=c(T,V,k,N,Q,7,s[4]),N=c(N,T,V,k,h,12,s[5]),k=c(k,N,T,V,R,17,s[6]),V=c(V,k,N,T,_,22,s[7]),T=c(T,V,k,N,S,7,s[8]),N=c(N,T,V,k,B,12,s[9]),k=c(k,N,T,V,m,17,s[10]),V=c(V,k,N,T,f,22,s[11]),T=c(T,V,k,N,E,7,s[12]),N=c(N,T,V,k,v,12,s[13]),k=c(k,N,T,V,y,17,s[14]),T=d(T,V=c(V,k,N,T,g,22,s[15]),k,N,l,5,s[16]),N=d(N,T,V,k,R,9,s[17]),k=d(k,N,T,V,f,14,s[18]),V=d(V,k,N,T,o,20,s[19]),T=d(T,V,k,N,h,5,s[20]),N=d(N,T,V,k,m,9,s[21]),k=d(k,N,T,V,g,14,s[22]),V=d(V,k,N,T,Q,20,s[23]),T=d(T,V,k,N,B,5,s[24]),N=d(N,T,V,k,y,9,s[25]),k=d(k,N,T,V,p,14,s[26]),V=d(V,k,N,T,S,20,s[27]),T=d(T,V,k,N,v,5,s[28]),N=d(N,T,V,k,F,9,s[29]),k=d(k,N,T,V,_,14,s[30]),T=u(T,V=d(V,k,N,T,E,20,s[31]),k,N,h,4,s[32]),N=u(N,T,V,k,S,11,s[33]),k=u(k,N,T,V,f,16,s[34]),V=u(V,k,N,T,y,23,s[35]),T=u(T,V,k,N,l,4,s[36]),N=u(N,T,V,k,Q,11,s[37]),k=u(k,N,T,V,_,16,s[38]),V=u(V,k,N,T,m,23,s[39]),T=u(T,V,k,N,v,4,s[40]),N=u(N,T,V,k,o,11,s[41]),k=u(k,N,T,V,p,16,s[42]),V=u(V,k,N,T,R,23,s[43]),T=u(T,V,k,N,B,4,s[44]),N=u(N,T,V,k,E,11,s[45]),k=u(k,N,T,V,g,16,s[46]),T=U(T,V=u(V,k,N,T,F,23,s[47]),k,N,o,6,s[48]),N=U(N,T,V,k,_,10,s[49]),k=U(k,N,T,V,y,15,s[50]),V=U(V,k,N,T,h,21,s[51]),T=U(T,V,k,N,E,6,s[52]),N=U(N,T,V,k,p,10,s[53]),k=U(k,N,T,V,m,15,s[54]),V=U(V,k,N,T,l,21,s[55]),T=U(T,V,k,N,S,6,s[56]),N=U(N,T,V,k,g,10,s[57]),k=U(k,N,T,V,R,15,s[58]),V=U(V,k,N,T,v,21,s[59]),T=U(T,V,k,N,Q,6,s[60]),N=U(N,T,V,k,f,10,s[61]),k=U(k,N,T,V,F,15,s[62]),V=U(V,k,N,T,B,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+V|0,a[2]=a[2]+k|0,a[3]=a[3]+N|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var d=l[c];l[c]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function u(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function U(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(l),t.HmacMD5=a._createHmacHelper(l)}(Math),n.MD5)}(md5);var md5Exports=md5.exports,cryptoHashMd5=getDefaultExportFromCjs$1(md5Exports),encBase64={exports:{}};!function(e,t){var n;e.exports=(n=requireCore(),function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return t.create(i,a)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<n.length;a++)i[n.charCodeAt(a)]=a}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)}(encBase64);var encBase64Exports=encBase64.exports,cryptoEncBase64=getDefaultExportFromCjs$1(encBase64Exports),encHex={exports:{}};!function(e,t){e.exports=requireCore().enc.Hex}(encHex);var encHexExports=encHex.exports,cryptoEncHex=getDefaultExportFromCjs$1(encHexExports),encUtf8={exports:{}};!function(e,t){e.exports=requireCore().enc.Utf8}(encUtf8);var encUtf8Exports=encUtf8.exports,cryptoEncUtf8=getDefaultExportFromCjs$1(encUtf8Exports),isArray$c=Array.isArray,isArray_1=isArray$c,freeGlobal$1="object"==_typeof$1(commonjsGlobal$1)&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf="object"==("undefined"==typeof self?"undefined":_typeof$1(self))&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,_Symbol2=root$7.Symbol,_Symbol$4=_Symbol2,_Symbol$3=_Symbol$4,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=_Symbol$3?_Symbol$3.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$a.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var r=!0}catch(e2){}var i=nativeObjectToString$1.call(e);return r&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),i}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$2(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$2,_Symbol$2=_Symbol$4,getRawTag=_getRawTag,objectToString$1=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=_Symbol$2?_Symbol$2.toStringTag:void 0;function baseGetTag$5(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString$1(e)}var _baseGetTag=baseGetTag$5;function isObjectLike$6(e){return null!=e&&"object"==_typeof$1(e)}var isObjectLike_1=isObjectLike$6,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,symbolTag$2="[object Symbol]";function isSymbol$4(e){return"symbol"==_typeof$1(e)||isObjectLike$5(e)&&baseGetTag$4(e)==symbolTag$2}var isSymbol_1=isSymbol$4,isArray$b=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$1(e,t){if(isArray$b(e))return!1;var n=_typeof$1(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol$3(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var _isKey=isKey$1;function isObject$8(e){var t=_typeof$1(e);return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject$8,baseGetTag$3=_baseGetTag,isObject$7=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(e){if(!isObject$7(e))return!1;var t=baseGetTag$3(e);return t==funcTag$2||t==genTag$1||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$4,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(e){if(null!=e){try{return funcToString$1.call(e)}catch(e2){}try{return e+""}catch(e2){}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1,isMasked=_isMasked,isObject$6=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$a=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){return!(!isObject$6(e)||isMasked(e))&&(isFunction$3(e)?reIsNative:reIsHostCtor).test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return null==e?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var n=t[e];return n===HASH_UNDEFINED$1?void 0:n}return hasOwnProperty$8.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty$7.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&void 0===t?HASH_UNDEFINED:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(e,t){return e===t||e!=e&&t!=t}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(e,t){for(var n=e.length;n--;)if(eq$1(e[n][0],t))return n;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,n=assocIndexOf$3(t,e);return!(n<0)&&(n==t.length-1?t.pop():splice.call(t,n,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,n=assocIndexOf$2(t,e);return n<0?void 0:t[n][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$5=_root,Map$4=getNative$5(root$5,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=_typeof$1(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var n=e.__data__;return isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache$2.prototype.clear=mapCacheClear,MapCache$2.prototype.delete=mapCacheDelete,MapCache$2.prototype.get=mapCacheGet,MapCache$2.prototype.has=mapCacheHas,MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,MapCache$1=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(memoize$1.Cache||MapCache$1),n}memoize$1.Cache=MapCache$1;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(e){var t=memoize(e,(function(e){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),e})),n=t.cache;return t}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$2=memoizeCapped((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName$1,(function(e,n,r,i){t.push(r?i.replace(reEscapeChar$1,"$1"):n||e)})),t})),_stringToPath=stringToPath$2;function arrayMap$1(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var _arrayMap=arrayMap$1,_Symbol$1=_Symbol$4,arrayMap=_arrayMap,isArray$a=isArray_1,isSymbol$2=isSymbol_1,INFINITY$1=1/0,symbolProto$1=_Symbol$1?_Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(e){if("string"==typeof e)return e;if(isArray$a(e))return arrayMap(e,baseToString$1)+"";if(isSymbol$2(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(e){return null==e?"":baseToString(e)}var toString_1=toString$3,isArray$9=isArray_1,isKey=_isKey,stringToPath$1=_stringToPath,toString$2=toString_1;function castPath$2(e,t){return isArray$9(e)?e:isKey(e,t)?[e]:stringToPath$1(toString$2(e))}var _castPath=castPath$2,isSymbol$1=isSymbol_1,INFINITY=1/0;function toKey$2(e){if("string"==typeof e||isSymbol$1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}var _toKey=toKey$2,castPath$1=_castPath,toKey$1=_toKey;function baseGet$1(e,t){for(var n=0,r=(t=castPath$1(t,e)).length;null!=e&&n<r;)e=e[toKey$1(t[n++])];return n&&n==r?e:void 0}var _baseGet=baseGet$1,baseGet=_baseGet;function get(e,t,n){var r=null==e?void 0:baseGet(e,t);return void 0===r?n:r}var get_1=get,get$1=getDefaultExportFromCjs$1(get_1),getNative$4=_getNative,defineProperty$1=function(){try{var e=getNative$4(Object,"defineProperty");return e({},"",{}),e}catch(e2){}}(),_defineProperty=defineProperty$1,defineProperty=_defineProperty;function baseAssignValue$2(e,t,n){"__proto__"==t&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _baseAssignValue=baseAssignValue$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function assignValue$3(e,t,n){var r=e[t];hasOwnProperty$6.call(e,t)&&eq(r,n)&&(void 0!==n||t in e)||baseAssignValue$1(e,t,n)}var _assignValue=assignValue$3,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(e,t){var n=_typeof$1(e);return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==n||"symbol"!=n&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$2,assignValue$2=_assignValue,castPath=_castPath,isIndex$1=_isIndex,isObject$5=isObject_1,toKey=_toKey;function baseSet$1(e,t,n,r){if(!isObject$5(e))return e;for(var i=-1,a=(t=castPath(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=toKey(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var d=s[l];void 0===(c=r?r(d,l,s):void 0)&&(c=isObject$5(d)?d:isIndex$1(t[i+1])?[]:{})}assignValue$2(s,l,c),s=s[l]}return e}var _baseSet=baseSet$1,baseSet=_baseSet;function set(e,t,n){return null==e?e:baseSet(e,t,n)}var set_1=set,set$1=getDefaultExportFromCjs$1(set_1),esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,shams=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===_typeof$1(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"===_typeof$1(origSymbol("foo"))&&("symbol"===_typeof$1(Symbol("bar"))&&hasSymbolSham())))},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$1=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},slicy=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},joiny=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},implementation$1=function(e){var t=this;if("function"!=typeof t||toStr$1.apply(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var n,r=slicy(arguments,1),i=max(0,t.length-r.length),a=[],o=0;o<i;o++)a[o]="$"+o;if(n=Function("binder","return function ("+joiny(a,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var i=t.apply(this,concatty(r,arguments));return Object(i)===i?i:this}return t.apply(e,concatty(r,arguments))})),t.prototype){var s=function(){};s.prototype=t.prototype,n.prototype=new s,s.prototype=null}return n},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$6=functionBind,hasown=bind$6.call(call,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$3=type,$URIError=uri,$Function=Function,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch(e2){}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch(e2){$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD$1?function(){try{return throwTypeError}catch(e){try{return $gOPD$1(arguments,"callee").get}catch(t){return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto=Object.getPrototypeOf||(hasProto?function(e){return e.__proto__}:null),needsEval={},TypedArray="undefined"!=typeof Uint8Array&&getProto?getProto(Uint8Array):undefined$1,INTRINSICS={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined$1:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined$1:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?undefined$1:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined$1:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined$1:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined$1:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined$1:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":_typeof$1(JSON))?JSON:undefined$1,"%Map%":"undefined"==typeof Map?undefined$1:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols&&getProto?getProto((new Map)[Symbol.iterator]()):undefined$1,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined$1:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined$1:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols&&getProto?getProto((new Set)[Symbol.iterator]()):undefined$1,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined$1:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined$1:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined$1:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined$1:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined$1:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined$1:WeakSet};if(getProto)try{null.error}catch(e2){var errorProto=getProto(getProto(e2));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function e(t){var n;if("%AsyncFunction%"===t)n=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===t)n=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&getProto&&(n=getProto(i.prototype))}return INTRINSICS[t]=n,n},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$5=functionBind,hasOwn$1=hasown,$concat$1=bind$5.call(Function.call,Array.prototype.concat),$spliceApply=bind$5.call(Function.apply,Array.prototype.splice),$replace$1=bind$5.call(Function.call,String.prototype.replace),$strSlice=bind$5.call(Function.call,String.prototype.slice),$exec=bind$5.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),n=$strSlice(e,-1);if("%"===t&&"%"!==n)throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var r=[];return $replace$1(e,rePropName,(function(e,t,n,i){r[r.length]=n?$replace$1(i,reEscapeChar,"$1"):t||e})),r},getBaseIntrinsic=function(e,t){var n,r=e;if(hasOwn$1(LEGACY_ALIASES,r)&&(r="%"+(n=LEGACY_ALIASES[r])[0]+"%"),hasOwn$1(INTRINSICS,r)){var i=INTRINSICS[r];if(i===needsEval&&(i=doEval(r)),void 0===i&&!t)throw new $TypeError$3("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if("string"!=typeof e||0===e.length)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new $TypeError$3('"allowMissing" argument must be a boolean');if(null===$exec(/^%?[^%]*%?$/,e))throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=stringToPath(e),r=n.length>0?n[0]:"",i=getBaseIntrinsic("%"+r+"%",t),a=i.name,o=i.value,s=!1,l=i.alias;l&&(r=l[0],$spliceApply(n,$concat$1([0,1],l)));for(var c=1,d=!0;c<n.length;c+=1){var u=n[c],U=$strSlice(u,0,1),F=$strSlice(u,-1);if(('"'===U||"'"===U||"`"===U||'"'===F||"'"===F||"`"===F)&&U!==F)throw new $SyntaxError$1("property names with quotes must have matching quotes");if("constructor"!==u&&d||(s=!0),hasOwn$1(INTRINSICS,a="%"+(r+="."+u)+"%"))o=INTRINSICS[a];else if(null!=o){if(!(u in o)){if(!t)throw new $TypeError$3("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&c+1>=n.length){var p=$gOPD$1(o,u);o=(d=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:o[u]}else d=hasOwn$1(o,u),o=o[u];d&&!s&&(INTRINSICS[a]=o)}}return o},callBind$1={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var e=getIntrinsic("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch(e2){e=!1}return esDefineProperty=e}var GetIntrinsic$3=getIntrinsic,$gOPD=GetIntrinsic$3("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e2){$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$2=type,gopd=gopd$1,defineDataProperty=function(e,t,n){if(!e||"object"!==_typeof$1(e)&&"function"!=typeof e)throw new $TypeError$2("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!==_typeof$1(t))throw new $TypeError$2("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new $TypeError$2("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new $TypeError$2("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new $TypeError$2("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new $TypeError$2("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,o=arguments.length>6&&arguments[6],s=!!gopd&&gopd(e,t);if($defineProperty$1)$defineProperty$1(e,t,{configurable:null===a&&s?s.configurable:!a,enumerable:null===r&&s?s.enumerable:!r,value:n,writable:null===i&&s?s.writable:!i});else{if(!o&&(r||i||a))throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return 1!==$defineProperty([],"length",{value:1}).length}catch(e2){return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$2=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD=gopd$1,$TypeError$1=type,$floor$1=GetIntrinsic$2("%Math.floor%"),setFunctionLength=function(e,t){if("function"!=typeof e)throw new $TypeError$1("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||$floor$1(t)!==t)throw new $TypeError$1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,i=!0;if("length"in e&&gOPD){var a=gOPD(e,"length");a&&!a.configurable&&(r=!1),a&&!a.writable&&(i=!1)}return(r||i||!n)&&(hasDescriptors?define(e,"length",t,!0,!0):define(e,"length",t)),e};!function(e){var t=functionBind,n=getIntrinsic,r=setFunctionLength,i=type,a=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(o,a),l=requireEsDefineProperty(),c=n("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var n=s(t,o,arguments);return r(n,1+c(0,e.length-(arguments.length-1)),!0)};var d=function(){return s(t,a,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d}(callBind$1);var callBindExports=callBind$1.exports,GetIntrinsic$1=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(e,t){var n=GetIntrinsic$1(e,!!t);return"function"==typeof n&&$indexOf(e,".prototype.")>-1?callBind(n):n},hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap="function"==typeof WeakMap&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet="function"==typeof WeakSet&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef="function"==typeof WeakRef&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString="function"==typeof Symbol&&"symbol"===_typeof$1(Symbol.iterator)?Symbol.prototype.toString:null,hasShammedSymbols="function"==typeof Symbol&&"object"===_typeof$1(Symbol.iterator),toStringTag="function"==typeof Symbol&&Symbol.toStringTag&&(_typeof$1(Symbol.toStringTag)===hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function addNumericSeparator(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||$test.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-$floor(-e):$floor(e);if(r!==e){var i=String(r),a=$slice.call(t,i.length+1);return $replace.call(i,n,"$&_")+"."+$replace.call($replace.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(t,n,"$&_")}var utilInspect=require$$0$1,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function e(t,n,r,i){var a=n||{};if(has$3(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=!has$3(a,"customInspect")||a.customInspect;if("boolean"!=typeof o&&"symbol"!==o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return inspectString(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return s?addNumericSeparator(t,l):l}if("bigint"==typeof t){var c=String(t)+"n";return s?addNumericSeparator(t,c):c}var d=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=d&&d>0&&"object"===_typeof$1(t))return isArray$8(t)?"[Array]":"[Object]";var u=getIndent(a,r);if(void 0===i)i=[];else if(indexOf(i,t)>=0)return"[Circular]";function U(t,n,o){if(n&&(i=$arrSlice.call(i)).push(n),o){var s={depth:a.depth};return has$3(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,r+1,i)}return e(t,a,r+1,i)}if("function"==typeof t&&!isRegExp$1(t)){var F=nameOf(t),p=arrObjKeys(t,U);return"[Function"+(F?": "+F:" (anonymous)")+"]"+(p.length>0?" { "+$join.call(p,", ")+" }":"")}if(isSymbol(t)){var Q=hasShammedSymbols?$replace.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(t);return"object"!==_typeof$1(t)||hasShammedSymbols?Q:markBoxed(Q)}if(isElement(t)){for(var h="<"+$toLowerCase.call(String(t.nodeName)),R=t.attributes||[],_=0;_<R.length;_++)h+=" "+R[_].name+"="+wrapQuotes(quote(R[_].value),"double",a);return h+=">",t.childNodes&&t.childNodes.length&&(h+="..."),h+="</"+$toLowerCase.call(String(t.nodeName))+">"}if(isArray$8(t)){if(0===t.length)return"[]";var S=arrObjKeys(t,U);return u&&!singleLineValues(S)?"["+indentedJoin(S,u)+"]":"[ "+$join.call(S,", ")+" ]"}if(isError(t)){var B=arrObjKeys(t,U);return"cause"in Error.prototype||!("cause"in t)||isEnumerable.call(t,"cause")?0===B.length?"["+String(t)+"]":"{ ["+String(t)+"] "+$join.call(B,", ")+" }":"{ ["+String(t)+"] "+$join.call($concat.call("[cause]: "+U(t.cause),B),", ")+" }"}if("object"===_typeof$1(t)&&o){if(inspectSymbol&&"function"==typeof t[inspectSymbol]&&utilInspect)return utilInspect(t,{depth:d-r});if("symbol"!==o&&"function"==typeof t.inspect)return t.inspect()}if(isMap$2(t)){var m=[];return mapForEach&&mapForEach.call(t,(function(e,n){m.push(U(n,t,!0)+" => "+U(e,t))})),collectionOf("Map",mapSize.call(t),m,u)}if(isSet$2(t)){var f=[];return setForEach&&setForEach.call(t,(function(e){f.push(U(e,t))})),collectionOf("Set",setSize.call(t),f,u)}if(isWeakMap(t))return weakCollectionOf("WeakMap");if(isWeakSet(t))return weakCollectionOf("WeakSet");if(isWeakRef(t))return weakCollectionOf("WeakRef");if(isNumber$2(t))return markBoxed(U(Number(t)));if(isBigInt(t))return markBoxed(U(bigIntValueOf.call(t)));if(isBoolean(t))return markBoxed(booleanValueOf.call(t));if(isString$2(t))return markBoxed(U(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==commonjsGlobal$1&&t===commonjsGlobal$1)return"{ [object globalThis] }";if(!isDate$2(t)&&!isRegExp$1(t)){var E=arrObjKeys(t,U),v=gPO?gPO(t)===Object.prototype:t instanceof Object||t.constructor===Object,y=t instanceof Object?"":"null prototype",g=!v&&toStringTag&&Object(t)===t&&toStringTag in t?$slice.call(toStr(t),8,-1):y?"Object":"",T=(v||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(g||y?"["+$join.call($concat.call([],g||[],y||[]),": ")+"] ":"");return 0===E.length?T+"{}":u?T+"{"+indentedJoin(E,u)+"}":T+"{ "+$join.call(E,", ")+" }"}return String(t)};function wrapQuotes(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function quote(e){return $replace.call(String(e),/"/g,"&quot;")}function isArray$8(e){return!("[object Array]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isDate$2(e){return!("[object Date]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isRegExp$1(e){return!("[object RegExp]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isError(e){return!("[object Error]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isString$2(e){return!("[object String]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isNumber$2(e){return!("[object Number]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isBoolean(e){return!("[object Boolean]"!==toStr(e)||toStringTag&&"object"===_typeof$1(e)&&toStringTag in e)}function isSymbol(e){if(hasShammedSymbols)return e&&"object"===_typeof$1(e)&&e instanceof Symbol;if("symbol"===_typeof$1(e))return!0;if(!e||"object"!==_typeof$1(e)||!symToString)return!1;try{return symToString.call(e),!0}catch(e2){}return!1}function isBigInt(e){if(!e||"object"!==_typeof$1(e)||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch(e2){}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(e){return e in this};function has$3(e,t){return hasOwn.call(e,t)}function toStr(e){return objectToString.call(e)}function nameOf(e){if(e.name)return e.name;var t=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function isMap$2(e){if(!mapSize||!e||"object"!==_typeof$1(e))return!1;try{mapSize.call(e);try{setSize.call(e)}catch(t){return!0}return e instanceof Map}catch(e2){}return!1}function isWeakMap(e){if(!weakMapHas||!e||"object"!==_typeof$1(e))return!1;try{weakMapHas.call(e,weakMapHas);try{weakSetHas.call(e,weakSetHas)}catch(t){return!0}return e instanceof WeakMap}catch(e2){}return!1}function isWeakRef(e){if(!weakRefDeref||!e||"object"!==_typeof$1(e))return!1;try{return weakRefDeref.call(e),!0}catch(e2){}return!1}function isSet$2(e){if(!setSize||!e||"object"!==_typeof$1(e))return!1;try{setSize.call(e);try{mapSize.call(e)}catch(t){return!0}return e instanceof Set}catch(e2){}return!1}function isWeakSet(e){if(!weakSetHas||!e||"object"!==_typeof$1(e))return!1;try{weakSetHas.call(e,weakSetHas);try{weakMapHas.call(e,weakMapHas)}catch(t){return!0}return e instanceof WeakSet}catch(e2){}return!1}function isElement(e){return!(!e||"object"!==_typeof$1(e))&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function inspectString(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return inspectString($slice.call(e,0,t.maxStringLength),t)+r}return wrapQuotes($replace.call($replace.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",t)}function lowbyte(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+$toUpperCase.call(t.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,n,r){return e+" ("+t+") {"+(r?indentedJoin(n,r):$join.call(n,", "))+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(indexOf(e[t],"\n")>=0)return!1;return!0}function getIndent(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=$join.call(Array(e.indent+1)," ")}return{base:n,prev:$join.call(Array(t+1),n)}}function indentedJoin(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+$join.call(e,","+n)+"\n"+t.prev}function arrObjKeys(e,t){var n=isArray$8(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=has$3(e,i)?t(e[i],e):""}var a,o="function"==typeof gOPS?gOPS(e):[];if(hasShammedSymbols){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in e)has$3(e,l)&&(n&&String(Number(l))===l&&l<e.length||hasShammedSymbols&&a["$"+l]instanceof Symbol||($test.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof gOPS)for(var c=0;c<o.length;c++)isEnumerable.call(e,o[c])&&r.push("["+t(o[c])+"]: "+t(e[o[c]],e));return r}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=type,$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},listGet=function(e,t){var n=listGetNode(e,t);return n&&n.value},listSet=function(e,t,n){var r=listGetNode(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},listHas=function(e,t){return!!listGetNode(e,t)},sideChannel=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new $TypeError("Side channel does not contain "+inspect(e))},get:function(r){if($WeakMap&&r&&("object"===_typeof$1(r)||"function"==typeof r)){if(e)return $weakMapGet(e,r)}else if($Map){if(t)return $mapGet(t,r)}else if(n)return listGet(n,r)},has:function(r){if($WeakMap&&r&&("object"===_typeof$1(r)||"function"==typeof r)){if(e)return $weakMapHas(e,r)}else if($Map){if(t)return $mapHas(t,r)}else if(n)return listHas(n,r);return!1},set:function(r,i){$WeakMap&&r&&("object"===_typeof$1(r)||"function"==typeof r)?(e||(e=new $WeakMap),$weakMapSet(e,r,i)):$Map?(t||(t=new $Map),$mapSet(t,r,i)):(n||(n={key:{},next:null}),listSet(n,r,i))}};return r},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$7=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(isArray$7(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},merge$2=function e(t,n,r){if(!n)return t;if("object"!==_typeof$1(n)){if(isArray$7(t))t.push(n);else{if(!t||"object"!==_typeof$1(t))return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!has$2.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==_typeof$1(t))return[t].concat(n);var i=t;return isArray$7(t)&&!isArray$7(n)&&(i=arrayToObject(t,r)),isArray$7(t)&&isArray$7(n)?(n.forEach((function(n,i){if(has$2.call(t,i)){var a=t[i];a&&"object"===_typeof$1(a)&&n&&"object"===_typeof$1(n)?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return has$2.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),i)},assign=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},decode$1=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e2){return r}},limit=1024,encode$2=function(e,t,n,r,i){if(0===e.length)return e;var a=e;if("symbol"===_typeof$1(e)?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",s=0;s<a.length;s+=limit){for(var l=a.length>=limit?a.slice(s,s+limit):a,c=[],d=0;d<l.length;++d){var u=l.charCodeAt(d);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===formats$2.RFC1738&&(40===u||41===u)?c[c.length]=l.charAt(d):u<128?c[c.length]=hexTable[u]:u<2048?c[c.length]=hexTable[192|u>>6]+hexTable[128|63&u]:u<55296||u>=57344?c[c.length]=hexTable[224|u>>12]+hexTable[128|u>>6&63]+hexTable[128|63&u]:(d+=1,u=65536+((1023&u)<<10|1023&l.charCodeAt(d)),c[c.length]=hexTable[240|u>>18]+hexTable[128|u>>12&63]+hexTable[128|u>>6&63]+hexTable[128|63&u])}o+=c.join("")}return o},compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var l=o[s],c=a[l];"object"===_typeof$1(c)&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:l}),n.push(c))}return compactQueue(t),e},isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isBuffer$6=function(e){return!(!e||"object"!==_typeof$1(e))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,t){return[].concat(e,t)},maybeMap=function(e,t){if(isArray$7(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},utils$g={arrayToObject:arrayToObject,assign:assign,combine:combine,compact:compact,decode:decode$1,encode:encode$2,isBuffer:isBuffer$6,isRegExp:isRegExp,maybeMap:maybeMap,merge:merge$2},getSideChannel=sideChannel,utils$f=utils$g,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},isArray$6=Array.isArray,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$6(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$5={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:utils$f.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"===_typeof$1(e)||"bigint"==typeof e},sentinel={},stringify$3=function e(t,n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_){for(var S=t,B=_,m=0,f=!1;void 0!==(B=B.get(sentinel))&&!f;){var E=B.get(t);if(m+=1,void 0!==E){if(E===m)throw new RangeError("Cyclic object value");f=!0}void 0===B.get(sentinel)&&(m=0)}if("function"==typeof d?S=d(n,S):S instanceof Date?S=F(S):"comma"===r&&isArray$6(S)&&(S=utils$f.maybeMap(S,(function(e){return e instanceof Date?F(e):e}))),null===S){if(o)return c&&!h?c(n,defaults$5.encoder,R,"key",p):n;S=""}if(isNonNullishPrimitive(S)||utils$f.isBuffer(S))return c?[Q(h?n:c(n,defaults$5.encoder,R,"key",p))+"="+Q(c(S,defaults$5.encoder,R,"value",p))]:[Q(n)+"="+Q(String(S))];var v,y=[];if(void 0===S)return y;if("comma"===r&&isArray$6(S))h&&c&&(S=utils$f.maybeMap(S,c)),v=[{value:S.length>0?S.join(",")||null:void 0}];else if(isArray$6(d))v=d;else{var g=Object.keys(S);v=u?g.sort(u):g}var T=l?n.replace(/\./g,"%2E"):n,V=i&&isArray$6(S)&&1===S.length?T+"[]":T;if(a&&isArray$6(S)&&0===S.length)return V+"[]";for(var k=0;k<v.length;++k){var N=v[k],b="object"===_typeof$1(N)&&void 0!==N.value?N.value:S[N];if(!s||null!==b){var C=U&&l?N.replace(/\./g,"%2E"):N,J=isArray$6(S)?"function"==typeof r?r(V,C):V:V+(U?"."+C:"["+C+"]");_.set(t,m);var W=getSideChannel();W.set(sentinel,_),pushToArray(y,e(b,J,r,i,a,o,s,l,"comma"===r&&h&&isArray$6(S)?null:c,d,u,U,F,p,Q,h,R,W))}}return y},normalizeStringifyOptions=function(e){if(!e)return defaults$5;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||defaults$5.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=formats$1.default;if(void 0!==e.format){if(!has$1.call(formats$1.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=formats$1.formatters[n],a=defaults$5.filter;if(("function"==typeof e.filter||isArray$6(e.filter))&&(a=e.filter),r=e.arrayFormat in arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":defaults$5.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=void 0===e.allowDots?!0===e.encodeDotInKeys||defaults$5.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:defaults$5.addQueryPrefix,allowDots:o,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:defaults$5.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults$5.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?defaults$5.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:defaults$5.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:defaults$5.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:defaults$5.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:defaults$5.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:defaults$5.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:defaults$5.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults$5.strictNullHandling}},stringify_1=function(e,t){var n,r=e,i=normalizeStringifyOptions(t);"function"==typeof i.filter?r=(0,i.filter)("",r):isArray$6(i.filter)&&(n=i.filter);var a=[];if("object"!==_typeof$1(r)||null===r)return"";var o=arrayPrefixGenerators[i.arrayFormat],s="comma"===o&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var l=getSideChannel(),c=0;c<n.length;++c){var d=n[c];i.skipNulls&&null===r[d]||pushToArray(a,stringify$3(r[d],d,o,s,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,l))}var u=a.join(i.delimiter),U=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?U+="utf8=%26%2310003%3B&":U+="utf8=%E2%9C%93&"),u.length>0?U+u:""},utils$e=utils$g,has=Object.prototype.hasOwnProperty,isArray$5=Array.isArray,defaults$4={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:utils$e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},parseArrayValue=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i,a=t.parameterLimit===1/0?void 0:t.parameterLimit,o=r.split(t.delimiter,a),s=-1,l=t.charset;if(t.charsetSentinel)for(i=0;i<o.length;++i)0===o[i].indexOf("utf8=")&&(o[i]===charsetSentinel?l="utf-8":o[i]===isoSentinel&&(l="iso-8859-1"),s=i,i=o.length);for(i=0;i<o.length;++i)if(i!==s){var c,d,u=o[i],U=u.indexOf("]="),F=-1===U?u.indexOf("="):U+1;-1===F?(c=t.decoder(u,defaults$4.decoder,l,"key"),d=t.strictNullHandling?null:""):(c=t.decoder(u.slice(0,F),defaults$4.decoder,l,"key"),d=utils$e.maybeMap(parseArrayValue(u.slice(F+1),t),(function(e){return t.decoder(e,defaults$4.decoder,l,"value")}))),d&&t.interpretNumericEntities&&"iso-8859-1"===l&&(d=interpretNumericEntities(d)),u.indexOf("[]=")>-1&&(d=isArray$5(d)?[d]:d);var p=has.call(n,c);p&&"combine"===t.duplicates?n[c]=utils$e.combine(n[c],d):p&&"last"!==t.duplicates||(n[c]=d)}return n},parseObject=function(e,t,n,r){for(var i=r?t:parseArrayValue(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&n.parseArrays)o=n.allowEmptyArrays&&(""===i||n.strictNullHandling&&null===i)?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(c,10);n.parseArrays||""!==c?!isNaN(d)&&s!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[])[d]=i:"__proto__"!==c&&(o[c]=i):o={0:i}}i=o}return i},parseKeys=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=o?i.slice(0,o.index):i,l=[];if(s){if(!n.plainObjects&&has.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var c=0;n.depth>0&&null!==(o=a.exec(i))&&c<n.depth;){if(c+=1,!n.plainObjects&&has.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(o[1])}if(o){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");l.push("["+i.slice(o.index)+"]")}return parseObject(l,t,n,r)}},normalizeParseOptions=function(e){if(!e)return defaults$4;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?defaults$4.charset:e.charset,n=void 0===e.duplicates?defaults$4.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||defaults$4.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:defaults$4.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:defaults$4.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:defaults$4.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:defaults$4.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults$4.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:defaults$4.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:defaults$4.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:defaults$4.decoder,delimiter:"string"==typeof e.delimiter||utils$e.isRegExp(e.delimiter)?e.delimiter:defaults$4.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:defaults$4.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:defaults$4.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:defaults$4.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:defaults$4.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:defaults$4.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults$4.strictNullHandling}},parse$3=function(e,t){var n=normalizeParseOptions(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?parseValues(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],l=parseKeys(s,r[s],n,"string"==typeof e);i=utils$e.merge(i,l,n)}return!0===n.allowSparse?i:utils$e.compact(i)},stringify$2=stringify_1,parse$2=parse$3,formats=formats$3,lib={formats:formats,parse:parse$2,stringify:stringify$2},qs=getDefaultExportFromCjs$1(lib),axios$3={exports:{}},bind$4=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},bind$3=bind$4,toString$1=Object.prototype.toString;function isArray$4(e){return"[object Array]"===toString$1.call(e)}function isUndefined$1(e){return void 0===e}function isBuffer$5(e){return null!==e&&!isUndefined$1(e)&&null!==e.constructor&&!isUndefined$1(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isArrayBuffer$1(e){return"[object ArrayBuffer]"===toString$1.call(e)}function isFormData$1(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView$1(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString$1(e){return"string"==typeof e}function isNumber$1(e){return"number"==typeof e}function isObject$4(e){return null!==e&&"object"===_typeof$1(e)}function isPlainObject$1(e){if("[object Object]"!==toString$1.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function isDate$1(e){return"[object Date]"===toString$1.call(e)}function isFile$1(e){return"[object File]"===toString$1.call(e)}function isBlob$2(e){return"[object Blob]"===toString$1.call(e)}function isFunction$2(e){return"[object Function]"===toString$1.call(e)}function isStream$1(e){return isObject$4(e)&&isFunction$2(e.pipe)}function isURLSearchParams$1(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim$1(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv$1(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach$1(e,t){if(null!=e)if("object"!==_typeof$1(e)&&(e=[e]),isArray$4(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function merge$1(){var e={};function t(t,n){isPlainObject$1(e[n])&&isPlainObject$1(t)?e[n]=merge$1(e[n],t):isPlainObject$1(t)?e[n]=merge$1({},t):isArray$4(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)forEach$1(arguments[n],t);return e}function extend$1(e,t,n){return forEach$1(t,(function(t,r){e[r]=n&&"function"==typeof t?bind$3(t,n):t})),e}function stripBOM$1(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var utils$c={isArray:isArray$4,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$5,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber:isNumber$1,isObject:isObject$4,isPlainObject:isPlainObject$1,isUndefined:isUndefined$1,isDate:isDate$1,isFile:isFile$1,isBlob:isBlob$2,isFunction:isFunction$2,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isStandardBrowserEnv:isStandardBrowserEnv$1,forEach:forEach$1,merge:merge$1,extend:extend$1,trim:trim$1,stripBOM:stripBOM$1},utils$d=getDefaultExportFromCjs$1(utils$c),utils$b=utils$c;function encode$1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$3=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(utils$b.isURLSearchParams(t))r=t.toString();else{var i=[];utils$b.forEach(t,(function(e,t){null!=e&&(utils$b.isArray(e)?t+="[]":e=[e],utils$b.forEach(e,(function(e){utils$b.isDate(e)?e=e.toISOString():utils$b.isObject(e)&&(e=JSON.stringify(e)),i.push(encode$1(t)+"="+encode$1(e))})))})),r=i.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},buildURL$4=getDefaultExportFromCjs$1(buildURL$3),utils$a=utils$c;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager$1.prototype.forEach=function(e){utils$a.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var InterceptorManager_1=InterceptorManager$1,utils$9=utils$c,normalizeHeaderName$1=function(e,t){utils$9.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},enhanceError$2=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},enhanceError$1=enhanceError$2,createError$1=function(e,t,n,r,i){var a=new Error(e);return enhanceError$1(a,t,n,r,i)},createError$2=getDefaultExportFromCjs$1(createError$1),createError=createError$1,settle$2=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(createError("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},settle$3=getDefaultExportFromCjs$1(settle$2),cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=utils$c;return cookies=e.isStandardBrowserEnv()?{write:function(t,n,r,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(i)&&s.push("path="+i),e.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},cookies}var isAbsoluteURL$3=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs$3=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},isAbsoluteURL$2=isAbsoluteURL$3,combineURLs$2=combineURLs$3,buildFullPath$2=function(e,t){return e&&!isAbsoluteURL$2(t)?combineURLs$2(e,t):t},buildFullPath$3=getDefaultExportFromCjs$1(buildFullPath$2),parseHeaders,hasRequiredParseHeaders,isURLSameOrigin,hasRequiredIsURLSameOrigin,xhr,hasRequiredXhr;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=utils$c,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(n){var r,i,a,o={};return n?(e.forEach(n.split("\n"),(function(n){if(a=n.indexOf(":"),r=e.trim(n.substr(0,a)).toLowerCase(),i=e.trim(n.substr(a+1)),r){if(o[r]&&t.indexOf(r)>=0)return;o[r]="set-cookie"===r?(o[r]?o[r]:[]).concat([i]):o[r]?o[r]+", "+i:i}})),o):o},parseHeaders}function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=utils$c;return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(n){var r=e.isString(n)?i(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=utils$c,t=settle$2,n=requireCookies(),r=buildURL$3,i=buildFullPath$2,a=requireParseHeaders(),o=requireIsURLSameOrigin(),s=createError$1;return xhr=function(l){return new Promise((function(c,d){var u=l.data,U=l.headers,F=l.responseType;e.isFormData(u)&&delete U["Content-Type"];var p=new XMLHttpRequest;if(l.auth){var Q=l.auth.username||"",h=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";U.Authorization="Basic "+btoa(Q+":"+h)}var R=i(l.baseURL,l.url);function _(){if(p){var e="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:F&&"text"!==F&&"json"!==F?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:e,config:l,request:p};t(c,d,n),p=null}}if(p.open(l.method.toUpperCase(),r(R,l.params,l.paramsSerializer),!0),p.timeout=l.timeout,"onloadend"in p?p.onloadend=_:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(_)},p.onabort=function(){p&&(d(s("Request aborted",l,"ECONNABORTED",p)),p=null)},p.onerror=function(){d(s("Network Error",l,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+l.timeout+"ms exceeded";l.timeoutErrorMessage&&(e=l.timeoutErrorMessage),d(s(e,l,l.transitional&&l.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},e.isStandardBrowserEnv()){var S=(l.withCredentials||o(R))&&l.xsrfCookieName?n.read(l.xsrfCookieName):void 0;S&&(U[l.xsrfHeaderName]=S)}"setRequestHeader"in p&&e.forEach(U,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete U[t]:p.setRequestHeader(t,e)})),e.isUndefined(l.withCredentials)||(p.withCredentials=!!l.withCredentials),F&&"json"!==F&&(p.responseType=l.responseType),"function"==typeof l.onDownloadProgress&&p.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then((function(e){p&&(p.abort(),d(e),p=null)})),u||(u=null),p.send(u)}))},xhr}var utils$8=utils$c,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE$1={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$8.isUndefined(e)&&utils$8.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=requireXhr()),e}function stringifySafely(e,t,n){if(utils$8.isString(e))try{return(t||JSON.parse)(e),utils$8.trim(e)}catch(e2){if("SyntaxError"!==e2.name)throw e2}return(n||JSON.stringify)(e)}var defaults$3={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils$8.isFormData(e)||utils$8.isArrayBuffer(e)||utils$8.isBuffer(e)||utils$8.isStream(e)||utils$8.isFile(e)||utils$8.isBlob(e)?e:utils$8.isArrayBufferView(e)?e.buffer:utils$8.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils$8.isObject(e)||t&&"application/json"===t["Content-Type"]?(setContentTypeIfUnset(t,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&utils$8.isString(e)&&e.length)try{return JSON.parse(e)}catch(e2){if(i){if("SyntaxError"===e2.name)throw enhanceError(e2,this,"E_JSON_PARSE");throw e2}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$8.forEach(["delete","get","head"],(function(e){defaults$3.headers[e]={}})),utils$8.forEach(["post","put","patch"],(function(e){defaults$3.headers[e]=utils$8.merge(DEFAULT_CONTENT_TYPE$1)}));var defaults_1=defaults$3,utils$7=utils$c,defaults$2=defaults_1,transformData$1=function(e,t,n){var r=this||defaults$2;return utils$7.forEach(n,(function(n){e=n.call(r,e,t)})),e},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(e){return!(!e||!e.__CANCEL__)}),isCancel$1}var utils$6=utils$c,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1;function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest$1=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$6.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$6.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||defaults$1.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},utils$5=utils$c,mergeConfig$2=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function s(e,t){return utils$5.isPlainObject(e)&&utils$5.isPlainObject(t)?utils$5.merge(e,t):utils$5.isPlainObject(t)?utils$5.merge({},t):utils$5.isArray(t)?t.slice():t}function l(r){utils$5.isUndefined(t[r])?utils$5.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}utils$5.forEach(r,(function(e){utils$5.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),utils$5.forEach(i,l),utils$5.forEach(a,(function(r){utils$5.isUndefined(t[r])?utils$5.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),utils$5.forEach(o,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var c=r.concat(i).concat(a).concat(o),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return utils$5.forEach(d,l),n};const name="axios",version$1="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser$1={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}];var require$$0={name:name,version:version$1,description:description,main:main,scripts:scripts,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,homepage:homepage,devDependencies:devDependencies,browser:browser$1,jsdelivr:jsdelivr,unpkg:unpkg,typings:typings,dependencies:dependencies,bundlesize:bundlesize},pkg=require$$0,validators$1={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){validators$1[e]=function(n){return _typeof$1(n)===e||"a"+(t<1?"n ":" ")+e}}));var deprecatedWarnings={},currentVerArr=pkg.version.split(".");function isOlderVersion(e,t){for(var n=t?t.split("."):currentVerArr,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}function assertOptions(e,t,n){if("object"!==_typeof$1(e))throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+a)}}validators$1.transitional=function(e,t,n){var r=t&&isOlderVersion(t);function i(e,t){return"[Axios v"+pkg.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,o){if(!1===e)throw new Error(i(a," has been removed in "+t));return r&&!deprecatedWarnings[a]&&(deprecatedWarnings[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}};var validator$1={isOlderVersion:isOlderVersion,assertOptions:assertOptions,validators:validators$1},utils$4=utils$c,buildURL$2=buildURL$3,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=mergeConfig$1(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&validator.assertOptions(t,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var o=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(o,n),o=o.concat(a),i=Promise.resolve(e);o.length;)i=i.then(o.shift(),o.shift());return i}for(var s=e;n.length;){var l=n.shift(),c=n.shift();try{s=l(s)}catch(d){c(d);break}}try{i=dispatchRequest(s)}catch(d){return Promise.reject(d)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},Axios$1.prototype.getUri=function(e){return e=mergeConfig$1(this.defaults,e),buildURL$2(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},utils$4.forEach(["delete","get","head","options"],(function(e){Axios$1.prototype[e]=function(t,n){return this.request(mergeConfig$1(n||{},{method:e,url:t,data:(n||{}).data}))}})),utils$4.forEach(["post","put","patch"],(function(e){Axios$1.prototype[e]=function(t,n,r){return this.request(mergeConfig$1(r||{},{method:e,url:t,data:n}))}}));var Axios_1=Axios$1,Cancel_1,hasRequiredCancel,CancelToken_1,hasRequiredCancelToken,spread,hasRequiredSpread,isAxiosError,hasRequiredIsAxiosError;function requireCancel(){if(hasRequiredCancel)return Cancel_1;function e(e){this.message=e}return hasRequiredCancel=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e}function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},CancelToken_1=t}function requireSpread(){return hasRequiredSpread?spread:(hasRequiredSpread=1,spread=function(e){return function(t){return e.apply(null,t)}})}function requireIsAxiosError(){return hasRequiredIsAxiosError?isAxiosError:(hasRequiredIsAxiosError=1,isAxiosError=function(e){return"object"===_typeof$1(e)&&!0===e.isAxiosError})}var utils$3=utils$c,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var t=new Axios(e),n=bind$2(Axios.prototype.request,t);return utils$3.extend(n,Axios.prototype,t),utils$3.extend(n,t),n}var axios$2=createInstance(defaults);axios$2.Axios=Axios,axios$2.create=function(e){return createInstance(mergeConfig(axios$2.defaults,e))},axios$2.Cancel=requireCancel(),axios$2.CancelToken=requireCancelToken(),axios$2.isCancel=requireIsCancel(),axios$2.all=function(e){return Promise.all(e)},axios$2.spread=requireSpread(),axios$2.isAxiosError=requireIsAxiosError(),axios$3.exports=axios$2,axios$3.exports.default=axios$2;var axiosExports=axios$3.exports,axios=axiosExports,axios$1=getDefaultExportFromCjs$1(axios),browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=6e4,n=60*t,r=24*n,i=7*r,a=365.25*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return ms=function(s,l){l=l||{};var c=_typeof$1(s);if("string"===c&&s.length>0)return function(o){if((o=String(o)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!s)return;var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(s);if("number"===c&&isFinite(s))return l.long?function(i){var a=Math.abs(i);if(a>=r)return o(i,a,r,"day");if(a>=n)return o(i,a,n,"hour");if(a>=t)return o(i,a,t,"minute");if(a>=e)return o(i,a,e,"second");return i+" ms"}(s):function(i){var a=Math.abs(i);if(a>=r)return Math.round(i/r)+"d";if(a>=n)return Math.round(i/n)+"h";if(a>=t)return Math.round(i/t)+"m";if(a>=e)return Math.round(i/e)+"s";return i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}function setup(e){function t(e){var r,i,a,o=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var a=s,o=Number(new Date),l=o-(r||o);a.diff=l,a.prev=r,a.curr=o,r=o,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";c++;var i=t.formatters[r];if("function"==typeof i){var o=n[c];e=i.call(a,o),n.splice(c,1),c--}return e})),t.formatArgs.call(a,n),(a.log||t.log).apply(a,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a)},set:function(e){o=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(_toConsumableArray(t.names.map(r)),_toConsumableArray(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=requireMs(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}var common=setup;!function(e,t){var n;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;var e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=common(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(browser,browser.exports);var browserExports=browser.exports,createDebug=getDefaultExportFromCjs$1(browserExports),axiosAdapterUniapp={exports:{}},isMultiUpload$1=function(e){return Array.isArray(e.files)&&e.files.length>0},isMultiUpload=isMultiUpload$1,isUploadFile$2=function(e){if("post"===e.method){if(e.filePath&&e.name)return!0;if(isMultiUpload(e))return!0}return!1},bind$1=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},bind=bind$1,toString=Object.prototype.toString,kindOf=(cache=Object.create(null),function(e){var t=toString.call(e);return cache[t]||(cache[t]=t.slice(8,-1).toLowerCase())}),cache;function kindOfTest(e){return e=e.toLowerCase(),function(t){return kindOf(t)===e}}function isArray$3(e){return Array.isArray(e)}function isUndefined(e){return void 0===e}function isBuffer$4(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject$3(e){return null!==e&&"object"===_typeof$1(e)}function isPlainObject(e){if("object"!==kindOf(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction$1(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject$3(e)&&isFunction$1(e.pipe)}function isFormData(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||toString.call(e)===t||isFunction$1(e.toString)&&e.toString()===t)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(e,t){if(null!=e)if("object"!==_typeof$1(e)&&(e=[e]),isArray$3(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function merge(){var e={};function t(t,n){isPlainObject(e[n])&&isPlainObject(t)?e[n]=merge(e[n],t):isPlainObject(t)?e[n]=merge({},t):isArray$3(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],t);return e}function extend(e,t,n){return forEach(t,(function(t,r){e[r]=n&&"function"==typeof t?bind(t,n):t})),e}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function inherits(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function toFlatObject(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function endsWith(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}function toArray(e){if(!e)return null;var t=e.length;if(isUndefined(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var isTypedArray$2=(TypedArray2="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return TypedArray2&&e instanceof TypedArray2}),TypedArray2,utils$2={isArray:isArray$3,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer$4,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject$3,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob$1,isFunction:isFunction$1,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:kindOf,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,isTypedArray:isTypedArray$2,isFileList:isFileList},utils$1=utils$2;function AxiosError$1(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){descriptors[e]={value:e}})),Object.defineProperties(AxiosError$1,descriptors),Object.defineProperty(prototype,"isAxiosError",{value:!0}),AxiosError$1.from=function(e,t,n,r,i,a){var o=Object.create(prototype);return utils$1.toFlatObject(e,o,(function(e){return e!==Error.prototype})),AxiosError$1.call(o,e.message,t,n,r,i),o.name=e.name,a&&Object.assign(o,a),o};var AxiosError_1=AxiosError$1,AxiosError=AxiosError_1,settle$1=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new AxiosError("Request failed with status code "+n.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)},utils=utils$2;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(utils.isURLSearchParams(t))r=t.toString();else{var i=[];utils.forEach(t,(function(e,t){null!=e&&(utils.isArray(e)?t+="[]":e=[e],utils.forEach(e,(function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),i.push(encode(t)+"="+encode(e))})))})),r=i.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},isAbsoluteURL$1=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},combineURLs$1=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t},settle=settle$1,buildURL=buildURL$1,buildFullPath=buildFullPath$1,isUploadFile$1=isUploadFile$2,format$1=function(e,t,n){var r=buildFullPath(e.baseURL,e.url),i=e.headers,a=_objectSpread2(_objectSpread2({},e),{},{url:buildURL(r,e.params,e.paramsSerializer),header:i});if(isUploadFile$1(e)?(delete i["Content-Type"],e.formData?a.formData=e.formData:"string"==typeof e.data?a.formData=JSON.parse(e.data):a.formData=e.data):"get"===e.method?a.data=e.data?e.data:e.params:a.data=e.data,e.auth){var o=e.auth.username||"",s=unescape(encodeURIComponent(e.auth.password))||"";i.Authorization="Basic "+btoa(o+":"+s)}return a.complete=function(r){var i={data:r.data,status:r.statusCode,statusText:r.errMsg,header:r.header,config:e};settle(t,n,i)},a},isUploadFile=isUploadFile$2,format=format$1;function uniappAdapter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var r=format(e,t,n),i=null;e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),i=isUploadFile(e)?uni.uploadFile(r):uni.request(r)}))}axiosAdapterUniapp.exports=uniappAdapter,axiosAdapterUniapp.exports.default=uniappAdapter;var axiosAdapterUniappExports=axiosAdapterUniapp.exports,uniappAdapter$1=getDefaultExportFromCjs$1(axiosAdapterUniappExports),ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,t){var n=this.__data__;if(n instanceof ListCache$1){var r=n.__data__;if(!Map$2||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(e,t),this.size=n.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack$1.prototype.clear=stackClear,Stack$1.prototype.delete=stackDelete,Stack$1.prototype.get=stackGet,Stack$1.prototype.has=stackHas,Stack$1.prototype.set=stackSet;var _Stack=Stack$1;function arrayEach$1(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var _arrayEach=arrayEach$1,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$5(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?baseAssignValue(n,s,l):assignValue$1(n,s,l)}return n}var _copyObject$1=copyObject$5;function baseTimes$1(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _baseTimes=baseTimes$1,baseGetTag$2=_baseGetTag,isObjectLike$4=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$4(e)&&baseGetTag$2(e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$3=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$3(e)&&hasOwnProperty$5.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments$1,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$3.exports,function(e,t){var n=_root,r=stubFalse_1,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;e.exports=s}(isBuffer$3,isBuffer$3.exports);var isBufferExports=isBuffer$3.exports,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(e){return isObjectLike$2(e)&&isLength$1(e.length)&&!!typedArrayTags[baseGetTag$1(e)]}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(e){return function(t){return e(t)}}var _baseUnary=baseUnary$3,_nodeUtil={exports:{}};_nodeUtil.exports,function(e,t){var n=_freeGlobal,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e2){}}();e.exports=o}(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$1,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$2=isArray_1,isBuffer$2=isBufferExports,isIndex=_isIndex,isTypedArray=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function arrayLikeKeys$2(e,t){var n=isArray$2(e),r=!n&&isArguments(e),i=!n&&!r&&isBuffer$2(e),a=!n&&!r&&!i&&isTypedArray(e),o=n||r||i||a,s=o?baseTimes(e.length,String):[],l=s.length;for(var c in e)!t&&!hasOwnProperty$4.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,l))||s.push(c);return s}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$4=Object.prototype;function isPrototype$3(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$4)}var _isPrototype=isPrototype$3;function overArg$2(e,t){return function(n){return e(t(n))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeys$1(e){if(!isPrototype$2(e))return nativeKeys(e);var t=[];for(var n in Object(e))hasOwnProperty$3.call(e,n)&&"constructor"!=n&&t.push(n);return t}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$2(e){return null!=e&&isLength(e.length)&&!isFunction(e)}var isArrayLike_1=isArrayLike$2,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$1=isArrayLike_1;function keys$3(e){return isArrayLike$1(e)?arrayLikeKeys$1(e):baseKeys(e)}var keys_1=keys$3,copyObject$4=_copyObject$1,keys$2=keys_1;function baseAssign$1(e,t){return e&&copyObject$4(t,keys$2(t),e)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var _nativeKeysIn=nativeKeysIn$1,isObject$2=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$2(e))return nativeKeysIn(e);var t=isPrototype$1(e),n=[];for(var r in e)("constructor"!=r||!t&&hasOwnProperty$2.call(e,r))&&n.push(r);return n}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$3(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$3,copyObject$3=_copyObject$1,keysIn$2=keysIn_1;function baseAssignIn$1(e,t){return e&&copyObject$3(t,keysIn$2(t),e)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports,function(e,t){var n=_root,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$1(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _copyArray=copyArray$1;function arrayFilter$1(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(e){return null==e?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),(function(t){return propertyIsEnumerable.call(e,t)})))}:stubArray$1,_getSymbols=getSymbols$3,copyObject$2=_copyObject$1,getSymbols$2=_getSymbols;function copySymbols$1(e,t){return copyObject$2(e,getSymbols$2(e),t)}var _copySymbols=copySymbols$1;function arrayPush$2(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var _arrayPush=arrayPush$2,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,arrayPush$1=_arrayPush,getPrototype$1=_getPrototype,getSymbols$1=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(e){for(var t=[];e;)arrayPush$1(t,getSymbols$1(e)),e=getPrototype$1(e);return t}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$1=_copyObject$1,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(e,t){return copyObject$1(e,getSymbolsIn$1(e),t)}var _copySymbolsIn=copySymbolsIn$1,arrayPush=_arrayPush,isArray$1=isArray_1;function baseGetAllKeys$2(e,t,n){var r=t(e);return isArray$1(e)?r:arrayPush(r,n(e))}var _baseGetAllKeys=baseGetAllKeys$2,baseGetAllKeys$1=_baseGetAllKeys,getSymbols=_getSymbols,keys$1=keys_1;function getAllKeys$1(e){return baseGetAllKeys$1(e,keys$1,getSymbols)}var _getAllKeys=getAllKeys$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(e){return baseGetAllKeys(e,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$3=baseGetTag;(DataView$1&&getTag$3(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag$3(new Map$1)!=mapTag$3||Promise$1&&getTag$3(Promise$1.resolve())!=promiseTag||Set$1&&getTag$3(new Set$1)!=setTag$3||WeakMap$1&&getTag$3(new WeakMap$1)!=weakMapTag$1)&&(getTag$3=function(e){var t=baseGetTag(e),n=t==objectTag$1?e.constructor:void 0,r=n?toSource(n):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag$3,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function initCloneArray$1(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$1.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var _initCloneArray=initCloneArray$1,root=_root,Uint8Array$2=root.Uint8Array,_Uint8Array=Uint8Array$2,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(e,t){var n=t?cloneArrayBuffer$2(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var _cloneRegExp=cloneRegExp$1,_Symbol=_Symbol$4,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(e,t){var n=t?cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(e,t,n){var r=e.constructor;switch(t){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new r(+e);case dataViewTag$1:return cloneDataView(e,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,n);case mapTag$2:return new r;case numberTag$1:case stringTag$1:return new r(e);case regexpTag$1:return cloneRegExp(e);case setTag$2:return new r;case symbolTag$1:return cloneSymbol(e)}}var _initCloneByTag=initCloneByTag$1,isObject$1=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function e(){}return function(t){if(!isObject$1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$1=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(e){return isObjectLike$1(e)&&getTag$2(e)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(e){return isObjectLike(e)&&getTag$1(e)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray=isArray_1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};function baseClone$1(e,t,n,r,i,a){var o,s=t&CLONE_DEEP_FLAG$1,l=t&CLONE_FLAT_FLAG,c=t&CLONE_SYMBOLS_FLAG$1;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!isObject(e))return e;var d=isArray(e);if(d){if(o=initCloneArray(e),!s)return copyArray(e,o)}else{var u=getTag(e),U=u==funcTag||u==genTag;if(isBuffer$1(e))return cloneBuffer(e,s);if(u==objectTag||u==argsTag||U&&!i){if(o=l||U?{}:initCloneObject(e),!s)return l?copySymbolsIn(e,baseAssignIn(o,e)):copySymbols(e,baseAssign(o,e))}else{if(!cloneableTags[u])return i?e:{};o=initCloneByTag(e,u,s)}}a||(a=new Stack);var F=a.get(e);if(F)return F;a.set(e,o),isSet(e)?e.forEach((function(r){o.add(baseClone$1(r,t,n,r,e,a))})):isMap(e)&&e.forEach((function(r,i){o.set(i,baseClone$1(r,t,n,i,e,a))}));var p=d?void 0:(c?l?getAllKeysIn:getAllKeys:l?keysIn:keys)(e);return arrayEach(p||e,(function(r,i){p&&(r=e[i=r]),assignValue(o,i,baseClone$1(r,t,n,i,e,a))})),o}cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep,cloneDeep$1=getDefaultExportFromCjs$1(cloneDeep_1),_excluded=["bucket"],_excluded2=["bucket","key","uploadId"],_excluded3=["bucket"],_excluded4=["bucket"],_excluded5=["bucket"],_excluded6=["bucket"],_excluded7=["bucket"],_excluded8=["bucket"],_excluded9=["accountId"],_excluded10=["accountId","maxResults"],_excluded11=["bucket"],_excluded12=["bucket","key","versionId"],_excluded13=["accountId","Id"],_excluded14=["bucket"],TosClientError=function(e){function t(e){var n;return _classCallCheck$1(this,t),n=_callSuper(this,t,[e]),Object.setPrototypeOf(n,t.prototype),n}return _inherits(t,e),_createClass$1(t)}(_wrapNativeSuper(Error)),CancelError=function(e){function t(e){var n;return _classCallCheck$1(this,t),n=_callSuper(this,t,[e]),Object.setPrototypeOf(n,t.prototype),n}return _inherits(t,e),_createClass$1(t)}(_wrapNativeSuper(Error)),makeArrayProp=function(e){return function(t){if(null!=e&&"object"===_typeof$1(e)){var n=get$1(e,t);Array.isArray(n)||set$1(e,t,null==n?[]:[n])}}},makeConvertProp=function(e){var t=function(n){if(Array.isArray(n))return n.map((function(e){return t(e)}));if("string"==typeof n)return e(n);if("object"===_typeof$1(n)&&null!=n){var r=Object.keys(n).reduce((function(e,r){return e[t(r)]=n[r],e}),{});return r}return n};return t},covertCamelCase2Kebab=makeConvertProp((function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()})),convertNormalCamelCase2Upper=makeConvertProp((function(e){return e[0].toUpperCase()+e.slice(1)})),getSortedQueryString=function(e){var t=[];return Object.keys(e).sort().forEach((function(n){t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])))})),t.join("&")},normalizeHeadersKey=function(e){var t=e||{},n={};Object.keys(t).forEach((function(e){null!=t[e]&&(n[e]=t[e])}));var r={};return Object.keys(n).forEach((function(e){var t=e.toLowerCase();r[t]=n[e]})),r},encodeHeadersValue=function(e){var t={};return Object.entries(e).forEach((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];t[r]="".concat(i).match(/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g).map((function(e){return e.length>1||e.charCodeAt(0)>=128?encodeURIComponent(e):e})).join("")})),t},getEndpoint=function(e){return"tos-".concat(e,".volces.com")},normalizeProxy=function(e){var t;return"string"==typeof e&&(e={url:e}),e&&null==(null==(t=e)?void 0:t.needProxyParams)&&(e.needProxyParams=!0),e};function safeAwait(e){return _safeAwait.apply(this,arguments)}function _safeAwait(){return(_safeAwait=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",[null,n]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[e.t0,null]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function safeSync(e){try{return[null,e()]}catch(err2){return[err2,null]}}function isBlob(e){return"undefined"!=typeof Blob&&e instanceof Blob}function isBuffer(e){return"undefined"!=typeof Buffer&&e instanceof Buffer}function obj2QueryStr(e){return e?Object.keys(e).map((function(t){var n="".concat(e[t]);return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))})).join("&"):""}function isCancelError(e){return e instanceof CancelError}var DEFAULT_PART_SIZE=20971520,getGMTDateStr=function(e){return e.toUTCString()},gmtDateOrStr=function(e){return"string"==typeof e?e:e.toUTCString()},requestHeadersMap={projectName:"x-tos-project-name",encodingType:"encoding-type",cacheControl:"cache-control",contentDisposition:"content-disposition",contentLength:"content-length",contentMD5:"content-md5",contentSHA256:"x-tos-content-sha256",contentEncoding:"content-encoding",contentLanguage:"content-language",contentType:"content-type",expires:["expires",getGMTDateStr],range:"range",ifMatch:"if-match",ifModifiedSince:["if-modified-since",gmtDateOrStr],ifNoneMatch:"if-none-match",ifUnmodifiedSince:["if-unmodified-since",gmtDateOrStr],acl:"x-tos-acl",grantFullControl:"x-tos-grant-full-control",grantRead:"x-tos-grant-read",grantReadAcp:"x-tos-grant-read-acp",grantWrite:"x-tos-grant-write",grantWriteAcp:"x-tos-grant-write-acp",serverSideEncryption:"x-tos-server-side-encryption",ssecAlgorithm:"x-tos-server-side-encryption-customer-algorithm",ssecKey:"x-tos-server-side-encryption-customer-key",ssecKeyMD5:"x-tos-server-side-encryption-customer-key-md5",copySourceRange:"x-tos-copy-source-range",copySourceIfMatch:"x-tos-copy-source-if-match",copySourceIfModifiedSince:["x-tos-copy-source-if-modified-since",gmtDateOrStr],copySourceIfNoneMatch:"x-tos-copy-source-if-none-match",copySourceIfUnmodifiedSince:"x-tos-copy-source-if-unmodified-since",copySourceSSECAlgorithm:"x-tos-copy-source-server-side-encryption-customer-algorithm",copySourceSSECKey:"x-tos-copy-source-server-side-encryption-customer-key",copySourceSSECKeyMD5:"x-tos-copy-source-server-side-encryption-customer-key-MD5",metadataDirective:"x-tos-metadata-directive",meta:function(e){return Object.keys(e).reduce((function(t,n){return t["x-tos-meta-".concat(n)]="".concat(e[n]),t}),{})},websiteRedirectLocation:"x-tos-website-redirect-location",storageClass:"x-tos-storage-class",azRedundancy:"x-tos-az-redundancy",trafficLimit:"x-tos-traffic-limit",callback:"x-tos-callback",callbackVar:"x-tos-callback-var",allowSameActionOverlap:["x-tos-allow-same-action-overlap",function(e){return String(e)}]},requestQueryMap={versionId:"versionId",process:"x-tos-process",saveBucket:"x-tos-save-bucket",saveObject:"x-tos-save-object",responseCacheControl:"response-cache-control",responseContentDisposition:"response-content-disposition",responseContentEncoding:"response-content-encoding",responseContentLanguage:"response-content-language",responseContentType:"response-content-type",responseExpires:["response-expires",function(e){return e.toUTCString()}]};function fillRequestHeaders(e,t){if(t.length){var n=e.headers||{};e.headers=n,t.forEach((function(t){var n=requestHeadersMap[t];if(!n)throw new TosClientError("`".concat(t,"` isn't in keys of `requestHeadersMap`"));var i=e[t];if(null!=i){var a="".concat(i);if("string"==typeof n)return r(n,a);if(Array.isArray(n))return r(n[0],n[1](i));var o=n(i);Object.entries(o).forEach((function(e){var t=_slicedToArray(e,2);r(t[0],t[1])}))}}))}function r(e,t){null==n[e]&&(n[e]=t)}}function fillRequestQuery(e,t,n){function r(e,n){null==t[e]&&(t[e]=n)}n.length&&n.forEach((function(t){var n=requestQueryMap[t];if(!n)throw new TosClientError("`".concat(t,"` isn't in keys of `requestQueryMap`"));var i=e[t];if(null!=i){var a="".concat(i);if("string"==typeof n)return r(n,a);if(Array.isArray(n))return r(n[0],n[1](i));var o=n(i);Object.entries(o).forEach((function(e){var t=_slicedToArray(e,2);r(t[0],t[1])}))}}))}var paramsSerializer=function(e){return qs.stringify(e)};function getNormalDataFromError(e,t){return{data:e,statusCode:t.statusCode,headers:t.headers,requestId:t.requestId,id2:t.id2}}function checkCRC64WithHeaders(e,t){var n=t["x-tos-hash-crc64ecma"];if(null!=n){var r="string"==typeof e?e:e.getCrc64();if(r!==n)throw new TosClientError("expect crc64 ".concat(n,", actual crc64 ").concat(r))}else console.warn("No x-tos-hash-crc64ecma in response's headers, please see https://www.volcengine.com/docs/6349/127737 to add `x-tos-hash-crc64ecma` to Expose-Headers field.")}function getEnc(e){switch(e){case"utf-8":return cryptoEncUtf8;case"base64":return cryptoEncBase64;case"hex":return cryptoEncHex;default:throw new TosClientError("The coding is not supported")}}function decode(e,t){return t?e.toString(getEnc(t)):e}var hmacSha256=function(e,t,n){return decode(cryptoHmacSha256(t,e),n)},hashSha256=function(e,t){return decode(cryptoHashSha256(e),t)},hashMd5=function(e,t){if(isBuffer(e))throw new TosClientError("not support buffer in browser environment");return decode(cryptoHashMd5(e),t)},parse=function(e,t){return getEnc(t).parse(e)},stringify=function(e,t){return getEnc(t).stringify(e)},cryptoBrowser={__proto__:null,hmacSha256:hmacSha256,hashSha256:hashSha256,hashMd5:hashMd5,parse:parse,stringify:stringify},crypto$1=null;crypto$1=cryptoBrowser;var _crypto=crypto$1,hmacSha256$1=_crypto.hmacSha256,hashSha256$1=_crypto.hashSha256,hashMd5$1=_crypto.hashMd5,parse$1=_crypto.parse,stringify$1=_crypto.stringify,SIG_QUERY={algorithm:"tos-algorithm",expiration:"tos-expiration",signame:"tos-signame",signature:"tos-signature",v4_algorithm:"X-Tos-Algorithm",v4_credential:"X-Tos-Credential",v4_date:"X-Tos-Date",v4_expires:"X-Tos-Expires",v4_signedHeaders:"X-Tos-SignedHeaders",v4_security_token:"X-Tos-Security-Token",v4_signature:"X-Tos-Signature",v4_content_sha:"X-Tos-Content-Sha256",v4_policy:"X-Tos-Policy"};function isDefaultPort(e){return!e||80===e||443===e}var v4Identifier="request",SignersV4=function(){return _createClass$1((function e(t,n){var r=this;_classCallCheck$1(this,e),this.options=void 0,this.credentials=void 0,this.signature=function(e,t,n){n||(n=r.credentials);var i=[],a=e.datetime,o=r.credentialString(a);return i.push(r.options.algorithm+" Credential="+n.GetAccessKey()+"/"+o),i.push("SignedHeaders="+r.signedHeaders(e)),i.push("Signature="+r.authorization(e,n,0)),i.join(", ")},this.signatureHeader=function(e,t,n){e.datetime=r.getDateTime();var i=new Map;if(!e.headers){e.headers={}}e.headers.host="".concat(e.host),isDefaultPort(e.port)||(e.headers.host+=":"+e.port),e.endpoints&&(e.headers.host="".concat(r.options.bucket,".").concat(e.endpoints)),i.set("host",e.headers.host),i.set("x-tos-date",e.datetime),i.set("x-tos-content-sha256",r.hexEncodedBodyHash()),r.options.securityToken&&i.set("x-tos-security-token",r.options.securityToken),i.forEach((function(t,n){n.startsWith("x-tos")&&(e.headers[n]=t)})),e.path=r.getEncodePath(e.path);var a=r.signature(e,0,n);return i.set("authorization",a),i},this.gnrCopySig=function(e,t){return{key:"",value:""}},this.getSignature=function(e,t){return{key:"",value:""}},this.getSignatureQuery=function(e,t){if(e.datetime=r.getDateTime(),!e.headers){e.headers={}}e.headers.host="".concat(e.host),isDefaultPort(e.port)||(e.headers.host+=":"+e.port),e.path=r.getEncodePath(e.path),e.endpoints&&(e.headers.host="".concat(r.options.bucket,".").concat(e.endpoints)),e.headers[SIG_QUERY.v4_date]=e.datetime;var n=r.credentialString(e.datetime),i=_objectSpread2(_objectSpread2({},e.query||{}),{},_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},SIG_QUERY.v4_algorithm,r.options.algorithm),SIG_QUERY.v4_content_sha,r.hexEncodedBodyHash()),SIG_QUERY.v4_credential,r.credentials.GetAccessKey()+"/"+n),SIG_QUERY.v4_date,e.datetime),SIG_QUERY.v4_expires,""+t),SIG_QUERY.v4_signedHeaders,r.signedHeaders(e)));return r.options.securityToken&&(i[SIG_QUERY.v4_security_token]=r.options.securityToken),e.query=getSortedQueryString(i),i[SIG_QUERY.v4_signature]=r.authorization(e,r.credentials,t),i},this.getSignaturePolicyQuery=function(e,t){e.datetime=r.getDateTime();var n=r.credentialString(e.datetime),i=_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},SIG_QUERY.v4_algorithm,r.options.algorithm),SIG_QUERY.v4_credential,r.credentials.GetAccessKey()+"/"+n),SIG_QUERY.v4_date,e.datetime),SIG_QUERY.v4_expires,""+t),SIG_QUERY.v4_policy,stringify$1(parse$1(JSON.stringify(e.policy),"utf-8"),"base64"));return r.options.securityToken&&(i[SIG_QUERY.v4_security_token]=r.options.securityToken),e.query=getSortedQueryString(i),i[SIG_QUERY.v4_signature]=r.authorization(e,r.credentials,t),i},this.hexEncodedBodyHash=function(){return"UNSIGNED-PAYLOAD"},this.authorization=function(e,t,n){if(!e.datetime)return"";var i=r.getSigningKey(t,e.datetime.substr(0,8));return hmacSha256$1(i,r.stringToSign(e.datetime,e),"hex")},this.getDateTime=function(){return new Date((new Date).toUTCString()).toISOString().replace(/\..+/,"").replace(/-/g,"").replace(/:/g,"")+"Z"},this.credentialString=function(e){return r.createScope(e.substr(0,8),r.options.region,r.options.serviceName)},this.createScope=function(e,t,n){return[e.substr(0,8),t,n,v4Identifier].join("/")},this.getSigningKey=function(e,t){var n=hmacSha256$1(e.GetSecretKey(),t),i=hmacSha256$1(n,r.options.region),a=hmacSha256$1(i,r.options.serviceName);return hmacSha256$1(a,v4Identifier)},this.stringToSign=function(e,t){if(!r.options.algorithm)return"";var n=[];n.push(r.options.algorithm),n.push(e),n.push(r.credentialString(e));var i="policy"in t?r.canonicalStringPolicy(t):r.canonicalString(t);return n.push(r.hexEncodedHash(i)),n.join("\n")},this.hexEncodedHash=function(e){return hashSha256$1(e,"hex")},this.canonicalString=function(e){var t=[];return t.push(e.method),t.push(e.path),t.push(r.getEncodePath(e.query,!1)),t.push(r.canonicalHeaders(e)+"\n"),t.push(r.signedHeaders(e)),t.push(r.hexEncodedBodyHash()),t.join("\n")},this.canonicalStringPolicy=function(e){var t=[];return t.push(r.getEncodePath(e.query,!1)),t.push(r.hexEncodedBodyHash()),t.join("\n")},this.canonicalHeaders=function(e){var t,n=[],i=_createForOfIteratorHelper$1(getNeedSignedHeaders(e.headers));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.headers[a];a=a.toLowerCase(),n.push(a+":"+r.canonicalHeaderValues(o.toString()))}}catch(err2){i.e(err2)}finally{i.f()}return n.join("\n")},this.canonicalHeaderValues=function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},this.signedHeaders=function(e){var t,n=[],r=_createForOfIteratorHelper$1(getNeedSignedHeaders(e.headers));try{for(r.s();!(t=r.n()).done;){var i=t.value;i=i.toLowerCase(),n.push(i)}}catch(err2){r.e(err2)}finally{r.f()}return n.sort().join(";")},this.options=t,this.credentials=n}),[{key:"getEncodePath",value:function(e){if(!e)return"";var t=e;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t=e.replace(/%2F/g,"/")),t=(t=(t=(t=(t=t.replace(/\(/g,"%28")).replace(/\)/g,"%29")).replace(/!/g,"%21")).replace(/\*/g,"%2A")).replace(/\'/g,"%27")}}])}(),ISigV4Credentials=function(){return _createClass$1((function e(t,n,r){_classCallCheck$1(this,e),this.securityToken=void 0,this.secretAccessKey=void 0,this.accessKeyId=void 0,this.accessKeyId=r,this.secretAccessKey=n,this.securityToken=t}),[{key:"GetAccessKey",value:function(){return this.accessKeyId}},{key:"GetSecretKey",value:function(){return this.secretAccessKey}}])}();function getNeedSignedHeaders(e){var t=[];return Object.keys(e||{}).forEach((function(n){("host"===n||n.startsWith("x-tos-"))&&null!=e[n]&&t.push(n)})),t.sort()}var TosServerError=function(e){function t(e){var n;_classCallCheck$1(this,t);var r=e.data;return(n=_callSuper(this,t,[r.Message])).code=void 0,n.data=void 0,n.statusCode=void 0,n.headers=void 0,n.requestId=void 0,n.id2=void 0,Object.setPrototypeOf(n,t.prototype),n.data=r,n.code=r.Code,n.statusCode=e.status,n.headers=e.headers,n.requestId=e.headers["x-tos-request-id"],n.id2=e.headers["x-tos-id-2"],n}return _inherits(t,e),_createClass$1(t)}(_wrapNativeSuper(Error)),TosServerCode,TosServerCode2;TosServerCode2=TosServerCode||(TosServerCode={}),TosServerCode2.NoSuchBucket="NoSuchBucket",TosServerCode2.NoSuchKey="NoSuchKey",TosServerCode2.AccessDenied="AccessDenied",TosServerCode2.MalformedAcl="MalformedAclError",TosServerCode2.UnexpectedContent="UnexpectedContent",TosServerCode2.InvalidRequest="InvalidRequest",TosServerCode2.MissingSecurityHeader="MissingSecurityHeader",TosServerCode2.InvalidArgument="InvalidArgument",TosServerCode2.EntityTooSmall="EntityTooSmall",TosServerCode2.InvalidBucketName="InvalidBucketName",TosServerCode2.BucketNotEmpty="BucketNotEmpty",TosServerCode2.TooManyBuckets="TooManyBuckets",TosServerCode2.BucketAlreadyExists="BucketAlreadyExists",TosServerCode2.MalformedBody="MalformedBody",TosServerCode2.NoSuchLifecycleConfiguration="NoSuchLifecycleConfiguration",TosServerCode2.ReplicationConfigurationNotFound="ReplicationConfigurationNotFoundError",TosServerCode2.InvalidLocationConstraint="InvalidLocationConstraint",TosServerCode2.AuthorizationQueryParametersError="AuthorizationQueryParametersError",TosServerCode2.RequestTimeTooSkewed="RequestTimeTooSkewed",TosServerCode2.SignatureDoesNotMatch="SignatureDoesNotMatch",TosServerCode2.RequestedRangeNotSatisfiable="Requested Range Not Satisfiable",TosServerCode2.PreconditionFailed="PreconditionFailed",TosServerCode2.BadDigest="BadDigest",TosServerCode2.InvalidDigest="InvalidDigest",TosServerCode2.EntityTooLarge="EntityTooLarge",TosServerCode2.UnImplemented="UnImplemented",TosServerCode2.MethodNotAllowed="MethodNotAllowed",TosServerCode2.InvalidAccessKeyId="InvalidAccessKeyId",TosServerCode2.InvalidSecurityToken="InvalidSecurityToken",TosServerCode2.ContentSHA256Mismatch="ContentSHA256Mismatch",TosServerCode2.ExceedQPSLimit="ExceedQPSLimit",TosServerCode2.ExceedRateLimit="ExceedRateLimit",TosServerCode2.NoSuchCORSConfiguration="NoSuchCORSConfiguration",TosServerCode2.NoSuchMirrorConfiguration="NoSuchMirrorConfiguration",TosServerCode2.NoSuchWebsiteConfiguration="NoSuchWebsiteConfiguration",TosServerCode2.MissingRequestBody="MissingRequestBodyError",TosServerCode2.BucketAlreadyOwnedByYou="BucketAlreadyOwnedByYou",TosServerCode2.NoSuchBucketPolicy="NoSuchBucketPolicy",TosServerCode2.PolicyTooLarge="PolicyTooLarge",TosServerCode2.MalformedPolicy="MalformedPolicy",TosServerCode2.InvalidKey="InvalidKey",TosServerCode2.MirrorFailed="MirrorFailed",TosServerCode2.Timeout="Timeout",TosServerCode2.OffsetNotMatched="OffsetNotMatched",TosServerCode2.NotAppendable="NotAppendable",TosServerCode2.ContextCanceled="ContextCanceled",TosServerCode2.InternalError="InternalError",TosServerCode2.TooManyRequests="TooManyRequests",TosServerCode2.TimeOut="TimeOut",TosServerCode2.ConcurrencyUpdateObjectLimit="ConcurrencyUpdateObjectLimit",TosServerCode2.DuplicateUpload="DuplicateUpload",TosServerCode2.DuplicateObject="DuplicateObject",TosServerCode2.InvalidVersionId="InvalidVersionId",TosServerCode2.StorageClassNotMatch="StorageClassNotMatch",TosServerCode2.UploadStatusNotUploading="UploadStatusNotUploading",TosServerCode2.PartSizeNotMatch="PartSizeNotMatch",TosServerCode2.NoUploadPart="NoUploadPart",TosServerCode2.PartsLenInvalid="PartsLenInvalid",TosServerCode2.PartsIdxSmall="PartsIdxSmall",TosServerCode2.PartSizeSmall="PartSizeSmall",TosServerCode2.PrefixNotNextKeyPrefix="PrefixNotNextKeyPrefix",TosServerCode2.InvalidPart="InvalidPart",TosServerCode2.InvalidPartOffset="InvalidPartOffset",TosServerCode2.MismatchObject="MismatchObject",TosServerCode2.UploadStatusMismatch="UploadStatusMismatch",TosServerCode2.CompletingStatusNoExpiration="CompletingStatusNoExpiration",TosServerCode2.Found="Found",TosServerCode2.InvalidRedirectLocation="InvalidRedirectLocation";var version="2.7.3",mimeTypes={"3gp":"video/3gpp","7z":"application/x-7z-compressed",abw:"application/x-abiword",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",alc:"chemical/x-alchemy",amr:"audio/amr",anx:"application/annodex",apk:"application/vnd.android.package-archive",appcache:"text/cache-manifest",art:"image/x-jg",asc:"text/plain",asf:"video/x-ms-asf",aso:"chemical/x-ncbi-asn1-binary",asx:"video/x-ms-asf",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsrv:"application/atomserv+xml",au:"audio/basic",avi:"video/x-msvideo",awb:"audio/amr-wb",axa:"audio/annodex",axv:"video/annodex",b:"chemical/x-molconn-Z",bak:"application/x-trash",bat:"application/x-msdos-program",bcpio:"application/x-bcpio",bib:"text/x-bibtex",bin:"application/octet-stream",bmp:"image/x-ms-bmp",boo:"text/x-boo",book:"application/x-maker",brf:"text/plain",bsd:"chemical/x-crossfire",c:"text/x-csrc","c++":"text/x-c++src",c3d:"chemical/x-chem3d",cab:"application/x-cab",cac:"chemical/x-cache",cache:"chemical/x-cache",cap:"application/vnd.tcpdump.pcap",cascii:"chemical/x-cactvs-binary",cat:"application/vnd.ms-pki.seccat",cbin:"chemical/x-cactvs-binary",cbr:"application/x-cbr",cbz:"application/x-cbz",cc:"text/x-c++src",cda:"application/x-cdf",cdf:"application/x-cdf",cdr:"image/x-coreldraw",cdt:"image/x-coreldrawtemplate",cdx:"chemical/x-cdx",cdy:"application/vnd.cinderella",cef:"chemical/x-cxf",cer:"chemical/x-cerius",chm:"chemical/x-chemdraw",chrt:"application/x-kchart",cif:"chemical/x-cif",class:"application/java-vm",cls:"text/x-tex",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",cod:"application/vnd.rim.cod",com:"application/x-msdos-program",cpa:"chemical/x-compass",cpio:"application/x-cpio",cpp:"text/x-c++src",cpt:"application/mac-compactpro",cr2:"image/x-canon-cr2",crl:"application/x-pkcs7-crl",crt:"application/x-x509-ca-cert",crw:"image/x-canon-crw",csd:"audio/csound",csf:"chemical/x-cache-csf",csh:"application/x-csh",csm:"chemical/x-csml",csml:"chemical/x-csml",css:"text/css",csv:"text/csv",ctab:"chemical/x-cactvs-binary",ctx:"chemical/x-ctx",cu:"application/cu-seeme",cub:"chemical/x-gaussian-cube",cxf:"chemical/x-cxf",cxx:"text/x-c++src",d:"text/x-dsrc",davmount:"application/davmount+xml",dcm:"application/dicom",dcr:"application/x-director",ddeb:"application/vnd.debian.binary-package",dif:"video/dv",diff:"text/x-diff",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dl:"video/dl",dll:"application/x-msdos-program",dmg:"application/x-apple-diskimage",dms:"application/x-dms",doc:"application/msword",docm:"application/vnd.ms-word.document.macroEnabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroEnabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dv:"video/dv",dvi:"application/x-dvi",dx:"chemical/x-jcamp-dx",dxr:"application/x-director",emb:"chemical/x-embl-dl-nucleotide",embl:"chemical/x-embl-dl-nucleotide",eml:"message/rfc822",eot:"application/vnd.ms-fontobject",eps:"application/postscript",eps2:"application/postscript",eps3:"application/postscript",epsf:"application/postscript",epsi:"application/postscript",erf:"image/x-epson-erf",es:"application/ecmascript",etx:"text/x-setext",exe:"application/x-msdos-program",ez:"application/andrew-inset",fb:"application/x-maker",fbdoc:"application/x-maker",fch:"chemical/x-gaussian-checkpoint",fchk:"chemical/x-gaussian-checkpoint",fig:"application/x-xfig",flac:"audio/flac",fli:"video/fli",flv:"video/x-flv",fm:"application/x-maker",frame:"application/x-maker",frm:"application/x-maker",gal:"chemical/x-gaussian-log",gam:"chemical/x-gamess-input",gamin:"chemical/x-gamess-input",gan:"application/x-ganttproject",gau:"chemical/x-gaussian-input",gcd:"text/x-pcs-gcd",gcf:"application/x-graphing-calculator",gcg:"chemical/x-gcg8-sequence",gen:"chemical/x-genbank",gf:"application/x-tex-gf",gif:"image/gif",gjc:"chemical/x-gaussian-input",gjf:"chemical/x-gaussian-input",gl:"video/gl",gnumeric:"application/x-gnumeric",gpt:"chemical/x-mopac-graph",gsf:"application/x-font",gsm:"audio/x-gsm",gtar:"application/x-gtar",gz:"application/gzip",h:"text/x-chdr","h++":"text/x-c++hdr",hdf:"application/x-hdf",hh:"text/x-c++hdr",hin:"chemical/x-hin",hpp:"text/x-c++hdr",hqx:"application/mac-binhex40",hs:"text/x-haskell",hta:"application/hta",htc:"text/x-component",htm:"text/html",html:"text/html",hwp:"application/x-hwp",hxx:"text/x-c++hdr",ica:"application/x-ica",ice:"x-conference/x-cooltalk",ico:"image/vnd.microsoft.icon",ics:"text/calendar",icz:"text/calendar",ief:"image/ief",iges:"model/iges",igs:"model/iges",iii:"application/x-iphone",info:"application/x-info",inp:"chemical/x-gamess-input",ins:"application/x-internet-signup",iso:"application/x-iso9660-image",isp:"application/x-internet-signup",ist:"chemical/x-isostar",istr:"chemical/x-isostar",jad:"text/vnd.sun.j2me.app-descriptor",jam:"application/x-jam",jar:"application/java-archive",java:"text/x-java",jdx:"chemical/x-jcamp-dx",jmz:"application/x-jmol",jng:"image/x-jng",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpf:"image/jpx",jpg:"image/jpeg",jpg2:"image/jp2",jpm:"image/jpm",jpx:"image/jpx",js:"application/javascript",json:"application/json",kar:"audio/midi",key:"application/pgp-keys",kil:"application/x-killustrator",kin:"chemical/x-kinemage",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",kpr:"application/x-kpresenter",kpt:"application/x-kpresenter",ksp:"application/x-kspread",kwd:"application/x-kword",kwt:"application/x-kword",latex:"application/x-latex",lha:"application/x-lha",lhs:"text/x-literate-haskell",lin:"application/bbolin",lsf:"video/x-la-asf",lsx:"video/x-la-asf",ltx:"text/x-tex",ly:"text/x-lilypond",lyx:"application/x-lyx",lzh:"application/x-lzh",lzx:"application/x-lzx",m3g:"application/m3g",m3u:"audio/x-mpegurl",m3u8:"application/x-mpegURL",m4a:"audio/mpeg",maker:"application/x-maker",man:"application/x-troff-man",mbox:"application/mbox",mcif:"chemical/x-mmcif",mcm:"chemical/x-macmolecule",mdb:"application/msaccess",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/x-mif",mkv:"video/x-matroska",mm:"application/x-freemind",mmd:"chemical/x-macromodel-input",mmf:"application/vnd.smaf",mml:"text/mathml",mmod:"chemical/x-macromodel-input",mng:"video/x-mng",moc:"text/x-moc",mol:"chemical/x-mdl-molfile",mol2:"chemical/x-mol2",moo:"chemical/x-mopac-out",mop:"chemical/x-mopac-input",mopcrt:"chemical/x-mopac-input",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpc:"chemical/x-mopac-input",mpe:"video/mpeg",mpeg:"video/mpeg",mpega:"audio/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",mph:"application/x-comsol",mpv:"video/x-matroska",ms:"application/x-troff-ms",msh:"model/mesh",msi:"application/x-msi",mvb:"chemical/x-mopac-vib",mxf:"application/mxf",mxu:"video/vnd.mpegurl",nb:"application/mathematica",nbp:"application/mathematica",nc:"application/x-netcdf",nef:"image/x-nikon-nef",nwc:"application/x-nwc",o:"application/x-object",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",old:"application/x-trash",one:"application/onenote",onepkg:"application/onenote",onetmp:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opus:"audio/ogg",orc:"audio/csound",orf:"image/x-olympus-orf",otf:"application/font-sfnt",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",oza:"application/x-oz-application",p:"text/x-pascal",p7r:"application/x-pkcs7-certreqresp",pac:"application/x-ns-proxy-autoconfig",pas:"text/x-pascal",pat:"image/x-coreldrawpattern",patch:"text/x-diff",pbm:"image/x-portable-bitmap",pcap:"application/vnd.tcpdump.pcap",pcf:"application/x-font-pcf","pcf.Z":"application/x-font-pcf",pcx:"image/pcx",pdb:"chemical/x-pdb",pdf:"application/pdf",pfa:"application/x-font",pfb:"application/x-font",pfr:"application/font-tdpfr",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pgp:"application/pgp-encrypted",php:"#application/x-httpd-php",php3:"#application/x-httpd-php3",php3p:"#application/x-httpd-php3-preprocessed",php4:"#application/x-httpd-php4",php5:"#application/x-httpd-php5",phps:"#application/x-httpd-php-source",pht:"#application/x-httpd-php",phtml:"#application/x-httpd-php",pk:"application/x-tex-pk",pl:"text/x-perl",pls:"audio/x-scpls",pm:"text/x-perl",png:"image/png",pnm:"image/x-portable-anymap",pot:"text/plain",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppt:"application/vnd.ms-powerpoint",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",prf:"application/pics-rules",prt:"chemical/x-ncbi-asn1-ascii",ps:"application/postscript",psd:"image/x-photoshop",py:"text/x-python",pyc:"application/x-python-code",pyo:"application/x-python-code",qgs:"application/x-qgis",qt:"video/quicktime",qtl:"application/x-quicktimeplayer",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rar:"application/rar",ras:"image/x-cmu-raster",rb:"application/x-ruby",rd:"chemical/x-mdl-rdfile",rdf:"application/rdf+xml",rdp:"application/x-rdp",rgb:"image/x-rgb",rhtml:"#application/x-httpd-eruby",rm:"audio/x-pn-realaudio",roff:"application/x-troff",ros:"chemical/x-rosdal",rpm:"application/x-redhat-package-manager",rss:"application/x-rss+xml",rtf:"application/rtf",rtx:"text/richtext",rxn:"chemical/x-mdl-rxnfile",scala:"text/x-scala",sce:"application/x-scilab",sci:"application/x-scilab",sco:"audio/csound",scr:"application/x-silverlight",sct:"text/scriptlet",sd:"chemical/x-mdl-sdfile",sd2:"audio/x-sd2",sda:"application/vnd.stardivision.draw",sdc:"application/vnd.stardivision.calc",sdd:"application/vnd.stardivision.impress",sds:"application/vnd.stardivision.chart",sdw:"application/vnd.stardivision.writer",ser:"application/java-serialized-object",sfd:"application/vnd.font-fontforge-sfd",sfv:"text/x-sfv",sgf:"application/x-go-sgf",sgl:"application/vnd.stardivision.writer-global",sh:"application/x-sh",shar:"application/x-shar",shp:"application/x-qgis",shtml:"text/html",shx:"application/x-qgis",sid:"audio/prs.sid",sig:"application/pgp-signature",sik:"application/x-trash",silo:"model/mesh",sis:"application/vnd.symbian.install",sisx:"x-epoc/x-sisx-app",sit:"application/x-stuffit",sitx:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",sldm:"application/vnd.ms-powerpoint.slide.macroEnabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",smi:"application/smil+xml",smil:"application/smil+xml",snd:"audio/basic",spc:"chemical/x-galactic-spc",spl:"application/x-futuresplash",spx:"audio/ogg",sql:"application/x-sql",src:"application/x-wais-source",srt:"text/plain",stc:"application/vnd.sun.xml.calc.template",std:"application/vnd.sun.xml.draw.template",sti:"application/vnd.sun.xml.impress.template",stw:"application/vnd.sun.xml.writer.template",sty:"text/x-tex",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",svgz:"image/svg+xml",sw:"chemical/x-swissprot",swf:"application/x-shockwave-flash",swfl:"application/x-shockwave-flash",sxc:"application/vnd.sun.xml.calc",sxd:"application/vnd.sun.xml.draw",sxg:"application/vnd.sun.xml.writer.global",sxi:"application/vnd.sun.xml.impress",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",t:"application/x-troff",tar:"application/x-tar",taz:"application/x-gtar-compressed",tcl:"application/x-tcl",tex:"text/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tgf:"chemical/x-mdl-tgf",tgz:"application/x-gtar-compressed",thmx:"application/vnd.ms-officetheme",tif:"image/tiff",tiff:"image/tiff",tk:"text/x-tcl",tm:"text/texmacs",torrent:"application/x-bittorrent",tr:"application/x-troff",ts:"video/MP2T",tsp:"application/dsptype",tsv:"text/tab-separated-values",ttf:"application/font-sfnt",ttl:"text/turtle",txt:"text/plain",uls:"text/iuls",ustar:"application/x-ustar",val:"chemical/x-ncbi-asn1-binary",vcard:"text/vcard",vcd:"application/x-cdlink",vcf:"text/vcard",vcs:"text/x-vcalendar",vmd:"chemical/x-vmd",vms:"chemical/x-vamas-iso14976",vrm:"x-world/x-vrml",vrml:"model/vrml",vsd:"application/vnd.visio",vss:"application/vnd.visio",vst:"application/vnd.visio",vsw:"application/vnd.visio",wad:"application/x-doom",wasm:"application/wasm",wav:"audio/wav",wax:"audio/x-ms-wax",wbmp:"image/vnd.wap.wbmp",wbxml:"application/vnd.wap.wbxml",webm:"video/webm",wk:"application/x-123",wm:"video/x-ms-wm",wma:"audio/x-ms-wma",wmd:"application/x-ms-wmd",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wmz:"application/x-ms-wmz",woff:"application/font-woff",wp5:"application/vnd.wordperfect5.1",wpd:"application/vnd.wordperfect",wrl:"model/vrml",wsc:"text/scriptlet",wvx:"video/x-ms-wvx",wz:"application/x-wingz",x3d:"model/x3d+xml",x3db:"model/x3d+binary",x3dv:"model/x3d+vrml",xbm:"image/x-xbitmap",xcf:"application/x-xcf",xcos:"application/x-scilab-xcos",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlb:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xml:"application/xml",xpi:"application/x-xpinstall",xpm:"image/x-xpixmap",xsd:"application/xml",xsl:"application/xslt+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",xtel:"chemical/x-xtel",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",xz:"application/x-xz",zip:"application/zip"},CRC=function(){return _createClass$1((function e(){_classCallCheck$1(this,e)}),[{key:"reset",value:function(){}},{key:"updateBlob",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TosClientError("Not implemented.(CRC may cause browser lag.)");case 1:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})},{key:"update",value:function(e){throw new TosClientError("Not implemented.(CRC may cause browser lag.)")}}]);var e}(),browserCRC={__proto__:null,CRC:CRC},crcModule=null;crcModule=browserCRC;var _crcModule=crcModule;_crcModule.CRC;var combineCrc64=_crcModule.combineCrc64,minRate=1024,minCapacity=10240,TosHeader,TosHeader2;function createDefaultRateLimiter(e,t){var n,r=Math.max(minCapacity,e),i={rate:Math.max(minRate,t),capacity:r,currentAmount:r,lastConsumeTime:Date.now()};return{Acquire:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t>i.capacity&&(t=i.capacity),n=Date.now(),(r=Math.floor((n-i.lastConsumeTime)/1e3*i.rate))+i.currentAmount>i.capacity?i.currentAmount=i.capacity:i.currentAmount+=r,!(t>i.currentAmount)){e.next=7;break}return a=(t-i.currentAmount)/i.rate,e.abrupt("return",{ok:!1,timeToWait:Math.ceil(1e3*a)});case 7:return i.lastConsumeTime=n,i.currentAmount=i.currentAmount-t,e.abrupt("return",{ok:!0,timeToWait:0});case 10:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}}TosHeader2=TosHeader||(TosHeader={}),TosHeader2.HeaderRestore="x-tos-restore",TosHeader2.HeaderRestoreExpiryDays="x-tos-restore-expiry-days",TosHeader2.HeaderRestoreRequestDate="x-tos-restore-request-date",TosHeader2.HeaderRestoreTier="x-tos-restore-tier",TosHeader2.HeaderProjectName="x-tos-project-name",TosHeader2.HeaderReplicationStatus="x-tos-replication-status";var RestoreOngoingRequestTrueStr='ongoing-request="true"',getObjectInputKey=function(e){return"string"==typeof e?e:e.key},DEFAULT_CONTENT_TYPE="application/octet-stream";function lookupMimeType(e){var t=e.lastIndexOf(".");if(!(t<=0)){var n=e.slice(t+1).toLowerCase();return mimeTypes[n]}}function validateObjectName(e){if(("string"==typeof e?e:e.key).length<1)throw new TosClientError("invalid object name, the length must be greater than 1")}function getSize(e,t){if(isBuffer(e))return e.length;if(isBlob(e))return e.size;if(t&&t["content-length"]){var n=+t["content-length"];if(n>=0)return n}return null}function getEmitReadBodyConfig(e){var t=e.body;e.dataTransferCallback,e.makeRetryStream,e.rateLimiter;var n=t;return{body:n,makeRetryStream:void 0}}function getCRCBodyConfig(e){return _getCRCBodyConfig.apply(this,arguments)}function _getCRCBodyConfig(){return(_getCRCBodyConfig=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=t.beforeRetry,i=t.makeRetryStream,t.enableCRC,e.abrupt("return",{body:n,beforeRetry:r,makeRetryStream:i});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getNewBodyConfig(e){return _getNewBodyConfig.apply(this,arguments)}function _getNewBodyConfig(){return(_getNewBodyConfig=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=getEmitReadBodyConfig(t),t=_objectSpread2(_objectSpread2({},t),n),r=getCRCBodyConfig(t),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getCopySourceHeaderValue(e,t){return"/".concat(e,"/").concat(encodeURIComponent(t))}var getRestoreInfoFromHeaders=function(e){if(e){var t=null==e?void 0:e[TosHeader.HeaderRestore];if(t){var n,r,i,a,o=null!=(n=null==(r=(null!=t?t:"").split('",')[1])||null==r.split||null==(i=r.split("="))?void 0:i[1])?n:"",s=(null==t?void 0:t.trim())===RestoreOngoingRequestTrueStr,l={RestoreStatus:{OngoingRequest:s,ExpiryDate:o}};if(s)l.RestoreParam={ExpiryDays:e[TosHeader.HeaderRestoreExpiryDays]?Number(e[TosHeader.HeaderRestoreExpiryDays]):0,RequestDate:null!=(a=e[TosHeader.HeaderRestoreRequestDate])?a:"",Tier:e[TosHeader.HeaderRestoreTier]};return l}}},retryNamespace="__retryConfig__";function isNetworkError(e){var t;return!e.response&&Boolean(e.code)||e.response&&!(null!=(t=e.response.headers)&&t["x-tos-request-id"])}function isCanRetryStatusCode(e){if(!e.response)return!1;var t=e.response.status;return 429===t||t>=500}var BROWSER_NEED_DELETE_HEADERS=["content-length","user-agent","host"],makeAxiosInst=function(e){var t=axios$1.create();t.defaults.auth=void 0,t.defaults.responseType="json",t.defaults.params=void 0,t.defaults.headers={},t.defaults.withCredentials=!1,t.defaults.maxContentLength=-1,t.defaults.maxBodyLength=-1,t.defaults.maxRedirects=0,t.defaults.validateStatus=function(e){return e>=200&&e<300},t.defaults.decompress=!1,t.defaults.transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t.interceptors.request.use((function(e){return e.headers?(Object.keys(e.headers).forEach((function(t){BROWSER_NEED_DELETE_HEADERS.includes(t.toLowerCase())&&delete e.headers[t]})),e):e}));var n=function(e){var t;return e.headers=e.headers||e.header||(null==e||null==(t=e.response)?void 0:t.headers)||{},e};function r(e){Object.entries(e).forEach((function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=_slicedToArray(safeSync((function(){return decodeURI(i)})),2),o=a[0],s=a[1];if(!o&&null!=s&&s!==i){for(var l=[],c="".concat(i).match(/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g),d=s.match(/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g),u=0,U=0;u<d.length;){var F=d[u];if(F!==c[U]){var p=encodeURIComponent(F);F.length>1||F.charCodeAt(0)>=128?l.push(F):l.push(p),++u,U+=p.length}else l.push(F),++u,++U}e[r]=l.join("")}}))}return t.interceptors.response.use(n,(function(e){return n(e),Promise.reject(e)})),t.interceptors.response.use((function(e){return e.headers?(r(e.headers),e):e}),function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(axios$1.isAxiosError(t)){e.next=2;break}return e.abrupt("return",Promise.reject(t));case 2:if(i=null==(n=t.response)?void 0:n.headers){e.next=5;break}return e.abrupt("return",Promise.reject(t));case 5:return r(i),e.abrupt("return",Promise.reject(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.interceptors.response.use(void 0,function(){var n=_asyncToGenerator(_regeneratorRuntime().mark((function n(r){var i,a,o,s,l,c;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r.config){n.next=3;break}return n.abrupt("return",Promise.reject(r));case 3:if(a[retryNamespace]||(a[retryNamespace]={}),o=a[retryNamespace],s=null!=(i=o.retryCount)?i:0,l=a.data,(isNetworkError(r)||isCanRetryStatusCode(r))&&s<e&&true){n.next=11;break}return n.abrupt("return",Promise.reject(r));case 11:return c=_objectSpread2(_objectSpread2({},a),{},_defineProperty$1({data:l},retryNamespace,_objectSpread2(_objectSpread2({},o),{},{retryCount:s+1}))),null==o.beforeRetry||o.beforeRetry(),n.abrupt("return",t(c));case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),t},TOS=createDebug("TOS"),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encoder(e){for(var t,n,r=String(e),i=0,a=chars,o="";r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if((n=r.charCodeAt(i+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return o}var platFormName="wexin";function getRequest(){switch(!0){case"object"===("undefined"==typeof wx?"undefined":_typeof$1(wx)):return platFormName="wexin",wx.request.bind(wx);case"object"===("undefined"==typeof swan?"undefined":_typeof$1(swan)):return platFormName="baidu",swan.request.bind(swan);case"object"===("undefined"==typeof dd?"undefined":_typeof$1(dd)):return platFormName="dd",dd.httpRequest.bind(dd);case"object"===("undefined"==typeof my?"undefined":_typeof$1(my)):return platFormName="alipay",(my.request||my.httpRequest).bind(my);default:return wx.request.bind(wx)}}function transformResponse(e,t,n){var r=e.header||e.headers,i=e.statusCode||e.status,a="";return 200===i?a="OK":400===i&&(a="Bad Request"),{data:e.data,status:i,statusText:a,headers:r,config:t,request:n}}function transformError(e,t,n){switch(platFormName){case"wexin":-1!==e.errMsg.indexOf("request:fail abort")?t(createError$2("Request aborted",n,"ECONNABORTED","")):-1!==e.errMsg.indexOf("timeout")?t(createError$2("timeout of "+n.timeout+"ms exceeded",n,"ECONNABORTED","")):t(createError$2("Network Error",n,null,""));break;case"dd":case"alipay":[14,19].includes(e.error)?t(createError$2("Request aborted",n,"ECONNABORTED","",e)):[13].includes(e.error)?t(createError$2("timeout of "+n.timeout+"ms exceeded",n,"ECONNABORTED","",e)):t(createError$2("Network Error",n,null,"",e));break;case"baidu":t(createError$2("Network Error",n,null,""))}}function transformConfig(e){var t;["alipay","dd"].includes(platFormName)&&(e.headers=e.header,delete e.header,"dd"===platFormName&&"GET"!==e.method&&"application/json"===(null==(t=e.headers)?void 0:t["Content-Type"])&&"[object Object]"===Object.prototype.toString.call(e.data)&&(e.data=JSON.stringify(e.data)));return e}var isJSONstr=function(e){try{return"string"==typeof e&&e.length&&(e=JSON.parse(e))&&"[object Object]"===Object.prototype.toString.call(e)}catch(t){return!1}};function mpAdapter(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).transformRequestOption,n=void 0===t?function(e){return e}:t,r=getRequest();return new Promise((function(t,i){var a,o=e.data,s=e.headers,l={method:e.method&&e.method.toUpperCase()||"GET",url:buildURL$4(buildFullPath$3(e.baseURL,e.url),e.params,e.paramsSerializer),timeout:e.timeout,success:function(n){var r=transformResponse(n,e,l);settle$3(t,i,r)},fail:function(t){transformError(t,i,e)},complete:function(){a=void 0}};if(e.auth){var c=e.auth.username||"",d=e.auth.password||"";s.Authorization="Basic "+encoder(c+":"+d)}utils$d.forEach(s,(function(e,t){var n=t.toLowerCase();(void 0===o&&"content-type"===n||"referer"===n)&&delete s[t]})),l.header=s,e.responseType&&(l.responseType=e.responseType),e.cancelToken&&e.cancelToken.promise.then((function(e){a&&(a.abort(),i(e),a=void 0)})),isJSONstr(o)&&(o=JSON.parse(o)),void 0!==o&&(l.data=o),a=r(n(transformConfig(l)))}))}var TOSBase=function(){return _createClass$1((function e(t){var n=this;_classCallCheck$1(this,e),this.opts=void 0,this.axiosInst=void 0,this.userAgent=void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.getObjectPath=function(e){var t="string"!=typeof e&&e.bucket||n.opts.bucket,r="string"==typeof e?e:e.key;if(!t)throw new TosClientError("Must provide bucket param");return"/".concat(t,"/").concat(encodeURIComponent(r))},this.setObjectContentTypeHeader=function(e,t){if(null==t["content-type"]){var r=DEFAULT_CONTENT_TYPE,i=getObjectInputKey(e);n.opts.autoRecognizeContentType&&(r=lookupMimeType(i)||r),r&&(t["content-type"]=r)}},this.getNormalDataFromError=getNormalDataFromError,this.opts=this.normalizeOpts(t),this.userAgent=this.getUserAgent(),this.axiosInst=makeAxiosInst(this.opts.maxRetryCount)}),[{key:"normalizeOpts",value:function(e){var t,n;["accessKeyId","accessKeySecret","stsToken","region","endpoint"].forEach((function(t){var n=e[t];"string"==typeof n&&(e[t]=n.trim())}));var r=["accessKeyId","accessKeySecret","region"].filter((function(t){return!e[t]})).join(", ");if(r)throw new TosClientError("lack params: ".concat(r,"."));var i=e.endpoint||getEndpoint(e.region);if(!i)throw new TosClientError("the value of param region is invalid, correct values are cn-beijing, cn-nantong etc.");if(i.includes("s3"))throw new TosClientError("do not support s3 endpoint, please use tos endpoint.");var a=null==e.secure||!!e.secure,o=function(e,t){return null==e?t:e};if(null!=(t=e.enableCRC)&&t)throw new TosClientError("not support crc in browser environment");return _objectSpread2(_objectSpread2({},e),{},{endpoint:i,secure:a,enableVerifySSL:o(e.enableVerifySSL,!0),autoRecognizeContentType:o(e.autoRecognizeContentType,!0),requestTimeout:o(e.requestTimeout,12e4),connectionTimeout:o(e.connectionTimeout,1e4),maxConnections:o(e.maxConnections,1024),idleConnectionTime:o(e.idleConnectionTime,3e4),maxRetryCount:o(e.maxRetryCount,3),enableCRC:null!=(n=e.enableCRC)&&n,requestAdapter:getAdapter()})}},{key:"getUserAgent",value:function(){return"tos-".concat("js","-sdk/").concat(version)}},{key:"fetch",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a,o){var s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(null==o?void 0:o.handleResponse)||function(e){return e.data},l=(null==o?void 0:o.needMd5)||!1,a&&l&&(c=hashMd5$1(JSON.stringify(a),"base64"),i["content-md5"]=c),d=null!=o&&o.subdomainBucket&&T.opts.forcePathStyle?[T.opts.endpoint,"/".concat(o.subdomainBucket).concat(n)]:null!=o&&o.subdomainBucket&&!T.opts.isCustomDomain?/^(\d|:)/.test(T.opts.endpoint)?[T.opts.endpoint,"/".concat(o.subdomainBucket).concat(n)]:["".concat(null==o?void 0:o.subdomainBucket,".").concat(T.opts.endpoint),n]:[T.opts.endpoint,n],u=_slicedToArray(d,2),U=u[0],F=u[1],n=F,i=encodeHeadersValue(i),p={endpoints:void 0,bucket:"",method:t,headers:_objectSpread2({},i),path:n,query:getSortedQueryString(r),host:U},Q=new ISigV4Credentials(this.opts.stsToken,this.opts.accessKeySecret,this.opts.accessKeyId),h=new SignersV4({algorithm:"TOS4-HMAC-SHA256",region:this.opts.region,serviceName:"tos",bucket:"",securityToken:this.opts.stsToken},Q),R=h.signatureHeader(p),_=_objectSpread2({},i),S={method:t,baseURL:"http".concat(this.opts.secure?"s":"","://").concat(U),url:n,params:r,headers:_,data:a},R.forEach((function(e,t){S.headers[t]=e})),null==(B=normalizeProxy(this.opts.proxy))||!B.url||this.opts.proxyHost){e.next=19;break}S.baseURL=B.url,null!=B&&B.needProxyParams&&(S.params["x-proxy-tos-host"]=U,delete _.host),e.next=23;break;case 19:if(!this.opts.proxyHost){e.next=23;break}if(this.opts.proxyPort){e.next=22;break}throw new TosClientError("The `proxyPort` is required if `proxyHost` is truly.");case 22:S.proxy={host:this.opts.proxyHost,port:this.opts.proxyPort,protocol:"http"};case 23:return _["user-agent"]=this.userAgent,this.opts.requestTimeout>0&&this.opts.requestTimeout!==1/0&&(S.timeout=this.opts.requestTimeout),e.prev=25,delete(m=_objectSpread2({},S)).httpAgent,delete m.httpsAgent,TOS("reqOpts: ",m),e.next=32,this.axiosInst(_objectSpread2(_objectSpread2(_objectSpread2({},{maxBodyLength:1/0,maxContentLength:1/0,adapter:this.opts.requestAdapter}),S),(null==o?void 0:o.axiosOpts)||{}));case 32:return f=e.sent,E=s(f),e.abrupt("return",{data:E,statusCode:f.status,headers:f.headers,requestId:f.headers["x-tos-request-id"],id2:f.headers["x-tos-id-2"]});case 37:if(e.prev=37,e.t0=e.catch(25),!axios$1.isAxiosError(e.t0)||null==(v=e.t0.response)||null==(y=v.headers)||!y["x-tos-request-id"]){e.next=44;break}throw g=e.t0.response,TOS("TosServerError response: ",g),new TosServerError(g);case 44:throw TOS("err: ",e.t0),e.t0;case 46:case"end":return e.stop()}}),e,this,[[25,37]])}))),function(e,t,r,i,a,o){return n.apply(this,arguments)})},{key:"fetchBucket",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a,o){var s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t||this.opts.bucket){e.next=3;break}throw new TosClientError("Must provide bucket param");case 3:return e.abrupt("return",this.fetch(n,"/",r,i,a,_objectSpread2(_objectSpread2({},o),{},{subdomainBucket:s})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,a,o){return t.apply(this,arguments)})},{key:"_fetchObject",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a,o){var s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="string"!=typeof t&&t.bucket||this.opts.bucket,l="string"==typeof t?t:t.key,s){e.next=4;break}throw new TosClientError("Must provide bucket param");case 4:return validateObjectName(l),e.abrupt("return",this.fetch(n,"/".concat(encodeURIComponent(l)),r,i,a,_objectSpread2(_objectSpread2({},o),{},{subdomainBucket:s})));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n,r,i,a,o){return e.apply(this,arguments)})},{key:"getSignatureQuery",value:function(e){var t=new ISigV4Credentials(this.opts.stsToken,this.opts.accessKeySecret,this.opts.accessKeyId),n=new SignersV4({algorithm:"TOS4-HMAC-SHA256",region:this.opts.endpoint,serviceName:"tos",bucket:e.bucket,securityToken:this.opts.stsToken},t);return"policy"in e?n.getSignaturePolicyQuery({policy:e.policy},e.expires):n.getSignatureQuery({method:e.method,path:e.path,endpoints:e.subdomain?e.endpoint:void 0,host:e.endpoint,query:e.query},e.expires)}},{key:"normalizeBucketInput",value:function(e){return"string"==typeof e?{bucket:e}:e}},{key:"normalizeObjectInput",value:function(e){return"string"==typeof e?{key:e}:e}}]);var e,t,n}(),DataTransferType,DataTransferType2;function getAdapter(){if("undefined"==typeof window||void 0===window.location)switch(!0){case"undefined"!=typeof wx:case"undefined"!=typeof swan:case"undefined"!=typeof dd:case"undefined"!=typeof my:return mpAdapter;case"undefined"!=typeof uni:return uniappAdapter$1;default:return}}function listBuckets(){return _listBuckets.apply(this,arguments)}function _listBuckets(){return _listBuckets=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},fillRequestHeaders(_objectSpread2(_objectSpread2({},r.length>0&&void 0!==r[0]?r[0]:{}),{},{headers:t}),["projectName"]),e.next=5,this.fetch("GET","/",{},t);case 5:return n=e.sent,makeArrayProp(n.data)("Buckets"),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),_listBuckets.apply(this,arguments)}function createBucket(e){return _createBucket.apply(this,arguments)}function _createBucket(){return(_createBucket=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.bucket||this.opts.bucket)){e.next=8;break}if(!(n.length<3||n.length>63)){e.next=4;break}throw new TosClientError("invalid bucket name, the length must be [3, 63]");case 4:if(/^([a-z]|-|\d)+$/.test(n)){e.next=6;break}throw new TosClientError("invalid bucket name, the character set is illegal");case 6:if(!/^-/.test(n)&&!/-$/.test(n)){e.next=8;break}throw new TosClientError("invalid bucket name, the bucket name can be neither starting with '-' nor ending with '-'");case 8:return r=t.headers=normalizeHeadersKey(t.headers),fillRequestHeaders(t,["acl","grantFullControl","grantRead","grantReadAcp","grantWrite","grantWriteAcp","storageClass","azRedundancy","projectName"]),e.next=12,this.fetchBucket(t.bucket,"PUT",{},r);case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteBucket(e){return _deleteBucket.apply(this,arguments)}function _deleteBucket(){return(_deleteBucket=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t,"DELETE",{},{}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function headBucket(e){return _headBucket.apply(this,arguments)}function _headBucket(){return(_headBucket=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t,"HEAD",{},{},void 0,{handleResponse:function(e){return _objectSpread2(_objectSpread2({},e.headers),{},{ProjectName:e.headers[TosHeader.HeaderProjectName]})}}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketStorageClass(e){return _putBucketStorageClass.apply(this,arguments)}function _putBucketStorageClass(){return(_putBucketStorageClass=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=t.storageClass,e.abrupt("return",this.fetchBucket(n,"PUT",{storageClass:""},{"x-tos-storage-class":r}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketAcl(e){return _putBucketAcl.apply(this,arguments)}function _putBucketAcl(){return(_putBucketAcl=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.acl&&(n["x-tos-acl"]=t.acl),e.next=4,this.fetchBucket(t.bucket,"PUT",{acl:""},n,t.aclBody,{needMd5:!0});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketAcl(e){return _getBucketAcl.apply(this,arguments)}function _getBucketAcl(){return(_getBucketAcl=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t,"GET",{acl:""},{}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getObject(e){return _getObject.apply(this,arguments)}function _getObject(){return _getObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},(n="string"==typeof t?{key:t}:t).versionId&&(r.versionId=n.versionId),i=normalizeHeadersKey(null==n?void 0:n.headers),a=(null==n?void 0:n.response)||{},Object.keys(a).forEach((function(e){var t=a[e];null!=t&&(r["response-".concat(e)]=t)})),e.abrupt("return",this._fetchObject(t,"GET",r,i,void 0,{axiosOpts:{responseType:"arraybuffer"}}));case 7:case"end":return e.stop()}}),e,this)}))),_getObject.apply(this,arguments)}DataTransferType2=DataTransferType||(DataTransferType={}),DataTransferType2[DataTransferType2.Started=1]="Started",DataTransferType2[DataTransferType2.Rw=2]="Rw",DataTransferType2[DataTransferType2.Succeed=3]="Succeed",DataTransferType2[DataTransferType2.Failed=4]="Failed";var BROWSER_DATATYPE=["blob"];function checkSupportDataType(e){var t=[];if(!(t=BROWSER_DATATYPE).includes(e))throw new TosClientError("The value of `dataType` only supports `".concat(t.join(" | "),"` in ").concat("browser"," environment"))}function getObjectV2(e){return _getObjectV.apply(this,arguments)}function _getObjectV(){return _getObjectV=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=normalizeHeadersKey((n="string"==typeof t?{key:t}:t).headers),n.headers=r,i=n.dataType||"stream",n.dataType=i,checkSupportDataType(i),a={},o=(null==n?void 0:n.response)||{},Object.keys(o).forEach((function(e){var t=o[e];null!=t&&(a["response-".concat(e)]=t)})),fillRequestQuery(n,a,["versionId","process","saveBucket","saveObject","responseCacheControl","responseContentDisposition","responseContentEncoding","responseContentLanguage","responseContentType","responseExpires"]),fillRequestHeaders(n,["ifMatch","ifModifiedSince","ifNoneMatch","ifUnmodifiedSince","ssecAlgorithm","ssecKey","ssecKeyMD5","range","trafficLimit"]),null!=n.range||null==n.rangeStart&&null==n.rangeEnd||(l=null!=n.rangeStart?"".concat(n.rangeStart):"",c=null!=n.rangeEnd?"".concat(n.rangeEnd):"",d="bytes=".concat(l,"-").concat(c),r.range=null!=(s=r.range)?s:d),u=0,U=-1,F=n.dataTransferStatusChange,p=n.progress,Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t<0)&&(F||p)){u+=t,null==F||F({type:e,rwOnceBytes:t,consumedBytes:u,totalBytes:U});var n=U<0?0:0===U?e===DataTransferType.Succeed?1:0:u/U;1===n?e===DataTransferType.Succeed&&(null==p||p(n)):null==p||p(n)}},Q(DataTransferType.Started),e.next=20,safeAwait(this._fetchObject(t,"GET",a,r,void 0,{axiosOpts:{responseType:"arraybuffer",onDownloadProgress:function(e){U=e.total,Q(DataTransferType.Rw,e.loaded-u)}}}));case 20:if(h=e.sent,R=_slicedToArray(h,2),_=R[0],S=R[1],!_&&S){e.next=27;break}throw Q(DataTransferType.Failed),_;case 27:return B=S.headers,m=S.data,U=+(B["content-length"]||0),"blob"===i&&(m=new Blob([S.data],{type:B["content-type"]})),Q(DataTransferType.Succeed),f=_objectSpread2(_objectSpread2({},S),{},{data:{content:m,etag:B.etag||"",lastModified:B["last-modified"]||"",hashCrc64ecma:B["x-tos-hash-crc64ecma"]||"",ReplicationStatus:B[TosHeader.HeaderReplicationStatus]}}),(E=getRestoreInfoFromHeaders(B))&&(f.data.RestoreInfo=E),e.abrupt("return",f);case 36:case"end":return e.stop()}}),e,this)}))),_getObjectV.apply(this,arguments)}function getObjectToFile(e){return _getObjectToFile.apply(this,arguments)}function _getObjectToFile(){return(_getObjectToFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TosClientError("getObjectToFile doesn't support in browser environment");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function putObject(e){return _putObject2.apply(this,arguments)}function _putObject2(){return(_putObject2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_putObject.call(this,t));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _putObject(e){return _putObject3.apply(this,arguments)}function _putObject3(){return _putObject3=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeObjectInput(t),n=t.headers=normalizeHeadersKey(t.headers),fillRequestHeaders(t,["contentLength","contentMD5","contentSHA256","cacheControl","contentDisposition","contentEncoding","contentLanguage","contentType","expires","acl","grantFullControl","grantRead","grantReadAcp","grantWrite","grantWriteAcp","ssecAlgorithm","ssecKey","ssecKeyMD5","serverSideEncryption","meta","websiteRedirectLocation","storageClass","trafficLimit","callback","callbackVar"]),this.setObjectContentTypeHeader(t,n),r=getSize(t.body,n),(i=null!=r)||!t.dataTransferStatusChange&&!t.progress||console.warn("Don't get totalSize of putObject's body, the `dataTransferStatusChange` and `progress` callback will not trigger. You can use `putObjectFromFile` instead"),a=0,s=(o=t).dataTransferStatusChange,l=o.progress,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i&&!(t<0)&&(s||l)){a+=t,null==s||s({type:e,rwOnceBytes:t,consumedBytes:a,totalBytes:r});var n=0===r?e===DataTransferType.Succeed?1:0:a/r;1===n?e===DataTransferType.Succeed&&(null==l||l(n)):null==l||l(n)}},e.next=12,getNewBodyConfig({body:t.body,dataTransferCallback:function(e){return c(DataTransferType.Rw,e)},makeRetryStream:t.makeRetryStream,enableCRC:this.opts.enableCRC,rateLimiter:t.rateLimiter});case 12:return d=e.sent,c(DataTransferType.Started),u=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h._fetchObject(t,"PUT",{},n,d.body||"",{handleResponse:function(e){var n,r=_objectSpread2({},e.headers);return null!=(n=t)&&n.callback&&e.data&&(r.CallbackResult="".concat(JSON.stringify(e.data))),r},axiosOpts:_defineProperty$1(_defineProperty$1({},retryNamespace,{beforeRetry:function(){a=0,null==d.beforeRetry||d.beforeRetry()},makeRetryStream:d.makeRetryStream}),"onUploadProgress",(function(e){c(DataTransferType.Rw,e.loaded-a)}))});case 2:return r=e.sent,h.opts.enableCRC&&d.crc&&checkCRC64WithHeaders(d.crc,r.headers),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=17,safeAwait(u());case 17:if(U=e.sent,F=_slicedToArray(U,2),p=F[0],Q=F[1],!p&&Q){e.next=24;break}throw c(DataTransferType.Failed),p;case 24:return c(DataTransferType.Succeed),e.abrupt("return",Q);case 26:case"end":return e.stop()}}),e,this)}))),_putObject3.apply(this,arguments)}function putObjectFromFile(e){return _putObjectFromFile.apply(this,arguments)}function _putObjectFromFile(){return(_putObjectFromFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw normalizeHeadersKey(t.headers),new TosClientError("putObjectFromFile doesn't support in browser environment");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fetchObject(e){return _fetchObject3.apply(this,arguments)}function _fetchObject3(){return(_fetchObject3=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers=normalizeHeadersKey(t.headers),fillRequestHeaders(t,["acl","grantFullControl","grantRead","grantReadAcp","grantWriteAcp","ssecAlgorithm","ssecKey","ssecKeyMD5","meta","storageClass"]),e.next=4,this._fetchObject(t,"POST",{fetch:""},n,{URL:t.url,IgnoreSameKey:t.ignoreSameKey,ContentMD5:t.contentMD5},{needMd5:!0});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putFetchTask(e){return _putFetchTask.apply(this,arguments)}function _putFetchTask(){return(_putFetchTask=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers=normalizeHeadersKey(t.headers),fillRequestHeaders(t,["acl","grantFullControl","grantRead","grantReadAcp","grantWriteAcp","ssecAlgorithm","ssecKey","ssecKeyMD5","meta","storageClass"]),e.next=4,this._fetchObject(t,"POST",{fetchTask:""},n,{URL:t.url,IgnoreSameKey:t.ignoreSameKey,ContentMD5:t.contentMD5,Object:t.key},{needMd5:!0});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function listObjects(){return _listObjects.apply(this,arguments)}function _listObjects(){return _listObjects=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=a.length>0&&void 0!==a[0]?a[0]:{}).bucket,n=_objectWithoutProperties(t,_excluded),e.next=4,this.fetchBucket(t.bucket,"GET",covertCamelCase2Kebab(n),{});case 4:return r=e.sent,(i=makeArrayProp(r.data))("CommonPrefixes"),i("Contents"),i("Versions"),i("DeleteMarkers"),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)}))),_listObjects.apply(this,arguments)}function listObjectVersions(){return _listObjectVersions.apply(this,arguments)}function _listObjectVersions(){return _listObjectVersions=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",this.listObjects(_objectSpread2({versions:""},t)));case 2:case"end":return e.stop()}}),e,this)}))),_listObjectVersions.apply(this,arguments)}function getPreSignedUrl(e){validateObjectName(e);var t="string"==typeof e?{key:e}:e,n=t.alternativeEndpoint||this.opts.endpoint,r=!t.alternativeEndpoint&&!t.isCustomDomain,i=t.bucket||this.opts.bucket||"";if(r&&!i)throw new TosClientError("Must provide bucket param");var a,o,s=_slicedToArray((a=encodeURIComponent(t.key),o=t.key.split("/").map((function(e){return encodeURIComponent(e)})).join("/"),r?["".concat(i,".").concat(n),"/".concat(o),"/".concat(a)]:[n,"/".concat(o),"/".concat(a)]),3),l=s[0],c=s[1],d=s[2],u=t.query||{},U=function(e,t){null==u[e]&&null!=t&&(u[e]=t)},F=t.response||{};Object.keys(F).forEach((function(e){var t=e,n=covertCamelCase2Kebab(t);U("response-".concat(n),F[t])})),t.versionId&&U("versionId",t.versionId);var p=this.getSignatureQuery({bucket:i,method:t.method||"GET",path:d,endpoint:n,subdomain:r,expires:t.expires||1800,query:u}),Q=normalizeProxy(this.opts.proxy),h="http".concat(this.opts.secure?"s":"","://").concat(l);null!=Q&&Q.url&&(h=Q.url.replace(/\/+$/g,""),null!=Q&&Q.needProxyParams&&(p["x-proxy-tos-host"]=l));var R=Object.keys(p).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(p[e]))})).join("&");return"".concat(h).concat(c,"?").concat(R)}function headObject(e){return _headObject.apply(this,arguments)}function _headObject(){return _headObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=normalizeHeadersKey((n="string"==typeof t?{key:t}:t).headers),n.headers=r,i={},n.versionId&&(i.versionId=n.versionId),fillRequestHeaders(n,["ifMatch","ifModifiedSince","ifNoneMatch","ifUnmodifiedSince","ssecAlgorithm","ssecKey","ssecKeyMD5"]),e.abrupt("return",this._fetchObject(t,"HEAD",i,(null==n?void 0:n.headers)||{},void 0,{handleResponse:function(e){var t=_objectSpread2(_objectSpread2({},e.headers),{},{ReplicationStatus:e.headers[TosHeader.HeaderReplicationStatus]}),n=getRestoreInfoFromHeaders(e.headers);return n&&(t.RestoreInfo=n),t}}));case 7:case"end":return e.stop()}}),e,this)}))),_headObject.apply(this,arguments)}function deleteObject(e){return _deleteObject.apply(this,arguments)}function _deleteObject(){return(_deleteObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},(n="string"==typeof t?{key:t}:t).versionId&&(r.versionId=n.versionId),e.next=5,this._fetchObject(t,"DELETE",r,{},{},{handleResponse:function(e){return e.headers}});case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function renameObject(e){return _renameObject.apply(this,arguments)}function _renameObject(){return(_renameObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._fetchObject(t,"PUT",{rename:"",name:t.newKey},{},""));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteMultiObjects(e){return _deleteMultiObjects.apply(this,arguments)}function _deleteMultiObjects(){return(_deleteMultiObjects=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Quiet:t.quiet,Objects:t.objects.map((function(e){return{Key:e.key,VersionId:e.versionId}}))},e.next=3,this.fetchBucket(t.bucket,"POST",{delete:""},{},n);case 3:return r=e.sent,(i=makeArrayProp(r.data))("Deleted"),i("Error"),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function copyObject(e){return _copyObject.apply(this,arguments)}function _copyObject(){return(_copyObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=normalizeHeadersKey(t.headers),t.headers=n,fillRequestHeaders(t,["cacheControl","contentDisposition","contentEncoding","contentLanguage","contentType","expires","copySourceIfMatch","copySourceIfModifiedSince","copySourceIfNoneMatch","copySourceIfUnmodifiedSince","copySourceSSECAlgorithm","copySourceSSECKey","copySourceSSECKeyMD5","acl","grantFullControl","grantRead","grantReadAcp","grantWriteAcp","ssecAlgorithm","ssecKey","ssecKeyMD5","serverSideEncryption","metadataDirective","meta","websiteRedirectLocation","storageClass","trafficLimit"]),t.srcBucket&&t.srcKey&&(i=getCopySourceHeaderValue(t.srcBucket,t.srcKey),t.srcVersionID&&(i+="?versionId=".concat(t.srcVersionID)),n["x-tos-copy-source"]=null!=(r=n["x-tos-copy-source"])?r:i),e.next=6,safeAwait(this._fetchObject(t,"PUT",{},n));case 6:if(a=e.sent,o=_slicedToArray(a,2),s=o[0],l=o[1],!s&&l&&l.data.ETag){e.next=12;break}throw s;case 12:return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getObjectAcl(e){return _getObjectAcl.apply(this,arguments)}function _getObjectAcl(){return(_getObjectAcl=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={acl:""},(n="string"==typeof t?{key:t}:t).versionId&&(r.versionId=n.versionId),e.abrupt("return",this._fetchObject(t,"GET",r,{}));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putObjectAcl(e){return _putObjectAcl.apply(this,arguments)}function _putObjectAcl(){return(_putObjectAcl=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers=normalizeHeadersKey(t.headers),r={acl:""},t.versionId&&(r.versionId=t.versionId),fillRequestHeaders(t,["acl"]),e.abrupt("return",this._fetchObject(t,"PUT",r,n,t.aclBody));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function abortMultipartUpload(e){return _abortMultipartUpload.apply(this,arguments)}function _abortMultipartUpload(){return(_abortMultipartUpload=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._fetchObject(t,"DELETE",{uploadId:t.uploadId},{}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function completeMultipartUpload(e){return _completeMultipartUpload.apply(this,arguments)}function _completeMultipartUpload(){return _completeMultipartUpload=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.headers=null!=(n=t.headers)?n:{},fillRequestHeaders(t,["callback","callbackVar"]),r=function(e){var n=t.bucket||a.opts.bucket||"",r=e.headers,i=_objectSpread2(_objectSpread2({},{VersionID:r["x-tos-version-id"],ETag:r.etag,Bucket:n,Location:r.location,HashCrc64ecma:r["x-tos-hash-crc64ecma"],Key:t.key}),e.data);return t.callback&&(i.CallbackResult="".concat(JSON.stringify(e.data))),i},!t.completeAll){e.next=7;break}if(!((null==(i=t.parts)?void 0:i.length)>0)){e.next=6;break}throw new TosClientError("Should not specify both 'completeAll' and 'parts' params.");case 6:return e.abrupt("return",this._fetchObject(t,"POST",{uploadId:t.uploadId},_objectSpread2(_objectSpread2({},t.headers),{},{"x-tos-complete-all":"yes"}),void 0,{handleResponse:r}));case 7:return e.abrupt("return",this._fetchObject(t,"POST",{uploadId:t.uploadId},_objectSpread2({},t.headers),{Parts:t.parts.map((function(e){return{ETag:e.eTag,PartNumber:e.partNumber}}))},{handleResponse:r}));case 8:case"end":return e.stop()}}),e,this)}))),_completeMultipartUpload.apply(this,arguments)}function createMultipartUpload(e){return _createMultipartUpload.apply(this,arguments)}function _createMultipartUpload(){return(_createMultipartUpload=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeObjectInput(t),n=normalizeHeadersKey(t.headers),t.headers=n,fillRequestHeaders(t,["encodingType","cacheControl","contentDisposition","contentEncoding","contentLanguage","contentType","expires","acl","grantFullControl","grantRead","grantReadAcp","grantWriteAcp","ssecAlgorithm","ssecKey","ssecKeyMD5","serverSideEncryption","meta","websiteRedirectLocation","storageClass"]),this.setObjectContentTypeHeader(t,n),e.abrupt("return",this._fetchObject(t,"POST",{uploads:""},n,""));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var MIN_PART_SIZE_EXCEPT_LAST_ONE=5242880,MAX_PART_NUMBER=1e4,calculateSafePartSize=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t;t<MIN_PART_SIZE_EXCEPT_LAST_ONE&&(r=MIN_PART_SIZE_EXCEPT_LAST_ONE,n&&console.warn("partSize has been set to ".concat(r,", because the partSize you provided is less than the minimal size of multipart")));var i=Math.ceil(e/MAX_PART_NUMBER);return t<i&&(r=i,n&&console.warn("partSize has been set to ".concat(r,", because the partSize you provided causes the number of part excesses 10,000"))),r},UploadEventType,UploadEventType2;function listParts(e){return _listParts.apply(this,arguments)}function _listParts(){return(_listParts=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.bucket,t.key,n=t.uploadId,r=_objectWithoutProperties(t,_excluded2),e.next=3,this._fetchObject(t,"GET",_objectSpread2({uploadId:n},covertCamelCase2Kebab(r)),{});case 3:return i=e.sent,makeArrayProp(i.data)("Parts"),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _uploadPart(e){return _uploadPart2.apply(this,arguments)}function _uploadPart2(){return _uploadPart2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uploadId,r=t.partNumber,i=t.body,a=t.enableContentMD5,o=void 0!==a&&a,s=normalizeHeadersKey(t.headers),t.headers=s,fillRequestHeaders(t,["trafficLimit","ssecAlgorithm","ssecKey","ssecKeyMD5"]),(l=getSize(i))&&null==s["content-length"]&&(s["content-length"]=l.toFixed(0)),o&&null==s["content-md5"]&&console.warn("current not support enableMD5Checksum"),c=getSize(t.body,s),(d=null!=c)||!t.dataTransferStatusChange&&!t.progress||console.warn("Don't get totalSize of uploadPart's body, the `dataTransferStatusChange` callback will not trigger. You can use `uploadPartFromFile` instead"),u=0,U=t.dataTransferStatusChange,F=t.progress,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(d&&!(t<0)&&(U||F)){u+=t,null==U||U({type:e,rwOnceBytes:t,consumedBytes:u,totalBytes:c});var n=0===c?e===DataTransferType.Succeed?1:0:u/c;1===n?e===DataTransferType.Succeed&&(null==F||F(n)):null==F||F(n)}},e.next=15,getNewBodyConfig({body:t.body,dataTransferCallback:function(e){return p(DataTransferType.Rw,e)},beforeRetry:t.beforeRetry,makeRetryStream:t.makeRetryStream,enableCRC:this.opts.enableCRC,rateLimiter:t.rateLimiter});case 15:return Q=e.sent,p(DataTransferType.Started),h=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m._fetchObject(t,"PUT",{partNumber:r,uploadId:n},s,Q.body,{handleResponse:function(e){return{partNumber:r,ETag:e.headers.etag,serverSideEncryption:e.headers["x-tos-server-side-encryption"],serverSideEncryptionKeyId:e.headers["x-tos-server-side-encryption-kms-key-id"],ssecAlgorithm:e.headers["x-tos-server-side-encryption-customer-algorithm"],ssecKeyMD5:e.headers["x-tos-server-side-encryption-customer-key-MD5"],hashCrc64ecma:e.headers["x-tos-hash-crc64ecma"]}},axiosOpts:_defineProperty$1(_defineProperty$1({},retryNamespace,{beforeRetry:function(){u=0,null==Q.beforeRetry||Q.beforeRetry()},makeRetryStream:Q.makeRetryStream}),"onUploadProgress",(function(e){p(DataTransferType.Rw,e.loaded-u)}))});case 2:return i=e.sent,m.opts.enableCRC&&Q.crc&&checkCRC64WithHeaders(Q.crc,i.headers),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=20,safeAwait(h());case 20:if(R=e.sent,_=_slicedToArray(R,2),S=_[0],!(B=_[1])||B.data.ETag){e.next=26;break}throw new TosClientError("No ETag in uploadPart's response headers, please see https://www.volcengine.com/docs/6349/127737 to fix CORS problem");case 26:if(!S&&B){e.next=29;break}throw p(DataTransferType.Failed),S;case 29:return p(DataTransferType.Succeed),e.abrupt("return",B);case 31:case"end":return e.stop()}}),e,this)}))),_uploadPart2.apply(this,arguments)}function uploadPart(e){return _uploadPart3.apply(this,arguments)}function _uploadPart3(){return(_uploadPart3=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_uploadPart.call(this,t));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function uploadPartFromFile(e){return _uploadPartFromFile.apply(this,arguments)}function _uploadPartFromFile(){return(_uploadPartFromFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TosClientError("uploadPartFromFile doesn't support in browser environment");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function listMultipartUploads(){return _listMultipartUploads.apply(this,arguments)}function _listMultipartUploads(){return _listMultipartUploads=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=a.length>0&&void 0!==a[0]?a[0]:{}).bucket,n=_objectWithoutProperties(t,_excluded3),e.next=4,this.fetchBucket(t.bucket,"GET",_objectSpread2({uploads:""},covertCamelCase2Kebab(n)),{});case 4:return r=e.sent,(i=makeArrayProp(r.data))("Uploads"),i("CommonPrefixes"),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),_listMultipartUploads.apply(this,arguments)}function appendObject(e){return _appendObject.apply(this,arguments)}function _appendObject(){return _appendObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t=this.normalizeObjectInput(t),r=t.headers=normalizeHeadersKey(t.headers),fillRequestHeaders(t,["contentLength","cacheControl","contentDisposition","contentEncoding","contentLanguage","contentType","expires","acl","grantFullControl","grantRead","grantReadAcp","grantWriteAcp","meta","websiteRedirectLocation","storageClass","trafficLimit"]),this.setObjectContentTypeHeader(t,r),i=getSize(t.body,r),a=null!=i){e.next=8;break}throw new TosClientError("appendObject needs to know the content length in advance");case 8:if(r["content-length"]=r["content-length"]||"".concat(i),!this.opts.enableCRC||0===t.offset||t.preHashCrc64ecma){e.next=11;break}throw new TosClientError("must provide preHashCrc64ecma if enableCRC is true and offset is non-zero");case 11:return o=0,l=(s=t).dataTransferStatusChange,c=s.progress,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a&&!(t<0)&&(l||c)){o+=t,null==l||l({type:e,rwOnceBytes:t,consumedBytes:o,totalBytes:i});var n=0===i?e===DataTransferType.Succeed?1:0:o/i;1===n?e===DataTransferType.Succeed&&(null==c||c(n)):null==c||c(n)}},e.next=16,getNewBodyConfig({body:t.body,dataTransferCallback:function(e){return d(DataTransferType.Rw,e)},makeRetryStream:void 0,enableCRC:this.opts.enableCRC,rateLimiter:t.rateLimiter});case 16:return u=e.sent,d(DataTransferType.Started),U=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R._fetchObject(t,"POST",{append:"",offset:n.offset},r,u.body||"",{handleResponse:function(e){return _objectSpread2(_objectSpread2({},e.headers),{},{nextAppendOffset:+e.headers["x-tos-next-append-offset"],hashCrc64ecma:e.headers["x-tos-hash-crc64ecma"]})},axiosOpts:_defineProperty$1(_defineProperty$1({},retryNamespace,{beforeRetry:function(){o=0,null==u.beforeRetry||u.beforeRetry()},makeRetryStream:u.makeRetryStream}),"onUploadProgress",(function(e){d(DataTransferType.Rw,e.loaded-o)}))});case 2:return a=e.sent,R.opts.enableCRC&&u.crc&&checkCRC64WithHeaders(combineCrc64(n.preHashCrc64ecma||"0",u.crc.getCrc64(),i),a.headers),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=21,safeAwait(U());case 21:if(F=e.sent,p=_slicedToArray(F,2),Q=p[0],h=p[1],!Q&&h){e.next=28;break}throw d(DataTransferType.Failed),Q;case 28:return d(DataTransferType.Succeed),e.abrupt("return",h);case 30:case"end":return e.stop()}}),e,this)}))),_appendObject.apply(this,arguments)}function setObjectMeta(e){return _setObjectMeta.apply(this,arguments)}function _setObjectMeta(){return(_setObjectMeta=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n="string"==typeof t?{key:t}:t).headers=normalizeHeadersKey(n.headers),fillRequestHeaders(n,["cacheControl","contentDisposition","contentEncoding","contentLanguage","contentType","expires","meta"]),i={metadata:""},n.versionId&&(i.versionId=n.versionId),e.abrupt("return",this._fetchObject(t,"POST",i,r));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function uploadPartCopy(e){return _uploadPartCopy.apply(this,arguments)}function _uploadPartCopy(){return(_uploadPartCopy=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uploadId,r=t.partNumber,i=normalizeHeadersKey(t.headers),t.headers=i,fillRequestHeaders(t,["copySourceRange","copySourceSSECAlgorithm","copySourceSSECKey","copySourceSSECKeyMD5","ssecAlgorithm","ssecKey","ssecKeyMD5","trafficLimit"]),t.srcBucket&&t.srcKey&&(o=getCopySourceHeaderValue(t.srcBucket,t.srcKey),t.srcVersionID&&(o+="?versionId=".concat(t.srcVersionID)),i["x-tos-copy-source"]=null!=(a=i["x-tos-copy-source"])?a:o),null!=t.copySourceRange||null==t.copySourceRangeStart&&null==t.copySourceRangeEnd||(l=null!=t.copySourceRangeStart?"".concat(t.copySourceRangeStart):"",c=null!=t.copySourceRangeEnd?"".concat(t.copySourceRangeEnd):"",d="bytes=".concat(l,"-").concat(c),i["x-tos-copy-source-range"]=null!=(s=i["x-tos-copy-source-range"])?s:d),e.next=8,safeAwait(this._fetchObject(t,"PUT",{partNumber:r,uploadId:n},i,void 0,{handleResponse:function(e){return _objectSpread2(_objectSpread2({},e.data),{},{SSECAlgorithm:e.headers[requestHeadersMap.ssecAlgorithm],SSECKeyMD5:e.headers[requestHeadersMap.ssecKeyMD5]})}}));case 8:if(u=e.sent,U=_slicedToArray(u,2),F=U[0],p=U[1],!F&&p&&p.data.ETag){e.next=14;break}throw F;case 14:return e.abrupt("return",p);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}UploadEventType2=UploadEventType||(UploadEventType={}),UploadEventType2[UploadEventType2.CreateMultipartUploadSucceed=1]="CreateMultipartUploadSucceed",UploadEventType2[UploadEventType2.CreateMultipartUploadFailed=2]="CreateMultipartUploadFailed",UploadEventType2[UploadEventType2.UploadPartSucceed=3]="UploadPartSucceed",UploadEventType2[UploadEventType2.UploadPartFailed=4]="UploadPartFailed",UploadEventType2[UploadEventType2.UploadPartAborted=5]="UploadPartAborted",UploadEventType2[UploadEventType2.CompleteMultipartUploadSucceed=6]="CompleteMultipartUploadSucceed",UploadEventType2[UploadEventType2.CompleteMultipartUploadFailed=7]="CompleteMultipartUploadFailed";var CHECKPOINT_FILE_NAME_PLACEHOLDER="@@checkpoint-file-placeholder@@",FILE_PARAM_CHECK_MSG="`file` must be string, Buffer, File or Blob",ABORT_ERROR_STATUS_CODE=[403,404,405],ACLType,ACLType2,StorageClassType,StorageClassType2,MetadataDirectiveType,MetadataDirectiveType2,AzRedundancyType,AzRedundancyType2,PermissionType,PermissionType2,GranteeType,GranteeType2,CannedType,CannedType2,HttpMethodType,HttpMethodType2,StorageClassInheritDirectiveType,StorageClassInheritDirectiveType2,ReplicationStatusType,ReplicationStatusType2,LifecycleStatusType,LifecycleStatusType2,RedirectType,RedirectType2,StatusType,StatusType2,TierType,TierType2,VersioningStatusType,VersioningStatusType2,ResumableCopyEventType,ResumableCopyEventType2;function uploadFile(e){return _uploadFile.apply(this,arguments)}function _uploadFile(){return _uploadFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O,A,w,x,P=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cancelToken,o=t.enableContentMD5,s=void 0!==o&&o,l=normalizeHeadersKey(t.headers),t.headers=l,fillRequestHeaders(t,["encodingType","cacheControl","contentDisposition","contentEncoding","contentLanguage","contentType","expires","acl","grantFullControl","grantRead","grantReadAcp","grantWriteAcp","ssecAlgorithm","ssecKey","ssecKeyMD5","serverSideEncryption","meta","websiteRedirectLocation","storageClass"]),c=function(){return a&&!!a.reason},e.next=7,_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))();case 7:return d=e.sent,e.next=10,_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,!d){e.next=3;break}return e.abrupt("return",d.size);case 3:if(!isBuffer(n)){e.next=5;break}return e.abrupt("return",n.length);case 5:if(!isBlob(n)){e.next=7;break}return e.abrupt("return",n.size);case 7:throw new TosClientError(FILE_PARAM_CHECK_MSG);case 8:case"end":return e.stop()}}),e)})))();case 10:return u=e.sent,e.next=13,_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!==_typeof$1(t.checkpoint)){e.next=2;break}return e.abrupt("return",{record:t.checkpoint});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})))();case 13:return U=e.sent,e.next=16,_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&null!=(t=U.record)&&t.file_info&&(r=null==(n=U.record)?void 0:n.file_info,i=r.last_modified,a=r.file_size,d.mtimeMs===i&&d.size===a||(console.warn("The file has been modified since ".concat(new Date(i),", so the checkpoint file is invalid, and specified file will be uploaded again.")),delete U.record));case 1:case"end":return e.stop()}}),e)})))();case 16:if(F=calculateSafePartSize(u,t.partSize||(null==(n=U.record)?void 0:n.part_size)||DEFAULT_PART_SIZE,!0),U.record&&U.record.part_size!==F&&(console.warn("The partSize param does not equal the partSize in checkpoint file, so the checkpoint file is invalid, and specified file will be uploaded again."),delete U.record),p=t.bucket||this.opts.bucket||"",Q=t.key,h="",R=[],_=getAllTasks(u,F),S=((null==(r=U.record)?void 0:r.parts_info)||[]).filter((function(e){return e.is_completed})).reduce((function(e,t){return e+t.part_size}),0),B=S,m=(null==(i=U.record)?void 0:i.parts_info)||[],f=new Map,m.forEach((function(e){return f.set(e.part_number,e)})),E=function(){var e={bucket:p,key:Q,part_size:F,upload_id:h,parts_info:m};return d&&(e.file_info={last_modified:d.mtimeMs,file_size:d.size}),e},v=function(e){if(t.uploadEventChange){var n=_objectSpread2({bucket:p,uploadId:h,key:Q},e);U.filePath&&(n.checkpointFile=U.filePath),t.uploadEventChange(n)}},(L=y||(y={}))[L.start=1]="start",L[L.uploadPartSucceed=2]="uploadPartSucceed",L[L.completeMultipartUploadSucceed=3]="completeMultipartUploadSucceed",g=function(e){if(t.progress){var n=e===y.start&&0===u?0:u?B/u:1;B===u&&e===y.uploadPartSucceed||t.progress(n,E())}},T=S,V=t.dataTransferStatusChange,k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;V&&(T+=t,null==V||V({type:e,rwOnceBytes:t,consumedBytes:T,totalBytes:u}))},N=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=f.get(t.partNumber))||(r={part_number:t.partNumber,offset:t.offset,part_size:t.partSize,is_completed:!1,etag:"",hash_crc64ecma:""},m.push(r),f.set(r.part_number,r)),n.err||(r.is_completed=!0,r.etag=n.res.ETag,r.hash_crc64ecma=n.res.hashCrc64ecma),e.next=5,N();case 5:if(i={partNumber:r.part_number,partSize:r.part_size,offset:r.offset},!n.err){e.next=12;break}return a=n.err,o=UploadEventType.UploadPartFailed,a instanceof TosServerError&&ABORT_ERROR_STATUS_CODE.includes(a.statusCode)&&(o=UploadEventType.UploadPartAborted),v({type:o,err:a,uploadPartInfo:i}),e.abrupt("return");case 12:i.etag=n.res.ETag,B+=i.partSize,v({type:UploadEventType.UploadPartSucceed,uploadPartInfo:i}),g(y.uploadPartSucceed);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),!U.record){e.next=45;break}p=U.record.bucket,h=U.record.upload_id,J=new Set((U.record.parts_info||[]).filter((function(e){return e.is_completed})).map((function(e){return e.part_number}))),R=_.filter((function(e){return!J.has(e.partNumber)})),e.next=64;break;case 45:return e.prev=45,e.next=48,createMultipartUpload.call(this,t);case 48:if(W=e.sent,D=W.data,!c()){e.next=52;break}throw new CancelError("cancel uploadFile");case 52:p=D.Bucket,h=D.UploadId,U.filePathIsPlaceholder&&(U.filePath=null==(Z=U.filePath)?void 0:Z.replace("".concat(CHECKPOINT_FILE_NAME_PLACEHOLDER),getDefaultCheckpointFilePath(p,Q))),v({type:UploadEventType.CreateMultipartUploadSucceed}),e.next=63;break;case 58:throw e.prev=58,e.t0=e.catch(45),M=e.t0,v({type:UploadEventType.CreateMultipartUploadFailed,err:M}),M;case 63:R=_;case 64:return g(y.start),I=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r,i,a,o,d,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=0,e.next=4,Promise.all(Array.from({length:t.taskNum||1}).map(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=_regeneratorRuntime().mark((function e(){var i,a,o,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=r++)>=R.length)){e.next=3;break}return e.abrupt("return",{v:void 0});case 3:return a=R[i],o=0,e.prev=5,e.next=8,_uploadPart.call(P,{bucket:p,key:Q,uploadId:h,body:getBody(t.file,a),enableContentMD5:s,makeRetryStream:getMakeRetryStream(t.file),beforeRetry:function(){T-=o,o=0},partNumber:a.partNumber,headers:_defineProperty$1(_defineProperty$1(_defineProperty$1(_defineProperty$1({},"content-length","".concat(a.partSize)),"x-tos-server-side-encryption-customer-algorithm",l["x-tos-server-side-encryption-customer-algorithm"]),"x-tos-server-side-encryption-customer-key",l["x-tos-server-side-encryption-customer-key"]),"x-tos-server-side-encryption-customer-key-md5",l["x-tos-server-side-encryption-customer-key-md5"]),dataTransferStatusChange:function(e){e.type===DataTransferType.Rw&&(c()||(o+=e.rwOnceBytes,k(e.type,e.rwOnceBytes)))},trafficLimit:t.trafficLimit,rateLimiter:t.rateLimiter});case 8:if(d=e.sent,u=d.data,!c()){e.next=12;break}throw new CancelError("cancel uploadFile");case 12:return e.next=14,C(a,{res:u});case 14:e.next=28;break;case 16:if(e.prev=16,e.t0=e.catch(5),U=e.t0,T-=o,o=0,!isCancelError(U)){e.next=23;break}throw U;case 23:if(!c()){e.next=25;break}throw new CancelError("cancel uploadFile");case 25:return n||(n=U),e.next=28,C(a,{err:U});case 28:case"end":return e.stop()}}),e,null,[[5,16]])}));case 1:return e.delegateYield(i(),"t0",3);case 3:if(!(a=e.t0)){e.next=6;break}return e.abrupt("return",a.v);case 6:e.next=1;break;case 8:case"end":return e.stop()}}),e)})))));case 4:if(!n){e.next=6;break}throw n;case 6:return i=(E().parts_info||[]).map((function(e){return{eTag:e.etag,partNumber:e.part_number}})),e.next=9,safeAwait(completeMultipartUpload.call(P,{bucket:p,key:Q,uploadId:h,parts:i}));case 9:if(a=e.sent,o=_slicedToArray(a,2),d=o[0],u=o[1],!d&&u){e.next=16;break}throw v({type:UploadEventType.CompleteMultipartUploadFailed}),d;case 16:return v({type:UploadEventType.CompleteMultipartUploadSucceed}),g(y.completeMultipartUploadSucceed),e.next=20,b();case 20:if(!P.opts.enableCRC||!u.data.HashCrc64ecma||combineCRCInParts(E())===u.data.HashCrc64ecma){e.next=22;break}throw new TosClientError("crc of entire file mismatch.");case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k(DataTransferType.Started),e.next=69,safeAwait(I());case 69:if(O=e.sent,A=_slicedToArray(O,2),w=A[0],x=A[1],!w&&x){e.next=76;break}throw k(DataTransferType.Failed),w;case 76:return k(DataTransferType.Succeed),e.abrupt("return",x);case 78:case"end":return e.stop()}var L}),e,this,[[45,58]])}))),_uploadFile.apply(this,arguments)}function getAllTasks(e,t){for(var n=[],r=0;;++r){var i=r*t,a=Math.min(t,e-i);if(n.push({offset:i,partSize:a,partNumber:r+1}),(r+1)*t>=e)break}return n}function getBody(e,t){var n=t.offset,r=n+t.partSize;if(isBlob(e))return e.slice(n,r);if(isBuffer(e))return e.slice(n,r);throw new TosClientError(FILE_PARAM_CHECK_MSG)}function getMakeRetryStream(e,t){}function getDefaultCheckpointFilePath(e,t){return"".concat(t,".").concat(hashMd5$1("".concat(e,".").concat(t),"hex"),".upload").replace(/[\\/]/g,"")}function combineCRCInParts(e){var t,n,r=(null==(t=e.file_info)?void 0:t.file_size)||0,i="0",a=_createForOfIteratorHelper$1(e.parts_info||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i=combineCrc64(i,o.hash_crc64ecma,Math.min(o.part_size,r-o.offset))}}catch(err2){a.e(err2)}finally{a.f()}return i}function calculatePostSignature(e){return _calculatePostSignature.apply(this,arguments)}function _calculatePostSignature(){return _calculatePostSignature=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(validateObjectName(t),t=this.normalizeObjectInput(t),r=(n=t).expiresIn,i=void 0===r?3600:r,a=n.key,o=t.bucket||this.opts.bucket,s=_objectSpread2({},t.fields),l=_toConsumableArray(t.conditions||[]),o){e.next=8;break}throw new TosClientError("Must provide bucket param");case 8:return c=this.opts.accessKeySecret,d=getDateTimeStr({date:new Date((new Date).valueOf()+1e3*i),type:"ISO"}),u=getDateTimeStr(),U=u.substring(0,8),F="tos",p="request",Q=hmacSha256$1(c,U),h=hmacSha256$1(Q,this.opts.region),R=hmacSha256$1(h,F),_=hmacSha256$1(R,p),S=[this.opts.accessKeyId,U,this.opts.region,F,p].join("/"),B={key:a,"x-tos-algorithm":"TOS4-HMAC-SHA256","x-tos-date":u,"x-tos-credential":S},this.opts.stsToken&&(B["x-tos-security-token"]=this.opts.stsToken),l.push({bucket:o}),Object.entries(B).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];s[n]=r})),Object.entries(s).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];l.push(_defineProperty$1({},n,"".concat(r)))})),m={expiration:d,conditions:l},f=JSON.stringify(m),E=stringify$1(parse$1(f,"utf-8"),"base64"),v=hmacSha256$1(_,E,"hex"),s.policy=E,s["x-tos-signature"]=v,e.abrupt("return",s);case 32:case"end":return e.stop()}}),e,this)}))),_calculatePostSignature.apply(this,arguments)}function getDateTimeStr(e){var t=e||{},n=t.date,r=void 0===n?new Date:n,i=t.type;return"ISO"===(void 0===i?"Z":i)?r.toISOString():r.toISOString().replace(/\..+/,"").replace(/-/g,"").replace(/:/g,"")+"Z"}ACLType2=ACLType||(ACLType={}),ACLType2.ACLPrivate="private",ACLType2.ACLPublicRead="public-read",ACLType2.ACLPublicReadWrite="public-read-write",ACLType2.ACLAuthenticatedRead="authenticated-read",ACLType2.ACLBucketOwnerRead="bucket-owner-read",ACLType2.ACLBucketOwnerFullControl="bucket-owner-full-control",ACLType2.ACLBucketOwnerEntrusted="bucket-owner-entrusted",StorageClassType2=StorageClassType||(StorageClassType={}),StorageClassType2.StorageClassStandard="STANDARD",StorageClassType2.StorageClassIa="IA",StorageClassType2.StorageClassArchiveFr="ARCHIVE_FR",StorageClassType2.StorageClassColdArchive="COLD_ARCHIVE",StorageClassType2.StorageClassIntelligentTiering="INTELLIGENT_TIERING",StorageClassType2.StorageClassArchive="ARCHIVE",MetadataDirectiveType2=MetadataDirectiveType||(MetadataDirectiveType={}),MetadataDirectiveType2.MetadataDirectiveCopy="COPY",MetadataDirectiveType2.MetadataDirectiveReplace="REPLACE",AzRedundancyType2=AzRedundancyType||(AzRedundancyType={}),AzRedundancyType2.AzRedundancySingleAz="single-az",AzRedundancyType2.AzRedundancyMultiAz="multi-az",PermissionType2=PermissionType||(PermissionType={}),PermissionType2.PermissionRead="READ",PermissionType2.PermissionWrite="WRITE",PermissionType2.PermissionReadAcp="READ_ACP",PermissionType2.PermissionWriteAcp="WRITE_ACP",PermissionType2.PermissionFullControl="FULL_CONTROL",GranteeType2=GranteeType||(GranteeType={}),GranteeType2.GranteeGroup="Group",GranteeType2.GranteeUser="CanonicalUser",CannedType2=CannedType||(CannedType={}),CannedType2.CannedAllUsers="AllUsers",CannedType2.CannedAuthenticatedUsers="AuthenticatedUsers",HttpMethodType2=HttpMethodType||(HttpMethodType={}),HttpMethodType2.HttpMethodGet="GET",HttpMethodType2.HttpMethodPut="PUT",HttpMethodType2.HttpMethodPost="POST",HttpMethodType2.HttpMethodDelete="DELETE",HttpMethodType2.HttpMethodHead="HEAD",StorageClassInheritDirectiveType2=StorageClassInheritDirectiveType||(StorageClassInheritDirectiveType={}),StorageClassInheritDirectiveType2.StorageClassInheritDirectiveDestinationBucket="DESTINATION_BUCKET",StorageClassInheritDirectiveType2.StorageClassInheritDirectiveSourceObject="SOURCE_OBJECT",ReplicationStatusType2=ReplicationStatusType||(ReplicationStatusType={}),ReplicationStatusType2.Complete="COMPLETE",ReplicationStatusType2.Pending="PENDING",ReplicationStatusType2.Failed="FAILED",ReplicationStatusType2.Replica="REPLICA",LifecycleStatusType2=LifecycleStatusType||(LifecycleStatusType={}),LifecycleStatusType2.Enabled="Enabled",LifecycleStatusType2.Disabled="Disabled",RedirectType2=RedirectType||(RedirectType={}),RedirectType2.Mirror="Mirror",RedirectType2.Async="Async",StatusType2=StatusType||(StatusType={}),StatusType2.Enabled="Enabled",StatusType2.Disabled="Disabled",TierType2=TierType||(TierType={}),TierType2.TierStandard="Standard",TierType2.TierExpedited="Expedited",TierType2.TierBulk="Bulk",VersioningStatusType2=VersioningStatusType||(VersioningStatusType={}),VersioningStatusType2.Enabled="Enabled",VersioningStatusType2.Suspended="Suspended",VersioningStatusType2.NotSet="",VersioningStatusType2.Enable="Enabled",VersioningStatusType2.Disable="",ResumableCopyEventType2=ResumableCopyEventType||(ResumableCopyEventType={}),ResumableCopyEventType2[ResumableCopyEventType2.CreateMultipartUploadSucceed=1]="CreateMultipartUploadSucceed",ResumableCopyEventType2[ResumableCopyEventType2.CreateMultipartUploadFailed=2]="CreateMultipartUploadFailed",ResumableCopyEventType2[ResumableCopyEventType2.UploadPartCopySucceed=3]="UploadPartCopySucceed",ResumableCopyEventType2[ResumableCopyEventType2.UploadPartCopyFailed=4]="UploadPartCopyFailed",ResumableCopyEventType2[ResumableCopyEventType2.UploadPartCopyAborted=5]="UploadPartCopyAborted",ResumableCopyEventType2[ResumableCopyEventType2.CompleteMultipartUploadSucceed=6]="CompleteMultipartUploadSucceed",ResumableCopyEventType2[ResumableCopyEventType2.CompleteMultipartUploadFailed=7]="CompleteMultipartUploadFailed";var CHECKPOINT_FILE_NAME_PLACEHOLDER$1="@@checkpoint-file-placeholder@@",ABORT_ERROR_STATUS_CODE$1=[403,404,405],DEFAULT_PART_SIZE$1=20971520;function resumableCopyObject(e){return _resumableCopyObject.apply(this,arguments)}function _resumableCopyObject(){return _resumableCopyObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cancelToken,o=function(){return a&&!!a.reason},e.next=4,headObject.call(this,{bucket:t.srcBucket,key:t.srcKey,versionId:t.srcVersionId});case 4:return s=e.sent,l=s.data,c=l.etag,d=+l["content-length"],e.next=10,_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!==_typeof$1(t.checkpoint)){e.next=2;break}return e.abrupt("return",{record:t.checkpoint});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})))();case 10:return u=e.sent,e.next=13,_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=(t=u.record)&&t.copy_source_object_info&&(r=null==(n=u.record)?void 0:n.copy_source_object_info,i=r.last_modified,a=r.object_size,l["last-modified"]===i&&+l["content-length"]===a||(console.warn("The file has been modified since ".concat(new Date(i),", so the checkpoint file is invalid, and specified file will be uploaded again.")),delete u.record));case 1:case"end":return e.stop()}}),e)})))();case 13:if(U=calculateSafePartSize(d,t.partSize||(null==(n=u.record)?void 0:n.part_size)||DEFAULT_PART_SIZE$1,!0),u.record&&u.record.part_size!==U&&(console.warn("The partSize param does not equal the partSize in checkpoint file, so the checkpoint file is invalid, and specified file will be uploaded again."),delete u.record),F=t.bucket||this.opts.bucket||"",p=t.key,Q="",h=[],R=getAllTasks$1(d,U),_=((null==(r=u.record)?void 0:r.parts_info)||[]).filter((function(e){return e.is_completed})).reduce((function(e,t){return e+t.copy_source_range_end-t.copy_source_range_start+1}),0),S=_,B=(null==(i=u.record)?void 0:i.parts_info)||[],m=new Map,B.forEach((function(e){return m.set(e.part_number,e)})),f=function(){return{bucket:F,key:p,part_size:U,upload_id:Q,parts_info:B,copy_source_object_info:{last_modified:l["last-modified"],etag:l.etag,hash_crc64ecma:l["x-tos-hash-crc64ecma"]||"",object_size:+l["content-length"]}}},E=function(e){if(t.copyEventListener){var n=_objectSpread2({bucket:F,uploadId:Q,key:p},e);u.filePath&&(n.checkpointFile=u.filePath),t.copyEventListener(n)}},(M=v||(v={}))[M.start=1]="start",M[M.uploadPartSucceed=2]="uploadPartSucceed",M[M.completeMultipartUploadSucceed=3]="completeMultipartUploadSucceed",y=function(e){if(t.progress){var n=e===v.start&&0===d?0:d?S/d:1;S===d&&e===v.uploadPartSucceed||t.progress(n,f())}},g=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.get(t.partNumber),i=t.offset,a=Math.min(t.offset+U-1,d-1),r||(r={part_number:t.partNumber,copy_source_range_start:i,copy_source_range_end:a,is_completed:!1,etag:""},B.push(r),m.set(r.part_number,r)),n.err||(r.is_completed=!0,r.etag=n.res.ETag),e.next=7,g();case 7:if(o={partNumber:r.part_number,copySourceRangeEnd:r.copy_source_range_end,copySourceRangeStart:r.copy_source_range_start},!n.err){e.next=14;break}return s=n.err,l=ResumableCopyEventType.UploadPartCopyFailed,s instanceof TosServerError&&ABORT_ERROR_STATUS_CODE$1.includes(s.statusCode)&&(l=ResumableCopyEventType.UploadPartCopyAborted),E({type:l,err:s,copyPartInfo:o}),e.abrupt("return");case 14:o.etag=n.res.ETag,S+=o.copySourceRangeEnd-o.copySourceRangeStart+1,E({type:ResumableCopyEventType.UploadPartCopySucceed,copyPartInfo:o}),y(v.uploadPartSucceed);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),!u.record){e.next=39;break}F=u.record.bucket,Q=u.record.upload_id,k=new Set((u.record.parts_info||[]).filter((function(e){return e.is_completed})).map((function(e){return e.part_number}))),h=R.filter((function(e){return!k.has(e.partNumber)})),e.next=58;break;case 39:return e.prev=39,e.next=42,createMultipartUpload.call(this,cloneDeep$1(t));case 42:if(N=e.sent,b=N.data,!o()){e.next=46;break}throw new CancelError("cancel uploadFile");case 46:F=b.Bucket,Q=b.UploadId,u.filePathIsPlaceholder&&(u.filePath=null==(C=u.filePath)?void 0:C.replace("".concat(CHECKPOINT_FILE_NAME_PLACEHOLDER$1),getDefaultCheckpointFilePath$1(_objectSpread2(_objectSpread2({},t),{},{bucket:F})))),E({type:ResumableCopyEventType.CreateMultipartUploadSucceed}),e.next=57;break;case 52:throw e.prev=52,e.t0=e.catch(39),J=e.t0,E({type:ResumableCopyEventType.CreateMultipartUploadFailed,err:J}),J;case 57:h=R;case 58:return W=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r,i,a,s,l,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=0,e.next=4,Promise.all(Array.from({length:t.taskNum||1}).map(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var i,a,s,l,d,u,U,R;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=r++)>=h.length)){e.next=4;break}return e.abrupt("return");case 4:return a=h[i],e.prev=5,s=getCopySourceHeaderValue(t.srcBucket,t.srcKey),t.srcVersionId&&(s+="?versionId=".concat(t.srcVersionId)),l="bytes=".concat(a.offset,"-").concat(a.offset+a.partSize-1),d=_objectSpread2(_objectSpread2({},t.headers),{},_defineProperty$1(_defineProperty$1(_defineProperty$1({},"x-tos-copy-source",s),"x-tos-copy-source-if-match",c),"x-tos-copy-source-range",l)),a.partSize||delete d["x-tos-copy-source-range"],e.next=13,uploadPartCopy.call(Z,{bucket:F,key:p,uploadId:Q,partNumber:a.partNumber,headers:d,trafficLimit:t.trafficLimit});case 13:if(u=e.sent,U=u.data,!o()){e.next=17;break}throw new CancelError("cancel resumableCopyObject");case 17:return e.next=19,V(a,{res:U});case 19:e.next=31;break;case 21:if(e.prev=21,e.t0=e.catch(5),!isCancelError$1(R=e.t0)){e.next=26;break}throw R;case 26:if(!o()){e.next=28;break}throw new CancelError("cancel resumableCopyObject");case 28:return n||(n=R),e.next=31,V(a,{err:R});case 31:e.next=0;break;case 33:case"end":return e.stop()}}),e,null,[[5,21]])})))));case 4:if(!n){e.next=6;break}throw n;case 6:return i=(f().parts_info||[]).map((function(e){return{eTag:e.etag,partNumber:e.part_number}})),e.next=9,safeAwait(completeMultipartUpload.call(Z,{bucket:F,key:p,uploadId:Q,parts:i}));case 9:if(a=e.sent,s=_slicedToArray(a,2),l=s[0],d=s[1],!l&&d){e.next=16;break}throw E({type:ResumableCopyEventType.CompleteMultipartUploadFailed}),l;case 16:return E({type:ResumableCopyEventType.CompleteMultipartUploadSucceed}),y(v.completeMultipartUploadSucceed),e.next=20,T();case 20:return e.abrupt("return",d);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r,i,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=getCopySourceHeaderValue(t.srcBucket,t.srcKey),t.srcVersionId&&(n+="?versionId=".concat(t.srcVersionId)),r=_objectSpread2(_objectSpread2({},t.headers),{},_defineProperty$1(_defineProperty$1({},"x-tos-copy-source",n),"x-tos-copy-source-if-match",c)),e.next=5,safeAwait(copyObject.call(Z,{bucket:t.bucket,key:t.key,headers:r,trafficLimit:t.trafficLimit}));case 5:if(i=e.sent,a=_slicedToArray(i,2),o=a[0],s=a[1],!o&&s){e.next=12;break}throw E({type:ResumableCopyEventType.UploadPartCopyFailed}),o;case 12:return y(v.completeMultipartUploadSucceed),E({type:ResumableCopyEventType.UploadPartCopySucceed,copyPartInfo:{partNumber:0,copySourceRangeStart:0,copySourceRangeEnd:0}}),E({type:ResumableCopyEventType.CompleteMultipartUploadSucceed}),e.abrupt("return",_objectSpread2(_objectSpread2({},s),{},{data:{ETag:s.headers.etag||"",Bucket:F,Key:p,Location:"http".concat(Z.opts.secure?"s":"","://").concat(F,".").concat(Z.opts.endpoint,"/").concat(p),VersionID:s.headers["x-tos-version-id"],HashCrc64ecma:s.headers["x-tos-hash-crc64ecma"]}}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y(v.start),e.abrupt("return",0===d?D():W());case 62:case"end":return e.stop()}var M}),e,this,[[39,52]])}))),_resumableCopyObject.apply(this,arguments)}function isCancelError$1(e){return e instanceof CancelError}function getAllTasks$1(e,t){for(var n=[],r=0;;++r){var i=r*t,a=Math.min(t,e-i);if(n.push({offset:i,partSize:a,partNumber:r+1}),(r+1)*t>=e)break}return n}function getDefaultCheckpointFilePath$1(e){return[e.srcBucket,e.srcKey,e.srcVersionId,e.bucket,e.key,"copy"].filter(Boolean).join(".").replace(/[\\/]/g,"")}var defaultEmptyMethodMap={getBucketCustomDomain:!0,getBucketIntelligenttiering:!0,getBucketInventory:!0,listBucketInventory:!0,getBucketMirrorBack:!0,getBucketNotification:!0,getBucketPolicy:!0,getBucketRealTimeLog:!0,getBucketReplication:!0,getBucketTagging:!0,getBucketWebsite:!0},DownloadEventType,DownloadEventType2;function handleEmptyServerError(e,t){var n=t.enableCatchEmptyServerError,r=t.methodKey,i=t.defaultResponse;if(e instanceof TosServerError)if(n){if(404===e.statusCode)return getNormalDataFromError(i,e)}else if(void 0===n&&404===e.statusCode&&defaultEmptyMethodMap[r])return getNormalDataFromError(i,e);throw e}function putBucketPolicy(e){return _putBucketPolicy.apply(this,arguments)}function _putBucketPolicy(){return(_putBucketPolicy=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.opts.enableOptimizeMethodBehavior&&void 0!==this.opts.enableOptimizeMethodBehavior||t.policy.Statement.length){e.next=2;break}return e.abrupt("return",deleteBucketPolicy.call(this,t.bucket));case 2:return e.next=4,this.fetchBucket(t.bucket,"PUT",{policy:""},{},t.policy,{needMd5:!0});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketPolicy(e){return _getBucketPolicy.apply(this,arguments)}function _getBucketPolicy(){return _getBucketPolicy=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"GET",{policy:""},{});case 3:return(n=e.sent).data.Statement.forEach((function(e){var t=makeArrayProp(e);Object.keys(e.Condition||{}).forEach((function(n){Object.keys(e.Condition[n]).forEach((function(e){t('Condition["'.concat(n,'"]["').concat(e,'"]'))}))}))})),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketPolicy",defaultResponse:{Statement:[],Version:"2012-10-17"}}));case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),_getBucketPolicy.apply(this,arguments)}function deleteBucketPolicy(e){return _deleteBucketPolicy.apply(this,arguments)}function _deleteBucketPolicy(){return(_deleteBucketPolicy=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t,"DELETE",{policy:""},{}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketVersioning(e){return _getBucketVersioning.apply(this,arguments)}function _getBucketVersioning(){return(_getBucketVersioning=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t,"GET",{versioning:""},{}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketVersioning(e){return _putBucketVersioning.apply(this,arguments)}function _putBucketVersioning(){return(_putBucketVersioning=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t.bucket,"PUT",{versioning:""},{},{Status:t.status}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function preSignedPolicyURL(e){var t=normalizeInput.call(this,e);validateConditions(e.conditions);var n=e.alternativeEndpoint||(e.isCustomDomain?this.opts.endpoint:"".concat(t.bucket,".").concat(this.opts.endpoint)),r="http".concat(this.opts.secure?"s":"","://").concat(n),i=obj2QueryStr(this.getSignatureQuery({bucket:t.bucket,expires:t.expires,policy:{conditions:t.conditions}}));return{getSignedURLForList:function(e){var t=obj2QueryStr(e),n=[i,t].filter(Boolean).join("&");return"".concat(r,"?").concat(n)},getSignedURLForGetOrHead:function(e,t){var n=obj2QueryStr(t),a=[i,n].filter(Boolean).join("&"),o=e.split("/").map((function(e){return encodeURIComponent(e)})).join("/");return"".concat(r,"/").concat(o,"?").concat(a)},signedQuery:i}}function normalizeInput(e){var t=e.bucket||this.opts.bucket;if(!t)throw new TosClientError("Must provide bucket param");validateConditions(e.conditions);var n=e.conditions.map((function(e){return[e.operator||"eq","$key",e.value]}));return n.push(["eq","$bucket",t]),{bucket:t,expires:e.expires||3600,conditions:n}}function validateConditions(e){if(e.length<1)throw new TosClientError("The `conditions` field of `PreSignedPolicyURLInput` must has one item at least");var t,n=_createForOfIteratorHelper$1(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("key"!==r.key)throw new TosClientError("The `key` field of `PolicySignatureCondition` must be `'key'`");if(r.operator&&"eq"!==r.operator&&"starts-with"!==r.operator)throw new TosClientError("The `operator` field of `PolicySignatureCondition` must be `'eq'` or `'starts-with'`")}}catch(err2){n.e(err2)}finally{n.f()}}function downloadFile(e){return _downloadFile.apply(this,arguments)}function _downloadFile(){return(_downloadFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new TosClientError("`downloadFile` is not supported in browser environment");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getBucketLocation(e){return _getBucketLocation.apply(this,arguments)}function _getBucketLocation(){return(_getBucketLocation=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"GET",{location:""},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketCORS(e){return _getBucketCORS.apply(this,arguments)}function _getBucketCORS(){return(_getBucketCORS=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.bucket,e.next=4,this.fetchBucket(n,"GET",{cors:""},{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",handleEmptyServerError(e.t0,{defaultResponse:{CORSRules:[]},enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketCORS"}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function putBucketCORS(e){return _putBucketCORS.apply(this,arguments)}function _putBucketCORS(){return(_putBucketCORS=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.bucket,r=t.CORSRules,!this.opts.enableOptimizeMethodBehavior||r.length){e.next=3;break}return e.abrupt("return",deleteBucketCORS.call(this,{bucket:n}));case 3:return e.abrupt("return",this.fetchBucket(n,"PUT",{cors:""},{},{CORSRules:r}));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteBucketCORS(e){return _deleteBucketCORS.apply(this,arguments)}function _deleteBucketCORS(){return(_deleteBucketCORS=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",{cors:""},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}DownloadEventType2=DownloadEventType||(DownloadEventType={}),DownloadEventType2[DownloadEventType2.CreateTempFileSucceed=1]="CreateTempFileSucceed",DownloadEventType2[DownloadEventType2.CreateTempFileFailed=2]="CreateTempFileFailed",DownloadEventType2[DownloadEventType2.DownloadPartSucceed=3]="DownloadPartSucceed",DownloadEventType2[DownloadEventType2.DownloadPartFailed=4]="DownloadPartFailed",DownloadEventType2[DownloadEventType2.DownloadPartAborted=5]="DownloadPartAborted",DownloadEventType2[DownloadEventType2.RenameTempFileSucceed=6]="RenameTempFileSucceed",DownloadEventType2[DownloadEventType2.RenameTempFileFailed=7]="RenameTempFileFailed";var DefaultListMaxKeys=1e3;function listObjectsType2(){return _listObjectsType.apply(this,arguments)}function _listObjectsType(){return _listObjectsType=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=l.length>0&&void 0!==l[0]?l[0]:{}).listOnlyOnce,r=void 0!==n&&n,t.maxKeys||(t.maxKeys=DefaultListMaxKeys),!r){e.next=9;break}return e.next=6,listObjectsType2Once.call(this,t);case 6:i=e.sent,e.next=22;break;case 9:a=t.maxKeys,o=_objectSpread2(_objectSpread2({},t),{},{maxKeys:a});case 11:return e.next=14,listObjectsType2Once.call(this,o);case 14:if(s=e.sent,null==i?i=s:((i=_objectSpread2(_objectSpread2({},s),{},{data:i.data})).data.KeyCount+=s.data.KeyCount,i.data.IsTruncated=s.data.IsTruncated,i.data.NextContinuationToken=s.data.NextContinuationToken,i.data.Contents=i.data.Contents.concat(s.data.Contents),i.data.CommonPrefixes=i.data.CommonPrefixes.concat(s.data.CommonPrefixes)),s.data.IsTruncated&&!(i.data.KeyCount>=a)){e.next=18;break}return e.abrupt("break",22);case 18:o.continuationToken=s.data.NextContinuationToken,o.maxKeys=o.maxKeys-s.data.KeyCount,e.next=11;break;case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,this)}))),_listObjectsType.apply(this,arguments)}function listObjectsType2Once(e){return _listObjectsType2Once.apply(this,arguments)}function _listObjectsType2Once(){return(_listObjectsType2Once=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.bucket,n=_objectWithoutProperties(t,_excluded4),e.next=3,this.fetchBucket(t.bucket,"GET",_objectSpread2({"list-type":2},covertCamelCase2Kebab(n)),{});case 3:return r=e.sent,(i=makeArrayProp(r.data))("CommonPrefixes"),i("Contents"),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketLifecycle(e){return _putBucketLifecycle.apply(this,arguments)}function _putBucketLifecycle(){return(_putBucketLifecycle=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.bucket,r=t.rules,!this.opts.enableOptimizeMethodBehavior||r.length){e.next=3;break}return e.abrupt("return",deleteBucketLifecycle.call(this,{bucket:n}));case 3:return i={},fillRequestHeaders(_objectSpread2(_objectSpread2({},t),{},{headers:i}),["allowSameActionOverlap"]),e.abrupt("return",this.fetchBucket(n,"PUT",{lifecycle:""},i,{Rules:r}));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketLifecycle(e){return _getBucketLifecycle.apply(this,arguments)}function _getBucketLifecycle(){return(_getBucketLifecycle=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.bucket,e.next=4,this.fetchBucket(n,"GET",{lifecycle:""},{},{},{handleResponse:function(e){return{AllowSameActionOverlap:e.headers["x-tos-allow-same-action-overlap"],Rules:e.data.Rules}}});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketLifecycle",defaultResponse:{Rules:[]}}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function deleteBucketLifecycle(e){return _deleteBucketLifecycle.apply(this,arguments)}function _deleteBucketLifecycle(){return(_deleteBucketLifecycle=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",{lifecycle:""},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketEncryption(e){return _putBucketEncryption.apply(this,arguments)}function _putBucketEncryption(){return(_putBucketEncryption=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=t.rule,e.abrupt("return",this.fetchBucket(n,"PUT",{encryption:""},{"Content-MD5":hashMd5(JSON.stringify({Rule:r}),"base64")},{Rule:r}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketEncryption(e){return _getBucketEncryption.apply(this,arguments)}function _getBucketEncryption(){return(_getBucketEncryption=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"GET",{encryption:""},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteBucketEncryption(e){return _deleteBucketEncryption.apply(this,arguments)}function _deleteBucketEncryption(){return(_deleteBucketEncryption=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",{encryption:""},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey="mirror";function putBucketMirrorBack(e){return _putBucketMirrorBack.apply(this,arguments)}function _putBucketMirrorBack(){return(_putBucketMirrorBack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.bucket,r=t.rules,!this.opts.enableOptimizeMethodBehavior||r.length){e.next=3;break}return e.abrupt("return",deleteBucketMirrorBack.call(this,{bucket:n}));case 3:return e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey,""),{},{Rules:r}));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketMirrorBack(e){return _getBucketMirrorBack.apply(this,arguments)}function _getBucketMirrorBack(){return(_getBucketMirrorBack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.next=4,this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey,""),{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketMirrorBack",defaultResponse:{Rules:[]}}));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}function deleteBucketMirrorBack(e){return _deleteBucketMirrorBack.apply(this,arguments)}function _deleteBucketMirrorBack(){return(_deleteBucketMirrorBack=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",_defineProperty$1({},CommonQueryKey,""),{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey$1="tagging";function putObjectTagging(e){return _putObjectTagging.apply(this,arguments)}function _putObjectTagging(){return(_putObjectTagging=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tagSet,r=t.versionId,i=normalizeHeadersKey({versionId:r}),e.abrupt("return",this._fetchObject(t,"PUT",_objectSpread2(_defineProperty$1({},CommonQueryKey$1,""),i),{},{TagSet:n}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getObjectTagging(e){return _getObjectTagging.apply(this,arguments)}function _getObjectTagging(){return(_getObjectTagging=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.versionId,r=normalizeHeadersKey({versionId:n}),e.next=4,this._fetchObject(t,"GET",_objectSpread2(_defineProperty$1({},CommonQueryKey$1,""),r),{});case 4:return i=e.sent,makeArrayProp(i.data.TagSet)("Tags"),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteObjectTagging(e){return _deleteObjectTagging.apply(this,arguments)}function _deleteObjectTagging(){return(_deleteObjectTagging=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.versionId,r=normalizeHeadersKey({versionId:n}),e.abrupt("return",this._fetchObject(t,"DELETE",_objectSpread2(_defineProperty$1({},CommonQueryKey$1,""),r),{}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey$2="replication";function putBucketReplication(e){return _putBucketReplication.apply(this,arguments)}function _putBucketReplication(){return(_putBucketReplication=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.bucket,r=t.rules,i=t.role,!this.opts.enableOptimizeMethodBehavior||r.length){e.next=3;break}return e.abrupt("return",deleteBucketReplication.call(this,{bucket:n}));case 3:return e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$2,""),{},{Role:i,Rules:r}));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketReplication(e){return _getBucketReplication.apply(this,arguments)}function _getBucketReplication(){return(_getBucketReplication=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=t.progress,i=t.ruleId,a=_defineProperty$1(_defineProperty$1({},CommonQueryKey$2,""),"progress",r||""),null!=i&&(a["rule-id"]="".concat(i)),e.prev=3,e.next=6,this.fetchBucket(n,"GET",a,{});case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketReplication",defaultResponse:{Rules:[],Role:""}}));case 12:case"end":return e.stop()}}),e,this,[[3,9]])})))).apply(this,arguments)}function deleteBucketReplication(e){return _deleteBucketReplication.apply(this,arguments)}function _deleteBucketReplication(){return(_deleteBucketReplication=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",_defineProperty$1({},CommonQueryKey$2,""),{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey$3="website";function putBucketWebsite(e){return _putBucketWebsite.apply(this,arguments)}function _putBucketWebsite(){return(_putBucketWebsite=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=_objectWithoutProperties(t,_excluded5),i=convertNormalCamelCase2Upper(r),e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$3,""),{},_objectSpread2({},i)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketWebsite(e){return _getBucketWebsite.apply(this,arguments)}function _getBucketWebsite(){return(_getBucketWebsite=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.abrupt("return",this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey$3,""),{}));case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketWebsite",defaultResponse:{RoutingRules:[]}}));case 8:case"end":return e.stop()}}),e,this,[[1,5]])})))).apply(this,arguments)}function deleteBucketWebsite(e){return _deleteBucketWebsite.apply(this,arguments)}function _deleteBucketWebsite(){return(_deleteBucketWebsite=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",_defineProperty$1({},CommonQueryKey$3,""),{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey$4="notification";function putBucketNotification(e){return _putBucketNotification.apply(this,arguments)}function _putBucketNotification(){return(_putBucketNotification=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=_objectWithoutProperties(t,_excluded6),i=convertNormalCamelCase2Upper(r),e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$4,""),{},_objectSpread2({},i)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketNotification(e){return _getBucketNotification.apply(this,arguments)}function _getBucketNotification(){return(_getBucketNotification=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.next=4,this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey$4,""),{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketNotification",defaultResponse:{CloudFunctionConfigurations:[],RocketMQConfigurations:[]}}));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}var CommonQueryKey$5="customdomain";function putBucketCustomDomain(e){return _putBucketCustomDomain.apply(this,arguments)}function _putBucketCustomDomain(){return(_putBucketCustomDomain=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=_objectWithoutProperties(t,_excluded7),i=convertNormalCamelCase2Upper(r),e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$5,""),{},_objectSpread2({},i)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketCustomDomain(e){return _getBucketCustomDomain.apply(this,arguments)}function _getBucketCustomDomain(){return(_getBucketCustomDomain=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.bucket,e.next=4,this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey$5,""),{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",handleEmptyServerError(e.t0,{defaultResponse:{CustomDomainRules:[]},enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketCustomDomain"}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function deleteBucketCustomDomain(e){return _deleteBucketCustomDomain.apply(this,arguments)}function _deleteBucketCustomDomain(){return(_deleteBucketCustomDomain=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=t.customDomain,e.abrupt("return",this.fetchBucket(n,"DELETE",{customdomain:r},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey$6="realtimeLog",ScheduleFrequency,ScheduleFrequency2,IncludedObjectVersions,IncludedObjectVersions2,InventoryOptionalFields,InventoryOptionalFields2;function putBucketRealTimeLog(e){return _putBucketRealTimeLog.apply(this,arguments)}function _putBucketRealTimeLog(){return(_putBucketRealTimeLog=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=_objectWithoutProperties(t,_excluded8),i=convertNormalCamelCase2Upper(r),e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$6,""),{},_objectSpread2({},i)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketRealTimeLog(e){return _getBucketRealTimeLog.apply(this,arguments)}function _getBucketRealTimeLog(){return(_getBucketRealTimeLog=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.next=4,this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey$6,""),{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketRealTimeLog",defaultResponse:{}}));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}function deleteBucketRealTimeLog(e){return _deleteBucketRealTimeLog.apply(this,arguments)}function _deleteBucketRealTimeLog(){return(_deleteBucketRealTimeLog=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",_defineProperty$1({},CommonQueryKey$6,""),{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketInventory(e){return _getBucketInventory.apply(this,arguments)}function _getBucketInventory(){return(_getBucketInventory=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t.bucket,"GET",{inventory:"",id:t.id},{});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketInventory",defaultResponse:void 0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function listBucketInventory(e){return _listBucketInventory.apply(this,arguments)}function _listBucketInventory(){return(_listBucketInventory=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_objectSpread2({inventory:""},t.continuationToken?{"continuation-token":t.continuationToken}:null),e.prev=1,e.next=4,this.fetchBucket(t.bucket,"GET",n,{});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"listBucketInventory",defaultResponse:{InventoryConfigurations:[]}}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}function deleteBucketInventory(e){return _deleteBucketInventory.apply(this,arguments)}function _deleteBucketInventory(){return(_deleteBucketInventory=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchBucket(t.bucket,"DELETE",{inventory:"",id:t.id},{}));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketInventory(e){return this.fetchBucket(e.bucket,"PUT",{inventory:"",id:e.inventoryConfiguration.Id},{},e.inventoryConfiguration)}function createJob(e){return _createJob.apply(this,arguments)}function _createJob(){return(_createJob=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=_objectWithoutProperties(t,_excluded9),i=convertNormalCamelCase2Upper(r),e.next=4,this.fetch("POST","/jobs",{},{"x-tos-account-id":n},_objectSpread2({},i));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function listJobs(e){return _listJobs.apply(this,arguments)}function _listJobs(){return(_listJobs=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.maxResults,i=void 0===r?1e3:r,a=_objectWithoutProperties(t,_excluded10),e.next=3,this.fetch("GET","/jobs",_objectSpread2({maxResults:i},a),{"x-tos-account-id":n},{},{axiosOpts:{paramsSerializer:paramsSerializer}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function updateJobPriority(e){return _updateJobPriority.apply(this,arguments)}function _updateJobPriority(){return(_updateJobPriority=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.jobId,i=t.priority,e.next=3,this.fetch("POST","/jobs/".concat(r,"/priority"),{priority:i},{"x-tos-account-id":n},{},{needMd5:!0});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function updateJobStatus(e){return _updateJobStatus.apply(this,arguments)}function _updateJobStatus(){return(_updateJobStatus=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.jobId,i=t.requestedJobStatus,a=t.statusUpdateReason,e.next=3,this.fetch("POST","/jobs/".concat(r,"/status"),{requestedJobStatus:i,statusUpdateReason:a},{"x-tos-account-id":n},{},{needMd5:!0});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteJob(e){return _deleteJob.apply(this,arguments)}function _deleteJob(){return(_deleteJob=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.JobId,e.next=3,this.fetch("DELETE","/jobs/".concat(r),{},{"x-tos-account-id":n},{});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function describeJob(e){return _describeJob.apply(this,arguments)}function _describeJob(){return(_describeJob=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.JobId,e.next=3,this.fetch("GET","/jobs/".concat(r),{},{"x-tos-account-id":n},{});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketTagging(e){return _putBucketTagging.apply(this,arguments)}function _putBucketTagging(){return(_putBucketTagging=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBucket(t.bucket,"PUT",{tagging:""},{},t.tagging,{needMd5:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketTagging(e){return _getBucketTagging.apply(this,arguments)}function _getBucketTagging(){return(_getBucketTagging=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.next=4,this.fetchBucket(n,"GET",{tagging:""},{});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketTagging",defaultResponse:{TagSet:{Tags:[]}}}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}function deleteBucketTagging(e){return _deleteBucketTagging.apply(this,arguments)}function _deleteBucketTagging(){return(_deleteBucketTagging=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",{tagging:""},{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putBucketPayByTraffic(e){return _putBucketPayByTraffic.apply(this,arguments)}function _putBucketPayByTraffic(){return(_putBucketPayByTraffic=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBucket(t.bucket,"PUT",{payByTraffic:""},{},t.payByTraffic);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketPayByTraffic(e){return _getBucketPayByTraffic.apply(this,arguments)}function _getBucketPayByTraffic(){return(_getBucketPayByTraffic=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.next=3,this.fetchBucket(n,"GET",{payByTraffic:""},{});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getImageStyleBriefInfo(e){return _getImageStyleBriefInfo.apply(this,arguments)}function _getImageStyleBriefInfo(){return(_getImageStyleBriefInfo=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.next=4,this.fetchBucket(n,"GET",{imageStyleBriefInfo:""},{});case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof TosServerError)){e.next=13;break}if(404!==e.t0.statusCode){e.next=13;break}return e.abrupt("return",this.getNormalDataFromError({BucketName:n,ImageStyleBriefInfo:[]},e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}function getBucketImageStyleList(e){return _getBucketImageStyleList.apply(this,arguments)}function _getBucketImageStyleList(){return(_getBucketImageStyleList=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"GET",{imageStyle:""},{});case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof TosServerError)){e.next=12;break}if(404!==e.t0.statusCode){e.next=12;break}return e.abrupt("return",this.getNormalDataFromError({ImageStyles:[]},e.t0));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function getBucketImageStyleListByName(e){return _getBucketImageStyleListByName.apply(this,arguments)}function _getBucketImageStyleListByName(){return(_getBucketImageStyleListByName=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.bucket,r=t.styleName,e.next=4,this.fetchBucket(n,"GET",{imageStyleContent:"",styleName:r},{});case 4:return i=e.sent,e.abrupt("return",i);case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof TosServerError)){e.next=13;break}if(404!==e.t0.statusCode){e.next=13;break}return e.abrupt("return",this.getNormalDataFromError({ImageStyles:[]},e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,8]])})))).apply(this,arguments)}function getBucketImageStyle(e,t){return _getBucketImageStyle.apply(this,arguments)}function _getBucketImageStyle(){return(_getBucketImageStyle=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"GET",{imageStyle:"",styleName:n},{});case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof TosServerError)){e.next=12;break}if(404!==e.t0.statusCode){e.next=12;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function putBucketImageStyle(e){return _putBucketImageStyle.apply(this,arguments)}function _putBucketImageStyle(){return(_putBucketImageStyle=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=t.styleName,i=t.content,a=t.styleObjectPrefix,e.prev=1,e.next=4,this.fetchBucket(n,"PUT",{imageStyle:"",styleName:r,styleObjectPrefix:a},{},{Content:i});case 4:return o=e.sent,e.abrupt("return",o);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof TosServerError)){e.next=13;break}if(404!==e.t0.statusCode){e.next=13;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}function deleteBucketImageStyle(e){return _deleteBucketImageStyle.apply(this,arguments)}function _deleteBucketImageStyle(){return(_deleteBucketImageStyle=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.styleName,r=t.styleObjectPrefix,i=t.bucket,e.prev=1,e.next=4,this.fetchBucket(i,"DELETE",{imageStyle:"",styleName:n,styleObjectPrefix:r},{});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof TosServerError)){e.next=13;break}if(404!==e.t0.statusCode){e.next=13;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}function putBucketImageProtect(e,t){return _putBucketImageProtect.apply(this,arguments)}function _putBucketImageProtect(){return(_putBucketImageProtect=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"PUT",{originalImageProtect:""},{},n);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof TosServerError)){e.next=12;break}if(404!==e.t0.statusCode){e.next=12;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function getBucketImageProtect(e){return _getBucketImageProtect.apply(this,arguments)}function _getBucketImageProtect(){return(_getBucketImageProtect=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"GET",{originalImageProtect:""},{});case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof TosServerError)){e.next=12;break}if(404!==e.t0.statusCode){e.next=12;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function putBucketImageStyleSeparator(e){return _putBucketImageStyleSeparator.apply(this,arguments)}function _putBucketImageStyleSeparator(){return(_putBucketImageStyleSeparator=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=t.Separator,i=t.SeparatorSuffix,e.prev=1,e.next=4,this.fetchBucket(n,"PUT",{imageStyleSeparator:""},{},{Separator:r,SeparatorSuffix:i});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof TosServerError)){e.next=13;break}if(404!==e.t0.statusCode){e.next=13;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}function getBucketImageStyleSeparator(e){return _getBucketImageStyleSeparator.apply(this,arguments)}function _getBucketImageStyleSeparator(){return(_getBucketImageStyleSeparator=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"GET",{imageStyleSeparator:""},{});case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof TosServerError)){e.next=12;break}if(404!==e.t0.statusCode){e.next=12;break}return e.abrupt("return",this.getNormalDataFromError(null,e.t0));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}function getBucketIntelligenttiering(e){return _getBucketIntelligenttiering.apply(this,arguments)}function _getBucketIntelligenttiering(){return(_getBucketIntelligenttiering=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchBucket(t,"GET",{intelligenttiering:""},{});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketIntelligenttiering",defaultResponse:{}}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))).apply(this,arguments)}ScheduleFrequency2=ScheduleFrequency||(ScheduleFrequency={}),ScheduleFrequency2.Daily="Daily",ScheduleFrequency2.Weekly="Weekly",IncludedObjectVersions2=IncludedObjectVersions||(IncludedObjectVersions={}),IncludedObjectVersions2.All="All",IncludedObjectVersions2.Current="Current",InventoryOptionalFields2=InventoryOptionalFields||(InventoryOptionalFields={}),InventoryOptionalFields2.Size="Size",InventoryOptionalFields2.LastModifiedDat="LastModifiedDate",InventoryOptionalFields2.ETag="ETag",InventoryOptionalFields2.StorageClass="StorageClass",InventoryOptionalFields2.IsMultipartUploaded="IsMultipartUploaded",InventoryOptionalFields2.EncryptionStatus="EncryptionStatus",InventoryOptionalFields2.CRC64="CRC64",InventoryOptionalFields2.ReplicationStatus="ReplicationStatus";var CommonQueryKey$7="rename";function putBucketRename(e){return _putBucketRename.apply(this,arguments)}function _putBucketRename(){return(_putBucketRename=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=_objectWithoutProperties(t,_excluded11),i=convertNormalCamelCase2Upper(r),e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$7,""),{},_objectSpread2({},i)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketRename(e){return _getBucketRename.apply(this,arguments)}function _getBucketRename(){return(_getBucketRename=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.next=3,this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey$7,""),{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteBucketRename(e){return _deleteBucketRename.apply(this,arguments)}function _deleteBucketRename(){return(_deleteBucketRename=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.abrupt("return",this.fetchBucket(n,"DELETE",_defineProperty$1({},CommonQueryKey$7,""),{}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function restoreObject(e){return _restoreObject.apply(this,arguments)}function _restoreObject(){return(_restoreObject=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.bucket,t.key,n=t.versionId,r=_objectWithoutProperties(t,_excluded12),i={restore:""},n&&(i.versionId=n),a=convertNormalCamelCase2Upper(r),e.abrupt("return",this._fetchObject(t,"POST",i,{},a));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function listStorageLens(e){return _listStorageLens.apply(this,arguments)}function _listStorageLens(){return(_listStorageLens=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,e.next=3,this.fetch("GET","/storagelens",{},{"x-tos-account-id":n},{},{axiosOpts:{paramsSerializer:paramsSerializer}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function deleteStorageLens(e){return _deleteStorageLens.apply(this,arguments)}function _deleteStorageLens(){return(_deleteStorageLens=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.Id,e.next=3,this.fetch("DELETE","/storagelens",{id:r},{"x-tos-account-id":n},{},{needMd5:!0});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getStorageLens(e){return _getStorageLens.apply(this,arguments)}function _getStorageLens(){return(_getStorageLens=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.Id,e.next=3,this.fetch("GET","/storagelens",{id:r},{"x-tos-account-id":n},{},{needMd5:!0});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function putStorageLens(e){return _putStorageLens.apply(this,arguments)}function _putStorageLens(){return(_putStorageLens=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=t.Id,i=_objectWithoutProperties(t,_excluded13),e.next=3,this.fetch("PUT","/storagelens",{id:r},{"x-tos-account-id":n},_objectSpread2(_objectSpread2({},i),{},{Id:r}),{needMd5:!0});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var CommonQueryKey$8="notification_v2";function putBucketNotificationType2(e){return _putBucketNotificationType.apply(this,arguments)}function _putBucketNotificationType(){return(_putBucketNotificationType=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,r=_objectWithoutProperties(t,_excluded14),i=convertNormalCamelCase2Upper(r),e.abrupt("return",this.fetchBucket(n,"PUT",_defineProperty$1({},CommonQueryKey$8,""),{},_objectSpread2({},i)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function getBucketNotificationType2(e){return _getBucketNotificationType.apply(this,arguments)}function _getBucketNotificationType(){return(_getBucketNotificationType=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bucket,e.prev=1,e.next=4,this.fetchBucket(n,"GET",_defineProperty$1({},CommonQueryKey$8,""),{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",handleEmptyServerError(e.t0,{enableCatchEmptyServerError:this.opts.enableOptimizeMethodBehavior,methodKey:"getBucketNotificationType2",defaultResponse:{Rules:[]}}));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}var CancelToken=axios$1.CancelToken,TosClient=function(e){function t(){var e;_classCallCheck$1(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=_callSuper(this,t,[].concat(r))).createBucket=createBucket,e.headBucket=headBucket,e.deleteBucket=deleteBucket,e.listBuckets=listBuckets,e.getBucketLocation=getBucketLocation,e.putBucketStorageClass=putBucketStorageClass,e.getBucketAcl=getBucketAcl,e.putBucketAcl=putBucketAcl,e.getBucketPolicy=getBucketPolicy,e.putBucketPolicy=putBucketPolicy,e.deleteBucketPolicy=deleteBucketPolicy,e.getBucketVersioning=getBucketVersioning,e.putBucketVersioning=putBucketVersioning,e.getBucketCORS=getBucketCORS,e.putBucketCORS=putBucketCORS,e.deleteBucketCORS=deleteBucketCORS,e.putBucketLifecycle=putBucketLifecycle,e.getBucketLifecycle=getBucketLifecycle,e.deleteBucketLifecycle=deleteBucketLifecycle,e.putBucketEncryption=putBucketEncryption,e.getBucketEncryption=getBucketEncryption,e.deleteBucketEncryption=deleteBucketEncryption,e.putBucketMirrorBack=putBucketMirrorBack,e.getBucketMirrorBack=getBucketMirrorBack,e.deleteBucketMirrorBack=deleteBucketMirrorBack,e.putBucketReplication=putBucketReplication,e.getBucketReplication=getBucketReplication,e.deleteBucketReplication=deleteBucketReplication,e.putBucketWebsite=putBucketWebsite,e.getBucketWebsite=getBucketWebsite,e.deleteBucketWebsite=deleteBucketWebsite,e.putBucketNotification=putBucketNotification,e.getBucketNotification=getBucketNotification,e.putBucketCustomDomain=putBucketCustomDomain,e.getBucketCustomDomain=getBucketCustomDomain,e.deleteBucketCustomDomain=deleteBucketCustomDomain,e.putBucketRealTimeLog=putBucketRealTimeLog,e.getBucketRealTimeLog=getBucketRealTimeLog,e.deleteBucketRealTimeLog=deleteBucketRealTimeLog,e.getBucketInventory=getBucketInventory,e.listBucketInventory=listBucketInventory,e.putBucketInventory=putBucketInventory,e.deleteBucketInventory=deleteBucketInventory,e.putBucketTagging=putBucketTagging,e.getBucketTagging=getBucketTagging,e.deleteBucketTagging=deleteBucketTagging,e.putBucketPayByTraffic=putBucketPayByTraffic,e.getBucketPayByTraffic=getBucketPayByTraffic,e.getBucketImageStyle=getBucketImageStyle,e.getBucketImageStyleList=getBucketImageStyleList,e.getBucketImageStyleListByName=getBucketImageStyleListByName,e.getImageStyleBriefInfo=getImageStyleBriefInfo,e.deleteBucketImageStyle=deleteBucketImageStyle,e.putBucketImageStyle=putBucketImageStyle,e.putBucketImageStyleSeparator=putBucketImageStyleSeparator,e.putBucketImageProtect=putBucketImageProtect,e.getBucketImageProtect=getBucketImageProtect,e.getBucketImageStyleSeparator=getBucketImageStyleSeparator,e.putBucketRename=putBucketRename,e.getBucketRename=getBucketRename,e.deleteBucketRename=deleteBucketRename,e.copyObject=copyObject,e.resumableCopyObject=resumableCopyObject,e.deleteObject=deleteObject,e.deleteMultiObjects=deleteMultiObjects,e.getObject=getObject,e.getObjectV2=getObjectV2,e.getObjectToFile=getObjectToFile,e.getObjectAcl=getObjectAcl,e.headObject=headObject,e.appendObject=appendObject,e.listObjects=listObjects,e.renameObject=renameObject,e.fetchObject=fetchObject,e.putFetchTask=putFetchTask,e.listObjectsType2=listObjectsType2,e.listObjectVersions=listObjectVersions,e.putObject=putObject,e.putObjectFromFile=putObjectFromFile,e.putObjectAcl=putObjectAcl,e.setObjectMeta=setObjectMeta,e.createMultipartUpload=createMultipartUpload,e.uploadPart=uploadPart,e.uploadPartFromFile=uploadPartFromFile,e.completeMultipartUpload=completeMultipartUpload,e.abortMultipartUpload=abortMultipartUpload,e.uploadPartCopy=uploadPartCopy,e.listMultipartUploads=listMultipartUploads,e.listParts=listParts,e.downloadFile=downloadFile,e.putObjectTagging=putObjectTagging,e.getObjectTagging=getObjectTagging,e.deleteObjectTagging=deleteObjectTagging,e.listJobs=listJobs,e.createJob=createJob,e.deleteJob=deleteJob,e.describeJob=describeJob,e.updateJobStatus=updateJobStatus,e.updateJobPriority=updateJobPriority,e.restoreObject=restoreObject,e.uploadFile=uploadFile,e.getPreSignedUrl=getPreSignedUrl,e.calculatePostSignature=calculatePostSignature,e.preSignedPostSignature=calculatePostSignature,e.preSignedPolicyURL=preSignedPolicyURL,e.getBucketIntelligenttiering=getBucketIntelligenttiering,e.listStorageLens=listStorageLens,e.deleteStorageLens=deleteStorageLens,e.getStorageLens=getStorageLens,e.putStorageLens=putStorageLens,e.putBucketNotificationType2=putBucketNotificationType2,e.getBucketNotificationType2=getBucketNotificationType2,e}return _inherits(t,e),_createClass$1(t)}(TOSBase);TosClient.TosServerError=TosServerError,TosClient.isCancel=isCancelError,TosClient.CancelError=CancelError,TosClient.TosServerCode=TosServerCode,TosClient.TosClientError=TosClientError,TosClient.CancelToken=CancelToken,TosClient.ACLType=ACLType,TosClient.StorageClassType=StorageClassType,TosClient.MetadataDirectiveType=MetadataDirectiveType,TosClient.AzRedundancyType=AzRedundancyType,TosClient.PermissionType=PermissionType,TosClient.GranteeType=GranteeType,TosClient.CannedType=CannedType,TosClient.HttpMethodType=HttpMethodType,TosClient.LifecycleStatusType=LifecycleStatusType,TosClient.StatusType=StatusType,TosClient.RedirectType=RedirectType,TosClient.StorageClassInheritDirectiveType=StorageClassInheritDirectiveType,TosClient.TierType=TierType,TosClient.VersioningStatusType=VersioningStatusType,TosClient.createDefaultRateLimiter=createDefaultRateLimiter,TosClient.DataTransferType=DataTransferType,TosClient.UploadEventType=UploadEventType,TosClient.DownloadEventType=DownloadEventType,TosClient.ResumableCopyEventType=ResumableCopyEventType,TosClient.ReplicationStatusType=ReplicationStatusType;var sparkMd5={exports:{}};!function(e,t){e.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|a>>>20)+n|0)&n|~a&r)+t[2]+606105819|0)<<17|i>>>15)+a|0)&a|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|a>>>20)+n|0)&n|~a&r)+t[6]-1473231341|0)<<17|i>>>15)+a|0)&a|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|a>>>20)+n|0)&n|~a&r)+t[10]-42063|0)<<17|i>>>15)+a|0)&a|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|a>>>20)+n|0)&n|~a&r)+t[14]-1502002290|0)<<17|i>>>15)+a|0)&a|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|a>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+a|0)&n|a&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|a>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+a|0)&n|a&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|a>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+a|0)&n|a&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|a>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+a|0)&n|a&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|a>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+a|0)^a^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|a>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+a|0)^a^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|a>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+a|0)^a^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|a>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+a|0)^a^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[14]-1416354905|0)<<15|i>>>17)+a|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[10]-1051523|0)<<15|i>>>17)+a|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[6]-1560198380|0)<<15|i>>>17)+a|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[2]+718787259|0)<<15|i>>>17)+a|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function a(e){var t,i,a,o,s,l,c=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(d,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(n(d,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),l=parseInt(o[1],16)||0,a[14]=s,a[15]=l,n(d,a),d}function o(e){var t,r,a,o,s,l,c=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(d,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)a[t>>2]|=e[t]<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(n(d,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),l=parseInt(o[1],16)||0,a[14]=s,a[15]=l,n(d,a),d}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function d(e,t){var n,r=e.length,i=new ArrayBuffer(r),a=new Uint8Array(i);for(n=0;n<r;n+=1)a[n]=e.charCodeAt(n);return t?a:i}function u(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function U(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function F(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return l(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,a,o,s,l=this.byteLength,c=t(n,l),d=l;return r!==e&&(d=t(r,l)),c>d?new ArrayBuffer(0):(i=d-c,a=new ArrayBuffer(i),o=new Uint8Array(a),s=new Uint8Array(this,c,i),o.set(s),a)}}(),p.prototype.append=function(e){return this.appendBinary(c(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(a,i),n=l(this._hash),e&&(n=F(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var r,i,a,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),a=parseInt(r[1],16)||0,e[14]=i,e[15]=a,n(this._hash,e)},p.hash=function(e,t){return p.hashBinary(c(e),t)},p.hashBinary=function(e,t){var n=l(a(e));return t?F(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,r=U(this._buff.buffer,e,!0),a=r.length;for(this._length+=e.byteLength,t=64;t<=a;t+=64)n(this._hash,i(r.subarray(t-64,t)));return this._buff=t-64<a?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=r[t]<<(t%4<<3);return this._finish(a,i),n=l(this._hash),e&&(n=F(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=u(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=d(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=l(o(new Uint8Array(e)));return t?F(n):n},p}()}(sparkMd5);var sparkMd5Exports=sparkMd5.exports,SparkMD5=getDefaultExportFromCjs$1(sparkMd5Exports);function getFileMD5(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2097152;return new Promise((function(n,r){var i=Math.ceil(e.size/t),a=0,o=new SparkMD5.ArrayBuffer,s=new FileReader;function l(){var n=a*t,r=n+t;r>e.size&&(r=e.size),s.readAsArrayBuffer(e.slice(n,r))}s.onload=function(e){if(o.append(e.target.result),++a<i)l();else{var t=o.end();n(t)}},s.onerror=function(e){r(e)},l()}))}var UploaderCache=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$1(this,"md5",""),_defineProperty$1(this,"key",""),_defineProperty$1(this,"tokenKey",""),_defineProperty$1(this,"needReset",!1)}),[{key:"initMd5",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getFileMD5(t);case 2:return this.md5=e.sent,this.key="uploader_".concat(this.md5),this.tokenKey="uploader_token_".concat(this.md5),e.abrupt("return",this.md5);case 6:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"saveTokenInfo",value:function(e){localStorage.setItem(this.tokenKey,JSON.stringify(e))}},{key:"_checkNeedReset",value:function(){return!!this.needReset&&(this.clearCheckPoint(),this.needReset=!1,!0)}},{key:"getTokenInfo",value:function(){return this._checkNeedReset()?null:this._getObjectBase(this.tokenKey)}},{key:"getCheckPoint",value:function(){return this._checkNeedReset()?null:this._getObjectBase(this.key)}},{key:"_getObjectBase",value:function(e){var t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e2){return null}return null}},{key:"saveCheckPoint",value:function(e){localStorage.setItem(this.key,JSON.stringify(e))}},{key:"clearCheckPoint",value:function(){localStorage.removeItem(this.key),localStorage.removeItem(this.tokenKey)}}]);var e}(),Uploader=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$1(this,"start",0),_defineProperty$1(this,"url",""),_defineProperty$1(this,"client",null),_defineProperty$1(this,"partSize",6291456),_defineProperty$1(this,"fileName",""),_defineProperty$1(this,"cache",null),_defineProperty$1(this,"cancelToken",null),this.cache=new UploaderCache}),[{key:"cacheStorage",value:function(e){this.cache.saveTokenInfo(e)}},{key:"getStorage",value:function(){return this.cache.getTokenInfo()}},{key:"setInfo",value:function(e){var t=e.fileName,n=e.region,r=e.accessKeyId,i=e.accessKeySecret,a=e.stsToken,o=e.bucket;this.fileName=t,this.client=new TosClient({region:n,accessKeyId:r,accessKeySecret:i,stsToken:a,bucket:o})}},{key:"initMD5",value:function(e){return this.cache.initMd5(e)}},{key:"upload",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cancelToken=CancelToken.source(),e.prev=1,r={key:this.fileName,file:t,partSize:this.partSize,cancelToken:this.cancelToken.token,progress:function(e,t){i.cache.saveCheckPoint(t),n(100*e)}},this.checkPointCache&&(r.checkpoint=this.checkPointCache),e.next=6,this.client.uploadFile(r);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{success:!1,data:e.t0});case 12:return this._clearCheckPoint(),e.abrupt("return",{success:!0});case 14:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"pause",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancelToken.cancel("user call");case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pause(),this._clearCheckPoint();case 2:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"checkPoint",value:function(){return this.checkPointCache=this.cache.getCheckPoint(),!!this.checkPointCache}},{key:"_clearCheckPoint",value:function(){this.checkPointCache=null,this.cache.clearCheckPoint()}}]);var e,t,n}(),UPLOAD_ACTION={SEND_REQ_URL:0,RECEIVE_URL:0,SEND_UPLOADED:1,RECEIVE_PROGRESS:1,RECEIVE_DOWNLOAD_DONE:2,SEND_CANCEL:8,RECEIVE_CANCEL:24},ACTIONS=Object.values(UPLOAD_ACTION),UploadMessenger=function(e){function t(e){var n;return _classCallCheck$1(this,t),_defineProperty$1(n=_callSuper(this,t,[e]),"uploader",null),_defineProperty$1(n,"player",null),_defineProperty$1(n,"uploading",!1),_defineProperty$1(n,"fileQueue",[]),_defineProperty$1(n,"file",null),n.player=e,n.uploader=new Uploader,n}return _inherits(t,e),_createClass$1(t,[{key:"handleResponse",value:function(e){this.player._debug&&console.warn("server UploadMessenger response: "+JSON.stringify(e));var t=e.data||e.result||{},n=t.action,r=t.carries;if(!ACTIONS.includes(n))return!1;var i=r.result;if(0!==i)return this.player.emit("on-send-file-message-error",{action:n,carries:r}),this.uploading=!1,this.logError(i),this._sendDone(!1,1),!0;if(n===UPLOAD_ACTION.RECEIVE_URL){var a=r.cloud_storage,o={ak:a.ak,sk:a.sk,bucket:a.bucket,region:a.region,stsToken:a.security_token,object:a.object};this.uploader.cacheStorage(o),this.startUpload(o)}else n===UPLOAD_ACTION.RECEIVE_PROGRESS?this.onProgress(50+.5*r.progress,r):n===UPLOAD_ACTION.RECEIVE_DOWNLOAD_DONE?this._onUploadDone(r):n===UPLOAD_ACTION.RECEIVE_CANCEL&&(this.player.emit("on-send-file-cancel",{reason:"from-server",action:n,carries:r}),this.uploader.cancel(),this.uploading=!1,this.log({name:"fileChannelSendOnCancel",elapse:"end",progress:!0}),this._sendDone(!1,2));return!0}},{key:"_onUploadDone",value:function(e){var t=e.folder,n=e.md5,r=e.name;t&&(this.options.folder=t),n&&(this.options.md5=n),r&&(this.options.name=r),this.player.emit("on-send-file-done",{carries:e}),this.log({name:"fileChannelSendOnComplete",elapse:"end"}),this.uploading=!1,this.nextTask(),this._sendDone(!1)}},{key:"startUpload",value:function(e){var t=this,n=e.ak,r=e.sk,i=e.bucket,a=e.region,o=e.stsToken,s=e.object;this.log({name:"fileChannelSendOnStart",elapse:"start"}),this.uploader.setInfo({fileName:s,region:a,accessKeyId:n,accessKeySecret:r,stsToken:o,bucket:i}),this.uploader.upload(this.file,(function(e){t.onProgress(.5*e)})).then((function(e){var n=e.success,r=e.data;n?t._send(UPLOAD_ACTION.SEND_UPLOADED):(t.player.emit("on-send-file-error",r),t.logError("-3","from_client:客户端上传失败"),t.uploading=!1,t._sendDone(!1,1))}))}},{key:"onProgress",value:function(e,t){this._logProgress=e,this.player.emit("on-send-file-progress",e,t)}},{key:"nextTask",value:function(){var e=this.fileQueue.shift();if(e){var t=e.file,n=e.options;this.startSendFile(t,n),this.player.emit("on-send-file-info",{message:"自动执行下一个任务",options:n})}}},{key:"startSendFile",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.player.emit("on-send-file-error",{message:"请传入需要上传的文件",options:n}),e.abrupt("return",!1);case 3:if(!this.uploading){e.next=7;break}return this.player.emit("on-send-file-info",{message:"当前已有上传任务，新任务已加入队列",options:n}),this.fileQueue.push({file:t,options:n}),e.abrupt("return",!1);case 7:return this.file=t,this.uploading=!0,e.t0=n.name||t.name,e.next=12,this.uploader.initMD5(t);case 12:if(e.t1=e.sent,this.options={name:e.t0,md5:e.t1},n.folder&&(this.options.folder=n.folder),n.options&&(this.options.options=n.options),this.log({name:"fileChannelStartSendFile"}),!this.uploader.checkPoint()){e.next=24;break}return this.player._debug&&console.warn("sendFile: 命中断点续传",t,n),r=this.uploader.getStorage(),this.startUpload(r),e.abrupt("return",!0);case 24:return e.prev=24,this.player._debug&&console.warn("sendFile: ",t,n),this._send(UPLOAD_ACTION.SEND_REQ_URL),e.abrupt("return",!0);case 30:return e.prev=30,e.t2=e.catch(24),this.uploading=!1,e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,this,[[24,30]])}))),function(e,t){return n.apply(this,arguments)})},{key:"stopSendFile",value:function(){return!!this.uploading&&(this.uploading=!1,this.fileQueue=[],this.log({name:"fileChannelStopSendFile"}),this.uploader.cancel(),this._send(UPLOAD_ACTION.SEND_CANCEL),this.player.emit("on-send-file-cancel",{reason:"user-call"}),this._sendDone(!1,2),!0)}},{key:"logError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from_pod";this.log({name:"fileChannelSendOnError",elapse:"end",progress:!0,error:getFileChannelError(e),oErrc:e,oMsg:t})}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=e.error,i=e.oErrc,a=e.oMsg,o=e.elapse,s=e.progress;_superPropGet(t,"log",this,3)([{name:n,error:r,elapse:o,progress:s,fileSize:this.file.length,oErrc:i,oMsg:a}])}}]);var n}(FileChannelMessenger),TosFileChannelHandler=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),(r=_callSuper(this,t,[e,n])).room=new CacheRoom,r.uploadMessenger=new UploadMessenger(e),r.downloadMessenger=new DownloadMessenger(e),r}return _inherits(t,e),_createClass$1(t,[{key:"initRoomId",value:function(e){var t=this.room.setId(e);this.uploadMessenger.uploader.cache.needReset=t,this.downloadMessenger.downloader.cache.needReset=t}},{key:"handleResponse",value:function(e){this.uploadMessenger.handleResponse(e)||this.downloadMessenger.handleResponse(e)}},{key:"startSendFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.player.client?this.uploadMessenger.startSendFile(e,t):console.warn("请先启动游戏")}},{key:"stopSendFile",value:function(){this.uploadMessenger.stopSendFile()}},{key:"pauseSendFile",value:function(){this.uploadMessenger.uploader.pause()}},{key:"stopReceiveFile",value:function(){this.downloadMessenger.stopReceiveFile()}},{key:"startPushFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.startSendFile(e,t)}},{key:"stopPushFile",value:function(){this.stopSendFile()}},{key:"startPullFile",value:function(e){var t=e.folder,n=e.name,r=e.returnUrl,i=void 0!==r&&r;this.downloadMessenger.sendDownload({folder:t,name:n,returnUrl:i})}},{key:"stopPullFile",value:function(){this.stopReceiveFile()}},{key:"setReturnUrl",value:function(e){this.downloadMessenger.returnUrl=e}}])}(BaseHandlerProxy);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==_typeof$1(Symbol.iterator)?function(e){return _typeof$1(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof$1(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _createForOfIteratorHelper(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function isEventAttr(e,t,n){var r="function";return!(!t.startsWith("on")||null!==e[t]&&_typeof(e[t])!==r||_typeof(n)!==r&&_typeof(null==n?void 0:n.listener)!==r)}function addEvent(e,t,n){t=t.substring(2),"function"==typeof n?e.addEventListener(t,n):e.addEventListener(t,(function r(i){n.self&&i.target!==e||(n.stop&&i.stopPropagation(),n.prevent&&i.preventDefault(),n.once&&e.removeEventListener(t,r,n.capture),n.listener(i))}),n.capture)}TosFileChannelHandler.handlerName="TosFileChannelHandler";var stack=[],cur=null,Scope={push:function(e){stack.push(e),cur=e},pop:function(){stack.pop(),cur=stack[stack.length-1]||null},add:function(e,t){return cur&&(cur[e]=t),t},set:function(e,t,n){null!=cur&&cur[e]&&(cur[e][t]=n)},get:function(e,t){return(null==(e=null==cur?void 0:cur[e])?void 0:e[t])||null}};function createElement(e,t){for(var n,r=arguments.length,i=new Array(2<r?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if("function"==typeof e)return Scope.push({}),initLifeCycle(n=e(t,i),t),Scope.pop(),n;var o=e?document.createElement(e):document.createDocumentFragment();if(t)for(var s in t){var l=t[s];switch(s){case"$html":o.innerHTML=l;break;case"$data":o.__xr_data=l;break;case"$text":o.innerText=l;break;case"$ref":"string"==typeof l?Scope.set("doms",l,o):"function"==typeof l&&l(o);break;case"style":if("string"==typeof l)o.setAttribute("style",l);else for(var c in l)o.style[c]=l[c];break;default:if("$"===s[0])continue;isEventAttr(o,s,l)?addEvent(o,s,l):"$"!==l[0]&&void 0!==l&&o.setAttribute(s,l)}}return initChildren(o,i),initLifeCycle(o,t),o}function initLifeCycle(e,t){var n,r;t&&(r=requestAnimationFrame,t.$mount&&(("string"==typeof t.$mount?document.querySelector(t.$mount):t.$mount).appendChild(e),null!=(n=t.$mounted)&&n.call(t,e),t.$rendered&&r((function(){var n;null!=(n=t.$rendered)&&n.call(t,e)}))),t.$mounted&&(e._$mounted=t.$mounted),t.$rendered&&(e._$rendered=function(){r((function(){var n;null!=(n=t.$rendered)&&n.call(t,e)}))}))}function initChildren(e,t){t.forEach((function(t){null!==t&&(Array.isArray(t)?initChildren(e,t):t instanceof Node?appendChild(e,t):(t=document.createTextNode((null==t?void 0:t.toString())||""),e.appendChild(t)))}))}function appendChild(e,t){e.appendChild(t),null!=(e=t._$mounted)&&e.call(t,t),null!=(e=t._$rendered)&&e.call(t,t)}var React={createElement:createElement};function collectRef(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e[t]=function(n){e[t]=new DomEle(n)}})),e}window.React=React;var DomEle=function(){function e(t){_classCallCheck(this,e),this.__dom_ele=!0,this.props={},this.children=[],t instanceof HTMLElement?this._el=t:this.key=t}return _createClass(e,[{key:"el",get:function(){return this._el||(this._el=createElement(this.key,this.props,this.children),this.props={},this.children=[]),this._el}},{key:"class",value:function(e){return void 0===e?this.el.className:(this._el?this._el.className=e:this.props.class=e,this)}},{key:"addClass",value:function(e){var t;return null!=(t=this._el)&&t.classList.add(e),this}},{key:"removeClass",value:function(e){var t;return null!=(t=this._el)&&t.classList.remove(e),this}},{key:"hasClass",value:function(e){var t;return null==(t=this._el)?void 0:t.classList.contains(e)}},{key:"text",value:function(e){return void 0===e?this.el.innerText:(this._el?this._el.innerText=e:this.props.$text=e,this)}},{key:"_setStyle",value:function(e,t){this._el?this._el.style[e]=t:(this.props.style||(this.props.style={}),this.props.style[e]=t)}},{key:"attr",value:function(e,t){if("object"===_typeof(e))for(var n in e)this.attr(n,e[n]);else{if(void 0===t)return this._el.getAttribute(e)||"";this._el?this._el.setAttribute(e,t):this.props.name=t}return this}},{key:"data",value:function(e,t){var n;if("object"===_typeof(e))for(var r in e)this.data(r,e[r]);else{if(void 0===t)return(null==(n=this._el.__xr_data)?void 0:n[e])||null;this._el?(this._el.__xr_data||(this.el.__x_data={}),this._el.__xr_data[e]=t):(this.props.$data||(this.props.$data={}),this.props.$data[e]=t)}return this}},{key:"removeAttr",value:function(e){return this._el.removeAttribute(e),this}},{key:"style",value:function(e,t){if(void 0!==t)return this._setStyle(e,t),this;if("string"==typeof e)return this.el.style[e];for(var n in e)this._setStyle(n,e[n]);return this}},{key:"value",value:function(e){return void 0===e?this.el.value:(this.props.value=e,this)}},{key:"html",value:function(e){return void 0===e?this.el.innerHTML:(this._el?this._el.innerHTML=e:this.props.$html=e,this)}},{key:"click",value:function(e){return this.event("click",e)}},{key:"event",value:function(e,t){if("object"===_typeof(e))for(var n in e)this.event(n,e[n]);else this._el?this._el.addEventListener(e,"function"==typeof t?t:t.listener):this.props["on".concat(e)]=t;return this}},{key:"append",value:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){if(Array.isArray(n)){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.append(a)}}catch(o){i.e(o)}finally{i.f()}}else n instanceof e&&(n=n.el),t._el?(n instanceof HTMLElement||(n=document.createTextNode("".concat(n))),t._el.appendChild(n)):t.children.push(n)})),this}},{key:"ref",value:function(e){return this.props.$ref=e,this}},{key:"hide",value:function(){return this.style("display","none")}},{key:"show",value:function(){return this.style("display",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"block")}},{key:"setVisible",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&!arguments[0]?this.hide():this.show(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"block")}},{key:"query",value:function(t){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]){var n=this._el.querySelector(t);if(n)return new e(n);throw new Error("Element is not exist"+t)}for(var r=this.el.querySelectorAll(t),i=[],a=0;a<r.length;a++)i.push(new e(r[a]));return i}},{key:"src",value:function(e){var t;return void 0===e?null==(t=this._el)?void 0:t.src:(this._el?this._el.src=e:this.props.src=e,this)}},{key:"parent",value:function(){return this._el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(e){return this.attr("__xr_name",e)}},{key:"find",value:function(e){return this.query('[__xr_name="'.concat(e,'"]'),!0)}}]),e}(),DomNames=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link"],dom=function(){function e(e){return new DomEle(e)}var t={};return DomNames.forEach((function(n){t[n]={get:function(){return e(n)}}})),Object.defineProperties(e,t),e}();function style(e){return e=new DomEle("style").text(styleStr(e)).el,document.body.appendChild(e)}function styleStr(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=n?"".concat(n,"{"):"",i=[];for(t in e){var a,o=e[t];"object"===_typeof(o)?("",a="&"===t[0]?t.substring(1):":"===t[0]?t:" ".concat(t),i.push(styleStr(o,"".concat(n).concat(a)))):r+="".concat(transformCssKey(t),":").concat(o,";")}return(r+=n?"}":"")+i.join("")}function transformCssKey(e){for(var t=e.length,n="",r=0;r<t;r++){var i=e[r],a=i.charCodeAt(0);n+=65<=a&&a<=90?"-".concat(i.toLowerCase()):i}return n}var eveit_min={exports:{}};!function(e,t){e.exports=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=function(){function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this._map={},this._prevData={}}var r,i,a;return r=n,a=[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._).emit.apply(t,[e].concat(r))}},{key:"off",value:function(e,t){this._.off(e,t)}},{key:"clear",value:function(e){this._.clear(e)}},{key:"on",value:function(e,t){this._.on(e,t)}},{key:"once",value:function(e,t){this._.once(e,t)}},{key:"head",value:function(e,t){this._.head(e,t)}},{key:"headOnce",value:function(e,t){this._.headOnce(e,t)}},{key:"bind",value:function(e){Object.assign(e,n.prototype,new n)}}],(i=[{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._prevData[e]=n,!!(e=this._map[e])&&(e.forEach((function(e){return e.apply(void 0,n)})),!0)}},{key:"off",value:function(e,t){return delete this._prevData[e],!!(e=this._map[e])&&-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)}},{key:"clear",value:function(e){return!!this._map[e]&&(delete this._map[e],delete this._prevData[e],!0)}},{key:"_checkPrev",value:function(e,r){!1!==this.usePrevEmit&&(n.usePrevEmit||this.usePrevEmit)&&void 0!==(e=this._prevData[e])&&r.apply(void 0,t(e))}},{key:"on",value:function(e,t){this._checkPrev(e,t),this._getList(e).push(t)}},{key:"once",value:function(e,t){this.on(e,this._onceListener(e,t))}},{key:"head",value:function(e,t){this._checkPrev(e,t),this._getList(e).unshift(t)}},{key:"headOnce",value:function(e,t){this.head(e,this._onceListener(e,t))}},{key:"_getList",value:function(e){var t=this._map[e];return t||(this._map[e]=t=[]),t}},{key:"_onceListener",value:function(e,t){var n=this;return function r(){t.apply(void 0,arguments),n.off(e,r)}}}])&&e(r.prototype,i),a&&e(r,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();return r.version="0.0.1",r.usePrevEmit=!1,r._=new r,r}()}(eveit_min);var eveit_minExports=eveit_min.exports,Eveit=getDefaultExportFromCjs$1(eveit_minExports);function isMobile(){return!navigator.userAgent.includes("Windows")&&/Android|Alicar|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)}function crateKeyStore(e){var t=new Eveit,n=!1,r=!1,i=!1;return t.on("key-action",(function(a,o){16===a.kc?(n=o,t.emit("toggle-shift",n)):20===a.kc?!0===o&&(i=!i,t.emit("toggle-caps",i)):17===a.kc&&(r=o);var s=function(e){return{keyCode:e.kc,code:e.c,shiftKey:n,ctrlKey:r,metaKey:!1}}(a);e[o?"keydown":"keyup"](s)})),{emit:t.emit.bind(t),on:t.on.bind(t)}}function initStyle(){style({".k-mask":{boxSizing:"border-box",pointerEvents:"none",display:"none","*":{boxSizing:"border-box"},userSelect:"none",position:"absolute",width:"100%",height:"100%",zIndex:"100",left:"0px",top:"0px",".k-block":{pointerEvents:"auto",position:"absolute",bottom:"0",padding:"10px",width:"100%",backgroundColor:"rgba(0, 0, 0, .4)",backdropFilter:"blur(15px)",borderRadius:"8px 8px 0 0",maxWidth:"900px",left:"50%",transform:"translateX(-50%)",".k-line":{display:"flex",position:"relative",width:"100%",".k-k-w":{padding:"2px",color:"#fff",position:"relative",overflow:"hidden","-webkit-tap-highlight-color":"transparent",".k-key":_objectSpread2(_objectSpread2({backgroundColor:"rgba(0, 0, 0, .5)",textAlign:"center",height:"32px",fontSize:"14px",borderRadius:"3px",cursor:"pointer",border:"0.5px solid rgba(255, 255, 255, .2)",overflow:"hidden"},{display:"flex",justifyContent:"center",alignItems:"center"}),{},{path:{fill:"#fff"},"&.active":{backgroundColor:"#fff",color:"#000",path:{fill:"#000"}},"&.lock":{backgroundColor:"#bbb",color:"#000"}})}}}}})}function KeyboardMask(e){var t=crateKeyStore(e);return dom.div.class("k-mask").append(KeyboardBlock(t))}function KeyboardBlock(e){var t=100/14,n=1.5*t,r=[[{m:"ESC",w:2*t,c:"Escape",kc:27},{m:"F1",c:"F1",kc:112},{m:"F2",c:"F2",kc:113},{m:"F3",c:"F3",kc:114},{m:"F4",c:"F4",kc:115},{m:"F5",c:"F5",kc:116},{m:"F6",c:"F6",kc:117},{m:"F7",c:"F7",kc:118},{m:"F8",c:"F8",kc:119},{m:"F9",c:"F9",kc:120},{m:"F10",c:"F10",kc:121},{m:"F11",c:"F11",kc:122},{m:"F12",c:"F12",kc:123}],[{m:"`",s:"~",c:"Backquote",kc:192},{m:"1",s:"!",c:"Digit1",kc:49},{m:"2",s:"@",c:"Digit2",kc:50},{m:"3",s:"#",c:"Digit3",kc:51},{m:"4",s:"$",c:"Digit4",kc:52},{m:"5",s:"%",c:"Digit5",kc:53},{m:"6",s:"^",c:"Digit6",kc:54},{m:"7",s:"&",c:"Digit7",kc:55},{m:"8",s:"*",c:"Digit8",kc:56},{m:"9",s:"(",c:"Digit9",kc:57},{m:"0",s:")",c:"Digit0",kc:48},{m:"-",s:"_",c:"Minus",kc:189},{m:"=",s:"+",c:"Equal",kc:187},{c:"Backspace",kc:8,svg:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7.00601 4.94712L9.43819 7.26349L11.8704 4.94712L12.606 5.71954L10.2115 8L12.606 10.2805L11.8704 11.0529L9.43819 8.73651L7.00601 11.0529L6.27038 10.2805L8.66486 8L6.27038 5.71954L7.00601 4.94712Z"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4.8237 2.66666C4.6262 2.66666 4.43976 2.75785 4.31851 2.91374L0.66814 7.60708C0.488387 7.83819 0.488387 8.16181 0.66814 8.39292L4.31851 13.0863C4.43976 13.2421 4.6262 13.3333 4.8237 13.3333H14.7982C15.1517 13.3333 15.4382 13.0468 15.4382 12.6933V3.30666C15.4382 2.9532 15.1517 2.66666 14.7982 2.66666H4.8237ZM1.71385 8L5.03237 3.73333H14.3715V12.2667H5.03237L1.71385 8Z"/>\n</svg>'}],[{m:"Tab",c:"Tab",kc:9},{m:"q",il:!0,c:"KeyQ",kc:81},{m:"w",il:!0,c:"KeyW",kc:87},{m:"e",il:!0,c:"KeyE",kc:69},{m:"r",il:!0,c:"KeyR",kc:82},{m:"t",il:!0,c:"KeyT",kc:84},{m:"y",il:!0,c:"KeyY",kc:89},{m:"u",il:!0,c:"KeyU",kc:85},{m:"i",il:!0,c:"KeyI",kc:73},{m:"o",il:!0,c:"KeyO",kc:79},{m:"p",il:!0,c:"KeyP",kc:80},{m:"[",s:"{",c:"BracketLeft",kc:219},{m:"]",s:"}",c:"BracketRight",kc:221},{m:"\\",s:"|",c:"Backslash",kc:220}],[{m:"Caps",ic:!0,c:"CapsLock",kc:20},{m:"a",il:!0,c:"KeyA",kc:65},{m:"s",il:!0,c:"KeyS",kc:83},{m:"d",il:!0,c:"KeyD",kc:68},{m:"f",il:!0,c:"KeyF",kc:70},{m:"g",il:!0,c:"KeyG",kc:71},{m:"h",il:!0,c:"KeyH",kc:72},{m:"j",il:!0,c:"KeyJ",kc:74},{m:"k",il:!0,c:"KeyK",kc:75},{m:"l",il:!0,c:"KeyL",kc:76},{m:";",s:":",c:"Semicolon",kc:186},{m:"'",s:'"',c:"Quote",kc:222},{m:"Enter",w:2*t,c:"Enter",kc:13}],[{m:"Shift",c:"ShiftLeft",kc:16},{m:"z",il:!0,c:"KeyZ",kc:90},{m:"x",il:!0,c:"KeyX",kc:88},{m:"c",il:!0,c:"KeyC",kc:67},{m:"v",il:!0,c:"KeyV",kc:86},{m:"b",il:!0,c:"KeyB",kc:66},{m:"n",il:!0,c:"KeyN",kc:78},{m:"m",il:!0,c:"KeyM",kc:77},{m:",",s:"<",c:"Comma",kc:188},{m:".",s:">",c:"Period",kc:190},{m:"/",s:"?",c:"Slash",kc:191},{m:"↑",w:n,c:"ArrowUp",kc:38},{m:"Shift",w:n,c:"ShiftRight",kc:16}],[{m:"Ctrl",w:n,c:"ControlLeft",kc:17},{m:"Win",w:n,c:"MetaLeft",kc:91},{m:"Alt",w:n,c:"AltLeft",kc:18},{m:"空格",c:"Space",kc:32},{m:"←",w:n,c:"ArrowLeft",kc:37},{m:"↓",w:n,c:"ArrowDown",kc:40},{m:"→",w:n,c:"ArrowRight",kc:39}]];return dom.div.class("k-block").append(r.map((function(t){return dom.div.class("k-line").append(t.map((function(t){return Key(t,e)})))})))}function Key(e,t){var n=collectRef("key"),r=!1,i=function(i){return function(){n.key[i?"addClass":"removeClass"]("active"),e.ic&&(i||(r=!r,n.key[r?"addClass":"removeClass"]("lock"))),t.emit("key-action",e,i)}},a=e.w?{width:"".concat(e.w,"%")}:{flex:1};if(e.s||e.il){var o=e.m,s=e.s||e.m.toUpperCase(),l=!0,c=function(){n.key.text(l?o:s)};t.on("toggle-shift",(function(e){l=!l,c()})),e.il&&t.on("toggle-caps",(function(e){l=!l,c()}))}var d=isMobile();return dom.div.class("k-k-w").style(a).append(dom.div.class("k-key").ref(n.key).html(e.m||e.svg).event(_defineProperty$1(_defineProperty$1(_defineProperty$1({},d?"touchstart":"mousedown",i(!0)),d?"touchend":"mouseup",i(!1)),"contextmenu",{listener:function(){},prevent:!0})))}initStyle();var VirtualKeyboardHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments))._visible=!1,e}return _inherits(t,e),_createClass$1(t,[{key:"init",value:function(){var e=this;if(this.player.config.enableVirtualKeyboard){var t=document.getElementById(this.player.domId);if(t){var n=KeyboardMask({keydown:function(t){e.emit("virtual-key",{event:t,keydown:!0}),e.player.touchHandler.keydown(t,!0)},keyup:function(t){e.emit("virtual-key",{event:t,keydown:!1}),e.player.touchHandler.keyup(t,!0)}});t.appendChild(n.el),this.mask=n,this.initEvents()}}}},{key:"initEvents",value:function(){var e=this;if(!1!==this.player.config.needRotateVirtualKeyboard){var t=null,n=function(){e._visible&&e.mask.hide(),clearTimeout(t),t=setTimeout((function(){e._visible&&e.mask.show(),e.rotate(window.orientation)}),100)};window.addEventListener("orientationchange",n),this.onDestroy=function(){window.removeEventListener("orientationchange",n)},n()}}},{key:"destroy",value:function(){var e;null===(e=this.onDestroy)||void 0===e||e.call(this)}},{key:"rotate",value:function(e){if(this.mask){var t=document.getElementById(this.player.domId);this.mask.style({width:0===e?"".concat(t.offsetHeight,"px"):"100%",transform:"rotate(".concat(0===e?90:0,"deg)")})}}},{key:"getMask",value:function(){return this.mask?this.mask.el:null}},{key:"setVisible",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.mask&&(this._visible=e,this.mask.setVisible(e),this.log(e?"virtualKeyboardShow":"virtualKeyboardHide"))}},{key:"isVisible",value:function(){return this._visible}}])}(BaseHandlerProxy);VirtualKeyboardHandler.handlerName="VirtualKeyboardHandler";var GamePadProxy=function(){return _createClass$1((function e(){var t=this;_classCallCheck$1(this,e),this.inLoop=!1,this.connected=!1,this.supported=!(!navigator.getGamepads&&!navigator.webkitGetGamepads),this.connected_list=[],this.disconnected_list=[],this.event_list=[],this.handleGamepadDisconnected=function(e){var n=e.gamepad,r=n.id,i=n.index,a=n.mapping;t.disconnected_list.forEach((function(e){e({mapping:a,id:r,index:i})}))},this.handleGamePadConnected=function(e){t.connected=!0,t.triggerGamepad(e.gamepad),t.inLoop||(t.inLoop=!0,t.gamepadLoop())},this.supported&&this.initGamePadEvent()}),[{key:"getGamepads",value:function(){var e=[];if(navigator.getGamepads?e=navigator.getGamepads():navigator.webkitGetGamepads&&(e=navigator.webkitGetGamepads()),0===e.length)return[];var t,n=[],r=_createForOfIteratorHelper$1(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i&&n.push(i)}}catch(err2){r.e(err2)}finally{r.f()}return n}},{key:"on",value:function(e,t){t&&this["".concat(e,"_list")].push(t)}},{key:"remove",value:function(e,t){var n=this["".concat(e,"_list")];-1!==n.indexOf(t)&&n.splice(t,1)}},{key:"gamepadLoop",value:function(){var e=this,t=this.getGamepads();0===t.length?(this.inLoop=!1,this.connected=!1):(this.event_list.forEach((function(e){e(t)})),requestAnimationFrame((function(){e.gamepadLoop()})))}},{key:"triggerGamepad",value:function(e){this.connected_list.forEach((function(t){t({mapping:e.mapping,index:e.index,id:e.id,buttonCount:e.buttons.length,axesCount:e.axes.length})}))}},{key:"initGamePadEvent",value:function(){window.addEventListener("gamepadconnected",this.handleGamePadConnected),window.addEventListener("gamepaddisconnected",this.handleGamepadDisconnected),this.gamepadLoop()}},{key:"initGamePadsState",value:function(){var e=this;this.getGamepads().forEach((function(t){e.triggerGamepad(t)}))}},{key:"vibrate",value:function(e){var t=this,n=this.getGamepads();"number"==typeof e&&n[e]?this._vibrate(n[e]):n.forEach((function(e){t._vibrate(e)}))}},{key:"_vibrate",value:function(e){try{var t,n;null===(t=e.vibrationActuator)||void 0===t||null===(n=t.playEffect)||void 0===n||n.call(t,"dual-rumble",{startDelay:0,duration:200,weakMagnitude:1,strongMagnitude:1})}catch(e2){console.warn(e2)}}},{key:"destroy",value:function(){window.removeEventListener("gamepadconnected",this.handleGamePadConnected),window.removeEventListener("gamepaddisconnected",this.handleGamepadDisconnected)}}])}(),GCKeyType=[4096,8192,16384,32768,256,512,0,0,32,16,64,128,1,2,4,8,0];function roundGPValue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32767;return e*=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,Math.abs(e)>1?Math.round(e):Math.round(e*t)}var GamePadHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).rightStickRate=1,e.pbType=PB_MESSAGE.TYPES.MsgOutput,e.pbSubTypes=[PB_OUTPUT.SUBTYPES.MsgOutputGCVibration],e._lastValue=[],e}return _inherits(t,e),_createClass$1(t,[{key:"init",value:function(){var e=this;this.gamePadProxy=new GamePadProxy,this.gamePadProxy.supported?(this.gamePadProxy.on("connected",(function(t){var n=t.mapping,r=t.id,i=t.index;e.sendDeviceMsg({isConnected:!0,index:i,name:r||"",info:n||""}),e.log("gamepadConnected",{mapping:n,id:r,index:i}),e.emit("gamepad-connected",t),e.print("gamepad-connected",t)})),this.gamePadProxy.on("disconnected",(function(t){var n=t.mapping,r=t.id,i=t.index;e.sendDeviceMsg({isConnected:!1,index:i,name:r||"",info:n||""}),e.log("gamepadDisconnected",{mapping:n,id:r,index:i}),e.emit("gamepad-disconnected",t),e.print("gamepad-disconnected",t)})),this.gamePadProxy.on("event",(function(t){e.handleGamePads(t)})),this.on("_onVideoFirstFrameRendered",(function(){e.gamePadProxy.initGamePadsState()}))):console.warn("您的设备不支持游戏手柄")}},{key:"sendDeviceMsg",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isConnected,r=t.index,i=t.name,a=void 0===i?"":i,o=t.info,s=void 0===o?"":o,l=ProtoBufMessage.encodeDeviceTypeMsg({isConnected:n,index:r,deviceType:4,name:a,info:s}),this.sendPBMessage(l),this.print("gamepadDeviceMsg",{isConnected:n,index:r,name:a,info:s}),e.next=6,this.sendMessageWithReturn({message:l,pbType:PB_MESSAGE.TYPES.MsgDevice,pbSubType:ProtoBufMessage.protoRoot.MsgDeviceType.MsgDeviceState});case 6:c=e.sent,d=c.success,u=c.data,this.print("MsgDeviceState ACK",d,u),d&&(u.timeout||u.enabled!==n)&&this.emit("gamepad-error",{data:u});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onMessage",value:function(e){e.type;var t=e.subtype,n=e.msg;if(t===PB_OUTPUT.SUBTYPES.MsgOutputGCVibration){if(0===n.l&&0===n.r)return;this.print("gamepad-vibrate",n),this.emit("gamepad-vibrate",n),this.gamePadProxy.vibrate(n.index)}}},{key:"handleGamePads",value:function(e){var t,n=_createForOfIteratorHelper$1(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=i.buttons,o=i.index,s=i.axes,l={buttons:0,index:o},c=_createForOfIteratorHelper$1(a.entries());try{for(c.s();!(r=c.n()).done;){var d=_slicedToArray(r.value,2),u=d[0],U=d[1];switch(U.pressed&&(l.buttons=l.buttons|(GCKeyType[u]||0)),u){case 6:l.lt=roundGPValue(U.value,255);break;case 7:l.rt=roundGPValue(U.value,255);break;case 10:l.lx=roundGPValue(s[0]),l.ly=roundGPValue(-s[1]);break;case 11:l.rx=roundGPValue(s[2],32767,this.rightStickRate),l.ry=roundGPValue(-s[3],32767,this.rightStickRate)}}}catch(err2){c.e(err2)}finally{c.f()}var F=this._lastValue[o],p="";for(var Q in l)p+=",".concat(l[Q]);if(this._lastValue[o]=p,p!==F){var h=ProtoBufMessage.encodeGamePadMsg(l);this.print("gamepadEvent",l,h),this.sendPBMessage(h)}}}catch(err2){n.e(err2)}finally{n.f()}}},{key:"destroy",value:function(){this.gamePadProxy.destroy()}}]);var n}(BaseHandler$1),e;try{new EventTarget,e=!0}catch(t2){e=!1}var t=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.e={}}),[{key:"addEventListener",value:function(e,t){this.t(e).push(t)}},{key:"removeEventListener",value:function(e,t){var n=this.t(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}},{key:"dispatchEvent",value:function(e){return e.target=this,Object.freeze(e),this.t(e.type).forEach((function(t){return t(e)})),!0}},{key:"t",value:function(e){return this.e[e]=this.e[e]||[]}}])}(),s=e?EventTarget:t,i=_createClass$1((function e(t){_classCallCheck$1(this,e),this.type=t})),a=e?Event:i,n=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),(r=_callSuper(this,t,[e])).newState=n.newState,r.oldState=n.oldState,r.originalEvent=n.originalEvent,r}return _inherits(t,e),_createClass$1(t)}(a),r="active",h="passive",c="hidden",o="frozen",d="terminated",u="object"==("undefined"==typeof safari?"undefined":_typeof$1(safari))&&safari.pushNotification,v="onpageshow"in self,l=["focus","blur","visibilitychange","freeze","resume","pageshow",v?"pagehide":"unload"],g=function(e){return e.preventDefault(),e.returnValue="Are you sure?"},f=function(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})},b=[[r,h,c,d],[r,h,c,o],[c,h,r],[o,c],[o,r],[o,h]].map(f),p=function(e,t){for(var n,r=0;n=b[r];++r){var i=n[e],a=n[t];if(i>=0&&a>=0&&a>i)return Object.keys(n).slice(i,a+1)}return[]},E=function(){return document.visibilityState===c?c:document.hasFocus()?r:h},m=function(e){function t(){var e;_classCallCheck$1(this,t),e=_callSuper(this,t);var n=E();return e.s=n,e.i=[],e.a=e.a.bind(e),l.forEach((function(t){return addEventListener(t,e.a,!0)})),u&&addEventListener("beforeunload",(function(t){e.n=setTimeout((function(){t.defaultPrevented||t.returnValue.length>0||e.r(t,c)}),0)})),e}return _inherits(t,e),_createClass$1(t,[{key:"state",get:function(){return this.s}},{key:"pageWasDiscarded",get:function(){return document.wasDiscarded||!1}},{key:"addUnsavedChanges",value:function(e){!this.i.indexOf(e)>-1&&(0===this.i.length&&addEventListener("beforeunload",g),this.i.push(e))}},{key:"removeUnsavedChanges",value:function(e){var t=this.i.indexOf(e);t>-1&&(this.i.splice(t,1),0===this.i.length&&removeEventListener("beforeunload",g))}},{key:"r",value:function(e,t){if(t!==this.s)for(var r=this.s,i=p(r,t),a=0;a<i.length-1;++a){var o=i[a],s=i[a+1];this.s=s,this.dispatchEvent(new n("statechange",{oldState:o,newState:s,originalEvent:e}))}}},{key:"a",value:function(e){switch(u&&clearTimeout(this.n),e.type){case"pageshow":case"resume":this.r(e,E());break;case"focus":this.r(e,r);break;case"blur":this.s===r&&this.r(e,E());break;case"pagehide":case"unload":this.r(e,e.persisted?o:d);break;case"visibilitychange":this.s!==o&&this.s!==d&&this.r(e,E());break;case"freeze":this.r(e,o)}}}])}(s),w=new m,networkMonitor_min={exports:{}};!function(e,t){!function(e){function t(){t=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=p.asyncIterator||"@@asyncIterator",o=p.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(v){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i,a,o,s;return t=t&&t.prototype instanceof u?t:u,t=Object.create(t.prototype),r=new m(r||[]),t._invoke=(i=e,a=n,o=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return E()}for(o.method=e,o.arg=t;;){var n=o.delegate;if(n&&(n=function e(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}return"throw"===(r=c(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,d):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,o))){if(n===d)continue;return n}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===s)throw s="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);if(s="executing","normal"===(n=c(i,a,o)).type){if(s=o.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(s="completed",o.method="throw",o.arg=n.arg)}}),t}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var d={};function u(){}function U(){}function F(){}var p,Q,h=(s(p={},i,(function(){return this})),(Q=(Q=Object.getPrototypeOf)&&Q(Q(f([]))))&&Q!==n&&r.call(Q,i)&&(p=Q),F.prototype=u.prototype=Object.create(p));function R(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var l;if("throw"!==(i=c(e[i],e,a)).type)return(a=(l=i.arg).value)&&"object"==_typeof$1(a)&&r.call(a,"__await")?t.resolve(a.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(a).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}));s(i.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function f(e){if(e){var t,n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(n=function n(){for(;++t<e.length;)if(r.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:E}}function E(){return{value:void 0,done:!0}}return s(h,"constructor",U.prototype=F),s(F,"constructor",U),U.displayName=s(F,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===U||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,F):(e.__proto__=F,s(e,o,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},R(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},R(h),s(h,o,"Generator"),s(h,i,(function(){return this})),s(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=f,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}var o=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,B(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function s(e,t,n,r){return new(n=n||Promise)((function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function l(e){var t=0<arguments.length&&void 0!==e?e:5,n={queue:[],total:0,avg:0,max:0,receiveStat:function(e){if("number"!=typeof e||Number.isNaN(e))return null;n.queue.push(e),n.total+=e,e>n.max&&(n.max=e),n.queue.length>t&&(e=n.queue.shift(),n.total-=e,n.max===e&&(n.max=Math.max.apply(null,n.queue))),n.avg=n.total/n.queue.length}};return n}function c(e,t){var n,r=1<arguments.length&&void 0!==t?t:function(e){return e},i=0,a=o(e);try{for(a.s();!(n=a.n()).done;)i+=r(n.value)}catch(s){a.e(s)}finally{a.f()}return i/e.length}function d(e,t,n,r){return n=2<arguments.length&&void 0!==n?n:0,e<0?-1:100<(r=((e=3<arguments.length&&void 0!==r&&!r?e:t-e+n)-n)/(t-n)*100)?100:r<0?0:r}function u(e){return"number"==typeof e?e:-1}var U=function(){function e(){n(this,e),this.inited=!1,this.rttStat=l(),this.lostRateStat=l()}return i(e,[{key:"receiveStats",value:function(e){this.inited||(this.inited=!0),this.rttStat.receiveStat(e.rtt),this.lostRateStat.receiveStat(e.lostRate)}}]),e}(),F=function(){function e(t){n(this,e),this.stat=l(),this.filter=function(e){return"cache"!==e.deliveryType&&200===e.responseStatus},t&&(this.filter=t),this.url=new URL(location.href)}return i(e,[{key:"analyze",value:function(){return s(this,void 0,void 0,t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(n=this.filterResource()).length)return this.url.searchParams.set("_v","".concat(Date.now())),e.prev=3,e.next=6,fetch("".concat(this.url.toString()));e.next=14;break;case 6:return r=e.sent,e.next=9,r.text();case 9:n=this.filterResource(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:r=c(n,(function(e){return e.duration})),this.stat.receiveStat(r);case 16:case"end":return e.stop()}}),e,this,[[3,12]])})))}},{key:"filterResource",value:function(){var e,t=[],n=o(performance.getEntriesByType("resource"));try{for(n.s();!(e=n.n()).done;){var r=e.value;this.filter(r)&&t.push(r)}}catch(i){n.e(i)}finally{n.f()}return performance.clearResourceTimings(),t}}]),e}(),p=function(){function e(r){var i=this,a=r.filter,o=r.onStat;n(this,e),this.data={score:-1,type:"",online:"",downlink:-1,rtt:-1,lostRate:-1,visible:"",duration:-1},this.rtcStat=new U,this.performanceStat=new F(a),this.interval=setInterval((function(){return s(i,void 0,void 0,t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performanceStat.analyze();case 2:this.fillInfo(),null!=o&&o(this.data);case 4:case"end":return e.stop()}}),e,this)})))}),2e3)}return i(e,[{key:"receiveRTCStats",value:function(e){this.rtcStat.receiveStats(e)}},{key:"fillInfo",value:function(){var e=this.data,t=navigator.connection;t&&(e.downlink=u(t.downlink),e.type=t.type||t.effectiveType||"",e.rtt=u(t.rtt)),"boolean"==typeof navigator.onLine&&(e.online=navigator.onLine),this.rtcStat.inited&&(e.rtt=Math.round(this.rtcStat.rttStat.avg),e.lostRate=Math.round(this.rtcStat.lostRateStat.avg)),e.duration=Math.round(this.performanceStat.stat.avg),e.visible="hidden"!==document.visibilityState,e.score=this.evaluate()}},{key:"evaluate",value:function(){var e=this.data;return!1===e.online?0:Math.round(c([d(e.downlink,10,0,!1),d(e.lostRate,1),d(e.rtt,500,50),d(e.duration,5e3,100)].filter((function(e){return 0<=e}))))}},{key:"destroy",value:function(){clearInterval(this.interval)}}]),e}();e.NetworkMonitor=p,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,networkMonitor_min.exports);var networkMonitor_minExports=networkMonitor_min.exports,PageLifeHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).visible=!0,e.online=!0,e.networkLevel=-1,e._listeners={},e}return _inherits(t,e),_createClass$1(t,[{key:"init",value:function(){var e,t=this;this.setLogInfo("href",location.href);var n=this._listeners;this.online=null===(e=navigator.onLine)||void 0===e||e;var r=function(){var e,n=!(document.hidden||"hidden"===document.visibilityState);(t.print("visibilitychange: ",document.visibilityState),n===t.visible&&n||(t.visible=n,t.setLogInfo("visible",t.visible),t.beaconLog("visibilitychange",{visibilityState:document.visibilityState,visible:n}),t.emit("on-visible-change",t.visible)),!n&&t.isPCGame)&&(null===(e=t.player.touchHandler)||void 0===e||e.clearPressedKey())};setTimeout((function(){r()}),0),document.addEventListener("visibilitychange",n.vc=r),window.addEventListener("online",n.online=function(){t.onlineChange(!0)}),window.addEventListener("offline",n.offline=function(){t.onlineChange(!1)}),window.addEventListener("beforeunload",n.bu=function(){t.beaconLog("onBeforeUnload")}),window.addEventListener("error",n.error=function(e){var n,r;t.log("onWindowError",{message:(null===(n=e.error)||void 0===n?void 0:n.message)||e.message,stack:(null===(r=e.error)||void 0===r?void 0:r.stack)||""}),t.emit("on-window-error",t.online)}),this.on("network-quality",n.nq=function(e){t.networkLevel=e,t.setLogInfo("networkLevel",e)}),w.addEventListener("statechange",n.lc=function(e){var n,r=_objectSpread2(_objectSpread2({},t.getLogParams()),{},{otherLog:{ts:(new Date).getTime(),visibilityState:!1,visible:!1}});if("passive"===e.newState)null===(n=localStorage)||void 0===n||n.setItem("_vegame_oldLog","".concat(JSON.stringify(r))),setTimeout((function(){var e;null===(e=localStorage)||void 0===e||e.removeItem("_vegame_oldLog")}),600);else if("hidden"===e.newState){var i;null===(i=localStorage)||void 0===i||i.removeItem("_vegame_oldLog")}}),window.addEventListener("blur",n.windowBlur=function(e){var n;(t.log("windowBlur"),t.isPCGame)&&(null===(n=t.player.touchHandler)||void 0===n||n.clearPressedKey())}),window.addEventListener("focus",n.windowFocus=function(e){t.log("windowFocus")})}},{key:"initNetworkMonitor",value:function(){var e=this;this.networkMonitor=new networkMonitor_minExports.NetworkMonitor({onStat:function(t){e.setLogInfo("networkInfo",t)}}),this.on("received-stream-stats",(function(t){var n=t.stats;e.networkMonitor.receiveRTCStats({rtt:n.accessDelay,lostRate:n.videoReceivedPacketsLostRate})}))}},{key:"onlineChange",value:function(e){this.online=e,this.setLogInfo("onLine",this.online),this.beaconLog("onLineChange"),this.emit("online-change",this.online)}},{key:"destroy",value:function(){var e,t=this._listeners,n=t.vc,r=t.online,i=t.offline,a=t.nq,o=t.bu,s=t.error,l=t.lc,c=t.windowBlur,d=t.windowFocus;document.removeEventListener("visibilitychange",n),window.removeEventListener("online",r),window.removeEventListener("offline",i),window.removeEventListener("beforeunload",o),window.removeEventListener("error",s),w.removeEventListener("statechange",l),null==this||this.off("network-quality",a),null===(e=this.networkMonitor)||void 0===e||e.destroy(),window.removeEventListener("blur",c),window.removeEventListener("focus",d)}}])}(BaseHandler$1),BtnAction=function(e){return e[e.Down=0]="Down",e[e.Up=1]="Up",e}(BtnAction||{}),GamePadKey=(GamePadKey2=GamePadKey||{},GamePadKey2[GamePadKey2.A=GCKeyType[0]]="A",GamePadKey2[GamePadKey2.B=GCKeyType[1]]="B",GamePadKey2[GamePadKey2.X=GCKeyType[2]]="X",GamePadKey2[GamePadKey2.Y=GCKeyType[3]]="Y",GamePadKey2[GamePadKey2.LeftShoulder=GCKeyType[4]]="LeftShoulder",GamePadKey2[GamePadKey2.RightShoulder=GCKeyType[5]]="RightShoulder",GamePadKey2[GamePadKey2.Back=GCKeyType[8]]="Back",GamePadKey2[GamePadKey2.Menu=GCKeyType[9]]="Menu",GamePadKey2[GamePadKey2.LeftThumb=GCKeyType[10]]="LeftThumb",GamePadKey2[GamePadKey2.RightThumb=GCKeyType[11]]="RightThumb",GamePadKey2[GamePadKey2.Up=GCKeyType[12]]="Up",GamePadKey2[GamePadKey2.Down=GCKeyType[13]]="Down",GamePadKey2[GamePadKey2.Left=GCKeyType[14]]="Left",GamePadKey2[GamePadKey2.Right=GCKeyType[15]]="Right",GamePadKey2),GamePadKey2,WhichDir=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}(WhichDir||{}),GamePadApi=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this._state=[],this._parent=t}),[{key:"_getState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._state[e]||(this._state[e]={lx:0,ly:0,rx:0,ry:0,lt:0,rt:0,buttons:new Set}),this._state[e]}},{key:"sendGamePadRockerEvent",value:function(e){var t=e.index,n=void 0===t?0:t,r=e.x,i=void 0===r?0:r,a=e.y,o=void 0===a?0:a,s=e.which,l=void 0===s?0:s,c=this._getState(n);0===l?(c.lx=i,c.ly=o):(c.rx=i,c.ry=o),this._sendGamePad(n)}},{key:"sendTriggerButton",value:function(e){var t=e.index,n=void 0===t?0:t,r=e.which,i=void 0===r?0:r,a=e.value,o=this._getState(n);0===i?o.lt=a:o.rt=a,this._sendGamePad(n)}},{key:"sendKeyEvent",value:function(e){var t=e.key,n=e.action,r=e.index,i=void 0===r?0:r,a=this._getState(i);0===n?a.buttons.add(t):a.buttons.delete(t),this._sendGamePad(i)}},{key:"onVibrate",value:function(e){return this._parent.on("gamepad-vibrate",e)}},{key:"_sendGamePad",value:function(e){var t,n=this._getState(e),r={buttons:0,index:e,lt:roundGPValue(n.lt,255),rt:roundGPValue(n.rt,255),lx:roundGPValue(n.lx),ly:roundGPValue(-n.ly),rx:roundGPValue(n.rx),ry:roundGPValue(-n.ry)},i=_createForOfIteratorHelper$1(n.buttons);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.buttons=r.buttons|a}}catch(err2){i.e(err2)}finally{i.f()}var o=ProtoBufMessage.encodeGamePadMsg(r);this._parent.print("_sendGamePad",r,o),this._parent.sendPBMessage(o)}}])}(),MouseBtnValue=function(e){return e[e.Left=0]="Left",e[e.WheelBtn=1]="WheelBtn",e[e.Right=2]="Right",e[e.X1=3]="X1",e[e.X2=4]="X2",e}(MouseBtnValue||{}),MouseApi=function(){return _createClass$1((function e(t){var n=this;_classCallCheck$1(this,e),this._touchToMouse=!1,this._parent=t,this._touchToMouseListener=function(e){n._touchToMouseCall(e)}}),[{key:"_touchToMouseCall",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._parent.player,r=t[0],i=r.action,a=r.x,o=r.y,e.next=4,n._sendMouseMessage({action:ACTION.MOVE,x:a,y:o});case 4:i===ACTION.TOUCH_START&&n._sendMouseMessage({button:MOUSE_BUTTON.LEFT,action:ACTION.DOWN}),i===ACTION.TOUCH_END&&n._sendMouseMessage({button:MOUSE_BUTTON.LEFT,action:ACTION.UP});case 6:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"setTouchToMouse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e!==this._touchToMouse&&(this._touchToMouse=e,this._parent.player[e?"on":"off"]("on-touch-event",this._touchToMouseListener))}},{key:"setMouseStateListener",value:function(e){this._parent.on("system-cursor-stat-changed",e)}},{key:"sendInputMouseMove",value:function(e,t){var n=ProtoBufMessage.encodeMouseMovementMsg({x:e,y:t});this._parent.print("sendInputMouseMove",e,t),this._parent.sendPBMessage(n)}},{key:"sendInputMouseKey",value:function(e,t){return this._parent.player._sendMouseMessage({action:t,button:e})}},{key:"sendInputMouseWheel",value:function(e,t){return this._parent.player._sendMouseMessage({action:ACTION.WHEEL,wheel:e,hwheel:t})}},{key:"sendInputCursorPos",value:function(e,t){return this._parent.player._sendMouseMessage({action:ACTION.MOVE,x:e,y:t})}}]);var e}(),HardwareApiHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).Enum={MouseBtnValue:MouseBtnValue,GamePadKey:GamePadKey,WhichDir:WhichDir,BtnAction:BtnAction},e.Keyboard={sendKeyboard:function(t,n){return e.player._sendKeyboardMessage({keycode:t,action:n})}},e}return _inherits(t,e),_createClass$1(t,[{key:"init",value:function(){this.GamePad=new GamePadApi(this),this.Mouse=new MouseApi(this)}}])}(BaseHandler$1);HardwareApiHandler.handlerName="HardwareApiHandler";var HangUpHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).pbType=PB_MESSAGE.TYPES.MsgBusiness,e.pbSubTypes=[PB_BUSINESS.SUBTYPES.MsgBusinessSessionMode,PB_BUSINESS.SUBTYPES.MsgBusinessPodStreamChange],e}return _inherits(t,e),_createClass$1(t,[{key:"isHangUpMode",get:function(){return 1===this.mode}},{key:"canSetSessionMode",get:function(){var e=this.player._controlRightHandler;return!e||e.isPlayer}},{key:"initMode",value:function(e){this.mode=e}},{key:"setSessionMode",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.log("setSessionMode",{mode:t}),this.canSetSessionMode){e.next=5;break}return n={success:!1,msg:"观众角色不可设置sessionMode"},this.log("setSessionModeResult",{mode:t,result:n}),e.abrupt("return",n);case 5:return this.mode=t,r=ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.SessionMode,payload:{sessionMode:wrapSingle(t)},type:this.pbType,subType:this.pbSubTypes[0]}),this.print("【setSessionMode message】",r),e.next=10,this.sendMessageWithReturn({message:r,pbType:this.pbType,pbSubType:this.pbSubTypes[0]});case 10:if(i=e.sent,a=i.success,o=i.fromCatch,s=i.data,l=i.err,!o){e.next=17;break}return e.abrupt("return",{success:a,err:l,msg:"操作错误: 超时错误"});case 17:return c={success:a,msg:"".concat(s.sessionMode," ").concat(s.result)},this.log("setSessionModeResult",{result:c}),this.print("【setSessionMode result】",c),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"hangUpPause",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(a.length>0&&void 0!==a[0])||a[0],this.isHangUpMode){e.next=3;break}return e.abrupt("return",null);case 3:return n=t?1:0,r=ProtoBufMessage.encodeMsgCommon({msgName:PB_BUSINESS.MSG_NAMES.PodStreamChange,payload:{status:wrapSingle(n)},type:this.pbType,subType:this.pbSubTypes[1]}),this.print("【hangUpPause】pause",t),e.next=8,this.sendMessageWithReturn({message:r,pbType:this.pbType,pbSubType:this.pbSubTypes[1]});case 8:return i=e.sent,this.print("【hangUpPause】result",i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]);var n,r}(BaseHandler$1),MessageShieldHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).pbType=PB_MESSAGE.TYPES.MsgBusiness,e.pbSubTypes=[PB_BUSINESS.SUBTYPES.MsgBusinessShield],e}return _inherits(t,e),_createClass$1(t,[{key:"onMessage",value:function(e){var t=e.msg;e.type,e.subtype,this.emit("messageShield",{type:t.type,subType:t.subType}),this.print("messageShield",t)}}])}(BaseHandler$1),QueueHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).queuePriority=0,e.interval=5,e.timer=null,e.body=null,e.isFirst=!0,e}return _inherits(t,e),_createClass$1(t,[{key:"clearState",value:function(){this.body=null,this.getStartSize=null}},{key:"setQueuePriority",value:function(e){"number"==typeof e&&(e<0?e=0:e>99&&(e=99),this.queuePriority=e)}},{key:"needUseQueue",get:function(){return this.queuePriority>0}},{key:"gameStart",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.body=t,this.getStartSize=n,e.next=4,this.addUserQueue();case 4:return r=e.sent,i=r.QueueList,a=r.Interval,o=r.RemainTime,s=r.Skey,this.assignStore({skey:s}),l=i.map((function(e){return{userPosition:e.UserPosition,configurationCode:e.ConfigurationCode,total:e.Total}})),e.abrupt("return",this.loopQueryQueue({queueList:l,interval:a,remainTime:o},!0));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"loopQueryQueue",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l=this,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queueList,r=t.interval,i=t.remainTime,a=c.length>1&&void 0!==c[1]&&c[1],void 0===(o=c.length>2?c[2]:void 0)&&(o=this.checkQueueList({queueList:n,interval:r,remainTime:i})),!o){e.next=9;break}return a||this.emit("queue-success"),e.abrupt("return",this.innerGameStart());case 9:return e.next=11,delay$1(1e3*this.interval,(function(e){l.timer=e}));case 11:return e.next=13,this.fetchQueryQueue();case 13:if(!(s=e.sent)){e.next=16;break}return e.abrupt("return",this.loopQueryQueue(s));case 16:return e.abrupt("return",this.loopQueryQueue({},!1,!1));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"innerGameStart",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.log("innerStart"),Object.assign(this.body,_objectSpread2({},this.getStartSize())),t=this.store.skey,e.next=5,this.fetchInnerApi({host:this.player.getResourceHost,method:"POST",url:"/volc/cloudgame/game/start",name:"innerGameStart",extraRequiredParam:{skey:t},headers:{skey:t},body:this.body});case 5:if(!(n=e.sent).success){e.next=10;break}this.clearState(),e.next=12;break;case 10:throw console.error("innerGameStart error",n),n;case 12:return this.log("innerStartSuccess",{result:n}),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fetchQueryQueue",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store,n=t.skey,r=t.gameId,i=t.userId,a=t.deviceId,o=t.sessionId,e.next=3,this.fetchInnerApi({host:this.player.getResourceHost,url:"/volc/cloudgame/user_queue/get",name:"queryQueue",extraRequiredParam:{skey:n},headers:{skey:n},params:{game_id:r,client_user_id:i,device_id:a,session_id:o}});case 3:if(!(s=e.sent).success){e.next=10;break}return this.log("queueUpdate",{queueInfo:JSON.stringify(s)}),l=s.queue_list.map((function(e){return{userPosition:e.user_position,configurationCode:e.configuration_code,total:e.total}})),e.abrupt("return",{queueList:l,remainTime:s.remain_time,interval:s.interval});case 10:return s.errorCode&&this.emit("error",s),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkQueueList",value:function(e){var t=e.queueList,n=e.interval;e.remainTime;var r="",i=t.map((function(e){var t=e.userPosition,n=e.configurationCode;return r||t||(r=n),{configurationCode:n,userPosition:t,total:e.total}})),a=!!r;return this.emit("queue-update",{queueList:i,done:a}),this.interval=n,a}},{key:"addUserQueue",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a,o,s,l,c,d,u,U;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store,n=t.gameHost,r=t.token,i=t.gameId,a=t.userId,o=t.deviceId,s=t.queuePriority,l=t.sessionId,this.log("addQueueRequest",{queuePriority:s}),e.next=4,this.fetchBase({token:r,host:n,defaultHosts:GAME_HOST,params:{Action:"AddUserQueue",Version:"2023-03-18"},body:{GameId:i,ClientUserId:a,DeviceId:o,QueuePriority:s,ConfigurationCode:"",SessionId:l},name:"preAllocateResource"});case 4:if(c=e.sent,d=c.success,u=c.data,U=c.error,d){e.next=11;break}throw this.print("addUserQueue Fail",U),U;case 11:return this.log("addQueue",{queueInfo:JSON.stringify(u.QueueList)}),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"destroy",value:function(){clearTimeout(this.timer)}}]);var n,r,i,a,o}(BaseHandler$1),MessageHandler=function(e){function t(){return _classCallCheck$1(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass$1(t)}(BaseHandler$1),CursorPosHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).enabled=!1,e.isActive=!1,e.timer=null,e.lastMsg="",e.lastRateX=0,e.lastRateY=0,e.pointLockRate=2,e.mouseMoveRate=10,e.pbType=PB_MESSAGE.TYPES.MsgOutput,e.pbSubTypes=[PB_OUTPUT.SUBTYPES.MsgOutputCursorPos],e.received=!1,e}return _inherits(t,e),_createClass$1(t,[{key:"onMessage",value:function(e){var t=e.msg;JSON.stringify(t)!==this.lastMsg&&(this.lastMsg=t,this.lastRateX=t.x/t.w,this.lastRateY=t.y/t.h),this.isActive=!0,this.received=!0,this.startTimer()}},{key:"startTimer",value:function(){var e=this;this.timer||(this.timer=setInterval((function(){e.received?e.received=!1:(e.isActive=!1,e.print("exit cursor pos mode"),clearInterval(e.timer))}),300))}},{key:"isEnable",get:function(){return this.enabled&&this.isActive}},{key:"onMouseMove",value:function(e){var t=e.isPointLock,n=e.clientWidth,r=e.clientHeight,i=e.offsetLeft,a=e.offsetTop,o=e.movementX,s=e.movementY,l=t?this.pointLockRate:this.mouseMoveRate;return{clientX:n*this.lastRateX+o*l+i,clientY:r*this.lastRateY+s*l+a}}},{key:"init",value:function(){}},{key:"destroy",value:function(){clearInterval(this.timer)}}])}(BaseHandler$1),ConfigHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments))._config={disableWebTsABTest:!1},e._store={},e}return _inherits(t,e),_createClass$1(t,[{key:"destroy",value:function(){this._config=null}},{key:"config",get:function(){return this._config}},{key:"store",get:function(){return this._store}},{key:"getConfig",value:function(e){return this._config[e]}},{key:"setConfig",value:function(e,t){return this._config[e]=t,t}},{key:"assignConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this._config,e)}},{key:"getStore",value:function(e){return this._store[e]}},{key:"setStore",value:function(e,t){return this._store[e]=t,t}},{key:"assignStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this._store,e)}}])}(BaseHandler$1);function createStats(){var e={queue:[],total:0,avg:0,max:0,receiveStat:function(t){if("number"!=typeof t||Number.isNaN(t))return null;e.queue.push(t),e.total+=t,t>e.max&&(e.max=t);var n=!0;if(e.queue.length>5){var r=e.queue.shift();e.total-=r,e.max===r&&(e.max=Math.max.apply(null,e.queue)),n=!1}return e.avg=e.total/e.queue.length,{isNormal:e.max>10&&e.avg>10,isInit:n}}};return e}ConfigHandler.handlerName="ConfigHandler";var StuckMonitorHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).decodeFPS=createStats(),e.receiveFPS=createStats(),e}return _inherits(t,e),_createClass$1(t,[{key:"init",value:function(){var e=this;this.on("received-stream-stats",this.listener=function(t){var n=t.stats,r=e.decodeFPS.receiveStat(n.decoderOutputFrameRate),i=e.receiveFPS.receiveStat(n.receivedFrameRate);if(r&&i){if(e.emit("fps-stats",{avgReceive:Math.round(e.receiveFPS.avg),maxReceive:Math.round(e.receiveFPS.max),avgDecode:Math.round(e.decodeFPS.avg),maxDecode:Math.round(e.decodeFPS.max)}),!r.isNormal){var a=_objectSpread2({},e.decodeFPS);e.log("fpsAbnormal",a),e.printTraceLog("decode-fps-abnormal",a),e.emit("decode-fps-abnormal",a)}if(!i.isNormal){var o=_objectSpread2(_objectSpread2({},e.receiveFPS),{},{isInit:i.isInit,isReceive:!0});e.log("fpsAbnormal",o),e.printTraceLog("receive-fps-abnormal",o),e.emit("receive-fps-abnormal",o)}}})}},{key:"destroy",value:function(){this.off("received-stream-stats",this.listener)}}])}(BaseHandler$1);StuckMonitorHandler.handlerName="StuckMonitorHandler";var IdleReminderHandler=function(e){function t(){var e;return _classCallCheck$1(this,t),(e=_callSuper(this,t,arguments)).pbType=PB_MESSAGE.TYPES.MsgBusiness,e.pbSubTypes=[PB_BUSINESS.SUBTYPES.MsgBusinessNoActionCountDown],e}return _inherits(t,e),_createClass$1(t,[{key:"onMessage",value:function(e){var t=e.msg;1===t.status&&this.emit("idle-reminder",t.count_down)}},{key:"resetIdleReminderDuration",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=MessageFactory$1.eventResetIdleReminder(),e.next=3,this.sendMessageWithReturn({message:t,pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.MsgBusinessResetCountDown,transformPBMes:function(e){return{data:e}},onTimeout:function(){console.error("resetIdleReminderDuration timeout")}});case 3:if(n=e.sent,r=n.success,i=n.data,!r){e.next=9;break}return a=i.data.status,e.abrupt("return",1===a);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"setIdleReminderDuration",value:function(e){return this.sendIdleReminderMessage(e)}},{key:"getIdleReminderDuration",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendIdleReminderMessage();case 2:if(t=e.sent,n=t.success,r=t.countdown,i=t.message,!n){e.next=8;break}return e.abrupt("return",r);case 8:return console.error(i),e.abrupt("return",-1);case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"sendIdleReminderMessage",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Q.length>1&&void 0!==Q[1]&&Q[1],i=(r="number"==typeof t)?0:1,a=MessageFactory$1.eventTypeAutoRecycleTime(r,void 0,t),this.log("sendIdleReminderMessage",{isSet:r,time:t,fromInit:n}),e.next=7,this.sendMessageWithReturn({message:a,jsonCmd:SERVER_COMMAND.CMD_AUTO_RECYCLE_TIME,pbType:PB_MESSAGE.TYPES.MsgBusiness,pbSubType:PB_BUSINESS.SUBTYPES.MsgBusinessAutoRecycleTime,transformPBMes:function(e){return{data:e}},onTimeout:function(){console.error("".concat(r?"Set":"Get"," idle reminder duration timeout"))}});case 7:if(o=e.sent,s=o.success,l=o.data,!s){e.next=22;break}if(c=l.data,d=c.result,u=void 0===d?0:d,U=c.action,F=void 0===U?0:U,p=c.duration_countdown,F===i){e.next=14;break}return e.abrupt("return",{});case 14:if(0!==u){e.next=18;break}return e.abrupt("return",{success:!0,countdown:p,message:""});case 18:return this._sendError({isSet:r,result:u}),e.abrupt("return",{success:!1,result:u,message:"".concat(r?"Set":"Get"," idle reminder duration Error")});case 20:e.next=24;break;case 22:return this._sendError({isSet:r,data:l,success:s}),e.abrupt("return",{success:!1,message:"".concat(r?"Set":"Get"," idle reminder duration Fail")});case 24:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_sendError",value:function(e){var t=POD_ERROR$1.ERROR_SET_IDLE_REMINDER_TIME,n=t.CODE,r=t.MESSAGE;this.log("idleReminderError",_objectSpread2(_objectSpread2({},e),{},{errorCode:n,message:r}))}}]);var n,r,i}(BaseHandler$1),Handlers={GamePadHandler:GamePadHandler,PageLifeHandler:PageLifeHandler,HardwareApiHandler:HardwareApiHandler,HangUpHandler:HangUpHandler,MessageShieldHandler:MessageShieldHandler,QueueHandler:QueueHandler,MessageHandler:MessageHandler,CursorPosHandler:CursorPosHandler,ConfigHandler:ConfigHandler,StuckMonitorHandler:StuckMonitorHandler,IdleReminderHandler:IdleReminderHandler},HandleManagerBase=_createClass$1((function e(){_classCallCheck$1(this,e)}));for(var key in Handlers)Handlers[key].handlerName=key;function autoUseHandlerPlugin(e){var t=e.HandlerPlugin;getPlugin(t.pluginName)||usePlugin(t)}function useHandler(e){if(!e.handlerName)throw new Error("未命名的handler");return e.handlerName in Handlers?(console.warn("Handler 与 已用Handler命名有冲突:"+e.handlerName),!1):(autoUseHandlerPlugin(e),Handlers[e.handlerName]=e,!0)}var HandleManager=function(e){function t(e){var n;_classCallCheck$1(this,t),(n=_callSuper(this,t))._keys=[],n._keys=Object.keys(Handlers);var r,i=_createForOfIteratorHelper$1(n._keys);try{for(i.s();!(r=i.n()).done;){var a=r.value;n[a]=new Handlers[a](e,n)}}catch(err2){i.e(err2)}finally{i.f()}return n}return _inherits(t,e),_createClass$1(t,[{key:"initHandlers",value:function(){var e,t=_createForOfIteratorHelper$1(this._keys);try{for(t.s();!(e=t.n()).done;){var n;null===(n=this[e.value])||void 0===n||n.init()}}catch(err2){t.e(err2)}finally{t.f()}}},{key:"handleMessage",value:function(e){var t,n=_createForOfIteratorHelper$1(this._keys);try{for(n.s();!(t=n.n()).done;){var r;if(null!==(r=this[t.value])&&void 0!==r&&r.handleMessage(e))return!0}}catch(err2){n.e(err2)}finally{n.f()}return!1}},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper$1(this._keys);try{for(t.s();!(e=t.n()).done;){var n,r,i=e.value;null===(n=this[i])||void 0===n||n.destroy(),null!==(r=this[i])&&void 0!==r&&r.player&&(this[i].player=null)}}catch(err2){t.e(err2)}finally{t.f()}}}])}(HandleManagerBase),HandlerCore=function(){return _createClass$1((function e(){_classCallCheck$1(this,e)}),[{key:"createHandlers",value:function(e){this.handlers=new HandleManager(e)}},{key:"initHandlers",value:function(){this.handlers.initHandlers()}},{key:"config",get:function(){return this.handlers.ConfigHandler.config}},{key:"store",get:function(){return this.handlers.ConfigHandler.store}},{key:"getConfig",value:function(e){return this.handlers.ConfigHandler.getConfig(e)}},{key:"setConfig",value:function(e,t){return this.handlers.ConfigHandler.setConfig(e,t)}},{key:"getStore",value:function(e){return this.handlers.ConfigHandler.getStore(e)}},{key:"setStore",value:function(e,t){return this.handlers.ConfigHandler.setStore(e,t)}},{key:"assignConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.handlers.ConfigHandler.assignConfig(e)}},{key:"assignStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.handlers.ConfigHandler.assignStore(e)}}])}();HandlerCore.useHandler=useHandler,HandlerCore.useHandler(TosFileChannelHandler),HandlerCore.useHandler(VirtualKeyboardHandler);var VePhoneControlRightHandler=function(){return _createClass$1((function e(t){var n=this;_classCallCheck$1(this,e),this._player=t,this.canOperate=!0,this.currentUserId=this._player.userId,this._initControlListener(),this.start(),this._player.on("on-control-state-changed",(function(e){var t,r=e;if(0===r.code&&(null===(t=r.data)||void 0===t?void 0:t.userId)===n.currentUserId){var i,a=(null===(i=r.data)||void 0===i?void 0:i.callUserId)===n.currentUserId;n._player.logger.send("userControlStateChange",{enable:r.data.enable,msg:a?"self set":"other user set"}),n.canOperate=r.data.enable}}))}),[{key:"start",value:function(){var e,t=this;null===(e=this._player)||void 0===e||null===(e=e.startPromise)||void 0===e||e.then((function(){return t._innerHasControl()})).then((function(e){var n,r=null==e||null===(n=e.data)||void 0===n?void 0:n.enable;void 0!==r&&(t.canOperate=r)})).catch((function(){}))}},{key:"_promisifyEventCallback",value:function(e,t){var n=this,r=function(e){clearTimeout(i),t(e)},i=setTimeout((function(){n._player.logger.send("podError",{callUserId:n.currentUserId,msg:"pod trigger ".concat(e," timeout")}),t({code:-1,msg:"timeout"}),n._player.off(e,r)}),5e3);this._player.once(e,r)}},{key:"enableControl",value:function(e,t){var n=this;return new Promise((function(r){n._player.logger.send("enableControl",{userId:e,enable:t,callUserId:n.currentUserId}),n._player._sendCustomMessage(MessageFactory$1.eventTypeUserControl({action:3,userId:e,enable:t})),n._promisifyEventCallback("on-enable-control-result",r)}))}},{key:"_innerHasControl",value:function(){var e=this;return new Promise((function(t){e._isInnerInvokeHasControl=!0,e._player._sendCustomMessage(MessageFactory$1.eventTypeUserControl({action:1,userId:e.currentUserId})),e._promisifyEventCallback("on-inner-has-control-result",t)}))}},{key:"hasControl",value:function(e){var t=this;return new Promise((function(n){t._player._sendCustomMessage(MessageFactory$1.eventTypeUserControl({action:1,userId:e})),t._promisifyEventCallback("on-has-control-result",n)}))}},{key:"getAllControls",value:function(){var e=this;return new Promise((function(t){e._player._sendCustomMessage(MessageFactory$1.eventTypeUserControl({action:2})),e._promisifyEventCallback("on-all-controls-result",t)}))}},{key:"_initControlListener",value:function(){var e=this;this._player.on("inner-message-received",(function(t){var n=t.msg||{},r=n.command,i=n.data,a=n.action,o=n.callUserId,s=n.code,l=n.msg;if(r===SERVER_COMMAND.CMD_USER_CONTROL){var c,d=[];try{d=JSON.parse(i)||[]}catch(err2){e._player.logger.localErrorLog("ClientTrigger","parse user control data error")}var u=null===(c=d)||void 0===c?void 0:c[0];if(o===e.currentUserId)switch(a){case 1:e._isInnerInvokeHasControl?(e._isInnerInvokeHasControl=!1,e._player.emit("on-inner-has-control-result",{code:s,msg:l,data:u})):e._player.emit("on-has-control-result",{code:s,msg:l,data:u});break;case 2:e._player.emit("on-all-controls-result",{code:s,msg:l,data:d});break;case 3:e._player.emit("on-enable-control-result",{code:s,msg:l,data:u})}3===a&&e._player.emit("on-control-state-changed",{code:s,msg:l,data:_objectSpread2(_objectSpread2({},u),{},{callUserId:o})})}}))}}])}(),RTSEngine=function(){return _createClass$1((function e(t,n){_classCallCheck$1(this,e),this._remoteUsers=[],EventEmitter$2(this),this._player=t,this._logger=n.logger,this._userId=n.userId,this._parentPodId2RoomId=null==n?void 0:n.parentPodId2RoomId,this._skey=n.skey}),[{key:"start",value:function(e){var t=this,n=e.roomId,r=e.token,i=e.appId;return this._roomId=n,new Promise((function(e,a){t._client=index.createEngine(i,{});var o=t._client;o.on(index.events.onUserJoined,(function(e){var n,r,i,a=null==e||null===(n=e.userInfo)||void 0===n?void 0:n.userId;t._remoteUsers.push(a),t._parentPodId2RoomId[a]=t._roomId,null!==(r=t._player.batchEventSyncHandler)&&void 0!==r&&null!==(r=r.options)&&void 0!==r&&null!==(r=r.controlledPodIdList)&&void 0!==r&&null!==(i=r.includes)&&void 0!==i&&i.call(r,a)&&t._player.emit("onControlledUserJoined",{userId:a,roomId:t._roomId}),t._logger.send("rtsOnUserJoined",{userId:a,rtsRoomId:t._roomId})})),o.on(index.events.onUserMessageReceived,(function(e){var n;null===(n=t._player.batchEventSyncHandler)||void 0===n||n.onReceiveRtsMessage(t._roomId,e.userId,e.message)})),o.on(index.events.onUserLeave,(function(e){var n,r,i,a=e.reason,o=e.userInfo;if(a===UserOfflineReason.DROPPED)return t._logger.send("rtsEventSyncError",{podId:o.userId,rtsRoomId:t._roomId,reason:o.extraInfo}),void t._player.emit("onBatchEventSyncError",{podId:o.userId,errorCode:-8,message:"ERROR_TOKEN_HAS_EXPIRED"});var s=null==o?void 0:o.userId,l=t._remoteUsers.indexOf(s);t._remoteUsers.splice(l,1),delete t._parentPodId2RoomId[s],null!==(n=t._player.batchEventSyncHandler)&&void 0!==n&&null!==(n=n.options)&&void 0!==n&&null!==(n=n.controlledPodIdList)&&void 0!==n&&null!==(r=n.includes)&&void 0!==r&&r.call(n,s)&&t._player.emit("onControlledUserLeave",{userId:s,roomId:t._roomId,reason:e.reason}),t._logger.send("rtsOnUserLeave",{reason:null==e||null===(i=e.userInfo)||void 0===i?void 0:i.extraInfo,userId:s,rtsRoomId:t._roomId})})),o.on(index.events.onTokenWillExpire,_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._logger.send("rtsOnTokenWillExpire"),e.prev=1,e.next=4,UpdatePhoneRTCToken({getResourceHost:t._player.getResourceHost,skey:t._skey},t._logger);case 4:n=e.sent,r=n.Token,o.updateToken(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t._logger.send("updateRtsTokenError",{error:e.t0,token:"",msg:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))),o.on(index.events.onError,(function(e){var n,r;t._logger.localErrorLog("PodTrigger","onError","rtc event error..",e),e.errorCode===index.ErrorCode.TOKEN_EXPIRED?(n=POD_ERROR$1.ERROR_REMOTE_STOPPED_TOKEN_EXPIRED.CODE,r=POD_ERROR$1.ERROR_REMOTE_STOPPED_TOKEN_EXPIRED.MESSAGE):(n=START_ERROR.ERROR_STREAM_GENERAL.CODE,r=START_ERROR.ERROR_STREAM_GENERAL.MESSAGE),t._player.emit("onBatchEventSyncError",{errorCode:n,message:r}),t._logger.send("onBatchEventSyncError",{errc:n,msg:r,oErrc:e.errorCode,oMsg:"rtc error"}),t.stop()}));var s={roomId:n,token:r};t._logger.send("rtsJoinRoomStart",{rtsRoomId:n}),t._joinRoom(s).then((function(n){t._logger.send("rtsJoinRoomSuccess",{joinRet:n}),e(n)})).catch((function(e){a(e),t._logger.send("rtsJoinRoomError",{error:e})}))}))}},{key:"_joinRoom",value:function(e){var t=this,n=e.roomId,r=e.token;return new Promise((function(e,i){t._client.joinRoom(r,n,{userId:t._userId},{isAutoPublish:!1,isAutoSubscribeAudio:!1,isAutoSubscribeVideo:!1}).then((function(r){e(r),t._player.emit("onMasterJoinRoomSuccess",{userId:t._userId,roomId:n})})).catch((function(e){i(e)}))}))}},{key:"stop",value:function(){var e=this;return this._logger.send("rtsRoomStopStart"),new Promise((function(t,n){e._client?e._client.leaveRoom().then((function(){index.destroyEngine(e._client),e._logger.send("rtsRoomStopSuccess",{roomId:e._roomId}),t(!0)})).catch((function(t){e._logger.send("rtsRoomStopError",{error:t}),n(!1)})):(e._logger.send("rtsRoomStopSuccess",{roomId:e._roomId,reason:"noClient"}),n(!1))}))}},{key:"sendRoomMessage",value:function(e){var t=this;return this._logger.send("sendRtsRoomMessageStart",{message:e,roomId:this._roomId}),new Promise((function(n,r){t._client.sendRoomMessage(e).then((function(r){t._logger.send("sendRtsRoomMessageSuccess",{message:e,roomId:t._roomId}),n(r)})).catch((function(e){t._logger.send("sendRtsRoomMessageError",{error:e,roomId:t._roomId}),t._logger.localWarnLog("ClientTrigger","sendMessage.sendRtsRoomMessageSuccess","rtc-data-channel-error",e)}))}))}},{key:"sendUserMessage",value:function(e,t){var n=this;return new Promise((function(r,i){n._client.sendUserMessage(e,t).then((function(e){JSON.parse(t),r(e)})).catch((function(e){i({})}))}))}},{key:"_removeClientListener",value:function(){this._client&&this._client.removeAllListeners()}},{key:"destroy",value:function(){}}],[{key:"setDeviceId",value:function(e){e&&index.setParameter("DEVICE_ID",e)}}])}(),MaxPollingTime=10,BatchEventSyncHandler=function(){return _createClass$1((function e(t){_classCallCheck$1(this,e),this.rtsRoomList=[],this.clientList=[],this._status=0,this._roomIdMap={},this._roomId2Client={},this._podId2RoomId={},this._player=t,this._logger=this._player.logger,this.options={}}),[{key:"prepare",value:function(e){this._logger.send("batchEventPrepare",{info:e}),this.options=_objectSpread2(_objectSpread2({},e),{},{userId:"group_control_".concat(this._player.userId)}),null!=e&&e.masterPodId&&this.setMasterByPodId(null==e?void 0:e.masterPodId)}},{key:"startEventSync",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||!t.podExpireTime||!Array.isArray(null==t?void 0:t.podExpireTime)){e.next=19;break}r=_createForOfIteratorHelper$1(t.podExpireTime),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(a=i.value.expireTime,!(!Number.isInteger(a)||a<1||a>172800)){e.next=9;break}return o={errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,errorMessage:"expireTime invalid."},e.abrupt("return",Promise.reject(o));case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:return s=null,e.prev=20,this._status=1,this._logger.send("startPodEventSync",_objectSpread2({},this.options)),e.next=25,StartPodEventSync({token:this.options.token,roundId:"".concat(this._player.userId,"_").concat(Date.now()),productId:this.options.productId,userId:this.options.userId,controlledPodIdList:this.options.controlledPodIdList,enableForce:this.options.enableForce,phoneHost:this._player.phoneHost,masterPodId:this.options.masterPodId,extraInfoList:null==t?void 0:t.podExpireTime},this._logger);case 25:if(s=e.sent,this._logger.send("startPodEventSyncResult",_objectSpread2({},s)),((null===(l=s)||void 0===l?void 0:l.EventSyncRoomList)||[]).forEach((function(e){var t={appId:null==e?void 0:e.AppId,roomId:null==e?void 0:e.RoomId,token:null==e?void 0:e.Token,userId:null==e?void 0:e.UserId,roomSize:null==e?void 0:e.RoomSize,skey:null==e?void 0:e.SKey};c.rtsRoomList.push(t),c.createAndJoinRtsRoom(t)})),0!==this.rtsRoomList.length){e.next=30;break}throw Error("无rts房间");case 30:e.next=36;break;case 32:throw e.prev=32,e.t1=e.catch(20),this._status=4,e.t1;case 36:null!==(n=s)&&void 0!==n&&n.TaskId&&setTimeout((function(){c._pollingTaskStatus(s.TaskId,0)}),1e3);case 37:case"end":return e.stop()}}),e,this,[[2,13,16,19],[20,32]])}))),function(e){return a.apply(this,arguments)})},{key:"stopEventSync",value:function(){var e=this;try{this._status=3;var t=0;this._logger.send("stopEventSyncStart",{roomList:Object.keys(this._roomIdMap)});var n=this.clientList.length;this.clientList.forEach((function(r){var i=null==r?void 0:r._roomId;e._roomId2Client[i]=null,r.stop().finally((function(){t++,e._roomIdMap[i]=[],t===n&&(e._logger.send("stopEventSyncEnd"),e.clientList=[],e.rtsRoomList=[],e._roomIdMap={},e._roomId2Client={},e._podId2RoomId={})}))})),this._player._masterId=""}catch(r){this._status=0}}},{key:"updateControlPodList",value:function(e){this.options.controlledPodIdList=e}},{key:"setMasterByPodId",value:function(e){this._logger.send("setMasterByPodId",{masterPodId:e}),this._player._masterId=e,e||(this.options.masterPodId=e)}},{key:"createAndJoinRtsRoom",value:function(e){var t=this,n=this.initRTSClient(e.skey);this.clientList.push(n),this._roomId2Client[null==e?void 0:e.roomId]=n,this._logger.send("createAndJoinRtsRoomStart",{info:e}),n.start(e).then((function(){t._logger.send("createAndJoinRtsRoomSuccess",{info:e}),t._status=2})).catch((function(n){t._logger.send("createAndJoinRtsRoomError",{info:e,msg:n}),t._status=4}))}},{key:"initRTSClient",value:function(e){return new RTSEngine(this._player,{userId:this.options.userId,logger:this._logger,parentPodId2RoomId:this._podId2RoomId,skey:e})}},{key:"getEventSyncStatus",value:function(){return this._status}},{key:"getMasterId",value:function(){return this._player._masterId}},{key:"sendRtsRoomMessage",value:function(e){this.clientList.forEach((function(t){t.sendRoomMessage(JSON.stringify(e))}))}},{key:"_sendp2pMessage",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._roomId2Client[this._podId2RoomId[n]]){e.next=4;break}return i={message:"当前PodId不在群控范围内",errorCode:40100},e.abrupt("return",Promise.reject(i));case 4:return e.next=6,null==r?void 0:r.sendUserMessage(n,JSON.stringify(t));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"sendImeMessage",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={inputContext:t},i=MessageFactory$1.eventTypeInputCombineMethod(r),e.next=4,this._sendp2pMessage(i,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"sendClipBoardMessage",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=MessageFactory$1.eventTypeClipboard(encodeURIComponent(t)),e.next=3,this._sendp2pMessage(r,n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"onReceiveRtsMessage",value:function(e,t,n){var r,i,a;try{a=JSON.parse(n)}catch(o){this._logger.localErrorLog("BatchEventSyncHandler","onReceiveRtsMessage","parse message error",o)}switch(null===(r=a)||void 0===r?void 0:r.command){case SERVER_COMMAND.CMD_TOKEN_WILL_EXPIRE:this._player.emit("onBatchEventSyncWarning",{podId:t,message:POD_WARNING.WARNING_TOKEN_WILL_EXPIRE.MESSAGE,code:-1});break;case SERVER_COMMAND.CMD_UPDATE_TOKEN_RESP:0!==(null===(i=a.data)||void 0===i?void 0:i.result)&&this._player.emit("onBatchEventSyncError",{errorCode:POD_ERROR$1.ERROR_REMOTE_UPDATE_TOKEN_FAILED.CODE,podId:t,message:POD_ERROR$1.ERROR_REMOTE_UPDATE_TOKEN_FAILED.MESSAGE})}}},{key:"updateExpireTime",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_createForOfIteratorHelper$1(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=10;break}if(a=i.value.expireTime,!(!Number.isInteger(a)||a<1||a>172800)){e.next=8;break}return o={errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,errorMessage:"expireTime invalid."},e.abrupt("return",Promise.reject(o));case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:null===(n=t.forEach)||void 0===n||n.call(t,(function(e){if(s._podId2RoomId[e.podId]){var t=MessageFactory$1.eventTypeUpdateRTCTokenExpireTime(e.expireTime);s._sendp2pMessage(t,e.podId)}}));case 19:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))),function(e){return t.apply(this,arguments)})},{key:"_pollingTaskStatus",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l=this,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:0,3!==this._status){e.next=3;break}return e.abrupt("return");case 3:if(n!==MaxPollingTime){e.next=5;break}return e.abrupt("return");case 5:return r=null,n++,e.prev=7,e.next=10,GetTaskInfo({token:this.options.token,productId:this.options.productId,taskId:t,phoneHost:this._player.phoneHost},this._logger);case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),setTimeout((function(){l._pollingTaskStatus(t,n)}),1e3),e.abrupt("return");case 17:r?100===r.TaskResult?(this._logger.send("onEventSyncResult",{taskId:t,result:0,failureList:[]}),this._player.emit("onEventSyncResult",{result:0,failureList:[]})):n===MaxPollingTime?(o=null===(i=r.Jobs)||void 0===i||null===(a=i.filter)||void 0===a?void 0:a.call(i,(function(e){return 100!==e.Status})),s=null==o?void 0:o.map((function(e){var t={podId:e.PodId};switch(e.Status){case-1003:t.errorCode=-1003,t.errorMsg="ERROR_EVENT_SYNC_OVER_LIMIT";break;case 10:t.errorCode=-10,t.errorMsg="ERROR_EVENT_SYNC_TIMEOUT";break;default:t.errorCode=-1,t.errorMsg="ERROR_EVENT_SYNC_GENERAL_ERROR"}return t})),this._logger.send("onEventSyncResult",{taskId:t,result:-1,failureList:s}),this._player.emit("onEventSyncResult",{result:-1,failureList:s})):n<MaxPollingTime&&setTimeout((function(){l._pollingTaskStatus(t,n)}),1e3):setTimeout((function(){l._pollingTaskStatus(t,n)}),1e3);case 18:case"end":return e.stop()}}),e,this,[[7,13]])}))),function(t){return e.apply(this,arguments)})}]);var e,t,n,r,i,a}(),pageProcesstId="".concat((new Date).getTime()),Player=function(e){function t(e){var n,r,i,a,o;if(_classCallCheck$1(this,t),(a=_callSuper(this,t))._destroyed=!1,a._isHaiMACloud=!1,a._isSupported=isSupported,EventEmitter$2(a),e.podSettings&&(e.podSettings.max_pcu=1),a.options=e,a.isBatchStream=e.isBatchStream,a.userId=e.userId,a.domId=e.domId,a.customLocalKeyboardInputId=e.customLocalKeyboardInputId,a.useCustomLocalKeyboardInput=e.useCustomLocalKeyboardInput,a.region=e.region||"cn",a.mode=e.mode||MODE.CLOUD_PHONE_GAME,a.isVePhone=e.isVePhone||!1,a.usePB=null!==(n=e.usePB)&&void 0!==n?n:!a.isVePhone,a.isPC=e.isPC,a.disableInteraction=e.disableInteraction||!1,a.getResourceHost=e.getResourceHost,a.gameHost=e.gameHost,a.clientMode=e.clientMode,a.phoneHost=e.phoneHost,a.accountId=e.accountId,a.lastTouchTime=0,!a.accountId){var s=START_ERROR.ERROR_INIT_ACCOUNT_ID_ILLEGAL;throw new Error("init error. errorCode: ".concat(s.CODE,"; errMessage: ").concat(s.MESSAGE))}(a.localStream=null,a.touchHandler=null,a.status="init",a._keyCodeList=e.keyCodeList||[],a.uiDomRotation=0,a.isPodLxc=!1,a.did=getDeviceId(),a._isClusterControl=(null==e?void 0:e.isClusterControl)||!1,null!=e&&e.isDebug)&&(null===(o=sessionStorage)||void 0===o||o.setItem("_vegame_debuglog","true"));a._uesLocalKeyboard=e.enableLocalKeyboard,a._mediaProvider=e.mediaProvider,a.containerDomId=(null==e?void 0:e.containerDomId)||CONTAINER_DOM_ID,a._isAutoRefreshToken=!0,a._cacheToken=null,a._reservedId=null,a._commonHandler=null,a._videoStreamProfileHandler=null,a._backgroundHandler=null,a._autoRecycleTimeHandler=null,a._userProfilePathHandler=null,a._veMessageHandler=null,a._localKeyboardHandler=null,a._pcImeHandler=null,a._locationServiceHandler=null,a._remoteAppBackgroundHandler=null,a._clipboardHandler=null,a._clipboardAutoSyncHandler=null,a._fullscreenHandler=null,a._startWithFrameworkHandler=null,a._detectDelayHandler=null,a._controlRightHandler=null,a._remoteWindowSize=null,a._screenRecordHandler=new ScreenRecordHandler(a),a._keyboardDisableHandler=new KeyboardDisableHandler(a),a._networkHandler=new NetworkHandler(a),a._isEventSyncInOtherProcess=(null==e?void 0:e.isEventSyncInOtherProcess)||!1,a._isSocketSupport=e.isSocketSupport||!1,a.logger=new Logger$2({userId:a.userId,channelDomain:LOG_CHANNEL_DOMAIN,SDKVersion:a.getVersion()}),a._masterId=(null==e?void 0:e.masterId)||"",a._batchEventSyncHandler=new BatchEventSyncHandler(a),a.sessionId="sid_"+v4$2(),a.logger.setCommonParams({accountId:a.accountId,volcProduct:a.isVePhone?"vePhone":"veGame",initSessionId:"isid_"+v4$2(),sessionId:a.sessionId,uuid:a.did}),a.isBatchStream||a._initDOM({domId:a.domId,customLocalKeyboardInputId:a.customLocalKeyboardInputId,useCustomLocalKeyboardInput:a.useCustomLocalKeyboardInput}),a.initCoreHandlers(e),a.isBatchStream||a._init({containerDomId:a.containerDomId}),a.logger.setCommonParams({delivery:"rtc"}),a.logger.on("logger",(function(e){a.emit("logger",e)}));var l=(null===(r=sessionStorage)||void 0===r?void 0:r.getItem("_vegame_pageId"))||"isPageId_".concat(v4$2());return null===(i=sessionStorage)||void 0===i||i.setItem("_vegame_pageId",l),a.logger.send("init",{enableSyncClipboard:a.options.enableSyncClipboard||!1,enableLocationService:a.options.enableLocationService||!1,enableLocalKeyboard:a.options.enableLocalKeyboard||!1,enableLocalMouseScroll:a.options.enableLocalMouseScroll||!1,disableAudioInjection:a.options.disableAudioInjection||!1,disableDefaultTouchEvent:a.options.disableDefaultTouchEvent||!1,containerDomId:a.containerDomId,domId:a.domId,mode:a.mode,isPC:a.isPC,pageProcessId:pageProcesstId,pageId:l}),a.logger.localInfoLog("Init","init","init success"),a}return _inherits(t,e),_createClass$1(t,[{key:"config",get:function(){return this.handlers.ConfigHandler._config}},{key:"initCoreHandlers",value:function(e){var t=this;this.createHandlers(this),this._removeResizeMonitor=onResize((function(){t._updateVideoScale()})),this.assignStore(_objectSpread2(_objectSpread2({},pick(e,["gameHost","accountId","enableLocalKeyboard","userId","mode","isPC"])),{},{deviceId:this.did,sessionId:this.sessionId})),this.assignConfig(e.config),this.config.disableNetworkMonitor||this.handlers.PageLifeHandler.initNetworkMonitor(),this.initHandlers()}},{key:"usePB",get:function(){return MessageFactory$1.usePB},set:function(e){MessageFactory$1.usePB=e}},{key:"canOperate",get:function(){return!this._controlRightHandler||this._controlRightHandler.canOperate}},{key:"_setOptions",value:function(e){this.options=Object.assign(this.options,e),this.userId=e.userId}},{key:"_getDebugInfo",value:function(){return _objectSpread2(_objectSpread2({},this.logger.getCommonParams()),{},{userId:this.userId,channelDomain:LOG_CHANNEL_DOMAIN,SDKVersion:this.getVersion()})}},{key:"getVersion",value:function(){return this.config.customSDKVersion||"1.59.2"}},{key:"_setKeepAliveTime",value:function(e){this.logger.send("setIdleTime",{time:e});var t=MessageFactory$1.eventTypeKeepAliveTime({duration:e});return this._sendCustomMessage(t)}},{key:"_getKeepAliveTime",value:function(){var e=MessageFactory$1.eventTypeKeepAliveTime({action:1});return this._sendCustomMessageWithReturn({message:e,jsonCmd:SERVER_COMMAND.CMD_KEEP_ALIVE_TIME}).then((function(e){var t;return Promise.resolve(null==e||null===(t=e.data)||void 0===t?void 0:t.data)}))}},{key:"_setGameAudioVolumeUp",value:function(){var e=MessageFactory$1.eventTypeKeyCustom({keycode:INNER_KEYCODE.KEYCODE_VOLUME_UP,action:ACTION.DOWN}),t=MessageFactory$1.eventTypeKeyCustom({keycode:INNER_KEYCODE.KEYCODE_VOLUME_UP,action:ACTION.UP});this._sendCustomMessage(e),this._sendCustomMessage(t)}},{key:"_setGameAudioVolumeDown",value:function(){var e=MessageFactory$1.eventTypeKeyCustom({keycode:INNER_KEYCODE.KEYCODE_VOLUME_DOWN,action:ACTION.DOWN}),t=MessageFactory$1.eventTypeKeyCustom({keycode:INNER_KEYCODE.KEYCODE_VOLUME_DOWN,action:ACTION.UP});this._sendCustomMessage(e),this._sendCustomMessage(t)}},{key:"_setLocalAudioPlaybackVolume",value:function(e){return this.logger.send("setLocalAudioPlaybackVolume",{volume:e}),this.client.setVolume(e),0}},{key:"_getLocalAudioPlaybackVolume",value:function(){return this.logger.send("getLocalAudioPlaybackVolume",{volume:this.client.getVolume()}),this.client.getVolume()}},{key:"_setAutoRecycleTime",value:function(e){var t;return null==this||null===(t=this._autoRecycleTimeHandler)||void 0===t?void 0:t.setAutoRecycleTime(e)}},{key:"_getAutoRecycleTime",value:function(){var e;return null==this||null===(e=this._autoRecycleTimeHandler)||void 0===e?void 0:e.getAutoRecycleTime()}},{key:"_setUserProfilePath",value:function(e){var t;return null==this||null===(t=this._userProfilePathHandler)||void 0===t?void 0:t.setUserProfilePath(e)}},{key:"_getUserProfilePath",value:function(){var e;return null==this||null===(e=this._userProfilePathHandler)||void 0===e?void 0:e.getUserProfilePath()}},{key:"_setRemoteLocationMock",value:function(e){var t;return null==this||null===(t=this._locationServiceHandler)||void 0===t?void 0:t.setRemoteLocationMock(e)}},{key:"_enableLocationService",value:function(e){var t;null==this||null===(t=this._locationServiceHandler)||void 0===t||t.enableLocationService(e)}},{key:"_isLocationServiceEnabled",value:function(){var e;return null==this||null===(e=this._locationServiceHandler)||void 0===e?void 0:e.isLocationServiceEnabled()}},{key:"_setLocationServiceMode",value:function(e){var t;null==this||null===(t=this._locationServiceHandler)||void 0===t||t.setLocationServiceMode(e)}},{key:"_getLocationServiceMode",value:function(){var e;return null==this||null===(e=this._locationServiceHandler)||void 0===e?void 0:e.getLocationServiceMode()}},{key:"_setRemoteGameForeground",value:function(){var e;return null==this||null===(e=this._remoteAppBackgroundHandler)||void 0===e?void 0:e.setRemoteGameForeground()}},{key:"_getRemoteBackgroundAppList",value:function(){var e;return null==this||null===(e=this._remoteAppBackgroundHandler)||void 0===e?void 0:e.getRemoteBackgroundAppList()}},{key:"_setRemoteAppForeground",value:function(e){var t;return null==this||null===(t=this._remoteAppBackgroundHandler)||void 0===t?void 0:t.setRemoteAppForeground(e)}},{key:"_initDOM",value:function(e){var t=e.domId,n=e.customLocalKeyboardInputId,r=e.useCustomLocalKeyboardInput,i=document.getElementById(t);if(!i){var a=START_ERROR.ERROR_SDK_INIT_FAILED;throw new Error("init error. errorCode: ".concat(a.CODE,"; errMessage: ").concat(a.MESSAGE,"; detail: ").concat(t,"-dom不存在"))}var o=document.getElementById(this.containerDomId);o||((o=document.createElement("div")).id=this.containerDomId,o.style.width="100%",o.style.height="100%",o.style.position="relative",o.style.zIndex="1",o.style.overflow="hidden"),this._uesLocalKeyboard&&!this.isVePhone?(this._localKeyboardHandler=new LocalKeyboardHandler$1(this,{customLocalKeyboardInputId:n,useCustomLocalKeyboardInput:r}),this._localKeyboardHandler.inputCon&&o.appendChild(this._localKeyboardHandler.inputCon),this.mode===MODE.CLOUD_PC&&(this._pcImeHandler=new PCImeHandler(this))):this.isVePhone&&(isPC()||this._uesLocalKeyboard)&&(this._localKeyboardHandler=new LocalKeyboardHandler(this,{customLocalKeyboardInputId:n}),this._localKeyboardHandler.inputCon&&o.appendChild(this._localKeyboardHandler.inputCon)),i.appendChild(o)}},{key:"_destroyDOM",value:function(e){var t;null===(t=this._localKeyboardHandler)||void 0===t||t.destroy();var n,r=document.getElementById(e);r&&(null==r||null===(n=r.parentElement)||void 0===n||n.removeChild(r))}},{key:"_init",value:function(e){var t=e.containerDomId;this.logger.localInfoLog("Init","_init","sdk init..."),this._systemCursorShowStatHandler=new SystemCursorShowStatHandler(this),this.touchHandler=new TouchHandler(this,{domId:t,mode:this.mode,isPC:this.isPC,disableInteraction:this.disableInteraction,enableLocalMouseScroll:this.options.enableLocalMouseScroll,localKeyboardHandler:this._localKeyboardHandler,systemCursorShowStatHandler:this._systemCursorShowStatHandler,disableDefaultTouchEvent:this.options.disableDefaultTouchEvent}),this._initEnableConfig({containerDomId:t})}},{key:"_initEnableConfig",value:function(e){var t=e.containerDomId;this._commonHandler=new CommonHandler(this),this._veMessageHandler=new VEMessageHandler(this),this._videoStreamProfileHandler=new VideoStreamProfileHandler(this),this._backgroundHandler=new BackgroundHandler(this),this._autoRecycleTimeHandler=new AutoRecycleTimeHandler(this),this._userProfilePathHandler=new UserProfilePathHandler(this),this._clipboardHandler=new ClipboardHandler(this),this.isVePhone&&(this._locationServiceHandler=new LocationServiceHandler(this,{enable:this.options.enableLocationService})),this._remoteAppBackgroundHandler=new RemoteAppBackgroundHandler(this),this.options.enableSyncClipboard&&(this._clipboardAutoSyncHandler=new ClipboardAutoSyncHandler(this,{containerDomId:t})),this._localAudioHandler=new LocalAudioHandler(this),this._localCameraHandler=new LocalCameraHandler(this),this._fullscreenHandler=new FullscreenHandler(this),this._screenShotHandler=new ScreenShotHandler(this),this._startWithFrameworkHandler=new StartWithFrameworkHandler(this),this._controlRightHandler=this.isVePhone?new VePhoneControlRightHandler(this):new ControlRightHandler(this),this._detectDelayHandler=new DetectDelayHandler(this,{mode:this.mode}),this.status="init"}},{key:"_markCustomError",value:function(e){var t,n=buildCustomError(e);return null===(t=this.logger)||void 0===t||t.send("debugError",{code:n.errorCode,message:n.errorMessage}),n}},{key:"_start",value:(U=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f,E,v,y,g,T,V,k,N,b,C,J,W,D,Z,M,I,O,A,w,x,P,L,G,Y,H,$,j,X,K,z,q,ee,te,ne,re,ie,ae,oe,se,le,ce,de=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.mute,a=void 0!==i&&i,o=t.token,s=t.gameId,l=t.customGameId,c=t.productId,d=t.roundId,u=t.videoStreamProfileId,U=t.accountId,F=t.podId,p=t.applicationId,Q=t.planId,h=t.reservedId,R=t.rotation,_=t.gameRotation,S=t.isScreenLock,B=t.isReset,m=t.userTag,f=t.extra,E=t.audioAutoPlay,v=t.mediaProvider,y=t.autoRecycleTime,g=t.waitTime,T=t.userProfilePathList,V=t.remoteLocationMock,k=t.enableFullScreen,N=t.systemCursorShowStatManual,b=t.keyboardEnable,C=void 0===b||b,J=t.videoRenderMode,W=void 0===J?VIDEO_RENDER_MODE.CONTAIN:J,D=t.remoteWindowSize,Z=t.sessionMode,M=void 0===Z?0:Z,I=t.queuePriority,O=void 0===I?0:I,A=t.hasVideoBlackPadding,w=void 0!==A&&A,t.isPcPortraitGame,x=t.idleReminderDuration,P=t.isSimpleFetch,L=void 0!==P&&P,G=t.masterId,Y=t.expireTime,H=void 0===Y?null:Y,$=withResolve$1(),j=$.promise,X=$.resolve,K=$.reject,G&&(this._masterId=G),!this._destroyed){e.next=5;break}throw this._markCustomError("SDK 已经销毁，请重新初始化");case 5:if(this.assignStore({queuePriority:O,sessionMode:M,videoStreamProfileId:u,gameId:s,productId:c,token:o,rotation:R,gameRotation:_,isScreenLock:S,roundId:d}),this.isVePhone||void 0!==d){e.next=8;break}throw this._markCustomError("roundId 为空:".concat(d));case 8:if(this._gameId=s,this.mode===MODE.CLOUD_PHONE_GAME&&(!_&&R?_=R:!R&&_&&(R=_)),this.handlers.QueueHandler.setQueuePriority(O),this.handlers.HangUpHandler.initMode(M),this._startResolve=X,this._startReject=K,this._startRejectFn=function(e){(null==e?void 0:e.errorCode)!==START_ERROR.ERROR_START_STREAM_AUTO_PLAY_FAILED.CODE&&de._renewSessionId(),de._startReject(e)},z=U||this.accountId,this.logger.localInfoLog("Start","_start","sdk start..."),this.logger.setCommonParams({roundId:d,gameId:s,planId:Q,productId:c,reservedId:h,podId:F,accountId:z}),q=Date.now(),this.on("first-remote-video-render",(function(){var e=Date.now()-q;console.log("首帧耗时: ".concat(e)),de.emit("first-frame-elapse",e)})),this.logger.send("start",{gameId:s,rotation:R,gameRotation:_,sessionMode:M,mute:a,token:o,isScreenLock:S,systemCursorShowStatManual:N,videoRenderMode:W,remoteWindowSize:D,reservedId:h,extra:f,queuePriority:O,accountId:U,idleReminderDuration:x}),this._cacheToken=o,this._needFirstClickPlayAudio=!1,E&&(this._needFirstClickPlayAudio=!0),this._isRotationGameService=!1,this._isAutoRefreshToken=!1!==(null==f?void 0:f.autoRefreshToken),null==f||delete f.autoRefreshToken,!this.isVePhone||null===H){e.next=37;break}if(Number.isInteger(H)){e.next=32;break}return e.abrupt("return",this._startRejectFn({errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,errorMessage:"expireTime invalid."}));case 32:if(!(H<1||H>172800)){e.next=36;break}return e.abrupt("return",this._startRejectFn({errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,errorMessage:"expireTime invalid."}));case 36:this._isAutoRefreshToken=!1;case 37:if(this.rotationMode=R||"auto_rotation",!this.isVePhone||R&&"landscape"!==R||(this._isRotationGameService=!0),"start"!==this.sessionIdState){e.next=44;break}return ee=POD_WARNING.WARNING_START_NO_STOP_BEFORE,te=ee.CODE,ne=ee.MESSAGE,this.emit("warning",{errorCode:te,message:ne}),this._startReject({errorCode:te,message:ne}),e.abrupt("return");case 44:return this.sessionIdState="start",null==this||null===(n=this._veMessageHandler)||void 0===n||n.initMap(),this.touchHandler&&(this.touchHandler.videoRenderMode=W,this.touchHandler.hasVideoBlackPadding=w),null==this||null===(r=this._systemCursorShowStatHandler)||void 0===r||r.setSystemCursorShowStatManual(N),this.logger.localInfoLog("Start","_start","engine select..."),this._remoteWindowSize=_objectSpread2({},D),re=document.getElementById(this.containerDomId),ie=(null==D?void 0:D.width)||re.clientWidth,ae=(null==D?void 0:D.height)||re.clientHeight,0!==(null==D?void 0:D.width)&&0!==(null==D?void 0:D.height)||(ie=void 0,ae=void 0),y<=0&&this.logger.localWarnLog("Start","_start",POD_WARNING.WARNING_START_INVALID_AUTO_RECYCLE_TIME),e.next=57,chooseMediaProvider(v||this._mediaProvider);case 57:if(this._mediaProvider=e.sent,!this.isVePhone){e.next=63;break}this.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.STARTED}),PhoneStart({accountId:z,phoneHost:this.phoneHost,width:ie,height:ae,rotation:R,productId:c,podId:F,did:this.did,userId:this.userId,token:o,applicationId:p,planId:Q,isReset:B,roundId:d,videoStreamProfileId:u,userTag:m,extra:f,sessionId:this.sessionId,mediaProvider:this._mediaProvider,remoteLocationMock:V,enableLocalKeyboard:this.options.enableLocalKeyboard,autoRecycleTime:y,mode:this.mode,platform:getPlatform(),sdkVersion:this.getVersion(),waitTime:g,isSimpleFetch:L,expireDuration:H},this.logger).then((function(e){de.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.PODSTART_SUCCESS}),de._reservedId=e.reserved_id,de._skey=e.s_key,de._podId=e.pod_id,de._mediaProvider=e.media_provider,de._roomId=e.room_id,de.setStore("reservedId",e.reserved_id),de.logger.setCommonParams({planId:e.configuration_code,reservedId:e.reserved_id,podId:e.pod_id}),e.media_provider===COMMUNICATION_MODE.RTC?(de.podUserId=e.pod_user_id,de._startRTC({roomId:e.room_id,token:e.token,podUserId:e.pod_user_id,rtcAppId:e.rtc_app_id,width:e.width,height:e.height,mute:a,rotation:e.rotation_mode,isScreenLock:S,startTime:q,extra:f,videoRenderMode:W,expectedIDC:null==e?void 0:e.expected_rtc_idc}).then((function(e){de._detectDelayHandler.start(),de.logger.send("onStartSuccess");var t=MessageFactory$1.eventTypeInputMethodVersion(3);de._sendCustomMessage(t),X(e)})).catch((function(e){K(e)}))):de._startSocket({url:e.websocket_url,token:e.media_token,podUserId:e.pod_user_id,domWidth:ie,domHeight:ae,width:e.width,height:e.height,mute:a,rotation:e.screen_rotation,startTime:q,roundId:d}).then((function(e){de.logger.send("onStartSuccess"),X(e)})).catch((function(e){de._startRejectFn(e)}))})).catch((function(e){de.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.PODSTART_ERROR}),de._openApiStartFail({err:e,startTime:q,reject:K})})),e.next=71;break;case 63:return this._keyboardDisableHandler.setEnabled(C),oe=this.handlers.QueueHandler,se=function(){return{width:de.mode===MODE.CLOUD_PC&&"portrait"===R?ae:ie,height:de.mode===MODE.CLOUD_PC&&"portrait"===R?ie:ae}},e.next=68,generateStartBody(_objectSpread2(_objectSpread2({accountId:z,gameHost:this.gameHost,gameId:s,customGameId:l,token:o,userId:this.userId,did:this.did,roundId:d,videoStreamProfileId:u,planId:Q,reservedId:h,sessionId:this.sessionId,autoRecycleTime:y},se()),{},{rotation:_,isScreenLock:S,userTag:m,extra:f,mediaProvider:this._mediaProvider,userProfilePathList:T,enableFullScreen:k,platform:getPlatform(),podSettings:this.options.podSettings,sdkVersion:this.getVersion(),sessionMode:M,queuePriority:O,idleReminderDuration:x,disableWebTsABTest:this.config.disableWebTsABTest,mode:this.mode}));case 68:le=e.sent,(oe.needUseQueue?oe.gameStart(le,se):GameStart(le,{token:o,gameHost:this.gameHost,roundId:d},this.logger)).then((function(e){de._startGameNext(e,{startTime:q,domWidth:ie,domHeight:ae,mute:a,gameId:s,roundId:d,isScreenLock:S,extra:f,videoRenderMode:W})})).catch((function(e){de._openApiStartFail({err:e,startTime:q,reject:K})}));case 71:return this.isVePhone&&(null===(ce=this._controlRightHandler)||void 0===ce||ce.start()),e.abrupt("return",j);case 73:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"_startGameNext",value:function(e,t){var n=t.startTime,r=t.domWidth,i=t.domHeight,a=t.mute,o=t.gameId,s=t.roundId,l=t.isScreenLock,c=t.extra,d=t.videoRenderMode;this._reservedId=e.reserved_id,this._skey=e.skey,RTCEngine.setDeviceId(e.media_device_id);var u=this.config.expectedIdc||e.expected_rtc_idc;this.assignStore({reservedId:e.reserved_id,skey:e.skey,expectedIdc:u,paasGameRotation:e.game_rotation}),this.isPodLxc=!0,this._rtc_business_id=e.rtc_business_id,this.logger.setCommonParams({planId:e.configuration_code,reservedId:e.reserved_id,customGameId:e.custom_game_id,podId:e.game_pod_id}),this._selectMediaProvider({res:e,startTime:n,domWidth:r,domHeight:i,mute:a,gameId:o,roundId:s,isScreenLock:l,extra:c,videoRenderMode:d})}},{key:"_selectMediaProvider",value:function(e){var t=this,n=e.res,r=e.startTime,i=e.domWidth,a=e.domHeight,o=e.mute,s=e.gameId,l=e.roundId,c=e.isScreenLock,d=e.extra,u=e.videoRenderMode,U=n.media_provider;this._mediaProvider=U;var F=n.game_type,p="pc"===F?this.rotationMode:n.game_rotation;if(U===COMMUNICATION_MODE.RTC)this._startRTC({roomId:n.room_id,token:n.token,podUserId:n.pod_user_id,rtcAppId:n.rtc_app_id,width:n.stream_width,height:n.stream_height,mute:o,rotation:p,startTime:r,isScreenLock:c,extra:d,gameType:F,videoRenderMode:u}).then((function(e){t.logger.send("onStartSuccess"),t._detectDelayHandler.start(),t.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_START_SUCCESS}),t._startResolve(_objectSpread2({roundId:l,reservedId:n.reserved_id,gameId:s,extra:d},e))})).catch((function(e){t._startRejectFn(e)}));else if(U===COMMUNICATION_MODE.WTS)this._startWTS({mediaUrl:n.webts_url,width:n.stream_width,height:n.stream_height,videoRenderMode:u,rotation:p,startTime:r,isScreenLock:c,extra:d,gameType:F,roomId:n.room_id,mediaAppId:n.media_app_id}).then((function(){t.logger.send("onStartSuccess"),t._detectDelayHandler.start(),t.emit("on-start-process-status-changed",{status:START_CONNECTION_STATUS.CLIENT_START_SUCCESS}),t._startResolve({roundId:l,reservedId:n.reserved_id,gameId:s,extra:d})})).catch((function(e){t._startRejectFn(e)}));else{if(U!==COMMUNICATION_MODE.WS)throw new Error("Unsupported MediaProvider ".concat(U));this._startSocket({url:n.websocket_url,token:n.media_token,podUserId:n.pod_user_id,domWidth:i,domHeight:a,width:n.stream_width,height:n.stream_height,mute:o,rotation:n.game_rotation,startTime:r,extra:d,videoRenderMode:u}).then((function(e){t.logger.send("onStartSuccess"),t._startResolve(_objectSpread2({roundId:l,reservedId:n.reserved_id,gameId:s,extra:d},e))})).catch((function(e){t._startRejectFn(e)}))}}},{key:"_openApiStartFail",value:function(e){var t=e.err,n=e.startTime,r=e.reject,i=t.errorCode,a=t.message,o=t.originalErrorCode,s=t.originalMessage;this.logger.send("startFailure",{cost:(new Date).valueOf()-n.valueOf(),errc:i,msg:a,oErrc:o,oMsg:s,oReqId:t.requestId}),this._renewSessionId(),r({errorCode:i,message:a,originalMessage:s,originalErrorCode:o})}},{key:"_startRTC",value:function(e){var t=this,n=e.roomId,r=e.token,i=e.podUserId,a=e.rtcAppId,o=e.width,s=e.height,l=e.mute,c=e.videoRenderMode,d=void 0===c?VIDEO_RENDER_MODE.CONTAIN:c,u=e.rotation,U=void 0===u?0:u,F=e.startTime,p=void 0===F?new Date:F,Q=e.isScreenLock,h=e.extra,R=void 0===h?{}:h,_=e.gameType,S=void 0===_?"android":_,B=e.noScale,m=e.noScaleAndLandscape,f=e.isHaiMACloud,E=void 0!==f&&f,v=e.expectedIDC,y=void 0===v?null:v;return this._isHaiMACloud=E,E&&(this.usePB=!1),this.podUserId=i,new Promise((function(e,c){if(t._destroyed)throw t._markCustomError("SDK 已经销毁, start 失败");t.logger.setCommonParams({roomId:n,rtcAppId:a}),t.client||(t.client=new RTCEngine(t,{userId:t.userId,logger:t.logger,configServerHost:RTC_HOST[t.region],containerDomId:t.containerDomId,sdkType:SDK_TYPE,expectedIDC:y}));var u=t.client;t._commonStartAction({rotation:U,gameType:S,noScaleAndLandscape:m,noScale:B,height:s,width:o,extra:R,isScreenLock:Q}),u.start({roomId:n,token:r,podUserId:i,rtcAppId:a,width:o,height:s,mute:l,videoRenderMode:d,startTime:p,gameType:S,disableAudioInjection:t.options.disableAudioInjection}).then((function(n){var r=n.width,i=n.height;t.logger.send("onFirstRemoteVideoFrameRendered",{cost:(new Date).valueOf()-p.valueOf()}),e({width:r,height:i})})).catch(c)}))}},{key:"_commonStartAction",value:function(e){var t=e.rotation,n=e.gameType,r=e.noScaleAndLandscape,i=e.noScale,a=e.height,o=e.width,s=e.extra,l=e.isScreenLock;this._isRotationGameService||this._touchRotation(t,n),("pc"===n&&"portrait"===t||r)&&(this.touchHandler.noScaleAndLandscape=!0),("pc"===n&&"portrait"!==t||i)&&(this.touchHandler.noScale=!0),this.store.isPcPortraitGame&&("pc"!==n||"portrait"!==t||this.isPC||(this.touchHandler.noScaleAndLandscape=!1,this.touchHandler.noScale=!0)),this.touchHandler.setContentSize({width:this.touchHandler.noScaleAndLandscape?a:o,height:this.touchHandler.noScaleAndLandscape?o:a,enableScale:!s.isPCWeb}),l&&(this._screenLockHandler||(this._screenLockHandler=new ScreenLockHandler(this,{domId:this.domId})))}},{key:"_startSocket",value:function(e){var t=this,n=e.url,r=e.token,i=e.podUserId,a=e.domWidth,o=e.domHeight,s=e.width,l=e.height,c=e.mute,d=e.videoRenderMode,u=void 0===d?VIDEO_RENDER_MODE.CONTAIN:d,U=e.rotation,F=void 0===U?0:U,p=e.startTime,Q=void 0===p?new Date:p,h=e.roundId,R=e.extra,_=void 0===R?{}:R;return new Promise((function(e,d){if(t.logger.send("socketStart",{cost:(new Date).valueOf()-Q.valueOf()}),t._destroyed)throw t._markCustomError("SDK 已经销毁, start 失败");t.client||(t.client=new SocketEngine(t,{userId:t.userId,logger:t.logger,containerDomId:t.containerDomId}));var U=t.client;t._isRotationGameService||t._touchRotation(F),t.touchHandler.setContentSize({width:s,height:l,enableScale:!_.isPCWeb}),U.start({url:n,token:r,podUserId:i,width:a,height:o,mute:c,videoRenderMode:u,startTime:Q}).then((function(n){t.logger.send("onFirstRemoteVideoFrameRendered",{cost:(new Date).valueOf()-Q.valueOf()}),e({width:s,height:l,roundId:h,extra:_})})).catch(d)}))}},{key:"_startWTS",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h,R,_,S,B,m,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mediaUrl,r=t.width,i=t.height,a=t.videoRenderMode,o=void 0===a?VIDEO_RENDER_MODE.CONTAIN:a,s=t.rotation,l=void 0===s?0:s,c=t.startTime,d=void 0===c?new Date:c,u=t.isScreenLock,U=t.extra,F=void 0===U?{}:U,p=t.gameType,Q=void 0===p?"android":p,h=t.roomId,R=void 0===h?"":h,_=t.mediaAppId,S=void 0===_?"":_,B=withResolve$1(),m=B.promise,f=B.resolve,this.logger.setCommonParams({delivery:"webts",roomId:R,mediaAppId:S}),this.logger.send("webtsStart",{cost:(new Date).valueOf()-d.valueOf()}),!this._destroyed){e.next=6;break}throw this._markCustomError("SDK 已经销毁, start 失败");case 6:return this.client=new WebtsEngine(this,{userId:this.userId,logger:this.logger,containerDomId:this.containerDomId,mediaUrl:n,videoRenderMode:o}),this._commonStartAction({rotation:l,gameType:Q,noScaleAndLandscape:!1,noScale:!1,height:i,width:r,extra:F,isScreenLock:u}),e.next=10,this.client.start();case 10:return this.on("_onVideoFirstFrameRendered",(function(){f()})),e.abrupt("return",m);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"_restart",value:function(){this.logger.send("restartGame");var e=MessageFactory$1.eventTypeRestart();return this._sendCustomMessage(e)}},{key:"_playByInteraction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.logger.send("playByInteraction"),new Promise((function(n,r){e.client.renderEle?e.client.play(t).then((function(){e.logger.send("playByInteractionSuccess"),n()})).catch((function(t){var n=t.code,i=t.message,a=START_ERROR.ERROR_START_STREAM_AUTO_PLAY_FAILED.CODE,o=START_ERROR.ERROR_START_STREAM_AUTO_PLAY_FAILED.MESSAGE;e.logger.localErrorLog("Start","playByInteraction fail",t.code,t.msg),e.logger.send("playByInteractionFailure",{errc:a,msg:o,oMsg:i,oErrc:n}),r(t)})):(e.logger.send("playByInteractionFailure",{msg:"renderEle is null"}),r())}))}},{key:"_touchRotation",value:function(e,t){"portrait"===e?e=0:"landscape"===e&&(e=270),"pc"===t&&(e=0),this.touchHandler.setRotation(e)}},{key:"_stop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.logger.send("stop",{isUserStop:t}),this._stopSendAudioStream(),this._stopVideoStream(),new Promise((function(t,r){var i;e._destroyHandler(),(null===(i=e.client)||void 0===i?void 0:i.getConnectionState())?e.client.stop().then((function(){n&&e._renewSessionId(),t()})).catch((function(t){n&&e._renewSessionId(),r(t)})):(n&&e._renewSessionId(),t())}))}},{key:"_pauseOrResume",value:function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.client.pauseOrResume(n),null===(e=this._detectDelayHandler)||void 0===e||e.pause(n),null===(t=this.handlers.HangUpHandler)||void 0===t||t.hangUpPause(n)}},{key:"_renewToken",value:function(e){this._cacheToken=e,this.logger.send("renewToken",{newToken:e})}},{key:"_renewSessionId",value:function(){if("start"===this.sessionIdState){this.sessionIdState="stop",this.sessionId="sid_"+v4$2(),this.setStore("sessionId",this.sessionId),this.logger.setCommonParams({sessionId:this.sessionId});this.logger.localInfoLog("Stopped","_renewSessionId","[31m".concat("生成新的sessionId",":").concat(this.logger.getCommonParams().sessionId,"[0m"))}}},{key:"_updateVideoScale",value:function(){var e,t,n;this._screenLockHandler?this.emit("__refresh_screen_lock_state"):(null===(e=this.client)||void 0===e||null===(t=e._updateVideoScale)||void 0===t||t.call(e),this.touchHandler&&this.touchHandler.updateVideoScale(null===(n=this.client)||void 0===n?void 0:n.renderEle))}},{key:"_rotateCoordinate",value:function(e){this.touchHandler&&this.touchHandler.setDegree(e)}},{key:"_rotateScreen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.touchHandler){var n=Math.round(e/90)%2==1?360-e:e;this._rotateVideoParentDom(n),this._rotateCoordinate(n),t&&this._sendRotateEventToGame(180===e?0:e)}}},{key:"_rotateVideoParentDom",value:function(e){var t=document.getElementById(this.domId),n=document.getElementById(this.containerDomId);if(t){var r,i;if(r=t.clientWidth||t.offsetWidth,i=t.clientHeight||t.offsetHeight,0===r)return!1;if(r>i){var a=i;i=r,r=a}n.style.width="".concat(r,"px"),n.style.height="".concat(i,"px"),n.style.transform=270===e||90===e?"translate(".concat(Math.abs(r-i)/2,"px, ").concat(-Math.abs(r-i)/2,"px) rotate(").concat(e,"deg)"):180===e?"rotate(".concat(e,"deg)"):""}}},{key:"_sendRotateEventToGame",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.logger.send("rotateEvent",{rotation:e}),new Promise((function(r,i){var a=MessageFactory$1.eventRotatePhoneEvent(e,n);t._sendCustomMessage(a).then((function(){r()})).catch((function(){i()}))}))}},{key:"_rotate",value:function(e){this.touchHandler&&this.touchHandler.setRotation(e)}},{key:"_setAudioMute",value:function(e){return this.client.setAudioMute(e)}},{key:"_muteAudio",value:function(e){return this.logger.send("muteAudio",{mute:e}),this.client.muteStream({audio:e},SUBSCRIBE_TYPE.AUDIO)}},{key:"_isAudioMuted",value:function(){return this.client.isAudioMuted()}},{key:"_muteVideo",value:function(e){return this.logger.send("muteVideo",{mute:e}),this.client.muteStream({video:e},SUBSCRIBE_TYPE.VIDEO)}},{key:"_isVideoMuted",value:function(){return this.client.isVideoMuted()}},{key:"_getStats",value:function(){return this.client.getStats()}},{key:"_getConnectionState",value:function(){if(this.client)return this.client.getConnectionState()}},{key:"_getDeviceId",value:function(){return this.logger.send("getDeviceId"),this.did}},{key:"getResourceStatus",value:function(){var e=this;return new Promise((function(t,n){GetResourceStatus({getResourceHost:e.getResourceHost,reservedId:e._reservedId,skey:e._skey},e.logger).then((function(e){t(e)})).catch((function(e){t(e)}))}))}},{key:"getVePhonePodStatus",value:function(){var e=this;return new Promise((function(t,n){GetVePhonePodStatus({getResourceHost:e.getResourceHost,reservedId:e._reservedId,sKey:e._skey,podId:e._podId},e.logger).then((function(e){console.log("🚀 ~ file: index.ts:1740 ~ getVePhonePodStatus Result:",e),t({podStatus:e.ExitCode})})).catch(n)}))}},{key:"updateMediaToken",value:function(){if(!this.isVePhone||this._isAutoRefreshToken)return(this.isVePhone?UpdatePhoneRTCToken:UpdateMediaToken)({getResourceHost:this.getResourceHost,reservedId:this._reservedId,skey:this._skey,userId:this.userId},this.logger);this.emit("warning",{warningCode:POD_WARNING.WARNING_TOKEN_WILL_EXPIRE.CODE,message:POD_WARNING.WARNING_TOKEN_WILL_EXPIRE.MESSAGE})}},{key:"_updateRTSToken",value:function(e){return UpdatePhoneRTCToken({getResourceHost:this.getResourceHost,skey:e},this.logger)}},{key:"_changeLocalKeyboardStatus",value:function(e){(e===POD_KEYBOARD_STATUS.VIRTUAL_KEYBOARD&&this._uesLocalKeyboard||e===POD_KEYBOARD_STATUS.LOCAL_KEYBOARD&&!this._uesLocalKeyboard)&&(this._uesLocalKeyboard=e!==POD_KEYBOARD_STATUS.VIRTUAL_KEYBOARD)}},{key:"_monitorPod",value:function(e){var t=this,n=e.monitorPodId,r=e.startTime,i=void 0===r?new Date:r,a=e.monitorUserId,o=e.monitorToken,s=e.monitorAccountId;return new Promise((function(e,r){MonitorPod({phoneHost:t.phoneHost,monitorPodId:n,monitorUserId:a,monitorToken:o,monitorAccountId:s},t.logger).then((function(n){t.logger.send("monitorPodSuccess",n),e(n)})).catch((function(e){var n=e.errorCode,a=e.message,o=e.originalErrorCode,s=e.originalMessage;t.logger.send("monitorPodFailure",{cost:(new Date).valueOf()-i.valueOf(),errc:n,msg:a,oErrc:o,oMsg:s,oReqId:e.requestId}),r({errorCode:n,message:a})}))}))}},{key:"_closeApp",value:function(e){this._sendControlMessage(e,0)}},{key:"_launchApp",value:function(e){this._sendControlMessage(e,1)}},{key:"_sendVEMessage",value:function(e){var t=e.message,n=e.needAck,r=e.timeout,i=e.destUserId,a=e.key;return this._veMessageHandler.sendVEMessage({message:t,needAck:n,timeout:r,destUserId:i,key:a})}},{key:"_sendClipBoardMessage",value:function(e){return this.logger.send("sendClipBoardMessage",{length:e.length}),this._clipboardHandler.sendClipBoardMessage(e)}},{key:"_sendCustomMessage",value:function(e){var t;return this._masterId&&EVENT_SYNC_CODE.includes(null==e?void 0:e.op_type)?(this.emit("onBatchEventSyncEvent",e),(null===(t=this._batchEventSyncHandler)||void 0===t||null===(t=t.clientList)||void 0===t?void 0:t.length)>0&&this._batchEventSyncHandler.sendRtsRoomMessage(e),Promise.resolve()):this.handlers.MessageHandler.sendMessage(e)}},{key:"_sendMessage",value:function(e,t){return this.handlers.MessageHandler.sendMessageBase(e,t)}},{key:"_sendCustomMessageWithReturn",value:function(e){return this.handlers.MessageHandler.sendMessageWithReturn(e)}},{key:"_sendTouchMessage",value:function(e){return this.touchHandler.sendTouchMessage(e)}},{key:"_sendControlMessage",value:function(e,t){var n=MessageFactory$1.eventTypeAppManager(e,t);this._sendCustomMessage(n)}},{key:"_sendKeycodeMessage",value:function(e){var t=this,n=e.keycode,r=e.action;return new Promise((function(e,i){if(t._checkKeycode(Number(n))){var a=MessageFactory$1.eventTypeKey({keycode:n,action:r});t.logger.send("sendKey",{keycode:n,action:r}),t._sendCustomMessage(a).then((function(i){t.logger.send("sendKeySuccess",{keycode:n,action:r}),e(i)})).catch((function(e){var a=e.errorCode,o=e.message;t.logger.send("sendKeyFail",{keycode:n,action:r,errorCode:a,message:o}),i(e)}))}else t.logger.send("sendKeyFail",{keycode:n,action:r,errorCode:"",message:"暂不支持该 code"}),i("暂不支持该 code")}))}},{key:"_checkKeycode",value:function(e){var t=[3,4,82,187];return this._keyCodeList.length>0?[].concat(t,_toConsumableArray(this._keyCodeList)).includes(e):t.includes(e)}},{key:"_sendMouseMessage",value:function(e){var t,n=e.button,r=e.action,i=e.wheel,a=e.hwheel,o=e.x,s=e.y,l=e.movementX,c=e.movementY;if(this.mode===MODE.CLOUD_PC)switch(r){case ACTION.DOWN:t=ProtoBufMessage.encodeMouseKeyMsg(n,!0);break;case ACTION.UP:t=ProtoBufMessage.encodeMouseKeyMsg(n,!1);break;case ACTION.MOVE:var d=document.getElementById(this.domId),u=(null==d?void 0:d.clientWidth)||0,U=(null==d?void 0:d.clientHeight)||0;if(this._screenLockHandler?this._screenLockHandler._isRotation:isLandscape()){var F=[U,u];u=F[0],U=F[1]}var p=limitRange(Math.floor(u*o),1,u-1),Q=limitRange(Math.floor(U*s),1,U-1),h=ProtoBufMessage.encodeMouseMoveMsg({movementX:l||0,movementY:c||0,clientWidth:u,clientHeight:U,offsetX:p,offsetY:Q}),R=h.movePBMessage;t=h.cursorPosPBMessage,(l||c)&&this._sendCustomMessage(R);break;case ACTION.WHEEL:t=ProtoBufMessage.encodeWheelMsg(a,i)}else t=MessageFactory$1.eventTypeMouse({button:n,action:r,wheel:i,x:o,y:s});return this._sendCustomMessage(t)}},{key:"_sendKeyboardMessage",value:function(e){var t=e.keycode,n=e.action;if(this.mode===MODE.CLOUD_PC){var r=ProtoBufMessage.encodeKeyMsg(t,!(n!==ACTION.DOWN));return this._sendCustomMessage(r)}}},{key:"_sendGamepadButtonMessage",value:function(e){var t=e.keycode,n=e.action,r=e.index,i=void 0===r?0:r;if(this.mode===MODE.CLOUD_PC){var a=MessageFactory$1.eventTypeKey({keycode:t,action:n,index:i});return this._sendCustomMessage(a)}}},{key:"_sendJoystickMessage",value:function(e){var t=e.leftX,n=e.leftY,r=e.rightX,i=e.rightY,a=e.leftT,o=e.rightT,s=e.index,l=void 0===s?0:s;if(this.mode===MODE.CLOUD_PC){var c=MessageFactory$1.eventTypeGdapJoystick({leftX:t,leftY:n,rightX:r,rightY:i,leftT:a,rightT:o,index:l});this._sendCustomMessage(c)}}},{key:"_sendGamePadPbMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.mode===MODE.CLOUD_PC){var t=ProtoBufMessage.encodeGamePadMsg(e);return this._sendMessage(t,!0)}}},{key:"_enableLocalAudio",value:function(){var e=this;return new Promise((function(t,n){e.localStream||navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then((function(r){e.client?e.client._publishStream().then((function(){e.logger.send("enableLocalAudioSuccess"),e.localStream=!0,t()})).catch((function(){n()})):e.logger.send("enableLocalAudioFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.CLIENT_NOT_INIT.CODE,errMsg:SDK_CUSTOM_ERROR.CLIENT_NOT_INIT.MESSAGE,oErr:""})})).catch((function(t){e.logger.send("enableLocalAudioFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.GET_USER_MEDIA_FAIL.CODE,errMsg:SDK_CUSTOM_ERROR.GET_USER_MEDIA_FAIL.MESSAGE,oErr:t}),n()}))}))}},{key:"_disableLocalAudio",value:function(){var e=this;return new Promise((function(t,n){e.client?e.client._unPublishStream().then((function(){e.logger.send("disableLocalAudioSuccess"),t()})).catch((function(){n()})):e.logger.send("disableLocalAudioFail",{eventType:"sdkError",errCode:SDK_CUSTOM_ERROR.CLIENT_NOT_INIT.CODE,errMsg:SDK_CUSTOM_ERROR.CLIENT_NOT_INIT.MESSAGE,oErr:""})}))}},{key:"messageReceivedHandler",value:function(e,t){var n,r,i,a,o,s,l,c,d,u,U,F,p,Q,h;if(e.message){var R=Object.prototype.toString.call(e.message);if("[object String]"===R)try{n=JSON.parse(e.message)}catch(e2){return void this.logger.localWarnLog("PodTrigger","messageReceivedHandler",e2)}"[object Object]"===R&&(n=e.message)}if(this.logger.localInfoLog("PodTrigger","messageReceivedHandler","message-received:",n),this.emit("inner-message-received",{from:t,to:this.userId,msg:n}),this.emit("message-received",{from:t,to:this.userId,msg:n}),n&&n.command===SERVER_COMMAND.CMD_CLIPBOARD)return null==this||null===(r=this._clipboardAutoSyncHandler)||void 0===r||r.handleClipboardEvent(n),void(null==this||null===(i=this._clipboardHandler)||void 0===i||i.handleClipboardEvent(n));if(!n||n.command!==SERVER_COMMAND.CMD_START_LOCATION_REQUEST&&n.command!==SERVER_COMMAND.CMD_STOP_LOCATION_REQUEST)if(n&&n.command===SERVER_COMMAND.CMD_CAMERA_UPSTREAM)null==this||null===(o=this._localCameraHandler)||void 0===o||o.handleCameraEvent(n);else if(n&&n.command===SERVER_COMMAND.CMD_AUD_UPSTREAM)null==this||null===(s=this._localAudioHandler)||void 0===s||s.handleAudioEvent(n);else if(n&&n.command===SERVER_COMMAND.CMD_GAME_OVERDUE)null==this||null===(l=this._commonHandler)||void 0===l||l.handleErrorEvent(n);else if(!n||n.command!==SERVER_COMMAND.CMD_INPUT_START&&n.command!==SERVER_COMMAND.CMD_INPUT_SHOW&&n.command!==SERVER_COMMAND.CMD_INPUT_DESTROY&&n.command!==SERVER_COMMAND.CMD_TEXT_INPUT_CONTROL)if(n&&n.command===SERVER_COMMAND.CMD_MSG_CHANNEL)null==this||null===(c=this._veMessageHandler)||void 0===c||c.receiveVEMessage(n);else if(n&&n.command===SERVER_COMMAND.CMD_USERSTATUS)null==this||null===(d=this._backgroundHandler)||void 0===d||d.handleBackgroundEvent(n);else if(n&&n.command===SERVER_COMMAND.CMD_FOREGROUND_CHANGE_STATUS)this.isVePhone?null==this||null===(F=this._remoteAppBackgroundHandler)||void 0===F||F.handleAppsForegroundChangeStatus(n):null==this||null===(p=this._remoteAppBackgroundHandler)||void 0===p||p.handleGameForegroundChangeStatus(n);else if(n&&n.command===SERVER_COMMAND.CMD_USER_APP_FRAMEWORK_WARNING)null==this||null===(u=this._startWithFrameworkHandler)||void 0===u||u.handleWarningEvent(n);else{if(n&&n.command===SERVER_COMMAND.CMD_FOCUSED_WINDOW)return this.logger.localInfoLog("PodTrigger","messageReceivedHandler","server focused window:",n),this.logger.send("receiveFocusedWindowApp",{code:n.result,packageName:n.appPackageName,msg:""}),void this.emit("focused-window",{code:n.result,packageName:n.appPackageName,msg:""});if(n&&n.command===SERVER_COMMAND.CMD_SHAKE_RESPONSE){this.logger.localInfoLog("PodTrigger","messageReceivedHandler","server shake response: ",n);var _=n.data||n.result||{};return this.logger.send("receiveShakeResponse",_),void this.emit("shake-response",_)}if(n&&n.command===SERVER_COMMAND.CMD_SCREENRECORD_RESPONSE)this._screenRecordHandler.handleResponse(n);else if(n&&n.command===SERVER_COMMAND.CMD_FILE_CHANNEL)null===(U=this.handlers.TosFileChannelHandler)||void 0===U||U.handleResponse(n);else if(n&&n.command===SERVER_COMMAND.CMD_KEYBOARD_ENABLE_RESULT)this._keyboardDisableHandler.handleResponse(n);else{if(n&&n.command===SERVER_COMMAND.CMD_DISLAY_POLICY){var S,B;this.logger.localInfoLog("PodTrigger","messageReceivedHandler","navbarStatus response: ",n);var m={status:null===(S=n)||void 0===S?void 0:S.status,reason:null===(B=n)||void 0===B?void 0:B.reason};return this.logger.send("on-navbar-status",m),void this.emit("on-navbar-status",m)}if(n&&n.command===SERVER_COMMAND.CMD_KEYCODE_TYPE){var f,E,v=_objectSpread2({},null===(f=n)||void 0===f?void 0:f.data);if(0!==(null===(E=v)||void 0===E?void 0:E.code)){var y,g,T,V=POD_WARNING.WARNING_NATIVE_IME_DISABLED,k=V.CODE,N=V.MESSAGE;0===(null===(y=v)||void 0===y?void 0:y.type)&&this._changeLocalKeyboardStatus(0),v={errorCode:k,message:N,oErrc:null===(g=v)||void 0===g?void 0:g.code,type:null===(T=v)||void 0===T?void 0:T.type}}return this.logger.send("onKeyboardChanged",v),void this.emit("on-keyboard-changed",v)}var b,C,J,W,D,Z;if(n&&n.command===SERVER_COMMAND.CMD_ORIENTATION_IND)null==this||null===(b=this._localKeyboardHandler)||void 0===b||b.handleRotationEvent(n),this.logger.localInfoLog("PodTrigger","messageReceivedHandler","message-orientation:  ",n),this.rotationDegree=n.orientation,this.emit("on-screen-rotation",{appOriginDirection:0===this.rotationDegree?"portrait":"landscape",streamDirection:"portrait"===this.rotationMode&&0!==n.orientation?"landscape":"portrait",uiDomRotation:null!==(C=null==this||null===(J=this.touchHandler)||void 0===J?void 0:J.degree)&&void 0!==C?C:0,fromPod:!0,type:null===(W=n)||void 0===W?void 0:W.rotation}),this._isRotationGameService&&(this.touchHandler.setRotation(n.orientation),this._updateVideoScale(),this.logger.send("phoneOrientationGameService",{rotation:n.orientation}));if(n&&n.command===SERVER_COMMAND.CMD_GENERAL_PURPOSE)this.emit("general-message-received",{from:t,to:this.userId,msg:null===(D=n)||void 0===D||null===(D=D.data)||void 0===D?void 0:D.payload});if(n&&n.command===SERVER_COMMAND.CMD_CAMERA_INJECT_STATUS)this.emit("on-camera-inject-status",_objectSpread2({},null===(Z=n)||void 0===Z?void 0:Z.data));if(n&&n.command===SERVER_COMMAND.CMD_USER_SET_FULL_SCREEN){var M,I=(null===(M=n)||void 0===M?void 0:M.data)||{},O=I.width,A=I.height,w=I.callUserId;this.emit("on-full-screen-state-changed",{width:O,height:A,callUserId:w}),this.touchHandler.setContentSize({width:O,height:A,enableScale:!0}),this.touchHandler.setStreamSize({streamWidth:O,streamHeight:A}),this.logger.send("onFullScreenStateChanged",{width:O,height:A,callUserId:w})}if(n&&n.command===SERVER_COMMAND.CMD_USER_NOTIFY_SCREEN_ATTRS){var x,P=(null===(x=n)||void 0===x?void 0:x.data)||{},L=P.width,G=P.height;this.emit("on-screen-attrs-notified",{width:L,height:G}),this.touchHandler.setContentSize({width:L,height:G,enableScale:!0}),this.touchHandler.setStreamSize({streamWidth:L,streamHeight:G}),this.logger.send("onScreenAttrsNotified",{width:L,height:G})}if(n&&n.command===SERVER_COMMAND.CMD_SYNCPOD_ROOM_STATE){var Y,H=(null===(Y=n)||void 0===Y?void 0:Y.data)||{},$=H.podType,j=H.roomState,X=H.podList;this.emit("on-sync-pod-room-state",{podType:$,roomState:j,podList:X}),this.logger.send("onSyncPodRoomState",{podType:$,roomState:j,podList:X})}if(n&&n.command===SERVER_COMMAND.CMD_INJECTION_CTRL){var K,z,q,ee=(null===(K=n)||void 0===K?void 0:K.data)||{},te=ee.enable,ne=ee.callUserId,re=ee.code,ie=ee.action,ae=ee.type,oe=[{emitName:"on-video-injection-state-changed",loggerName:"onVideoInjectionStateChanged"},{emitName:"on-audio-injection-state-changed",loggerName:"onAudioInjectionStateChanged"}];this.emit(null===(z=oe[ae])||void 0===z?void 0:z.emitName,{state:te,userId:ne,code:re,action:ie}),this.logger.send(null===(q=oe[ae||0])||void 0===q?void 0:q.loggerName,{state:te,userId:ne,code:re,action:ie,type:ae})}if(n&&n.command===SERVER_COMMAND.CMD_AUTO_RECYCLE_TIME){var se,le=(null===(se=n)||void 0===se?void 0:se.data)||{},ce=le.current,de=le.callUserId,ue=le.action,Ue=le.result;this.emit("on-auto-recycle-time-changed",{userId:de,time:ce,action:ue,code:Ue}),this.logger.send("onAutoRecycleTimeChanged",{userId:de,time:ce,action:ue,code:Ue})}if(n&&n.command===SERVER_COMMAND.CMD_KEEP_ALIVE_TIME){var Fe,pe=(null===(Fe=n)||void 0===Fe?void 0:Fe.data)||{},Qe=pe.current,he=pe.callUserId,Re=pe.action,_e=pe.result;this.emit("on-idle-time-changed",{userId:he,time:Qe,action:Re,code:_e}),this.logger.send("onIdleTimeChanged",{userId:he,time:Qe,action:Re,code:_e})}if(n&&n.command===SERVER_COMMAND.CMD_CLARITY_INDEX){var Se,Be=(null===(Se=n)||void 0===Se?void 0:Se.data)||{},me=Be.current,fe=Be.callUserId,Ee=Be.from,ve=Be.action,ye=Be.result;this.emit("on-video-stream-profile-from-index",{from:Ee,current:me,result:ye,userId:fe,action:ve}),this.logger.send("onVideoStreamProfileFromIndex",{from:Ee,current:me,result:ye,userId:fe,action:ve})}}}else((new Date).getTime()-this.lastTouchTime<2e3||!this._isClusterControl)&&(null==this||null===(h=this._localKeyboardHandler)||void 0===h||h.handleInputMethodEvent(n)),null==this||null===(Q=this._localKeyboardHandler)||void 0===Q||Q.handleInputMethodEvent(n);else null==this||null===(a=this._locationServiceHandler)||void 0===a||a.handleInputMethodEvent(n)}},{key:"_onReceiveBusinessMessage",value:function(e,t){if(e===PB_BUSINESS.SUBTYPES.Clipboard){var n,r,i={data:{clipData:t.clip_data}};return null===(n=this._clipboardAutoSyncHandler)||void 0===n||n.handleClipboardEvent(i),null===(r=this._clipboardHandler)||void 0===r||r.handleClipboardEvent(i),!0}var a,o,s,l;if(e===PB_BUSINESS.SUBTYPES.MsgBusinessOrientation)return null===(a=this._localKeyboardHandler)||void 0===a||a.handleRotationEvent(),this.logger.localInfoLog("PodTrigger","_onReceiveBusinessMessage","message-orientation:  ",JSON.stringify(t)),this._isRotationGameService&&(this.touchHandler.setRotation(t.orientation),this._updateVideoScale()),this.logger.send("onRemoteRotation",{rotation:t.orientation}),this.emit("on-screen-rotation",{rotation:t.orientation,fromPod:!0}),!0;if(e===PB_BUSINESS.SUBTYPES.Location)return t.fastestInterval=t.fastest_interval,t.packageName=t.package_name,t.numUpdates=t.num_updates,t.expireAt=t.expire_at,t.smallestDisplacement=t.smallest_displacement,null===(o=this._locationServiceHandler)||void 0===o||o.handleInputMethodEvent(t),!0;if(e===PB_BUSINESS.SUBTYPES.MsgBusinessBackgroundApp){if(0===t.action){var c,d,u={data:t};if(this.isVePhone)null===(c=this._remoteAppBackgroundHandler)||void 0===c||c.handleAppsForegroundChangeStatus(u);else null===(d=this._remoteAppBackgroundHandler)||void 0===d||d.handleGameForegroundChangeStatus(u)}return!0}if(e===PB_BUSINESS.SUBTYPES.MsgBusinessSessionClose){var U,F={data:{reason:t.reason,packageName:t.package_name}};return null===(U=this._commonHandler)||void 0===U||U.handleErrorEvent(F),!0}if(e===PB_BUSINESS.SUBTYPES.MsgBusinessMsgChannel){var p,Q={data:JSON.stringify(_objectSpread2(_objectSpread2({},t),{},{message:t.payload}))};return null===(p=this._veMessageHandler)||void 0===p||p.receiveVEMessage(Q),!0}if(e===PB_BUSINESS.SUBTYPES.MsgBusinessBinaryMsgChannel)return this._veMessageHandler.receiveVEBinaryMessage(t),!0;if(e===PB_BUSINESS.SUBTYPES.MsgBusinessFocusWindow){var h={result:t.result,appPackageName:t.package_name};return this.logger.localInfoLog("PodTrigger","_onReceiveBusinessMessage","server focused window:  ",JSON.stringify(h)),this.logger.send("receiveFocusedWindowApp",{code:h.result,packageName:h.appPackageName,msg:""}),this.emit("focused-window",{code:h.result,packageName:h.appPackageName,msg:""}),!0}return e===PB_BUSINESS.SUBTYPES.MsgBusinessShake?(this.logger.localInfoLog("PodTrigger","_onReceiveBusinessMessage","server shake response: ",JSON.stringify(t)),this.logger.send("receiveShakeResponse",t),this.emit("shake-response",t),!0):e===PB_BUSINESS.SUBTYPES.MsgBusinessScreenRecord?(this._screenRecordHandler.handleResponse({data:t}),!0):e===PB_BUSINESS.SUBTYPES.MsgBusinessFileChannel?(null===(s=this.handlers.TosFileChannelHandler)||void 0===s||s.handleResponse({data:{action:t.action,carries:readData(t.carries,["result","progress"])}}),!0):(e===PB_BUSINESS.SUBTYPES.UserStatus&&(null===(l=this._backgroundHandler)||void 0===l||l.handleBackgroundEvent({data:t})),!1)}},{key:"_onReceiveIMEMessage",value:function(e,t){if(e===PB_IME.SUBTYPES.MsgIMEControl){var n;if(3===t.type)this._keyboardDisableHandler.handleResponse({data:{enable:!!readSingle(t.is_allow)}});else null===(n=this._localKeyboardHandler)||void 0===n||n.handleInputMethodEvent({command:{0:SERVER_COMMAND.CMD_INPUT_START,1:SERVER_COMMAND.CMD_INPUT_SHOW,2:SERVER_COMMAND.CMD_INPUT_DESTROY}[t.type],currentText:t.current_text,data:{actionId:readSingle(t.action_id)},selectionStart:readSingle(t.selection_start),selectionEnd:readSingle(t.selection_end)});return!0}return!1}},{key:"binaryMessageReceviedHandler",value:function(e,t){var n=ProtoBufMessage.decodePBMessage(e.message);if(n){var r,i=ProtoBufMessage.protoRoot,a=n.type,o=n.subtype,s=n.msg;if(a===i.MsgType.MsgOutput&&o===i.MsgOutputType.MsgOutputCursorImage||a===i.MsgType.MsgOutput&&o===i.MsgOutputType.MsgOutputCursorVisibility)null===(r=this._systemCursorShowStatHandler)||void 0===r||r.handleMessage(n);else if(a===i.MsgType.MsgDevice&&o===i.MsgDeviceType.MsgDeviceControl){var l,c;if((null==s?void 0:s.type)===i.DeviceType.DeviceCamara)null===(l=this._localCameraHandler)||void 0===l||l.handleCameraPBEvent(n);else null===(c=this._localAudioHandler)||void 0===c||c.handleAudioPBEvent(n)}else if(a===i.MsgType.MsgRaw&&o===i.MsgRawType.MsgRawString||a===i.MsgType.MsgRaw&&o===i.MsgRawType.MsgRawBinary)o===i.MsgRawType.MsgRawString?this.emit("message",{userId:this.podUserId,text:s}):this.emit("message",{userId:this.podUserId,binary:s});else if(a===PB_MESSAGE.TYPES.MsgBusiness&&this._onReceiveBusinessMessage(o,s))this.logger.localInfoLog("PodTrigger","binaryMessageReceviedHandler","BusinessMessage part");else if(a===PB_MESSAGE.TYPES.MsgIME&&this._onReceiveIMEMessage(o,s))this.logger.localInfoLog("PodTrigger","binaryMessageReceviedHandler","IMEMessage part");else{var d,u;if(null!==(d=this._controlRightHandler)&&void 0!==d&&d.handleMessage(n))return;if(null!==(u=this._pcImeHandler)&&void 0!==u&&u.handleMessage(n))return;if(this.handlers.handleMessage(n))return;this.logger.localWarnLog("PodTrigger","binaryMessageReceviedHandler","未处理的消息: ",n)}}else this.logger.localWarnLog("PodTrigger","binaryMessageReceviedHandler","找不到pb协议定义")}},{key:"seiMessageReceviedHandler",value:function(e,t){return this._detectDelayHandler.handleDetectDelayMessage(e)}},{key:"_switchVideoStreamProfile",value:function(e){var t;return null===(t=this._videoStreamProfileHandler)||void 0===t?void 0:t.switchVideoStreamProfile(e)}},{key:"_getVideoStreamProfile",value:function(){var e;return null===(e=this._videoStreamProfileHandler)||void 0===e?void 0:e.getVideoStreamProfile()}},{key:"_switchBackground",value:function(e){var t;return null==this||null===(t=this._backgroundHandler)||void 0===t?void 0:t.switchBackground(e)}},{key:"_setFullScreenState",value:function(e,t){var n,r=t.fitMode;return null==this||null===(n=this._fullscreenHandler)||void 0===n?void 0:n.setFullScreenState(e,{fitMode:r})}},{key:"_setNavigationBarStatus",value:function(e){this.logger.send("setNavigationBarStatus",e);var t=MessageFactory$1.eventTypeDislayPolicy({action:0,status:e,displayContent:1});return this._sendCustomMessage(t)}},{key:"_getNavigationBarStatus",value:function(){var e=this;this.logger.send("getNavigationBarStatus");var t=MessageFactory$1.eventTypeDislayPolicy({action:1,displayContent:1});return new Promise((function(n,r){var i=START_ERROR.ERROR_SDK_GENERAL.CODE,a=START_ERROR.ERROR_SDK_GENERAL.MESSAGE;e._sendCustomMessage(t).then((function(){e.once("on-navbar-status",(function(e){(null==e?void 0:e.reason)!==DISLAY_POLICY_REASON.ERROR_PARAMETER?n({status:null==e?void 0:e.status}):r({reason:null==e?void 0:e.reason,status:null==e?void 0:e.status})}))})).catch((function(){r({errorCode:i,message:a})}))}))}},{key:"_setAudioSourceType",value:(d=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._localAudioHandler;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this._localAudioHandler.setAudioSourceType(t,n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"_startExternalAudioTrack",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._localAudioHandler;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this._localAudioHandler.startExternalAudioTrack(t,n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"_stopExternalAudioTrack",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._localAudioHandler;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this._localAudioHandler.stopExternalAudioTrack();case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"_startSendAudioStream",value:function(){var e;return null==this||null===(e=this._localAudioHandler)||void 0===e?void 0:e.startSendAudioStream()}},{key:"_stopSendAudioStream",value:function(){var e;return null==this||null===(e=this._localAudioHandler)||void 0===e?void 0:e.stopSendAudioStream()}},{key:"_getAudioPlaybackDeviceList",value:function(){var e;return null==this||null===(e=this._localAudioHandler)||void 0===e?void 0:e.getAudioPlaybackDeviceList()}},{key:"_setAudioPlaybackRoute",value:function(e){var t;return null==this||null===(t=this._localAudioHandler)||void 0===t?void 0:t.setAudioPlaybackDevice(e)}},{key:"_getAudioCaptureDeviceList",value:function(){var e;return null==this||null===(e=this._localAudioHandler)||void 0===e?void 0:e.getAudioCaptureDeviceList()}},{key:"_setAudioCaptureDevice",value:function(e){var t;return null==this||null===(t=this._localAudioHandler)||void 0===t?void 0:t.setAudioCaptureDevice(e)}},{key:"_getAudioPlaybackRoute",value:function(){var e;return null==this||null===(e=this._localAudioHandler)||void 0===e?void 0:e.getAudioPlaybackDevice()}},{key:"_getAudioCaptureDevice",value:function(){var e;return null==this||null===(e=this._localAudioHandler)||void 0===e?void 0:e.getAudioCaptureDevice()}},{key:"_setVideoSourceType",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._localCameraHandler;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this._localCameraHandler.setVideoSourceType(t,n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"_startExternalVideoTrack",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._localCameraHandler;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this._localCameraHandler.startExternalVideoTrack(t,n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"_stopExternalVideoTrack",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._localCameraHandler;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this._localCameraHandler.stopExternalVideoTrack();case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_startVideoStream",value:function(e){var t;return null==this||null===(t=this._localCameraHandler)||void 0===t?void 0:t.startVideoStream(e)}},{key:"_stopVideoStream",value:function(){var e;return null==this||null===(e=this._localCameraHandler)||void 0===e?void 0:e.stopVideoStream()}},{key:"_setVideoCaptureDevice",value:function(e){var t;return null==this||null===(t=this._localCameraHandler)||void 0===t?void 0:t.setVideoCaptureDevice(e)}},{key:"_getVideoPlaybackDeviceList",value:function(){var e;return null==this||null===(e=this._localCameraHandler)||void 0===e?void 0:e.getVideoPlaybackDeviceList()}},{key:"_getVideoCaptureDevice",value:function(){var e;return null==this||null===(e=this._localCameraHandler)||void 0===e?void 0:e.getVideoCaptureDevice()}},{key:"_setLocalVideoView",value:function(e){var t;return null==this||null===(t=this._localCameraHandler)||void 0===t?void 0:t.setLocalVideoView(e)}},{key:"_setVideoRotationMode",value:function(e){var t;return null==this||null===(t=this._localCameraHandler)||void 0===t?void 0:t.setVideoRotationMode(e)}},{key:"_setLocalVideoMirrorMode",value:function(e){var t;return null==this||null===(t=this._localCameraHandler)||void 0===t?void 0:t.setLocalVideoMirrorMode(e)}},{key:"_getLocalVideoMirrorMode",value:function(){var e;return null==this||null===(e=this._localCameraHandler)||void 0===e?void 0:e.getLocalVideoMirrorMode()}},{key:"_setVideoCaptureConfig",value:function(e){var t;return null==this||null===(t=this._localCameraHandler)||void 0===t?void 0:t.setVideoCaptureConfig(e)}},{key:"_setVideoEncoderConfig",value:function(e){var t;return null===(t=this._localCameraHandler)||void 0===t?void 0:t.setVideoEncoderConfig(e)}},{key:"_setReconnectTime",value:function(e){this.client&&(this.client.reconnectTime=e)}},{key:"_clickVirtualBtn",value:function(e){var t=MessageFactory$1.eventTypeKeyCustom({keycode:e,action:ACTION.DOWN}),n=MessageFactory$1.eventTypeKeyCustom({keycode:e,action:ACTION.UP});this._sendCustomMessage(t),this._sendCustomMessage(n)}},{key:"_setToHomePage",value:function(){return this._clickVirtualBtn(KEYCODE.KEYCODE_HOME)}},{key:"_setBackToPreviousPage",value:function(){return this._clickVirtualBtn(KEYCODE.KEYCODE_BACK)}},{key:"_setToRecentAppPage",value:function(){return this._clickVirtualBtn(KEYCODE.KEYCODE_MENU)}},{key:"_screenShot",value:function(e){var t;return null==this||null===(t=this._screenShotHandler)||void 0===t?void 0:t.screenShot(e)}},{key:"_startRecording",value:function(e,t){var n;return null==this||null===(n=this._screenRecordHandler)||void 0===n?void 0:n.startRecording(e,t)}},{key:"_stopRecording",value:function(){var e;return null==this||null===(e=this._screenRecordHandler)||void 0===e?void 0:e.stopRecording()}},{key:"_sendSensorDataToGame",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0};return this.logger.send("sensorMessage",{type:e,data:n}),new Promise((function(r,i){t._sendCustomMessage(MessageFactory$1.eventTypeSensors(e,[n.x,n.y,n.z])).then((function(){r()})).catch((function(){i()}))}))}},{key:"_sendShakeEventToGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1800;return this.logger.send("shakeEvent",{duration:t}),new Promise((function(n,r){var i=MessageFactory$1.eventShakeEvent(t);e._sendCustomMessage(i).then((function(){n()})).catch((function(){r()}))}))}},{key:"_getFocusedWindowApp",value:function(){this.logger.send("getFocusedWindowApp",{uid:this.podUserId});var e=MessageFactory$1.eventGetFocusedWindow({uid:this.podUserId});this._sendCustomMessage(e)}},{key:"_setSystemCursorShowStatControlKey",value:function(e){var t;return null==this||null===(t=this._systemCursorShowStatHandler)||void 0===t?void 0:t.setSystemCursorShowStatControlKey(e)}},{key:"_setSystemCursorShowStat",value:function(e){var t;return null==this||null===(t=this._systemCursorShowStatHandler)||void 0===t?void 0:t.setSystemCursorShowStat(e)}},{key:"_setSystemCursorSensitivity",value:function(e){var t;return null==this||null===(t=this._systemCursorShowStatHandler)||void 0===t?void 0:t.setSystemCursorSensitivity(e)}},{key:"_updateVideoRenderMode",value:function(e){var t;null===(t=this.client)||void 0===t||t.updateVideoRenderMode(e),this.touchHandler&&(this.touchHandler.videoRenderMode=e),this._updateVideoScale()}},{key:"_destroyHandler",value:function(){var e,t;(this._screenLockHandler&&(this._screenLockHandler.destroy(),this._screenLockHandler=null),this._locationServiceHandler&&this._locationServiceHandler.destroy(),this._localKeyboardHandler&&this._localKeyboardHandler.reset(),this._detectDelayHandler&&this._detectDelayHandler.stop(),this._mediaProvider===COMMUNICATION_MODE.RTC)&&(null===(e=this._localCameraHandler)||void 0===e||e.stop(),null===(t=this._localAudioHandler)||void 0===t||t.stop())}},{key:"_destroy",value:function(){var e=this;return this.logger.send("destroy"),new Promise((function(t,n){var r,i,a,o,s,l=null===(r=e.client)||void 0===r?void 0:r.getConnectionState();(null===(i=e._localKeyboardHandler)||void 0===i||i.destroy(),null===(a=e._fullscreenHandler)||void 0===a||a.destroy(),null===(o=e._systemCursorShowStatHandler)||void 0===o||o.destroy(),e.isVePhone&&e._destroyDOM(e.containerDomId),e._destroyed=!0,l&&"DISCONNECTED"!==l)?e._stop().then((function(){var n;null===(n=e.client)||void 0===n||n.destroy(),e.touchHandler.destroy(),e.logger.destroy(),e._removeResizeMonitor(),e.handlers.destroy(),t(!0),e.logger.destroy()})).catch(n):(null===(s=e.client)||void 0===s||s.destroy(),e.remoteMessager=null,e.touchHandler.destroy(),e.logger.destroy(),e._removeResizeMonitor(),e.handlers.destroy(),t(!0))}))}},{key:"_changeRole",value:function(e){var t;return this.logger.send("changeRole",e),null==this||null===(t=this._controlRightHandler)||void 0===t?void 0:t.changeRole(e)}},{key:"_enableControl",value:function(e,t){var n;return null===(n=this._controlRightHandler)||void 0===n?void 0:n.enableControl(e,t)}},{key:"_hasControl",value:function(e){var t;return null===(t=this._controlRightHandler)||void 0===t?void 0:t.hasControl(e)}},{key:"_getAllControls",value:function(){var e;return null===(e=this._controlRightHandler)||void 0===e?void 0:e.getAllControls()}},{key:"_startVideoPlay",value:function(e,t){this.logger.send("startVideoPlay",{fiilePath:e,mode:t});var n=MessageFactory$1.eventTypeVideoPlayInject({action:1,path:e,mode:t});return this._sendCustomMessage(n)}},{key:"_stopVideoPlay",value:function(){this.logger.send("stopVideoPlay");var e=MessageFactory$1.eventTypeVideoPlayInject({action:0});return this._sendCustomMessage(e)}},{key:"_getVideoStatus",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.send("getVideoStatus"),t=MessageFactory$1.eventTypeVideoPlayInject({action:2}),e.abrupt("return",this._sendCustomMessageWithReturn({message:t,jsonCmd:SERVER_COMMAND.CMD_CAMERA_INJECT_STATUS}).then((function(e){var t;return Promise.resolve(null==e||null===(t=e.data)||void 0===t?void 0:t.data)})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_setKeyboardStyle",value:function(e){var t=this;this.logger.send("setKeyboardType",{keyboard:e});var n="pod"===e?0:1;this._changeLocalKeyboardStatus(n);var r=MessageFactory$1.eventTypeKeyboardChange({keyboard:e,action:1});return this._sendCustomMessageWithReturn({message:r,jsonCmd:SERVER_COMMAND.CMD_KEYCODE_TYPE}).then((function(e){return new Promise((function(r,i){var a,o=null==e||null===(a=e.data)||void 0===a?void 0:a.data;if(0===(null==o?void 0:o.code))r({action:null==o?void 0:o.action,type:null==o?void 0:o.type});else{var s=POD_WARNING.WARNING_NATIVE_IME_DISABLED,l=s.CODE,c=s.MESSAGE;0===(null==o?void 0:o.type)&&1===n&&t._changeLocalKeyboardStatus(0),i({errorCode:l,message:c,oErrc:null==o?void 0:o.code,type:null==o?void 0:o.type})}}))}))}},{key:"_getKeyboardStyle",value:function(){this.logger.send("getKeyboardType");var e=MessageFactory$1.eventTypeKeyboardChange({action:2});return this._sendCustomMessageWithReturn({message:e,jsonCmd:SERVER_COMMAND.CMD_KEYCODE_TYPE}).then((function(e){var t;return Promise.resolve(null==e||null===(t=e.data)||void 0===t?void 0:t.data)}))}},{key:"_enableFullScreen",value:function(e){var t=this,n=document.getElementById(this.containerDomId),r={width:n.clientWidth,height:n.clientHeight},i=e?r:this._remoteWindowSize,a=i.width,o=i.height;this.logger.send("enableFullScreen",{enable:e,width:a,height:o});var s=MessageFactory$1.eventTypeEnableFullScreen({enable:e,width:a,height:o});return this._sendCustomMessageWithReturn({message:s,jsonCmd:SERVER_COMMAND.CMD_USER_SET_FULL_SCREEN}).then((function(e){return new Promise((function(n,r){var i;t._updateVideoScale();var a=(null==e||null===(i=e.data)||void 0===i?void 0:i.data)||{};n({width:a.width,height:a.height,callUserId:a.callUserId})}))}))}},{key:"_setClusterControl",value:function(e){this._isClusterControl=e}},{key:"_setAudioInjectionState",value:function(e){this.logger.send("setAudioInjectionState",{enable:e});var t=MessageFactory$1.eventTypeInjectionCtrl({enable:e,action:0,type:1});return this._sendCustomMessage(t)}},{key:"_getAudioInjectionState",value:function(){var e=MessageFactory$1.eventTypeInjectionCtrl({action:1,type:1});return this._sendCustomMessageWithReturn({message:e,jsonCmd:SERVER_COMMAND.CMD_INJECTION_CTRL}).then((function(e){var t,n=(null==e||null===(t=e.data)||void 0===t?void 0:t.data)||{},r=n.enable,i=n.code,a=n.msg;return Promise.resolve(_objectSpread2({state:r,enable:r,code:i},0!==i&&{msg:a}))}))}},{key:"_setVideoInjectionState",value:function(e){this.logger.send("setVideoInjectionState",{enable:e});var t=MessageFactory$1.eventTypeInjectionCtrl({enable:e,action:0,type:0});return this._sendCustomMessage(t)}},{key:"_getVideoInjectionState",value:function(){var e=MessageFactory$1.eventTypeInjectionCtrl({action:1,type:0});return this._sendCustomMessageWithReturn({message:e,jsonCmd:SERVER_COMMAND.CMD_INJECTION_CTRL}).then((function(e){var t,n=(null==e||null===(t=e.data)||void 0===t?void 0:t.data)||{},r=n.enable,i=n.code,a=n.msg;return Promise.resolve(_objectSpread2({state:r,enable:r,code:i},0!==i&&{msg:a}))}))}},{key:"virtualKeyboard",get:function(){return this.handlers.VirtualKeyboardHandler}},{key:"batchEventSyncHandler",get:function(){return this._batchEventSyncHandler}},{key:"_updateExpireTime",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!Number.isInteger(n)||n<1||n>172800)){e.next=2;break}return e.abrupt("return",Promise.reject({errorCode:START_ERROR.ERROR_SDK_GENERAL.CODE,message:"expireTime invalid"}));case 2:return this._isAutoRefreshToken=!1,i=[{PodId:this._podId,RoomId:this._roomId,ReserveId:this._reservedId,ExpireDuration:n,StreamProvider:this._mediaProvider}],e.next=6,this._getMediaToken(t,i);case 6:return a=e.sent,o=null===(r=a[0])||void 0===r?void 0:r.Token,e.abrupt("return",this.client._client.updateToken(o));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_getMediaToken",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GetMediaToken({phoneHost:this.phoneHost,token:t,productId:this.store.productId,userId:this.userId,mediaList:n},this.logger);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}]);var n,r,i,a,o,s,l,c,d,u,U}(HandlerCore);function logAop(e){e.isTestable=!0;var t,n=_createForOfIteratorHelper$1(Reflect.ownKeys(e.prototype).filter((function(e){return"constructor"!==e})));try{var r=function(){var n=t.value,r=e.prototype[n];e.prototype[n]=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.LOGGER.localInfoLog("ClientTrigger",n,i),r.apply(this,i)}};for(n.s();!(t=n.n()).done;)r()}catch(err2){n.e(err2)}finally{n.f()}}function getUrlQuery(e){var t={};if(/\?/g.test(e))for(var n=e.substr(e.indexOf("?")+1).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");t[i[0]]=i[1]||"0"}return t}Player.MODE=MODE,Player.ACTION=ACTION,Player.KEYCODE=KEYCODE,Player.MOUSE_BUTTON=MOUSE_BUTTON,Player.GAMEPAD_BUTTON=GAMEPAD_BUTTON,Player.NETWORK_QUALITY=NetworkHandler.NetworkQuality,Player.use=usePlugin,Player.plugins=getPluginNames(),Player.setSdkType=setSdkType,Player.onOrientationChange=orientationChange,Player.getDeviceId=getDeviceId,Player.setDeviceId=setDeviceId,Player.__RTC_BLACK_LIST__=RTC_BLACK_LIST,Player.isSupported=isSupportedStatic,Player.isSocketSupported=isSocketSupported,Player.isRtcSupported=isRtcSupported,Player.isWebTSSupported=isWebTSSupport,Player.isH265Supported=isH265Support;var Stage=function(e){return e[e.ALL=0]="ALL",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.PodTrigger=3]="PodTrigger",e[e.Reconnect=4]="Reconnect",e[e.Stopped=5]="Stopped",e[e.ClientTrigger=6]="ClientTrigger",e}(Stage||{}),Logger=function(){return _createClass$1((function e(){_classCallCheck$1(this,e),this.state={colorGroup:{1:"#cf1322",2:"#ffc069",3:"#237804",4:"#595959",36:"#0958d9"}}}),[{key:"getTime",value:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),i=e.getMilliseconds();return"".concat(t,":").concat(n,":").concat(r,":").concat(i)}},{key:"print",value:function(e,t,n,r){var i,a,o,s,l=(null===(i=this.state.colorGroup)||void 0===i?void 0:i[e])||(null===(a=this.state.colorGroup)||void 0===a?void 0:a[4]);3===e&&"ClientTrigger"===t&&(l=null===(s=this.state.colorGroup)||void 0===s?void 0:s[36]);(o=console).log.apply(o,["%c".concat(this.getTime(),"~").concat(n),"color:".concat(l,";")].concat(_toConsumableArray(r)))}},{key:"getLocalShowGroup",value:function(){var e,t,n=[""],r=[""],i=!1,a=getUrlQuery(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.href);if(null!=a&&a._vegame_debuglog){var o,s;if(i=!0,null!=a&&a._vegame_debuglog_level)n=null==a||null===(o=a._vegame_debuglog_level)||void 0===o?void 0:o.split("_");if(null!=a&&a._vegame_debuglog_stage)r=null==a||null===(s=a._vegame_debuglog_stage)||void 0===s?void 0:s.split("_")}if(null!==(t=sessionStorage)&&void 0!==t&&t.getItem("_vegame_debuglog")){var l,c,d,u;if(i=!0,null!==(l=sessionStorage)&&void 0!==l&&l.getItem("_vegame_debuglog_level"))n=null===(d=sessionStorage)||void 0===d||null===(d=d.getItem("_vegame_debuglog_level"))||void 0===d?void 0:d.split("_");if(null!==(c=sessionStorage)&&void 0!==c&&c.getItem("_vegame_debuglog_stage"))r=null===(u=sessionStorage)||void 0===u||null===(u=u.getItem("_vegame_debuglog_stage"))||void 0===u?void 0:u.split("_")}return{logShowFlag:i,levelList:n,stageList:r}}},{key:"localLog",value:function(e,t,n,r){var i=this.getLocalShowGroup();if(null!=i&&i.logShowFlag){if(!(null!=i&&i.levelList.includes("0")||null!=i&&i.levelList.includes("")||null!=i&&i.levelList.includes("".concat(e))))return!1;if(null!=i&&i.levelList.includes("")&&"4"==e)return!1;if(!(null!=i&&i.stageList.includes("0")||null!=i&&i.stageList.includes("")||null!=i&&i.stageList.includes("".concat(Stage[t]))))return!1;this.print(e,t,"[".concat(e,"][").concat(t,"](").concat(n,") "),r)}}},{key:"localWarnLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(2,e,t,r)}},{key:"localErrorLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(1,e,t,r)}},{key:"localInfoLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(3,e,t,r)}},{key:"localTraceLog",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.localLog(4,e,t,r)}}])}(),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=function(e,t,n,r){for(var i,a=r>1?void 0:r?__getOwnPropDesc(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&__defProp(t,n,a),a};setSdkType("vePhone");var vePhoneSDK$1=function(e){function t(e){return _classCallCheck$1(this,t),_callSuper(this,t,[_objectSpread2(_objectSpread2({mode:MODE.CLOUD_PHONE},e),{},{isVePhone:!0,needConnectFileChannel:!1})])}return _inherits(t,e),_createClass$1(t,[{key:"checkSystemRequirements",value:function(){var e=!1;return["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(t){e||window&&t in window&&(e=!0)})),e}},{key:"getVersion",value:function(){return"1.59.2"}},{key:"getStats",value:function(){return this._getStats()}},{key:"getConnectionState",value:function(){return this._getConnectionState()}},{key:"getDeviceId",value:function(){return this._getDeviceId()}},{key:"isAudioPlaying",value:function(){return!!this.streamMessager&&this.streamMessager.isAudioPlaying()}},{key:"setOptions",value:function(e){this._setOptions(e)}},{key:"getDebugInfo",value:function(){return this._getDebugInfo()}},{key:"setIdleTime",value:function(e){return this._setKeepAliveTime(e)}},{key:"getIdleTime",value:function(){return this._getKeepAliveTime()}},{key:"volumeUp",value:function(){this._setGameAudioVolumeUp()}},{key:"volumeDown",value:function(){this._setGameAudioVolumeDown()}},{key:"setGameAudioVolumeUp",value:function(){this._setGameAudioVolumeUp()}},{key:"setGameAudioVolumeDown",value:function(){this._setGameAudioVolumeDown()}},{key:"setLocalAudioPlaybackVolume",value:function(e){this._setLocalAudioPlaybackVolume(e)}},{key:"getLocalAudioPlaybackVolume",value:function(){return this._getLocalAudioPlaybackVolume()}},{key:"setAutoRecycleTime",value:function(e){return this._setAutoRecycleTime(e)}},{key:"getAutoRecycleTime",value:function(){return this._getAutoRecycleTime()}},{key:"setRemoteLocationMock",value:function(e){return this._setRemoteLocationMock(e)}},{key:"enableLocationService",value:function(e){this._enableLocationService(e)}},{key:"isLocationServiceEnabled",value:function(){return this._isLocationServiceEnabled()}},{key:"setLocationServiceMode",value:function(e){this._setLocationServiceMode(e)}},{key:"getLocationServiceMode",value:function(){return this._getLocationServiceMode()}},{key:"getRemoteBackgroundAppList",value:function(){return this._getRemoteBackgroundAppList()}},{key:"setRemoteAppForeground",value:function(e){return this._setRemoteAppForeground(e)}},{key:"start",value:function(e){return this._start(e)}},{key:"restart",value:function(){return this._restart()}},{key:"startRTC",value:function(e){return this._startRTC(e)}},{key:"playByInteraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._playByInteraction(e)}},{key:"monitorPod",value:function(e){return this._monitorPod(e)}},{key:"stop",value:function(){return this._stop(!0)}},{key:"pause",value:function(){return this._pauseOrResume(!0)}},{key:"resume",value:function(){return this._pauseOrResume(!1)}},{key:"rotateCoordinate",value:function(e){this._rotateCoordinate(e)}},{key:"rotateScreen",value:function(e,t){this._rotateScreen(e,t)}},{key:"rotate",value:function(e){this._rotate(e)}},{key:"setAudioMute",value:function(e){return this._setAudioMute(e)}},{key:"muteAudio",value:function(e){return this._muteAudio(e)}},{key:"isAudioMuted",value:function(){return this._isAudioMuted()}},{key:"muteVideo",value:function(e){return this._muteVideo(e)}},{key:"isVideoMuted",value:function(){return this._isVideoMuted()}},{key:"playAudio",value:function(){this._playAudio()}},{key:"closeApp",value:function(e){this._closeApp(e)}},{key:"launchApp",value:function(e){this._launchApp(e)}},{key:"sendMessage",value:function(e){var t=e.message,n=e.needAck,r=e.timeout,i=e.destUserId;return this._sendVEMessage({message:t,needAck:n,timeout:r,destUserId:i})}},{key:"sendClipBoardMessage",value:function(e){return this._sendClipBoardMessage(e)}},{key:"sendCustomMessage",value:function(e){return this._sendCustomMessage(e)}},{key:"sendTouchMessage",value:function(e){return this._sendTouchMessage(e)}},{key:"sendKeycodeMessage",value:function(e){return this._sendKeycodeMessage(e)}},{key:"sendMouseMessage",value:function(e){this._sendMouseMessage(e)}},{key:"enableLocalAudio",value:function(){return this._enableLocalAudio()}},{key:"disableLocalAudio",value:function(){return this._disableLocalAudio()}},{key:"setVideoStreamProfileId",value:function(e){return this._switchVideoStreamProfile(e)}},{key:"switchVideoStreamProfile",value:function(e){return this._switchVideoStreamProfile(e)}},{key:"getVideoStreamProfileId",value:function(){return this._getVideoStreamProfile()}},{key:"switchBackground",value:function(e){return this._switchBackground(e)}},{key:"setFullScreenState",value:function(e,t){return this._setFullScreenState(e,t)}},{key:"setAudioSourceType",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setAudioSourceType(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"startExternalAudioTrack",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._startExternalAudioTrack(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"stopExternalAudioTrack",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._stopExternalAudioTrack());case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"startSendAudioStream",value:function(){return this._startSendAudioStream()}},{key:"stopSendAudioStream",value:function(){return this._stopSendAudioStream()}},{key:"getAudioPlaybackDeviceList",value:function(){return this._getAudioPlaybackDeviceList()}},{key:"setAudioPlaybackDevice",value:function(e){return this._setAudioPlaybackRoute(e)}},{key:"getAudioCaptureDeviceList",value:function(){return this._getAudioCaptureDeviceList()}},{key:"setAudioCaptureDevice",value:function(e){return this._setAudioCaptureDevice(e)}},{key:"getAudioPlaybackDevice",value:function(){return this._getAudioPlaybackRoute()}},{key:"getAudioCaptureDevice",value:function(){return this._getAudioCaptureDevice()}},{key:"setVideoSourceType",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setVideoSourceType(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"startExternalVideoTrack",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._startExternalVideoTrack(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"stopExternalVideoTrack",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._stopExternalVideoTrack());case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"startVideoStream",value:function(){return this._startVideoStream()}},{key:"stopVideoStream",value:function(){return this._stopVideoStream()}},{key:"switchCamera",value:function(e){return this._setVideoCaptureDevice(e)}},{key:"getVideoPlaybackDeviceList",value:function(){return this._getVideoPlaybackDeviceList()}},{key:"getVideoCaptureDevice",value:function(){return this._getVideoCaptureDevice()}},{key:"setLocalVideoView",value:function(e){return this._setLocalVideoView(e)}},{key:"setVideoRotationMode",value:function(e){return this._setVideoRotationMode(e)}},{key:"setLocalVideoMirrorMode",value:function(e){return this._setLocalVideoMirrorMode(e)}},{key:"getLocalVideoMirrorMode",value:function(){return this._getLocalVideoMirrorMode()}},{key:"setVideoCaptureConfig",value:function(e){return this._setVideoCaptureConfig(e)}},{key:"setVideoEncoderConfig",value:function(e){return this._setVideoEncoderConfig(e)}},{key:"setReconnectTime",value:function(e){return this._setReconnectTime(e)}},{key:"setToHomePage",value:function(){return this._setToHomePage()}},{key:"setBackToPreviousPage",value:function(){return this._setBackToPreviousPage()}},{key:"setToRecentAppPage",value:function(){return this._setToRecentAppPage()}},{key:"screenShot",value:function(e){return this._screenShot(e)}},{key:"getFocusedWindowApp",value:function(){return this._getFocusedWindowApp()}},{key:"destroy",value:function(){return this._destroy()}},{key:"startRecording",value:function(e,t){return this._startRecording(e,t)}},{key:"stopRecording",value:function(){return this._stopRecording()}},{key:"startPushFile",value:function(e,t){var n=t.folder,r=t.name;return this.handlers.TosFileChannelHandler.startPushFile(e,{folder:n,name:r})}},{key:"stopPushFile",value:function(){return this.handlers.TosFileChannelHandler.stopPushFile()}},{key:"startPullFile",value:function(e){var t=e.folder,n=e.name,r=e.returnUrl,i=void 0!==r&&r;return this.handlers.TosFileChannelHandler.startPullFile({folder:t,name:n,returnUrl:i})}},{key:"stopPullFile",value:function(){return this.handlers.TosFileChannelHandler.stopPullFile()}},{key:"setReturnUrl",value:function(e){return this.handlers.TosFileChannelHandler.setReturnUrl(e)}},{key:"sendShakeEventToGame",value:function(e){return this._sendShakeEventToGame(e)}},{key:"setNavBarStatus",value:function(e){return this._setNavigationBarStatus(e)}},{key:"getNavBarStatus",value:function(){return this._getNavigationBarStatus()}},{key:"updateVideoRenderMode",value:function(e){return this._updateVideoRenderMode(e)}},{key:"changeLocalKeyboardStatus",value:function(e){return this._changeLocalKeyboardStatus(e)}},{key:"startVideoPlay",value:function(e,t){return this._startVideoPlay(e,t)}},{key:"stopVideoPlay",value:function(){return this._stopVideoPlay()}},{key:"getVideoStatus",value:function(){return this._getVideoStatus()}},{key:"enableControl",value:function(e,t){return this._enableControl(e,t)}},{key:"hasControl",value:function(e){return this._hasControl(e)}},{key:"getAllControls",value:function(){return this._getAllControls()}},{key:"setKeyboardStyle",value:function(e){return this._setKeyboardStyle(e)}},{key:"getKeyboardStyle",value:function(){return this._getKeyboardStyle()}},{key:"enableFullScreen",value:function(e){return this._enableFullScreen(e)}},{key:"setClusterControl",value:function(e){return this._setClusterControl(e)}},{key:"setAudioInjectionState",value:function(e){return this._setAudioInjectionState(e)}},{key:"getAudioInjectionState",value:function(){return this._getAudioInjectionState()}},{key:"setVideoInjectionState",value:function(e){return this._setVideoInjectionState(e)}},{key:"getVideoInjectionState",value:function(){return this._getVideoInjectionState()}},{key:"renewSessionId",value:function(){return this._renewSessionId()}},{key:"updateExpireTime",value:function(e,t){return this._updateExpireTime(e,t)}}],[{key:"setSdkType",value:function(){_superPropGet(t,"setSdkType",this,2)(["vePhone"])}}]);var n,r,i,a,o,s}(Player);vePhoneSDK$1.MODE=MODE,vePhoneSDK$1.ACTION=ACTION,vePhoneSDK$1.KEYCODE=KEYCODE,vePhoneSDK$1.MOUSE_BUTTON=MOUSE_BUTTON,vePhoneSDK$1.GAMEPAD_BUTTON=GAMEPAD_BUTTON,vePhoneSDK$1.LOCATION_SERVICE_MODE=LOCATION_SERVICE_MODE,vePhoneSDK$1.STREAM_TYPE=STREAM_TYPE,vePhoneSDK$1.VIDEO_SOURCE_TYPE=VIDEO_SOURCE_TYPE,vePhoneSDK$1.AUDIO_SOURCE_TYPE=AUDIO_SOURCE_TYPE,vePhoneSDK$1.VIDEO_RENDER_MODE=VIDEO_RENDER_MODE,vePhoneSDK$1.LOGGER=new Logger,vePhoneSDK$1=__decorateClass([logAop],vePhoneSDK$1);var vePhoneSDK=vePhoneSDK$1;return vePhoneSDK}));
//# sourceMappingURL=index.umd.min.js.map
